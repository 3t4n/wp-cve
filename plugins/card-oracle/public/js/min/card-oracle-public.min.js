!function(b){"use strict";b(document).ready(function(){var t;let c=0;if(b(".card-oracle-ecabala").length){console.log("E-Cabala");var l=b(".card-oracle-card"),d=!1;let r=new Array;var n=b("div.data").data("positions");b("#card-oracle-cardsubmit").prop("disabled",!0),b("#readingsubmit").prop("hidden",!0),b("button.clicked").click(function(){if(!d){c++,t=this.value,console.log("Postions:"+n),b(".card-oracle-card-body").css("transition","transform 0s"),b(".card-oracle-card-body").css("-webkit-transition","transform 0s");for(var a=document.getElementsByClassName("card-oracle-back"),e=0;e<a.length;e++)a[e].classList.add("card-oracle-nohover"),console.log(a[e].className);b(this).closest(".card-oracle-card-body").toggleClass("is-flipped"),b(this).fadeOut(0),r.push(this.value),b("#card-oracle-picks").val(r.join()),d=!0,b("#card-oracle-cardsubmit").prop("disabled",!1)}}),b("#card-oracle-cardsubmit").click(function(){if(console.log("Count: "+c),console.log("ID: "+t),b(".card-oracle-card-body").css("transition","transform 0s"),b(".card-oracle-cards").children().prop("disabled",!1),b("#btn"+t).prop("disabled",!1),b("#btn"+t).toggle(),b("#card-body"+t).toggleClass("is-flipped"),b("#card-oracle-cardsubmit").prop("disabled",!0),c<n){d=!1;for(var a=document.getElementsByClassName("card-oracle-back"),e=0;e<a.length;e++)a[e].classList.remove("card-oracle-nohover");for(var r=0;r<l.length;r++){var o=Math.floor(Math.random()*l.length-1)+1,s=Math.floor(Math.random()*l.length-1)+1;l.eq(o).before(l.eq(s))}for(var i=0;i<l.length;i++)o=Math.floor(Math.random()*l.length-1)+1,s=Math.floor(Math.random()*l.length-1)+1,l.eq(o).before(l.eq(s))}else b("#readingsubmit").prop("hidden",!1),b("#card-oracle-cardsubmit").prop("hidden",!0),b(".card-oracle-cards").toggle(),b("#submitbuttondiv").hasClass("hiddenreadingsubmit")&&b("#readingsubmit").trigger("click")})}else{console.log("Standard");let a=new Array,e=new Array;var r=b("div.data").data("positions");b("#readingsubmit").prop("disabled",!0),b("li img").click(function(){void 0!==(t=b(this).data("value"))&&c<r&&(console.log("Card ID: "+t),c++,b(this).toggleClass("card-oracle-image-hidden"),b("#card"+t).toggleClass("card-oracle-image-hidden"),a.push(t),b(this).attr("data-reversed")&&e.push(t),b("#card-oracle-picks").val(a.join()),b("#reverse").val(e.join()),c==r&&(b(".btn-block").show(),b(".btn-block").css("opacity","1"),b("#readingsubmit").click(),b("#readingsubmit").prop("disabled",!1),b("#submitbuttondiv").hasClass("hiddenreadingsubmit")&&b("#readingsubmit").trigger("click")))}),b("button.clicked").click(function(){b(".card-oracle-card-body").css("transition","transform .5s"),b(".card-oracle-card-body").css("-webkit-transition","transform .5s"),c<r&&(c++,b(this).closest(".card-oracle-card-body").toggleClass("is-flipped"),b(this).fadeOut(80),a.push(this.value),b(this).attr("data-value")&&(e.push(this.value),console.log(this.value)),b("#card-oracle-picks").val(a.join()),b("#reverse").val(e.join()),c==r&&(b(".btn-block").show(),b(".btn-block").css("opacity","1"),b("#readingsubmit").prop("disabled",!1),b("#submitbuttondiv").hasClass("hiddenreadingsubmit")&&b("#readingsubmit").trigger("click")))}),b("#card-oracle-question").on("submit",function(a){console.log("Submit button clicked")}),b("#reading-send").click(function(a){a.preventDefault(),b.post(b("#ajax_url").val(),{action:"send_reading_email",email:b("#emailaddress").val(),emailcontent:b("#emailcontent").val(),subscribe:b("#card-oracle-subscribe").is(":checked")?"true":"false",security:b("#_wpnonce").val(),readingid:b("#readingid").val()},function(a){b(".card-oracle-response").html(a.data),b("#emailaddress").val(""),console.log(a)})})}})}(jQuery);