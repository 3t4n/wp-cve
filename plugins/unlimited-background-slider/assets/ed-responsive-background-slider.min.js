/*jquery.mb.bgndGallery 08-06-2016
 _ jquery.mb.components 
 _ email: matteo@open-lab.com 
 _ Copyright (c) 2001-2016. Matteo Bicocchi (Pupunzi); 
 _ blog: http://pupunzi.open-lab.com 
 _ Open Lab s.r.l., Florence - Italy 
 */
function mbBgndGallery(e){return jQuery.mbBgndGallery.buildGallery(e)}function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+t:e}function setFilter(e,t,r){var i=uncamel(t),n=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[n+"filter"]=e[n+"filter"]||"",r=setUnit(r>jQuery.CSS.filters[t].max?jQuery.CSS.filters[t].max:r,jQuery.CSS.filters[t].unit),e[n+"filter"]+=i+"("+r+") ",delete e[t]}!function(e){e.mbBgndGallery={name:"mb.bgndGallery",author:"Matteo Bicocchi",version:"1.9.5",build:"2459",clear:!1,defaults:{containment:"body",images:[],shuffle:!1,controls:null,effect:"fade",filter:null,timer:4e3,effTimer:5e3,raster:!0,folderPath:!1,autoStart:!0,grayScale:!1,activateKeyboard:!0,preserveTop:!1,preserveWidth:!1,placeHolder:"",thumbs:{folderPath:"",placeholder:""},onStart:function(){},onChange:function(e,t){},onPause:function(e){},onPlay:function(e){},onNext:function(e){},onPrev:function(e){}},buildGallery:function(t){var r={};e.extend(r,e.mbBgndGallery.defaults,t);var i=e(r.containment).get(0);i.opt=r,i.opt.galleryID=(new Date).getTime(),e.mbBgndGallery.el=i,i.opt.onStart&&i.opt.onStart(),i.opt.gallery=e("<div/>").attr({id:"bgndGallery_"+i.opt.galleryID}).addClass("mbBgndGallery");var n="body"==i.opt.containment?"fixed":"absolute",o={position:n,top:0,let:0,width:"100%",height:"100%",overflow:"hidden","-webkit-transform-style":"flat","-webkit-transform":"translateZ(0)","z-index":0};i.opt.gallery.css(o);var a=i.opt.containment;if("body"!=a&&""!=e(a).text().trim()){var s=e("<div/>").css({position:"absolute",minHeight:"100%",minWidth:"100%",zIndex:3});e(a).wrapInner(s),"static"==e(a).css("position")&&e(a).css("position","relative")}var l=e("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}).addClass(r.raster?"bgg_raster":"");i.opt.gallery.append(l),e(a).prepend(r.gallery),i.opt.folderPath&&0==i.opt.images.length&&(i.opt.images=e.loadFromSystem(i.opt.folderPath)),i.opt.shuffle&&(i.opt.images=e.shuffle(i.opt.images));var u=i.opt.images.length,p=0;e.mbBgndGallery.preload(i.opt.images[0],i),i.opt.gallery.on("imageLoaded."+i.opt.galleryID,function(){return p++,p==u?void i.opt.gallery.off("imageLoaded."+i.opt.galleryID):void e.mbBgndGallery.preload(i.opt.images[p],i)}),i.opt.imageCounter=0,e.mbBgndGallery.changePhoto(i.opt.images[i.opt.imageCounter],i),i.opt.autoStart||(i.opt.paused=!0,e(i.opt.gallery).trigger("paused")),i.opt.gallery.on("imageReady."+i.opt.galleryID,function(){i.opt.paused||(clearTimeout(i.opt.changing),e.mbBgndGallery.play(i))}),e(window).on("resize",function(){var t=e("img",i.opt.gallery);e.mbBgndGallery.checkSize(t,i)});var g=i.opt.controls;if(g){e(g).addClass("controls");var c=e(i.opt.controls).find(".counter");c.html(i.opt.imageCounter+1+" / "+i.opt.images.length),e.mbBgndGallery.buildControls(g,i),e(i.opt.containment).on("paused",function(){e(i.opt.controls).find(".play").show(),e(i.opt.controls).find(".pause").hide()}),e(i.opt.containment).on("play",function(){e(i.opt.controls).find(".play").hide(),e(i.opt.controls).find(".pause").show()})}return i.opt.activateKeyboard&&e.mbBgndGallery.keyboard(i),e.mbBgndGallery.buildThumbs(i),e(i)},preload:function(t,r){if(e.mbBgndGallery.clear)return void r.opt.gallery.remove();e("<img/>").load(function(){r.opt.gallery.trigger("imageLoaded."+r.opt.galleryID)}).attr("src",t)},checkSize:function(t,r){return t&&!e.mbBgndGallery.changing?e.mbBgndGallery.clear?void r.opt.gallery.remove():t.each(function(){var t=e(this),i=t.attr("w"),n=t.attr("h"),o="body"==r.opt.containment?window:r.opt.containment,a=i/n,s=e(o).width()/e(o).height();a>=s?(t.css("height","100%"),t.css("width","auto")):(t.css("width","100%"),t.css("height","auto")),t.css("margin-left",(e(o).width()-t.width())/2),r.opt.preserveTop||t.css("margin-top",(e(o).height()-t.height())/2),r.opt.preserveWidth&&t.css({width:"100%",height:"auto",left:0,marginLeft:0})}):void 0},changePhoto:function(t,r){if(!document.hasFocus())return void e(window).one("focus",function(){e.mbBgndGallery.changePhoto(t,r)});if(e.mbBgndGallery.clear)return void r.opt.gallery.remove();e.mbBgndGallery.buildThumbs(r),r.opt.thumbs.folderPath.trim().length>0&&r.opt.thumbs.placeholder.trim().length>0&&(e(".sel",e(r.opt.thumbs.placeholder)).removeClass("sel"),e("#mbBgImg_"+r.opt.imageCounter).addClass("sel")),e.mbBgndGallery.changing=!0,clearTimeout(r.opt.changing),r.opt.onChange&&r.opt.onChange(r.opt,r.opt.imageCounter);var i=e("<img/>").hide().load(function(){var t=e(this),i=e("<div/>").css({position:"absolute",top:-5e3});i.append(t),e("body").append(i),t.attr("w",t.width()),t.attr("h",t.height()),i.remove(),r.opt.effect="object"==typeof r.opt.effect?r.opt.effect:e.mbBgndGallery.effects[r.opt.effect],e("img",r.opt.gallery).CSSAnimate(r.opt.effect.exit,r.opt.effTimer,0,r.opt.effect.exitTiming,function(){e(this).length&&e(this).remove()}),t.css({position:"absolute"}),r.opt.gallery.css({"-webkit-backface-visibility":"none","-webkit-transform-style":"preserve-3d","-webkit-perspective":1e3}),r.opt.gallery.append(t),e.mbBgndGallery.changing=!1,e.mbBgndGallery.checkSize(t,r);var n={};for(var o in r.opt.effect.enter)n[o]=0;r.opt.filter&&!e.browser.mozilla&&e.extend(n,r.opt.filter),n.opacity=1,n.scale=1,t.css3(r.opt.effect.enter).show().CSSAnimate(n,r.opt.effTimer,0,r.opt.effect.enterTiming,function(){r.opt.gallery.trigger("imageReady."+r.opt.galleryID)})}).attr("src",t);i.error(function(){var t=e(this);t.attr("src",r.opt.placeHolder)});var n=e(r.opt.controls).find(".counter");n.html(r.opt.imageCounter+1+" / "+r.opt.images.length)},play:function(t){t||(t=this.get(0)),clearTimeout(t.opt.changing);var r=e("img",t.opt.gallery).not(":last");return r.remove(),e.mbBgndGallery.clear?void t.opt.gallery.remove():(t.opt.onPlay&&t.opt.onPlay(t.opt),t.opt.changing=setTimeout(function(){t.opt.paused||(t.opt.onNext&&t.opt.onNext(t.opt),t.opt.imageCounter>=t.opt.images.length-1&&(t.opt.imageCounter=-1),t.opt.imageCounter++,e.mbBgndGallery.changePhoto(t.opt.images[t.opt.imageCounter],e(t.opt.containment).get(0)))},t.opt.paused?0:t.opt.timer),void t.opt.gallery.trigger("play"))},pause:function(t){return t||(t=this.get(0)),e.mbBgndGallery.clear?void t.opt.gallery.remove():(clearTimeout(t.opt.changing),t.opt.paused=!0,t.opt.gallery.trigger("paused"),void(t.opt.onPause&&t.opt.onPause(t.opt)))},next:function(t){return t||(t=this.get(0)),e.mbBgndGallery.clear?void t.opt.gallery.remove():(t.opt.onNext&&t.opt.onNext(t.opt),e.mbBgndGallery.pause(t),t.opt.imageCounter==t.opt.images.length-1&&(t.opt.imageCounter=-1),t.opt.imageCounter++,e.mbBgndGallery.changePhoto(t.opt.images[t.opt.imageCounter],t),void clearTimeout(t.opt.changing))},prev:function(t){return t||(t=this.get(0)),e.mbBgndGallery.clear?void t.opt.gallery.remove():(t.opt.onPrev&&t.opt.onPrev(t.opt),e.mbBgndGallery.pause(t),clearTimeout(t.opt.changing),0==t.opt.imageCounter&&(t.opt.imageCounter=t.opt.images.length),t.opt.imageCounter--,void e.mbBgndGallery.changePhoto(t.opt.images[t.opt.imageCounter],t))},loader:{show:function(){},hide:function(){}},keyboard:function(t){e(document).off("keydown.bgndGallery").on("keydown.bgndGallery",function(r){if(!(e(r.target).is("textarea")||e(r.target).is("input")||e(r.target).is("[contenteditable]")))switch(r.keyCode){case 32:t.opt.paused?(e.mbBgndGallery.play(t),t.opt.paused=!1):(t.opt.paused=!0,e.mbBgndGallery.pause(t)),r.preventDefault();break;case 39:e.mbBgndGallery.next(t),r.preventDefault();break;case 37:e.mbBgndGallery.prev(t),r.preventDefault()}})},buildControls:function(t,r){var i=e(t).find(".pause"),n=e(t).find(".play"),o=e(t).find(".next"),a=e(t).find(".prev"),s=e(t).find(".fullscreen");(e.browser.msie||e.browser.opera||"ontouchstart"in window)&&s.remove(),r.opt.autoStart&&n.hide(),i.on("click",function(){e.mbBgndGallery.pause(r),e(this).hide(),n.show()}),n.on("click",function(){r.opt.paused&&(clearTimeout(r.opt.changing),e.mbBgndGallery.play(r),r.opt.paused=!1)}),o.on("click",function(){e.mbBgndGallery.next(r),i.hide(),n.show()}),a.on("click",function(){e.mbBgndGallery.prev(r),i.hide(),n.show()}),s.on("click",function(){e.mbBgndGallery.runFullscreen(r)}),r.opt.activateKeyboard&&e.mbBgndGallery.keyboard(r)},changeGallery:function(t){var r=this.get(0);clearTimeout(r.opt.changing),r.opt.gallery.off("imageLoaded."+r.opt.galleryID),e.mbBgndGallery.pause(r),r.opt.gallery.fadeOut(),r.opt.images=t,r.opt.imageCounter=-1;var i=r.opt.images,n=i.length,o=0;e.mbBgndGallery.preload(i[o],r),r.opt.gallery.on("imageLoaded."+r.opt.galleryID,function(){return o==n?(r.opt.gallery.off("imageLoaded."+r.opt.galleryID),r.opt.gallery.fadeIn(),e.mbBgndGallery.play(r),void(r.opt.paused=!1)):(e.mbBgndGallery.preload(i[o],r),void o++)}),r.opt.thumbs.folderPath.trim().length>0&&r.opt.thumbs.placeholder.trim().length>0&&e.mbBgndGallery.buildThumbs(r)},changeEffect:function(t){e.mbBgndGallery.el.opt.effect=t},runFullscreen:function(t){function r(e,t){for(var r,i,n=["webkit","moz","ms","o",""],o=0;o<n.length&&!e[r];){if(r=t,""==n[o]&&(r=r.substr(0,1).toLowerCase()+r.substr(1)),r=n[o]+r,i=typeof e[r],"undefined"!=i)return n=[n[o]],"function"==i?e[r]():e[r];o++}}function i(e){r(e,"RequestFullScreen")}function n(){(r(document,"FullScreen")||r(document,"IsFullScreen"))&&r(document,"CancelFullScreen")}t||(t=this.get(0));var o=e.browser.mozilla?"mozfullscreenchange":e.browser.webkit?"webkitfullscreenchange":"fullscreenchange";if(e(document).off(o),e(document).on(o,function(){var i=r(document,"IsFullScreen")||r(document,"FullScreen");if(!i){t.isFullscreen=!1,e(".fullScreen_controls").remove(),e(t.opt.containment).is("body")||e(t.opt.containment).css({width:t.width,height:t.height,top:t.top,left:t.left,position:t.position}),t.opt.gallery.css({background:"transparent"});var n=e("#bgndGallery_"+t.opt.galleryID+" img:first")}e.mbBgndGallery.checkSize(n,t)}),t.isFullscreen)n();else{t.isFullscreen=!0,e(t.opt.containment).is("body")||(t.width=e(t.opt.containment).css("width"),t.height=e(t.opt.containment).css("height"),t.top=e(t.opt.containment).css("top"),t.left=e(t.opt.containment).css("left"),t.position=e(t.opt.containment).css("position"));var a=e(t.opt.controls).clone(!0).addClass("fullScreen_controls").css({position:"absolute",zIndex:1e3,bottom:20,right:20});a.find(".fullscreen").html("exit"),t.opt.gallery.append(a).css({background:"#000"}),e(t.opt.containment).CSSAnimate({width:"100%",height:"100%",top:0,left:0,position:"absolute"},500),i(t.opt.gallery.get(0))}},buildThumbs:function(t){function r(e){return e.split("/").pop()}if(0!=t.opt.thumbs.folderPath.trim().length||0!=t.opt.thumbs.placeholder.trim().length){e(t.opt.thumbs.placeholder).addClass("bgg_thumbnailsContainer");var i=e(t.opt.thumbs.placeholder).children().length||0;if(i!=t.opt.images.length){e(t.opt.thumbs.placeholder).empty();for(var n=0;n<t.opt.images.length;n++){var o=t.opt.thumbs.folderPath+r(t.opt.images[n]);if(t.opt.images[n].match(".png")){var a=t.opt.images[n].split(".png");o=a[0]+"-50x50.png"}else if(t.opt.images[n].match(".PNG")){var a=t.opt.images[n].split(".PNG");o=a[0]+"-50x50.PNG"}else if(t.opt.images[n].match(".Png")){var a=t.opt.images[n].split(".Png");o=a[0]+"-50x50.Png"}if(t.opt.images[n].match(".jpg")){var a=t.opt.images[n].split(".jpg");o=a[0]+"-50x50.jpg"}else if(t.opt.images[n].match(".JPG")){var a=t.opt.images[n].split(".JPG");o=a[0]+"-50x50.JPG"}else if(t.opt.images[n].match(".Jpg")){var a=t.opt.images[n].split(".Jpg");o=a[0]+"-50x50.Jpg"}if(t.opt.images[n].match(".gif")){var a=t.opt.images[n].split(".gif");o=a[0]+"-50x50.gif"}else if(t.opt.images[n].match(".GIF")){var a=t.opt.images[n].split(".GIF");o=a[0]+"-50x50.GIF"}else if(t.opt.images[n].match(".Gif")){var a=t.opt.images[n].split(".Gif");o=a[0]+"-50x50.Gif"}if(t.opt.images[n].match(".Jpeg")){var a=t.opt.images[n].split(".Jpeg");o=a[0]+"-50x50.Jpeg"}else if(t.opt.images[n].match(".jpeg")){var a=t.opt.images[n].split(".jpeg");o=a[0]+"-50x50.jpeg"}else if(t.opt.images[n].match(".JPEG")){var a=t.opt.images[n].split(".JPEG");o=a[0]+"-50x50.JPEG"}if(t.opt.images[n].match(".exif")){var a=t.opt.images[n].split(".exif");o=a[0]+"-50x50.exif"}else if(t.opt.images[n].match(".EXIF")){var a=t.opt.images[n].split(".EXIF");o=a[0]+"-50x50.EXIF"}if(t.opt.images[n].match(".bmp")){var a=t.opt.images[n].split(".bmp");o=a[0]+"-50x50.bmp"}else if(t.opt.images[n].match(".BMP")){var a=t.opt.images[n].split(".BMP");o=a[0]+"-50x50.BMP"}if(t.opt.images[n].match(".Webp")){var a=t.opt.images[n].split(".Webp");o=a[0]+"-50x50.Webp"}else if(t.opt.images[n].match(".webp")){var a=t.opt.images[n].split(".webp");o=a[0]+"-50x50.webp"}else if(t.opt.images[n].match(".WEBP")){var a=t.opt.images[n].split(".WEBP");o=a[0]+"-50x50.WEBP"}var s=e("<img/>").attr({src:o,id:"mbBgImg_"+n}).click(function(){t.opt.imageCounter=e(this).attr("i")-1,e.mbBgndGallery.next(t),t.opt.paused=!0}).attr("i",n).css({opacity:0}).on("load",function(){e(this).fadeTo(1e3,1)});e(t.opt.thumbs.placeholder).append(s)}}}},addImages:function(t,r,i){var n=this.get(0);for(var o in t)n.opt.images.push(t[o]);i&&(n.opt.images=e.shuffle(n.opt.images)),r&&(n.opt.imageCounter=n.opt.images.indexOf(t[0])),e.mbBgndGallery.buildThumbs(n)},removeImages:function(t){var r=this.get(0);for(var i in t){var n=r.opt.images.indexOf(t[i]);n>-1&&r.opt.images.splice(n,1)}e.mbBgndGallery.changePhoto(r.opt.images[r.opt.imageCounter],r),e.mbBgndGallery.buildThumbs(r)},applyFilter:function(e,t){var r=this.get(0),i=r.opt.gallery,n={};n[e]=t,i.css3(n)}},e.fn.mbBgndGalleryPlay=e.mbBgndGallery.play,e.fn.mbBgndGalleryPause=e.mbBgndGallery.pause,e.fn.mbBgndGalleryPrev=e.mbBgndGallery.prev,e.fn.mbBgndGalleryNext=e.mbBgndGallery.next,e.fn.changeGallery=e.mbBgndGallery.changeGallery,e.fn.addImages=e.mbBgndGallery.addImages,e.fn.removeImages=e.mbBgndGallery.removeImages,e.fn.applyFilter=e.mbBgndGallery.applyFilter,e.loadFromSystem=function(t,r){if(t){r||(r=["jpg","jpeg","png"]);var i=[];return e.ajax({url:t,async:!1,success:function(n){var o=e(n),a=o.find("[href]");a.each(function(){for(var n in r)e(this).attr("href").indexOf(r[n])>=0&&i.push(t+e(this).attr("href")),i=e.unique(i)}),o.remove()}}),0!=i.length?i:!1}},e.shuffle=function(e){for(var t=e.slice(),r=t.length,i=r;i--;){var n=parseInt(Math.random()*r),o=t[i];t[i]=t[n],t[n]=o}return t}}(jQuery),jQuery.mbBgndGallery.effects={fade:{enter:{left:0,opacity:0},exit:{left:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideUp:{enter:{top:"100%"},exit:{top:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideUpToDown:{enter:{top:"100%"},exit:{top:"100%"},enterTiming:"ease-in",exitTiming:"ease-in"},slideUpFadeOut:{enter:{top:"100%",opacity:0},exit:{top:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideDown:{enter:{top:"-100%"},exit:{top:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideDownToUp:{enter:{top:"-100%"},exit:{top:"-100%"},enterTiming:"ease-in",exitTiming:"ease-in"},slideDownFadeOut:{enter:{top:"-100%",opacity:0},exit:{top:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideLeft:{enter:{x:"100%"},exit:{x:"-100%"},enterTiming:"easeOutQuad",exitTiming:"easeOutQuad"},slideLeftFadeOut:{enter:{x:"100%",opacity:0},exit:{x:"-100%",opacity:0},enterTiming:"easeOutQuad",exitTiming:"easeOutQuad"},slideLeftToRight:{enter:{x:"100%",scale:.5},exit:{x:"100%",scale:.5}},slideRight:{enter:{x:"-100%"},exit:{x:"100%"}},slideRightFadeOut:{enter:{x:"-100%",opacity:0},exit:{x:"100%",opacity:0}},slideRightToLeft:{enter:{x:"-100%",scale:.5},exit:{x:"-100%",scale:.5}},zoom:{enter:{scale:1+5*Math.random(),opacity:0},exit:{scale:1+5*Math.random(),opacity:0},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},zoomDownUp:{enter:{scale:0,opacity:0},exit:{scale:0,opacity:0},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},zoomBlur:{enter:{opacity:0,blur:10,scale:2},exit:{opacity:0,blur:10,scale:2},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},blur:{enter:{opacity:0,blur:10},exit:{opacity:0,blur:10},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},rotate:{enter:{rotate:"-150deg",opacity:0},exit:{rotate:"0deg"},enterTiming:"ease-in",exitTiming:"ease-in"},rotateRight:{enter:{rotate:"150deg",opacity:0},exit:{rotate:"0deg"},enterTiming:"ease-in",exitTiming:"ease-in"},zoomrotate:{enter:{scale:1+5*Math.random(),rotate:"-150deg",opacity:0},exit:{scale:1+5*Math.random(),opacity:0},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},rotateZoomIn:{enter:{scale:0,rotate:"-150deg",opacity:0},exit:{scale:0,rotate:"150deg",opacity:0},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},grayscale:{enter:{grayscale:"100%",opacity:0},exit:{grayscale:"100%"},enterTiming:"ease-in",exitTiming:"ease-in"},blackandwhite:{enter:{saturate:"100%",opacity:0},exit:{opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"}},jQuery.support.CSStransition=function(){var e=document.body||document.documentElement,t=e.style;return void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var t=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var r in t){"transform"===r&&(t[jQuery.CSS.sfx+"transform"]=t[r],delete t[r]),"transform-origin"===r&&(t[jQuery.CSS.sfx+"transform-origin"]=e[r],delete t[r]),"filter"!==r||jQuery.browser.mozilla||(t[jQuery.CSS.sfx+"filter"]=e[r],delete t[r]),"blur"===r&&setFilter(t,"blur",e[r]),"brightness"===r&&setFilter(t,"brightness",e[r]),"contrast"===r&&setFilter(t,"contrast",e[r]),"grayscale"===r&&setFilter(t,"grayscale",e[r]),"hueRotate"===r&&setFilter(t,"hueRotate",e[r]),"invert"===r&&setFilter(t,"invert",e[r]),"saturate"===r&&setFilter(t,"saturate",e[r]),"sepia"===r&&setFilter(t,"sepia",e[r]);var i="";"x"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateX("+setUnit(e[r],"px")+")",delete t[r]),"y"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateY("+setUnit(e[r],"px")+")",delete t[r]),"z"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateZ("+setUnit(e[r],"px")+")",delete t[r]),"rotate"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotate("+setUnit(e[r],"deg")+")",delete t[r]),"rotateX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateX("+setUnit(e[r],"deg")+")",delete t[r]),"rotateY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateY("+setUnit(e[r],"deg")+")",delete t[r]),"rotateZ"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateZ("+setUnit(e[r],"deg")+")",delete t[r]),"scale"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scale("+setUnit(e[r],"")+")",delete t[r]),"scaleX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleX("+setUnit(e[r],"")+")",delete t[r]),"scaleY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleY("+setUnit(e[r],"")+")",delete t[r]),"scaleZ"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleZ("+setUnit(e[r],"")+")",delete t[r]),"skew"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skew("+setUnit(e[r],"deg")+")",delete t[r]),"skewX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skewX("+setUnit(e[r],"deg")+")",delete t[r]),"skewY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skewY("+setUnit(e[r],"deg")+")",delete t[r]),"perspective"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" perspective("+setUnit(e[r],"px")+")",delete t[r])}return t},getProp:function(e){var t=[];for(var r in e)t.indexOf(r)<0&&t.push(uncamel(r));return t.join(",")},animate:function(e,t,r,i,n){return this.each(function(){function o(){a.called=!0,a.CSSAIsRunning=!1,s.off(jQuery.CSS.transitionEnd+"."+a.id),clearTimeout(a.timeout),s.css(jQuery.CSS.sfx+"transition",""),"function"==typeof n&&n.apply(a),"function"==typeof a.CSSqueue&&(a.CSSqueue(),a.CSSqueue=null)}var a=this,s=jQuery(this);a.id=a.id||"CSSA_"+(new Date).getTime();var l=l||{type:"noEvent"};if(a.CSSAIsRunning&&a.eventType==l.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(a.CSSqueue=function(){s.CSSAnimate(e,t,r,i,n)});if(a.CSSqueue=null,a.eventType=l.type,0!==s.length&&e){if(e=jQuery.normalizeCss(e),a.CSSAIsRunning=!0,"function"==typeof t&&(n=t,t=jQuery.fx.speeds._default),"function"==typeof r&&(i=r,r=0),"string"==typeof r&&(n=r,r=0),"function"==typeof i&&(n=i,i="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof t)for(var u in jQuery.fx.speeds){if(t==u){t=jQuery.fx.speeds[u];break}t=jQuery.fx.speeds._default}if(t||(t=jQuery.fx.speeds._default),"string"==typeof n&&(i=n,n=null),!jQuery.support.CSStransition){for(var p in e){if("transform"===p&&delete e[p],"filter"===p&&delete e[p],"transform-origin"===p&&delete e[p],"auto"===e[p]&&delete e[p],"x"===p){var g=e[p],c="left";e[c]=g,delete e[p]}if("y"===p){var g=e[p],c="top";e[c]=g,delete e[p]}("-ms-transform"===p||"-ms-filter"===p)&&delete e[p]}return void s.delay(r).animate(e,t,n)}var m={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};m[i]&&(i=m[i]),s.off(jQuery.CSS.transitionEnd+"."+a.id);var f=jQuery.CSS.getProp(e),d={};jQuery.extend(d,e),d[jQuery.CSS.sfx+"transition-property"]=f,d[jQuery.CSS.sfx+"transition-duration"]=t+"ms",d[jQuery.CSS.sfx+"transition-delay"]=r+"ms",d[jQuery.CSS.sfx+"transition-timing-function"]=i,setTimeout(function(){s.one(jQuery.CSS.transitionEnd+"."+a.id,o),s.css(d)},1),a.timeout=setTimeout(function(){return a.called||!n?(a.called=!1,void(a.CSSAIsRunning=!1)):(s.css(jQuery.CSS.sfx+"transition",""),n.apply(a),a.CSSAIsRunning=!1,void("function"==typeof a.CSSqueue&&(a.CSSqueue(),a.CSSqueue=null)))},t+r+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var t=jQuery(this),r=jQuery.normalizeCss(e);t.css(r)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.androidStock=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")||-1!=nAgt.indexOf("Edge")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):nAgt.indexOf("mozilla/5.0")>-1&&nAgt.indexOf("android ")>-1&&nAgt.indexOf("applewebkit")>-1&&!(nAgt.indexOf("chrome")>-1)?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt)