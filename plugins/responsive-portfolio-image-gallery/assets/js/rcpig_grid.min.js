/*!
 *  Responsive Portfolio Image Gallery 1.2
 *  by @realwebcare - https://www.realwebcare.com/
 */!function(a,b,c){"use strict";a.HoverDir=function(b,c){this.$el=a(c),this._init(b)},a.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:0,inverse:!1},a.HoverDir.prototype={_init:function(b){this.options=a.extend(!0,{},a.HoverDir.defaults,b),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=Modernizr.csstransitions,this._loadEvents()},_loadEvents:function(){var b=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(c){var d=a(this),e=d.find("figure"),f=b._getDir(d,{x:c.pageX,y:c.pageY}),g=b._getStyle(f);"mouseenter"===c.type?(e.hide().css(g.from),clearTimeout(b.tmhover),b.tmhover=setTimeout(function(){e.show(0,function(){var c=a(this);b.support&&c.css("transition",b.transitionProp),b._applyAnimation(c,g.to,b.options.speed)})},b.options.hoverDelay)):(b.support&&e.css("transition",b.transitionProp),clearTimeout(b.tmhover),b._applyAnimation(e,g.from,b.options.speed))})},_getDir:function(a,b){var c=a.width(),d=a.height(),e=(b.x-a.offset().left-c/2)*(c>d?d/c:1),f=(b.y-a.offset().top-d/2)*(d>c?c/d:1),g=Math.round((Math.atan2(f,e)*(180/Math.PI)+180)/90+3)%4;return g},_getStyle:function(a){var b,c,d={left:"0px",top:"-100%"},e={left:"0px",top:"100%"},f={left:"-100%",top:"0px"},g={left:"100%",top:"0px"},h={top:"0px"},i={left:"0px"};switch(a){case 0:b=this.options.inverse?e:d,c=h;break;case 1:b=this.options.inverse?f:g,c=i;break;case 2:b=this.options.inverse?d:e,c=h;break;case 3:b=this.options.inverse?g:f,c=i}return{from:b,to:c}},_applyAnimation:function(b,c,d){a.fn.applyStyle=this.support?a.fn.css:a.fn.animate,b.stop().applyStyle(c,a.extend(!0,[],{duration:d+"ms"}))}};var d=function(a){b.console&&b.console.error(a)};a.fn.hoverdir=function(b){var c=a.data(this,"hoverdir");if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?void c[b].apply(c,e):void d("no such method '"+b+"' for hoverdir instance"):void d("cannot call methods on hoverdir prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){c?c._init():c=a.data(this,"hoverdir",new a.HoverDir(b,this))});return c}}(jQuery,window),function(a,b,c){"use strict";var e,f,d=a.event;e=d.special.debouncedresize={setup:function(){a(this).on("resize",e.handler)},teardown:function(){a(this).off("resize",e.handler)},handler:function(a,b){var c=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(c,g)};f&&clearTimeout(f),b?h():f=setTimeout(h,e.threshold)},threshold:150};var g="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(b){function l(){var c=a(j),f=a(k);e&&(k.length?e.reject(h,c,f):e.resolve(h)),a.isFunction(b)&&b.call(d,h,c,f)}function m(b,c){b.src!==g&&a.inArray(b,i)===-1&&(i.push(b),c?k.push(b):j.push(b),a.data(b,"imagesLoaded",{isBroken:c,src:b.src}),f&&e.notifyWith(a(b),[c,h,a(j),a(k)]),h.length===i.length&&(setTimeout(l),h.unbind(".imagesLoaded")))}var d=this,e=a.isFunction(a.Deferred)?a.Deferred():0,f=a.isFunction(e.notify),h=d.find("img").add(d.filter("img")),i=[],j=[],k=[];return a.isPlainObject(b)&&a.each(b,function(a,c){"callback"===a?b=c:e&&e[a](c)}),h.length?h.bind("load.imagesLoaded error.imagesLoaded",function(a){m(a.target,"error"===a.type)}).each(function(b,d){var e=d.src,f=a.data(d,"imagesLoaded");return f&&f.src===e?void m(d,f.isBroken):d.complete&&d.naturalWidth!==c?void m(d,0===d.naturalWidth||0===d.naturalHeight):void((d.readyState||d.complete)&&(d.src=g,d.src=e))}):l(),e?e.promise(d):d};var h=a(b),i=b.Modernizr;a.Rcpigslide=function(b,c){this.$el=a(c),this._init(b)},a.Rcpigslide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,b,c){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},a.Rcpigslide.prototype={_init:function(b){this.options=a.extend(!0,{},a.Rcpigslide.defaults,b);var c=this,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=d[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0!==this.itemsCount&&(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="rcpigslide-wrapper rcpigslide-loading rcpigslide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){c._addTransition()},100),void this.$el.imagesLoaded(function(){c.$el.show(),c._layout(),c._configure(),c.hasTransition?(c._removeTransition(),c._slideToItem(c.current),c.$el.on(c.transEndEventName,function(){c.$el.off(c.transEndEventName),c._setWrapperSize(),c._addTransition(),c._initEvents()})):(clearTimeout(c.hasTransitionTimeout),c._setWrapperSize(),c._initEvents(),c._slideToItem(c.current),setTimeout(function(){c._addTransition()},25)),c.options.onReady()}))},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="rcpigslide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("rcpigslide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var b=this;this.$navigation=a('<nav><span class="rcpigslide-prev">Previous</span><span class="rcpigslide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.rcpigslide-prev").on("mousedown.rcpigslide",function(a){return b._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.rcpigslide-next").on("mousedown.rcpigslide",function(a){return b._slide("next"),!1})},_setItemsSize:function(){var a="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100,b=Math.floor(this.$carousel.width()+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")));this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"horizontal"===this.options.orientation&&(a>34?this.$wrapper.css("height",this.imgSize.width+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))+10):this.$wrapper.css("height",b*a/100+14)),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){if("vertical"===this.options.orientation){"horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})}},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var b=this;h.on("debouncedresize.rcpigslide",function(){b._setItemsSize(),b._configure(),b._slideToItem(b.current)}),this.$el.on(this.transEndEventName,function(){b._onEndTransition()}),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){b._slide("next")},swiperight:function(){b._slide("prev")}}):this.$el.on({swipeup:function(){b._slide("next")},swipedown:function(){b._slide("prev")}}),this.$el.on("click.rcpigslide","li",function(c){var d=a(this);b.options.onClick(d,d.index(),c)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .rcpigslide"),h.off(".rcpigslide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),a&&a.call()},_toggleControls:function(a,b){b?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(b,d){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var e=this,f=this.translation||0,g="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),h=this.itemsCount*g,i="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(d===c){var j=this.fitCount*g;if(j<0)return!1;if("next"===b&&h-(Math.abs(f)+j)<i)j=h-(Math.abs(f)+i),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===b&&Math.abs(f)-j<0)j=Math.abs(f),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var k="next"===b?Math.abs(f)+Math.abs(j):Math.abs(f)-Math.abs(j);k>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),k<h-i?this._toggleControls("next",!0):this._toggleControls("next",!1)}d="next"===b?f-j:f+j}else{var j=Math.abs(d);Math.max(h,i)-j<i&&(d=-(Math.max(h,i)-i)),j>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(h,i)-i>j?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=d,f===d)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+d+"px)"):this.$el.css("transform","translateY("+d+"px)");else{a.fn.applyStyle=this.hasTransition?a.fn.animate:a.fn.css;var l="horizontal"===this.options.orientation?{left:d}:{top:d};this.$el.stop().applyStyle(l,a.extend(!0,[],{duration:this.options.speed,complete:function(){e._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(a){var a=a||this.current,b=Math.abs(this.translation)||0,c="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),d=b+this.$carousel.width(),e=Math.abs(a*c);(e+c>d||e<b)&&this._slideToItem(a)},_slideToItem:function(a){var b="horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-b)},add:function(a){var b=this,c=this.current,d=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=d.index(),this._setItemsSize(),this._configure(),this._removeTransition(),c<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){b._addTransition()},25),a&&a.call()},setCurrent:function(a,b){this.current=a,this._slideTo(),b&&b.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};var j=function(a){b.console&&b.console.error(a)};a.fn.rcpigslide=function(b){var c=a.data(this,"rcpigslide");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?void c[b].apply(c,d):void j("no such method '"+b+"' for rcpigslide self"):void j("cannot call methods on rcpigslide prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){c?c._init():c=a.data(this,"rcpigslide",new a.Rcpigslide(b,this))});return c}}(jQuery,window),function(a,b,c){var e,f,d=jQuery.event;e=d.special.debouncedresize={setup:function(){a(this).on("resize",e.handler)},teardown:function(){a(this).off("resize",e.handler)},handler:function(a,b){var c=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(c,g)};f&&clearTimeout(f),b?h():f=setTimeout(h,e.threshold)},threshold:250};var g="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(b){function l(){var c=a(j),f=a(k);e&&(k.length?e.reject(h,c,f):e.resolve(h)),a.isFunction(b)&&b.call(d,h,c,f)}function m(b,c){b.src!==g&&a.inArray(b,i)===-1&&(i.push(b),c?k.push(b):j.push(b),a.data(b,"imagesLoaded",{isBroken:c,src:b.src}),f&&e.notifyWith(a(b),[c,h,a(j),a(k)]),h.length===i.length&&(setTimeout(l),h.unbind(".imagesLoaded")))}var d=this,e=a.isFunction(a.Deferred)?a.Deferred():0,f=a.isFunction(e.notify),h=d.find("img").add(d.filter("img")),i=[],j=[],k=[];return a.isPlainObject(b)&&a.each(b,function(a,c){"callback"===a?b=c:e&&e[a](c)}),h.length?h.bind("load.imagesLoaded error.imagesLoaded",function(a){m(a.target,"error"===a.type)}).each(function(b,d){var e=d.src,f=a.data(d,"imagesLoaded");return f&&f.src===e?void m(d,f.isBroken):d.complete&&d.naturalWidth!==c?void m(d,0===d.naturalWidth||0===d.naturalHeight):void((d.readyState||d.complete)&&(d.src=g,d.src=e))}):l(),e?e.promise(d):d},a(function(){a.rcpig_grid={version:"1.0"},a.fn.rcpig_grid=function(d){function n(a,b){a.each(function(a,c){classie.has(c,b)?(classie.toggle(c,"animate"),classie.remove(c,"hidden")):(classie.add(c,"hidden"),classie.remove(c,"animate"))})}function o(b){var c=b.toLowerCase().replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-");if(""!=b){var d=a("<li>");a("<a>",{html:b.replace("-"," ").replace("-"," ").replace("-"," ").replace("-"," ").replace("-"," "),"data-filter":"."+c,href:"#",class:"filter"}).appendTo(d);d.appendTo(k)}}function D(b){q.each(function(){var c=a(this);c.data("offsetTop",c.offset().top),b&&c.data("height",c.height())})}function E(){F(q),v.on("debouncedresize",function(){t=0,s=-1,D(),G();var b=a.data(this,"preview");"undefined"!=typeof b&&I()})}function F(b){b.on("click","span.og-close",function(){return I(),!1}).children("a").on("click",function(b){var c=a(this).parent();return c.removeClass("animate"),r===c.index()?I(a(this)):H(c),!1})}function G(){w={width:v.width(),height:v.height()}}function H(b){I();var c=a.data(this,"preview"),d=b.data("offsetTop");if(t=0,"undefined"!=typeof c){if(s===d)return c.update(b),!1;d>s&&(t=c.height),I()}s=d,c=a.data(this,"preview",new J(b)),c.open()}function I(){q.find(".og-pointer").remove(),r=-1;var b=a.data(this,"preview");"undefined"==typeof b||b.close(),a.removeData(this,"preview")}function J(a){this.$item=a,this.expandedIdx=this.$item.index(),this.create(),this.update()}d=a.extend({},{items:null,filterEffect:"",hoverDirection:!0,hoverDelay:0,hoverInverse:!1,expandingHeight:500,expandingSpeed:300,callback:function(){}},d);var e=a(this),f=d.items.length;if(0==f)return!1;e.html('<div class="wagwep-container"><nav id="porfolio-nav" class="clearfix"><ul id="portfolio-filter" class="nav nav-tabs clearfix"></ul></nav></div>');var h=a('<ul id="og-grid" class="og-grid"></ul>');for(itemIdx=0;itemIdx<f;itemIdx++)if(d.items[itemIdx]!=c){var i=d.items[itemIdx];liObject=a("<li></li>"),tags=i.tags,strTag="";for(var j=tags.length-1;j>=0;j--)strTag+=","+tags[j];strTag=strTag.substring(1),liObject.attr("data-tags",strTag),aObject=a("<a></a>"),aObject.attr("href","javascript:;;"),imgObject=a("<img/>"),imgObject.attr("src",i.thumbnail[0]),imgObject.attr("data-largesrc",i.large[0]),spanObject=a("<span></span>"),spanObject.html(i.title),figureObject=a("<figure></figure>"),figureObject.append(spanObject),imgObject.appendTo(aObject),figureObject.appendTo(aObject),aObject.appendTo(liObject),liObject.appendTo(h)}""==d.filterEffect&&(d.filterEffect="moveup"),h.addClass("effect-"+d.filterEffect),h.appendTo(e),1==d.hoverDirection&&h.find("li").each(function(){a(this).hoverdir({hoverDelay:d.hoverDelay,inverse:d.hoverInverse})});var k=e.find("#portfolio-filter"),l=h.find("li"),m={};numOfTag=0,l.each(function(b){var c=a(this),d=c.data("tags").split(",");c.attr("data-id",b),c.addClass("all"),a.each(d,function(b,d){d=a.trim(d),c.addClass(d.toLowerCase().replace(" ","-")),d in m||(m[d]=[],numOfTag++),m[d].push(c)})}),numOfTag>1?(o(d.showAllText),a.each(m,function(a,b){o(a)})):k.remove(),k.find("a").bind("click",function(b){p.find("li.og-expanded").find("a").trigger("click"),p.find(".og-close").trigger("click"),$this=a(this),$this.css("outline","none"),k.find(".current").removeClass("current"),$this.parent().addClass("current");var c=$this.text().toLowerCase().replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-"),d=f;return h.find("li").each(function(a,b){classie.remove(b,"hidden"),classie.remove(b,"animate"),--d||setTimeout(function(){n(h.find("li"),c)},1)}),!1}),k.find("li:first").addClass("current");var w,p=h,q=p.children("li"),r=-1,s=-1,t=0,u=10,v=a(b),x=a("html, body"),y={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},z=y[Modernizr.prefixed("transition")],A=Modernizr.csstransitions,B={minHeight:d.expandingHeight,speed:d.expandingSpeed,easing:"ease"};J.prototype={create:function(){this.$title=a("<h3></h3>"),this.$description=a("<p></p>"),this.$href=a('<a href="#">Visit website</a>'),this.$detailButtonList=a('<span class="buttons-list"></span>'),this.$details=a('<div class="og-details"></div>').append(this.$title,this.$description,this.$detailButtonList),this.$loading=a('<div class="og-loading"></div>'),this.$fullimage=a('<div class="og-fullimg"></div>').append(this.$loading),this.$closePreview=a('<span class="og-close"></span>'),this.$previewInner=a('<div class="og-expander-inner"></div>').append(this.$closePreview,this.$fullimage,this.$details),this.$previewEl=a('<div class="og-expander"></div>').append(this.$previewInner),this.$item.append(a('<div class="og-pointer"></div>')),this.$item.append(this.getEl()),A&&this.setTransition()},update:function(b){if(b&&(this.$item=b),r!==-1){var c=q.eq(r);c.removeClass("og-expanded"),this.$item.addClass("og-expanded"),this.positionPreview()}if(r=this.$item.index(),"undefined"==typeof d.items[r]);else{if(eldata=d.items[r],this.$title.html(eldata.title),this.$description.html(eldata.description),this.$detailButtonList.html(""),urlList=eldata.button_list,urlList.length>0)for(j=0;j<urlList.length;j++){var e=urlList[j].new_window?"_blank":"_self",f=a('<a target="'+e+'"></a>');f.addClass("link-button"),0==j&&f.addClass("first"),f.attr("href",urlList[j].url),f.html(urlList[j].title),this.$detailButtonList.append(f)}var g=this;if("undefined"!=typeof g.$largeImg&&g.$largeImg.remove(),glarge=eldata.large,gthumbs=eldata.thumbnail,glarge.length==gthumbs.length&&glarge.length>0){var h=a("<ul></ul>");for(j=0;j<gthumbs.length;j++){var i=a("<li></li>"),f=a('<a href="javascript:;;"></a>'),k=a("<img/>");k.addClass("related_photo"),0==j&&k.addClass("selected"),k.attr("src",gthumbs[j]),k.attr("data-large",glarge[j]),f.append(k),i.append(f),h.append(i)}h.addClass("rcpigslide-list"),h.rcpigslide();var l=a('<div class="rcpigslide-wrapper rcpigslide-horizontal"></div>');l.append(h).find(".related_photo").bind("click",function(){l.find(".selected").removeClass("selected"),a(this).addClass("selected"),$largePhoto=a(this).data("large"),a("<img/>").load(function(){g.$fullimage.find("img").fadeOut(500,function(){a(this).fadeIn(500).attr("src",$largePhoto)})}).attr("src",$largePhoto)}),g.$details.append('<div class="infosep"></div>'),g.$details.append(l)}else g.$details.find(".infosep, .og-grid-small").remove();g.$fullimage.is(":visible")&&(this.$loading.show(),a("<img/>").load(function(){var b=a(this);b.attr("src")===g.$item.children("a").find("img").data("largesrc")&&(g.$loading.hide(),g.$fullimage.find("img").remove(),g.$largeImg=b.fadeIn(350),g.$fullimage.append(g.$largeImg))}).attr("src",eldata.large[0]))}},open:function(){setTimeout(a.proxy(function(){this.setHeights(),this.positionPreview()},this),25)},close:function(){var b=this,c=function(){A&&a(this).off(z),b.$item.removeClass("og-expanded"),b.$previewEl.remove()};return setTimeout(a.proxy(function(){"undefined"!=typeof this.$largeImg&&this.$largeImg.fadeOut("fast"),this.$previewEl.css("height",0);var a=q.eq(this.expandedIdx);a.css("height",a.data("height")).on(z,c),A||c.call()},this),25),!1},calcHeight:function(){var a=w.height-this.$item.data("height")-u,b=w.height;a<B.minHeight&&(a=B.minHeight,b=B.minHeight+this.$item.data("height")+u),this.height=a,this.itemHeight=b},setHeights:function(){var a=this,b=function(){A&&a.$item.off(z),a.$item.addClass("og-expanded")};this.calcHeight(),this.$previewEl.css("height",this.height),this.$item.css("height",this.itemHeight).on(z,b),A||b.call()},positionPreview:function(){var a=this.$item.data("offsetTop"),b=this.$previewEl.offset().top-t,c=this.height+this.$item.data("height")+u<=w.height?a:this.height<w.height?b-(w.height-this.height):b;x.animate({scrollTop:c},B.speed)},setTransition:function(){this.$previewEl.css("transition","height "+B.speed+"ms "+B.easing),this.$item.css("transition","height "+B.speed+"ms "+B.easing)},getEl:function(){return this.$previewEl}},p.imagesLoaded(function(){D(!0),G(),E()})}})}(jQuery,window),function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function f(a,b){var f=c(a,b)?e:d;f(a,b)}var c,d,e;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)}):(c=function(a,c){return b(c).test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className+" "+b)},e=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:c,addClass:d,removeClass:e,toggleClass:f,has:c,add:d,remove:e,toggle:f};"function"==typeof define&&define.amd?define(g):a.classie=g}(window);