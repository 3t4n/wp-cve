"use strict";function arflite_load_edit_entries_page_grid(){var e,r=jQuery("#ARForms-page-item-counter").val(),t=(e=0<r,jQuery.fn.dataTableExt.oPagination.four_button=arflite_dataTable_pagination(),jQuery("#ARForms-page-form-id").val()),a=(0<t&&0<r&&arf_load_form_entries_grid(e),jQuery("#ARForms-page-date-format-new").val()),l=jQuery("#ARForms-page-date-format-new1").val(),o=jQuery("#ARForms-page-start-date-new").val(),_=jQuery("#ARForms-page-end-date-new").val(),a=(jQuery("#datepicker_from").datetimepicker({useCurrent:!0,format:a,locale:"",minDate:moment(o,l),maxDate:moment(_,l)}),jQuery("#datepicker_to").datetimepicker({useCurrent:!1,format:a,locale:"",minDate:moment(o,l),maxDate:moment(_,l)}),jQuery("#datepicker_from").on("dp.change",function(e){jQuery("#datepicker_to").data("DateTimePicker").minDate(e.date)}),jQuery("#datepicker_to").on("dp.change",function(e){jQuery("#datepicker_from").data("DateTimePicker").maxDate(e.date)}),parseInt(jQuery("#ARForms-page-action-no").val())),o=jQuery("#ARForms-page-exclude").val().split(","),s=[];jQuery.each(o,function(e,r){0!=r&&s.push(parseInt(r))}),(void 0===t||void 0!==t&&t<1||r<=0)&&(_={language:{searchPlaceholder:"Search",search:""},oLanguage:{sProcessing:"",sEmptyTable:__ARFLITE_NO_ENTRY_FOUND,sZeroRecords:__ARFLITE_NO_ENTRY_FOUND},buttons:[{extend:"colvis",columns:":not(.noVis)",className:"ColVis_Button TableTools_Button ui-button ui-state-default ColVis_MasterButton",text:'<span class="arfshowhideicon"><svg width="30px" height="30px" viewBox="0 0 40 40" class="arfsvgposition"><path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#3f74e7" d="M9.489,8.85l0.023-2h6l-0.024,2H9.489z M9.489,2.85l0.023-2h6  l-0.024,2H9.489z M1.489,14.85l0.023-2h5.969l-0.023,2H1.489z M1.489,8.85l0.023-2h5.969l-0.023,2H1.489z M1.489,2.85l0.023-2h5.969  l-0.023,2H1.489z M15.512,12.85l-0.024,2H9.489l0.023-2H15.512z"></path></svg></span>Show / Hide columns<span class="arfshowhideicon_span" style="float: right;width: 15px;height: 15px;margin-top:2px;"><svg id="drop_box_icon" viewBox="0 0 30 30" style="width: 20px;height: 20px;margin: 6px;"><g id="drop_icon"><path fill="black" d="M6.777,6.845c-0.189,0-0.379-0.072-0.523-0.215L1.706,2.107c-0.289-0.288-0.289-0.754,0-1.042c0.29-0.288,0.759-0.288,1.048,0l4.023,4.001L10.8,1.066c0.289-0.287,0.758-0.287,1.047,0c0.289,0.288,0.289,0.754,0,1.042L7.3,6.629C7.156,6.773,6.966,6.845,6.777,6.845z"></path></g></svg></span></span>'}],sDom:'<"H"lCfrB>t<"footer"ip>',sPaginationType:"four_button",bJQueryUI:!0,bPaginate:e,bInfo:e,bAutoWidth:!1,bScrollCollapse:!0,oColVis:{aiExclude:[0,a]},aoColumnDefs:[{bSortable:!1,aTargets:[0,a-2,a-1,a]}],ordering:!0,order:[[1,"desc"]],columnDefs:[{orderable:!1,targets:[0,a-2,a-1,a]},{targets:[0,a],className:"noVis"}],fnDrawCallback:function(e){jQuery(".arf_loader_icon_wrapper").hide(),jQuery(".arfhelptip").tipso("destroy"),jQuery(".arfhelptip").tipso({position:"top",maxWidth:"400",useTitle:!0,background:"#444444",color:"#ffffff",width:"auto"})}},""!=s&&_.columnDefs.push({visible:!1,targets:s}),jQuery("#example").dataTable(_)),jQuery(".frm_entries_page #example_wrapper").outerWidth()<=jQuery(".frm_entries_page table#example thead").outerWidth()?jQuery(".frm_entries_page table#example").css("display","block"):jQuery(".frm_entries_page table#example").css("display","")}function arf_load_form_entries_grid(e,i){for(var u=jQuery("#arfredirecttolist").val(),t=jQuery("#datepicker_from").val(),a=jQuery("#datepicker_to").val(),r=jQuery("#please_select_form").val(),l=(jQuery("#action_column_width").val(),null!=document.querySelector('[name="example_length"]')&&document.querySelector('[name="example_length"]').value,document.getElementsByClassName("current_page_no")[0],jQuery("#ARForms-page-action-no").val()),o=jQuery("#ARForms-page-exclude").val(),_=JSON.parse(jQuery("#arflite_entries_exclude_cols").val()),s=(""!=l&&(l=parseInt(l)),o.split(",")),n=[],d=(jQuery.each(s,function(e,r){n.push(parseInt(r))}),[]),c=1;c<l;c++)d.push(c);if(""==u||void 0===u)return alert(r),!1;s={oLanguage:{sProcessing:"",sEmptyTable:__ARFLITE_NO_ENTRY_FOUND,sZeroRecords:__ARFLITE_NO_ENTRY_FOUND},language:{searchPlaceholder:"Search",search:""},buttons:[{extend:"colvis",columns:d,className:"ColVis_Button TableTools_Button ui-button ui-state-default ColVis_MasterButton",text:'<span class="arfshowhideicon"><svg width="30px" height="30px" viewBox="0 0 40 40" class="arfsvgposition"><path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#3f74e7" d="M9.489,8.85l0.023-2h6l-0.024,2H9.489z M9.489,2.85l0.023-2h6  l-0.024,2H9.489z M1.489,14.85l0.023-2h5.969l-0.023,2H1.489z M1.489,8.85l0.023-2h5.969l-0.023,2H1.489z M1.489,2.85l0.023-2h5.969  l-0.023,2H1.489z M15.512,12.85l-0.024,2H9.489l0.023-2H15.512z"></path></svg></span>Show / Hide columns<span class="arfshowhideicon_span" style="float: right;width: 15px;height: 15px;margin-top:2px;"><svg id="drop_box_icon" viewBox="0 0 30 30" style="width: 20px;height: 20px;margin: 6px;"><g id="drop_icon"><path fill="black" d="M6.777,6.845c-0.189,0-0.379-0.072-0.523-0.215L1.706,2.107c-0.289-0.288-0.289-0.754,0-1.042c0.29-0.288,0.759-0.288,1.048,0l4.023,4.001L10.8,1.066c0.289-0.287,0.758-0.287,1.047,0c0.289,0.288,0.289,0.754,0,1.042L7.3,6.629C7.156,6.773,6.966,6.845,6.777,6.845z"></path></g></svg></span></span>'}],bProcessing:!0,bServerSide:!0,sAjaxSource:ajaxurl,sServerMethod:"POST",fnServerParams:function(e){var r=wp.hooks.applyFilters("arforms_change_view_action","arflite_retrieve_form_entry");e.push({name:"action",value:r}),e.push({name:"form",value:u}),e.push({name:"start_date",value:t}),e.push({name:"end_date",value:a})},bRetrieve:!1,sDom:'<"H"lCfrB>t<"footer"ip>',sPaginationType:"four_button",bJQueryUI:!0,bPaginate:e,bAutoWidth:!1,bInfo:e,bScrollCollapse:!0,ordering:!0,order:[[1,"desc"]],oColVis:{aiExclude:[0,l]},aaSorting:[[1,"desc"]],aLengthMenu:[10,25,50,100,200],aoColumnDefs:[{sClass:"box",aTargets:[0]},{sClass:"arf_col_action arf_action_cell",aTargets:[l]},{bSortable:!1,aTargets:_}],fnPreDrawCallback:function(){jQuery(".arf_loader_icon_wrapper").show()},fnDrawCallback:function(e){if(jQuery(".arf_loader_icon_wrapper").hide(),"error"==e.json.aaData.status)return jQuery("#records_error_message_des").html(e.json.aaData.msg),arforms_error_msg(),!1;if(jQuery("#cb-select-all-1").prop("checked",!1),""!=i&&null!=i){var r,t,e=jQuery('ul[data-id="arfredirecttolist"]').find('li[data-value="'+u+'"]'),a=e.attr("data-label"),l=e.html(),o=/\(\d+\)/gi;if(r=a.match(o)){for(var _=r.length,s=0;s<_;s++)var n=r[s],a=a.replace(n,"("+i+")");e.attr("data-label",a)}if(t=l.match(o)){for(_=t.length,s=0;s<_;s++)n=t[s],l=l.replace(n,"("+i+")");e.html(l),jQuery('dl[data-name="arfredirecttolist"] dt span').html(l)}}setTimeout(function(){jQuery(".frm_entries_page #example_wrapper").outerWidth()<=jQuery(".frm_entries_page table#example thead").outerWidth()?jQuery(".frm_entries_page table#example").css("display","block"):jQuery(".frm_entries_page table#example").css("display","")},500),jQuery(".arfhelptip").tipso("destroy"),jQuery(".arfhelptip").tipso({position:"top",maxWidth:"400",useTitle:!0,background:"#444444",color:"#ffffff",width:"auto"})}};""!=o&&s.aoColumnDefs.push({sType:"html",bVisible:!1,aTargets:n}),jQuery("#example").dataTable(s)}function arforms_change_frm_entries(){var e=jQuery("#arfredirecttolist").val(),r=jQuery("#datepicker_from").val(),t=jQuery("#datepicker_to").val(),a=jQuery("#please_select_form").val();jQuery("#action_column_width").val();if(""==e||void 0===e)return alert(a),!1;a=jQuery("#arfformentriesurl").val();a+="&form="+e,""!=r&&(a+="&start_date="+r),""!=t&&(a+="&end_date="+t),window.location.href=a}function arflite_open_entry_thickbox(e,r){jQuery(".arf_modal_overlay").removeClass("arfactive"),jQuery(".arf_view_entry_modal").parents(".arf_modal_overlay").addClass("arfactive"),jQuery(".arf_view_entry_modal").addClass("arfactive"),jQuery(".arf_view_entry_modal").find("#arf_view_entry_modal_form_title").html("("+r+")");r=jQuery("#view_entry_detail_container_"+e).html();jQuery("html").css("overflow","hidden"),jQuery(".arfentry_modal_content").html(r),jQuery(".arf_view_entry_modal").removeClass("arf_entry_model_larger"),jQuery(".arf_view_entry_modal").addClass("arf_popup_container_view_entry_modal"),jQuery(window).height()-50<jQuery(".arf_view_entry_modal.arfactive").height()&&jQuery(".arf_view_entry_modal").addClass("arf_entry_model_larger"),jQuery(".arf_view_entry_modal.arfactive").parent().hasClass("arf_entry_popup_container_wrapper")||jQuery(".arf_view_entry_modal.arfactive").wrap('<div class="arf_entry_popup_container_wrapper" />')}function arfliteapply_bulk_action(){var e=jQuery("form").serialize(),t=jQuery("#arfredirecttolist").val(),r=jQuery("#datepicker_from").val(),a=jQuery("#datepicker_to").val(),l=jQuery("#please_select_form").val();if(""==t)return alert(l),!1;var o=jQuery('input[name="action1"]').val(),_=jQuery('input[name="action3"]').val(),l=jQuery("#delete_bulk_entry_flag").val(),s=jQuery('input[name="item-action[]"]:checked').length;return"-1"==o&&"-1"==_?(jQuery("#records_error_message_des").html(__ARF_SELECT_VALIDACTION_MSG),arforms_error_msg()):("bulk_delete"!=o&&"bulk_delete"!=_||0!=s)&&("bulk_csv"!=o&&"bulk_csv"!=_||0!=s)?("bulk_delete"==o||"bulk_delete"==_)&&0<s&&"false"==l?(arflitechangedeletemodalwidth("arfdeletemodabox"),jQuery("#delete_bulk_entry_message").parents(".arf_modal_overlay").addClass("arfactive"),jQuery("#delete_bulk_entry_message").addClass("arfactive")):(jQuery("#delete_bulk_entry_flag").val("false"),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",data:"action=arflitechangebulkentries&form_id="+t+"&start_date="+r+"&end_date="+a+"&"+e,success:function(e){var r;0==e.error?(jQuery("#records_suc_message_des").html(e.message),arflite_success_msg(),jQuery("#delete_bulk_entry_message").parents(".arf_popup_container").removeClass("arfactive"),jQuery("#frm_errors").delay(5e3).fadeOut("slow"),jQuery("#example").dataTable().fnDestroy(),""!=e.arftotrec?(arf_load_form_entries_grid(!0,e.arftotrec),jQuery("span.arflite_total_entry_"+t).html(e.arftotrec),r=jQuery(".arflite_total_entry_li_"+t).html(),jQuery(".arflite_total_entry_li_"+t).attr("data-label",r)):arf_load_form_entries_grid(!0)):"bulk_csv"==o||"bulk_csv"==_?window.location.href=e:(jQuery("#records_error_message_des").html(e.message),arforms_error_msg()),setTimeout(function(){var e=jQuery(".frm_entries_page #example_wrapper").outerWidth(),r=jQuery(".frm_entries_page table#example").outerWidth(),t=jQuery(".frm_entries_page table#example thead").outerWidth();e<=r&&e<=t?jQuery(".frm_entries_page table#example").css("display","block"):jQuery(".frm_entries_page table#example").css("display","")},500)}})):(jQuery("#records_error_message_des").html(__ARF_SELECT_FIELD_TEXT),arforms_error_msg()),!1}function arflite_delete_single_entry(t,e){var a=jQuery("#arfredirecttolist").val();jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",data:"action=arflite_delete_single_entry&entry_id="+t+"&form_id="+a+"&_wpnonce="+e,success:function(e){var r;0==e.error?(jQuery("#records_suc_message_des").html(e.message),arflite_success_msg(),jQuery("#delete_form_message").parents(".arf_popup_container").removeClass("arfactive"),jQuery("#frm_errors").delay(5e3).fadeOut("slow"),jQuery("#delete_form_message").parents(".arf_modal_overlay").removeClass("arfactive"),jQuery("#delete_form_message").removeClass("arfactive"),jQuery("span.arflite_total_entry_"+a).html(e.arftotrec),r=jQuery(".arflite_total_entry_li_"+a).html(),jQuery(".arflite_total_entry_li_"+a).attr("data-label",r),""!=e.arftotrec&&0<e.arftotrec?(jQuery(".arfentry_delete_div_"+t).parents("tr").remove(),jQuery("#example").DataTable().destroy()):jQuery("#example").dataTable().fnDestroy(),arf_load_form_entries_grid(!0,0)):(jQuery("#records_error_message_des").html(e.message),arforms_error_msg())}})}function arforms_error_msg(){jQuery("#error_message").delay(100).animate({width:"toggle"},"slow"),setTimeout(function(){jQuery("#error_message").animate({width:"toggle"},"slow")},4e3)}function arflite_delete_bulk_entries(e){jQuery("#delete_bulk_entry_flag").val("true");jQuery("form#list_entry_form").submit(),jQuery('[data-dismiss="arfmodal"]').trigger("click")}jQuery(document).ready(function(e){0<jQuery("#ARForms-page").length&&"ARForms-entries"==jQuery("#ARForms-page").val()&&arflite_load_edit_entries_page_grid()}),jQuery(document).on("click","#arf_prev_entry_button",function(){var e=jQuery("#arf_view_entry_modal_form_title").text(),r=jQuery(".active_row"),t=r.prev("tr").find("td:eq(1)").html(),a=r.prev().prev("tr").find("td:eq(1)").html();jQuery("#arf_next_entry_button").css("cursor",""),jQuery("#arf_next_entry_button").css("opacity",""),jQuery("#arf_next_entry_button").attr("disabled",!1),""!=a&&null!=a||(jQuery("#arf_prev_entry_button").css("cursor","no-drop"),jQuery("#arf_prev_entry_button").css("opacity","0.5"),jQuery("#arf_prev_entry_button").attr("disabled",!0)),""!=t&&null!=t&&(jQuery(".active_row").removeClass("active_row"),r.prev("tr").addClass("active_row")),arflite_open_entry_thickbox(t,e.slice(1,-1))}),jQuery(document).on("click","#arf_next_entry_button",function(){var e=jQuery("#arf_view_entry_modal_form_title").text(),r=jQuery(".active_row"),t=r.next("tr").find("td:eq(1)").html(),a=r.next().next("tr").find("td:eq(1)").html();jQuery("#arf_prev_entry_button").css("cursor",""),jQuery("#arf_prev_entry_button").css("opacity",""),jQuery("#arf_prev_entry_button").attr("disabled",!1),""!=a&&null!=a||(jQuery("#arf_next_entry_button").css("cursor","no-drop"),jQuery("#arf_next_entry_button").css("opacity","0.5"),jQuery("#arf_next_entry_button").attr("disabled",!0)),""!=t&&null!=t&&(jQuery(".active_row").removeClass("active_row"),r.next("tr").addClass("active_row")),arflite_open_entry_thickbox(t,e.slice(1,-1))}),jQuery(document).on("click",".arflite_view_entry",function(){jQuery(".active_row").removeClass("active_row"),jQuery(this).closest("tr").addClass("active_row");var e=jQuery(".active_row"),r=e.prev("tr").find("td:eq(1)").html(),e=e.next("tr").find("td:eq(1)").html();""==r||null==r?(jQuery("#arf_prev_entry_button").css("cursor","no-drop"),jQuery("#arf_prev_entry_button").css("opacity","0.5"),jQuery("#arf_prev_entry_button").attr("disabled",!0)):(jQuery("#arf_prev_entry_button").css("cursor",""),jQuery("#arf_prev_entry_button").css("opacity",""),jQuery("#arf_prev_entry_button").attr("disabled",!1)),""==e||null==e?(jQuery("#arf_next_entry_button").css("cursor","no-drop"),jQuery("#arf_next_entry_button").css("opacity","0.5"),jQuery("#arf_next_entry_button").attr("disabled",!0)):(jQuery("#arf_next_entry_button").css("cursor",""),jQuery("#arf_next_entry_button").css("opacity",""),jQuery("#arf_next_entry_button").attr("disabled",!1))}),jQuery(document).on("click",".arf_bulk_delete_entry_close_btn",function(e){jQuery("#delete_bulk_entry_message").removeClass("arfactive"),jQuery("#delete_bulk_entry_message").parents(".arf_modal_overlay").removeClass("arfactive")}),jQuery(document).on("click","#arf_delete_single_entry",function(){var e,r,t=jQuery(this).attr("data-id");null!=t&&"undefined"!=t&&(e="",e=(e=(e=(e=(e+='<div class="delete_popup delete_entry_popup arfactive delete_entry_message_'+t+'" id="delete_form_message">')+'<input type="hidden" value="'+t+'" id="delete_entry_id"/><div class="delete_column_arrow"></div>')+'<div class="delete_title"><div class="delete_confirm_message">'+__ARF_DEL_ENTRY_MSG+'</div><div class="delete_popup_footer">')+'<button type="button" class="rounded_button add_button arf_delete_modal_left arfdelete_color_red" onclick="arfliteentryactionfunc(\'delete\', '+t+');">'+__ARF_DELETE_TEXT+"</button>&nbsp;&nbsp;")+'<button type="button" class="rounded_button delete_button arfdelete_color_gray" onclick="arflite_delete_close_popup_entry('+t+');">'+__ARF_CANCEL_TEXT+"</button></div></div></div>",r=jQuery(this).parent(".arfentry_delete_div_"+t).find("#arf_delete_single_entry"),jQuery(e).insertAfter(r),jQuery(".delete_entry_message_"+t).show())}),jQuery(document).on("click","#arf_close_single_entry_modal",function(){jQuery("#delete_form_message").parents(".arf_modal_overlay").removeClass("arfactive"),jQuery("#delete_form_message").removeClass("arfactive")}),jQuery(document).on("click","#cb-select-all-1",function(){console.log("inside this click "),jQuery('input[name="item-action[]"]').prop("checked",this.checked)});