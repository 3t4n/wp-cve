"use strict";!function(){function e(e){return document.getElementById(e)}function a(e){for(var a,r=e.target.files||e.dataTransfer.files,t=0;a=r[t];t++){var n=jQuery(this).attr("data-val");i(a,n)}}function r(e){for(var a,r=e.target.files||e.dataTransfer.files,i=0;a=r[i];i++){var n=jQuery(this).attr("data-val");t(a,n)}}function t(e,a){var r=e.name,t=r.lastIndexOf("."),t=r.substring(t+1);if("csv"!=t.toLowerCase())return jQuery("#error_message").find(".message_descripiton > div").first().html(__ARF_UPLOAD_CSV_MSG),arflite_error_msg(),jQuery("#arf_preset_data_"+a).val(""),!1;jQuery(".arf_preset_field_content_wrapper_"+a).find("button.btn_2").css("opacity","0.5");var i=new XMLHttpRequest,n=(new Date).getTime(),_=e.name.lastIndexOf("."),d=e.name.substring(_+1),s=/.*(?=\.)/.exec(e.name),o=n+"_"+s,f=o.replace(/[^\w\s]/gi,"").replace(/ /g,"")+"."+d.toLowerCase(),l=jQuery(".arf_ajax_url").val(),u=jQuery("#arflite_preset_nonce").val();i.open("POST",l,!0),i.setRequestHeader("X_FILENAME",f),i.setRequestHeader("X-FILENAME",f);var m=new FormData;m.append("action","arflite_add_new_preset"),m.append("preset_file",e),m.append("_nonce_add_preset",u),i.send(m),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){jQuery(".arf_preset_field_content_wrapper_"+a).find("button.btn_2").css("opacity","");var e=i.responseText;if(/error/g.test(e)){var r=e.split("~|~");jQuery("#error_message").find(".message_descripiton > div").first().html(r[1]),arflite_error_msg(),jQuery("#arf_preset_data_"+a).val("")}else jQuery("#arf_preset_data_"+a).attr("db_file_name",e.toLowerCase())}}}function i(e,a){if(e.type.indexOf("image")<0)return jQuery('[data-val="'+a+'"]').val(""),alert("Please upload image files only"),!1;var r,t=!1;if("undefined"!=typeof a){var i="";i=a.split("_radio_label_image_");var n=jQuery('[data-id="arfmainformurl"]').val(),_=n+"/images/ajax-loader1.gif";if("arf_add_radio"==i[0]&&"undefined"!=typeof a){var d="arf_radio_label_image_"+i[1];r=i[1],jQuery("#"+d).html("<img src="+_+' class="arfupload-radio-img" />'),t=!0}}"form_bg"==a?jQuery("#ajax_form_loader").show():"submit_hover_bg"==a?jQuery("#ajax_submit_hover_loader").show():"submit_btn_img"==a&&jQuery("#ajax_submit_loader").show();var s=new XMLHttpRequest,o=(new Date).getTime(),f=e.name.lastIndexOf("."),l=e.name.substring(f+1),u=/.*(?=\.)/.exec(e.name),m=o+"_"+u,g=m.replace(/[^\w\s]/gi,"").replace(/ /g,"")+"."+l.toLowerCase(),c=(jQuery('[data-id="arfmainformurl"]').val(),jQuery('[data-id="arffiledragurl"]').val(),document.getElementById("arfajaxurl").value);s.open("POST",c);var p=new FormData,v=jQuery("#arflite_validation_nonce").val();p.append("_wpnonce_arflite",v),p.append("action","arflite_send_form_data_admin"),p.append("files",e),s.setRequestHeader("X_FILENAME",g),s.setRequestHeader("X-FILENAME",g),s.send(p),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var e=s.responseText;if(/(error_upload)/g.test(e)){var i=jQuery(e).text();return jQuery("#error_message").find(".message_descripiton > div").first().html(i),1==t&&(jQuery("#arf_radio_label_image_"+r).html(""),jQuery("#del_img_id_"+r).hide()),arflite_error_msg(),jQuery(".arf_form_style_file_upload_loader").hide(),!1}var n="";if("undefined"!=typeof a&&(n=a.split("_radio_label_image_")),"form_bg"==a&&"undefined"!=a){if(document.getElementById("imagename_form").value=e,"function"!=typeof arflite_change_form_bg_img)return;arflite_change_form_bg_img()}else if("submit_hover_bg"==a&&"undefined"!=a){if(document.getElementById("imagename_submit_hover").value=e,"function"!=typeof arflite_change_submit_hover_img)return;arflite_change_submit_hover_img()}else if("arf_add_radio"==n[0]&&"undefined"!=typeof a){var _=n[1]+"_arf_radio_image_"+e;if(document.getElementById("arf_radio_image_name").value=_,"function"!=typeof arflite_change_radio_image)return;arflite_change_radio_image(n[1])}else{if(document.getElementById("imagename").value=e,"function"!=typeof arflite_change_submit_img)return;arflite_change_submit_img()}}}}window.File&&window.FileList&&window.FileReader,jQuery(document).on("click",".original",function(){var r=e(jQuery(this).attr("id"));r.addEventListener("change",a,!1);var t=new XMLHttpRequest;t.upload}),jQuery(document).on("click",".arf_preset_data",function(){var a=e(jQuery(this).attr("id"));a.addEventListener("change",r,!1);var t=new XMLHttpRequest;t.upload})}();