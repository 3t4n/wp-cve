jQuery(document).ready(function(e){e("#by-file-title").on("click",function(){var t=e(this).is(":checked")?["0.4","none"]:["1","initial"];e("#cards_title-wrp").css("opacity",t[0]).css("pointer-events",t[1])}),e(".back-default").on("click",function(t){e(t.target).is("input")||e(this).find(".def-back-card-choice").trigger("click"),e(".back-default").removeClass("active"),e(this).addClass("active")}),e(".def-back-card-choice").on("click",function(){e(this).is(":checked")&&(e(".back-default").removeClass("active"),e(this).closest(".back-default").addClass("active"))}),e("#eos_cat-image").on("click",function(t){return t.preventDefault(),inputElement=e(this).prev("input"),uploadID=inputElement,cardPreview=e(this).closest(".img_preview"),frame=wp.media({title:eos_cards_genre.upload_img_header,button:{text:eos_cards_genre.button_text_back},library:{type:["image"]},multiple:!1}),frame.on("select",function(){var e=frame.state().get("selection").first().toJSON();cardPreview.find("img").attr("src",e.url),cardPreview.find(".eos-cards-opt-radio").prop("checked",!0),cardPreview.removeClass("no-img-preview"),inputElement.val(e.id),cardPreview.addClass("active")}),frame.open(),!1}),e(".eos-generate-from-imgs").on("click",function(t){e(".eos-cards-notice").addClass("eos-hidden");var i=e(this);i.addClass("eos-cards-in-progress"),t.preventDefault(),frame=wp.media({title:eos_cards_genre.generate_from_imgs_header,button:{text:eos_cards_genre.generate_from_imgs_text},library:{type:["image"]},multiple:!0}),frame.on("select",function(){var t=frame.state().get("selection").toJSON(),a=e(window.parent.document),s=[];return e.each(t,function(){s.push(this.id)}),e.ajax({type:"POST",url:ajaxurl,data:{nonce:a.find("#eos_cards_creation_nonce").val(),title_by_file:a.find("#by-file-title").is(":checked"),new_deck_title:a.find("#name").val(),ids:s.join(","),action:"eos_create_cards_from_imgs"},success:function(e){var t=parseInt(e);if(t>0){var s="cards-msg-success",n=document.getElementById("eos-assigned-n");n&&(n.innerText=parseInt(n.innerText)+t)}else s="cards-msg-fail";a.find(".tb-close-icon").trigger("click"),a.find("#"+s).removeClass("eos-hidden"),i.removeClass("eos-cards-in-progress")}}),!1}),frame.open()}),e(".taxonomy-decks #submit").on("click",function(){var t=e("#tag-name").val();""!==t&&e(document).ajaxComplete(function(){var i=e("#ajax-response .error");(i.length<1||!i.is(":visible"))&&e(".row-title").each(function(){if(t===e(this).text()){var i=e(this).closest("td").find(".edit a");window.location.href=i.attr("href")}})})})});