(()=>{function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,i){var n=a();return(t=function(e,t){return n[e-=434]})(e,i)}function a(){var e=[".grapper-handle","addFrameHTML","parent","7274785yyhhaf","Modal","danger","9838024hzelPv","ajax","addFrames","target","d-none","createGIFAction","includes","removeClass","models","click","removeFrame","prop","-custom-width","open","map","imgIndex","thumbnail","view","displayGifIcon",".frame-remove","splice","sizes","getFramesIDs","attr","frames","find",".gif-save-btn","length","-open-gallery-btn","image/jpg",".gif-save","html","tab","image/png","gpls-wgr","sortStart","move","img","img-item","ready",".img-item","disabled","-gif-dimension","frame","gif_save_failed","previewGIF","getFrames","indexOf","POST","prepareFrames","sortStop",".gif-save-options","prepend",".spinner","prototype","state","msg","frame_index","display","-gif-loop","_localize_vars","3725031esMOkV","src","counter","siblings","show","startIndex","sortable","get","showNotice","preventDefault",".gif-save-title","select_gif_frames",".gif-creator-wrapper","date","index","select","addClass","2873526awhyvh","selection","images",".frame-delay","url","-gif-speed",".gif-preview-btn","bind","-custom-height","alert-success alert-danger alert-warning","88CkbvML","-context-modal",".img-item-clone","timeout","frameid","status",'li.attachment[data-id="',"item","-gif-notices","result","val","forEach","gpls-wgr-wp-gif-editor","gpls_wgr_wp_gif_editor","labels","updateFrames","toast","remove","237302xflVIm","image/jpeg","-gif-frames-sortable","pointer","frameIndex","is-active","events","each","displayGIF","d-none img-item-clone","keys",".gif-result","media","ajaxUrl","260030tmJGoN","data","toJSON","append","media_modal_pro","push","selection:single","framesIDs","2328744nxeOzZ","nonce"];return(a=function(){return e})()}(function(e,a){for(var i=t,n=e();;)try{if(634710==parseInt(i(530))/1+parseInt(i(552))/2+-parseInt(i(485))/3+parseInt(i(512))/4*(parseInt(i(544))/5)+-parseInt(i(502))/6+parseInt(i(557))/7+-parseInt(i(560))/8)break;n.push(n.shift())}catch(e){n.push(n.shift())}})(a),function(a){"use strict";var i=t,n=i(524),r=i(525),s=window[r+i(484)],o=i(458),l=null,u=i(504);a(document).on("ready",(function(){var e,t;u=s[i(456)],a("."+o+(t=i)(452)).on(t(569),(function(i){var r=t;i.preventDefault(),a(this).data("context");var c,f,d,p={id:o+"-gif-creator-media-box",title:s.labels.select_images,library:(c={orderby:r(498),query:!0,post_mime_type:[r(457),r(453),r(531)]},f=n+r(513),d="gif-create",f in c?Object.defineProperty(c,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[f]=d,c),button:{text:s[r(526)][r(496)]},multiple:!0};(e=wp[r(542)](p)).open(),e.on(r(500),(function(t,a){var i=r,n=e[i(479)]().get(i(503))[i(546)]();u===i(504)&&l[i(562)](n)}))})),wp.media[t(441)][t(558)][t(478)].on(t(437),(function(e){var i=t;wp[i(542)].frame[i(479)]()[i(492)](i(503)).on(i(550),(function(e){var t=i,n=wp[t(542)][t(467)][t(479)]()[t(492)](t(503))[t(568)],r=l[t(446)]();n[t(451)]+r[t(451)]>4&&a(t(518)+e.id+'"]')[t(569)]()}))})),wp[t(542)].view[t(558)][t(478)].on(t(463),(function(){var e=t;wp[e(542)][e(467)].$el[e(449)](".attachments-wrapper")[e(476)](s[e(526)][e(548)])})),l=new c}));var c=function(t,r,l,u,c,f,d,p,v,m){function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e=i;this[e(448)]=[],this[e(551)]=[],this[e(487)]=0,this[e(490)]=0,this[e(536)]()}var h,y;return h=g,y=[{key:t,value:function(){var e=this,t=i,n=this;a("."+o+t(532))[t(491)]({handle:t(554),tolerance:t(533),start:this[t(459)][t(509)](this),stop:this[t(474)][t(509)](this),cursor:t(460),containment:t(556)}),a("."+o+t(532)).on(t(569),t(443),(function(e){var i=t;e[i(494)]();var r=a(this)[i(545)]("id");a(this).parents(i(464))[i(529)](),n[i(434)](r)})),a(t(497)).on("click",t(508),(function(i){var n=t;i[n(494)](),a(n(541)).addClass("d-none"),e.previewGIF(a(i[n(563)]))})),a(t(454)).on(t(569),t(450),(function(i){var n=t;i[n(494)]();var r=a(n(508)),l=a(i[n(563)]);r[n(501)](n(465)).prop(n(465),!0),r[n(488)](".spinner")[n(501)]("is-active"),l[n(501)](n(465)).prop(n(465),!0),l[n(488)](n(477)).addClass(n(535));var u=a("."+o+n(466))[n(522)](),c={width:a("."+o+n(436)).val(),height:a("."+o+n(510)).val()},f=a(".gif-img")[n(447)](n(486)),d=a(n(495)).val();a[n(561)]({type:n(472),url:s[n(543)],data:{action:s.saveGIFAction,nonce:s[n(553)],gif:f,title:d,sizeType:u,customSize:c},success:function(t){var i=n;e[i(493)](t[i(545)][i(480)],t[i(545)].status),e[i(442)](t[i(545)][i(482)]),a(i(475))[i(501)](i(564))},error:function(t){var a=n;e[a(493)](s[a(526)][a(468)],a(559))},complete:function(){var e=n;r[e(567)](e(465))[e(435)](e(465),!1),r.siblings(e(477))[e(567)](e(535)),l[e(567)](e(465))[e(435)](e(465),!1),l[e(488)](e(477))[e(567)]("is-active")}})}))}},{key:r,value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=i,c=a("#"+n+u(507))[u(522)](),f=a("#"+n+u(483))[u(522)](),d=a("."+o+u(466)).val(),p=a("."+o+u(436))[u(522)](),v=a("."+o+u(510))[u(522)](),m={width:p,height:v},g=!1;e[u(501)]("disabled").prop(u(465),!0),e[u(488)](u(477))[u(501)](u(535));var h=this[u(448)][u(438)]((function(e){return e.id})),y=a(u(464)),b=[];y[u(537)]((function(e,t){var i=u,n=a(t),r=(n[i(545)](i(516)),n.find(i(505))[i(522)]());b[i(549)](parseFloat(r))}));var w={action:s[u(565)],nonce:s[u(553)],frames:h,framesDelays:b,speed:c,loop:f,sizeType:d,customSize:m};null!==r&&null!==l&&(w[u(439)]=r,w[u(534)]=l),a.ajax({type:u(472),url:s[u(543)],data:w,success:function(a){var i,n,r=u;null!=a&&null!==(i=a[r(545)])&&void 0!==i&&i.status&&(null==a||null===(n=a.data)||void 0===n?void 0:n[r(517)])===r(515)?t.previewGIF(e,a[r(545)].img_index,a[r(545)][r(481)]):(a.data&&a[r(545)].msg&&t[r(493)](a[r(545)][r(480)],a[r(545)][r(517)]),a[r(545)]&&a.data.result&&t[r(538)](a[r(545)][r(521)]),g=!0)},error:function(e){g=!0},complete:function(){var t=u;g&&(e[t(567)](t(465))[t(435)](t(465),!1),e.siblings(t(477))[t(567)](t(535)))}})}},{key:l,value:function(e){var t=i,n=this;e[t(523)]((function(e){var a=t,i=e.id;n.framesIDs[a(566)](i)||(n[a(448)][a(549)](e),n[a(551)][a(549)](i),n[a(555)](e))})),n[t(551)][t(451)]&&a(t(508))[t(567)]("disabled").prop(t(465),!1)}},{key:u,value:function(){return this[i(448)]}},{key:c,value:function(){return this[i(551)]}},{key:f,value:function(e){var t=i,n=a(t(514)).clone()[t(567)](t(539))[t(501)](t(462));n[t(449)](t(443)).data("id",e.id),n[t(449)](t(443))[t(447)]("data-id",e.id);var r;r=e[t(445)]&&e.sizes[t(440)]?e.sizes[t(440)][t(506)]:e[t(506)],n[t(449)](t(461)).attr(t(486),r),a("."+o+t(532))[t(547)](n)}},{key:d,value:function(e,t){var a=i;this[a(490)]=t[a(519)][a(499)]()-1}},{key:p,value:function(e,t){var a=i,n=t.item[a(499)]()-1;this[a(527)](n),this[a(473)]()}},{key:v,value:function(e){var t=i;if(e!==this.startIndex){var a=this.framesIDs[this[t(490)]];this[t(551)].splice(this[t(490)],1),this[t(551)][t(444)](e,0,a)}}},{key:"removeFrame",value:function(e){var t=i;this[t(448)]=this[t(448)].filter((function(t){return t.id!=e}));var n=this.framesIDs[t(471)](e);-1!==n&&this[t(551)].splice(n,1),0===this[t(551)].length&&a(t(508)).addClass(t(465)).prop(t(465),!0)}},{key:"prepareFrames",value:function(){var e=this,t=i,a=Object[t(540)](this.frames).sort((function(a,i){var n=t;return e[n(551)][n(471)](e[n(448)][a].id)-e[n(551)][n(471)](e[n(448)][i].id)}));this[t(448)]=a.map((function(a,i){return e[t(448)][a]}))}},{key:"displayGIF",value:function(e){var t=i,n=a(".gif-result");n[t(449)](".gif-img")[t(447)](t(486),e),n.removeClass(t(564)),n[t(449)](t(454))[t(567)](t(564)),n[t(449)](".gif-save-options")[t(567)]("d-none")}},{key:"displayGifIcon",value:function(e){var t=i,n=a(".gif-icon-box-container");n[t(455)](e),n[t(567)]("d-none")}},{key:m,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(559),n=i,r=a("."+o+n(520));r[n(567)](n(511))[n(501)]("alert-"+t)[n(449)](".toast-body").text(e),r[n(528)](n(489))}}],y&&e(h.prototype,y),Object.defineProperty(h,"prototype",{writable:!1}),g}(i(536),i(469),i(562),i(470),i(446),i(555),i(459),i(474),i(527),i(493))}(jQuery)})();