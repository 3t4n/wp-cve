{"version":3,"file":"../../js/llms-admin-award-certificate.min.js","sources":["llms-admin-award-certificate.js"],"sourcesContent":["!function(){\"use strict\";var e=window.wp.element,t=window.wp.url,l=window.wp.data;window.wp.editor;var n=window.wp.i18n,a=window.wp.components,r=window.llms.components,i=window.wp.coreData,o=window.llms.utils;function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const l={post_type:\"llms_my_certificate\"};return e&&(l.sid=e),(0,t.addQueryArgs)(`${(0,o.getAdminUrl)()}/post-new.php`,l)}const d=\"llms-award-certificate-wrapper\",c={},m={},u=function(){let e=document.querySelector(\".page-title-action\");return e&&(c.top=\"-3px\",c.position=\"relative\"),e||(e=document.getElementById(\"llms-new-award-button\"),c.marginBottom=\"20px\",c.display=\"inline-block\",m.studentId=parseInt((0,t.getQueryArg)(window.location,\"student_id\")),m.selectStudent=!1),e&&(m.buttonLabel=e.textContent),e}();(function(){if(!u)return!1;const e=document.createElement(\"span\");return e.id=d,Object.entries(c).forEach((t=>{let[l,n]=t;e.style[l]=n})),u.style.display=\"none\",u.after(e),!0})()&&(0,e.render)((0,e.createElement)((function(d){let{modalTitle:c=(0,n.__)(\"Award a New Certificate\",\"lifterlms\"),buttonLabel:m=(0,n.__)(\"Award\",\"lifterlms\"),isDisabled:u=!1,enableScratch:p=!0,selectStudent:w=!0,selectTemplate:f=!0,studentId:_=null,templateId:y=null}=d;const[h,g]=(0,e.useState)(!1),[b,E]=(0,e.useState)(!1),[C,v]=(0,e.useState)(_),[x,S]=(0,e.useState)(y),A=()=>g(!1),B=C&&x;return(0,e.createElement)(e.Fragment,null,h&&(0,e.createElement)(a.Modal,{title:c,style:{maxWidth:\"420px\"},onRequestClose:A},(0,e.createElement)(\"p\",null,function(e,t){let l=\"\";return e&&t?l=(0,n.__)(\"Create a new certificate award from the selected template for the selected student.\",\"lifterlms\"):e&&!t?l=(0,n.__)(\"Create a new certificate award from this template for the selected student.\",\"lifterlms\"):!e&&t&&(l=(0,n.__)(\"Create a new certificate award from the selected template for this student.\",\"lifterlms\")),l}(w,f)),w&&(0,e.createElement)(r.UserSearchControl,{isClearable:!0,label:(0,n.__)(\"Award to\",\"lifterlms\"),selectedValue:_?[_]:[],onUpdate:e=>{const t=(null==e?void 0:e.id)||null;v(t)}}),f&&(0,e.createElement)(r.PostSearchControl,{isClearable:!0,postType:\"llms_certificate\",label:(0,n.__)(\"Template\",\"lifterlms\"),placeholder:(0,n.__)(\"Search for a certificate templateâ€¦\",\"lifterlms\"),selectedValue:y?[y]:[],onUpdate:e=>{const t=(null==e?void 0:e.id)||null;S(t)}}),(0,e.createElement)(\"div\",{style:{textAlign:\"right\",padding:\"24px 32px 0\",margin:\"24px -32px 0\",borderTop:\"1px solid #ddd\"}},(0,e.createElement)(a.Button,{style:{marginRight:\"5px\"},disabled:!B,isBusy:b,variant:\"primary\",onClick:()=>{E(!0),function(e,t){const{saveEntityRecord:n}=(0,l.dispatch)(i.store);return n(\"postType\",\"llms_my_certificate\",{author:e,certificate_template:t,status:\"draft\"})}(C,x).then((e=>{let{id:l}=e;var n;window.location=(n=l,(0,t.addQueryArgs)(`${(0,o.getAdminUrl)()}/post.php`,{post:n,action:\"edit\",newAwardMsg:1}))}))}},(0,n.__)(\"Create Draft\")),p&&(0,e.createElement)(a.Button,{style:{marginRight:\"5px\"},variant:\"secondary\",href:s(C)},(0,n.__)(\"Start from Scratch\",\"lifterlms\")),(0,e.createElement)(a.Button,{variant:\"tertiary\",onClick:A},(0,n.__)(\"Cancel\",\"lifterlms\")))),(0,e.createElement)(a.Button,{disabled:u,variant:\"secondary\",onClick:()=>g(!0)},m))}),m),document.getElementById(d))}();"],"names":["e","window","wp","element","t","url","l","data","n","editor","i18n","a","components","r","llms","i","coreData","o","utils","d","c","m","u","let","document","querySelector","top","position","getElementById","marginBottom","display","studentId","parseInt","getQueryArg","location","selectStudent","buttonLabel","textContent","createElement","id","Object","entries","forEach","style","after","render","modalTitle","__","isDisabled","enableScratch","p","w","selectTemplate","f","_","templateId","y","h","g","useState","b","E","C","v","x","S","A","B","Fragment","Modal","title","maxWidth","onRequestClose","UserSearchControl","isClearable","label","selectedValue","onUpdate","PostSearchControl","postType","placeholder","textAlign","padding","margin","borderTop","Button","marginRight","disabled","isBusy","variant","onClick","dispatch","store","saveEntityRecord","author","certificate_template","status","then","addQueryArgs","getAdminUrl","post","action","newAwardMsg","href","post_type","arguments","length","sid","s"],"mappings":"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","sourceRoot":"../../js"}