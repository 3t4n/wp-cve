(function(z,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(z=typeof globalThis<"u"?globalThis:z||self,e(z.CommonsSearch={},z.Vue))})(this,function(z,e){"use strict";var Fc=Object.defineProperty;var jc=(z,e,re)=>e in z?Fc(z,e,{enumerable:!0,configurable:!0,writable:!0,value:re}):z[e]=re;var At=(z,e,re)=>(jc(z,typeof e!="symbol"?e+"":e,re),re);const re=Symbol("TinyI18n");function Ot(t){const[n]=t.split("_",1);return n}function Pt(t){const n=[];let o=t;for(;;){n.push(o);const a=o.lastIndexOf("-");if(a===-1)break;o=o.substring(0,a)}return n.map(a=>a.replace(/-/g,"_"))}function Rt(t,n){const[o,...a]=t;if(!o)return;const l=n[o];return a.length===0&&typeof l=="string"?l:a.length>0&&typeof l=="object"?Rt(a,l):void 0}function Ft(t,n){let o=t;for(const[a,l]of Object.entries(n))o=o.replace(new RegExp("{"+a+"}","g"),String(l));return o}function Go(t,n){const o=t.split("|"),a=Math.abs(n);return o.length===2?(a===1?o[0]:o[1]).trim():o.length===3?o[Math.min(a,2)].trim():t}function Wo(t,n,o,a,l){const[r,i]=typeof a=="number"?[a,l]:[void 0,a];let s="";for(const c of t){const u=Ot(c);s||(s=u),u!==s&&(console.warn(`[TinyI18n] Missing ${s} translation for key '${o}'`),s=u);const d=n.filter(p=>p.locale===c).map(p=>p.messages);for(const p of d){let m=Rt(o.split("."),p);if(typeof m=="string")return typeof r=="number"&&(m=Ft(Go(m,r),{n:r})),i?Ft(m,i):m}}}function Yo(t){return{install(n){const o=t.messages||[],a=e.ref(t.locale||"en"),l=e.ref(t.fallbackLocales||[]),r=e.ref(Array.isArray(o)?o:[o]),i=e.computed(()=>Ot(a.value)),s=e.ref((t==null?void 0:t.untranslatedString)||"! UNTRANSLATED "),c=e.computed(()=>Pt(a.value).concat(...l.value.map(d=>Pt(d))));n.provide(re,{locale:a,fallbackLocales:l,globalMessages:r,language:i,preferredLocales:c,untranslatedString:s})}}}function*qo(t,n){const o=t.type.__name;if(o)for(const a of n)for(const[l,r]of Object.entries(a)){if(!(o in r))continue;const i=r[o];typeof i!="string"&&(yield{locale:l,messages:i})}}function*Ko(t){if("i18n"in t.type&&!(typeof t.type.i18n>"u"))for(const[n,o]of Object.entries(t.type.i18n))yield{locale:n,messages:o}}function*Zo(t){for(const n of t)for(const[o,a]of Object.entries(n))yield{locale:o,messages:a}}function H(){const t=e.getCurrentInstance(),n=e.inject(re),o=e.computed(()=>{const l=[];return t&&(l.push(...qo(t,n.globalMessages.value)),l.push(...Ko(t))),l.push(...Zo(n.globalMessages.value)),l});function a(l,r,i){return Wo(n.preferredLocales.value,o.value,l,r,i)??n.untranslatedString.value}return{locale:n.locale,fallbackLocales:n.fallbackLocales,language:n.language,t:a}}const zc="",jt={en:{common:"Item | Items"},de:{common:"Artikel | Artikel"}};function ie(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function Qo(t){let n=!1,o;const a=e.effectScope(!0);return(...l)=>(n||(o=a.run(()=>t(...l)),n=!0),o)}function A(t){return typeof t=="function"?t():e.unref(t)}const Ke=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Jo=t=>typeof t<"u",Xo=t=>t!=null,ea=Object.prototype.toString,ta=t=>ea.call(t)==="[object Object]",Ze=(t,n,o)=>Math.min(o,Math.max(n,t)),W=()=>{};function Qe(t,n){function o(...a){return new Promise((l,r)=>{Promise.resolve(t(()=>n.apply(this,a),{fn:n,thisArg:this,args:a})).then(l).catch(r)})}return o}const zt=t=>t();function Ut(t,n={}){let o,a,l=W;const r=s=>{clearTimeout(s),l(),l=W};return s=>{const c=A(t),u=A(n.maxWait);return o&&r(o),c<=0||u!==void 0&&u<=0?(a&&(r(a),a=null),Promise.resolve(s())):new Promise((d,p)=>{l=n.rejectOnCancel?p:d,u&&!a&&(a=setTimeout(()=>{o&&r(o),a=null,d(s())},u)),o=setTimeout(()=>{a&&r(a),a=null,d(s())},c)})}}function na(t,n=!0,o=!0,a=!1){let l=0,r,i=!0,s=W,c;const u=()=>{r&&(clearTimeout(r),r=void 0,s(),s=W)};return p=>{const m=A(t),f=Date.now()-l,b=()=>c=p();return u(),m<=0?(l=Date.now(),b()):(f>m&&(o||!i)?(l=Date.now(),b()):n&&(c=new Promise((w,y)=>{s=a?y:w,r=setTimeout(()=>{l=Date.now(),i=!0,w(b()),u()},Math.max(0,m-f))})),!o&&!r&&(r=setTimeout(()=>i=!0,m)),i=!1,c)}}function oa(t=zt){const n=e.ref(!0);function o(){n.value=!1}function a(){n.value=!0}const l=(...r)=>{n.value&&t(...r)};return{isActive:e.readonly(n),pause:o,resume:a,eventFilter:l}}function aa(t,n=200,o={}){return Qe(Ut(n,o),t)}function la(t,n=200,o=!1,a=!0,l=!1){return Qe(na(n,o,a,l),t)}function Ht(t,n,o={}){const{eventFilter:a=zt,...l}=o;return e.watch(t,Qe(a,n),l)}function Gt(t,n,o={}){const{eventFilter:a,...l}=o,{eventFilter:r,pause:i,resume:s,isActive:c}=oa(a);return{stop:Ht(t,n,{...l,eventFilter:r}),pause:i,resume:s,isActive:c}}function Wt(t,n,...[o]){const{flush:a="sync",deep:l=!1,immediate:r=!0,direction:i="both",transform:s={}}=o||{},c=[],u="ltr"in s&&s.ltr||(m=>m),d="rtl"in s&&s.rtl||(m=>m);return(i==="both"||i==="ltr")&&c.push(Gt(t,m=>{c.forEach(f=>f.pause()),n.value=u(m),c.forEach(f=>f.resume())},{flush:a,deep:l,immediate:r})),(i==="both"||i==="rtl")&&c.push(Gt(n,m=>{c.forEach(f=>f.pause()),t.value=d(m),c.forEach(f=>f.resume())},{flush:a,deep:l,immediate:r})),()=>{c.forEach(m=>m.stop())}}function Je(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function ra(t,n=1e3,o={}){const{immediate:a=!0,immediateCallback:l=!1}=o;let r=null;const i=e.ref(!1);function s(){r&&(clearInterval(r),r=null)}function c(){i.value=!1,s()}function u(){const d=A(n);d<=0||(i.value=!0,l&&t(),s(),r=setInterval(t,d))}if(a&&Ke&&u(),e.isRef(n)||typeof n=="function"){const d=e.watch(n,()=>{i.value&&Ke&&u()});ie(d)}return ie(c),{isActive:i,pause:c,resume:u}}function ia(t,n,o={}){const{debounce:a=0,maxWait:l=void 0,...r}=o;return Ht(t,n,{...r,eventFilter:Ut(a,{maxWait:l})})}function sa(t,n,o){let a;e.isRef(o)?a={evaluating:o}:a=o||{};const{lazy:l=!1,evaluating:r=void 0,shallow:i=!0,onError:s=W}=a,c=e.ref(!l),u=i?e.shallowRef(n):e.ref(n);let d=0;return e.watchEffect(async p=>{if(!c.value)return;d++;const m=d;let f=!1;r&&Promise.resolve().then(()=>{r.value=!0});try{const b=await t(w=>{p(()=>{r&&(r.value=!1),f||w()})});m===d&&(u.value=b)}catch(b){s(b)}finally{r&&m===d&&(r.value=!1),f=!0}}),l?e.computed(()=>(c.value=!0,u.value)):u}function q(t){var n;const o=A(t);return(n=o==null?void 0:o.$el)!=null?n:o}const oe=Ke?window:void 0;function Me(...t){let n,o,a,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,a,l]=t,n=oe):[n,o,a,l]=t,!n)return W;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const r=[],i=()=>{r.forEach(d=>d()),r.length=0},s=(d,p,m,f)=>(d.addEventListener(p,m,f),()=>d.removeEventListener(p,m,f)),c=e.watch(()=>[q(n),A(l)],([d,p])=>{if(i(),!d)return;const m=ta(p)?{...p}:p;r.push(...o.flatMap(f=>a.map(b=>s(d,f,b,m))))},{immediate:!0,flush:"post"}),u=()=>{c(),i()};return ie(u),u}function ca(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Xe(t){const n=ca();return e.computed(()=>(n.value,!!t()))}function ua(t,n={}){const{immediate:o=!0,fpsLimit:a=void 0,window:l=oe}=n,r=e.ref(!1),i=a?1e3/a:null;let s=0,c=null;function u(m){if(!r.value||!l)return;const f=m-(s||m);if(i&&f<i){c=l.requestAnimationFrame(u);return}t({delta:f,timestamp:m}),s=m,c=l.requestAnimationFrame(u)}function d(){!r.value&&l&&(r.value=!0,c=l.requestAnimationFrame(u))}function p(){r.value=!1,c!=null&&l&&(l.cancelAnimationFrame(c),c=null)}return o&&d(),ie(p),{isActive:e.readonly(r),pause:p,resume:d}}function Yt(t,n={}){const{window:o=oe}=n,a=Xe(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let l;const r=e.ref(!1),i=u=>{r.value=u.matches},s=()=>{l&&("removeEventListener"in l?l.removeEventListener("change",i):l.removeListener(i))},c=e.watchEffect(()=>{a.value&&(s(),l=o.matchMedia(A(t)),"addEventListener"in l?l.addEventListener("change",i):l.addListener(i),r.value=l.matches)});return ie(()=>{c(),s(),l=void 0}),r}function da(t,n=(a,l)=>a===l,o){const a=e.ref(t.value);return e.watch(()=>t.value,l=>{n(l,a.value)||(a.value=l)},o),a}function pa(t){return JSON.parse(JSON.stringify(t))}function fa(t={}){const{window:n=oe}=t,o=e.ref(1);if(n){let a=function(){o.value=n.devicePixelRatio,l(),r=n.matchMedia(`(resolution: ${o.value}dppx)`),r.addEventListener("change",a,{once:!0})},l=function(){r==null||r.removeEventListener("change",a)},r;a(),ie(l)}return{pixelRatio:o}}function et(t,n,o={}){const{window:a=oe,...l}=o;let r;const i=Xe(()=>a&&"ResizeObserver"in a),s=()=>{r&&(r.disconnect(),r=void 0)},c=e.computed(()=>Array.isArray(t)?t.map(p=>q(p)):[q(t)]),u=e.watch(c,p=>{if(s(),i.value&&a){r=new ResizeObserver(n);for(const m of p)m&&r.observe(m,l)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{s(),u()};return ie(d),{isSupported:i,stop:d}}function ma(t,n={}){const{reset:o=!0,windowResize:a=!0,windowScroll:l=!0,immediate:r=!0}=n,i=e.ref(0),s=e.ref(0),c=e.ref(0),u=e.ref(0),d=e.ref(0),p=e.ref(0),m=e.ref(0),f=e.ref(0);function b(){const w=q(t);if(!w){o&&(i.value=0,s.value=0,c.value=0,u.value=0,d.value=0,p.value=0,m.value=0,f.value=0);return}const y=w.getBoundingClientRect();i.value=y.height,s.value=y.bottom,c.value=y.left,u.value=y.right,d.value=y.top,p.value=y.width,m.value=y.x,f.value=y.y}return et(t,b),e.watch(()=>q(t),w=>!w&&b()),l&&Me("scroll",b,{capture:!0,passive:!0}),a&&Me("resize",b,{passive:!0}),Je(()=>{r&&b()}),{height:i,bottom:s,left:c,right:u,top:d,width:p,x:m,y:f,update:b}}function qt(t,n={width:0,height:0},o={}){const{window:a=oe,box:l="content-box"}=o,r=e.computed(()=>{var p,m;return(m=(p=q(t))==null?void 0:p.namespaceURI)==null?void 0:m.includes("svg")}),i=e.ref(n.width),s=e.ref(n.height),{stop:c}=et(t,([p])=>{const m=l==="border-box"?p.borderBoxSize:l==="content-box"?p.contentBoxSize:p.devicePixelContentBoxSize;if(a&&r.value){const f=q(t);if(f){const b=a.getComputedStyle(f);i.value=Number.parseFloat(b.width),s.value=Number.parseFloat(b.height)}}else if(m){const f=Array.isArray(m)?m:[m];i.value=f.reduce((b,{inlineSize:w})=>b+w,0),s.value=f.reduce((b,{blockSize:w})=>b+w,0)}else i.value=p.contentRect.width,s.value=p.contentRect.height},o);Je(()=>{const p=q(t);p&&(i.value="offsetWidth"in p?p.offsetWidth:n.width,s.value="offsetHeight"in p?p.offsetHeight:n.height)});const u=e.watch(()=>q(t),p=>{i.value=p?n.width:0,s.value=p?n.height:0});function d(){c(),u()}return{width:i,height:s,stop:d}}function ba(t,n,o={}){const{root:a,rootMargin:l="0px",threshold:r=.1,window:i=oe,immediate:s=!0}=o,c=Xe(()=>i&&"IntersectionObserver"in i),u=e.computed(()=>{const b=A(t);return(Array.isArray(b)?b:[b]).map(q).filter(Xo)});let d=W;const p=e.ref(s),m=c.value?e.watch(()=>[u.value,q(a),p.value],([b,w])=>{if(d(),!p.value||!b.length)return;const y=new IntersectionObserver(n,{root:q(w),rootMargin:l,threshold:r});b.forEach(g=>g&&y.observe(g)),d=()=>{y.disconnect(),d=W}},{immediate:s,flush:"post"}):W,f=()=>{d(),m(),p.value=!1};return ie(f),{isSupported:c,isActive:p,pause(){d(),p.value=!1},resume(){p.value=!0},stop:f}}function Kt(t,n={}){const{window:o=oe,scrollTarget:a}=n,l=e.ref(!1);return ba(t,([{isIntersecting:r}])=>{l.value=r},{root:a,window:o,threshold:0}),l}const Zt=1;function ga(t,n={}){const{throttle:o=0,idle:a=200,onStop:l=W,onScroll:r=W,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:s={capture:!1,passive:!0},behavior:c="auto",window:u=oe}=n,d=e.ref(0),p=e.ref(0),m=e.computed({get(){return d.value},set(h){b(h,void 0)}}),f=e.computed({get(){return p.value},set(h){b(void 0,h)}});function b(h,S){var L,C,T;if(!u)return;const B=A(t);B&&((T=B instanceof Document?u.document.body:B)==null||T.scrollTo({top:(L=A(S))!=null?L:f.value,left:(C=A(h))!=null?C:m.value,behavior:A(c)}))}const w=e.ref(!1),y=e.reactive({left:!0,right:!1,top:!0,bottom:!1}),g=e.reactive({left:!1,right:!1,top:!1,bottom:!1}),k=h=>{w.value&&(w.value=!1,g.left=!1,g.right=!1,g.top=!1,g.bottom=!1,l(h))},v=aa(k,o+a),x=h=>{var S;if(!u)return;const L=h.document?h.document.documentElement:(S=h.documentElement)!=null?S:h,{display:C,flexDirection:T}=getComputedStyle(L),B=L.scrollLeft;g.left=B<d.value,g.right=B>d.value;const $=Math.abs(B)<=0+(i.left||0),N=Math.abs(B)+L.clientWidth>=L.scrollWidth-(i.right||0)-Zt;C==="flex"&&T==="row-reverse"?(y.left=N,y.right=$):(y.left=$,y.right=N),d.value=B;let M=L.scrollTop;h===u.document&&!M&&(M=u.document.body.scrollTop),g.top=M<p.value,g.bottom=M>p.value;const R=Math.abs(M)<=0+(i.top||0),X=Math.abs(M)+L.clientHeight>=L.scrollHeight-(i.bottom||0)-Zt;C==="flex"&&T==="column-reverse"?(y.top=X,y.bottom=R):(y.top=R,y.bottom=X),p.value=M},E=h=>{var S;if(!u)return;const L=(S=h.target.documentElement)!=null?S:h.target;x(L),w.value=!0,v(h),r(h)};return Me(t,"scroll",o?la(E,o,!0,!1):E,s),Je(()=>{const h=A(t);h&&x(h)}),Me(t,"scrollend",k,s),{x:m,y:f,isScrolling:w,arrivedState:y,directions:g,measure(){const h=A(t);u&&h&&x(h)}}}function wa(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function ha(t,n,o={}){var a;const{direction:l="bottom",interval:r=100}=o,i=e.reactive(ga(t,{...o,offset:{[l]:(a=o.distance)!=null?a:0,...o.offset}})),s=e.ref(),c=e.computed(()=>!!s.value),u=e.computed(()=>wa(A(t))),d=Kt(u);function p(){if(i.measure(),!u.value||!d.value)return;const{scrollHeight:m,clientHeight:f,scrollWidth:b,clientWidth:w}=u.value,y=l==="bottom"||l==="top"?m<=f:b<=w;(i.arrivedState[l]||y)&&(s.value||(s.value=Promise.all([n(i),new Promise(g=>setTimeout(g,r))]).finally(()=>{s.value=null,e.nextTick(()=>p())})))}return e.watch(()=>[i.arrivedState[l],d.value],p,{immediate:!0}),{isLoading:c}}function ya(t={}){const{controls:n=!1,interval:o="requestAnimationFrame"}=t,a=e.ref(new Date),l=()=>a.value=new Date,r=o==="requestAnimationFrame"?ua(l,{immediate:!0}):ra(l,o,{immediate:!0});return n?{now:a,...r}:a}function Qt(t,n,o){if(typeof t=="function"||e.isReadonly(t))return e.computed(()=>Ze(A(t),A(n),A(o)));const a=e.ref(t);return e.computed({get(){return a.value=Ze(a.value,A(n),A(o))},set(l){a.value=Ze(l,A(n),A(o))}})}function va(t){const{total:n=Number.POSITIVE_INFINITY,pageSize:o=10,page:a=1,onPageChange:l=W,onPageSizeChange:r=W,onPageCountChange:i=W}=t,s=Qt(o,1,Number.POSITIVE_INFINITY),c=e.computed(()=>Math.max(1,Math.ceil(A(n)/A(s)))),u=Qt(a,1,c),d=e.computed(()=>u.value===1),p=e.computed(()=>u.value===c.value);e.isRef(a)&&Wt(a,u),e.isRef(o)&&Wt(o,s);function m(){u.value--}function f(){u.value++}const b={currentPage:u,currentPageSize:s,pageCount:c,isFirstPage:d,isLastPage:p,prev:m,next:f};return e.watch(u,()=>{l(e.reactive(b))}),e.watch(s,()=>{r(e.reactive(b))}),e.watch(c,()=>{i(e.reactive(b))}),b}function de(t,n,o,a={}){var l,r,i;const{clone:s=!1,passive:c=!1,eventName:u,deep:d=!1,defaultValue:p,shouldEmit:m}=a,f=e.getCurrentInstance(),b=o||(f==null?void 0:f.emit)||((l=f==null?void 0:f.$emit)==null?void 0:l.bind(f))||((i=(r=f==null?void 0:f.proxy)==null?void 0:r.$emit)==null?void 0:i.bind(f==null?void 0:f.proxy));let w=u;n||(n="modelValue"),w=w||`update:${n.toString()}`;const y=v=>s?typeof s=="function"?s(v):pa(v):v,g=()=>Jo(t[n])?y(t[n]):p,k=v=>{m?m(v)&&b(w,v):b(w,v)};if(c){const v=g(),x=e.ref(v);let E=!1;return e.watch(()=>t[n],h=>{E||(E=!0,x.value=y(h),e.nextTick(()=>E=!1))}),e.watch(x,h=>{!E&&(h!==t[n]||d)&&k(h)},{deep:d}),x}else return e.computed({get(){return g()},set(v){k(v)}})}function ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const _a=Math.asin,Jt=Math.cos,Ea=Math.sin,Sa=Math.sqrt,Ca=Math.PI,xa=6378137;function La(t){return t*t}function De(t){return t*Ca/180}function Xt(t){return La(Ea(t/2))}function Ba(t,n){const o=De(Array.isArray(t)?t[1]:t.latitude||t.lat),a=De(Array.isArray(n)?n[1]:n.latitude||n.lat),l=De(Array.isArray(t)?t[0]:t.longitude||t.lng||t.lon),r=De(Array.isArray(n)?n[0]:n.longitude||n.lng||n.lon),i=Xt(a-o)+Jt(o)*Jt(a)*Xt(r-l);return 2*xa*_a(Sa(i))}var $a=Ba;const _e=ka($a);function tt(t){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tt(t)}function en(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Ve(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function tn(t){Ve(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||tt(t)==="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nt(t,n){Ve(2,arguments);var o=tn(t),a=en(n);return isNaN(a)?new Date(NaN):(a&&o.setDate(o.getDate()+a),o)}var nn=6e4,on=36e5;function se(t,n){for(var o=t<0?"-":"",a=Math.abs(t).toString();a.length<n;)a="0"+a;return o+a}function Na(t,n){var o,a;Ve(1,arguments);var l=tn(t);if(isNaN(l.getTime()))throw new RangeError("Invalid time value");var r=String((o=n==null?void 0:n.format)!==null&&o!==void 0?o:"extended"),i=String((a=n==null?void 0:n.representation)!==null&&a!==void 0?a:"complete");if(r!=="extended"&&r!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(i!=="date"&&i!=="time"&&i!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",c="",u=r==="extended"?"-":"",d=r==="extended"?":":"";if(i!=="time"){var p=se(l.getDate(),2),m=se(l.getMonth()+1,2),f=se(l.getFullYear(),4);s="".concat(f).concat(u).concat(m).concat(u).concat(p)}if(i!=="date"){var b=l.getTimezoneOffset();if(b!==0){var w=Math.abs(b),y=se(Math.floor(w/60),2),g=se(w%60,2),k=b<0?"+":"-";c="".concat(k).concat(y,":").concat(g)}else c="Z";var v=se(l.getHours(),2),x=se(l.getMinutes(),2),E=se(l.getSeconds(),2),h=s===""?"":"T",S=[v,x,E].join(d);s="".concat(s).concat(h).concat(S).concat(c)}return s}function pe(t,n){var o;Ve(1,arguments);var a=en((o=n==null?void 0:n.additionalDigits)!==null&&o!==void 0?o:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var l=Va(t),r;if(l.date){var i=Ia(l.date,a);r=Aa(i.restDateString,i.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var s=r.getTime(),c=0,u;if(l.time&&(c=Oa(l.time),isNaN(c)))return new Date(NaN);if(l.timezone){if(u=Pa(l.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+c),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(s+c+u)}var Ie={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ta=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ma=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Da=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Va(t){var n={},o=t.split(Ie.dateTimeDelimiter),a;if(o.length>2)return n;if(/:/.test(o[0])?a=o[0]:(n.date=o[0],a=o[1],Ie.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Ie.timeZoneDelimiter)[0],a=t.substr(n.date.length,t.length))),a){var l=Ie.timezone.exec(a);l?(n.time=a.replace(l[1],""),n.timezone=l[1]):n.time=a}return n}function Ia(t,n){var o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),a=t.match(o);if(!a)return{year:NaN,restDateString:""};var l=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:r===null?l:r*100,restDateString:t.slice((a[1]||a[2]).length)}}function Aa(t,n){if(n===null)return new Date(NaN);var o=t.match(Ta);if(!o)return new Date(NaN);var a=!!o[4],l=Ee(o[1]),r=Ee(o[2])-1,i=Ee(o[3]),s=Ee(o[4]),c=Ee(o[5])-1;if(a)return Ua(n,s,c)?Ra(n,s,c):new Date(NaN);var u=new Date(0);return!ja(n,r,i)||!za(n,l)?new Date(NaN):(u.setUTCFullYear(n,r,Math.max(l,i)),u)}function Ee(t){return t?parseInt(t):1}function Oa(t){var n=t.match(Ma);if(!n)return NaN;var o=ot(n[1]),a=ot(n[2]),l=ot(n[3]);return Ha(o,a,l)?o*on+a*nn+l*1e3:NaN}function ot(t){return t&&parseFloat(t.replace(",","."))||0}function Pa(t){if(t==="Z")return 0;var n=t.match(Da);if(!n)return 0;var o=n[1]==="+"?-1:1,a=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return Ga(a,l)?o*(a*on+l*nn):NaN}function Ra(t,n,o){var a=new Date(0);a.setUTCFullYear(t,0,4);var l=a.getUTCDay()||7,r=(n-1)*7+o+1-l;return a.setUTCDate(a.getUTCDate()+r),a}var Fa=[31,null,31,30,31,30,31,31,30,31,30,31];function an(t){return t%400===0||t%4===0&&t%100!==0}function ja(t,n,o){return n>=0&&n<=11&&o>=1&&o<=(Fa[n]||(an(t)?29:28))}function za(t,n){return n>=1&&n<=(an(t)?366:365)}function Ua(t,n,o){return n>=1&&n<=53&&o>=0&&o<=6}function Ha(t,n,o){return t===24?n===0&&o===0:o>=0&&o<60&&n>=0&&n<60&&t>=0&&t<25}function Ga(t,n){return n>=0&&n<=59}const at=["sun","mon","tue","wed","thu","fri","sat"],Ae=Yt("(max-width: 799px)");function ln(t,n=void 0){return new Promise(o=>{setTimeout(()=>{o(n)},t*1e3)})}function rn(t,n){const o=new Map;for(const a of t){const l=n(a),r=o.has(l)?o.get(l):[];r.push(a),o.set(l,r)}return o}function lt(t,n){return e.computed(()=>{const o=new Map;for(const a of t.value)o.set(a[n],a);return o})}function Q(t){return Na(t,{representation:"date"})}function sn(t){if(!t)return null;const n=pe(t);return isNaN(n.getTime())?null:n}function cn(t,n){return t&&t.getTime()>n.min.getTime()&&t.getTime()<=n.max.getTime()?t:null}function Wa(t,n,o,a=!1){return t=new Date(t.getTime()),n=new Date(n.getTime()),t.setHours(0,0,0,0),a?n.setHours(23,59,59,999):n.setHours(0,0,0,0),t<=o&&o<n}function*Ya(t,n){let o=new Date(t);for(;o<n;)yield o,o=nt(o,1)}function un(t){const n=e.computed(()=>{if(t.value)return t.value instanceof HTMLElement?t.value:t.value.$el}),{height:o}=ma(n);return e.computed(()=>{if(n.value)return o.value+n.value.offsetTop})}function dn(t,...n){const o={...t};for(const a of n)delete o[a];return o}function qa(t,n,o=.85){const{width:a}=qt(t),{pixelRatio:l}=fa();return e.computed(()=>{const r=Math.max(150,a.value*l.value);for(const s of n.value)if(s.width/r>=o)return s;return[...n.value].sort((s,c)=>s.width===c.width?0:s.width>c.width?1:-1).at(-1)})}function Ka(t){const n=e.ref(!1);async function o(...a){n.value=!0;try{return await t(...a)}finally{n.value=!1}}return{fn:o,isProcessing:n}}function Za(t,n){const o=[],a=[];for(const l of t)n(l)?o.push(l):a.push(l);return[o,a]}function Qa(t){const n=t??new Map;return async function(a){if(a.startsWith("data:image/"))return a;if(n.has(a)){const r=await n.get(a);if(r)return r}const l=new Promise(async r=>{let i,s;try{i=await fetch(a,{cache:"force-cache"})}catch{return console.error("Could not initialize server connection while loading image",{url:a}),r(void 0)}if(!i.ok)return console.error("Could not load image. Server responded with error code.",{url:a,res:i}),r(void 0);try{s=await i.blob()}catch{return console.error("Could not transform server response to blob.",{url:a,res:i}),r(void 0)}const c=new FileReader;c.onerror=()=>{console.error("Cannot read data URL from image blob",a),r(void 0)},c.onload=()=>{r(c.result)},c.readAsDataURL(s)});return n.set(a,l),await l}}async function*Ja(t){if(t.length===0)return;const n=new Map(t.map((o,a)=>[a,new Promise(l=>{o.then(r=>{l({index:a,data:r})}).catch(r=>{l({index:a,error:r})})})]));for(;n.size>0;){const o=await Promise.race(n.values());n.delete(o.index),"data"in o?yield{status:"fulfilled",value:o.data}:yield{status:"rejected",reason:o.error}}}function*Xa(t,n){let o=n??new Date;for(;o.getDate()!==t.getDate()||o.getMonth()!==t.getMonth()||o.getFullYear()!==t.getFullYear();)yield o,o=nt(o,1);yield o}function*el(t){let n;for(const o of t)(!n||n.ref.getMonth()!==o.getMonth())&&(n&&(yield n),n={ref:o,numDays:0}),n.numDays++;n&&(yield n)}const tl=function(){const t=ya({interval:6e4}),n=da(t,(a,l)=>Q(a)===Q(l)),o=new Map;return function(a){return o.has(a)||o.set(a,e.computed(()=>{const{locale:l}=H();return Array.from(Ya(n.value,nt(n.value,a))).map(i=>fn(i,l.value))})),o.get(a)}}();function pn(t){return e.computed(()=>({href:t.value,target:new URL(t.value).hostname!==location.hostname?"_blank":void 0}))}function fn(t,n){const o=new Intl.DateTimeFormat(n,{weekday:"short"});return{date:t,isoDate:Q(t),localeDate:t.toLocaleDateString(n),weekdayName:o.format(t)}}function rt(t,n){var a;return(((a=t.layout)==null?void 0:a.options)??[]).includes(n)}const it=["available"];function nl(t,n){const o=n.filter(a=>typeof a=="function");return o.length>0?t.filter((a,l,r)=>{for(const i of o)if(!i(a,l,r))return!1;return!0}):t}function ol(t){return n=>Array.from(t).every(o=>n.categoryIds.includes(o))}function al(t){return n=>n.locationId===t.id}function mn(t,n){const o=Q(t);return a=>{const l=a.availabilities[o];return!!l&&n.includes(l.status)}}function ll(t,n,o){return a=>Object.values(a.availabilities).filter(r=>Wa(t,n,r.date,!0)).every(({status:r})=>o.includes(r))}function bn(t,n){return function(o,a){var c,u;const l=(c=n.get(o.locationId))==null?void 0:c.coordinates,r=(u=n.get(a.locationId))==null?void 0:u.coordinates;if(!l||!r)return 0;const i=_e(t,l);return _e(t,r)<i?1:-1}}function rl(t,n){const o=e.computed(()=>{var i;return((i=t.value)==null?void 0:i.locations)??[]}),a=lt(o,"id"),l=e.computed(()=>{var d;const i=((d=t.value)==null?void 0:d.commons)??[],s=n.value.availableToday?new Date:null,{start:c,end:u}=n.value.availableBetween;return nl(i,[s&&mn(s,it),c&&u===null&&mn(c,it),c&&u&&ll(c,u,it),n.value.categories.size>0&&ol(n.value.categories),n.value.location&&al(n.value.location)])});return{filteredAndSortedCommons:e.computed(()=>{const i=Array.from(l.value);return n.value.userLocation?i.sort(bn(n.value.userLocation,a.value)):n.value.mapCenter&&i.sort(bn(n.value.mapCenter,a.value)),i}),filteredCommons:l,locationMap:a}}class gn extends Error{constructor(o,a){super(a);At(this,"response");this.response=o}}class st extends Error{constructor(o){const a=o.map(([l,r])=>`${String(l)} (of type: ${r})`).join(`
`);super(`The commons search configuration is missing some required fields or some of the fields have an invalid type.

`+a);At(this,"missingOrMisconfiguredFields");this.missingOrMisconfiguredFields=o}static checkFields(o,a){const l=[];for(const r of a){const[i,s]=r;typeof o[i]!==s&&l.push(r)}if(l.length>0)throw new st(l)}}function il(t){const n=e.ref(),o=e.ref(t);async function a(){n.value=void 0;try{await t.init()}catch(l){n.value=l}}return e.watchEffect(a),{api:o,apiError:n,retryAPI:a}}const wn=1,sl="CommonsBooking <https://github.com/wielebenwir/commonsbooking>";function Oe(t){return[t.lat,t.lng]}function cl(t,n){const o=a=>typeof a=="number"?a:parseFloat(a);return _e({lat:o(t.lat),lon:o(t.lon)},{lat:o(n.lat),lon:o(n.lon)})}function hn(t,n,o=50){const a=_e(t,n),l=Math.ceil(a/o)*o;return l>=1e3?{value:l/1e3,unit:"km"}:{value:l,unit:"m"}}function ul(t){let n=0;return t.address.state&&(n+=1),(t.address.city||t.address.county)&&(n+=1),t.address.postcode&&(n+=1),t.address.road&&(n+=1),t.address.house_number&&(n+=1),t.class==="building"&&(n+=2),t.class==="place"&&(n+=1),n}function dl(t,n,o=ul){const a=[],l=new Map(t.map(r=>[r.place_id,r]));for(;l.size>0;)for(const r of l.values()){const i=Array.from(l.values()).filter(c=>r.place_id===c.place_id?!1:cl(r,c)<=n),[s]=i.reduce(([c,u],d)=>{const p=o(d);return p>u?[d,p]:[c,u]},[r,o(r)]);a.push(s),l.delete(r.place_id);for(const c of i)l.delete(c.place_id)}return a}function pl(t){function n(o,a,l){return a?o?`${a}${l}${o}`:a:o}return t.map(o=>{const{house_number:a,road:l,city:r,county:i,state:s,postcode:c}=o.address;let u=a??"";u=n(u,l," ");let d=s??"";return d=n(d,r??i,", "),d=n(d,c," "),d=n(d,u,", "),{id:o.place_id,name:d||o.display_name,lat:parseFloat(o.lat),lng:parseFloat(o.lon)}})}async function fl(t,n){const o=n.nominatimSearchApi.url,a=new URLSearchParams;a.set("format","json"),a.set("addressdetails","1");const{city:l,county:r,postalCode:i,countryCodes:s,state:c}=(n==null?void 0:n.region)??{};s&&a.set("countrycodes",s.join(",")),l||r||i||c?(l&&a.set("city",l),r&&a.set("county",r),i&&a.set("postalcode",i),c&&a.set("state",c),a.set("street",t)):a.set("q",t);const u=await fetch(`${o}?${a.toString()}`,{headers:{Referer:window.location.origin,"User-Agent":sl}});if(!u.ok)throw new gn(u,"Could not geocode address");return(await u.json()).map(p=>({...p,lat:parseFloat(p.lat),lon:parseFloat(p.lon)}))}async function ml(t){const o=(new Date().getTime()-t.getTime())/1e3;if(o<wn){const a=wn-o;await ln(a)}}function bl(t,n){let o=new Date;const a=e.ref([]),l=e.ref(),r=e.ref(!1);return ia(t,async i=>{r.value=!0;try{await ml(o);let s=await fl(i,n);o=new Date;const c=(n==null?void 0:n.removeNeighboringLocationsWithinMeters)??30;c&&(s=dl(s,c)),a.value=pl(s)}catch(s){l.value=s instanceof Error?s:new Error(String(s))}finally{r.value=!1}},{debounce:500}),{error:l,locations:a,isLoading:r}}function gl(t){const n="geolocation"in navigator;async function o(){return new Promise((a,l)=>{navigator.geolocation.getCurrentPosition(r=>{a({id:-1,lat:r.coords.latitude,lng:r.coords.longitude,name:t})},r=>{l(r)})})}return{isSupported:n,getCurrentLocation:o}}function ct(t,n,o){const a=t.map(({locationId:l})=>{const r=n.get(l);return r?Oe(r.coordinates):null}).filter(l=>l!==null);return o&&a.push(Oe(o)),a}function yn(t){if("L"in globalThis&&globalThis.L.LatLngBounds){const n=globalThis.L.LatLngBounds;return new n(t).getCenter()}return null}const vn=Symbol("COMMONS_BOOKING_API");function ut(){return{categories:new Set,userLocation:null,location:null,mapCenter:null,availableToday:!1,availableBetween:{start:null,end:null}}}const ce=Qo(()=>{const t=e.inject(vn),n=e.ref(ut()),{api:o,apiError:a,retryAPI:l}=il(t),{filteredCommons:r,filteredAndSortedCommons:i,locationMap:s}=rl(o,n),c=e.computed(()=>{const{categories:d,...p}=dn(ut(),"mapCenter"),{categories:m,...f}=dn(n.value,"mapCenter");return JSON.stringify({categories:Array.from(d.values()),...p})!==JSON.stringify({categories:Array.from(m.values()),...f})});e.watch(r,d=>{const p=ct(d,s.value,n.value.userLocation);p.length>0&&(n.value.mapCenter=yn(p))},{flush:"sync"});function u(){n.value=ut()}return{filter:n,canResetFilters:c,resetFilters:u,api:o,apiError:a,retryAPI:l,filteredCommons:r,filteredAndSortedCommons:i,locationMap:s}}),wl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},hl=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[e.createElementVNode("path",{d:"m14.5 7.5-4-4-4.029 4M10.5 3.5v13"})],-1)];function yl(t,n){return e.openBlock(),e.createElementBlock("svg",wl,hl)}const vl={render:yl},kl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},_l=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[e.createElementVNode("path",{d:"m15.5 15.5-10-10zM15.5 5.5l-10 10"})],-1)];function El(t,n){return e.openBlock(),e.createElementBlock("svg",kl,_l)}const Se={render:El},Sl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},Cl=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[e.createElementVNode("path",{d:"M10.5 16.5c3.329 0 6-2.645 6-5.973S13.829 4.5 10.5 4.5s-6 2.698-6 6.027 2.671 5.973 6 5.973zM4.5 10.5h2M14.5 10.5h2M10.5 4.5v2M10.5 14.5v2"})],-1)];function xl(t,n){return e.openBlock(),e.createElementBlock("svg",Sl,Cl)}const Ll={render:xl},Bl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},$l=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[e.createElementVNode("path",{d:"M4.5 7.5h12M6.5 10.5h8M8.5 13.5h4"})],-1)];function Nl(t,n){return e.openBlock(),e.createElementBlock("svg",Bl,$l)}const kn={render:Nl},Tl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},Ml=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[e.createElementVNode("path",{d:"M10.5 3.5v2M15.5 5.5 14 7M5.5 5.5 7 7M10.5 17.5v-2M15.5 15.5 14 14M5.5 15.5 7 14M3.5 10.5h2M15.5 10.5h2"})],-1)];function Dl(t,n){return e.openBlock(),e.createElementBlock("svg",Tl,Ml)}const Vl={render:Dl},Il={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},Al=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(4 2)"},[e.createElementVNode("path",{d:"m6.5 16.54.631-.711c.716-.82 1.36-1.598 1.933-2.338l.473-.624c1.975-2.661 2.963-4.773 2.963-6.334C12.5 3.201 9.814.5 6.5.5s-6 2.701-6 6.033c0 1.561.988 3.673 2.963 6.334l.473.624a54.84 54.84 0 0 0 2.564 3.05z"}),e.createElementVNode("circle",{cx:"6.5",cy:"6.5",r:"2.5"})],-1)];function Ol(t,n){return e.openBlock(),e.createElementBlock("svg",Il,Al)}const _n={render:Ol},Pl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},Rl=[e.createElementVNode("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"M11.5 3.5c1.328 0 2.57.37 3.628 1.012a6 6 0 0 0-.001 11.977A7 7 0 1 1 11.5 3.5z"},null,-1)];function Fl(t,n){return e.openBlock(),e.createElementBlock("svg",Pl,Rl)}const jl={render:Fl},zl={xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},Ul=[e.createElementVNode("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6.5c.5-2.5 4.343-2.657 6-1 1.603 1.603 1.5 4.334 0 6l-6 6-6-6a4.243 4.243 0 0 1 0-6c1.55-1.55 5.5-1.5 6 1z"},null,-1)];function Hl(t,n){return e.openBlock(),e.createElementBlock("svg",zl,Ul)}const Gl={render:Hl},Wl=["innerHTML"],En=e.defineComponent({__name:"CBFilterLabel",props:{label:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("p",{class:"tw-font-bold tw-m-0",innerHTML:n.label},null,8,Wl))}}),Yl=["value","checked","type","name"],ql=e.defineComponent({__name:"CBCategory",props:{category:{},modelValue:{type:Boolean},type:{},name:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,a=e.computed({get:()=>o.modelValue,set:r=>{n("update:modelValue",r)}});function l(){o.modelValue&&o.type==="radio"&&(a.value=!1)}return(r,i)=>(e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(["cb-category cb-btn tw-truncate",{"cb-category--active tw-bg-active":r.modelValue,"tw-bg-base-1":!r.modelValue}]),onKeydown:i[1]||(i[1]=e.withKeys(e.withModifiers(()=>{},["prevent"]),["space"])),onKeyup:[i[2]||(i[2]=e.withKeys(s=>a.value=!a.value,["space"])),i[3]||(i[3]=e.withKeys(s=>a.value=!a.value,["enter"]))]},[e.createElementVNode("input",{value:r.category.id,checked:a.value,type:r.type??"checkbox",name:r.name,class:"tw-sr-only",onChange:i[0]||(i[0]=s=>a.value=!a.value),onClick:l},null,40,Yl),e.createElementVNode("span",null,e.toDisplayString(r.category.name),1)],34))}}),Kl=e.defineComponent({__name:"CBCategoryGroup",props:{group:{},categories:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,a=e.useAttrs();function l(r,i){const s=o.group.isExclusive?new Set:new Set(o.modelValue);i?s.add(r.id):s.delete(r.id),n("update:modelValue",s)}return(r,i)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.categories,s=>(e.openBlock(),e.createBlock(ql,e.mergeProps({key:s.id,category:s,"model-value":r.modelValue.has(s.id),type:r.group.isExclusive?"radio":"checkbox",name:r.group.isExclusive?`_rg_${r.group.id}`:void 0},e.unref(a),{"onUpdate:modelValue":c=>l(s,c)}),null,16,["category","model-value","type","name","onUpdate:modelValue"]))),128))}});function Sn(t,n){const o=new Set(t);for(const a of n)o.delete(a.id);return o}function Zl(t,n,o,a){function l(p){return c.value.get(p.groupId)}function r(p){var m;return!!((m=c.value.get(p.groupId))!=null&&m.name)}function i(p){return p.reduce((m,f)=>m+(o.value.has(f.id)?1:0),0)}function*s(){const[p,m]=Za(t.value,r);for(const[b,w]of rn(p,l))yield{id:b.id,label:b.name,groups:[{...b,categories:w}]};const f=Array.from(rn(m,l));f.length>0&&(yield{id:"unlabelled-group",label:a,groups:f.map(([b,w])=>({...b,categories:w}))})}const c=lt(n,"id"),u=e.computed(()=>Array.from(s())),d=e.computed(()=>new Map(u.value.map(({id:p,label:m,groups:f})=>{const b=i(f.flatMap(g=>g.categories)),w=b>0;return[p,{id:p,label:m,numberOfActiveCategories:b,isActive:w}]})));return{renderGroups:u,renderGroupsMeta:d}}const dt=e.defineComponent({__name:"CBFilterResetButton",props:{visible:{type:Boolean}},setup(t){const{t:n}=H();return(o,a)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"cb-btn tw-bg-base-1 tw-text-sm tw-p-2 tw-ml-2 tw-leading-none",style:e.normalizeStyle({visibility:o.visible?void 0:"hidden"})},e.toDisplayString(e.unref(n)("reset")),5))}}),Cn=t=>{t.i18n={en:{reset:"Reset"},de:{reset:"Zurücksetzen"}}};typeof Cn=="function"&&Cn(dt);const Ql={class:"tw-flex tw-items-center tw-mb-1"},Jl={class:"tw-flex tw-flex-wrap tw-gap-2"},xn="category-render-group-label",Ln=e.defineComponent({__name:"CBCategoryRenderGroupList",props:{modelValue:{},renderGroupList:{},renderGroupMeta:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,{t:a}=H(),l=de(o,"modelValue",n);function r(i){l.value=Sn(o.modelValue,i.groups.flatMap(s=>s.categories))}return(i,s)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.renderGroupList,c=>{var u;return e.openBlock(),e.createElementBlock("div",{key:c.id},[e.createElementVNode("header",Ql,[c.label?(e.openBlock(),e.createBlock(En,{key:0,id:`${xn}-${c.id}`,label:c.label,class:"tw-mb-0"},null,8,["id","label"])):e.createCommentVNode("",!0),e.createVNode(dt,{visible:(u=i.renderGroupMeta.get(c.id))==null?void 0:u.isActive,"aria-label":e.unref(a)("reset",{attr:c.label}),onClick:d=>r(c)},null,8,["visible","aria-label","onClick"])]),e.createElementVNode("div",Jl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.groups,(d,p)=>(e.openBlock(),e.createBlock(Kl,{key:p,modelValue:e.unref(l),"onUpdate:modelValue":s[0]||(s[0]=m=>e.isRef(l)?l.value=m:null),group:d,categories:d.categories,"aria-describedby":`${xn}-${c.id}`},null,8,["modelValue","group","categories","aria-describedby"]))),128))])])}),128))}}),Bn=t=>{t.i18n={en:{reset:"Reset filter for {attr}."},de:{reset:"Filter für {attr} zurücksetzen."}}};typeof Bn=="function"&&Bn(Ln);function I(t,n,...o){if(t in n){let l=n[t];return typeof l=="function"?l(...o):l}let a=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,I),a}var K=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(K||{}),ue=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ue||{});function V({visible:t=!0,features:n=0,ourProps:o,theirProps:a,...l}){var r;let i=Nn(a,o),s=Object.assign(l,{props:i});if(t||n&2&&i.static)return pt(s);if(n&1){let c=(r=i.unmount)==null||r?0:1;return I(c,{0(){return null},1(){return pt({...l,props:{...i,hidden:!0,style:{display:"none"}}})}})}return pt(s)}function pt({props:t,attrs:n,slots:o,slot:a,name:l}){var r,i;let{as:s,...c}=Ce(t,["unmount","static"]),u=(r=o.default)==null?void 0:r.call(o,a),d={};if(a){let p=!1,m=[];for(let[f,b]of Object.entries(a))typeof b=="boolean"&&(p=!0),b===!0&&m.push(f);p&&(d["data-headlessui-state"]=m.join(" "))}if(s==="template"){if(u=$n(u??[]),Object.keys(c).length>0||Object.keys(n).length>0){let[p,...m]=u??[];if(!Xl(p)||m.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${l} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(n)).map(w=>w.trim()).filter((w,y,g)=>g.indexOf(w)===y).sort((w,y)=>w.localeCompare(y)).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let f=Nn((i=p.props)!=null?i:{},c),b=e.cloneVNode(p,f);for(let w in f)w.startsWith("on")&&(b.props||(b.props={}),b.props[w]=f[w]);return b}return Array.isArray(u)&&u.length===1?u[0]:u}return e.h(s,Object.assign({},c,d),{default:()=>u})}function $n(t){return t.flatMap(n=>n.type===e.Fragment?$n(n.children):[n])}function Nn(...t){if(t.length===0)return{};if(t.length===1)return t[0];let n={},o={};for(let a of t)for(let l in a)l.startsWith("on")&&typeof a[l]=="function"?(o[l]!=null||(o[l]=[]),o[l].push(a[l])):n[l]=a[l];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(o).map(a=>[a,void 0])));for(let a in o)Object.assign(n,{[a](l,...r){let i=o[a];for(let s of i){if(l instanceof Event&&l.defaultPrevented)return;s(l,...r)}}});return n}function Tn(t){let n=Object.assign({},t);for(let o in n)n[o]===void 0&&delete n[o];return n}function Ce(t,n=[]){let o=Object.assign({},t);for(let a of n)a in o&&delete o[a];return o}function Xl(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let er=0;function tr(){return++er}function F(){return tr()}var O=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(O||{});function nr(t){throw new Error("Unexpected object: "+t)}var U=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(U||{});function or(t,n){let o=n.resolveItems();if(o.length<=0)return null;let a=n.resolveActiveIndex(),l=a??-1,r=(()=>{switch(t.focus){case 0:return o.findIndex(i=>!n.resolveDisabled(i));case 1:{let i=o.slice().reverse().findIndex((s,c,u)=>l!==-1&&u.length-c-1>=l?!1:!n.resolveDisabled(s));return i===-1?i:o.length-1-i}case 2:return o.findIndex((i,s)=>s<=l?!1:!n.resolveDisabled(i));case 3:{let i=o.slice().reverse().findIndex(s=>!n.resolveDisabled(s));return i===-1?i:o.length-1-i}case 4:return o.findIndex(i=>n.resolveId(i)===t.id);case 5:return null;default:nr(t)}})();return r===-1?a:r}function _(t){var n;return t==null||t.value==null?null:(n=t.value.$el)!=null?n:t.value}let Mn=Symbol("Context");var P=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(P||{});function ar(){return he()!==null}function he(){return e.inject(Mn,null)}function ft(t){e.provide(Mn,t)}function Dn(t,n){if(t)return t;let o=n??"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function mt(t,n){let o=e.ref(Dn(t.value.type,t.value.as));return e.onMounted(()=>{o.value=Dn(t.value.type,t.value.as)}),e.watchEffect(()=>{var a;o.value||_(n)&&_(n)instanceof HTMLButtonElement&&!((a=_(n))!=null&&a.hasAttribute("type"))&&(o.value="button")}),o}var lr=Object.defineProperty,rr=(t,n,o)=>n in t?lr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,Vn=(t,n,o)=>(rr(t,typeof n!="symbol"?n+"":n,o),o);class ir{constructor(){Vn(this,"current",this.detect()),Vn(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let xe=new ir;function Z(t){if(xe.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let n=_(t);if(n)return n.ownerDocument}return document}function sr({container:t,accept:n,walk:o,enabled:a}){e.watchEffect(()=>{let l=t.value;if(!l||a!==void 0&&!a.value)return;let r=Z(t);if(!r)return;let i=Object.assign(c=>n(c),{acceptNode:n}),s=r.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,i,!1);for(;s.nextNode();)o(s.currentNode)})}let bt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var G=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(G||{}),Le=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Le||{}),cr=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(cr||{});function Pe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(bt)).sort((n,o)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(o.tabIndex||Number.MAX_SAFE_INTEGER)))}var gt=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(gt||{});function In(t,n=0){var o;return t===((o=Z(t))==null?void 0:o.body)?!1:I(n,{0(){return t.matches(bt)},1(){let a=t;for(;a!==null;){if(a.matches(bt))return!0;a=a.parentElement}return!1}})}var ur=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(ur||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function fe(t){t==null||t.focus({preventScroll:!0})}let dr=["textarea","input"].join(",");function pr(t){var n,o;return(o=(n=t==null?void 0:t.matches)==null?void 0:n.call(t,dr))!=null?o:!1}function An(t,n=o=>o){return t.slice().sort((o,a)=>{let l=n(o),r=n(a);if(l===null||r===null)return 0;let i=l.compareDocumentPosition(r);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function J(t,n,{sorted:o=!0,relativeTo:a=null,skipElements:l=[]}={}){var r;let i=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,s=Array.isArray(t)?o?An(t):t:Pe(t);l.length>0&&s.length>1&&(s=s.filter(b=>!l.includes(b))),a=a??i.activeElement;let c=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,s.indexOf(a))-1;if(n&4)return Math.max(0,s.indexOf(a))+1;if(n&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=n&32?{preventScroll:!0}:{},p=0,m=s.length,f;do{if(p>=m||p+m<=0)return 0;let b=u+p;if(n&16)b=(b+m)%m;else{if(b<0)return 3;if(b>=m)return 1}f=s[b],f==null||f.focus(d),p+=c}while(f!==i.activeElement);return n&6&&pr(f)&&f.select(),2}function Re(t,n,o){xe.isServer||e.watchEffect(a=>{document.addEventListener(t,n,o),a(()=>document.removeEventListener(t,n,o))})}function On(t,n,o){xe.isServer||e.watchEffect(a=>{window.addEventListener(t,n,o),a(()=>window.removeEventListener(t,n,o))})}function wt(t,n,o=e.computed(()=>!0)){function a(r,i){if(!o.value||r.defaultPrevented)return;let s=i(r);if(s===null||!s.getRootNode().contains(s))return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:_(u);if(d!=null&&d.contains(s)||r.composed&&r.composedPath().includes(d))return}return!In(s,gt.Loose)&&s.tabIndex!==-1&&r.preventDefault(),n(r,s)}let l=e.ref(null);Re("pointerdown",r=>{var i,s;o.value&&(l.value=((s=(i=r.composedPath)==null?void 0:i.call(r))==null?void 0:s[0])||r.target)},!0),Re("mousedown",r=>{var i,s;o.value&&(l.value=((s=(i=r.composedPath)==null?void 0:i.call(r))==null?void 0:s[0])||r.target)},!0),Re("click",r=>{l.value&&(a(r,()=>l.value),l.value=null)},!0),Re("touchend",r=>a(r,()=>r.target instanceof HTMLElement?r.target:null),!0),On("blur",r=>a(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var ne=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ne||{});let ae=e.defineComponent({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:n,attrs:o}){return()=>{let{features:a,...l}=t,r={"aria-hidden":(a&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return V({ourProps:r,theirProps:l,slot:{},attrs:o,slots:n,name:"Hidden"})}}});function Pn(t={},n=null,o=[]){for(let[a,l]of Object.entries(t))Fn(o,Rn(n,a),l);return o}function Rn(t,n){return t?t+"["+n+"]":n}function Fn(t,n,o){if(Array.isArray(o))for(let[a,l]of o.entries())Fn(t,Rn(n,a.toString()),l);else o instanceof Date?t.push([n,o.toISOString()]):typeof o=="boolean"?t.push([n,o?"1":"0"]):typeof o=="string"?t.push([n,o]):typeof o=="number"?t.push([n,`${o}`]):o==null?t.push([n,""]):Pn(o,n,t)}function fr(t){var n,o;let a=(n=t==null?void 0:t.form)!=null?n:t.closest("form");if(a){for(let l of a.elements)if(l!==t&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(o=a.requestSubmit)==null||o.call(a)}}function jn(t,n,o){let a=e.ref(o==null?void 0:o.value),l=e.computed(()=>t.value!==void 0);return[e.computed(()=>l.value?t.value:a.value),function(r){return l.value||(a.value=r),n==null?void 0:n(r)}]}function zn(t){return[t.screenX,t.screenY]}function mr(){let t=e.ref([-1,-1]);return{wasMoved(n){let o=zn(n);return t.value[0]===o[0]&&t.value[1]===o[1]?!1:(t.value=o,!0)},update(n){t.value=zn(n)}}}function Un(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function br(){return/Android/gi.test(window.navigator.userAgent)}function gr(){return Un()||br()}function ht(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(n=>setTimeout(()=>{throw n}))}function ye(){let t=[],n={addEventListener(o,a,l,r){return o.addEventListener(a,l,r),n.add(()=>o.removeEventListener(a,l,r))},requestAnimationFrame(...o){let a=requestAnimationFrame(...o);n.add(()=>cancelAnimationFrame(a))},nextFrame(...o){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...o)})},setTimeout(...o){let a=setTimeout(...o);n.add(()=>clearTimeout(a))},microTask(...o){let a={current:!0};return ht(()=>{a.current&&o[0]()}),n.add(()=>{a.current=!1})},style(o,a,l){let r=o.style.getPropertyValue(a);return Object.assign(o.style,{[a]:l}),this.add(()=>{Object.assign(o.style,{[a]:r})})},group(o){let a=ye();return o(a),this.add(()=>a.dispose())},add(o){return t.push(o),()=>{let a=t.indexOf(o);if(a>=0)for(let l of t.splice(a,1))l()}},dispose(){for(let o of t.splice(0))o()}};return n}function wr(t,n){return t===n}var hr=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(hr||{}),yr=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(yr||{}),vr=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(vr||{});let Hn=Symbol("ComboboxContext");function ve(t){let n=e.inject(Hn,null);if(n===null){let o=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ve),o}return n}let kr=e.defineComponent({name:"Combobox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>wr},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:o,emit:a}){let l=e.ref(1),r=e.ref(null),i=e.ref(null),s=e.ref(null),c=e.ref(null),u=e.ref({static:!1,hold:!1}),d=e.ref([]),p=e.ref(null),m=e.ref(1),f=e.ref(!1);function b(C=T=>T){let T=p.value!==null?d.value[p.value]:null,B=An(C(d.value.slice()),N=>_(N.dataRef.domRef)),$=T?B.indexOf(T):null;return $===-1&&($=null),{options:B,activeOptionIndex:$}}let w=e.computed(()=>t.multiple?1:0),y=e.computed(()=>t.nullable),[g,k]=jn(e.computed(()=>t.modelValue),C=>a("update:modelValue",C),e.computed(()=>t.defaultValue)),v=e.computed(()=>g.value===void 0?I(w.value,{1:[],0:void 0}):g.value),x=null,E=null,h={comboboxState:l,value:v,mode:w,compare(C,T){if(typeof t.by=="string"){let B=t.by;return(C==null?void 0:C[B])===(T==null?void 0:T[B])}return t.by(C,T)},defaultValue:e.computed(()=>t.defaultValue),nullable:y,inputRef:i,labelRef:r,buttonRef:s,optionsRef:c,disabled:e.computed(()=>t.disabled),options:d,change(C){k(C)},activeOptionIndex:e.computed(()=>{if(f.value&&p.value===null&&d.value.length>0){let C=d.value.findIndex(T=>!T.dataRef.disabled);C!==-1&&(p.value=C)}return p.value}),activationTrigger:m,optionsPropsRef:u,closeCombobox(){f.value=!1,!t.disabled&&l.value!==1&&(l.value=1,p.value=null)},openCombobox(){if(f.value=!0,t.disabled||l.value===0)return;let C=d.value.findIndex(T=>{let B=e.toRaw(T.dataRef.value);return I(w.value,{0:()=>h.compare(e.toRaw(h.value.value),e.toRaw(B)),1:()=>e.toRaw(h.value.value).some($=>h.compare(e.toRaw($),e.toRaw(B)))})});C!==-1&&(p.value=C),l.value=0},goToOption(C,T,B){f.value=!1,x!==null&&cancelAnimationFrame(x),x=requestAnimationFrame(()=>{if(t.disabled||c.value&&!u.value.static&&l.value===1)return;let $=b();if($.activeOptionIndex===null){let M=$.options.findIndex(R=>!R.dataRef.disabled);M!==-1&&($.activeOptionIndex=M)}let N=or(C===U.Specific?{focus:U.Specific,id:T}:{focus:C},{resolveItems:()=>$.options,resolveActiveIndex:()=>$.activeOptionIndex,resolveId:M=>M.id,resolveDisabled:M=>M.dataRef.disabled});p.value=N,m.value=B??1,d.value=$.options})},selectOption(C){let T=d.value.find($=>$.id===C);if(!T)return;let{dataRef:B}=T;k(I(w.value,{0:()=>B.value,1:()=>{let $=e.toRaw(h.value.value).slice(),N=e.toRaw(B.value),M=$.findIndex(R=>h.compare(N,e.toRaw(R)));return M===-1?$.push(N):$.splice(M,1),$}}))},selectActiveOption(){if(h.activeOptionIndex.value===null)return;let{dataRef:C,id:T}=d.value[h.activeOptionIndex.value];k(I(w.value,{0:()=>C.value,1:()=>{let B=e.toRaw(h.value.value).slice(),$=e.toRaw(C.value),N=B.findIndex(M=>h.compare($,e.toRaw(M)));return N===-1?B.push($):B.splice(N,1),B}})),h.goToOption(U.Specific,T)},registerOption(C,T){E&&cancelAnimationFrame(E);let B={id:C,dataRef:T},$=b(N=>(N.push(B),N));if(p.value===null){let N=T.value.value;I(w.value,{0:()=>h.compare(e.toRaw(h.value.value),e.toRaw(N)),1:()=>e.toRaw(h.value.value).some(M=>h.compare(e.toRaw(M),e.toRaw(N)))})&&($.activeOptionIndex=$.options.indexOf(B))}d.value=$.options,p.value=$.activeOptionIndex,m.value=1,$.options.some(N=>!_(N.dataRef.domRef))&&(E=requestAnimationFrame(()=>{let N=b();d.value=N.options,p.value=N.activeOptionIndex}))},unregisterOption(C){var T;h.activeOptionIndex.value!==null&&((T=h.options.value[h.activeOptionIndex.value])==null?void 0:T.id)===C&&(f.value=!0);let B=b($=>{let N=$.findIndex(M=>M.id===C);return N!==-1&&$.splice(N,1),$});d.value=B.options,p.value=B.activeOptionIndex,m.value=1}};wt([i,s,c],()=>h.closeCombobox(),e.computed(()=>l.value===0)),e.provide(Hn,h),ft(e.computed(()=>I(l.value,{0:P.Open,1:P.Closed})));let S=e.computed(()=>h.activeOptionIndex.value===null?null:d.value[h.activeOptionIndex.value].dataRef.value),L=e.computed(()=>{var C;return(C=_(i))==null?void 0:C.closest("form")});return e.onMounted(()=>{e.watch([L],()=>{if(!L.value||t.defaultValue===void 0)return;function C(){h.change(t.defaultValue)}return L.value.addEventListener("reset",C),()=>{var T;(T=L.value)==null||T.removeEventListener("reset",C)}},{immediate:!0})}),()=>{let{name:C,disabled:T,form:B,...$}=t,N={open:l.value===0,disabled:T,activeIndex:h.activeOptionIndex.value,activeOption:S.value,value:v.value};return e.h(e.Fragment,[...C!=null&&v.value!=null?Pn({[C]:v.value}).map(([M,R])=>e.h(ae,Tn({features:ne.Hidden,key:M,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:B,name:M,value:R}))):[],V({theirProps:{...o,...Ce($,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:N,slots:n,attrs:o,name:"Combobox"})])}}});e.defineComponent({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-combobox-label-${F()}`}},setup(t,{attrs:n,slots:o}){let a=ve("ComboboxLabel");function l(){var r;(r=_(a.inputRef))==null||r.focus({preventScroll:!0})}return()=>{let r={open:a.comboboxState.value===0,disabled:a.disabled.value},{id:i,...s}=t,c={id:i,ref:a.labelRef,onClick:l};return V({ourProps:c,theirProps:s,slot:r,attrs:n,slots:o,name:"ComboboxLabel"})}}}),e.defineComponent({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${F()}`}},setup(t,{attrs:n,slots:o,expose:a}){let l=ve("ComboboxButton");a({el:l.buttonRef,$el:l.buttonRef});function r(c){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(c.preventDefault(),l.openCombobox()),e.nextTick(()=>{var u;return(u=_(l.inputRef))==null?void 0:u.focus({preventScroll:!0})}))}function i(c){switch(c.key){case O.ArrowDown:c.preventDefault(),c.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),e.nextTick(()=>{var u;return(u=l.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case O.ArrowUp:c.preventDefault(),c.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),e.nextTick(()=>{l.value.value||l.goToOption(U.Last)})),e.nextTick(()=>{var u;return(u=l.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case O.Escape:if(l.comboboxState.value!==0)return;c.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&c.stopPropagation(),l.closeCombobox(),e.nextTick(()=>{var u;return(u=l.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return}}let s=mt(e.computed(()=>({as:t.as,type:n.type})),l.buttonRef);return()=>{var c,u;let d={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:p,...m}=t,f={ref:l.buttonRef,id:p,type:s.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(c=_(l.optionsRef))==null?void 0:c.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(u=_(l.labelRef))==null?void 0:u.id,p].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:i,onClick:r};return V({ourProps:f,theirProps:m,slot:d,attrs:n,slots:o,name:"ComboboxButton"})}}});let _r=e.defineComponent({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${F()}`}},emits:{change:t=>!0},setup(t,{emit:n,attrs:o,slots:a,expose:l}){let r=ve("ComboboxInput"),i=e.computed(()=>Z(_(r.inputRef))),s={value:!1};l({el:r.inputRef,$el:r.inputRef});function c(){r.change(null);let g=_(r.optionsRef);g&&(g.scrollTop=0),r.goToOption(U.Nothing)}let u=e.computed(()=>{var g;let k=r.value.value;return _(r.inputRef)?typeof t.displayValue<"u"&&k!==void 0?(g=t.displayValue(k))!=null?g:"":typeof k=="string"?k:"":""});e.onMounted(()=>{e.watch([u,r.comboboxState,i],([g,k],[v,x])=>{if(s.value)return;let E=_(r.inputRef);E&&((x===0&&k===1||g!==v)&&(E.value=g),requestAnimationFrame(()=>{var h;if(s.value||!E||((h=i.value)==null?void 0:h.activeElement)!==E)return;let{selectionStart:S,selectionEnd:L}=E;Math.abs((L??0)-(S??0))===0&&S===0&&E.setSelectionRange(E.value.length,E.value.length)}))},{immediate:!0}),e.watch([r.comboboxState],([g],[k])=>{if(g===0&&k===1){if(s.value)return;let v=_(r.inputRef);if(!v)return;let x=v.value,{selectionStart:E,selectionEnd:h,selectionDirection:S}=v;v.value="",v.value=x,S!==null?v.setSelectionRange(E,h,S):v.setSelectionRange(E,h)}})});let d=e.ref(!1);function p(){d.value=!0}function m(){ye().nextFrame(()=>{d.value=!1})}function f(g){switch(s.value=!0,g.key){case O.Enter:if(s.value=!1,r.comboboxState.value!==0||d.value)return;if(g.preventDefault(),g.stopPropagation(),r.activeOptionIndex.value===null){r.closeCombobox();return}r.selectActiveOption(),r.mode.value===0&&r.closeCombobox();break;case O.ArrowDown:return s.value=!1,g.preventDefault(),g.stopPropagation(),I(r.comboboxState.value,{0:()=>r.goToOption(U.Next),1:()=>r.openCombobox()});case O.ArrowUp:return s.value=!1,g.preventDefault(),g.stopPropagation(),I(r.comboboxState.value,{0:()=>r.goToOption(U.Previous),1:()=>{r.openCombobox(),e.nextTick(()=>{r.value.value||r.goToOption(U.Last)})}});case O.Home:if(g.shiftKey)break;return s.value=!1,g.preventDefault(),g.stopPropagation(),r.goToOption(U.First);case O.PageUp:return s.value=!1,g.preventDefault(),g.stopPropagation(),r.goToOption(U.First);case O.End:if(g.shiftKey)break;return s.value=!1,g.preventDefault(),g.stopPropagation(),r.goToOption(U.Last);case O.PageDown:return s.value=!1,g.preventDefault(),g.stopPropagation(),r.goToOption(U.Last);case O.Escape:if(s.value=!1,r.comboboxState.value!==0)return;g.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&g.stopPropagation(),r.nullable.value&&r.mode.value===0&&r.value.value===null&&c(),r.closeCombobox();break;case O.Tab:if(s.value=!1,r.comboboxState.value!==0)return;r.mode.value===0&&r.selectActiveOption(),r.closeCombobox();break}}function b(g){n("change",g),r.nullable.value&&r.mode.value===0&&g.target.value===""&&c(),r.openCombobox()}function w(){s.value=!1}let y=e.computed(()=>{var g,k,v,x;return(x=(v=(k=t.defaultValue)!=null?k:r.defaultValue.value!==void 0?(g=t.displayValue)==null?void 0:g.call(t,r.defaultValue.value):null)!=null?v:r.defaultValue.value)!=null?x:""});return()=>{var g,k,v,x,E,h;let S={open:r.comboboxState.value===0},{id:L,displayValue:C,onChange:T,...B}=t,$={"aria-controls":(g=r.optionsRef.value)==null?void 0:g.id,"aria-expanded":r.comboboxState.value===0,"aria-activedescendant":r.activeOptionIndex.value===null||(k=r.options.value[r.activeOptionIndex.value])==null?void 0:k.id,"aria-labelledby":(E=(v=_(r.labelRef))==null?void 0:v.id)!=null?E:(x=_(r.buttonRef))==null?void 0:x.id,"aria-autocomplete":"list",id:L,onCompositionstart:p,onCompositionend:m,onKeydown:f,onInput:b,onBlur:w,role:"combobox",type:(h=o.type)!=null?h:"text",tabIndex:0,ref:r.inputRef,defaultValue:y.value,disabled:r.disabled.value===!0?!0:void 0};return V({ourProps:$,theirProps:B,slot:S,attrs:o,slots:a,features:K.RenderStrategy|K.Static,name:"ComboboxInput"})}}}),Er=e.defineComponent({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(t,{attrs:n,slots:o,expose:a}){let l=ve("ComboboxOptions"),r=`headlessui-combobox-options-${F()}`;a({el:l.optionsRef,$el:l.optionsRef}),e.watchEffect(()=>{l.optionsPropsRef.value.static=t.static}),e.watchEffect(()=>{l.optionsPropsRef.value.hold=t.hold});let i=he(),s=e.computed(()=>i!==null?(i.value&P.Open)===P.Open:l.comboboxState.value===0);return sr({container:e.computed(()=>_(l.optionsRef)),enabled:e.computed(()=>l.comboboxState.value===0),accept(c){return c.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}}),()=>{var c,u,d;let p={open:l.comboboxState.value===0},m={"aria-labelledby":(d=(c=_(l.labelRef))==null?void 0:c.id)!=null?d:(u=_(l.buttonRef))==null?void 0:u.id,id:r,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},f=Ce(t,["hold"]);return V({ourProps:m,theirProps:f,slot:p,attrs:n,slots:o,features:K.RenderStrategy|K.Static,visible:s.value,name:"ComboboxOptions"})}}}),Sr=e.defineComponent({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:n,attrs:o,expose:a}){let l=ve("ComboboxOption"),r=`headlessui-combobox-option-${F()}`,i=e.ref(null);a({el:i,$el:i});let s=e.computed(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===r:!1),c=e.computed(()=>I(l.mode.value,{0:()=>l.compare(e.toRaw(l.value.value),e.toRaw(t.value)),1:()=>e.toRaw(l.value.value).some(y=>l.compare(e.toRaw(y),e.toRaw(t.value)))})),u=e.computed(()=>({disabled:t.disabled,value:t.value,domRef:i}));e.onMounted(()=>l.registerOption(r,u)),e.onUnmounted(()=>l.unregisterOption(r)),e.watchEffect(()=>{l.comboboxState.value===0&&s.value&&l.activationTrigger.value!==0&&e.nextTick(()=>{var y,g;return(g=(y=_(i))==null?void 0:y.scrollIntoView)==null?void 0:g.call(y,{block:"nearest"})})});function d(y){if(t.disabled)return y.preventDefault();l.selectOption(r),l.mode.value===0&&l.closeCombobox(),gr()||requestAnimationFrame(()=>{var g;return(g=_(l.inputRef))==null?void 0:g.focus()})}function p(){if(t.disabled)return l.goToOption(U.Nothing);l.goToOption(U.Specific,r)}let m=mr();function f(y){m.update(y)}function b(y){m.wasMoved(y)&&(t.disabled||s.value||l.goToOption(U.Specific,r,0))}function w(y){m.wasMoved(y)&&(t.disabled||s.value&&(l.optionsPropsRef.value.hold||l.goToOption(U.Nothing)))}return()=>{let{disabled:y}=t,g={active:s.value,selected:c.value,disabled:y},k={id:r,ref:i,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:d,onFocus:p,onPointerenter:f,onMouseenter:f,onPointermove:b,onMousemove:b,onPointerleave:w,onMouseleave:w};return V({ourProps:k,theirProps:t,slot:g,attrs:o,slots:n,name:"ComboboxOption"})}}});var Y=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Y||{});function yt(){let t=e.ref(0);return On("keydown",n=>{n.key==="Tab"&&(t.value=n.shiftKey?1:0)}),t}function vt(t,n,o,a){xe.isServer||e.watchEffect(l=>{t=t??window,t.addEventListener(n,o,a),l(()=>t.removeEventListener(n,o,a))})}function Cr(t){function n(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}function Gn(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let n=new Set;for(let o of t.value){let a=_(o);a instanceof HTMLElement&&n.add(a)}return n}var Wn=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Wn||{});let Be=Object.assign(e.defineComponent({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:e.ref(new Set)}},inheritAttrs:!1,setup(t,{attrs:n,slots:o,expose:a}){let l=e.ref(null);a({el:l,$el:l});let r=e.computed(()=>Z(l)),i=e.ref(!1);e.onMounted(()=>i.value=!0),e.onUnmounted(()=>i.value=!1),Lr({ownerDocument:r},e.computed(()=>i.value&&!!(t.features&16)));let s=Br({ownerDocument:r,container:l,initialFocus:e.computed(()=>t.initialFocus)},e.computed(()=>i.value&&!!(t.features&2)));$r({ownerDocument:r,container:l,containers:t.containers,previousActiveElement:s},e.computed(()=>i.value&&!!(t.features&8)));let c=yt();function u(f){let b=_(l);b&&(w=>w())(()=>{I(c.value,{[Y.Forwards]:()=>{J(b,G.First,{skipElements:[f.relatedTarget]})},[Y.Backwards]:()=>{J(b,G.Last,{skipElements:[f.relatedTarget]})}})})}let d=e.ref(!1);function p(f){f.key==="Tab"&&(d.value=!0,requestAnimationFrame(()=>{d.value=!1}))}function m(f){if(!i.value)return;let b=Gn(t.containers);_(l)instanceof HTMLElement&&b.add(_(l));let w=f.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(Yn(b,w)||(d.value?J(_(l),I(c.value,{[Y.Forwards]:()=>G.Next,[Y.Backwards]:()=>G.Previous})|G.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&fe(f.target)))}return()=>{let f={},b={ref:l,onKeydown:p,onFocusout:m},{features:w,initialFocus:y,containers:g,...k}=t;return e.h(e.Fragment,[!!(w&4)&&e.h(ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:ne.Focusable}),V({ourProps:b,theirProps:{...n,...k},slot:f,attrs:n,slots:o,name:"FocusTrap"}),!!(w&4)&&e.h(ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:ne.Focusable})])}}}),{features:Wn}),me=[];Cr(()=>{function t(n){n.target instanceof HTMLElement&&n.target!==document.body&&me[0]!==n.target&&(me.unshift(n.target),me=me.filter(o=>o!=null&&o.isConnected),me.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function xr(t){let n=e.ref(me.slice());return e.watch([t],([o],[a])=>{a===!0&&o===!1?ht(()=>{n.value.splice(0)}):a===!1&&o===!0&&(n.value=me.slice())},{flush:"post"}),()=>{var o;return(o=n.value.find(a=>a!=null&&a.isConnected))!=null?o:null}}function Lr({ownerDocument:t},n){let o=xr(n);e.onMounted(()=>{e.watchEffect(()=>{var a,l;n.value||((a=t.value)==null?void 0:a.activeElement)===((l=t.value)==null?void 0:l.body)&&fe(o())},{flush:"post"})}),e.onUnmounted(()=>{n.value&&fe(o())})}function Br({ownerDocument:t,container:n,initialFocus:o},a){let l=e.ref(null),r=e.ref(!1);return e.onMounted(()=>r.value=!0),e.onUnmounted(()=>r.value=!1),e.onMounted(()=>{e.watch([n,o,a],(i,s)=>{if(i.every((u,d)=>(s==null?void 0:s[d])===u)||!a.value)return;let c=_(n);c&&ht(()=>{var u,d;if(!r.value)return;let p=_(o),m=(u=t.value)==null?void 0:u.activeElement;if(p){if(p===m){l.value=m;return}}else if(c.contains(m)){l.value=m;return}p?fe(p):J(c,G.First|G.NoScroll)===Le.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.value=(d=t.value)==null?void 0:d.activeElement})},{immediate:!0,flush:"post"})}),l}function $r({ownerDocument:t,container:n,containers:o,previousActiveElement:a},l){var r;vt((r=t.value)==null?void 0:r.defaultView,"focus",i=>{if(!l.value)return;let s=Gn(o);_(n)instanceof HTMLElement&&s.add(_(n));let c=a.value;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?Yn(s,u)?(a.value=u,fe(u)):(i.preventDefault(),i.stopPropagation(),fe(c)):fe(a.value)},!0)}function Yn(t,n){for(let o of t)if(o.contains(n))return!0;return!1}let kt=new Map,$e=new Map;function qn(t,n=e.ref(!0)){e.watchEffect(o=>{var a;if(!n.value)return;let l=_(t);if(!l)return;o(function(){var i;if(!l)return;let s=(i=$e.get(l))!=null?i:1;if(s===1?$e.delete(l):$e.set(l,s-1),s!==1)return;let c=kt.get(l);c&&(c["aria-hidden"]===null?l.removeAttribute("aria-hidden"):l.setAttribute("aria-hidden",c["aria-hidden"]),l.inert=c.inert,kt.delete(l))});let r=(a=$e.get(l))!=null?a:0;$e.set(l,r+1),r===0&&(kt.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),l.setAttribute("aria-hidden","true"),l.inert=!0)})}let Kn=Symbol("ForcePortalRootContext");function Nr(){return e.inject(Kn,!1)}let _t=e.defineComponent({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:n,attrs:o}){return e.provide(Kn,t.force),()=>{let{force:a,...l}=t;return V({theirProps:l,ourProps:{},slot:{},slots:n,attrs:o,name:"ForcePortalRoot"})}}});function Tr(t){let n=Z(t);if(!n){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let o=n.getElementById("headlessui-portal-root");if(o)return o;let a=n.createElement("div");return a.setAttribute("id","headlessui-portal-root"),n.body.appendChild(a)}let Zn=e.defineComponent({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:n,attrs:o}){let a=e.ref(null),l=e.computed(()=>Z(a)),r=Nr(),i=e.inject(Jn,null),s=e.ref(r===!0||i==null?Tr(a.value):i.resolveTarget());e.watchEffect(()=>{r||i!=null&&(s.value=i.resolveTarget())});let c=e.inject(Et,null);return e.onMounted(()=>{let u=_(a);u&&c&&e.onUnmounted(c.register(u))}),e.onUnmounted(()=>{var u,d;let p=(u=l.value)==null?void 0:u.getElementById("headlessui-portal-root");p&&s.value===p&&s.value.children.length<=0&&((d=s.value.parentElement)==null||d.removeChild(s.value))}),()=>{if(s.value===null)return null;let u={ref:a,"data-headlessui-portal":""};return e.h(e.Teleport,{to:s.value},V({ourProps:u,theirProps:t,slot:{},attrs:o,slots:n,name:"Portal"}))}}}),Et=Symbol("PortalParentContext");function Qn(){let t=e.inject(Et,null),n=e.ref([]);function o(r){return n.value.push(r),t&&t.register(r),()=>a(r)}function a(r){let i=n.value.indexOf(r);i!==-1&&n.value.splice(i,1),t&&t.unregister(r)}let l={register:o,unregister:a,portals:n};return[n,e.defineComponent({name:"PortalWrapper",setup(r,{slots:i}){return e.provide(Et,l),()=>{var s;return(s=i.default)==null?void 0:s.call(i)}}})]}let Jn=Symbol("PortalGroupContext"),Mr=e.defineComponent({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:n,slots:o}){let a=e.reactive({resolveTarget(){return t.target}});return e.provide(Jn,a),()=>{let{target:l,...r}=t;return V({theirProps:r,ourProps:{},slot:{},attrs:n,slots:o,name:"PortalGroup"})}}}),Xn=Symbol("StackContext");var St=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(St||{});function Dr(){return e.inject(Xn,()=>{})}function Vr({type:t,enabled:n,element:o,onUpdate:a}){let l=Dr();function r(...i){a==null||a(...i),l(...i)}e.onMounted(()=>{e.watch(n,(i,s)=>{i?r(0,t,o):s===!0&&r(1,t,o)},{immediate:!0,flush:"sync"})}),e.onUnmounted(()=>{n.value&&r(1,t,o)}),e.provide(Xn,r)}let eo=Symbol("DescriptionContext");function Ir(){let t=e.inject(eo,null);if(t===null)throw new Error("Missing parent");return t}function to({slot:t=e.ref({}),name:n="Description",props:o={}}={}){let a=e.ref([]);function l(r){return a.value.push(r),()=>{let i=a.value.indexOf(r);i!==-1&&a.value.splice(i,1)}}return e.provide(eo,{register:l,slot:t,name:n,props:o}),e.computed(()=>a.value.length>0?a.value.join(" "):void 0)}e.defineComponent({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${F()}`}},setup(t,{attrs:n,slots:o}){let a=Ir();return e.onMounted(()=>e.onUnmounted(a.register(t.id))),()=>{let{name:l="Description",slot:r=e.ref({}),props:i={}}=a,{id:s,...c}=t,u={...Object.entries(i).reduce((d,[p,m])=>Object.assign(d,{[p]:e.unref(m)}),{}),id:s};return V({ourProps:u,theirProps:c,slot:r.value,attrs:n,slots:o,name:l})}}});function Ar(t){let n=e.shallowRef(t.getSnapshot());return e.onUnmounted(t.subscribe(()=>{n.value=t.getSnapshot()})),n}function Or(t,n){let o=t(),a=new Set;return{getSnapshot(){return o},subscribe(l){return a.add(l),()=>a.delete(l)},dispatch(l,...r){let i=n[l].call(o,...r);i&&(o=i,a.forEach(s=>s()))}}}function Pr(){let t;return{before({doc:n}){var o;let a=n.documentElement;t=((o=n.defaultView)!=null?o:window).innerWidth-a.clientWidth},after({doc:n,d:o}){let a=n.documentElement,l=a.clientWidth-a.offsetWidth,r=t-l;o.style(a,"paddingRight",`${r}px`)}}}function Rr(){if(!Un())return{};let t;return{before(){t=window.pageYOffset},after({doc:n,d:o,meta:a}){function l(i){return a.containers.flatMap(s=>s()).some(s=>s.contains(i))}if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let i=ye();i.style(n.documentElement,"scroll-behavior","auto"),o.add(()=>o.microTask(()=>i.dispose()))}o.style(n.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let r=null;o.addEventListener(n,"click",i=>{if(i.target instanceof HTMLElement)try{let s=i.target.closest("a");if(!s)return;let{hash:c}=new URL(s.href),u=n.querySelector(c);u&&!l(u)&&(r=u)}catch{}},!0),o.addEventListener(n,"touchmove",i=>{i.target instanceof HTMLElement&&!l(i.target)&&i.preventDefault()},{passive:!1}),o.add(()=>{window.scrollTo(0,window.pageYOffset+t),r&&r.isConnected&&(r.scrollIntoView({block:"nearest"}),r=null)})}}}function Fr(){return{before({doc:t,d:n}){n.style(t.documentElement,"overflow","hidden")}}}function jr(t){let n={};for(let o of t)Object.assign(n,o(n));return n}let be=Or(()=>new Map,{PUSH(t,n){var o;let a=(o=this.get(t))!=null?o:{doc:t,count:0,d:ye(),meta:new Set};return a.count++,a.meta.add(n),this.set(t,a),this},POP(t,n){let o=this.get(t);return o&&(o.count--,o.meta.delete(n)),this},SCROLL_PREVENT({doc:t,d:n,meta:o}){let a={doc:t,d:n,meta:jr(o)},l=[Rr(),Pr(),Fr()];l.forEach(({before:r})=>r==null?void 0:r(a)),l.forEach(({after:r})=>r==null?void 0:r(a))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});be.subscribe(()=>{let t=be.getSnapshot(),n=new Map;for(let[o]of t)n.set(o,o.documentElement.style.overflow);for(let o of t.values()){let a=n.get(o.doc)==="hidden",l=o.count!==0;(l&&!a||!l&&a)&&be.dispatch(o.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",o),o.count===0&&be.dispatch("TEARDOWN",o)}});function zr(t,n,o){let a=Ar(be),l=e.computed(()=>{let r=t.value?a.value.get(t.value):void 0;return r?r.count>0:!1});return e.watch([t,n],([r,i],[s],c)=>{if(!r||!i)return;be.dispatch("PUSH",r,o);let u=!1;c(()=>{u||(be.dispatch("POP",s??r,o),u=!0)})},{immediate:!0}),l}function no({defaultContainers:t=[],portals:n,mainTreeNodeRef:o}={}){let a=e.ref(null),l=Z(a);function r(){var i;let s=[];for(let c of t)c!==null&&(c instanceof HTMLElement?s.push(c):"value"in c&&c.value instanceof HTMLElement&&s.push(c.value));if(n!=null&&n.value)for(let c of n.value)s.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(_(a))||s.some(u=>c.contains(u))||s.push(c));return s}return{resolveContainers:r,contains(i){return r().some(s=>s.contains(i))},mainTreeNodeRef:a,MainTreeNode(){return o!=null?null:e.h(ae,{features:ne.Hidden,ref:a})}}}function Ur(){let t=e.ref(null);return{mainTreeNodeRef:t,MainTreeNode(){return e.h(ae,{features:ne.Hidden,ref:t})}}}var Hr=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Hr||{});let Ct=Symbol("DialogContext");function Ne(t){let n=e.inject(Ct,null);if(n===null){let o=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Ne),o}return n}let Fe="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Gr=e.defineComponent({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Fe},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${F()}`}},emits:{close:t=>!0},setup(t,{emit:n,attrs:o,slots:a,expose:l}){var r;let i=e.ref(!1);e.onMounted(()=>{i.value=!0});let s=e.ref(0),c=he(),u=e.computed(()=>t.open===Fe&&c!==null?(c.value&P.Open)===P.Open:t.open),d=e.ref(null),p=e.computed(()=>Z(d));if(l({el:d,$el:d}),!(t.open!==Fe||c!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof u.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u.value===Fe?void 0:t.open}`);let m=e.computed(()=>i.value&&u.value?0:1),f=e.computed(()=>m.value===0),b=e.computed(()=>s.value>1),w=e.inject(Ct,null)!==null,[y,g]=Qn(),{resolveContainers:k,mainTreeNodeRef:v,MainTreeNode:x}=no({portals:y,defaultContainers:[e.computed(()=>{var D;return(D=N.panelRef.value)!=null?D:d.value})]}),E=e.computed(()=>b.value?"parent":"leaf"),h=e.computed(()=>c!==null?(c.value&P.Closing)===P.Closing:!1),S=e.computed(()=>w||h.value?!1:f.value),L=e.computed(()=>{var D,j,ee;return(ee=Array.from((j=(D=p.value)==null?void 0:D.querySelectorAll("body > *"))!=null?j:[]).find(te=>te.id==="headlessui-portal-root"?!1:te.contains(_(v))&&te instanceof HTMLElement))!=null?ee:null});qn(L,S);let C=e.computed(()=>b.value?!0:f.value),T=e.computed(()=>{var D,j,ee;return(ee=Array.from((j=(D=p.value)==null?void 0:D.querySelectorAll("[data-headlessui-portal]"))!=null?j:[]).find(te=>te.contains(_(v))&&te instanceof HTMLElement))!=null?ee:null});qn(T,C),Vr({type:"Dialog",enabled:e.computed(()=>m.value===0),element:d,onUpdate:(D,j)=>{if(j==="Dialog")return I(D,{[St.Add]:()=>s.value+=1,[St.Remove]:()=>s.value-=1})}});let B=to({name:"DialogDescription",slot:e.computed(()=>({open:u.value}))}),$=e.ref(null),N={titleId:$,panelRef:e.ref(null),dialogState:m,setTitleId(D){$.value!==D&&($.value=D)},close(){n("close",!1)}};e.provide(Ct,N);let M=e.computed(()=>!(!f.value||b.value));wt(k,(D,j)=>{N.close(),e.nextTick(()=>j==null?void 0:j.focus())},M);let R=e.computed(()=>!(b.value||m.value!==0));vt((r=p.value)==null?void 0:r.defaultView,"keydown",D=>{R.value&&(D.defaultPrevented||D.key===O.Escape&&(D.preventDefault(),D.stopPropagation(),N.close()))});let X=e.computed(()=>!(h.value||m.value!==0||w));return zr(p,X,D=>{var j;return{containers:[...(j=D.containers)!=null?j:[],k]}}),e.watchEffect(D=>{if(m.value!==0)return;let j=_(d);if(!j)return;let ee=new ResizeObserver(te=>{for(let qe of te){let le=qe.target.getBoundingClientRect();le.x===0&&le.y===0&&le.width===0&&le.height===0&&N.close()}});ee.observe(j),D(()=>ee.disconnect())}),()=>{let{id:D,open:j,initialFocus:ee,...te}=t,qe={...o,ref:d,id:D,role:"dialog","aria-modal":m.value===0?!0:void 0,"aria-labelledby":$.value,"aria-describedby":B.value},le={open:m.value===0};return e.h(_t,{force:!0},()=>[e.h(Zn,()=>e.h(Mr,{target:d.value},()=>e.h(_t,{force:!1},()=>e.h(Be,{initialFocus:ee,containers:k,features:f.value?I(E.value,{parent:Be.features.RestoreFocus,leaf:Be.features.All&~Be.features.FocusLock}):Be.features.None},()=>e.h(g,{},()=>V({ourProps:qe,theirProps:{...te,...o},slot:le,attrs:o,slots:a,visible:m.value===0,features:K.RenderStrategy|K.Static,name:"Dialog"})))))),e.h(x)])}}});e.defineComponent({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-overlay-${F()}`}},setup(t,{attrs:n,slots:o}){let a=Ne("DialogOverlay");function l(r){r.target===r.currentTarget&&(r.preventDefault(),r.stopPropagation(),a.close())}return()=>{let{id:r,...i}=t;return V({ourProps:{id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:{open:a.dialogState.value===0},attrs:n,slots:o,name:"DialogOverlay"})}}}),e.defineComponent({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-backdrop-${F()}`}},inheritAttrs:!1,setup(t,{attrs:n,slots:o,expose:a}){let l=Ne("DialogBackdrop"),r=e.ref(null);return a({el:r,$el:r}),e.onMounted(()=>{if(l.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let{id:i,...s}=t,c={id:i,ref:r,"aria-hidden":!0};return e.h(_t,{force:!0},()=>e.h(Zn,()=>V({ourProps:c,theirProps:{...n,...s},slot:{open:l.dialogState.value===0},attrs:n,slots:o,name:"DialogBackdrop"})))}}});let Wr=e.defineComponent({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${F()}`}},setup(t,{attrs:n,slots:o,expose:a}){let l=Ne("DialogPanel");a({el:l.panelRef,$el:l.panelRef});function r(i){i.stopPropagation()}return()=>{let{id:i,...s}=t,c={id:i,ref:l.panelRef,onClick:r};return V({ourProps:c,theirProps:s,slot:{open:l.dialogState.value===0},attrs:n,slots:o,name:"DialogPanel"})}}}),Yr=e.defineComponent({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${F()}`}},setup(t,{attrs:n,slots:o}){let a=Ne("DialogTitle");return e.onMounted(()=>{a.setTitleId(t.id),e.onUnmounted(()=>a.setTitleId(null))}),()=>{let{id:l,...r}=t;return V({ourProps:{id:l},theirProps:r,slot:{open:a.dialogState.value===0},attrs:n,slots:o,name:"DialogTitle"})}}});var qr=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(qr||{});let oo=Symbol("PopoverContext");function je(t){let n=e.inject(oo,null);if(n===null){let o=new Error(`<${t} /> is missing a parent <${io.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,je),o}return n}let ao=Symbol("PopoverGroupContext");function lo(){return e.inject(ao,null)}let ro=Symbol("PopoverPanelContext");function Kr(){return e.inject(ro,null)}let io=e.defineComponent({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:n,attrs:o,expose:a}){var l;let r=e.ref(null);a({el:r,$el:r});let i=e.ref(1),s=e.ref(null),c=e.ref(null),u=e.ref(null),d=e.ref(null),p=e.computed(()=>Z(r)),m=e.computed(()=>{var E,h;if(!_(s)||!_(d))return!1;for(let N of document.querySelectorAll("body > *"))if(Number(N==null?void 0:N.contains(_(s)))^Number(N==null?void 0:N.contains(_(d))))return!0;let S=Pe(),L=S.indexOf(_(s)),C=(L+S.length-1)%S.length,T=(L+1)%S.length,B=S[C],$=S[T];return!((E=_(d))!=null&&E.contains(B))&&!((h=_(d))!=null&&h.contains($))}),f={popoverState:i,buttonId:e.ref(null),panelId:e.ref(null),panel:d,button:s,isPortalled:m,beforePanelSentinel:c,afterPanelSentinel:u,togglePopover(){i.value=I(i.value,{0:1,1:0})},closePopover(){i.value!==1&&(i.value=1)},close(E){f.closePopover();let h=(()=>E?E instanceof HTMLElement?E:E.value instanceof HTMLElement?_(E):_(f.button):_(f.button))();h==null||h.focus()}};e.provide(oo,f),ft(e.computed(()=>I(i.value,{0:P.Open,1:P.Closed})));let b={buttonId:f.buttonId,panelId:f.panelId,close(){f.closePopover()}},w=lo(),y=w==null?void 0:w.registerPopover,[g,k]=Qn(),v=no({mainTreeNodeRef:w==null?void 0:w.mainTreeNodeRef,portals:g,defaultContainers:[s,d]});function x(){var E,h,S,L;return(L=w==null?void 0:w.isFocusWithinPopoverGroup())!=null?L:((E=p.value)==null?void 0:E.activeElement)&&(((h=_(s))==null?void 0:h.contains(p.value.activeElement))||((S=_(d))==null?void 0:S.contains(p.value.activeElement)))}return e.watchEffect(()=>y==null?void 0:y(b)),vt((l=p.value)==null?void 0:l.defaultView,"focus",E=>{var h,S;E.target!==window&&E.target instanceof HTMLElement&&i.value===0&&(x()||s&&d&&(v.contains(E.target)||(h=_(f.beforePanelSentinel))!=null&&h.contains(E.target)||(S=_(f.afterPanelSentinel))!=null&&S.contains(E.target)||f.closePopover()))},!0),wt(v.resolveContainers,(E,h)=>{var S;f.closePopover(),In(h,gt.Loose)||(E.preventDefault(),(S=_(s))==null||S.focus())},e.computed(()=>i.value===0)),()=>{let E={open:i.value===0,close:f.close};return e.h(e.Fragment,[e.h(k,{},()=>V({theirProps:{...t,...o},ourProps:{ref:r},slot:E,slots:n,attrs:o,name:"Popover"})),e.h(v.MainTreeNode)])}}}),Zr=e.defineComponent({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${F()}`}},inheritAttrs:!1,setup(t,{attrs:n,slots:o,expose:a}){let l=je("PopoverButton"),r=e.computed(()=>Z(l.button));a({el:l.button,$el:l.button}),e.onMounted(()=>{l.buttonId.value=t.id}),e.onUnmounted(()=>{l.buttonId.value=null});let i=lo(),s=i==null?void 0:i.closeOthers,c=Kr(),u=e.computed(()=>c===null?!1:c.value===l.panelId.value),d=e.ref(null),p=`headlessui-focus-sentinel-${F()}`;u.value||e.watchEffect(()=>{l.button.value=d.value});let m=mt(e.computed(()=>({as:t.as,type:n.type})),d);function f(v){var x,E,h,S,L;if(u.value){if(l.popoverState.value===1)return;switch(v.key){case O.Space:case O.Enter:v.preventDefault(),(E=(x=v.target).click)==null||E.call(x),l.closePopover(),(h=_(l.button))==null||h.focus();break}}else switch(v.key){case O.Space:case O.Enter:v.preventDefault(),v.stopPropagation(),l.popoverState.value===1&&(s==null||s(l.buttonId.value)),l.togglePopover();break;case O.Escape:if(l.popoverState.value!==0)return s==null?void 0:s(l.buttonId.value);if(!_(l.button)||(S=r.value)!=null&&S.activeElement&&!((L=_(l.button))!=null&&L.contains(r.value.activeElement)))return;v.preventDefault(),v.stopPropagation(),l.closePopover();break}}function b(v){u.value||v.key===O.Space&&v.preventDefault()}function w(v){var x,E;t.disabled||(u.value?(l.closePopover(),(x=_(l.button))==null||x.focus()):(v.preventDefault(),v.stopPropagation(),l.popoverState.value===1&&(s==null||s(l.buttonId.value)),l.togglePopover(),(E=_(l.button))==null||E.focus()))}function y(v){v.preventDefault(),v.stopPropagation()}let g=yt();function k(){let v=_(l.panel);if(!v)return;function x(){I(g.value,{[Y.Forwards]:()=>J(v,G.First),[Y.Backwards]:()=>J(v,G.Last)})===Le.Error&&J(Pe().filter(E=>E.dataset.headlessuiFocusGuard!=="true"),I(g.value,{[Y.Forwards]:G.Next,[Y.Backwards]:G.Previous}),{relativeTo:_(l.button)})}x()}return()=>{let v=l.popoverState.value===0,x={open:v},{id:E,...h}=t,S=u.value?{ref:d,type:m.value,onKeydown:f,onClick:w}:{ref:d,id:E,type:m.value,"aria-expanded":l.popoverState.value===0,"aria-controls":_(l.panel)?l.panelId.value:void 0,disabled:t.disabled?!0:void 0,onKeydown:f,onKeyup:b,onClick:w,onMousedown:y};return e.h(e.Fragment,[V({ourProps:S,theirProps:{...n,...h},slot:x,attrs:n,slots:o,name:"PopoverButton"}),v&&!u.value&&l.isPortalled.value&&e.h(ae,{id:p,features:ne.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k})])}}});e.defineComponent({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:n,slots:o}){let a=je("PopoverOverlay"),l=`headlessui-popover-overlay-${F()}`,r=he(),i=e.computed(()=>r!==null?(r.value&P.Open)===P.Open:a.popoverState.value===0);function s(){a.closePopover()}return()=>{let c={open:a.popoverState.value===0};return V({ourProps:{id:l,"aria-hidden":!0,onClick:s},theirProps:t,slot:c,attrs:n,slots:o,features:K.RenderStrategy|K.Static,visible:i.value,name:"PopoverOverlay"})}}});let Qr=e.defineComponent({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${F()}`}},inheritAttrs:!1,setup(t,{attrs:n,slots:o,expose:a}){let{focus:l}=t,r=je("PopoverPanel"),i=e.computed(()=>Z(r.panel)),s=`headlessui-focus-sentinel-before-${F()}`,c=`headlessui-focus-sentinel-after-${F()}`;a({el:r.panel,$el:r.panel}),e.onMounted(()=>{r.panelId.value=t.id}),e.onUnmounted(()=>{r.panelId.value=null}),e.provide(ro,r.panelId),e.watchEffect(()=>{var y,g;if(!l||r.popoverState.value!==0||!r.panel)return;let k=(y=i.value)==null?void 0:y.activeElement;(g=_(r.panel))!=null&&g.contains(k)||J(_(r.panel),G.First)});let u=he(),d=e.computed(()=>u!==null?(u.value&P.Open)===P.Open:r.popoverState.value===0);function p(y){var g,k;switch(y.key){case O.Escape:if(r.popoverState.value!==0||!_(r.panel)||i.value&&!((g=_(r.panel))!=null&&g.contains(i.value.activeElement)))return;y.preventDefault(),y.stopPropagation(),r.closePopover(),(k=_(r.button))==null||k.focus();break}}function m(y){var g,k,v,x,E;let h=y.relatedTarget;h&&_(r.panel)&&((g=_(r.panel))!=null&&g.contains(h)||(r.closePopover(),((v=(k=_(r.beforePanelSentinel))==null?void 0:k.contains)!=null&&v.call(k,h)||(E=(x=_(r.afterPanelSentinel))==null?void 0:x.contains)!=null&&E.call(x,h))&&h.focus({preventScroll:!0})))}let f=yt();function b(){let y=_(r.panel);if(!y)return;function g(){I(f.value,{[Y.Forwards]:()=>{var k;J(y,G.First)===Le.Error&&((k=_(r.afterPanelSentinel))==null||k.focus())},[Y.Backwards]:()=>{var k;(k=_(r.button))==null||k.focus({preventScroll:!0})}})}g()}function w(){let y=_(r.panel);if(!y)return;function g(){I(f.value,{[Y.Forwards]:()=>{let k=_(r.button),v=_(r.panel);if(!k)return;let x=Pe(),E=x.indexOf(k),h=x.slice(0,E+1),S=[...x.slice(E+1),...h];for(let L of S.slice())if(L.dataset.headlessuiFocusGuard==="true"||v!=null&&v.contains(L)){let C=S.indexOf(L);C!==-1&&S.splice(C,1)}J(S,G.First,{sorted:!1})},[Y.Backwards]:()=>{var k;J(y,G.Previous)===Le.Error&&((k=_(r.button))==null||k.focus())}})}g()}return()=>{let y={open:r.popoverState.value===0,close:r.close},{id:g,focus:k,...v}=t,x={ref:r.panel,id:g,onKeydown:p,onFocusout:l&&r.popoverState.value===0?m:void 0,tabIndex:-1};return V({ourProps:x,theirProps:{...n,...v},attrs:n,slot:y,slots:{...o,default:(...E)=>{var h;return[e.h(e.Fragment,[d.value&&r.isPortalled.value&&e.h(ae,{id:s,ref:r.beforePanelSentinel,features:ne.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:b}),(h=o.default)==null?void 0:h.call(o,...E),d.value&&r.isPortalled.value&&e.h(ae,{id:c,ref:r.afterPanelSentinel,features:ne.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w})])]}},features:K.RenderStrategy|K.Static,visible:d.value,name:"PopoverPanel"})}}});e.defineComponent({name:"PopoverGroup",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:n,slots:o,expose:a}){let l=e.ref(null),r=e.shallowRef([]),i=e.computed(()=>Z(l)),s=Ur();a({el:l,$el:l});function c(m){let f=r.value.indexOf(m);f!==-1&&r.value.splice(f,1)}function u(m){return r.value.push(m),()=>{c(m)}}function d(){var m;let f=i.value;if(!f)return!1;let b=f.activeElement;return(m=_(l))!=null&&m.contains(b)?!0:r.value.some(w=>{var y,g;return((y=f.getElementById(w.buttonId.value))==null?void 0:y.contains(b))||((g=f.getElementById(w.panelId.value))==null?void 0:g.contains(b))})}function p(m){for(let f of r.value)f.buttonId.value!==m&&f.close()}return e.provide(ao,{registerPopover:u,unregisterPopover:c,isFocusWithinPopoverGroup:d,closeOthers:p,mainTreeNodeRef:s.mainTreeNodeRef}),()=>e.h(e.Fragment,[V({ourProps:{ref:l},theirProps:{...t,...n},slot:{},attrs:n,slots:o,name:"PopoverGroup"}),e.h(s.MainTreeNode)])}});let so=Symbol("LabelContext");function co(){let t=e.inject(so,null);if(t===null){let n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,co),n}return t}function Jr({slot:t={},name:n="Label",props:o={}}={}){let a=e.ref([]);function l(r){return a.value.push(r),()=>{let i=a.value.indexOf(r);i!==-1&&a.value.splice(i,1)}}return e.provide(so,{register:l,slot:t,name:n,props:o}),e.computed(()=>a.value.length>0?a.value.join(" "):void 0)}let Xr=e.defineComponent({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${F()}`}},setup(t,{slots:n,attrs:o}){let a=co();return e.onMounted(()=>e.onUnmounted(a.register(t.id))),()=>{let{name:l="Label",slot:r={},props:i={}}=a,{id:s,passive:c,...u}=t,d={...Object.entries(i).reduce((p,[m,f])=>Object.assign(p,{[m]:e.unref(f)}),{}),id:s};return c&&(delete d.onClick,delete d.htmlFor,delete u.onClick),V({ourProps:d,theirProps:u,slot:r,attrs:o,slots:n,name:l})}}}),uo=Symbol("GroupContext"),ei=e.defineComponent({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:n,attrs:o}){let a=e.ref(null),l=Jr({name:"SwitchLabel",props:{htmlFor:e.computed(()=>{var i;return(i=a.value)==null?void 0:i.id}),onClick(i){a.value&&(i.currentTarget.tagName==="LABEL"&&i.preventDefault(),a.value.click(),a.value.focus({preventScroll:!0}))}}}),r=to({name:"SwitchDescription"});return e.provide(uo,{switchRef:a,labelledby:l,describedby:r}),()=>V({theirProps:t,ourProps:{},slot:{},slots:n,attrs:o,name:"SwitchGroup"})}}),ti=e.defineComponent({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${F()}`}},inheritAttrs:!1,setup(t,{emit:n,attrs:o,slots:a,expose:l}){let r=e.inject(uo,null),[i,s]=jn(e.computed(()=>t.modelValue),y=>n("update:modelValue",y),e.computed(()=>t.defaultChecked));function c(){s(!i.value)}let u=e.ref(null),d=r===null?u:r.switchRef,p=mt(e.computed(()=>({as:t.as,type:o.type})),d);l({el:d,$el:d});function m(y){y.preventDefault(),c()}function f(y){y.key===O.Space?(y.preventDefault(),c()):y.key===O.Enter&&fr(y.currentTarget)}function b(y){y.preventDefault()}let w=e.computed(()=>{var y,g;return(g=(y=_(d))==null?void 0:y.closest)==null?void 0:g.call(y,"form")});return e.onMounted(()=>{e.watch([w],()=>{if(!w.value||t.defaultChecked===void 0)return;function y(){s(t.defaultChecked)}return w.value.addEventListener("reset",y),()=>{var g;(g=w.value)==null||g.removeEventListener("reset",y)}},{immediate:!0})}),()=>{let{id:y,name:g,value:k,form:v,...x}=t,E={checked:i.value},h={id:y,ref:d,role:"switch",type:p.value,tabIndex:0,"aria-checked":i.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:m,onKeyup:f,onKeypress:b};return e.h(e.Fragment,[g!=null&&i.value!=null?e.h(ae,Tn({features:ne.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:i.value,form:v,name:g,value:k})):null,V({ourProps:h,theirProps:{...o,...Ce(x,["modelValue","defaultChecked"])},slot:E,attrs:o,slots:a,name:"Switch"})])}}}),ni=Xr;function oi(t){let n={called:!1};return(...o)=>{if(!n.called)return n.called=!0,t(...o)}}function xt(t,...n){t&&n.length>0&&t.classList.add(...n)}function ze(t,...n){t&&n.length>0&&t.classList.remove(...n)}var Lt=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Lt||{});function ai(t,n){let o=ye();if(!t)return o.dispose;let{transitionDuration:a,transitionDelay:l}=getComputedStyle(t),[r,i]=[a,l].map(s=>{let[c=0]=s.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return c});return r!==0?o.setTimeout(()=>n("finished"),r+i):n("finished"),o.add(()=>n("cancelled")),o.dispose}function po(t,n,o,a,l,r){let i=ye(),s=r!==void 0?oi(r):()=>{};return ze(t,...l),xt(t,...n,...o),i.nextFrame(()=>{ze(t,...o),xt(t,...a),i.add(ai(t,c=>(ze(t,...a,...n),xt(t,...l),s(c))))}),i.add(()=>ze(t,...n,...o,...a,...l)),i.add(()=>s("cancelled")),i.dispose}function ge(t=""){return t.split(" ").filter(n=>n.trim().length>1)}let Bt=Symbol("TransitionContext");var li=(t=>(t.Visible="visible",t.Hidden="hidden",t))(li||{});function ri(){return e.inject(Bt,null)!==null}function ii(){let t=e.inject(Bt,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function si(){let t=e.inject($t,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let $t=Symbol("NestingContext");function Ue(t){return"children"in t?Ue(t.children):t.value.filter(({state:n})=>n==="visible").length>0}function fo(t){let n=e.ref([]),o=e.ref(!1);e.onMounted(()=>o.value=!0),e.onUnmounted(()=>o.value=!1);function a(r,i=ue.Hidden){let s=n.value.findIndex(({id:c})=>c===r);s!==-1&&(I(i,{[ue.Unmount](){n.value.splice(s,1)},[ue.Hidden](){n.value[s].state="hidden"}}),!Ue(n)&&o.value&&(t==null||t()))}function l(r){let i=n.value.find(({id:s})=>s===r);return i?i.state!=="visible"&&(i.state="visible"):n.value.push({id:r,state:"visible"}),()=>a(r,ue.Unmount)}return{children:n,register:l,unregister:a}}let mo=K.RenderStrategy,Nt=e.defineComponent({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:n,attrs:o,slots:a,expose:l}){let r=e.ref(0);function i(){r.value|=P.Opening,n("beforeEnter")}function s(){r.value&=~P.Opening,n("afterEnter")}function c(){r.value|=P.Closing,n("beforeLeave")}function u(){r.value&=~P.Closing,n("afterLeave")}if(!ri()&&ar())return()=>e.h(bo,{...t,onBeforeEnter:i,onAfterEnter:s,onBeforeLeave:c,onAfterLeave:u},a);let d=e.ref(null),p=e.computed(()=>t.unmount?ue.Unmount:ue.Hidden);l({el:d,$el:d});let{show:m,appear:f}=ii(),{register:b,unregister:w}=si(),y=e.ref(m.value?"visible":"hidden"),g={value:!0},k=F(),v={value:!1},x=fo(()=>{!v.value&&y.value!=="hidden"&&(y.value="hidden",w(k),u())});e.onMounted(()=>{let N=b(k);e.onUnmounted(N)}),e.watchEffect(()=>{if(p.value===ue.Hidden&&k){if(m.value&&y.value!=="visible"){y.value="visible";return}I(y.value,{hidden:()=>w(k),visible:()=>b(k)})}});let E=ge(t.enter),h=ge(t.enterFrom),S=ge(t.enterTo),L=ge(t.entered),C=ge(t.leave),T=ge(t.leaveFrom),B=ge(t.leaveTo);e.onMounted(()=>{e.watchEffect(()=>{if(y.value==="visible"){let N=_(d);if(N instanceof Comment&&N.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function $(N){let M=g.value&&!f.value,R=_(d);!R||!(R instanceof HTMLElement)||M||(v.value=!0,m.value&&i(),m.value||c(),N(m.value?po(R,E,h,S,L,X=>{v.value=!1,X===Lt.Finished&&s()}):po(R,C,T,B,L,X=>{v.value=!1,X===Lt.Finished&&(Ue(x)||(y.value="hidden",w(k),u()))})))}return e.onMounted(()=>{e.watch([m],(N,M,R)=>{$(R),g.value=!1},{immediate:!0})}),e.provide($t,x),ft(e.computed(()=>I(y.value,{visible:P.Open,hidden:P.Closed})|r.value)),()=>{let{appear:N,show:M,enter:R,enterFrom:X,enterTo:D,entered:j,leave:ee,leaveFrom:te,leaveTo:qe,...le}=t,Pc={ref:d},Rc={...le,...f.value&&m.value&&xe.isServer?{class:e.normalizeClass([o.class,le.class,...E,...h])}:{}};return V({theirProps:Rc,ourProps:Pc,slot:{},slots:a,attrs:o,features:mo,visible:y.value==="visible",name:"TransitionChild"})}}}),ci=Nt,bo=e.defineComponent({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:n,attrs:o,slots:a}){let l=he(),r=e.computed(()=>t.show===null&&l!==null?(l.value&P.Open)===P.Open:t.show);e.watchEffect(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let i=e.ref(r.value?"visible":"hidden"),s=fo(()=>{i.value="hidden"}),c=e.ref(!0),u={show:r,appear:e.computed(()=>t.appear||!c.value)};return e.onMounted(()=>{e.watchEffect(()=>{c.value=!1,r.value?i.value="visible":Ue(s)||(i.value="hidden")})}),e.provide($t,s),e.provide(Bt,u),()=>{let d=Ce(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),p={unmount:t.unmount};return V({ourProps:{...p,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[e.h(ci,{onBeforeEnter:()=>n("beforeEnter"),onAfterEnter:()=>n("afterEnter"),onBeforeLeave:()=>n("beforeLeave"),onAfterLeave:()=>n("afterLeave"),...o,...p,...d},a.default)]},attrs:{},features:mo,visible:i.value==="visible",name:"Transition"})}}});const ui=["aria-live"],di={key:0,class:"tw-sr-only"},go=e.defineComponent({__name:"CBLoader",props:{label:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("span",{class:"cb-loader tw-pointer-events-none tw-w-9 tw-h-9 tw-cb-flex-center","aria-live":n.label?"polite":void 0},[e.createVNode(e.unref(Vl),{class:"tw-animate-spin tw-w-6 tw-h-6",style:{"animation-duration":"1.5s"},role:"presentation"}),n.label?(e.openBlock(),e.createElementBlock("span",di,e.toDisplayString(n.label),1)):e.createCommentVNode("",!0)],8,ui))}}),pi={class:"tw-w-12 tw-h-12 tw-flex-none tw-cb-flex-center tw-bg-base-2 tw-rounded-lg"},wo=e.defineComponent({__name:"CBLocationIcon",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",pi,[e.createVNode(e.unref(_n),{class:"tw-w-8 tw-h-8"})]))}}),fi={class:"cb-location-filter"},mi={key:0,class:"tw-grid",style:{"grid-template-columns":"minmax(0, 1fr)"}},bi={class:"tw-self-center tw-place-self-end tw-mr-1 cb-grid-cover"},gi=["aria-label"],wi={key:1,class:"tw-grid"},hi=["title"],yi={class:"tw-truncate tw-w-10/12 tw-block"},vi=["title"],ho=e.defineComponent({__name:"CBLocationFilter",props:{config:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,{t:a}=H(),l=e.ref(""),r=e.ref(),i=un(r),{locations:s,isLoading:c}=bl(l,o.config),{isSupported:u,getCurrentLocation:d}=gl(a("currentPosition")),p=e.computed({get:()=>o.modelValue,set:w=>{n("update:modelValue",w)}});function m(w){p.value=w}const{fn:f,isProcessing:b}=Ka(async()=>{try{p.value=await d()}catch(w){console.error(w)}});return(w,y)=>(e.openBlock(),e.createElementBlock("div",fi,[p.value?(e.openBlock(),e.createElementBlock("div",wi,[e.createElementVNode("p",{class:"tw-m-0 tw-min-w-0 cb-grid-cover cb-input tw-bg-base-0",title:p.value.name},[e.createElementVNode("span",yi,e.toDisplayString(p.value.name),1)],8,hi),e.createElementVNode("button",{type:"button",class:"cb-btn tw-p-1 tw-bg-base-1 cb-grid-cover tw-self-center tw-place-self-end tw-mr-1",title:e.unref(a)("reset"),onClick:y[2]||(y[2]=g=>p.value=null)},[e.createVNode(e.unref(Se),{class:"tw-w-6 tw-h-6"})],8,vi)])):(e.openBlock(),e.createElementBlock("div",mi,[p.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kr),{key:0,"onUpdate:modelValue":m},{default:e.withCtx(()=>[e.createVNode(e.unref(_r),{ref_key:"inputEl",ref:r,class:"cb-input cb-grid-cover",autocomplete:"off","aria-label":e.unref(a)("label"),placeholder:e.unref(a)("placeholder"),onChange:y[0]||(y[0]=g=>l.value=g.target.value)},null,8,["aria-label","placeholder"]),e.createVNode(e.Transition,{name:"cb-animate-panel"},{default:e.withCtx(()=>[e.unref(s).length>0?(e.openBlock(),e.createBlock(e.unref(Er),{key:0,class:"tw-absolute tw-inset-x-6 tw-z-20 tw-mt-3 tw-bg-base-0 tw-p-6 tw-shadow-lg tw-rounded-lg",style:e.normalizeStyle({top:`${e.unref(i)}px`})},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s).slice(0,5),g=>(e.openBlock(),e.createBlock(e.unref(Sr),{key:g.id,as:"template",value:g},{default:e.withCtx(({active:k})=>[e.createElementVNode("li",{class:e.normalizeClass(["cb-btn tw-justify-start tw-gap-3",{"tw-bg-base-1":k}])},[e.createVNode(wo),e.createElementVNode("span",null,e.toDisplayString(g.name),1)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["style"])):e.createCommentVNode("",!0)]),_:1})]),_:1})),e.createElementVNode("div",bi,[e.unref(u)&&!e.unref(c)&&!e.unref(b)?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"cb-btn tw-p-1 tw-bg-base-1","aria-label":e.unref(a)("getPosition"),onClick:y[1]||(y[1]=(...g)=>e.unref(f)&&e.unref(f)(...g))},[e.createVNode(e.unref(Ll),{class:"tw-w-6 tw-h-6"})],8,gi)):e.unref(c)?(e.openBlock(),e.createBlock(go,{key:1,label:e.unref(a)("waitGeoCoder")},null,8,["label"])):e.unref(b)?(e.openBlock(),e.createBlock(go,{key:2,label:e.unref(a)("waitGeoPositioning")},null,8,["label"])):e.createCommentVNode("",!0)])]))]))}}),yo=t=>{t.i18n={en:{label:"Location",placeholder:"Street or place",currentPosition:"Your current location",getPosition:"Determine your current location",reset:"Reset location",waitGeoCoder:"Please wait while relevant locations are being loaded...",waitGeoPositioning:"Please wait while your location is being determined..."},de:{label:"Ort",placeholder:"Straße oder Ort",currentPosition:"Deine aktueller Aufenthaltsort",getPosition:"Bestimme deine aktuelle Position",reset:"Ort zurücksetzen",waitGeoCoder:"Es werden relevante Orte für deine Eingabe geladen...",waitGeoPositioning:"Bitte warte, während dein aktueller Aufenthaltsort bestimmt wird..."}}};typeof yo=="function"&&yo(ho);const ki={class:"tw-flex tw-items-center tw-gap-2"},vo=e.defineComponent({__name:"CBSwitch",props:{modelValue:{type:Boolean},label:{}},emits:["update:modelValue"],setup(t,{emit:n}){const a=de(t,"modelValue",n);return(l,r)=>(e.openBlock(),e.createBlock(e.unref(ei),null,{default:e.withCtx(()=>[e.createElementVNode("div",ki,[e.createVNode(e.unref(ti),{modelValue:e.unref(a),"onUpdate:modelValue":r[0]||(r[0]=i=>e.isRef(a)?a.value=i:null),class:e.normalizeClass([e.unref(a)?"tw-bg-active":"tw-bg-base-2","tw-relative tw-inline-flex tw-cursor-pointer tw-p-0 tw-h-6 tw-w-11 tw-items-center tw-rounded-full tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2"])},{default:e.withCtx(()=>[e.createElementVNode("span",{class:e.normalizeClass([e.unref(a)?"tw-translate-x-6":"tw-translate-x-1","tw-inline-block tw-h-4 tw-w-4 tw-transform tw-rounded-full tw-bg-base-0 tw-transition-transform"])},null,2)]),_:1},8,["modelValue","class"]),l.label?(e.openBlock(),e.createBlock(e.unref(ni),{key:0},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label),1)]),_:1})):e.createCommentVNode("",!0)])]),_:1}))}}),_i={class:"tw-flex tw-items-center"},Ei={class:"tw-flex tw-flex-wrap tw-items-end tw-justify-start tw-gap-2 tw-max-w-full"},Si={class:"tw-flex-1 md:tw-max-w-[200px] md:tw-min-w-0"},Ci={class:"tw-block tw-mb-1"},xi={class:"tw-sr-only"},Li=["min","max"],Bi={key:0,class:"tw-flex-1 md:tw-max-w-[200px] md:tw-min-w-0"},$i={class:"tw-block tw-mb-1"},Ni={class:"tw-sr-only"},Ti=["min","max"],Mi=["aria-description"],ko=e.defineComponent({__name:"CBAvailabilityRangeFilter",props:{modelValue:{},availabilityRange:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,{t:a}=H(),l=e.ref(o.modelValue.end!==null),r=e.ref(o.modelValue.start?Q(o.modelValue.start):""),i=e.ref(o.modelValue.end?Q(o.modelValue.end):""),s=e.computed(()=>({min:o.availabilityRange.start,max:o.availabilityRange.end})),c=e.computed(()=>cn(sn(r.value),s.value)),u=e.computed(()=>({min:c.value??o.availabilityRange.start,max:o.availabilityRange.end})),d=e.computed(()=>cn(sn(i.value),u.value));function p(){r.value="",i.value="",l.value=!1}function m(f){f.target instanceof HTMLInputElement&&"reportValidity"in f.target&&f.target.reportValidity()}return e.watch(e.computed(()=>o.modelValue),({start:f,end:b})=>{f===null&&b===null&&p()}),e.watch([c,d],([f,b])=>{n("update:modelValue",{start:f,end:b})}),(f,b)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("header",_i,[e.createVNode(En,{label:e.unref(a)("title")},null,8,["label"]),e.createVNode(dt,{visible:r.value||i.value||l.value||!1,"aria-label":e.unref(a)("reset"),onClick:p},null,8,["visible","aria-label"])]),e.createElementVNode("div",Ei,[e.createElementVNode("label",Si,[e.createElementVNode("span",Ci,[e.createElementVNode("span",xi,e.toDisplayString(e.unref(a)("title")),1),e.createTextVNode(" "+e.toDisplayString(e.unref(a)(l.value?"from":"on")),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":b[0]||(b[0]=w=>r.value=w),type:"date",class:"cb-input cb-input-date",min:e.unref(Q)(s.value.min),max:e.unref(Q)(s.value.max),onBlur:m},null,40,Li),[[e.vModelText,r.value]])]),l.value?(e.openBlock(),e.createElementBlock("label",Bi,[e.createElementVNode("span",$i,[e.createElementVNode("span",Ni,e.toDisplayString(e.unref(a)("title")),1),e.createTextVNode(" "+e.toDisplayString(e.unref(a)("until")),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":b[1]||(b[1]=w=>i.value=w),type:"date",class:"cb-input cb-input-date",min:e.unref(Q)(u.value.min),max:e.unref(Q)(u.value.max),onBlur:m},null,40,Ti),[[e.vModelText,i.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"cb-btn tw-bg-base-1","aria-description":e.unref(a)("addUntilDescription"),onClick:b[2]||(b[2]=w=>l.value=!0)},e.toDisplayString(e.unref(a)("addUntil")),9,Mi))]),e.renderSlot(f.$slots,"default")]))}}),_o=t=>{t.i18n={en:{title:"Available",on:"On",from:"From",until:"Through",addUntil:"+ End Date",addUntilDescription:"Add last day for multi-day rental.",reset:"Reset availability filter."},de:{title:"Verfügbar",on:"Am",from:"Vom",until:"Bis einschließlich",addUntil:"+ Enddatum",addUntilDescription:"Letzten Tag einer mehrtägigen Ausleihe hinzufügen.",reset:"Verfügbarkeitsfilter zurücksetzen."}}};typeof _o=="function"&&_o(ko);const Di=e.createElementVNode("div",{class:"tw-fixed tw-inset-0 tw-bg-black tw-bg-opacity-25 tw-backdrop-blur-sm"},null,-1),Vi={class:"tw-fixed tw-inset-0 tw-max-h-full"},Ii={class:"tw-h-full tw-w-screen tw-p-4 tw-flex tw-flex-col tw-items-center tw-justify-center"},Ai={class:"tw-flex tw-items-center tw-justify-between tw-border-b tw-border-base-2 tw-p-4 tw-mb-4 tw-bg-inherit tw-flex-none tw-z-20"},Oi=["aria-label"],Pi={inheritAttrs:!1},Eo=e.defineComponent({...Pi,__name:"CBDialog",props:{isOpen:{type:Boolean},title:{}},emits:["update:isOpen"],setup(t,{emit:n}){const o=t,{t:a}=H(),l=e.useAttrs(),r=de(o,"isOpen",n);return(i,s)=>(e.openBlock(),e.createBlock(e.unref(bo),{appear:"",show:e.unref(r),as:"template"},{default:e.withCtx(()=>[e.createVNode(e.unref(Gr),{as:"div",class:"tw-relative tw-z-50 cb-app",onClose:s[1]||(s[1]=c=>r.value=!1)},{default:e.withCtx(()=>[e.createVNode(e.unref(Nt),{as:"template",enter:"tw-duration-300 tw-ease-out","enter-from":"tw-opacity-0","enter-to":"tw-opacity-100",leave:"tw-duration-200 tw-ease-in","leave-from":"tw-opacity-100","leave-to":"tw-opacity-0"},{default:e.withCtx(()=>[Di]),_:1}),e.createElementVNode("div",Vi,[e.createElementVNode("div",Ii,[e.createVNode(e.unref(Nt),{as:"template",enter:"tw-duration-300 tw-ease-out","enter-from":"tw-opacity-0 tw-scale-95","enter-to":"tw-opacity-100 tw-scale-100",leave:"tw-duration-200 tw-ease-in","leave-from":"tw-opacity-100 tw-scale-100","leave-to":"tw-opacity-0 tw-scale-95"},{default:e.withCtx(()=>[e.createVNode(e.unref(Wr),e.mergeProps({class:"tw-w-full tw-max-w-[90dvw] tw-transform tw-rounded tw-bg-base-0 tw-shadow-xl tw-transition-all tw-max-h-full tw-flex tw-flex-col tw-overflow-hidden"},e.unref(l)),{default:e.withCtx(()=>[e.renderSlot(i.$slots,"header",{},()=>[e.createElementVNode("header",Ai,[e.createVNode(e.unref(Yr),{as:"p",class:"tw-text-lg tw-font-bold tw-m-0"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.title),1)]),_:1}),e.createElementVNode("button",{type:"button",class:"cb-btn tw-bg-base-1 tw-p-1","aria-label":e.unref(a)("close"),onClick:s[0]||(s[0]=c=>n("update:isOpen",!1))},[e.createVNode(e.unref(Se))],8,Oi)])]),e.renderSlot(i.$slots,"default")]),_:3},16)]),_:3})])])]),_:3})]),_:3},8,["show"]))}}),So=t=>{t.i18n={de:{close:"Dialog schließen"},en:{close:"Close dialog"}}};typeof So=="function"&&So(Eo);const Ri={key:0,class:"cb-common-filter-panel cb-common-filter-panel--expanded"},Fi={class:"tw-flex-1 tw-min-h-0 tw-px-4 tw-overflow-y-auto tw-max-w-full tw-mb-4"},ji={class:"cb-common-filter-panel cb-common-filter-panel--dialog"},zi={class:"tw-flex tw-items-center tw-justify-between tw-border-b tw-border-base-2 tw-px-4 tw-py-4 tw-bg-inherit tw-flex-none tw-z-20"},Ui={class:"tw-text-lg tw-font-bold tw-m-0"},Hi=["aria-label","onClick"],Gi={class:"tw-p-4 cb-common-filter-panel"},Co=e.defineComponent({__name:"CBCommonFilterPanel",props:{expanded:{type:Boolean}},setup(t){const{t:n}=H(),o=Yt("(max-width: 448px)"),a=e.ref(!1),l=e.ref(),r=un(l);return(i,s)=>i.expanded?(e.openBlock(),e.createElementBlock("div",Ri,[e.renderSlot(i.$slots,"default")])):e.unref(o)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:"cb-btn tw-bg-base-2",onClick:s[0]||(s[0]=c=>a.value=!0)},[e.createVNode(e.unref(kn),{class:"tw-flex-none"}),e.createTextVNode(" "+e.toDisplayString(e.unref(n)("buttonLabel")),1)]),e.createVNode(Eo,{"is-open":a.value,"onUpdate:isOpen":s[1]||(s[1]=c=>a.value=c),title:e.unref(n)("dialogTitle",{commons:e.unref(n)("common",0)})},{default:e.withCtx(()=>[e.createElementVNode("div",Fi,[e.createElementVNode("div",ji,[e.renderSlot(i.$slots,"default")])])]),_:3},8,["is-open","title"])],64)):(e.openBlock(),e.createBlock(e.unref(io),{key:2,class:"tw-flex-none"},{default:e.withCtx(()=>[e.createVNode(e.unref(Zr),{ref_key:"filterButtonEl",ref:l,class:"cb-btn tw-bg-base-2"},{default:e.withCtx(()=>[e.createVNode(e.unref(kn),{class:"tw-flex-none"}),e.createTextVNode(" "+e.toDisplayString(e.unref(n)("buttonLabel")),1)]),_:1},512),e.createVNode(e.Transition,{name:"cb-animate-panel"},{default:e.withCtx(()=>[e.createVNode(e.unref(Qr),{class:"tw-absolute tw-mt-3 tw-z-20 tw-bg-base-0 tw-shadow-2xl tw-rounded-lg tw-max-w-sm tw-ml-auto tw-overflow-hidden",style:e.normalizeStyle({top:`${e.unref(r)}px`,insetInline:"1.5rem"})},{default:e.withCtx(({close:c})=>[e.createElementVNode("header",zi,[e.createElementVNode("p",Ui,e.toDisplayString(e.unref(n)("dialogTitle",{commons:e.unref(n)("common",0)})),1),e.createElementVNode("button",{type:"button",class:"cb-btn tw-bg-base-1 tw-p-1","aria-label":e.unref(n)("closeDialog"),onClick:c},[e.createVNode(e.unref(Se))],8,Hi)]),e.createElementVNode("div",Gi,[e.renderSlot(i.$slots,"default")])]),_:3},8,["style"])]),_:3})]),_:3}))}}),Qc="",xo=t=>{t.i18n={en:{buttonLabel:"Filter",dialogTitle:"Filter {commons}",closeDialog:"Close filter dialog"},de:{buttonLabel:"Filtern",dialogTitle:"{commons} filtern",closeDialog:"Filterdialog schließen"}}};typeof xo=="function"&&xo(Co);const Wi={class:"cb-common-filter tw-p-4 md:tw-p-6 tw-relative tw-flex tw-flex-col tw-gap-2"},Yi={key:1,class:"tw-flex tw-gap-2 tw-items-center tw-flex-wrap"},qi=["title","onClick"],Ki={class:"tw-px-2 tw-cb-flex-center"},Zi={key:0,class:"tw-px-2 tw-cb-flex-center tw-bg-black/5"},Tt=e.defineComponent({__name:"CBCommonFilter",props:{api:{},config:{},categories:{},userLocation:{},availableBetween:{},availableToday:{type:Boolean},expanded:{type:Boolean},canReset:{type:Boolean}},emits:["update:categories","update:userLocation","update:availableBetween","update:availableToday","reset"],setup(t,{emit:n}){const o=t,{t:a,locale:l}=H(),r=e.computed(()=>({start:pe(o.config.filter.availability.dateRange.start),end:pe(o.config.filter.availability.dateRange.end)})),i=de(o,"categories",n),s=de(o,"userLocation",n),c=de(o,"availableBetween",n),u=de(o,"availableToday",n),{renderGroups:d,renderGroupsMeta:p}=Zl(e.computed(()=>o.api.categories),e.computed(()=>o.api.categoryGroups),e.computed(()=>o.categories),a("unlabelledCategoryRenderGroup")),m=e.computed(()=>{var y;const f=[];for(const g of d.value){const k=p.value.get(g.id);if((k==null?void 0:k.isActive)!==!0)continue;const v=g.groups.length===1?((y=g.groups.flatMap(x=>x.categories).find(x=>o.categories.has(x.id)))==null?void 0:y.name)??"":`${k.numberOfActiveCategories}`;f.push({key:`category-group:${g.id}`,label:g.label,detail:v,reset(){i.value=Sn(i.value,g.groups.flatMap(x=>x.categories))}})}const{start:b,end:w}=o.availableBetween;if(b){const g=new Intl.DateTimeFormat(l.value,{day:"numeric",month:"numeric"}),k=`${g.format(b)}${w?` - ${g.format(w)}`:""}`;f.push({key:"date-range",label:a("available"),detail:k,reset(){c.value={start:null,end:null}}})}return f});return(f,b)=>(e.openBlock(),e.createElementBlock("div",Wi,[e.createElementVNode("div",{class:e.normalizeClass(["tw-flex tw-gap-3 tw-max-w-full",{"tw-flex-col":f.expanded}])},[f.config.geocode?(e.openBlock(),e.createBlock(ho,{key:0,modelValue:e.unref(s),"onUpdate:modelValue":b[0]||(b[0]=w=>e.isRef(s)?s.value=w:null),class:"tw-min-w-0 tw-flex-1",config:f.config.geocode},null,8,["modelValue","config"])):e.createCommentVNode("",!0),e.renderSlot(f.$slots,"default"),e.createVNode(Co,{expanded:f.expanded},{default:e.withCtx(()=>[e.createVNode(Ln,{modelValue:e.unref(i),"onUpdate:modelValue":b[1]||(b[1]=w=>e.isRef(i)?i.value=w:null),"render-group-list":e.unref(d),"render-group-meta":e.unref(p)},null,8,["modelValue","render-group-list","render-group-meta"]),e.createVNode(ko,{modelValue:e.unref(c),"onUpdate:modelValue":b[3]||(b[3]=w=>e.isRef(c)?c.value=w:null),"availability-range":r.value},{default:e.withCtx(()=>[f.expanded?(e.openBlock(),e.createBlock(vo,{key:0,modelValue:e.unref(u),"onUpdate:modelValue":b[2]||(b[2]=w=>e.isRef(u)?u.value=w:null),label:e.unref(a)("availableToday"),class:"tw-mt-2"},null,8,["modelValue","label"])):e.createCommentVNode("",!0)]),_:1},8,["modelValue","availability-range"]),!f.expanded&&f.canReset?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"cb-btn tw-bg-base-1",onClick:b[4]||(b[4]=w=>n("reset"))},e.toDisplayString(e.unref(a)("resetFilters")),1)):e.createCommentVNode("",!0)]),_:1},8,["expanded"])],2),f.expanded?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(vo,{key:0,modelValue:e.unref(u),"onUpdate:modelValue":b[5]||(b[5]=w=>e.isRef(u)?u.value=w:null),label:e.unref(a)("availableToday")},null,8,["modelValue","label"])),!f.expanded&&m.value.length>0?(e.openBlock(),e.createElementBlock("div",Yi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,w=>(e.openBlock(),e.createElementBlock("button",{key:w.key,type:"button",class:"cb-btn tw-bg-base-2 tw-p-0 tw-gap-0 tw-h-6 tw-items-stretch tw-text-sm",title:e.unref(a)("resetActiveFilter"),onClick:w.reset},[e.createElementVNode("span",Ki,[e.createVNode(e.unref(Se),{class:"tw-w-3 tw-h-3 tw-mr-1"}),e.createTextVNode(" "+e.toDisplayString(w.label),1)]),w.detail?(e.openBlock(),e.createElementBlock("span",Zi,e.toDisplayString(w.detail),1)):e.createCommentVNode("",!0)],8,qi))),128))])):e.createCommentVNode("",!0),f.expanded&&f.canReset?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"cb-btn tw-bg-base-2 tw-mt-4",onClick:b[6]||(b[6]=w=>n("reset"))},e.toDisplayString(e.unref(a)("resetFilters")),1)):e.createCommentVNode("",!0)]))}}),Lo=t=>{t.i18n={en:{availableToday:"Available today",available:"Available",unlabelledCategoryRenderGroup:"Features",resetActiveFilter:"Remove this filter",resetFilters:"Reset all filters"},de:{availableToday:"Heute verfügbar",available:"Verfügbar",unlabelledCategoryRenderGroup:"Merkmale",resetActiveFilter:"Entferne diesen Filter",resetFilters:"Alle Filter zurücksetzen"}}};typeof Lo=="function"&&Lo(Tt);const Qi={class:"cb-layout-filter"},Ji=Object.freeze(Object.defineProperty({__proto__:null,REQUIRED_STATE:["categories","categoryGroups"],default:e.defineComponent({__name:"CBFilterLayout",props:{config:{},api:{}},setup(t,{expose:n}){const o=t,{filter:a,canResetFilters:l,resetFilters:r}=ce(),i=e.computed(()=>rt(o.config,"filter-expanded")||Ae.value&&rt(o.config,"filter-expanded-mobile")||!Ae.value&&rt(o.config,"filter-expanded-desktop"));return n({requiresState:["categories","categoryGroups"]}),(s,c)=>(e.openBlock(),e.createElementBlock("div",Qi,[e.createVNode(Tt,{categories:e.unref(a).categories,"onUpdate:categories":c[0]||(c[0]=u=>e.unref(a).categories=u),"user-location":e.unref(a).userLocation,"onUpdate:userLocation":c[1]||(c[1]=u=>e.unref(a).userLocation=u),"available-between":e.unref(a).availableBetween,"onUpdate:availableBetween":c[2]||(c[2]=u=>e.unref(a).availableBetween=u),"available-today":e.unref(a).availableToday,"onUpdate:availableToday":c[3]||(c[3]=u=>e.unref(a).availableToday=u),class:"tw-bg-base-1 tw-rounded",api:s.api,config:s.config,style:{"grid-area":"filter"},"can-reset":e.unref(l),expanded:i.value,onReset:e.unref(r)},null,8,["categories","user-location","available-between","available-today","api","config","can-reset","expanded","onReset"])]))}})},Symbol.toStringTag,{value:"Module"})),Mt=(t,n)=>{const o=t.__vccOpts||t;for(const[a,l]of n)o[a]=l;return o},Xi={},es={class:"tw-py-[.25em] tw-px-[.75em] tw-rounded-full tw-whitespace-nowrap"};function ts(t,n){return e.openBlock(),e.createElementBlock("span",es,[e.renderSlot(t.$slots,"default")])}const ns=Mt(Xi,[["render",ts]]),os=["title"],as=["innerHTML"],ls={role:"presentation"},rs={class:"tw-block tw-font-bold"},Dt=e.defineComponent({__name:"CBAvailability",props:{date:{},availabilityStatus:{},noLabel:{type:Boolean},showIcon:{type:Boolean}},setup(t){const n=t,o={"location-closed":jl,locked:Gl},{t:a}=H(),l=e.computed(()=>`<time datetime="${n.date.isoDate}">${n.date.localeDate}</time>`);return(r,i)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["cb-availability tw-relative tw-text-sm tw-p-1 tw-text-center tw-select-none tw-leading-none tw-min-h-[1rem]",`cb-availability--${r.availabilityStatus}`]),title:e.unref(a)(r.availabilityStatus,{date:r.date.localeDate})},[e.createElementVNode("span",{class:"tw-sr-only",innerHTML:e.unref(a)(r.availabilityStatus,{date:l.value})},null,8,as),r.noLabel?e.createCommentVNode("",!0):e.renderSlot(r.$slots,"default",{key:0},()=>[e.createElementVNode("span",ls,[e.createElementVNode("span",rs,e.toDisplayString(r.date.weekdayName),1),e.createElementVNode("span",null,e.toDisplayString(r.date.date.getDate()),1)])]),r.showIcon?e.renderSlot(r.$slots,"icon",{key:1},()=>[r.availabilityStatus in o?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o[r.availabilityStatus]),{key:0,class:"tw-absolute tw-inset-0 tw-m-auto tw-h-3"})):e.createCommentVNode("",!0)]):e.createCommentVNode("",!0)],10,os))}}),eu="",Bo=t=>{t.i18n={en:{available:"Available on {date}.",booked:"Already booked on {date}.","partially-booked":"Partially booked on {date}.",locked:"Cannot be borrowed on {date} (i.e. for maintenance or other reasons).",unknown:"Availability on {date} is yet to be determined.","location-closed":"The lending station is closed on {date}.","location-holiday":"The lending station is closed on {date}."},de:{available:"Am {date} verfügbar.",booked:"Am {date} bereits gebucht.","partially-booked":"Am {date} bereits teilweise gebucht.",locked:"Am {date} nicht ausleihbar (z.B. wegen Wartung oder anderen Gründen).",unknown:"Die Verfügbarkeit am {date} ist noch unklar.","location-closed":"Am {date} ist die Ausleihstation geschlossen.","location-holiday":"Am {date} ist die Ausleihstation geschlossen."}}};typeof Bo=="function"&&Bo(Dt);const is={class:"cb-availabilities cb-availabilities-seven-days tw-flex tw-transition tw-rounded tw-overflow-hidden"},ss=e.defineComponent({__name:"CBSevenDayAvailability",props:{availabilities:{}},setup(t){const n=t,o=tl(7),a=e.computed(()=>o.value.map(l=>{var r;return{status:((r=n.availabilities[l.isoDate])==null?void 0:r.status)??"unknown",date:l}}));return(l,r)=>(e.openBlock(),e.createElementBlock("div",is,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,({status:i,date:s})=>(e.openBlock(),e.createBlock(Dt,{key:s.isoDate,class:"tw-flex-1","availability-status":i,date:s},null,8,["availability-status","date"]))),128))]))}}),cs={class:"cb-common tw-flex tw-flex-col tw-rounded tw-overflow-hidden tw-bg-base-0 tw-w-full"},us=["loading","src","width","height","alt"],ds={key:1,class:"cb-common-image cb-common-image--fallback tw-h-full tw-bg-gray-700"},ps={class:"cb-common-title tw-absolute tw-inset-0 tw-px-4 tw-py-2 tw-m-0 tw-w-full tw-flex tw-flex-col tw-bg-gradient-to-b tw-from-transparent tw-from-20% tw-to-black/75"},fs={class:"tw-text-xl md:tw-text-2xl tw-font-bold tw-line-clamp-2 tw-text-white tw-block tw-mt-auto cb-text-wrap-balance",style:{"text-shadow":"0 1px rgba(0, 0, 0, 0.5)"}},ms={class:"cb-common-body tw-p-4 tw-flex-1 tw-flex tw-flex-col tw-gap-2"},bs={key:0,class:"cb-common-location tw-flex tw-items-start tw-m-0"},gs={class:"tw-cb-flex-center"},ws={class:"tw-sr-only"},hs={class:"cb-common-location-name cb-text-wrap-balance tw-leading-tight"},ys=["aria-label"],vs={key:1,class:"cb-common-description tw-text-gray-600 tw-m-0"},ks=["aria-label"],_s={class:"tw-mt-auto"},$o=e.defineComponent({__name:"CBCommon",props:{common:{},location:{},showLocation:{type:Boolean},userLocation:{},categoryMap:{},lazy:{type:Boolean}},setup(t){const n=t,{locale:o,t:a}=H(),l=e.ref(),r=e.computed(()=>n.userLocation?hn(n.location.coordinates,n.userLocation):null),i=e.computed(()=>{if(r.value!==null){const{value:d,unit:p}=r.value;return`${d.toLocaleString(o.value,{maximumFractionDigits:1})} ${p}`}else return""}),s=e.computed(()=>n.common.categoryIds.map(d=>n.categoryMap.get(d))),c=qa(l,e.computed(()=>n.common.images)),u=pn(e.computed(()=>n.common.url));return(d,p)=>(e.openBlock(),e.createElementBlock("div",cs,[e.createElementVNode("figure",{ref_key:"imgContainerEl",ref:l,class:"cb-common-header tw-relative tw-aspect-video -tw-mx-px tw-my-0",style:{width:"calc(100% + 2px)"}},[e.unref(c)?(e.openBlock(),e.createElementBlock("img",{key:0,loading:d.lazy?"lazy":void 0,class:"cb-common-image tw-block tw-object-cover tw-object-center tw-bg-gray-700 tw-w-full tw-h-full",src:e.unref(c).url,width:e.unref(c).width,height:e.unref(c).height,alt:e.unref(c).description??""},null,8,us)):(e.openBlock(),e.createElementBlock("div",ds)),e.createElementVNode("figcaption",ps,[e.createElementVNode("span",fs,e.toDisplayString(d.common.name),1)])],512),e.createElementVNode("div",ms,[d.showLocation?(e.openBlock(),e.createElementBlock("p",bs,[e.createElementVNode("span",gs,[e.createElementVNode("span",ws,e.toDisplayString(e.unref(a)("location",{common:d.common.name})),1),e.createVNode(e.unref(_n),{class:"tw-mt-[0.1em] tw-mr-[.1em] tw-flex-none",role:"presentation"}),e.createElementVNode("span",hs,e.toDisplayString(d.location.name),1)]),r.value?(e.openBlock(),e.createElementBlock("span",{key:0,class:"cb-common-location-distance tw-text-teal-600 tw-font-bold tw-inline-flex tw-pl-1 tw-ml-auto tw-whitespace-nowrap","aria-label":e.unref(a)("distance",{common:d.common.name,distance:i.value})},e.toDisplayString(i.value),9,ys)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createVNode(ss,{class:"cb-common-availabilities",availabilities:d.common.availabilities,"aria-label":e.unref(a)("availability",{common:d.common.name})},null,8,["availabilities","aria-label"]),d.common.description?(e.openBlock(),e.createElementBlock("p",vs,e.toDisplayString(d.common.description),1)):e.createCommentVNode("",!0),s.value.length>0?(e.openBlock(),e.createElementBlock("ul",{key:2,class:"cb-common-categories tw-flex tw-flex-wrap tw-gap-1 tw-text-gray-600 tw-m-0 tw-p-0","aria-label":e.unref(a)("features",{common:d.common.name})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,m=>(e.openBlock(),e.createElementBlock("li",{key:m.id,class:"tw-block tw-m-0 tw-p-0"},[m?(e.openBlock(),e.createBlock(ns,{key:0,class:"tw-bg-base-1 tw-text-sm"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.name),1)]),_:2},1024)):e.createCommentVNode("",!0)]))),128))],8,ks)):e.createCommentVNode("",!0),e.createElementVNode("div",_s,[e.createElementVNode("a",e.mergeProps({class:"cb-btn tw-bg-base-1 tw-mt-2"},e.unref(u)),e.toDisplayString(e.unref(a)("bookCommon",{common:d.common.name})),17)])])]))}}),No=t=>{t.i18n={en:{features:"{common} has the following features",availability:"Availability of {common} in the next seven days",distance:"{common} is {distance} away from your current location.",location:"You’ll find {common} at",bookCommon:"Book {common}"},de:{features:"{common} hat die folgenden Eigenschaften",availability:"Verfügbarkeit von {common} in den nächsten sieben Tagen",distance:"{common} ist {distance} von deiner jetzigen Position entfernt.",location:"Du findest {common} bei",bookCommon:"{common} buchen"}}};typeof No=="function"&&No($o);const Es={class:"cb-location tw-p-6"},Ss={class:"tw-flex tw-gap-3"},Cs={class:"tw-grow"},xs={class:"tw-flex tw-m-0"},Ls={key:0,class:"tw-text-teal-600 tw-font-bold tw-inline-flex tw-pl-1 tw-ml-auto tw-whitespace-nowrap"},Bs={class:"tw-not-italic tw-text-black/70 tw-m-0 tw-mt-1"},$s=e.createElementVNode("br",null,null,-1),Ns=e.defineComponent({__name:"CBLocation",props:{location:{},userLocation:{}},setup(t){const n=t,{locale:o}=H(),a=e.computed(()=>n.userLocation?hn(n.location.coordinates,n.userLocation):null);return(l,r)=>(e.openBlock(),e.createElementBlock("div",Es,[e.renderSlot(l.$slots,"default"),e.createElementVNode("div",Ss,[e.createVNode(wo,{class:"tw-mix-blend-multiply"}),e.createElementVNode("div",Cs,[e.createElementVNode("p",xs,[e.createElementVNode("span",null,e.toDisplayString(l.location.name),1),a.value?(e.openBlock(),e.createElementBlock("span",Ls,e.toDisplayString(a.value.value.toLocaleString(e.unref(o),{maximumFractionDigits:1}))+" "+e.toDisplayString(a.value.unit),1)):e.createCommentVNode("",!0)]),e.createElementVNode("address",Bs,[e.createTextVNode(e.toDisplayString(l.location.address.street),1),$s,e.createTextVNode(" "+e.toDisplayString(l.location.address.postalCode)+" "+e.toDisplayString(l.location.address.city),1)])])])]))}}),Ts={class:"tw-flex tw-flex-col"},Ms={class:"tw-flex tw-justify-between tw-items-center tw-mb-2"},Ds={class:"tw-font-bold tw-m-0"},Vs={class:"tw-m-0 tw-text-center cb-text-wrap-balance"},To=e.defineComponent({__name:"CBCommonList",props:{categories:{},commons:{},locationMap:{},selectedLocation:{},userLocation:{},pageSize:{},useMultipleColumns:{type:Boolean}},emits:["deselectLocation"],setup(t,{emit:n}){const o=t,{t:a}=H(),l=e.ref(),r=e.computed(()=>{var d;return(d=l.value)==null?void 0:d.$el}),i=lt(e.computed(()=>o.categories),"id"),s=e.ref(o.commons.slice(0,o.pageSize)),c=e.computed(()=>["tw-block",o.useMultipleColumns?void 0:"tw-mt-6 tw-mx-6"]);e.watch(()=>o.commons,()=>{requestAnimationFrame(()=>{var d;(d=r.value)==null||d.scrollTo({top:0,behavior:"instant"})}),s.value=o.commons.slice(0,o.pageSize)});function u(){var p;if(s.value.length===o.commons.length)return;const d=((p=r.value)==null?void 0:p.scrollTop)??0;s.value=o.commons.slice(0,s.value.length+o.pageSize),requestAnimationFrame(()=>{var m;d&&((m=r.value)==null||m.scrollTo({top:d,behavior:"instant"}))})}return ha(r,()=>{Ae.value||u()},{direction:"bottom",distance:900,interval:1e3}),(d,p)=>{var m;return e.openBlock(),e.createElementBlock("div",Ts,[d.selectedLocation?(e.openBlock(),e.createBlock(Ns,{key:0,location:d.selectedLocation,"user-location":d.userLocation,class:"tw-bg-gradient-to-b tw-from-base-1 tw-to-base-0 tw-border-b tw-border-base-2 tw-shadow-lg"},{default:e.withCtx(()=>[e.createElementVNode("div",Ms,[e.createElementVNode("p",Ds,e.toDisplayString(e.unref(a)("commonsAtLocation",{commons:e.unref(a)("common",d.commons.length)})),1),e.createElementVNode("button",{type:"button",class:"cb-btn tw-bg-base-1 tw-mix-blend-multiply tw-p-1",onClick:p[0]||(p[0]=f=>n("deselectLocation"))},[e.createVNode(e.unref(Se))])])]),_:1},8,["location","user-location"])):e.createCommentVNode("",!0),e.createVNode(e.TransitionGroup,{ref_key:"transitionGroup",ref:l,tag:"ol",class:e.normalizeClass(["cb-common-list tw-items-stretch tw-relative tw-scroll-smooth tw-m-0 tw-pb-6 tw-scroll-pt-6 tw-h-full tw-flex-1",{"tw-common-list--multi-column tw-overflow-hidden tw-grid tw-gap-6 tw-p-6":d.useMultipleColumns,"tw-common-list--single-column tw-overflow-y-scroll tw-p-0":!d.useMultipleColumns}]),style:e.normalizeStyle(d.useMultipleColumns?{"grid-template-columns":"repeat(auto-fill, minmax(280px, 1fr))"}:void 0),name:d.useMultipleColumns?void 0:"cb-animate-list","aria-label":e.unref(a)(d.selectedLocation?"listOfCommonsAtLocation":"listOfCommons",{commons:e.unref(a)("common",0),location:(m=d.selectedLocation)==null?void 0:m.name})},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(f,b)=>(e.openBlock(),e.createElementBlock("li",{key:f.id,class:e.normalizeClass(["tw-relative tw-z-10 tw-w-auto",c.value])},[e.createVNode($o,{common:f,location:d.locationMap.get(f.locationId),"show-location":!d.selectedLocation,"user-location":d.userLocation,"category-map":e.unref(i),lazy:b>2,class:"tw-border tw-border-black/10 tw-h-full"},null,8,["common","location","show-location","user-location","category-map","lazy"])],2))),128)),d.commons.length===0?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass(["tw-col-span-full",c.value])},[e.createElementVNode("p",Vs,e.toDisplayString(e.unref(a)("noMatchingItems",{commons:e.unref(a)("common",0)})),1)],2)):e.createCommentVNode("",!0),e.unref(Ae)&&d.commons.length>s.value.length?(e.openBlock(),e.createElementBlock("li",{key:1,class:e.normalizeClass(["tw-col-span-full",c.value])},[e.createElementVNode("button",{type:"button",class:"cb-btn tw-bg-base-2 tw-w-full",onClick:u},e.toDisplayString(e.unref(a)("loadMore",{commons:e.unref(a)("common",d.commons.length)})),1)],2)):e.createCommentVNode("",!0)]),_:1},8,["class","style","name","aria-label"])])}}}),tu="",Mo=t=>{t.i18n={en:{commonsAtLocation:"{commons} at this location",noMatchingItems:"Sorry, but no {commons} match your filter criteria.",loadMore:"Show more {commons}",listOfCommons:"List of {commons}",listOfCommonsAtLocation:"List of {commons} at {location}"},de:{commonsAtLocation:"{commons} an diesem Standort",noMatchingItems:"Entschuldige, aber keine {commons} entsprechen deinen Filterkriterien.",loadMore:"Weitere {commons} anzeigen",listOfCommons:"Liste der {commons}",listOfCommonsAtLocation:"Liste der {commons} bei {location}"}}};typeof Mo=="function"&&Mo(To);const Vt=Mt(To,[["__scopeId","data-v-b00871d0"]]),Is={class:"cb-layout-list"},As=Object.freeze(Object.defineProperty({__proto__:null,REQUIRED_STATE:["categories","categoryGroups","commons","locations"],default:e.defineComponent({__name:"CBListLayout",props:{config:{},api:{}},setup(t){const{filter:n,filteredAndSortedCommons:o,locationMap:a}=ce();return(l,r)=>(e.openBlock(),e.createElementBlock("div",Is,[e.createVNode(Vt,{class:"tw-isolate tw-z-10 tw-bg-base-1 md:tw-mb-6 tw-rounded",categories:l.api.categories,commons:e.unref(o),"location-map":e.unref(a),"selected-location":e.unref(n).location,"user-location":e.unref(n).userLocation,"page-size":10,"use-multiple-columns":"",onDeselectLocation:r[0]||(r[0]=i=>e.unref(n).location=null)},null,8,["categories","commons","location-map","selected-location","user-location"])]))}})},Symbol.toStringTag,{value:"Module"})),Os={class:"cb-pagination tw-mt-3 tw-flex tw-items-center"},Ps={class:"cb-pagination-info tw-m-0 tw-mr-4 tw-tabular-nums"},Rs={class:"cb-pagination-pages tw-flex",role:"menubar"},Fs=["aria-current","aria-setsize","aria-posinset","aria-checked","aria-label","onClick"],Do=e.defineComponent({__name:"CBPagination",props:{modelValue:{},pageCount:{}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,{t:a}=H();function l(r){r!==o.modelValue&&n("update:modelValue",r)}return(r,i)=>(e.openBlock(),e.createElementBlock("nav",Os,[e.createElementVNode("p",Ps,e.toDisplayString(e.unref(a)("page",{page:r.modelValue,pageCount:r.pageCount})),1),e.createElementVNode("div",Rs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.pageCount,s=>(e.openBlock(),e.createElementBlock("button",{key:s,type:"button",class:e.normalizeClass(["cb-btn cb-pagination-page tw-rounded-none first:tw-rounded-l last:tw-rounded-r",{"tw-bg-active":s===r.modelValue,"tw-bg-base-1":s!==r.modelValue}]),"aria-current":r.modelValue===s?"true":void 0,"aria-setsize":r.pageCount,"aria-posinset":s,"aria-checked":r.modelValue===s,"aria-label":r.modelValue===s?e.unref(a)("currentPage",{page:s}):e.unref(a)("gotoPage",{page:s}),role:"menuitemradio",onClick:c=>l(s)},e.toDisplayString(s),11,Fs))),128))])]))}}),Vo=t=>{t.i18n={de:{page:"Seite {page} von {pageCount}",gotoPage:"Gehe zu Seite {page}",currentPage:"Aktuelle Seite, Seite {page}"},en:{page:"Page {page} of {pageCount}",gotoPage:"Go to page {page}",currentPage:"Current page, Page {page}"}}};typeof Vo=="function"&&Vo(Do);const js={class:"cb-acal-name tw-font-semibold !tw-border-r",scope:"row"},zs={class:"tw-line-clamp-2"},Us={class:"cb-acal-location"},Hs={class:"tw-line-clamp-2"},Gs=e.defineComponent({__name:"CBAvailabilityCalendarRow",props:{common:{},calendarDates:{}},setup(t){const n=t,{locationMap:o}=ce(),a=e.computed(()=>o.value.get(n.common.locationId)),l=pn(e.computed(()=>n.common.url));return(r,i)=>{var s;return e.openBlock(),e.createElementBlock("tr",null,[e.createElementVNode("th",js,[e.createElementVNode("span",zs,[e.createElementVNode("a",e.normalizeProps(e.guardReactiveProps(e.unref(l))),e.toDisplayString(r.common.name),17)])]),e.createElementVNode("td",Us,[e.createElementVNode("span",Hs,e.toDisplayString((s=a.value)==null?void 0:s.name),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.calendarDates,(c,u)=>{var d;return e.openBlock(),e.createElementBlock("td",{key:c.isoDate,class:e.normalizeClass(["cb-acal-day",`cb-acal-day--${e.unref(at)[c.date.getDay()]}`,{"!tw-border-l":u===0}])},[e.createVNode(Dt,{class:"tw-w-full tw-block tw-h-3",date:c,"availability-status":((d=r.common.availabilities[c.isoDate])==null?void 0:d.status)??"unknown","no-label":""},null,8,["date","availability-status"])],2)}),128))])}}}),Ws={class:"cb-acal tw-overflow-auto tw-max-h-full tw-relative"},Ys={class:"cb-acal-table tw-table-fixed tw-border-spacing-0 tw-rounded tw-border-separate"},qs=e.createElementVNode("col",{class:"cb-acal-name"},null,-1),Ks=e.createElementVNode("col",{class:"cb-acal-location"},null,-1),Zs=e.createElementVNode("td",{class:"cb-acal-name tw-z-10 !tw-border-r",role:"presentation"},null,-1),Qs=e.createElementVNode("td",{class:"cb-acal-location",role:"presentation"},null,-1),Js=["colspan"],Xs={class:"tw-relative tw-block"},ec={class:"tw-sticky tw-right-0",style:{left:`calc(
                      var(--cb-acal-column-name-width) + var(--cb-acal-column-padding-x) - 1px
                    )`}},tc=e.createElementVNode("span",{class:"cb-acal-month-border"},null,-1),nc={class:"cb-acal-name tw-z-10 tw-text-gray-500 tw-font-normal !tw-border-r !tw-border-b",scope:"col"},oc={class:"cb-acal-location tw-text-gray-500 tw-font-normal !tw-border-b",scope:"col"},ac={class:"tw-absolute tw-left-1/2 -tw-translate-x-1/2 tw-top-[2px] tw-border-[6px] tw-border-t-[var(--cb-acal-highlight-indicator-color)] tw-aspect-square tw-inline-flex"},He=15,Io=e.defineComponent({__name:"CBAvailabilityCalendar",props:{commons:{},locationMap:{}},setup(t){const n=t;e.useCssVars(g=>({"1a870d71":s.value}));const o=He*2,{locale:a,t:l}=H(),r=e.ref(),{height:i}=qt(r),s=e.computed(()=>`${i.value}px`),{currentPage:c,pageCount:u}=va({total:()=>n.commons.length,pageSize:He}),d=e.computed(()=>{if(n.commons.length<o)return n.commons;const g=(c.value-1)*He;return n.commons.slice(g,g+He)}),p=e.ref(0),m=e.ref(Q(new Date)),f=e.computed(()=>Array.from(Xa(pe(m.value)))),b=e.computed(()=>f.value.map(g=>fn(g,a.value))),w=e.computed(()=>Array.from(el(f.value)));e.watch(()=>n.commons,()=>{c.value!==1&&(c.value=1)}),e.watchEffect(()=>{const g=Array.from(new Set(n.commons.flatMap(v=>Object.keys(v.availabilities))));g.sort();const k=g.at(-1);k&&k>m.value&&(m.value=k)});function y(g){if(!g.target||!(g.target instanceof HTMLElement))return;const k=g.target instanceof HTMLTableCellElement&&g.target.matches(".cb-acal-day")?g.target:g.target.closest(".cb-acal-day");p.value=k?[...k.parentNode.children].indexOf(k):0}return(g,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Ws,[e.createElementVNode("table",Ys,[e.createElementVNode("colgroup",null,[qs,Ks,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,({date:v,isoDate:x})=>(e.openBlock(),e.createElementBlock("col",{key:x,class:e.normalizeClass(["cb-acal-day",`cb-acal-day--${e.unref(at)[v.getDay()]}`])},null,2))),128))]),e.createElementVNode("thead",{ref_key:"tableHeadEl",ref:r},[e.createElementVNode("tr",null,[Zs,Qs,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,v=>(e.openBlock(),e.createElementBlock("th",{key:v.ref.getTime(),colspan:v.numDays,class:"tw-text-gray-500 tw-font-normal",scope:"colgroup"},[e.createElementVNode("span",Xs,[e.createElementVNode("span",ec,[tc,e.createTextVNode(" "+e.toDisplayString(v.ref.toLocaleDateString(e.unref(a),{month:"long"})),1)])])],8,Js))),128))]),e.createElementVNode("tr",null,[e.createElementVNode("th",nc,[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)("name")),1)]),e.createElementVNode("th",oc,[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)("location")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,({date:v,isoDate:x},E)=>(e.openBlock(),e.createElementBlock("th",{key:x,class:e.normalizeClass(["tw-text-sm tw-relative tw-font-semibold !tw-border-b",["cb-acal-day",`cb-acal-day--${e.unref(at)[v.getDay()]}`]]),scope:"col"},[e.withDirectives(e.createElementVNode("span",ac,null,512),[[e.vShow,p.value===E+2]]),e.createElementVNode("span",null,e.toDisplayString(v.toLocaleDateString(e.unref(a),{day:"2-digit"})),1)],2))),128))])],512),e.createElementVNode("tbody",{onMouseover:y,onMouseleave:k[0]||(k[0]=v=>p.value=0)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,v=>(e.openBlock(),e.createBlock(Gs,{key:v.id,common:v,"calendar-dates":b.value},null,8,["common","calendar-dates"]))),128))],32)])]),g.commons.length>o?(e.openBlock(),e.createBlock(Do,{key:0,modelValue:e.unref(c),"onUpdate:modelValue":k[1]||(k[1]=v=>e.isRef(c)?c.value=v:null),"aria-label":e.unref(l)("pagination"),"page-count":e.unref(u)},null,8,["modelValue","aria-label","page-count"])):e.createCommentVNode("",!0)],64))}}),au="",Ao=t=>{t.i18n={de:{name:"Name",location:"Ort",pagination:"Seitenummerierung für Verfügbarkeitskalender"},en:{name:"Name",location:"Location",pagination:"Pagination für availability calendar"}}};typeof Ao=="function"&&Ao(Io);const lc={class:"cb-layout-availability-calendar"},rc=Object.freeze(Object.defineProperty({__proto__:null,REQUIRED_STATE:["commons","locations"],default:e.defineComponent({__name:"CBAvailabilityCalendarLayout",props:{config:{},api:{}},setup(t){const{filteredCommons:n,locationMap:o}=ce();return(a,l)=>(e.openBlock(),e.createElementBlock("div",lc,[e.createVNode(Io,{commons:e.unref(n),"location-map":e.unref(o)},null,8,["commons","location-map"])]))}})},Symbol.toStringTag,{value:"Module"})),ic="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iNDEiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI1IDQxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPGc+CiAgPGVsbGlwc2UgY2xhc3M9IlVub3B0aW1pY2VkVHJhbnNmb3JtcyIgdHJhbnNmb3JtPSJtYXRyaXgoLjY1MTkzIDAgMCAuNjkwOTQgMy44MjkgMy43ODY4KSIgY3g9IjEzLjMwMSIgY3k9IjEzLjMzNCIgcng9IjcuNjY5NSIgcnk9IjcuMjM2NiIgZmlsbD0iI2ZmZiIgc3R5bGU9InBhaW50LW9yZGVyOmZpbGwgbWFya2VycyBzdHJva2UiLz4KICA8cGF0aCBjbGFzcz0iVW5vcHRpbWljZWRUcmFuc2Zvcm1zIiBkPSJtMTIuNS4yNDY0MWMtNi43MTYgMC0xMi4yNTQgNS42MDY5LTEyLjI1NCAxMi40MDcgMCA2LjgwMDIgMTIuMjU1IDI4LjIyMyAxMi4yNTUgMjguMjIzczEyLjI1Mi0yMS40MjMgMTIuMjUyLTI4LjIyM2MwLTYuODAwMi01LjUzNzYtMTIuNDA3LTEyLjI1NC0xMi40MDd6bTAgOC43OTU1YzIuMDIxOSAwIDMuNTY2OSAxLjU2NDQgMy41NjY5IDMuNjExNiAwIDIuMDQ3My0xLjU0NSAzLjYxMTYtMy41NjY5IDMuNjExNi0yLjAyMTkgMC0zLjU2NjktMS41NjQ0LTMuNTY2OS0zLjYxMTYgMC0yLjA0NzMgMS41NDUtMy42MTE2IDMuNTY2OS0zLjYxMTZ6IiBjb2xvcj0iIzAwMDAwMCIgZmlsbD0iIzA0Nzg1NyIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWpvaW49ImJldmVsIiBzdHJva2Utd2lkdGg9Ii40OTI4MSIgc3R5bGU9InBhaW50LW9yZGVyOmZpbGwgbWFya2VycyBzdHJva2UiLz4KIDwvZz4KPC9zdmc+Cg==",sc=`<svg
  width="__WIDTH__"
  height="__HEIGHT__"
  version="1.1"
  viewBox="0 0 120 140"
  xmlns="http://www.w3.org/2000/svg"
>
  <defs>
    <pattern id="embed-fill" width="100%" height="100%">
      <rect width="100%" height="100%" fill="__EMBED_FILL_COLOR__" />
      <image
        width="104"
        height="104"
        shape-rendering="geometricPrecision"
        href="__EMBED_URL__"
        preserveAspectRatio="xMidYMid slice"
      />
    </pattern>
  </defs>
  <path
    d="m59.998 0c-33.078 0-59.998 27.009-59.998 60.195 0 23.6 14.78 43.444 29.012 57.418 14.126 13.869 30.653 22.232 30.9 22.357-.0032.002-.060546.02735-.060547.02735l.10547-.00782s-.038435-.02001-.042969-.02148c.33658-.1675 16.929-8.4805 31.037-22.297 14.253-13.958 29.047-33.812 29.047-57.477 0-33.186-26.922-60.195-60-60.195z"
    fill="__FILL_COLOR__"
  />
  <g transform="translate(60 60.6)">
    <circle r="52" fill="url(#embed-fill)" />
    <text text-anchor="middle" dominant-baseline="middle" stroke="__EMBED_LABEL_COLOR__" font-size="2.5em" font-family="sans-serif">__EMBED_LABEL__</text>
  </g>
</svg>
`,Ge=Qa(),cc={iconUrl:ic,iconSize:[25,41],iconAnchor:[12.5,41],className:"cb-map-marker--type-icon cb-map-marker--type-traditional-icon"},uc=[{type:"thumbnail"},{type:"color",color:"var(--cb-map-marker-default-embed-fill)"}];function Te(...t){return Object.assign({},...t.map(n=>n??{}))}function dc(t){const n=String(t.classList),o=Array.from(t.attributes).filter(a=>a.name!=="class").map(a=>`[${a.name}="${a.value}"]`).join("");return`${t.nodeName.toLowerCase()}${o}${n?"."+n:""}`}function ke(t,n=void 0,o){const a=t??n;if(!a)return a;const l=/^var\(\s*(--[^,)]+)(?:,\s*(.+))?\s*\)$/.exec(a);if(l){const r=o??document.querySelector(".cb-map")??document.documentElement,i=l[1],s=l[2],c=getComputedStyle(r).getPropertyValue(i).trim();return c||s||(console.warn(`Could not find CSS property '${i}' on node ${dc(r)}.`),n)}else return a}function we(t,n,o){const a=(o==null?void 0:o.template)??{source:sc,width:60,height:70,anchor:{x:.5,y:1}},l=(o==null?void 0:o.scale)??1,r=ke(o==null?void 0:o.fill)??"#fff",i=ke(o==null?void 0:o.embedFill)??r,s=ke(o==null?void 0:o.embedLabelStroke)??"#fff",c=a.width*l,u=a.height*l,d=c*a.anchor.x,p=u*a.anchor.y,m=a.source.replaceAll(/\s*\n\s*/g," ").replaceAll("__WIDTH__",c.toString()).replaceAll("__HEIGHT__",u.toString()).replaceAll("__FILL_COLOR__",r).replaceAll("__EMBED_FILL_COLOR__",i).replaceAll("__EMBED_URL__",t??"").replaceAll("__EMBED_LABEL_COLOR__",s).replaceAll("__EMBED_LABEL__",(o==null?void 0:o.embedLabel)??"");return{iconUrl:`data:image/svg+xml;utf8,${encodeURIComponent(m)}`,iconSize:[c,u],iconAnchor:[d,p],className:n.map(f=>`cb-map-marker--type-${f}`).join(" ")}}function pc(t){const{width:n,height:o}=t;return{iconUrl:t.url,iconSize:[n,o],iconAnchor:[n*t.anchor.x,o*t.anchor.y],className:"cb-map-marker--type-icon"}}async function Oo(t,n,o=[],a=Ge){const l=(t==null?void 0:t.renderers)??[];for(const r of l){if(r.type==="image"){const i=await a(r.url);if(!i)continue;const s=Te(t==null?void 0:t.wrapDefaults,r==null?void 0:r.wrap);return we(i,[...o,"image"],s)}if(r.type==="color"){const i=ke(r.color);if(!i)continue;const s=Te(t==null?void 0:t.wrapDefaults,r==null?void 0:r.wrap,{embedFill:i});return we(void 0,[...o,"color"],s)}if(r.type==="icon")return pc(r);if(r.type==="traditional-icon")return cc}return n??we(void 0,["color"],{embedFill:"var(--cb-map-marker-default-embed-fill)"})}async function Po(t,n,o=Ge){return Oo(t,n,[],o)}function fc(t,n){const o=(t==null?void 0:t.renderers)??[],a="var(--cb-map-marker-default-embed-label-stroke)";for(const l of o)if(l.type==="color"){const r=ke(l.color);if(!r)continue;const i=Te(t==null?void 0:t.wrapDefaults,l==null?void 0:l.wrap,{embedFill:r,embedLabelStroke:ke(l.labelColor)??a,embedLabel:n.getChildCount().toString()});return we(void 0,["cluster","color"],i)}return we(void 0,["cluster","color"],{embedFill:"var(--cb-map-marker-cluster-embed-fill)",embedLabelStroke:a,embedLabel:n.getChildCount().toString()})}async function mc(t,n,o=Ge){const a=(n==null?void 0:n.renderers)??uc;for(const l of a){if(l.type==="thumbnail"){if(t.images.length===0)continue;const r=t.images.find(c=>c.width===c.height)??t.images[0],i=await o(r.url);if(!i)continue;const s=Te(n==null?void 0:n.wrapDefaults,l==null?void 0:l.wrap);return we(i,["thumbnail","image"],s)}if(l.type==="category"){for(const r of l.match)if(r.categories.every(i=>t.categoryIds.includes(i)))return await Oo({renderers:Array.isArray(r.renderers)?r.renderers:[r.renderers],wrapDefaults:Te(n==null?void 0:n.wrapDefaults,l==null?void 0:l.wrap,r==null?void 0:r.wrap)},void 0,["category"])}}return await Po(n,void 0,o)}function bc(t,n,{onDelete:o,onSet:a}={},l,r=Ge){let i=new Date;const s=e.shallowRef(new Map);async function c(d){const p=n.value.get(d.locationId),m=await mc(d,l,r);return{common:d,location:p,markerIcon:m}}async function u(){const d=new Date;i=d;const p=new Set(t.value.map(({id:b})=>b));for(const b of s.value.keys())p.has(b)||(s.value.delete(b),o==null||o(b));const f=t.value.filter(b=>!s.value.has(b.id)).map(c);for await(const b of Ja(f)){if(b.status==="rejected"){console.error("Could not create POI from common",b.reason);continue}if(i.getTime()!==d.getTime())break;const w=b.value.common.id;s.value.set(w,b.value),a==null||a(w)}}return e.watch([t,n],u,{immediate:!0}),s}const Ro=e.defineComponent({__name:"CBMap",props:{config:{},commons:{},locationMap:{},userLocation:{},center:{}},emits:["select","update:center"],setup(t,{emit:n}){var x,E;const o=t,a=e.ref(),l=e.ref(),r=e.shallowRef(),i=e.shallowRef(),s=e.shallowRef(),c=e.shallowRef(new Map),u=e.shallowRef(),d=e.computed(()=>{let h=o.config.map.tileServerApi.attribution;return o.config.geocode&&(h+=` | ${o.config.geocode.nominatimSearchApi.attribution}`),h}),p=e.computed(()=>ct(o.commons,o.locationMap,o.userLocation)),m=bc(e.computed(()=>o.commons),e.computed(()=>o.locationMap),{onSet:y,onDelete:k},(E=(x=o.config)==null?void 0:x.map)==null?void 0:E.markerIcon),f=we(void 0,["color"],{embedFill:"var(--cb-map-marker-user-embed-fill)"}),b=sa(()=>{var h,S;return Po((S=(h=o.config)==null?void 0:h.map)==null?void 0:S.userMarkerIcon,f)},f);function w(h,...S){const{Icon:L}=globalThis.L,C=S.map(T=>`cb-map-marker--${T}`).join(" ");return new L({...h,iconRetinaUrl:h.iconUrl,className:`cb-map-marker ${C} ${h.className}`})}function y(h){c.value.has(h)&&k(h);const{Marker:S}=globalThis.L,L=m.value.get(h);if(!L)return;const C=new S(L.location.coordinates,{title:L.common.name,icon:w(L.markerIcon)});C.on("click",()=>{n("select",L.location)}),C.on("keyup",({originalEvent:T})=>{T.key==="Enter"&&n("select",L.location)}),c.value.set(h,C),g(C)}function g(h){s.value?s.value.addLayer(h):r.value&&h.addTo(r.value)}function k(h){var L;const S=c.value.get(h);S&&(c.value.delete(h),S.clearAllEventListeners(),S.remove(),(L=s.value)==null||L.removeLayer(S))}function v(h){r.value&&(h.length>0?r.value.fitBounds([...h],{maxZoom:o.config.map.zoom.max}):r.value.setView(Oe(o.config.map.center),o.config.map.zoom.start))}return e.onMounted(()=>{var M;const{MarkerClusterGroup:h,Map:S,TileLayer:L}=globalThis.L,C=o.config.map.zoom.max,T=globalThis.L.Browser.retina,B=new S(l.value,{center:Oe(o.config.map.center),zoom:o.config.map.zoom.start,minZoom:o.config.map.zoom.min,maxZoom:C}),$=new L(o.config.map.tileServerApi.url,{attribution:d.value,minZoom:o.config.map.zoom.min,maxZoom:T?C+1:C,detectRetina:!0});$.addTo(B);const N=(M=o.config.map.cluster)==null?void 0:M.radiusPixels;if(N){const R=new h({maxClusterRadius:N,showCoverageOnHover:!1,spiderfyOnMaxZoom:!0,iconCreateFunction(X){var D;return w(fc((D=o.config.map.cluster)==null?void 0:D.markerIcon,X))}});R.addTo(B),s.value=R}for(const R of c.value.values())g(R);B.on("moveend",()=>{(!o.center||_e(o.center,B.getCenter())>75)&&n("update:center",B.getCenter())}),r.value=B,i.value=$}),e.onBeforeUnmount(()=>{var h,S,L,C,T,B,$;for(const N of c.value.keys())k(N);(h=s.value)==null||h.clearAllEventListeners(),(S=s.value)==null||S.clearLayers(),(L=s.value)==null||L.remove(),s.value=void 0,(C=i.value)==null||C.clearAllEventListeners(),(T=i.value)==null||T.remove(),i.value=void 0,(B=r.value)==null||B.clearAllEventListeners(),($=r.value)==null||$.remove(),r.value=void 0}),e.watchEffect(()=>{if(r.value)if(u.value&&!o.userLocation)u.value.remove(),u.value=void 0;else if(o.userLocation&&!u.value){const{Marker:h}=globalThis.L,S=new h(o.userLocation,{title:o.userLocation.name,icon:w(b.value,"user")});S.addTo(r.value),u.value=S}else o.userLocation&&u.value&&(u.value.setLatLng(o.userLocation),u.value.setIcon(w(b.value,"user")))}),et(a,()=>{requestAnimationFrame(()=>{const h=a.value,S=l.value,L=r.value;if(h&&S&&L){const{height:C}=h.getBoundingClientRect();S.style.height=`${C}px`,L.invalidateSize(),v(p.value)}})}),e.watch([r,p],async([h,S],[L,C])=>{h&&(h&&!L||v(S))}),(h,S)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"containerEl",ref:a,class:"cb-map"},[e.createElementVNode("div",{ref_key:"mapEl",ref:l},null,512)],512))}}),iu="",gc={class:"cb-layout-map-with-auto-sidebar tw-flex tw-flex-col md:tw-flex-row tw-min-h-[min(600px,60dvh)] md:tw-h-[400px] tw-rounded tw-overflow-hidden"},wc=Object.freeze(Object.defineProperty({__proto__:null,REQUIRED_STATE:["categories","categoryGroups","commons","locations"],default:e.defineComponent({__name:"CBMapWithAutoSidebarLayout",props:{config:{},api:{}},setup(t){const{filter:n,filteredCommons:o,filteredAndSortedCommons:a,locationMap:l}=ce();return(r,i)=>(e.openBlock(),e.createElementBlock("div",gc,[r.config.map!==void 0?(e.openBlock(),e.createBlock(Ro,{key:0,ref:"map",center:e.unref(n).mapCenter,"onUpdate:center":i[0]||(i[0]=s=>e.unref(n).mapCenter=s),class:e.normalizeClass(["tw-z-0 tw-w-full md:tw-flex-1 md:tw-order-2",{"tw-h-48 tw-flex-none md:tw-h-full":e.unref(n).location,"tw-h-full tw-flex-1":!e.unref(n).location}]),commons:e.unref(o),"location-map":e.unref(l),"user-location":e.unref(n).userLocation,config:{map:r.config.map,geocode:r.config.geocode},onSelect:i[1]||(i[1]=s=>e.unref(n).location=s)},null,8,["center","class","commons","location-map","user-location","config"])):e.createCommentVNode("",!0),e.unref(n).location?(e.openBlock(),e.createBlock(Vt,{key:1,class:"tw-z-10 tw-bg-base-1 md:tw-max-w-sm md:tw-order-1",categories:r.api.categories,commons:e.unref(a),"location-map":e.unref(l),"selected-location":e.unref(n).location,"user-location":e.unref(n).userLocation,"page-size":10,onDeselectLocation:i[2]||(i[2]=s=>e.unref(n).location=null)},null,8,["categories","commons","location-map","selected-location","user-location"])):e.createCommentVNode("",!0)]))}})},Symbol.toStringTag,{value:"Module"})),hc={class:"cb-layout-large-map-with-static-sidebar md:tw-rounded tw-overflow-hidden"},yc=["categories","categoryGroups","commons","locations"],vc=e.defineComponent({__name:"CBLargeMapWithStaticSidebarLayout",props:{config:{},api:{}},setup(t){const n=t,{filter:o,canResetFilters:a,resetFilters:l,filteredCommons:r,filteredAndSortedCommons:i,locationMap:s}=ce(),c=e.computed(()=>({start:pe(n.config.filter.availability.dateRange.start),end:pe(n.config.filter.availability.dateRange.end)})),u=e.ref(),d=Kt(u);e.watch(r,m=>{o.value.mapCenter=yn(ct(m,s.value,o.value.userLocation))});function p(){u.value&&u.value.$el.scrollIntoView({behavior:"smooth"})}return(m,f)=>(e.openBlock(),e.createElementBlock("div",hc,[e.createVNode(Tt,{categories:e.unref(o).categories,"onUpdate:categories":f[0]||(f[0]=b=>e.unref(o).categories=b),"user-location":e.unref(o).userLocation,"onUpdate:userLocation":f[1]||(f[1]=b=>e.unref(o).userLocation=b),"available-between":e.unref(o).availableBetween,"onUpdate:availableBetween":f[2]||(f[2]=b=>e.unref(o).availableBetween=b),"available-today":e.unref(o).availableToday,"onUpdate:availableToday":f[3]||(f[3]=b=>e.unref(o).availableToday=b),class:"tw-flex-none tw-bg-base-1 tw-border-b tw-border-base-3",api:m.api,config:m.config,"availability-range":c.value,"can-reset":e.unref(a),style:{"grid-area":"filter"},onReset:e.unref(l)},null,8,["categories","user-location","available-between","available-today","api","config","availability-range","can-reset","onReset"]),e.createVNode(Vt,{class:"tw-isolate tw-z-10 tw-bg-base-1",style:{"grid-area":"list"},categories:m.api.categories,commons:e.unref(i),"location-map":e.unref(s),"selected-location":e.unref(o).location,"user-location":e.unref(o).userLocation,"page-size":10,onDeselectLocation:f[4]||(f[4]=b=>e.unref(o).location=null)},null,8,["categories","commons","location-map","selected-location","user-location"]),m.config.map!==void 0?(e.openBlock(),e.createBlock(Ro,{key:0,ref_key:"map",ref:u,center:e.unref(o).mapCenter,"onUpdate:center":f[5]||(f[5]=b=>e.unref(o).mapCenter=b),class:"tw-z-0",style:{"grid-area":"map"},commons:e.unref(r),"location-map":e.unref(s),"user-location":e.unref(o).userLocation,config:{map:m.config.map,geocode:m.config.geocode},onSelect:f[6]||(f[6]=b=>e.unref(o).location=b)},null,8,["center","commons","location-map","user-location","config"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:"cb-animate-panel"},{default:e.withCtx(()=>[e.unref(d)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,class:"cb-btn tw-bg-base-3 tw-text-3xl tw-fixed tw-z-10 tw-bottom-3 tw-right-3 tw-shadow-lg tw-aspect-square tw-invert md:tw-hidden",onClick:p},[e.createVNode(e.unref(vl),{class:"tw-scale-125"})]))]),_:1})]))}}),uu="",We=Object.freeze(Object.defineProperty({__proto__:null,AvailabilityCalendar:rc,Filter:Ji,LargeMapWithStaticSidebar:Object.freeze(Object.defineProperty({__proto__:null,REQUIRED_STATE:yc,default:Mt(vc,[["__scopeId","data-v-27fc8af2"]])},Symbol.toStringTag,{value:"Module"})),List:As,MapWithAutoSidebar:wc},Symbol.toStringTag,{value:"Module"})),kc=Object.keys(We),_c={key:0,class:"tw-absolute tw-z-50 -tw-inset-2 tw-bg-white/20 tw-rounded tw-backdrop-blur-[2px] tw-flex tw-justify-center tw-items-center"},Ec={class:"tw-w-min tw-max-w-full tw-py-4 tw-px-8 tw-bg-white/75 tw-backdrop-blur-lg tw-shadow-lg tw-rounded tw-flex tw-items-center tw-gap-6 tw-text-lg tw-whitespace-nowrap"},Sc=e.createStaticVNode('<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="tw-w-8 tw-h-8 tw-relative tw-top-1"><circle cx="4" cy="12" r="3"><animate id="spinner_jObz" attributeName="r" begin="0;spinner_vwSQ.end-0.25s" dur="0.75s" values="3;.2;3"></animate></circle><circle cx="12" cy="12" r="3"><animate attributeName="r" begin="spinner_jObz.end-0.6s" dur="0.75s" values="3;.2;3"></animate></circle><circle cx="20" cy="12" r="3"><animate id="spinner_vwSQ" attributeName="r" begin="spinner_jObz.end-0.45s" dur="0.75s" values="3;.2;3"></animate></circle></svg>',1),Cc={class:"tw-m-0"},Fo=e.defineComponent({__name:"CBLoadingOverlay",props:{requireState:{}},setup(t){const n=t,{api:o}=ce(),{t:a}=H(),l=e.computed(()=>n.requireState.some(r=>o.value.loading.has(r)));return(r,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({"tw-relative":l.value})},[e.renderSlot(r.$slots,"default"),l.value?(e.openBlock(),e.createElementBlock("div",_c,[e.createElementVNode("div",Ec,[Sc,e.createElementVNode("p",Cc,e.toDisplayString(e.unref(a)("loading")),1)])])):e.createCommentVNode("",!0)],2))}}),jo=t=>{t.i18n={de:{loading:"Lade Daten"},en:{loading:"Loading data"}}};typeof jo=="function"&&jo(Fo);const xc={key:1,role:"alert","aria-live":"polite",class:"tw-bg-rose-600 tw-text-white tw-p-4 tw-m-0 tw-rounded"},Lc={key:1,role:"alert","aria-live":"polite",class:"tw-bg-rose-600 tw-text-white tw-p-4 tw-m-0 tw-rounded"},zo=e.defineComponent({__name:"CommonsSearch",props:{config:{}},setup(t){const n=t,{t:o}=H(),{api:a,apiError:l}=ce(),r=e.computed(()=>{var s;return((s=n.config.layout)==null?void 0:s.types)??["Filter","MapWithAutoSidebar"]}),i=e.computed(()=>{var c;const s=new Set;for(const u of r.value){const d=((c=We[u])==null?void 0:c.REQUIRED_STATE)??[];for(const p of d)s.add(p)}return Array.from(s)});return(s,c)=>e.unref(l)?(e.openBlock(),e.createElementBlock("div",Lc,[e.createElementVNode("p",null,e.toDisplayString(e.unref(o)("error")),1),e.createElementVNode("pre",null,e.toDisplayString(String(e.unref(l))),1)])):(e.openBlock(),e.createBlock(Fo,{key:0,class:"cb-layout-wrapper tw-flex tw-flex-col tw-gap-6","require-state":i.value},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(u,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:d},[u in e.unref(We)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(We)[u].default),{key:0,api:e.unref(a),config:s.config},null,8,["api","config"])):(e.openBlock(),e.createElementBlock("p",xc,e.toDisplayString(e.unref(o)("unknownLayout",{layout:u,availableLayouts:e.unref(kc).join(", ")})),1))],64))),128))]),_:1},8,["require-state"]))}}),Uo=t=>{t.i18n={en:{error:"Unable to initialize CommonsBooking component.",unknownLayout:"You’ve chosen an unknown layout ({layout}). Please choose one of {availableLayouts}."},de:{error:"CommonsBooking Komponente konnte nicht initialisiert werden.",unknownLayout:"Das von dir gewählte Layout existiert nicht ({layout}). Bitte nutze eines von {availableLayouts}."}}};typeof Uo=="function"&&Uo(zo);const Ye=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Bc=new Set(["__proto__","prototype","constructor"]),It=(t,n)=>{if(!Ye(n))return t;t||(t={});for(const[o,a]of Object.entries(n)){if(Bc.has(o))continue;const l=t[o];if(Ye(l)&&Ye(a))t[o]=It(l,a);else{if(a===void 0)continue;Ye(a)?t[o]=It({},a):Array.isArray(a)?t[o]=[...a]:t[o]=a}}return t};function $c(t={},n={}){return It(structuredClone(n),structuredClone(t))}async function Nc(t){const n=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"cb_map_locations",nonce:t.nonce,cb_map_id:t.mapId.toString()})});if(n.ok)return await n.json();throw new gn(n,`Could not load data from admin-ajax endpoint at '${t.url}'.`)}function Ho(t,n){const o=[[/^b:([01]);$/,a=>a==="1"],[/^i:(\d+);$/,a=>parseInt(a)],[/^d:(\d+(?:\.\d+)?);$/,a=>parseFloat(a)],[/^s:\d+:"(.*)";$/,a=>a]];for(const[a,l]of o){const r=t.match(a);if(r)return l(r[1])}if(n!==void 0)return n;throw new TypeError(`Unknown PHP scalar type for value: ${t}`)}function Tc(t){const n=t.match(/^a:(\d+):{(.*)}$/);if(n===null)return[];const o=parseInt(n[1]);let a=n[2];const l=new Array(o);function r(){const i=a.indexOf(";")+1,s=a.substring(0,i);return a=a.substring(i),s}for(;a;){const i=Ho(r()),s=Ho(r());l[i]=s}return l}function Mc(t){if(Array.isArray(t))return t;if(typeof t=="string")try{return Tc(t)}catch{}return[]}function Dc(t,n){function o(u){return`${u.lat}-${u.lon}-${u.location_name}`}const a=e.computed(()=>n.value.map(u=>({id:o(u),name:u.location_name,coordinates:{lat:u.lat,lng:u.lon},address:{street:u.address.street,postalCode:u.address.zip,city:u.address.city}}))),l=t.filter.categories.map(u=>u.id),r=e.computed(()=>n.value.flatMap(u=>{const d=Mc(u.closed_days);return u.items.map(p=>({id:p.id.toString(),locationId:o(u),categoryIds:p.terms.filter(m=>l.includes(m)),name:p.name,description:p.short_desc,url:p.link,images:Object.values(p.images??{}).filter(m=>m!==!1).map(m=>{const[f,b,w]=m,y=/-(\d+)x(\d+).(?:webp|avif|jpe?g|png|gif)$/i,g=f.match(y),[k,v]=g?[parseInt(g[1]),parseInt(g[2])]:[b,w];return{url:f,width:k,height:v}}),availabilities:Object.fromEntries((p.availability??[]).map(m=>{const f=pe(m.date),b=(f.getDay()===0?7:f.getDay()).toString(),w=m.status==="locked"&&d.includes(b)?"location-closed":m.status;return[m.date,{status:w,date:f}]}))}))})),i=e.computed(()=>new Set(r.value.flatMap(u=>u.categoryIds))),s=e.computed(()=>t.filter.categories.filter(u=>i.value.has(u.id))),c=e.computed(()=>t.filter.categoryGroups);return{categories:s,categoryGroups:c,commons:r,locations:a}}function Vc(t,n){st.checkFields(t,[["url","string"],["nonce","string"],["mapId","number"]]);const o=["categoryGroups","categories","commons","locations"],a=e.ref([]),l=e.ref(new Set(o));async function r(){let c=0;for(;c++<10;){l.value=new Set(o);try{a.value=await Nc(t),l.value.clear();break}catch(u){const d=c*1.5;console.error(`Unable to load data. Retrying in ${d} seconds.`,u),await ln(d)}}}return e.reactive({init:r,type:"admin-ajax",loading:l,...Dc(n,a)})}function Ic(t){function n(){return Object.entries(t.filter_cb_item_categories).map(([u,d])=>({id:u,name:d.name,isExclusive:(d==null?void 0:d.isExclusive)??!1}))}function o(){return Object.entries(t.filter_cb_item_categories).flatMap(([u,{elements:d}])=>d.map(p=>({id:p.cat_id,groupId:u,name:p.markup})))}function a(){if(!t.custom_marker_icon)return{};const{iconUrl:u,iconSize:d,iconAnchor:p}=t.custom_marker_icon,[m,f]=d,[b,w]=p;return{markerIcon:{renderers:[{type:"icon",url:u,width:m,height:f,anchor:{x:b/m,y:w/f}}]}}}function l(){var d,p;const u={};return(d=t.map)!=null&&d.markerIcon&&(u.markerIcon=t.map.markerIcon),(p=t.map)!=null&&p.userMarkerIcon&&(u.userMarkerIcon=t.map.userMarkerIcon),u}function r(){return{tileServerApi:{url:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png","https://tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png","https://tiles.lokaler.de/osmbright-20171212/{z}/{x}/{y}/tile@1x.jpeg"][t.base_map],attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors - <a href="https://www.openstreetmap.org/copyright">License</a>'},zoom:{start:t.zoom_start,min:t.zoom_min,max:t.zoom_max},center:{lat:t.lat_start,lng:t.lon_start},cluster:{radiusPixels:t.max_cluster_radius},...a(),...l()}}function i(){var d,p,m,f,b;if(!t.show_location_distance_filter)return{};let u=(p=(d=t.geocode)==null?void 0:d.region)==null?void 0:p.countryCodes;if(!u){const w=t.locale.split("-");w.length>=2&&(u=[w[1].toLowerCase()])}return{geocode:{nominatimSearchApi:((m=t.geocode)==null?void 0:m.nominatimSearchApi)??{url:"https://nominatim.openstreetmap.org/search",attribution:'Address search by <a href="https://nominatim.openstreetmap.org/">Nominatim</a>'},removeNeighboringLocationsWithinMeters:((f=t==null?void 0:t.geocode)==null?void 0:f.removeNeighboringLocationsWithinMeters)??30,region:{...((b=t.geocode)==null?void 0:b.region)??{},countryCodes:u}}}}function s(){return t.layout?{layout:t.layout}:{}}function c(){var p,m;const u={},d=(m=(p=t.label_item_category_filter)==null?void 0:p.trim)==null?void 0:m.call(p);return d&&(u.CBCommonFilter={unlabelledCategoryRenderGroup:d}),u}return{version:2,i18n:{locale:t.locale,messages:{[t.locale.replace(/-/g,"_")]:c()}},filter:{availability:{dateRange:{start:t.filter_availability.date_min,end:t.filter_availability.date_max}},categoryGroups:n(),categories:o()},map:r(),...i(),...s()}}function Ac(t,n,o){const a=Yo({locale:o.i18n.locale,fallbackLocales:["en"],messages:o.i18n.messages?[jt,o.i18n.messages]:[jt]}),l=e.createApp(zo,{config:o});return l.config.performance=!1,l.use(a),l.provide(vn,n),l.mount(t),t.classList.add("cb-app"),l}const Oc="0.1.0-beta.5";z.createAdminAjaxAPI=Vc,z.init=Ac,z.mergeConfigs=$c,z.parseLegacyConfig=Ic,z.version=Oc,Object.defineProperty(z,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=commons-search.umd.cjs.map
