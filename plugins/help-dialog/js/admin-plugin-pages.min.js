jQuery(document).ready(function(e){function t(t,n,o,d,s,c){let p,_;n=void 0===n?"ephd_callback_noop":n,e.ajax({type:"POST",dataType:"json",data:t,url:ajaxurl,beforeSend:function(e){void 0!==c&&!1!==c||i("show",""),"object"==typeof c&&i("show","")}}).done(function(e){((_=e||"").error||void 0===_.message)&&(p=_.message?_.message:a("",ephd_vars.reload_try_again,"error"))}).fail(function(e,t,i){p=i?" ["+i+"]":ephd_vars.unknown_error,p=a(ephd_vars.error_occurred+". "+ephd_vars.msg_try_again,p,"error")}).always(function(){if(_=void 0===_?"":_,"function"==typeof s&&s(_),i("remove",""),p)return e(".ephd-bottom-notice-message").remove(),e("body #ephd-admin-page-wrap").append(p).removeClass("fadeOutDown"),void setTimeout(function(){e(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof n?void 0===o?n(_):n(_,o):d&&location.reload()})}function i(t,i){if("show"===t){let t='<div class="ephd-admin-dialog-box-loading"><div class="ephd-admin-dbl__header"><div class="ephd-admin-dbl-icon ephdfa ephdfa-hourglass-half"></div>'+(i?'<div class="ephd-admin-text">'+i+"</div>":"")+'</div></div><div class="ephd-admin-dialog-box-overlay"></div>';e("body").append(t)}else"remove"===t&&(e(".ephd-admin-dialog-box-loading").remove(),e(".ephd-admin-dialog-box-overlay").remove())}function a(e,t,i){return'<div class="ephd-bottom-notice-message"><div class="contents"><span class="'+i+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="ephd-close-notice ephdfa ephdfa-window-close"></div></div>'}function n(){var t;e(".ephd-bottom-notice-message .contents").length>0&&(clearTimeout(t),t=setTimeout(function(){!function(){var t=e("body").find(".ephd-bottom-notice-message");t.length&&(t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3))}()},1e4))}var o=e("#ephd-admin-page-wrap");e(o).find(".ephd-admin__content").length>0&&e("#wpwrap").addClass("ephd-admin__wpwrap"),e("#ephd-nh_contact_submission_email_popup").addClass("ephd-dialog-box-form--active"),e(document).on("submit","#ephd-nh_contact_submission_email_popup",function(i){i.preventDefault();let n=e(this),o=n.find('[name="contact_submission_email"]').val();return t({action:"ephd_save_global_settings",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,contact_submission_email:o},function(t){t.error||void 0===t.message||(!function(t,i=""){e(".ephd-bottom-notice-message").remove(),e("body #ephd-admin-page-wrap").append(a(i,t,"success")),setTimeout(function(){e(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}(t.message),n.removeClass("ephd-dialog-box-form--active"))}),!1}),e(".ephd-admin__top-panel__item").on("click",function(){if(e(this).hasClass("ephd-article-structure-dialog"))return;if(e(this).hasClass("ephd-admin__top-panel__item--active"))return;let t=e(this).attr("data-target");e(".ephd-admin__top-panel__item").removeClass("ephd-admin__top-panel__item--active"),e(this).addClass("ephd-admin__top-panel__item--active"),e(".ephd-admin__boxes-list").removeClass("ephd-admin__boxes-list--active"),e("#ephd-admin__boxes-list__"+t).addClass("ephd-admin__boxes-list--active"),e(".ephd-admin__secondary-panel").removeClass("ephd-admin__secondary-panel--active"),e("#ephd-admin__secondary-panel__"+t).addClass("ephd-admin__secondary-panel--active");let i=this;setTimeout(function(){"echd_license_tab"===e(i).attr("id")&&e("#echd_license_tab").trigger("click")},100),window.location.hash="#"+t}),function(){let t=window.location.href.split("#");if(1===t.length)return void e(e(".ephd-admin__top-panel__item")[0]).trigger("click");let i=t[1].split("__"),a=e('.ephd-admin__top-panel__item[data-target="'+i[0]+'"]');0!==a.length?(e(a[0]).trigger("click"),i.length>1&&i[1].length>0&&setTimeout(function(){let i=e('.ephd-admin__secondary-panel__item[data-target="'+t[1]+'"]');0!==i.length?e(i[0]).trigger("click"):e(e(".ephd-admin__secondary-panel__item")[0]).trigger("click")},100)):e(e(".ephd-admin__top-panel__item")[0]).trigger("click")}(),e(".ephd-admin__secondary-panel__item").on("click",function(){if(e(this).hasClass("ephd-article-structure-dialog"))return;if(e(this).hasClass("ephd-admin__secondary-panel__item--active"))return;let t=e(this).attr("data-target"),i=t.split("__")[0];e("#ephd-admin__secondary-panel__"+i).find(".ephd-admin__secondary-panel__item").removeClass("ephd-admin__secondary-panel__item--active"),e(this).addClass("ephd-admin__secondary-panel__item--active"),e("#ephd-admin__boxes-list__"+i).find(".ephd-setting-box__list").removeClass("ephd-setting-box__list--active"),e("#ephd-setting-box__list-"+t).addClass("ephd-setting-box__list--active"),window.location.hash="#"+t}),o.find("#ephd_toggle_debug").on("click",function(){e(".ephd-top-notice-message").html("");let i=e(this).parent();t({action:i.find('input[name="action"]').val(),_wpnonce_ephd_ajax_action:i.find('input[name="_wpnonce_ephd_ajax_action"]').val()},function(){location.reload()})}),o.find(".featured_img").on("click",function(t){t.preventDefault(),t.stopPropagation(),o.find(".ephd-image-zoom").remove();var i,a=e(this).find("img");i=a.length>1?e(a[0]).is(":visible")?e(a[0]).attr("src"):e(a[1]).is(":visible")?e(a[1]).attr("src"):e(a[2]).attr("src"):e(this).find("img").attr("src"),e(this).after('<div id="ephd_image_zoom" class="ephd-image-zoom"><img src="'+i+'" class="ephd-image-zoom"><span class="close icon_close"></span></div>'),e("html, body").on("click.ephd",function(){e("#ephd_image_zoom").remove(),e("html, body").off("click.ephd")})}),e("#add_on_panels").on("click",".ep_font_icon_info",function(){e(this).parent().find(".ep_font_icon_info_content").toggle()}),e(".ephd-nh__dynamic-notice__toggle").on("click",function(t){return t.stopPropagation(),e(this).parent().find(".ephd-nh__dynamic-notice__target").show(),!1}),e(document).on("click",".ephd-bottom-notice-message .ephdfa-window-close",function(){let t=e(this).closest(".ephd-bottom-notice-message");t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3)});e("#ephd-dialog-info-icon").dialog({resizable:!1,autoOpen:!1,modal:!0,buttons:{Ok:function(){e(this).dialog("close")}},close:function(){e("#ephd-dialog-info-icon-msg").html()}});e("#ephd-ajax-in-progress").dialog({resizable:!1,height:70,width:200,modal:!1,autoOpen:!1}).hide(),e(".ephd-notice-remind").on("click",function(t){t.preventDefault(),e(this).parent().parent().remove()}),e(document).on("click",".ephd-notice-dismiss",function(t){t.preventDefault(),e(".notice-"+e(this).data("notice-id")).slideUp();var i={action:"ephd_dismiss_ongoing_notice",ephd_dismiss_id:e(this).data("notice-id")};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:i})}),e(document).on("click",".ephd-dialog-box-form .ephd-dbf__close, .ephd-dialog-box-form .ephd-dbf__footer__cancel",function(){e(this).closest(".ephd-dialog-box-form").toggleClass("ephd-dialog-box-form--active")}),e(document).on("click",".ephd-dialog-box-form .ephd-dbf__footer__accept__btn",function(){e(this).closest(".ephd-dialog-box-form").find("form").trigger("submit")}),e(".ephd-notification-box-basic__button-confirm").on("click",function(){e(this).attr("data-target").length>0&&e(this).closest(e(this).attr("data-target")).remove()}),e(".ephd-admin__step-cta-box__link[data-target]").on("click",function(){let t=e(this).attr("data-target");void 0!==t&&0!==t.length&&(t=t.split("__"),e('.ephd-admin__top-panel__item[data-target="'+t[0]+'"]').trigger("click"),t.length>1&&setTimeout(function(){e('.ephd-admin__secondary-panel__item[data-target="'+t[1]+'"]').trigger("click")},100))}),n(),e("body").on("click",".ephd-wp__editor-link a",function(){return e("body").append(`\n\t\t\t<div class="ephd-editor-popup" id="ephd-editor-popup">\n\t\t\t\t<iframe src="${e(this).prop("href")}" ></iframe>\n\t\t\t</div>\n\t\t`),!1}),e("body").on("click",".ephd-editor-popup",function(){e(this).remove()}),e(document).on("click",".ephd-admin__widget-preview__view-details",function(){e(this).closest(".ephd-admin__widget-preview").find(".ephd-admin__widget-preview__content").toggle()})});