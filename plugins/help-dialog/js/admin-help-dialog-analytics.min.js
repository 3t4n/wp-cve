jQuery(document).ready(function(e){function o(o,a,t){if("show"===o){let o=void 0===t?"":"ephd-admin-dialog-box-loading--relative",d='<div class="ephd-admin-dialog-box-loading '+o+'"><div class="ephd-admin-dbl__header"><div class="ephd-admin-dbl-icon ephdfa ephdfa-hourglass-half"></div>'+(a?'<div class="ephd-admin-text">'+a+"</div>":"")+'</div></div><div class="ephd-admin-dialog-box-overlay '+o+'"></div>';void 0===t?e("body").append(d):t.append(d)}else"remove"===o&&(e(".ephd-admin-dialog-box-loading").remove(),e(".ephd-admin-dialog-box-overlay").remove())}function a(e,o,a){return'<div class="ephd-bottom-notice-message"><div class="contents"><span class="'+a+'">'+(e?"<h4>"+e+"</h4>":"")+(o?"<p>"+o+"</p>":"")+'</span></div><div class="ephd-close-notice ephdfa ephdfa-window-close"></div></div>'}e(document.body).on("click","#ephd_hd_save_settings_btn",function(d){d.preventDefault();let i={action:"ephd_save_analytics_settings",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce};e("#ephd-admin__boxes-list__hd-stats-settings .ephd-input-group input").each(function(){let o=e(this).attr("name");"checkbox"===e(this).attr("type")?e(this).closest(".ephd-admin__checkboxes-multiselect").length?e(this).prop("checked")&&(i[o]||(i[o]=[]),i[o].push(e(this).val())):i[o]=e(this).prop("checked")?"on":"off":i[o]=e(this).val()}),e("#ephd-admin__boxes-list__hd-stats-settings .ephd-input-group select").each(function(){let o=e(this).attr("name");i[o]=e(this).val()}),function(t,d,i,n,s,p){let c,l;d=void 0===d?"ephd_callback_noop":d,e.ajax({type:"POST",dataType:"json",data:t,url:ajaxurl,beforeSend:function(e){void 0!==p&&!1!==p||o("show",""),"object"==typeof p&&o("show","",p)}}).done(function(e){((l=e||"").error||void 0===l.message)&&(c=l.message?l.message:a("",ephd_vars.reload_try_again,"error"))}).fail(function(e,o,t){c=t?" ["+t+"]":ephd_vars.unknown_error,c=a(ephd_vars.error_occurred+". "+ephd_vars.msg_try_again,c,"error")}).always(function(){if(l=void 0===l?"":l,"function"==typeof s&&s(l),o("remove",""),c)return e(".ephd-bottom-notice-message").remove(),e("body #ephd-admin-page-wrap").append(c).removeClass("fadeOutDown"),void setTimeout(function(){e(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof d?"undefined"===i?d(l):d(l,i):n&&location.reload()})}(i,function(o){o.error||void 0===o.message||function(o,d=""){e(".ephd-bottom-notice-message").remove(),e("body #ephd-admin-page-wrap").append(a(d,o,"success")),clearTimeout(t),t=setTimeout(function(){e(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}(o.message)})}),e(document.body).on("change",".ephd_admin_analytics_filters select",function(){o("show",""),e(this).closest("form").submit()}),e(".ephd-admin__open-details-popup").on("click",function(){return e(this).closest(".ephd-ap-widget").find(".ephd-ap-details-popup").addClass("ephd-ap-details-popup--active"),!1}),e(document.body).on("click",".ephd-ap-details-popup__overlay, .ephd-ap-details-popup__accept-btn",function(){e(".ephd-ap-details-popup").removeClass("ephd-ap-details-popup--active")}),e(document.body).on("click",".ephd-ap-cell-location-link",function(){let d=e(this).data("obj_id");if(void 0===d)return;let i=e('#ephd_admin_analytics_filters_location option[value="'+d+'"]');i.length>0?(o("show",""),e(".ephd-admin__top-panel__item--hd-stats-per-page").trigger("click"),i.prop("selected",!0).trigger("change")):function(o,d=""){e(".ephd-bottom-notice-message").remove(),e("body #ephd-admin-page-wrap").append(a(d,o,"error")),clearTimeout(t),t=setTimeout(function(){e(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}(ephd_vars.msg_no_data)});let t});