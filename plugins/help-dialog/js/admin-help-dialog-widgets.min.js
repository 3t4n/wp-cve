jQuery(document).ready(function(t){function a(){let e=t(".ephd-all-questions-list-container .ephd-faq-question-container").length,a=t(".ephd-all-questions-list-container .ephd-faq-question--active").length;t("#ephd-admin__no-question-message, #ephd-admin__assigned-question-message").hide(),0===e&&t("#ephd-admin__no-question-message").show(),0===a&&e>0&&t("#ephd-admin__assigned-question-message").show()}function i(){let e=t(".ephd-wp__widget-form #ephd-admin__notification-launcher-powered-by");"hide"==t('.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]:checked').val()?e.show():e.hide()}function n(){t(".ephd-hd-faq__faqs-container").sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,placeholder:"ephd-sortable-placeholder",update:function(e,a){let i=new Array;t(this).find(".ephd-hd-faq__list__item-container").each(function(e){i.push(t(this).data("id"))}),t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val(i.join(","))}})}function d(){return window.location.hash.substr(1).split("&").reduce(function(e,t){let a=t.split("=");return e[a[0]]=a[1],e},{})}function o(){t("#ephd-help-dialog #ephd-hd__search-terms").prop("disabled",!0)}function _(){t(".ephd-wp__widget-form .ephd-wp__selected-locations-list").each(function(){let e=0,a=t(this).find("li");a.each(function(){++e<=15?t(this).removeClass("ephd-wp__location--hidden"):t(this).addClass("ephd-wp__location--hidden")});let i=t(this).closest(".ephd-wp__selected-locations-popup").find("a");a.length<=15?i.hide():i.show()})}function l(){let e=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_option"]'),a=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_posts"]'),i=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search select[name="search_kb"]');!0===t(e).prop("checked")?(a.parent().removeClass("ephd-admin__input-disabled"),i.parent().removeClass("ephd-admin__input-disabled"),a.prop("disabled",!1),i.prop("disabled",!1)):(a.parent().addClass("ephd-admin__input-disabled"),i.parent().addClass("ephd-admin__input-disabled"),a.prop("disabled",!0),i.prop("disabled",!0))}function c(){t(".ephd-wp__widget-form .ephd-admin__input-disabled").each(function(){t(this).find("input, select, textarea").prop("disabled",!0)})}function s(i){if(a(),t(i).closest(".ephd-admin__input-disabled").length>0)return e.preventDefault(),!1;let d=p(t(i).closest(".ephd-wp__widget-form--active"),"ephd_update_preview"),_=t(".ephd-wp__widget-preview").find(".ephd-hd-tab--active").data("ephd-target-tab");D(d,function(e){e.error||void 0===e.preview||(t(".ephd-wp__widget-preview-content").html(e.preview),t(".ephd-wp__widget-preview").attr("data-preview-size",d.dialog_width),t("#ephd-public-styles-inline-css").html(e.demo_styles),x(t('[data-ephd-target-tab="'+_+'"]')),setTimeout(function(){t(window).trigger("resize")},50),b(),n(),o(),C(),1==t(".ephd-admin__form-tab--active").data("preview")&&u(t(".ephd-admin__form-tab--active").data("target")))},!1,!1,void 0,t(".ephd-wp__widget-preview-content"))}function p(e,a){return{action:a,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:e.find('[name="widget_id"]').val(),widget_status:e.find('[name="widget_status"]').val(),initial_message_id:e.find('[name="initial_message_id"]').val(),colors_set:e.find('[name="colors_set"]:checked').val(),is_opened:t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?1:0,location_page_filtering:e.find('[name="location_page_filtering"]:checked').val(),location_pages_list:r(e,"page"),location_posts_list:r(e,"post"),location_cpts_list:r(e,"cpt"),location_language_filtering:e.find('[name="location_language_filtering"]').val(),trigger_delay_toggle:e.find('[name="trigger_delay_toggle"]:checked').val(),trigger_delay_seconds:e.find('[name="trigger_delay_seconds"]').val(),trigger_scroll_toggle:e.find('[name="trigger_scroll_toggle"]:checked').val(),trigger_scroll_percent:e.find('[name="trigger_scroll_percent"]').val(),launcher_mode:e.find('[name="launcher_mode"]:checked').val(),launcher_icon:e.find('[name="launcher_icon"]:checked').val(),launcher_location:e.find('[name="launcher_location"]:checked').val(),launcher_bottom_distance:e.find('[name="launcher_bottom_distance"]').val(),launcher_start_wait:e.find('[name="launcher_start_wait"]').val(),initial_message_toggle:e.find('[name="initial_message_toggle"]:checked').val(),initial_message_text:e.find('[name="initial_message_text"]').val(),initial_message_mode:e.find('[name="initial_message_mode"]:checked').val(),initial_message_image_url:e.find('[name="initial_message_image_url"]').val(),search_option:e.find('[name="search_option"]:checked').length?"show_search":"hide_search",search_posts:e.find('[name="search_posts"]:checked').length?"on":"off",search_kb:e.find('[name="search_kb"]').val(),widget_name:e.find("#widget_name").val(),display_channels_tab:e.find('[name="display_channels_tab"]:checked').val(),channel_phone_toggle:e.find('[name="channel_phone_toggle"]:checked').val(),channel_phone_country_code:e.find('[name="channel_phone_country_code"]').val(),channel_phone_number:e.find('[name="channel_phone_number"]').val(),channel_phone_number_image_url:e.find('[name="channel_phone_number_image_url"]').val(),channel_whatsapp_toggle:e.find('[name="channel_whatsapp_toggle"]:checked').val(),channel_whatsapp_phone_country_code:e.find('[name="channel_whatsapp_phone_country_code"]').val(),channel_whatsapp_phone_number:e.find('[name="channel_whatsapp_phone_number"]').val(),channel_whatsapp_web_on_desktop:e.find('[name="channel_whatsapp_web_on_desktop"]:checked').val(),channel_whatsapp_number_image_url:e.find('[name="channel_whatsapp_number_image_url"]').val(),channel_custom_link_toggle:e.find('[name="channel_custom_link_toggle"]:checked').val(),channel_custom_link_url:e.find('[name="channel_custom_link_url"]').val(),channel_custom_link_image_url:e.find('[name="channel_custom_link_image_url"]').val(),display_faqs_tab:e.find('[name="display_faqs_tab"]:checked').val(),faqs_sequence:e.find('[name="faqs_sequence"]').val().split(","),display_contact_tab:e.find('[name="display_contact_tab"]:checked').val(),contact_name_toggle:e.find('[name="contact_name_toggle"]:checked').val(),contact_subject_toggle:e.find('[name="contact_subject_toggle"]:checked').val(),contact_acceptance_checkbox:e.find('[name="contact_acceptance_checkbox"]:checked').val(),contact_acceptance_title_toggle:e.find('[name="contact_acceptance_title_toggle"]:checked').val(),back_text_color:e.find('[name="back_text_color"]').val(),back_text_color_hover_color:e.find('[name="back_text_color_hover_color"]').val(),back_background_color:e.find('[name="back_background_color"]').val(),back_background_color_hover_color:e.find('[name="back_background_color_hover_color"]').val(),launcher_background_color:e.find('[name="launcher_background_color"]').val(),launcher_background_hover_color:e.find('[name="launcher_background_hover_color"]').val(),launcher_icon_color:e.find('[name="launcher_icon_color"]').val(),launcher_icon_hover_color:e.find('[name="launcher_icon_hover_color"]').val(),background_color:e.find('[name="background_color"]').val(),not_active_tab_color:e.find('[name="not_active_tab_color"]').val(),tab_text_color:e.find('[name="tab_text_color"]').val(),main_title_text_color:e.find('[name="main_title_text_color"]').val(),welcome_title_color:e.find('[name="welcome_title_color"]').val(),welcome_title_link_color:e.find('[name="welcome_title_link_color"]').val(),breadcrumb_color:e.find('[name="breadcrumb_color"]').val(),breadcrumb_background_color:e.find('[name="breadcrumb_background_color"]').val(),breadcrumb_arrow_color:e.find('[name="breadcrumb_arrow_color"]').val(),faqs_qa_border_color:e.find('[name="faqs_qa_border_color"]').val(),faqs_question_text_color:e.find('[name="faqs_question_text_color"]').val(),faqs_question_background_color:e.find('[name="faqs_question_background_color"]').val(),faqs_question_active_text_color:e.find('[name="faqs_question_active_text_color"]').val(),faqs_question_active_background_color:e.find('[name="faqs_question_active_background_color"]').val(),faqs_answer_text_color:e.find('[name="faqs_answer_text_color"]').val(),faqs_answer_background_color:e.find('[name="faqs_answer_background_color"]').val(),found_faqs_article_active_tab_color:e.find('[name="found_faqs_article_active_tab_color"]').val(),found_faqs_article_tab_color:e.find('[name="found_faqs_article_tab_color"]').val(),article_post_list_title_color:e.find('[name="article_post_list_title_color"]').val(),article_post_list_icon_color:e.find('[name="article_post_list_icon_color"]').val(),single_article_read_more_text_color:e.find('[name="single_article_read_more_text_color"]').val(),single_article_read_more_text_hover_color:e.find('[name="single_article_read_more_text_hover_color"]').val(),contact_submit_button_color:e.find('[name="contact_submit_button_color"]').val(),contact_submit_button_hover_color:e.find('[name="contact_submit_button_hover_color"]').val(),contact_submit_button_text_color:e.find('[name="contact_submit_button_text_color"]').val(),contact_submit_button_text_hover_color:e.find('[name="contact_submit_button_text_hover_color"]').val(),contact_acceptance_background_color:e.find('[name="contact_acceptance_background_color"]').val(),channel_phone_color:e.find('[name="channel_phone_color"]').val(),channel_phone_hover_color:e.find('[name="channel_phone_hover_color"]').val(),channel_label_color:e.find('[name="channel_label_color"]').val(),channel_whatsapp_color:e.find('[name="channel_whatsapp_color"]').val(),channel_whatsapp_hover_color:e.find('[name="channel_whatsapp_hover_color"]').val(),channel_link_color:e.find('[name="channel_link_color"]').val(),channel_link_hover_color:e.find('[name="channel_link_hover_color"]').val(),welcome_title:e.find('[name="welcome_title"]').val(),contact_us_top_tab:e.find('[name="contact_us_top_tab"]').val(),channel_header_top_tab:e.find('[name="channel_header_top_tab"]').val(),channel_header_title:e.find('[name="channel_header_title"]').val(),channel_header_sub_title:e.find('[name="channel_header_sub_title"]').val(),chat_welcome_text:e.find('[name="chat_welcome_text"]').val(),faqs_top_tab:e.find('[name="faqs_top_tab"]').val(),welcome_text:e.find('[name="welcome_text"]').val(),search_input_label:e.find('[name="search_input_label"]').val(),search_input_placeholder:e.find('[name="search_input_placeholder"]').val(),article_read_more_text:e.find('[name="article_read_more_text"]').val(),search_results_title:e.find('[name="search_results_title"]').val(),breadcrumb_home_text:e.find('[name="breadcrumb_home_text"]').val(),breadcrumb_search_result_text:e.find('[name="breadcrumb_search_result_text"]').val(),breadcrumb_article_text:e.find('[name="breadcrumb_article_text"]').val(),found_faqs_tab_text:e.find('[name="found_faqs_tab_text"]').val(),found_articles_tab_text:e.find('[name="found_articles_tab_text"]').val(),found_posts_tab_text:e.find('[name="found_posts_tab_text"]').val(),no_results_found_title_text:e.find('[name="no_results_found_title_text"]').val(),protected_article_placeholder_text:e.find('[name="protected_article_placeholder_text"]').val(),article_back_button_text:e.find('[name="article_back_button_text"]').val(),search_instruction_text:e.find('[name="search_instruction_text"]').val(),no_result_contact_us_text:e.find('[name="no_result_contact_us_text"]').val(),contact_user_email_text:e.find('[name="contact_user_email_text"]').val(),contact_welcome_title:e.find('[name="contact_welcome_title"]').val(),contact_welcome_text:e.find('[name="contact_welcome_text"]').val(),contact_name_text:e.find('[name="contact_name_text"]').val(),contact_subject_text:e.find('[name="contact_subject_text"]').val(),contact_comment_text:e.find('[name="contact_comment_text"]').val(),contact_acceptance_text:e.find('[name="contact_acceptance_text"]').val(),contact_acceptance_title:e.find('[name="contact_acceptance_title"]').val(),contact_button_title:e.find('[name="contact_button_title"]').val(),contact_success_message:e.find('[name="contact_success_message"]').val(),channel_phone_label:e.find('[name="channel_phone_label"]').val(),channel_whatsapp_label:e.find('[name="channel_whatsapp_label"]').val(),channel_whatsapp_welcome_message:e.find('[name="channel_whatsapp_welcome_message"]').val(),channel_custom_link_label:e.find('[name="channel_custom_link_label"]').val(),logo_image_url:e.find('[name="logo_image_url"]').val(),mobile_break_point:e.find('[name="mobile_break_point"]').val(),tabs_sequence:e.find('[name="tabs_sequence"]:checked').val(),preview_post_mode:e.find('[name="preview_post_mode"]:checked').val(),preview_kb_mode:e.find('[name="preview_kb_mode"]').length?e.find('[name="preview_kb_mode"]:checked').val():"",launcher_text:e.find('[name="launcher_text"]').val(),launcher_powered_by:e.find('[name="launcher_powered_by"]:checked').val(),dialog_width:e.find('[name="dialog_width"]:checked').val(),saved_preset_id:e.find('[name="saved_preset_id"]').val(),wpml_toggle:e.find('[name="wpml_toggle"]:checked').val()}}function r(e,a){let i=[];return e.find(".ephd-wp__locations-list-select--"+a+" .ephd-wp__locations-list-wrap > .ephd-wp__selected-locations-list li").each(function(){i.push(t(this).data("id"))}),i}function h(){let e="include"==t("[name=location_page_filtering]:checked").val();t(".ephd-wp__locations-list-select--page .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_pages:ephd_vars.exclude_pages),t(".ephd-wp__locations-list-select--post .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_posts:ephd_vars.exclude_posts),t(".ephd-wp__locations-list-select--cpt .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_cpts:ephd_vars.exclude_cpts),this!=window&&t(this).closest(".ephd-admin__form-tab-content-body").find(".ephd-wp__locations-list-wrap").each(function(){0==t(this).find(".ephd-wp__selected-locations-list--backup-include").length&&t(this).append('<div class="ephd-wp__selected-locations-list--backup-include"></div>'),0==t(this).find(".ephd-wp__selected-locations-list--backup-exclude").length&&t(this).append('<div class="ephd-wp__selected-locations-list--backup-exclude"></div>'),t(this).find(".ephd-wp__selected-locations-list--backup-"+(e?"exclude":"include")).html(t(this).find(".ephd-wp__selected-locations-list").html()),t(this).find(".ephd-wp__selected-locations-list").html(t(this).find(".ephd-wp__selected-locations-list--backup-"+(e?"include":"exclude")).html())})}function u(e){e&&("global-settings"!=e&&"search"!=e&&"faqs"!=e||t("#ephd-hd-faq-tab").trigger("click"),"chat"==e&&t("#ephd-hd-chat-tab").trigger("click"),"contact-form"==e&&t("#ephd-hd-contact-tab").trigger("click"))}function f(){if(!t(".ephd-fp__wp-editor").hasClass("active"))return;let e=tinymce.get("ephd-fp__wp-editor");t(".ephd-fp__wp-editor__language-"+L).length&&(t(".ephd-fp__wp-editor__language").removeClass("ephd-fp__wp-editor__language--active"),t(".ephd-fp__wp-editor__language-"+L).addClass("ephd-fp__wp-editor__language--active")),void 0===N[L]&&(N[L]={title:"",content:"",faq_id:0,id:0}),t("#ephd-fp__wp-editor__question-title").val(N[L].title),e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.setContent(N[L].content):t("#ephd-fp__wp-editor").val(N[L].content),t(".ephd-characters_left-counter").text(N[L].content.length+"")}function m(e){I=setInterval(g,1e3);for(let e in N)N[e]={title:"",content:"",faq_id:0,id:0};if(void 0===e||!e)return t(".ephd-fp__wp-editor").addClass("active"),void f();D({action:"ephd_get_question_data",question_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(e){if(!e.error&&void 0!==e.data){for(let t in e.data)N[t]=e.data[t];void 0!==e.language&&e.language&&(L=e.language),t(".ephd-fp__wp-editor").addClass("active"),f()}})}function g(){let e=t("#ephd-fp__wp-editor__question-title");if(e.length){let a=e.val().length;a>200?(t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(200),e.val(e.val().substring(0,200))):t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(a)}if(t("#ephd-fp__wp-editor").length){let e=tinymce.get("ephd-fp__wp-editor"),a="";(a=e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.getContent():t("#ephd-fp__wp-editor").val()).length>1500&&(a=a.substring(0,1500),e&&e.setContent(a),t("#ephd-fp__wp-editor").val(a)),t(".ephd-fp__wp-editor__answer .ephd-characters_left-counter").text(a.length)}}function v(){tinyMCE.triggerSave(),N[L].title=t("#ephd-fp__wp-editor__question-title").val(),N[L].content=t("#ephd-fp__wp-editor").val()}function w(){t(".ephd-all-questions-list-container .ephd-faq-question-container.ephd-faq-question--active").length?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t("#ephd_all_articles_filter").val()?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t(".ephd__top-section__filter label, #ephd_all_articles_filter").addClass("ephd__top-section__filter--disabled")}function b(){t(".ephd-wp__widget-preview #ephd-help-dialog .ephd-hd-faq__list__item-container").each(function(){let e=t(this).data("id"),a=t(".ephd-wp__widget-form--active .ephd-faq-question__buttons_template").html();t(a).appendTo(this).attr("data-id",e)})}function q(){let e=t(".ephd-all-questions-list-container"),a=e.children(".ephd-faq-question-container");a.detach().sort(function(e,a){let i=t(e).data("modified"),n=t(a).data("modified");return parseInt(i)<=parseInt(n)?0:-1}),e.append(a)}function k(){t('.ephd-admin__color-field input[type="text"]').wpColorPicker({change:function(e,a){setTimeout(function(){t(e.target).trigger("change")},50)}})}function x(e){if(e.hasClass("ephd-hd-tab--disabled"))return;let a=e.attr("data-ephd-target-tab"),i=t("#ephd-help-dialog");switch(a){case"chat":i.addClass("ephd-hd-chat-tab--active"),i.removeClass("ephd-hd-faqs-tab--active"),i.removeClass("ephd-hd-search--active"),i.removeClass("ephd-hd-contact-tab--active");break;case"faqs":i.addClass("ephd-hd-faqs-tab--active"),i.removeClass("ephd-hd-contact-tab--active"),i.removeClass("ephd-hd-chat-tab--active");break;case"contact":i.addClass("ephd-hd-contact-tab--active"),i.removeClass("ephd-hd-faqs-tab--active"),i.removeClass("ephd-hd-search--active"),i.removeClass("ephd-hd-chat-tab--active")}i.find(".ephd-hd-tab").removeClass("ephd-hd-tab--active"),e.addClass("ephd-hd-tab--active"),i.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip>div").hide(),i.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip--"+a).show()}function C(){let e=t("#ephd-help-dialog");t(document.body).off("click",".ephd-hd-tab"),t(document.body).on("click",".ephd-hd-tab",function(){x(t(this))});let a=t(".ephd-hd-tab--active");if(a.length>0)x(a);else{let t=e.data("ephd-tab");e.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip>div").hide(),e.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip--"+t).show()}}function y(){t(".ephd-fp__wp-editor").removeClass("active ephd-ai-help-sidebar--active"),t(".ephd-ai-help-sidebar__alternatives").hide(),t(".ephd-ai-help-sidebar__main").show()}function j(e,a,i){t(".ephd-ai-help-sidebar__main").hide(),t(".ephd-ai-help-sidebar__alternatives").show(),t(".ephd-ai-help-sidebar__alternatives-input__value").html(e),t(".ephd-ai-help-sidebar__alternatives-usage-tokens__value").html(a),t(".ephd-ai-help-sidebar__alternatives-title").html(i)}function T(e){return e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}function D(e,a,i,n,d,o){let _,l;a=void 0===a?"ephd_callback_noop":a,t.ajax({type:"POST",dataType:"json",data:e,url:ajaxurl,beforeSend:function(e){void 0!==o&&!1!==o||S("show",""),"object"==typeof o&&S("show","",o)}}).done(function(e){((l=e||"").error||void 0===l.message)&&(_=l.message?l.message:z("",ephd_vars.reload_try_again,"error"))}).fail(function(e,t,a){_=a?" ["+a+"]":ephd_vars.unknown_error,_=z(ephd_vars.error_occurred+". "+ephd_vars.msg_try_again,_,"error")}).always(function(){if(l=void 0===l?"":l,"function"==typeof d&&d(l),void 0!==o&&!1!==o||S("remove",""),"object"==typeof o&&S("remove","",o),_)return t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(_).removeClass("fadeOutDown"),void setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof a?"undefined"===i?a(l):a(l,i):n&&location.reload()})}function S(e,a,i){if("show"===e){let e=void 0===i?"":"ephd-admin-dialog-box-loading--relative",n='<div class="ephd-admin-dialog-box-loading '+e+'"><div class="ephd-admin-dbl__header"><div class="ephd-admin-dbl-icon ephdfa ephdfa-hourglass-half"></div>'+(a?'<div class="ephd-admin-text">'+a+"</div>":"")+'</div></div><div class="ephd-admin-dialog-box-overlay '+e+'"></div>';void 0===i?t("body").append(n):i.append(n).addClass("ephd-loading-white-opacity")}else"remove"===e&&(t(".ephd-admin-dialog-box-loading").remove(),t(".ephd-admin-dialog-box-overlay").remove(),void 0!==i&&i.removeClass("ephd-loading-white-opacity"))}function z(e,t,a){return'<div class="ephd-bottom-notice-message"><div class="contents"><span class="'+a+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="ephd-close-notice ephdfa ephdfa-window-close"></div></div>'}function O(e,a=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(z(a,e,"error")),clearTimeout(M),M=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function P(e,a=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(z(a,e,"success")),clearTimeout(M),M=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function W(){if(0==t("#initial_message_mode").length)return;if(0==t("#initial_message_mode").find("input:checked").length)return;"icon_text"==t("#initial_message_mode").find("input:checked").val()?t("#initial_message_image_url_group").show():t("#initial_message_image_url_group").hide()}t(".ephd-admin__reload-link").on("click",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).attr("href").replace("#","")+'"]').trigger("click")}),t(document).on("click",".ephd-hd-toggle",function(){t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?t(".ephd-wp__widget-preview-tooltip").hide():setTimeout(function(){t(".ephd-wp__widget-preview-tooltip").show()},400)}),t(document).on("change",'.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]',function(){i()}),t(document.body).on("click",".ephd-admin__widget-preview .ephd-admin__widget-preview__sub-items-btn",function(){return t(this).closest(".ephd-admin__widget-preview__content-list").find(".ephd-admin__widget-details-popup").addClass("ephd-admin__widget-details-popup--active"),!1}),t(document.body).on("click",".ephd-wp__selected-locations-popup .ephd-wp__popup-show-btn",function(){return t(this).closest(".ephd-wp__selected-locations-popup").find(".ephd-admin__widget-details-popup").addClass("ephd-admin__widget-details-popup--active"),!1}),t(document.body).on("click",".ephd-admin__widget-details-popup__overlay, .ephd-admin__widget-details-popup__accept-btn",function(){t(".ephd-admin__widget-details-popup").removeClass("ephd-admin__widget-details-popup--active")}),setTimeout(function(){let e=d();void 0!==e.widget&&t(".ephd-admin__widget-preview--"+e.widget+" input.ephd_edit_widget").trigger("click")},50),t(document.body).on("input click",".ephd-wp__widget-form .ephd-wp__locations-list-input",function(e){let a=t(this).closest(".ephd-wp__widget-form"),i=t(this),n=i.val(),d=i.data("post-type");setTimeout(function(){if(n!==i.val())return;let e={action:"ephd_search_locations",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,locations_type:d,search_value:n,excluded_ids:function(e){let t=r(e,"page"),a=r(e,"post"),i=r(e,"cpt");return t.concat(a).concat(i)}(a),location_page_filtering:t('[name="location_page_filtering"]:checked').val(),widget_id:a.find('[name="widget_id"]').val(),location_language_filtering:t('[name="location_language_filtering"]').val()};!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").addClass("ephd-wp__locations-list-input-wrap--loader")}(i),D(e,function(e){!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").removeClass("ephd-wp__locations-list-input-wrap--loader")}(i),e.error||void 0===e.locations||a.find(".ephd-wp__locations-list-select--"+d+" .ephd-wp__found-locations-list").html(e.locations).show()},!1,!1,void 0,"no-loader")},500)}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__found-locations-list li",function(e){if(e.stopPropagation(),t(this).data("assigned_widget_id")&&t(this).data("assigned_widget_id")!=t(this).closest(".ephd-wp__widget-form").find('[name="widget_id"]').val())return!1;t(this).appendTo(t(this).parent().parent().find(".ephd-wp__selected-locations-list")),_()}),t(document).on("click",function(){t(".ephd-wp__found-locations-list").html("").hide()}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__selected-locations-list li",function(){let e=t(this).data("id");t('.ephd-wp__widget-form .ephd-wp__selected-locations-list li[data-id="'+e+'"]').remove(),_()}),t(document).on("click",".ephd-notification-box-basic__body__desc .ephd-hd__wizard-link",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).data("target")+'"]').trigger("click")}),t(document).on("click",".ephd-admin__widget-preview .ephd_edit_widget",function(e){e.preventDefault();let _=t(this).data("id"),s=t(this).closest(".ephd-admin__section-wrap").find(".ephd-admin__widget-preview").length,p="Widget #"+ ++s;D({action:"ephd_load_widget_form",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:void 0!==_?_:0,widget_name:p},function(e){e.error||void 0===e.message||(t(".ephd-admin__boxes-list__box-btn-wrap").hide(),t(".ephd-wp__widget-form").replaceWith(e.widget_form),t(".ephd-wp__widget-preview-content").html(e.preview),t(".ephd-admin__widget-preview").hide(),t("#ephd-public-styles-inline-css").html(e.demo_styles),c(),b(),l(),a(),w(),i(),n(),o(),k(),C(),h(),setTimeout(function(){let e=d();void 0!==e.tab&&t('.ephd-admin__form-tab[data-target="'+e.tab+'"]').trigger("click")},50),setTimeout(function(){t(window).trigger("resize")},60))})}),t(document).on("click",".ephd-admin__widget-preview .ephd_copy_widget",function(e){e.preventDefault();let a=t(this).data("id"),i=t(this).closest(".ephd-admin__section-wrap").find(".ephd-admin__widget-preview").length,n="Widget #"+ ++i;D({action:"ephd_load_widget_form",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,parent_widget_id:a,widget_id:0,widget_name:n},function(e){e.error||void 0===e.message||(t(".ephd-admin__boxes-list__box-btn-wrap").hide(),t(".ephd-wp__widget-form").replaceWith(e.widget_form),t(".ephd-admin__widget-preview").hide(),setTimeout(function(){let e=d();void 0!==e.tab&&t('.ephd-admin__form-tab[data-target="'+e.tab+'"]').trigger("click")},50),setTimeout(function(){t(".ephd-wp__widget-form .ephd-wp__widget-action__draft-btn").trigger("click")},50))})}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__widget-action__publish-btn, .ephd-wp__widget-form .ephd-wp__widget-action__draft-btn",function(e){e.preventDefault();let d=t(this).closest(".ephd-wp__widget-form");t(this).hasClass("ephd-wp__widget-action__publish-btn")&&d.find('[name="widget_status"]').val("published"),t(this).hasClass("ephd-wp__widget-action__draft-btn")&&d.find('[name="widget_status"]').val("draft");let _=p(d,"ephd_update_widget"),s=d.find(".ephd-admin__form-tab--active").data("target");return D(_,function(e){e.error||void 0===e.message||(P(e.message),d.replaceWith(e.widget_form),t(".ephd-wp__widget-preview-content").html(e.preview),t("#ephd-public-styles-inline-css").html(e.demo_styles),t(".ephd-admin__widget-preview--"+e.widget_id).length?t(".ephd-admin__widget-preview--"+e.widget_id).replaceWith(e.widget_preview):t(".ephd-admin__section-wrap__widgets").append(e.widget_preview),t(".ephd-admin__widget-preview").hide(),t('.ephd-admin__form-tab[data-target="'+s+'"]').trigger("click"),c(),b(),l(),a(),w(),i(),n(),o(),k(),C(),h(),setTimeout(function(){t(window).trigger("resize")},50))}),!1}),t(document).on("click",".ephd-wp__delete-widget-wrap input.ephd_delete_widget",function(e){t("#ephd-wp__delete-widget-confirmation").addClass("ephd-dialog-box-form--active")}),t(document).on("submit","#ephd-wp__delete-widget-confirmation",function(e){e.preventDefault();let a=t(this),i=t(".ephd-wp__widget-form"),n=i.find('[name="widget_id"]').val();return D({action:"ephd_delete_widget",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:n},function(e){e.error||void 0===e.message||(P(e.message),a.removeClass("ephd-dialog-box-form--active"),i.removeClass("ephd-wp__widget-form--active"),t(".ephd-admin__widget-preview").show(),t(".ephd-admin__widget-preview--"+n).fadeOut(function(){t(this).remove()}),t(".ephd-admin__boxes-list__box-btn-wrap").show())}),!1}),t(document).on("click",".ephd_cancel_widget",function(e){return e.preventDefault(),t(".ephd-wp__widget-form").removeClass("ephd-wp__widget-form--active"),t(".ephd-wp__widget-preview").hide(),t(".ephd-admin__widget-preview").show(),t(".ephd-admin__boxes-list__box-btn-wrap").show(),!1}),t(document).on("click",".ephd-wp__widget-action__save-options-toggle",function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-wp__widget-action__save-options-list").toggle()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-tab",function(){let e=t(this).data("target"),a=t(this).closest(".ephd-wp__widget-form");if(a.find(".ephd-admin__form-tab").removeClass("ephd-admin__form-tab--active"),a.find(".ephd-admin__form-tab-wrap").removeClass("ephd-admin__form-tab-wrap--active"),t(this).addClass("ephd-admin__form-tab--active"),a.find(".ephd-admin__form-tab-wrap--"+e).addClass("ephd-admin__form-tab-wrap--active"),t(this).data("preview")){let a=t(".ephd-wp__widget-preview"),i=a.find(".ephd-hd-toggle");a.show(),1==t(this).data("preview")&&(a.find(".ephd-wp__widget-preview-page").removeClass("ephd-wp__widget-preview-page--active"),a.removeClass("ephd-wp__widget-preview--closed"),u(e),i.hasClass("ephd-hd-toggle--on")||(i.trigger("click"),setTimeout(function(){t(".ephd-wp__widget-preview-tooltip").show()},100))),2==t(this).data("preview")&&(a.find(".ephd-wp__widget-preview-page").addClass("ephd-wp__widget-preview-page--active"),a.addClass("ephd-wp__widget-preview--closed"),i.hasClass("ephd-hd-toggle--on")&&i.trigger("click"));let n=a.find(".ephd-hd-tab--active").data("ephd-target-tab");a.find(".ephd-wp__widget-preview-tooltip>div").hide(),a.find(".ephd-wp__widget-preview-tooltip--"+n).show(),setTimeout(function(){t(window).trigger("resize")},50)}else t(".ephd-wp__widget-preview").hide();W()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-sub-tab",function(){let e=t(this).data("target"),a=t(this).closest(".ephd-wp__widget-form");a.find(".ephd-admin__form-sub-tab").removeClass("ephd-admin__form-sub-tab--active"),a.find(".ephd-admin__form-sub-tab-content").removeClass("ephd-admin__form-sub-tab-content--active"),t(this).addClass("ephd-admin__form-sub-tab--active"),a.find(".ephd-admin__form-sub-tab-content--"+e).addClass("ephd-admin__form-sub-tab-content--active")}),t(document).on("click",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[type="checkbox"]',function(){"search_option"===t(this).attr("name")&&l()});let E;t(document).on("change",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--colors .ekb-color-picker input[type="text"]',function(){clearTimeout(E),E=setTimeout(function(e){s(e)},300,this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-wp__options-container--premade-designs input[type="radio"]',function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-btn-checked-icon").removeClass("ephd-btn-checked-icon--active"),t(this).parent().find(".ephd-btn-checked-icon").addClass("ephd-btn-checked-icon--active")}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-from select",function(){let e=t(this).closest(".ephd-wp__widget-form");e.find('[name="colors_set"]').prop("checked",!1),e.find('[name="dialog_width"]').prop("checked",!1),s(this)}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-to select",function(){let e=t(this),a=e.closest(".ephd-wp__widget-form");D({action:"ephd_copy_design_to",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,current_design_id:a.find('[name="design_id"]').val(),target_design_id:t(this).val()},function(t){t.error||void 0===t.message||(P(t.message),e.val(e.data("value")))})});new MutationObserver(function(e){for(let a of e)a.removedNodes.length&&void 0!==a.removedNodes[0].id&&"ephd-editor-popup"==a.removedNodes[0].id&&s(t(".ephd-wp__widget-form--active"))}).observe(document.getElementsByTagName("body")[0],{childList:!0}),t(document).on("change",".ephd-admin__input-update_preview input, .ephd-admin__input-update_preview select, .ephd-admin__input-update_preview textarea",function(){s(this)}),t(document).on("click",".ephd-wp__tiny-mce-input--no-results-found-content-html .ephd_tiny_mce_input_save",function(){let e=t(this).closest(".ephd-wp__tiny-mce-input");D({action:"ephd_tiny_mce_input_save",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:e.find('[name="widget_id"]').val(),option_name:"no_results_found_content_html",option_value:t("#wp-no_results_found_content_wpeditor-wrap").hasClass("tmce-active")?tinymce.activeEditor.getContent():t("#no_results_found_content_wpeditor").val()},function(e){e.error||void 0===e.message||P(e.message)})}),t(document).on("click",".ephd-wp__new-widget-form .ephd-wp__editor-link .ephd-wp__widget-form__cta-link",function(e){return e.preventDefault(),e.stopPropagation(),t("#ephd-wp__save-widget-confirmation").addClass("ephd-dialog-box-form--active"),!1}),t(document).on("submit","#ephd-wp__save-widget-confirmation",function(e){return e.preventDefault(),t(this).removeClass("ephd-dialog-box-form--active"),t(this).closest(".ephd-wp__new-widget-form").find(".ephd-wp__widget-action__save-btn").trigger("click"),!1}),t("body").on("change","[name=location_page_filtering]",h);let I=!1,N={},L="";t(".ephd-fp__wp-editor__languages").length?(t(".ephd-fp__wp-editor__language").each(function(){N[t(this).data("slug")]={title:"",content:"",faq_id:0,id:0}}),L=t(".ephd-fp__wp-editor__language").first().data("slug")):(N[ephd_vars.default_language]={title:"",content:"",faq_id:0,id:0},L=ephd_vars.lang),t(".ephd__help_editor__action__cancel, .ephd-fp__wp-editor__overlay").on("click",function(){return y(),clearInterval(I),!1}),t("#ephd-fp__article-form").on("submit",function(e){if(e.preventDefault(),g(),v(),void 0===N[ephd_vars.default_language])return O(ephd_vars.reload_try_again),!1;if(!N[ephd_vars.default_language].title)return O(ephd_vars.empty_default_language),t(".ephd-fp__wp-editor__language-"+ephd_vars.default_language).trigger("click"),!1;let i={action:"ephd_save_question_data",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,faqs_id:t("#faqs_id").val(),direction:"right",question_languages:[]};for(let e in N)i.question_languages.push(e),i["question_id_"+e]=N[e].id,i.question_faq_id||(i.question_faq_id=N[e].faq_id),i["question_title_"+e]=N[e].title,i["question_content_"+e]=N[e].content;return D(i,function(e){e.error||void 0===e.message||(P(e.message),e.data.forEach(function(e){t(".ephd-faq-question--"+e.faq_id).length?t(".ephd-faq-question--"+e.faq_id+" .ephd-faq-question__text").text(e.title):t(e.html).appendTo(".ephd-all-questions-list-container").addClass("ui-sortable-handle")}),t(".ephd-fp__wp-editor").removeClass("active"),y(),q(),a(),w(),s(t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]')))}),!1}),t(".ephd-fp__wp-editor__language").on("click",function(){v(),L=t(this).data("slug"),f()}),t(document).on("click","#ephd-fp__add_new_question",function(e){return e.preventDefault(),m(),!1}),t(document).on("click",".ephd-faq-question__edit",function(){m(t(this).closest(".ephd-faq-question").data("id"))}),t(document).on("change keyup","#ephd_all_articles_filter",function(){let e=t(this).val().toLowerCase().trim(),a=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val().split(",");t(".ephd-all-questions-list-container .ephd-faq-question-container").each(function(){if(a.includes(t(this).data("id").toString()))return;let i=t(this).find(".ephd-faq-question__text").text();!e.length||~i.toLowerCase().indexOf(e)?t(this).addClass("ephd-faq-question--active"):t(this).removeClass("ephd-faq-question--active")}),w()}),t(document).on("click",".ephd-faq-question__delete",function(){let e=t(this).closest(".ephd-faq-question-container").data("id");if(void 0===e||!e)return void O(ephd_vars.reload_try_again);t("#ephd-fp_delete-question-confirmation-id").val(e);let a=t("#ephd-fp_delete-question-confirmation"),i=t('.ephd-wp__widget-form--active input[name="widget_id"]').val();t(".ephd-admin__confirm-dialog-assigned-widgets").hide(),a.find(".ephd-admin__confirm-dialog-assigned-widget").each(function(){t(this).data("faq-sequence").toString().split(",").includes(e.toString())&&t(this).data("widget-id").toString()!==i.toString()?(t(".ephd-admin__confirm-dialog-assigned-widgets").show(),t(this).show()):t(this).hide()}),a.addClass("ephd-dialog-box-form--active")}),t("#ephd-fp_delete-question-confirmation form").on("submit",function(){let e=t("#ephd-fp_delete-question-confirmation-id").val();if(void 0===e||!e)return void O(ephd_vars.reload_try_again);return D({action:"ephd_delete_question",faq_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(i){i.error||void 0===i.message||(P(i.message),t(".ephd-faq-question--"+e+", .ephd-fp__faqs__question--"+e).remove()),a(),t("#ephd-fp_delete-question-confirmation").removeClass("ephd-dialog-box-form--active")}),!1}),t(document).on("click",".ephd-faq-question__move_right",function(){let e=t(this).closest(".ephd-faq-question").data("id"),a=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),i=a.val().split(",");t(".ephd-wp__widget-form--active .ephd-faq-question--"+e).addClass("ephd-faq-question--active"),i=i.filter(function(t){return t!=e}),a.val(i),s(a),w()}),t(document).on("click",".ephd-faq-question__add",function(){let e=t(this).closest(".ephd-faq-question-container").data("id"),a=t(this).closest(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),i=a.val().split(",");t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--active"),i.push(e),a.val(i),s(a),w()}),t(document).on("mouseenter",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseleave",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseenter",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseleave",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseenter",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseleave",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseenter",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--edit-highlight")}),t(document).on("mouseleave",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--edit-highlight")}),q(),w(),t("body").on("click",".ephd__hdl__action__reload input",function(){location.reload()}),t(document).on("click",".ephd__wp_editor__ai-help-sidebar",function(e){e.stopPropagation()}),t(document).on("click",".ephd__wp_editor__ai-help-sidebar-btn-open",function(e){return e.preventDefault(),t(".ephd-fp__wp-editor").addClass("ephd-ai-help-sidebar--active"),!1}),t(document).on("click",".ephd-ai-help-sidebar-btn-close",function(e){t(this).closest(".ephd-fp__wp-editor").removeClass("ephd-ai-help-sidebar--active"),t(".ephd-ai-help-sidebar__alternatives-back-btn").trigger("click")}),t(document).on("click",".ephd-ai__question-fix-spelling-and-grammar-btn",function(e){e.preventDefault();let a=T(t("#ephd-fp__wp-editor__question-title").val());if(a.length<3)return!1;let i={action:"ephd_fix_question_spelling_and_grammar",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:a},n=t(this).val();return D(i,function(e){!e.error&&void 0!==e.message&&void 0!==e.fixed_input_text&&e.fixed_input_text.length>0&&(P(e.message),j(a,e.tokens_used,n),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-question">'+e.fixed_input_text+"</div>"))}),!1}),t(document).on("click",".ephd-ai__question-create-five-alternatives-btn",function(e){e.preventDefault();let a=T(t("#ephd-fp__wp-editor__question-title").val());if(a.length<3)return!1;let i={action:"ephd_create_five_question_alternatives",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:a},n=t(this).val();return D(i,function(e){if(!e.error&&void 0!==e.message&&void 0!==e.alternatives&&e.alternatives.length>0){P(e.message),j(a,e.tokens_used,n);let i="";for(let t=0;t<e.alternatives.length;t++)i+='<div class="ephd-ai-help-sidebar__alternative-question">'+e.alternatives[t]+"</div>";t(".ephd-ai-help-sidebar__alternatives-list").html(i)}}),!1}),t(document).on("click",".ephd-ai__answer-fix-spelling-and-grammar-btn",function(e){e.preventDefault();let a=tinymce.get("ephd-fp__wp-editor"),i="";if(i=a&&t(".wp-editor-wrap").hasClass("tmce-active")?a.getContent():t("#ephd-fp__wp-editor").val(),(i=T(i)).length<3)return!1;let n={action:"ephd_fix_answer_spelling_and_grammar",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:i},d=t(this).val();return D(n,function(e){!e.error&&void 0!==e.message&&void 0!==e.fixed_input_text&&e.fixed_input_text.length>0&&(P(e.message),j(i,e.tokens_used,d),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-answer">'+e.fixed_input_text+"</div>"))}),!1}),t(document).on("click",".ephd-ai__answer-create-five-alternatives-btn",function(e){e.preventDefault();let a=tinymce.get("ephd-fp__wp-editor"),i="";if(i=a&&t(".wp-editor-wrap").hasClass("tmce-active")?a.getContent():t("#ephd-fp__wp-editor").val(),(i=T(i)).length<3)return!1;let n={action:"ephd_create_five_answer_alternatives",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:i},d=t(this).val();return D(n,function(e){if(!e.error&&void 0!==e.message&&void 0!==e.alternatives&&e.alternatives.length>0){P(e.message),j(i,e.tokens_used,d);let a="";for(let t=0;t<e.alternatives.length;t++)a+='<div class="ephd-ai-help-sidebar__alternative-answer">'+e.alternatives[t]+"</div>";t(".ephd-ai-help-sidebar__alternatives-list").html(a)}}),!1}),t(document).on("click",".ephd-ai__create-answer-based-on-question-btn",function(e){e.preventDefault();let a=T(t("#ephd-fp__wp-editor__question-title").val());if(a.length<3)return!1;let i={action:"ephd_create_answer_based_on_question",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,question_text:a,max_tokens:200},n=t(this).val();return D(i,function(e){!e.error&&void 0!==e.message&&void 0!==e.generated_answer&&e.generated_answer.length>0&&(P(e.message),j(a,e.tokens_used,n),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-answer">'+e.generated_answer+"</div>"))}),!1}),t(document).on("click",".ephd-ai-help-sidebar__alternatives-back-btn",function(){t(".ephd-ai-help-sidebar__alternatives").hide(),t(".ephd-ai-help-sidebar__main").show()}),t(document).on("click",".ephd-ai-help-sidebar__alternative-question",function(){t("#ephd-fp__wp-editor__question-title").val(t(this).html())}),t(document).on("click",".ephd-ai-help-sidebar__alternative-answer",function(){let e=tinymce.get("ephd-fp__wp-editor");e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.setContent(t(this).html()):t("#ephd-fp__wp-editor").val(t(this).html())}),t(document).on("click",".ephd-admin__input-disabled, .ephd__option-pro-tag",function(){let e=t(this).closest(".ephd-input-group").find(".ephd__option-pro-tooltip"),a=e.is(":visible");t(".ephd__option-pro-tooltip").hide(),a?e.hide():e.show()}),t(document).on("click",function(e){let a=t(e.target);a.closest(".ephd__option-pro-tooltip").length||a.closest(".ephd-admin__input-disabled").length||a.closest(".ephd__option-pro-tag").length||t(".ephd__option-pro-tooltip").hide()});let M;t("body").on("change","#initial_message_mode input",W)});