/*! ICS Calendar front end scripts https://icscalendar.com */ function r34ics_ajax_init(){jQuery(document).trigger("r34ics_ajax_start"),jQuery(document).find(".r34ics-ajax-container").each(function(){r34ics_ajax_request(jQuery(this),0)}),jQuery(document).trigger("r34ics_ajax_end")}function r34ics_ajax_request(e,a){e.addClass("loading"),void 0===a&&(a=0),jQuery.ajax({url:r34ics_ajax_obj.ajaxurl,data:{action:"r34ics_ajax",r34ics_nonce:r34ics_ajax_obj.r34ics_nonce,subaction:"display_calendar",args:e.data("args")},dataType:"text",type:"POST",success:function(t){"1"==t?a<=5?r34ics_ajax_request(e,++a):console.error("ICS Calendar AJAX request failed for element #"+e.attr("id")):(""!=typeof e.data("args").debug&&parseInt(e.data("args").debug)>0&&console.log("ICS Calendar AJAX request succeeded for element #"+e.attr("id")),e.replaceWith(t),r34ics_init(),"function"==typeof r34icspro_init&&r34icspro_init(),r34ics_show_hide_headers())},error:function(e){console.error(e)}})}function r34ics_boolean_check(e){var a=String(e).trim().toLowerCase();return"1"===a||"true"===a||"on"===a?1:"0"===a||"false"===a||"off"===a||"none"===a?0:"null"===a||""===a?null:parseInt(e)>0}function r34ics_init(){if(jQuery(document).trigger("r34ics_init_start"),jQuery(".ics-calendar").animate({opacity:1},500),r34ics_is_phone()&&jQuery("body").addClass("r34ics_phone"),jQuery(document).on("click",".r34ics_event_ics_download",function(){if(""!=jQuery(this).data("eventdl-uid")){var e=jQuery(this).data("eventdl-uid"),a=jQuery(this).data("eventdl-feed-key"),t=jQuery(this).closest("form");0==t.length&&jQuery("form.r34ics_event_ics_download_form").each(function(){jQuery(this).find('*[data-eventdl-uid="'+e+'"]').length>0&&(t=jQuery(this))}),t.length>0&&(t.find('input[name="r34ics-feed-key"]').val(a),t.find('input[name="r34ics-uid"]').val(e),t.submit())}return!1}),jQuery(document).on("change",".ics-calendar-select",function(){r34ics_show_hide_headers()}),jQuery(document).on("keypress",".ics-calendar *, .r34ics_lightbox *",function(e){13==e.which&&(jQuery(this).trigger("click"),jQuery(this).hasClass("ics-calendar-pagination")&&jQuery(this).hasClass("prev")?jQuery(document).find(".ics-calendar-pagination.prev:visible").focus():jQuery(this).hasClass("ics-calendar-pagination")&&jQuery(this).hasClass("next")&&jQuery(document).find(".ics-calendar-pagination.next:visible").focus())}),jQuery("details").on("toggle",function(){jQuery(this).has(".ics-calendar")&&r34ics_show_hide_headers()}),jQuery(document).on("click",".ics-calendar.r34ics_toggle .event, .ics-calendar.toggle .event, .ics-calendar.r34ics_toggle .event .title, .ics-calendar.toggle .event .title",function(e){e.stopPropagation();var a=jQuery(this).hasClass("title")?jQuery(this).parent():jQuery(this);if(0==a.find(".descloc").length)return!1;jQuery(".r34ics_lightbox").length>0&&a.closest(".ics-calendar").hasClass("r34ics_toggle_lightbox")?(jQuery(".r34ics_lightbox .r34ics_lightbox_content").html(a.find(".descloc").html()),jQuery(".r34ics_lightbox").addClass("open"),jQuery(".r34ics_lightbox_close").focus()):a.hasClass("open")?a.removeClass("open"):a.addClass("open")}),jQuery(document).on("click",".ics-calendar.r34ics_toggle .event a, .ics-calendar.toggle .event a, .r34ics_lightbox .r34ics_lightbox_content",function(e){e.stopPropagation()}),jQuery(".r34ics_lightbox").length>0){if(jQuery(".r34ics_lightbox").length>1){var e=0;jQuery(".r34ics_lightbox").each(function(){e>0&&jQuery(this).remove(),e++})}jQuery(".r34ics_lightbox").prependTo("body"),jQuery(".r34ics_lightbox .r34ics_lightbox_close").on("click",function(){jQuery(".r34ics_lightbox .r34ics_lightbox_content").html(""),jQuery(".r34ics_lightbox").removeClass("open")})}if(jQuery(".ics-calendar:not(.sametab) a").each(function(){"_blank"==jQuery(this).attr("target")?jQuery(this).addClass("offsite-link"):void 0!==jQuery(this).attr("href")&&0==jQuery(this).attr("href").indexOf("http")&&-1==jQuery(this).attr("href").indexOf("//"+location.hostname)&&jQuery(this).addClass("offsite-link").attr("target","_blank")}),jQuery(".ics-calendar-color-key-toggle").on("click",function(){var e=jQuery(this).closest(".ics-calendar"),a=jQuery(this).attr("data-feed-key");if(!0==jQuery(this).prop("checked")?e.find(".event[data-feed-key="+parseInt(a)+"], .events *[data-feed-key="+parseInt(a)+"]").removeClass("hidden_in_main"):e.find(".event[data-feed-key="+parseInt(a)+"], .events *[data-feed-key="+parseInt(a)+"]").addClass("hidden_in_main"),r34ics_show_hide_headers("#"+e.attr("id")),jQuery(this).prop("checked")){var t=!0;jQuery(this).parent().parent().siblings().find(".ics-calendar-color-key-toggle").each(function(){jQuery(this).prop("checked")||(t=!1)}),t&&jQuery(this).parent().parent().siblings().find(".ics-calendar-color-key-toggle-all").each(function(){jQuery(this).prop("checked",!0)})}else jQuery(this).parent().parent().siblings().find(".ics-calendar-color-key-toggle-all").each(function(){jQuery(this).prop("checked",!1)})}),jQuery(".ics-calendar-color-key-toggle-all").on("click",function(){jQuery(this).prop("checked")?jQuery(this).parent().parent().siblings().find(".ics-calendar-color-key-toggle").each(function(){jQuery(this).prop("checked")||jQuery(this).trigger("click")}):jQuery(this).parent().parent().siblings().find(".ics-calendar-color-key-toggle").each(function(){jQuery(this).prop("checked")&&jQuery(this).trigger("click")})}),jQuery(".ics-calendar.layout-week").length>0&&(jQuery(".ics-calendar.layout-week .ics-calendar-select").on("change",function(){var e=jQuery(this).closest(".ics-calendar");e.addClass("show-past-events"),e.find(".ics-calendar-month-grid tbody tr").css("display","none"),r34ics_is_phone()&&!e.hasClass("nomobile")&&e.find(".ics-calendar-month-grid tbody tr."+jQuery(this).val()).css("display","block"),e.find(".ics-calendar-month-grid tbody tr."+jQuery(this).val()).css("display","table-row")}),jQuery('a[data-ics-calendar-action="show-past-events"]').on("click",function(){var e=jQuery(this).closest(".ics-calendar");return e.hasClass("show-past-events")?(e.removeClass("show-past-events"),jQuery(this).text(ics_calendar_i18n.show_past_events)):(e.addClass("show-past-events"),jQuery(this).remove()),!1}),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid:not(.fixed_dates) tbody tr").addClass("remove"),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid.fixed_dates tbody tr").addClass("current-week"),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid:not(.fixed_dates) tbody td.today").parent().addClass("current-week").removeClass("remove"),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid:not(.fixed_dates) tbody td.today").parent().prev().addClass("previous-week").removeClass("remove"),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid:not(.fixed_dates) tbody td.today").parent().next().addClass("next-week").removeClass("remove"),jQuery(".ics-calendar.layout-week .ics-calendar-month-grid:not(.fixed_dates) tbody tr.remove").remove(),r34ics_is_phone()?(jQuery(".ics-calendar.layout-week:not(.nomobile) .ics-calendar-month-grid tbody tr.current-week").css("display","block"),jQuery(".ics-calendar.layout-week.nomobile .ics-calendar-month-grid tbody tr.current-week").css("display","table-row")):jQuery(".ics-calendar.layout-week .ics-calendar-month-grid tbody tr.current-week").css("display","table-row"),jQuery(".ics-calendar.layout-week .ics-calendar-select").show(),jQuery(".ics-calendar.layout-week .ics-calendar-week-wrapper:first-of-type").show(),jQuery(".ics-calendar:not(.month_list_all).layout-week").each(function(){0==jQuery(this).find(".ics-calendar-week-wrapper:visible .past:not(.empty)").length&&jQuery(this).find(".ics-calendar-past-events-toggle").remove()})),jQuery(".ics-calendar.layout-list").length>0&&jQuery(".ics-calendar.layout-list .descloc_toggle_excerpt").on("click",function(){jQuery(this).hide().siblings(".descloc_toggle_full").show()}),jQuery(".ics-calendar.layout-list .ics-calendar-pagination, .ics-calendar.layout-basic .ics-calendar-pagination").length>0&&(jQuery(".ics-calendar-paginate").on("click",function(){var e,a,t=jQuery(this).closest(".ics-calendar"),i=t.find(".ics-calendar-pagination:visible"),s=jQuery(this).hasClass("prev")?"prev":"next";return t.find(".ics-calendar-paginate").show(),a="prev"===s?(e=i.prev()).prev():(e=i.next()).next(),0!=e.length&&(i.hide(),e.show()),0==a.length&&t.find(".ics-calendar-paginate."+s).hide(),r34ics_show_hide_headers(),!1}),jQuery(".ics-calendar.layout-list, .ics-calendar.layout-basic").each(function(){jQuery(this).find(".ics-calendar-pagination:not(:first-child)").hide(),jQuery(".ics-calendar-paginate.prev").hide()}),r34ics_show_hide_headers()),jQuery(".ics-calendar.layout-month").length>0){jQuery(".ics-calendar.layout-month .ics-calendar-select").on("change",function(){var e=jQuery(this).closest(".ics-calendar");e.find(".ics-calendar-month-wrapper").hide(),e.find('.ics-calendar-month-wrapper[data-year-month="'+jQuery(this).val()+'"]').show(),jQuery(this).closest(".ics-calendar.layout-month").hasClass("stickymonths")&&r34ics_qs_update("r34icsym",jQuery(this).val(),jQuery(this).val()==jQuery(this).data("this-month"));var a=e.find(".ics-calendar-arrow-nav");if(a.length>0){var t=jQuery(this).find("option:selected").prev();t.length>0?(a.find(".prev").data("goto",t.attr("value")).removeClass("inactive"),a.find(".prev-text").text(t.text())):(a.find(".prev").data("goto","").addClass("inactive"),a.find(".prev-text").text(""));var i=jQuery(this).find("option:selected").next();i.length>0?(a.find(".next").data("goto",i.attr("value")).removeClass("inactive"),a.find(".next-text").text(i.text())):(a.find(".next").data("goto","").addClass("inactive"),a.find(".next-text").text("")),jQuery(this).find("option:selected").val()==a.find(".today").data("goto")?a.find(".today").addClass("inactive"):a.find(".today").removeClass("inactive")}}),jQuery(".ics-calendar.layout-month .ics-calendar-arrow-nav > *").unbind().on("click",function(){return""!=jQuery(this).data("goto")&&jQuery(this).closest(".ics-calendar").find(".ics-calendar-select").val(jQuery(this).data("goto")).trigger("change"),!1}),jQuery('a[data-ics-calendar-action="show-past-events"]').on("click",function(){var e=jQuery(this).closest(".ics-calendar");return e.hasClass("show-past-events")?(e.removeClass("show-past-events"),jQuery(this).text(ics_calendar_i18n.show_past_events)):(e.addClass("show-past-events"),jQuery(this).text(ics_calendar_i18n.hide_past_events)),!1}),jQuery(".ics-calendar-select").on("change",function(){var e=jQuery(this).closest(".ics-calendar");e.hasClass("month_list_all")?e.find('a[data-ics-calendar-action="show-past-events"]').show():jQuery(this).val()==jQuery(this).attr("data-this-month")?e.find('a[data-ics-calendar-action="show-past-events"]').show():e.find('a[data-ics-calendar-action="show-past-events"]').hide()}),jQuery(".ics-calendar.layout-month .ics-calendar-select:not(.hidden), .ics-calendar.layout-month .ics-calendar-arrow-nav").show(),jQuery('.ics-calendar.layout-month .ics-calendar-month-wrapper[data-year-month="'+jQuery(".ics-calendar-select").val()+'"]').show();var a=r34ics_qs_val("r34icsym");null!=a&&1==jQuery('.ics-calendar.layout-month .ics-calendar-select option[value="'+a+'"]').length?jQuery(".ics-calendar.layout-month .ics-calendar-select").val(a).trigger("change"):jQuery(".ics-calendar.layout-month .ics-calendar-select").trigger("change"),jQuery(".ics-calendar:not(.month_list_all).layout-month").each(function(){0==jQuery(this).find('.ics-calendar-month-wrapper[data-is-this-month="1"] .past:not(.empty)').length&&jQuery(this).find(".ics-calendar-past-events-toggle").remove()}),r34ics_maybe_skip_to_next_month()}jQuery(".r34ics_debug_toggle").on("click",function(){jQuery(".r34ics_debug_wrapper").hasClass("minimized")?jQuery(".r34ics_debug_wrapper").removeClass("minimized"):jQuery(".r34ics_debug_wrapper").addClass("minimized")}),jQuery(document).trigger("r34ics_init_end")}function r34ics_is_phone(){return window.innerWidth<=782}function r34ics_maybe_skip_to_next_month(){(r34ics_is_phone()||jQuery('.ics-calendar.layout-month[data-month-table-list-toggle="list"]').length>0)&&jQuery(".ics-calendar:not(.nomobile).layout-month").each(function(){if(jQuery(this).find(".ics-calendar-month-wrapper:visible").find(".no_events, .no_additional_events").length>0&&0==jQuery(this).find(".ics-calendar-month-wrapper:visible").next().find(".no_events").length){var e=jQuery(this).closest(".ics-calendar").find(".ics-calendar-select"),a=e.find("option[selected]").next().val();e.val(a).trigger("change")}})}function r34ics_phone_day_headers(){r34ics_is_phone()&&"undefined"!=typeof r34ics_days_of_week_map?jQuery(".ics-calendar-month-grid thead th").each(function(){var e=jQuery(this).text();void 0!==r34ics_days_of_week_map[e]&&(jQuery(this).data("orig-str",e),jQuery(this).text(r34ics_days_of_week_map[e]))}):jQuery(".ics-calendar-month-grid thead th").each(function(){""!=jQuery(this).data("orig-str")&&jQuery(this).text(jQuery(this).data("orig-str"))})}function r34ics_qs_update(e,a,t){if(history.pushState&&null!=a){var i,s;!0==t?-1!=location.search.indexOf(e+"=")&&(s=RegExp(e+"=[^&]*","g"),(i=location.search.replace(s,"")).lastIndexOf("&")==i.length-1&&(i=i.slice(0,-1))):""==location.search?i="?"+e+"="+a:-1!=location.search.indexOf(e+"=")?(s=RegExp(e+"=[^&]*","g"),i=location.search.replace(s,e+"="+a)):i=location.search.lastIndexOf("&")==location.search.length-1?location.search+e+"="+a:location.search+"&"+e+"="+a,window.history.pushState({},document.title,i)}}function r34ics_qs_val(e){var a,t,i=location.search.replace("?","").split("&"),s=[];for(t=0;t<i.length;t++)s[(a=i[t].split("="))[0]]=a[1];return jQuery("<div>").text(s[e]).html()}function r34ics_show_hide_headers(e){(void 0===e||null==e)&&(e=".ics-calendar"),jQuery(e+" .ics-calendar-list-wrapper .ics-calendar-date, "+e+":not(.monthnav-compact) .ics-calendar-label, "+e+" .ics-calendar-month-grid .day").show().removeClass("nomobile").removeClass("hidden_in_list"),jQuery(".ics-calendar.layout-list").length>0&&(jQuery(e+" .ics-calendar-list-wrapper .ics-calendar-date").each(function(){0==jQuery(this).next("dl").find(".event:visible").length?jQuery(this).hide():jQuery(this).show()}),jQuery(e+" .ics-calendar-list-wrapper .ics-calendar-label").each(function(){0==jQuery(this).siblings(".ics-calendar-date-wrapper").children(".ics-calendar-date:visible").length?jQuery(this).hide():jQuery(this).show()})),(jQuery("body.r34ics_phone .ics-calendar.layout-month").length>0||"list"==jQuery(e).data("month-table-list-toggle"))&&(jQuery(e+" .ics-calendar-month-grid .events").each(function(){0==jQuery(this).find(".event:visible").length?jQuery(this).siblings(".day").addClass("nomobile").addClass("hidden_in_list"):jQuery(this).siblings(".day").removeClass("nomobile").removeClass("hidden_in_list")}),jQuery(e+" .ics-calendar-month-wrapper .ics-calendar-month-grid").each(function(){0==jQuery(this).find(".event:visible").length?jQuery(this).siblings(".ics-calendar-label").addClass("nomobile").addClass("hidden_in_list"):jQuery(this).siblings(".ics-calendar-label").removeClass("nomobile").removeClass("hidden_in_list")}))}jQuery(window).on("load",function(){jQuery(".ics-calendar").length>0&&r34ics_init(),r34ics_show_hide_headers(),r34ics_phone_day_headers(),jQuery(".ics-calendar").not(":visible").length>0&&jQuery("body *").on("click",function(){jQuery(".ics-calendar").filter(":visible").length>0&&r34ics_show_hide_headers()}),jQuery(document).find(".r34ics-ajax-container").length>0&&r34ics_ajax_init()}),jQuery(window).on("resize",function(){r34ics_is_phone()?jQuery("body").addClass("r34ics_phone"):jQuery("body").removeClass("r34ics_phone"),r34ics_show_hide_headers(),r34ics_phone_day_headers(),r34ics_maybe_skip_to_next_month()}),jQuery(document).on("r34ics_init_end",function(){});