!function(){const s=document.getElementById("meow-data");s?new Vue({el:"#vue-activity",data:JSON.parse(s.textContent)||{},methods:{searchSubmit:function(){var s=this;this.forms.search.errors={},this.forms.search.loading=!0;var r=this.clone(this.forms.search);delete r.page,delete r.errors,delete r.loading,delete r.n,delete r.action;var e=this.checksum(r);e!==this.lastSearch&&(this.forms.search.page=0,this.lastSearch=e),this.formAjax(this.forms.search,(function(r){s.forms.search.loading=!1,s.searched=!0,s.results={page:0,pages:0,total:0,items:[],bans:[]},r.ok?s.results=r.data:s.forms.search.errors=r.errors,s.scrollTo()}))},pardonSubmit:function(s){var r,e=this;this.forms.pardon.errors={},this.forms.pardon.loading=!0,this.forms.pardon.id=parseInt(s,10)||0,this.formAjax(this.forms.pardon,(function(t){if(e.forms.pardon.loading=!1,t.ok&&t.data){for(r=0;r<e.results.bans.length;r++)e.results.bans[r].id===s&&(e.results.bans.splice(r,1),r=e.results.bans.length);for(r=0;r<e.results.items.length;r++)e.results.items[r].id===s&&(e.results.items[r].banned=!1,e.results.items[r].banRemaining=0,e.results.items[r].pardoned=1,r=e.results.items.length)}else t.errors?e.forms.pardon.errors=t.errors:e.forms.pardon.errors.other="The server garbled the last response. :(";e.scrollTo()}))},downloadSubmit:function(){var s=this;this.forms.download.errors={},this.forms.download.loading=!0,this.formAjax(this.forms.download,(function(r){s.forms.download.loading=!1,r.ok&&r.data?(s.download=r.data.download,s.downloadName=r.data.downloadName):r.errors?s.forms.download.errors=r.errors:s.forms.download.errors.other="The server garbled the last response. :(",s.scrollTo()}))},pageSubmit:function(s){if(0!==(s=parseInt(s,10)||0)&&(this.forms.search.page+=s,0>this.forms.search.page?this.forms.search.page=0:this.forms.search.page>this.results.pages&&(this.forms.search.page=this.results.pages),this.forms.search.page!==this.results.page))return this.searchSubmit()}},mounted:function(){var s=this;window.addEventListener("load",(function(){s.searchSubmit.call(s)}))},filters:{status:function(s){return{ban:"Ban",fail:"Failure",success:"Success"}[s]},relativeTime:function(s){if(0>=(s=parseInt(s,10)||0))return"0s";var r,e,t,o,a=s;a-=60*(r=Math.floor(a/60/60/24/365))*60*24*365,a-=60*(e=Math.floor(a/60/60/24))*60*24,a-=60*(t=Math.floor(a/60/60))*60,a-=60*(o=Math.floor(a/60));var n=[];return 0<r&&n.push(r+"y"),0<e&&n.push(e+"d"),0<t&&n.push(t+"h"),0<o&&n.push(o+"m"),0<a&&n.push(a+"s"),3<n.length&&n.splice(3),n.join(" ")}},computed:{returnedStatuses:function(){var s=[];if(this.results.total)for(var r=0;r<this.results.items.length;r++)-1===s.indexOf(this.results.items[r].type)&&s.push(this.results.items[r].type);return s},hasCommunityJail:function(){if(!this.results.bans.length)return!1;for(var s=0;s<this.results.bans.length;s++)if(this.results.bans[s].community)return!0;return!1}}}):console.warn("Missing #meow-data element.")}();