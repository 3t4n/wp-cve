"use strict";var el=wp.element.createElement,_wp$blocks=wp.blocks,registerBlockType=_wp$blocks.registerBlockType,createBlock=_wp$blocks.createBlock,__=wp.i18n.__,_x=wp.i18n._x,Fragment=wp.element.Fragment,_wp$components=wp.components,PanelBody=_wp$components.PanelBody,PanelRow=_wp$components.PanelRow,SelectControl=_wp$components.SelectControl,ColorPalette=_wp$components.ColorPalette,FormToggle=_wp$components.FormToggle,RadioControl=_wp$components.RadioControl,TextControl=_wp$components.TextControl,ColorPicker=_wp$components.ColorPicker,_wp$editor=wp.blockEditor,RichText=_wp$editor.RichText,InspectorControls=_wp$editor.InspectorControls,PointMakerIcon=el("svg",{width:20,height:20,viewBox:"0 0 32 32"},el("path",{d:"M12.6,2.3c-1.3,0-2.3,1-2.3,2.3v16L7.6,17c-0.4-0.6-1.2-1-1.9-1c-1.3,0-2.2,1.1-2.2,2.3c0,0.5,0.2,1,0.5,1.4l6.9,9.1 c0.4,0.6,1.1,0.9,1.8,0.9h12.8c0.5,0,1-0.4,1.1-0.9l1.6-6.6c0.3-1.1,0.4-2.3,0.4-3.5v-3.9c0-0.9-0.7-1.8-1.7-1.8 c-0.9,0-1.7,0.8-1.7,1.7h-0.6v-1.1c0-1.1-0.9-2.1-2-2.1c-1.1,0-2,0.9-2,2v1.1H20v-1.6c0-1.3-1-2.4-2.3-2.4c-1.3,0-2.3,1-2.3,2.3v1.7 h-0.6V4.7C14.9,3.4,13.9,2.3,12.6,2.3z M12.6,0c2.6,0,4.6,2.1,4.6,4.7v3.9c0.2,0,0.4,0,0.6,0c1.2,0,2.3,0.4,3.1,1.2 c0.6-0.3,1.2-0.4,1.8-0.4c1.3,0,2.5,0.6,3.3,1.6c0.3-0.1,0.7-0.1,1-0.1c2.3,0,4,1.9,4,4.1v3.9c0,1.3-0.2,2.7-0.5,4l-1.6,6.6 C28.3,30.9,27,32,25.4,32H12.6c-1.4,0-2.8-0.7-3.7-1.8L2.1,21c-0.6-0.8-0.9-1.8-0.9-2.8c0-2.5,2-4.6,4.5-4.6c0.8,0,1.6,0.2,2.3,0.6 V4.6C8,2.1,10.1,0,12.6,0z M14.9,25.1v-6.9h-0.6v6.9H14.9z M19.4,25.1v-6.9h-0.6v6.9H19.4z M24,25.1v-6.9h-0.6v6.9H24z"})),PM_color_palette_List=[];if(point_maker_block_colors&&point_maker_block_type_colors)for(var i=0;i<Object.keys(point_maker_block_type_colors).length;i++)PM_color_palette_List[i]={name:point_maker_block_type_colors[i].label,slug:point_maker_block_type_colors[i].value,color:point_maker_block_colors[point_maker_block_type_colors[i].value].color};function point_maker_block_BlackOrWhite(hexcolor){var r,g,b;return.299*parseInt(hexcolor.substr(1,2),16)+.587*parseInt(hexcolor.substr(3,2),16)+.114*parseInt(hexcolor.substr(5,2),16)>186?"#000000":"#ffffff"}function point_maker_block_adjust_type(attributes,ColorData){var style=[];style.title=[],style.title.display="",style.title.backgroundColor="",style.title.borderColor="transparent",style.title.borderBottomStyle="inherit",style.title.position="",style.title.color="",style.change_title=[],style.change_title.color="",style.change_title.display="",style.just_title=[],style.just_title.display="none",style.just_title.backgroundColor="",style.just_title.borderColor="transparent",style.just_title.borderBottomStyle="inherit",style.just_title.position="",style.just_title.color="",style.just_title.margin="",style.just_title.padding="",style.title_icon_SVG=[],style.title_icon_SVG.fill="",style.title_icon_SVG.width="22px",style.title_icon_SVG.height="22px",style.content=[],style.content.display="",style.content.backgroundColor="",style.content.borderColor="transparent",style.detail=[],style.detail.display="",style.detail.backgroundColor="",style.detail.borderColor="transparent",style.detail.color="",style.just_title_before_icon=[],style.just_title_before_icon.display="none",style.just_title_before_icon.position="",style.just_title_before_icon.backgroundColor="",style.just_title_before_icon.borderColor="transparent",style.just_title_before_icon.color="",style.just_title_before_icon.alignItems="",style.end_of_content=[],style.end_of_content.display="none",style.end_of_content.position="",style.end_of_content.backgroundColor="",style.end_of_content.borderColor="transparent",style.end_of_content.color="";var type=attributes.type,title=attributes.title,title_icon=attributes.title_icon,title_color_background=attributes.title_color_background,title_color_border=attributes.title_color_border,content_color_background=attributes.content_color_background,content_color_border=attributes.content_color_border,color=ColorData;color.base=color.color;var BlackOrWhite_base=point_maker_block_BlackOrWhite(color.base),BlackOrWhite_light=point_maker_block_BlackOrWhite(color.lighter),BlackOrWhite_dark=point_maker_block_BlackOrWhite(color.dark);return""===title&&(style.change_title.display="none"),"simple_icon"===type?(title_color_border&&(style.title.borderColor=color.base),content_color_border&&(style.content.borderColor=color.base),title_color_background?(style.title.backgroundColor=color.lighter,style.change_title.color=BlackOrWhite_light,style.title_icon_SVG.fill=color.base):(style.title.backgroundColor="",style.change_title.color="",style.title_icon_SVG.fill=color.base),content_color_background?(style.content.backgroundColor=color.lighter,style.detail.color=BlackOrWhite_light):(style.content.backgroundColor="",style.detail.color=""),"blank-icon"===title_icon&&""===title&&(style.title.display="none")):"simple_tab"===type?(title_color_border&&(style.title.borderColor=color.base),content_color_border&&(style.content.borderColor=color.base),style.title.borderBottomStyle="none",title_color_background?content_color_background?(style.title.backgroundColor=color.dark,style.change_title.color=BlackOrWhite_dark,title_color_border&&(style.title.borderColor=color.dark),content_color_border&&(style.content.borderColor=color.dark),style.title_icon_SVG.fill=color.lighter):(style.title.backgroundColor=color.lighter,style.change_title.color=BlackOrWhite_light,style.title_icon_SVG.fill=color.dark):(style.title.backgroundColor="",style.change_title.color="",style.title_icon_SVG.fill=color.base),content_color_background?(style.content.backgroundColor=color.lighter,style.detail.color=BlackOrWhite_light):(style.content.backgroundColor="",style.detail.color="")):"simple_box"===type?(style.title.position="relative",title_color_border&&(style.title.borderColor=color.base),content_color_border&&(style.detail.borderColor=color.base),title_color_border&&content_color_border&&(style.title.borderColor="transparent",style.detail.borderColor="transparent",style.content.borderColor=color.base),title_color_background?content_color_background?(style.title.backgroundColor=color.dark,style.change_title.color=BlackOrWhite_dark,style.title_icon_SVG.fill="#000000"===BlackOrWhite_dark?"#ffffff":color.lighter):(style.title.backgroundColor=color.lighter,style.change_title.color=BlackOrWhite_light,style.title_icon_SVG.fill="#000000"===BlackOrWhite_light?color.dark:"#ffffff"):(style.title.backgroundColor="",style.change_title.color="",style.title_icon_SVG.fill=color.dark),content_color_background?(style.detail.backgroundColor=color.lighter,style.detail.color=BlackOrWhite_light):(style.detail.backgroundColor="",style.detail.color="")):"heading_icon"===type?(style.title.display="none",style.just_title.display="",style.just_title_before_icon.display="",style.just_title_before_icon.position="absolute",style.title_icon_SVG.width="36px",style.title_icon_SVG.height="36px",style.just_title.borderBottomStyle="none",style.just_title.margin="16px 0",style.just_title.padding="0",title_color_border&&(style.just_title_before_icon.borderColor=color.dark),content_color_border&&(style.content.borderColor=color.dark),title_color_background?(style.just_title_before_icon.backgroundColor=color.lighter,style.title_icon_SVG.fill=color.dark):style.title_icon_SVG.fill=color.dark,content_color_background?(style.content.backgroundColor=color.lighter,style.detail.color=BlackOrWhite_light,style.just_title.color=color.dark):(style.just_title.color=color.dark,style.detail.color="")):"side_icon"===type&&(style.content.display="flex",style.end_of_content.display="",style.title.display="none",style.detail.display="none",style.just_title_before_icon.display="",style.just_title_before_icon.alignItems="center",title_color_border&&content_color_border?style.content.borderColor=color.dark:title_color_border?style.just_title_before_icon.borderColor=color.dark:content_color_border&&(style.end_of_content.borderColor=color.dark),title_color_background?(style.just_title_before_icon.backgroundColor=color.base,style.title_icon_SVG.fill=color.darker):style.title_icon_SVG.fill=color.base,content_color_background?(style.end_of_content.backgroundColor=color.lighter,style.detail.color=BlackOrWhite_light,style.title.color=color.dark):(style.title.color=color.dark,style.detail.color="")),style}function PM_getColorObjectByColorValue(colors,colorValue){var temp;return Object.entries(colors).find(([id,data])=>data.color===colorValue)[1]}registerBlockType("point-maker/point-maker-block",{title:__("Point Maker","point-maker"),description:__("Make a frame that can be easily used for the main points.","point-maker"),icon:PointMakerIcon,category:"common",keywords:[_x("Point","keywords","point-maker"),_x("Maker","keywords","point-maker"),_x("Point Maker","keywords","point-maker"),_x("Point Maker","keywords2","point-maker"),_x("Point Maker","keywords3","point-maker"),_x("Point Maker","keywords4","point-maker")],example:{},attributes:{type:{type:"string",default:"simple_icon"},base_color:{type:"string",default:"#42c634"},content:{type:"string",default:""},content_type:{type:"string",default:"text"},title:{type:"string",default:""},title_icon:{type:"string",default:"info-circle-solid"},list_icon:{type:"string",default:"caret-right-solid"},title_color_background:{type:"boolean",default:!0},title_color_border:{type:"boolean",default:!0},content_color_background:{type:"boolean",default:!1},content_color_border:{type:"boolean",default:!0}},edit:function edit(_edit_ref){var attributes=_edit_ref.attributes,className=_edit_ref.className,setAttributes=_edit_ref.setAttributes,clientId=_edit_ref.clientId,type=attributes.type,base_color=attributes.base_color,content=attributes.content,content_type=attributes.content_type,title=attributes.title,title_icon=attributes.title_icon,list_icon=attributes.list_icon,title_color_background=attributes.title_color_background,title_color_border=attributes.title_color_border,content_color_background=attributes.content_color_background,content_color_border=attributes.content_color_border,ColorData=PM_getColorObjectByColorValue(point_maker_block_colors,base_color),style=point_maker_block_adjust_type(attributes,ColorData),RT_text="none",RT_list="none",RT_number="none",Display_list_icon="none";"text"===content_type?RT_text="":"list"===content_type?(RT_list="",Display_list_icon=""):"number"===content_type&&(RT_number="");var title_SVG_ICON="";"blank-icon"!==title_icon&&(title_SVG_ICON=el("svg",{className:"",style:{width:style.title_icon_SVG.width,height:style.title_icon_SVG.height,fill:style.title_icon_SVG.fill},viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px"},el("path",{d:point_maker_block_icons_path[title_icon].replace(/<path d="/g,"").replace(/"\/>/g,"")})));var list_SVG_ICON='<svg class="p_m_list_icon" width="16" height="16" fill="'+ColorData.base+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32">'+point_maker_block_icons_path[list_icon]+"</svg>";list_SVG_ICON="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(list_SVG_ICON)));var style_tag=document.createElement("style"),style_id="p_m_block_style";style_tag.id=style_id,document.getElementById(style_id)||document.head.appendChild(style_tag);var list_css=".editor-styles-wrapper  li.p_m_"+clientId+'{padding-left: 20px;background: url("'+list_SVG_ICON+'") left 0px top 7px no-repeat;background-size: 16px auto;}';document.getElementById(style_id).innerHTML=document.getElementById(style_id).innerHTML.replace(/'\.p_m_' + clientId + ' li{(.*?)}/g,"")+list_css;var RichText_P=el(RichText,{key:"p_m_editable_p",tagName:"p",multiline:!0,placeholder:__("message here","point-maker"),className:className,style:{display:RT_text},onChange:function onChangeContent(newContent){setAttributes({content:newContent})},value:content}),RichText_UL=el(RichText,{key:"p_m_editable_ul",tagName:"ul",multiline:"li",placeholder:__("message here","point-maker"),className:className+" p_m_"+clientId+" p_m_list",style:{display:RT_list},onChange:function onChangeContent(newContent){setAttributes({content:newContent})},value:content});function point_maker_get_icon_list(icon_type){if(point_maker_block_icons_path&&point_maker_block_type_icons){var children=point_maker_block_type_icons.map((function(val){if("list_icon"===icon_type)var active_icon=val.value!==list_icon?"":" active";else var active_icon=val.value!==title_icon?"":" active";return el("li",{id:val.value,key:"p_m_icon_list_li_"+icon_type+val.value,className:"p_m_block_icon_li"+active_icon+" p_m_flex p_m_ai_c p_m_jc_c",onClick:function onClick(){return setAttributes("list_icon"===icon_type?{list_icon:val.value}:{title_icon:val.value})}},el("svg",{className:"",style:{width:20,height:20,fill:"#000"},viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px"},el("path",{d:point_maker_block_icons_path[val.value].replace(/<path d="/g,"").replace(/"\/>/g,"")})))}));return el("ul",{id:icon_type,key:"p_m_icon_list_"+icon_type+clientId,className:"p_m_block_icon_ul p_m_flex p_m_wrap"},children)}}return el(Fragment,null,el(InspectorControls,null,el(PanelBody,{title:__("Preference","point-maker")},el(SelectControl,{label:__("Type","point-maker"),value:type,options:point_maker_block_types,onChange:function onChange(value){return setAttributes("heading_icon"===value?{type:value,content_color_background:!0,title_color_background:!0,content_color_border:!1,title_color_border:!1}:{type:value})}}),el("label",{htmlFor:"base_color"},__("Base Color","point-maker")),el(ColorPalette,{label:__("Base Color","point-maker"),id:"base_color",value:base_color,colors:PM_color_palette_List,disableCustomColors:!0,clearable:!1,onChange:function onChange(value){if(void 0!==value)return setAttributes({base_color:value})}})),el(PanelBody,{title:__("Title","point-maker")},el(TextControl,{label:__("Title","point-maker"),value:title,onChange:function onChange(value){return setAttributes({title:value})}}),el("label",{htmlFor:"title_icon"},__("Icon","point-maker")),point_maker_get_icon_list("title_icon"),el(PanelRow,{className:""},el("label",{htmlFor:"title_color_background"},__("Color the background","point-maker")),el(FormToggle,{title:__("Color the background","point-maker"),id:"title_color_background",checked:title_color_background,onChange:function onChange(){return setAttributes("heading_icon"===type?{content_color_background:!title_color_background,title_color_background:!title_color_background}:{title_color_background:!title_color_background})}})),el(PanelRow,{className:""},el("label",{htmlFor:"title_color_border"},__("Color the border","point-maker")),el(FormToggle,{title:__("Color the border","point-maker"),id:"title_color_border",checked:title_color_border,onChange:function onChange(){return setAttributes("heading_icon"===type?{content_color_border:!title_color_border,title_color_border:!title_color_border}:{title_color_border:!title_color_border})}}))),el(PanelBody,{title:__("Content","point-maker")},el(SelectControl,{label:__("Content type","point-maker"),value:content_type,options:point_maker_block_type_content,onChange:function onChange(value){return"text"===value?content=content.replace(/<li>/g,"<p>").replace(/<\/li>/g,"</p>"):"list"===value?content=content.replace(/<p>/g,"<li>").replace(/<\/p>/g,"</li>"):"number"===value&&(content=""),setAttributes({content:content,content_type:value})}}),el("div",{style:{display:Display_list_icon}},el("label",{htmlFor:"list_icon"},__("Icon","point-maker")),point_maker_get_icon_list("list_icon")),el(PanelRow,{className:""},el("label",{htmlFor:"content_color_background"},__("Color the background","point-maker")),el(FormToggle,{title:__("Color the background","point-maker"),id:"content_color_background",checked:content_color_background,onChange:function onChange(){return setAttributes("heading_icon"===type?{content_color_background:!content_color_background,title_color_background:!content_color_background}:{content_color_background:!content_color_background})}})),el(PanelRow,{className:""},el("label",{htmlFor:"content_color_border"},__("Color the border","point-maker")),el(FormToggle,{title:__("Color the border","point-maker"),id:"content_color_border",checked:content_color_border,onChange:function onChange(){return setAttributes("heading_icon"===type?{content_color_border:!content_color_border,title_color_border:!content_color_border}:{content_color_border:!content_color_border})}})))),el("div",{className:"p_m_wrap p_m_block_wrap p_m_"+type},el("div",{className:"p_m_content p_m_relative",style:{display:style.content.display,backgroundColor:style.content.backgroundColor,borderColor:style.content.borderColor}},el("div",{className:"p_m_just_title_before_icon p_m_title_icon",style:{display:style.just_title_before_icon.display,position:style.just_title_before_icon.position,backgroundColor:style.just_title_before_icon.backgroundColor,borderColor:style.just_title_before_icon.borderColor,alignItems:style.just_title_before_icon.alignItems,color:style.just_title_before_icon.color}},title_SVG_ICON),el("div",{className:"p_m_just_title p_m_title",style:{display:style.just_title.display,backgroundColor:style.just_title.backgroundColor,borderColor:style.just_title.borderColor,borderBottomStyle:style.just_title.borderBottomStyle,position:style.just_title.position,color:style.just_title.color,margin:style.just_title.margin,padding:style.just_title.padding}},title),el("div",{className:"p_m_title  p_m_absolute p_m_flex p_m_ai_c p_m_jc_c",style:{display:style.title.display,backgroundColor:style.title.backgroundColor,borderColor:style.title.borderColor,borderBottomStyle:style.title.borderBottomStyle,position:style.title.position,color:style.title.color}},title_SVG_ICON,el("div",{className:"p_m_change_title",style:{color:style.change_title.color,display:style.change_title.display}},title)),el("div",{className:"p_m_detail p_m_"+content_type,style:{position:"relative",display:style.detail.display,backgroundColor:style.detail.backgroundColor,borderColor:style.detail.borderColor,color:style.detail.color}},RichText_P,RichText_UL),el("div",{className:"p_m_end_of_content",style:{display:style.end_of_content.display,position:style.end_of_content.position,backgroundColor:style.end_of_content.backgroundColor,borderColor:style.end_of_content.borderColor,color:style.end_of_content.color}},el("div",{className:"p_m_title p_m_flex p_m_ai_c p_m_jc_c",style:{color:style.title.color}},el("div",{className:"p_m_change_title",style:{}},title)),el("div",{className:"p_m_detail p_m_"+content_type,style:{position:"relative",color:style.detail.color}},RichText_P,RichText_UL)))))},save:function save(_save_ref){var attributes=_save_ref.attributes,className=_save_ref.className,setAttributes=_save_ref.setAttributes,clientId=_save_ref.clientId,type=attributes.type,base_color=attributes.base_color,content=attributes.content,content_type=attributes.content_type,title=attributes.title,title_icon=attributes.title_icon,list_icon=attributes.list_icon,title_color_background=attributes.title_color_background,title_color_border=attributes.title_color_border,content_color_background=attributes.content_color_background,content_color_border=attributes.content_color_border,title_atts="",content_atts="",temp="",ColorData,tag_name,class_name;base_color=PM_getColorObjectByColorValue(point_maker_block_colors,base_color).slug,""!==title&&(title_atts+=' title="'+title+'"'),""!==title_icon&&(title_atts+=' title_icon="'+title_icon+'"'),title_atts+=title_color_background?' title_color_background="true"':' title_color_background="false"',content_atts+=' content_type="'+content_type+'"',"list"===content_type&&(content_atts+=' list_icon="'+list_icon+'"'),content_atts+=content_color_background?' content_color_background="true"':' content_color_background="false"',"text"===content_type?tag_name="":"list"===content_type?(tag_name="ul",class_name=" p_m_block_list"):"number"===content_type&&(tag_name="ol",class_name=" p_m_block_list");var shortcode_front,shortcode_end="[/point_maker]";return el("div",{},'[point_maker type="'+type+'" base_color="'+base_color+'"'+(title_atts+=title_color_border?' title_color_border="true"':' title_color_border="false"')+(content_atts+=content_color_border?' content_color_border="true"':' content_color_border="false"')+' block_editor="true"]',el(RichText.Content,{className:"p_m_block_editor"+class_name,value:content,tagName:tag_name}),shortcode_end)}});