!function(e){"use strict";var t;(t=function(t,n){var s=this;s._slider=e(t),s.banItems,s.navItems,s.navWrap,s.navBgWrap,s.prevOneBtn,s.nextOneBtn,s.prevPageBtn,s.nextPageBtn,s.length,s.curIndex,s.curPage,s.pages,s.navItemWidth,s.opts,s.timer,s.timer2,s.offset,s.initialed=!1,s.sliding=!1,s.slideQueue=[],s.slideQueueLock=!1,s.init(n),s.run()}).prototype={constructor:t,init:function(t){var n=this;n.initialed=n._slider.attr("initialed"),n.initialed||(n.opts=e.extend(e.fn.slider.defaults,t),n.setCurIndex(n.getCurIndex()),n.banItems=n._slider.find("."+n.opts.banItemClass),n.navItems=n._slider.find("."+n.opts.navItemClass),n.navWrap=n._slider.find("."+n.opts.navWrapClass),n.navBgWrap=n._slider.find("."+n.opts.navBgWrapClass),n.setLength(n.getLength()),n.setNavItemWidth(n.getNavItemWidth()),n.banItems.css("z-index","1").eq(n.getCurIndex()).css("z-index","0"),n.navWrap.css("z-index","1"),n.navBgWrap.css("z-index","1"),n.navItems.parent().css("position","relative").css("width",n.navItems.length*n.getNavItemWidth()-parseInt(n.navItems.eq(0).css("marginRight"))).css({height:n.navItems.eq(0).height()}),n.navWrap.css({width:n.navItems.parent().width,height:n.navItems.eq(0).height()}),n.navItems.css("position","absolute"),n.navItems.each((function(){e(this).css({top:0,left:e(this).index()*n.getNavItemWidth()})})),n.navItems.eq(n.navItems.length-1).css("margin-right",0),n.prevOneBtn=n._slider.find("."+n.opts.prevOneBtnClass),n.nextOneBtn=n._slider.find("."+n.opts.nextOneBtnClass),n.prevPageBtn=n._slider.find("."+n.opts.prevPageBtnClass),n.nextPageBtn=n._slider.find("."+n.opts.nextPageBtnClass),n.setPages(n.setPages()),n.setCurPage(n.getCurPage()),n.setOffset(n.getOffset()),n.banItems.hide(),n.banItems.eq(n.getCurIndex()).show(),n.navItems.removeClass(n.opts.curClass),n.navItems.eq(n.getCurIndex()).addClass(n.opts.curClass),"hover"==n.opts.event&&n.navItems.bind("mouseover",(function(){n.stop();var t=e(this).index();n.slideQueueAdd(t,!1,n.getSlidTimeout()).slideQueueExec()})),n.navItems.bind("click",(function(){n.stop();var t=e(this).index();n.slideQueueAdd(t,!1,n.getSlidTimeout()).slideQueueExec()})).bind("mouseleave",(function(){n.start()})),n.prevOneBtn.mouseenter((function(){n.stop()})).mouseleave((function(){n.start()})).click((function(){n.slideQueueAdd(n.getPrevIndex(),!1,n.getSlidTimeout()).slideQueueExec()})),n.nextOneBtn.mouseenter((function(){n.stop()})).mouseleave((function(){n.start()})).click((function(){n.slideQueueAdd(n.getNextIndex(),!1,n.getSlidTimeout()).slideQueueExec()})),n.prevPageBtn.mouseenter((function(){n.stop()})).mouseleave((function(){n.start()})).click((function(){n.prevPage()})),n.nextPageBtn.mouseenter((function(){n.stop()})).mouseleave((function(){n.start()})).click((function(){n.nextPage()})),n._slider.attr("initialed","true"),n.initialed=!0)},setLength:function(e){var t=this;return t.length=e,t.length},getLength:function(){var e=this;return e.initialed?e.length:e._slider.find("."+e.opts.banItemClass).length},setCurIndex:function(e){var t=this;return t.curIndex=e,t.curIndex},getCurIndex:function(){var e=this,t=void 0===e.curIndex?0:parseInt(e.curIndex);return t=isNaN(t)?0:t},getPrevIndex:function(){var e=this,t=e.getCurIndex(),n=e.getLength();return t<1?n-1:t-1},getNextIndex:function(){var e=this,t=e.getCurIndex();return t>=e.getLength()-1?0:t+1},setNavItemWidth:function(e){var t=this;return t.navItemWidth=e,t.navItemWidth},getNavItemWidth:function(){var t=this;if(t.initialed)return t.navItemWidth;t.navItems||(t.navItems=t._slider.find("."+t.opts.navItemClass));var n=e(t.navItems).eq(0).width(),s=parseFloat(e(t.navItems).eq(0).css("margin-left"));s=isNaN(s)?0:s;var a=parseFloat(e(t.navItems).eq(0).css("margin-right"));a=isNaN(a)?0:a;var i=parseFloat(e(t.navItems).eq(0).css("padding-left"));i=isNaN(i)?0:i;var r=parseFloat(e(t.navItems).eq(0).css("padding-right"));r=isNaN(r)?0:r;var u=parseFloat(e(t.navItems).eq(0).css("border-left-width"));u=isNaN(u)?0:u;var d=parseFloat(e(t.navItems).eq(0).css("border-right-width"));return n=n+s+a+i+r+u+(d=isNaN(d)?0:d)},getOffset:function(){var e=this,t=void 0===e.offset?0:parseInt(e.offset);return t=isNaN(t)?0:t},setOffset:function(e){var t=this;return t.offset=e,t.offset},getPages:function(){var e=this;return e.initialed?e.pages:Math.ceil(e.getLength()/e.opts.perpage)},setPages:function(e){var t=this;return t.pages=e,t.pages},setCurPage:function(e){var t=this;return t.curPage=e,t.curPage},getCurPage:function(){var e=this,t=void 0===e.curPage?1:parseInt(e.curPage);return t=isNaN(t)?1:t},getNextPage:function(){var e=this,t=e.getCurPage();return t<e.getPages()?t+1:1},getPrevPage:function(){var e=this,t=e.getCurPage();return t>1?t-1:e.getPages()},page:function(t,n){var s=this,a=(n=void 0!==n&&!!n,s.getPages()),i=s.getCurPage(),r=s.getNavItemWidth(),u=s.getOffset(),d=0;if(t==i||t<1||t>a||a<2)return!1;d=-1*(t-i)*s.opts.perpage*r,u+=d;var g=0,o=-1*(s.getLength()-s.opts.perpage)*r;if(u=u>g?g:u<o?o:u,e(s.navItems).each((function(){e(this).css("left",u+e(this).index()*s.getNavItemWidth())})),!n){var v=0;v=parseInt(-1*u/r),(t>i&&v<=s.getCurIndex()||t<i&&s.getCurIndex()-v<opts.perpage)&&(v=s.getCurIndex()),s.slideQueueAdd(v,!0,s.getSlidTimeout()).slideQueueExec()}s.setOffset(u),s.setCurPage(t)},nextPage:function(){var e=this;e.page(e.getNextPage())},prevPage:function(){var e=this;e.page(e.getPrevPage())},getIndexInPage:function(e){var t=this,n=(e=void 0===e?t.getCurIndex():e,0),s=0,a=0;return s=t.getOffset()+t.getCurIndex()*t.getNavItemWidth(),n=e>=(a=t.getCurIndex()-Math.ceil(s/t.getNavItemWidth()))&&e<a+t.opts.perpage?t.getCurPage():e<a?(n=t.getCurPage()-Math.ceil((a-e)/t.opts.perpage))<1?1:n:(n=t.getCurPage()+Math.ceil((e-a-t.opts.perpage+1)/t.opts.perpage))>t.getPages()?t.getPages():n},getSlidTimeout:function(){return"fade"==this.opts.effect?450:0},slid:function(e,t){var n=this,s=(t=void 0!==t&&!!t,e=void 0===e||e>=n.length||e<0?-1:e,n.getCurIndex()),a=n.getIndexInPage(s);if(n.sliding)return!1;n.sliding=!0;var i=0;if((i=e>=0?e:n.getNextIndex())==s)return n.sliding=!1,!1;var r=n.getIndexInPage(i);a==r||t||n.page(r,!0),n.navItems.removeClass(n.opts.curClass),n.navItems.eq(i).addClass(n.opts.curClass),"fade"==n.opts.effect?(n.banItems.eq(s).css("z-index",1),n.banItems.eq(i).css("z-index",0),n.banItems.eq(i).show(),n.banItems.eq(s).fadeOut(400,(function(){n.sliding=!1}))):(n.banItems.hide(),n.banItems.eq(i).show(0,(function(){n.sliding=!1}))),n.setCurIndex(i)},slideQueueExec:function(e,t){var n=this;if(n.slideQueueLock)return!1;n.slideQueueLock=!0;var s=n.slideQueue.shift();return s?(n.slid(s[0],s[1]),setTimeout((function(){n.slideQueueLock=!1,n.slideQueueExec(e,t)}),s[2])):(n.slideQueueLock=!1,"function"==typeof e&&(t=void 0===t?0:t,setTimeout((function(){e()}),t))),n},slideQueueAdd:function(e,t,n){var s=this;return s.slideQueue.push([e,t,n]),s},start:function(){var e=this;try{clearInterval(e.timer)}catch(e){}e.opts.speed>0&&(e.timer=setInterval((function(){e.slideQueueAdd(-1,!1,0).slideQueueExec()}),e.opts.speed))},stop:function(){var e=this;try{clearInterval(e.timer)}catch(e){}},run:function(){this.start()}},e.fn.slider=function(n){var s=Array.apply(null,arguments),a=[];switch(s.shift(),this.each((function(){var i,r=e(this),u=r.data("slider"),d="object"==typeof n&&n;u||(i=e.extend(e.fn.slider.defaults,d,r.data()),u=new t(this,i),r.data("slider",u)),"string"==typeof n&&a.push(u[n].apply(u,s))})),a.length){case 0:return this;case 1:return a[0];default:return a}},e.fn.slider.defaults={banItemClass:"banItem",navItemClass:"navItem",navWrapClass:"navWrap",navBgWrapClass:"navBg",prevOneBtnClass:"prevOneBtn",nextOneBtnClass:"nextOneBtn",prevPageBtnClass:"prevPageBtn",nextPageBtnClass:"nextPageBtn",perpage:4,curClass:"curr",event:"hover",effect:"none",speed:5e3},e.fn.slider.Constructor=t}(window.jQuery);