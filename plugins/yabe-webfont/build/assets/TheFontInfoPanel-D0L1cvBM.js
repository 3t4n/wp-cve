import{a as xe,S as Le,c as Ce,_ as Z}from"./sortBy-BqMZ_GtY.js";import{S as J}from"./_Uint8Array-Dz8rZXn2.js";import{e as F,m as R,r as ae,g as ve,o as M,c as $,b as u,a as w,w as ee,s as P,u as U,t as _,z as Ne,h as D,v as Oe,j as ue,y as Re,d as H,k as z,N as Fe,I as Te,q as De,K as de,U as fe,F as Ve,i as je}from"./app-BKc7mk60.js";import{u as Pe,_ as Be}from"./vue-contenteditable.es-C4MG-L77.js";import{u as ze}from"./notifier-BZ1LGfDv.js";import{a as Ke}from"./index-DUN6yPFg.js";function We(t,e,s,n){for(var i=t.length,r=s+(n?1:-1);n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function Ue(t){return t!==t}function He(t,e,s){for(var n=s-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Ye(t,e,s){return e===e?He(t,e,s):We(t,Ue,s)}function Ge(t,e){var s=t==null?0:t.length;return!!s&&Ye(t,e,0)>-1}function Xe(t,e,s){for(var n=-1,i=t==null?0:t.length;++n<i;)if(s(e,t[n]))return!0;return!1}function Qe(){}var Ze=1/0,Je=J&&1/xe(new J([,-0]))[1]==Ze?function(t){return new J(t)}:Qe,qe=200;function et(t,e,s){var n=-1,i=Ge,r=t.length,o=!0,a=[],c=a;if(s)o=!1,i=Xe;else if(r>=qe){var h=e?null:Je(t);if(h)return xe(h);o=!1,i=Ce,c=new Le}else c=e?[]:a;e:for(;++n<r;){var l=t[n],d=e?e(l):l;if(l=s||l!==0?l:0,o&&d===d){for(var g=c.length;g--;)if(c[g]===d)continue e;e&&c.push(d),a.push(l)}else i(c,d,s)||(c!==a&&c.push(d),a.push(l))}return a}function on(t){return t&&t.length?et(t):[]}const tt={class:"font-item__header flex align-items:stretch {bl:1;br:0}>*+* {by:0}>*+* {b:dashed}>*+* {b:gray-30/.5}>*+*"},st={class:"flex p:12 align-items:center"},nt=["title"],it=["title"],rt=["title"],ot={key:0,class:"font-item__body {bx:0}>*+* {bt:1;bb:0}>*+* {b:solid}>*+* {b:gray-30/.5}>*+*"},at={class:"font-item__body-meta grid grid-cols:12 align-items:stretch {bl:1;br:0}>*+* {by:0}>*+* {b:dashed}>*+* {b:gray-30/.5}>*+*"},ct={class:"flex grid-col-span:2 flex:col gap:6 p:12"},lt=["for"],ht=["id"],ut=Fe('<option></option><option value="auto">auto</option><option value="block">block</option><option value="swap">swap</option><option value="fallback">fallback</option><option value="optional">optional</option>',6),dt=[ut],ft={class:"flex grid-col-span:4 flex:col gap:6 p:12"},gt=["for"],pt=["id"],mt={class:"flex grid-col-span:4 flex:col gap:6 p:12"},bt=["for"],yt=["id"],xt={class:"flex grid-col-span:2 flex:col gap:6 p:12"},vt=["for"],_t=["for"],wt=["id"],an={__name:"TheFontFace",props:{item:{type:Object,required:!0},preview:{type:Object,required:!0},isVariable:{type:Boolean},fontData:{type:Object}},setup(t){const e=t,s=F(!1),n=F(null),i=F(null),r=F(null);function o(){return{fontFamily:`'${e.preview.fontFamily}'`,fontSize:`${e.preview.fontSize}px`,fontWeight:e.item.weight!==0?e.item.weight:e.preview.weight.current,fontStyle:e.item.style,fontStretch:e.preview.width.current!==0?`${e.preview.width.current}%`:"100%"}}const a=R(()=>{switch(e.item.weight!==0?e.item.weight:Math.round(e.preview.weight.current/100)*100){case 100:return"Thin";case 200:return"Extra Light";case 300:return"Light";case 500:return"Medium";case 600:return"Semi Bold";case 700:return"Bold";case 800:return"Extra Bold";case 900:return"Black";case 400:default:return"Regular"}}),c=R(()=>{var h;if(e.isVariable){let l=(h=e.fontData)==null?void 0:h.axes.find(d=>d.tag==="slnt");if(l!==void 0)return`oblique ${l.max*-1}deg ${l.min*-1}deg`}return e.item.style});return(h,l)=>{const d=ae("font-awesome-icon"),g=ve("ripple");return M(),$("div",{class:P([{"b:green-60":t.item.isEnabled},"font-item rel bg:white b:1|solid|gray-30/.5 {bt:1;bb:0}>*+* {bx:0}>*+* {b:solid}>*+* {b:gray-30/.5}>*+*"])},[u("div",tt,[u("div",st,[w(U(Pe),{modelValue:t.item.isEnabled,"onUpdate:modelValue":l[0]||(l[0]=p=>t.item.isEnabled=p),class:P([[t.item.isEnabled?"bg:sky-60":"opacity:.5 bg:gray-85"],"rel inline-flex p:0 h:24 w:44 flex-shrink:0 cursor:pointer rounded b:2 b:transparent transition-property:color,background-color,border-color,text-decoration-color,fill,stroke transition-duration:200 transition-timing-function:cubic-bezier(0.4,0,0.2,1) box-shadow:rgb(255,255,255)|0|0|0|2,rgb(14,165,233)|0|0|0|4,rgba(0,0,0,0)|0|0|0|0:focus outline:2|solid|transparent:focus"])},{default:ee(()=>[u("span",{class:P([[t.item.isEnabled?"translateX(20)":"translateX(0)"],"pointer-events:none rel inline-block font:12 h:20 w:20 rounded bg:white transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter transition-duration:200 transition-timing-function:cubic-bezier(0.4,0,0.2,1) box-shadow:rgb(255,255,255)|0|0|0|0,rgba(59,130,246,0.5)|0|0|0|0,rgba(0,0,0,0.1)|0|1|3|0,rgba(0,0,0,0.1)|0|1|2|-1"])},[u("span",{"aria-hidden":"true",class:P([[t.item.isEnabled?"opacity:0 transition-timing-function:ease-out transition-duration:100":"opacity:1 transition-timing-function:ease-in transition-duration:200"],"abs inset:0 flex h:full w:full align-items:center justify-content:center tw-transition-opacity"])},[w(d,{icon:["fas","xmark"],class:"fg:gray-60"})],2),u("span",{"aria-hidden":"true",class:P([[t.item.isEnabled?"opacity:1 transition-timing-function:ease-in transition-duration:200":"opacity:0 transition-timing-function:ease-out transition-duration:100"],"abs inset:0 flex h:full w:full align-items:center justify-content:center tw-transition-opacity"])},[w(d,{icon:["fas","check"],class:"fg:sky-60"})],2)],2)]),_:1},8,["modelValue","class"])]),u("div",{ref_key:"weightStyleTooltip",ref:n,class:"font-item__weight flex-grow:0 flex-shrink:0 flex p:12 align-items:center {ml:8}>*+*"},[t.item.weight===0?(M(),$("span",{key:0,title:a.value,class:"opacity:.7 font:14 lh:20px fg:#a7aaad px:20 py:4 r:2 b:1|solid|#dcdcde bg:#f6f7f7"},_(t.preview.weight.current),9,nt)):(M(),$("span",{key:1,title:a.value,class:"opacity:.7 font:14 lh:20px fg:#a7aaad px:20 py:4 r:2 b:1|solid|#dcdcde bg:#f6f7f7"},_(t.item.weight),9,it)),u("span",{class:P([{italic:c.value==="italic"},"opacity:.7 font:14 lh:20px capitalize text:left fg:#a7aaad white-space:nowrap text:clip overflow:hidden px:8 py:4 w-12 r:2 b:1|solid|#dcdcde bg:#f6f7f7"]),title:c.value},_(c.value),11,rt),w(Z,{"target-ref":n.value,content:"Font weight & style"},null,8,["target-ref"])],512),u("div",{ref_key:"previewTextTooltip",ref:i,class:"flex:1|1|0% flex p:12 align-items:center"},[w(U(Be),{tag:"div",modelValue:t.preview.text,"onUpdate:modelValue":l[1]||(l[1]=p=>t.preview.text=p),style:Ne(o()),class:"preview-text lh:1.25"},null,8,["modelValue","style"]),w(Z,{"target-ref":i.value,content:h.__("Editable preview text","yabe-webfont")},null,8,["target-ref","content"])],512),D((M(),$("button",{type:"button",ref_key:"editTooltip",ref:r,onClick:l[2]||(l[2]=p=>s.value=!s.value),class:"button flex align-items:center px:16 py:0.5 focus:shadow-none cursor:pointer bg:inherit b:none"},[w(d,{icon:["fas","pen-to-square"],class:"h:20 w:20 fg:blue-80 fg:blue-60:hover fill:current"}),w(Z,{"target-ref":r.value,content:h.__("Edit","yabe-webfont")},null,8,["target-ref","content"])])),[[g]])]),s.value?(M(),$("div",ot,[u("div",at,[u("div",ct,[u("label",{for:`display-${t.item.id}`,class:"font:14 lh:20px font:semibold"},"Font Display",8,lt),D(u("select",{name:"display",id:`display-${t.item.id}`,"onUpdate:modelValue":l[3]||(l[3]=p=>t.item.display=p),class:"capitalize {capitalize}_option"},dt,8,ht),[[Oe,t.item.display]])]),u("div",ft,[u("label",{for:`comment-${t.item.id}`,class:"font:14 lh:20px font:semibold"},"Comment",8,gt),D(u("input",{type:"text",name:"comment",id:`comment-${t.item.id}`,"onUpdate:modelValue":l[4]||(l[4]=p=>t.item.comment=p),placeholder:""},null,8,pt),[[ue,t.item.comment]])]),u("div",mt,[u("label",{for:`selector-${t.item.id}`,class:"font:14 lh:20px font:semibold"},"CSS Selector",8,bt),D(u("input",{type:"text",name:"selector",id:`selector-${t.item.id}`,"onUpdate:modelValue":l[5]||(l[5]=p=>t.item.selector=p),placeholder:"h1, h2, .poetry, .haiku, p, span, #lyric, #description",autocomplete:"off"},null,8,yt),[[ue,t.item.selector]])]),u("div",xt,[u("label",{for:`preload-${t.item.id}`,class:"font:14 lh:20px font:semibold"},"Preload",8,vt),u("label",{for:`preload-${t.item.id}`,class:"font:14 lh:20px"},[D(u("input",{type:"checkbox",name:"preload",id:`preload-${t.item.id}`,"onUpdate:modelValue":l[6]||(l[6]=p=>t.item.preload=p)},null,8,wt),[[Re,t.item.preload]]),H(" Preload files ")],8,_t)])])])):z("",!0)],2)}}};function C(t){return Array.isArray?Array.isArray(t):Me(t)==="[object Array]"}const Mt=1/0;function St(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Mt?"-0":e}function $t(t){return t==null?"":St(t)}function L(t){return typeof t=="string"}function _e(t){return typeof t=="number"}function Et(t){return t===!0||t===!1||kt(t)&&Me(t)=="[object Boolean]"}function we(t){return typeof t=="object"}function kt(t){return we(t)&&t!==null}function E(t){return t!=null}function q(t){return!t.trim().length}function Me(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const It="Incorrect 'index' type",At=t=>`Invalid value for key ${t}`,Lt=t=>`Pattern length exceeds max of ${t}.`,Ct=t=>`Missing ${t} property in key`,Nt=t=>`Property 'weight' in key '${t}' must be a positive integer`,ge=Object.prototype.hasOwnProperty;class Ot{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(n=>{let i=Se(n);s+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,s+=i.weight}),this._keys.forEach(n=>{n.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Se(t){let e=null,s=null,n=null,i=1,r=null;if(L(t)||C(t))n=t,e=pe(t),s=te(t);else{if(!ge.call(t,"name"))throw new Error(Ct("name"));const o=t.name;if(n=o,ge.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Nt(o));e=pe(o),s=te(o),r=t.getFn}return{path:e,id:s,weight:i,src:n,getFn:r}}function pe(t){return C(t)?t:t.split(".")}function te(t){return C(t)?t.join("."):t}function Rt(t,e){let s=[],n=!1;const i=(r,o,a)=>{if(E(r))if(!o[a])s.push(r);else{let c=o[a];const h=r[c];if(!E(h))return;if(a===o.length-1&&(L(h)||_e(h)||Et(h)))s.push($t(h));else if(C(h)){n=!0;for(let l=0,d=h.length;l<d;l+=1)i(h[l],o,a+1)}else o.length&&i(h,o,a+1)}};return i(t,L(e)?e.split("."):e,0),n?s:s[0]}const Ft={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Tt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Dt={location:0,threshold:.6,distance:100},Vt={useExtendedSearch:!1,getFn:Rt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var f={...Tt,...Ft,...Dt,...Vt};const jt=/[^ ]+/g;function Pt(t=1,e=3){const s=new Map,n=Math.pow(10,e);return{get(i){const r=i.match(jt).length;if(s.has(r))return s.get(r);const o=1/Math.pow(r,.5*t),a=parseFloat(Math.round(o*n)/n);return s.set(r,a),a},clear(){s.clear()}}}class ce{constructor({getFn:e=f.getFn,fieldNormWeight:s=f.fieldNormWeight}={}){this.norm=Pt(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,n)=>{this._keysMap[s.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,L(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();L(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,n=this.size();s<n;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!E(e)||q(e))return;let n={v:e,i:s,n:this.norm.get(e)};this.records.push(n)}_addObject(e,s){let n={i:s,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(E(o)){if(C(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:h,value:l}=c.pop();if(E(l))if(L(l)&&!q(l)){let d={v:l,i:h,n:this.norm.get(l)};a.push(d)}else C(l)&&l.forEach((d,g)=>{c.push({nestedArrIndex:g,value:d})})}n.$[r]=a}else if(L(o)&&!q(o)){let a={v:o,n:this.norm.get(o)};n.$[r]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function $e(t,e,{getFn:s=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){const i=new ce({getFn:s,fieldNormWeight:n});return i.setKeys(t.map(Se)),i.setSources(e),i.create(),i}function Bt(t,{getFn:e=f.getFn,fieldNormWeight:s=f.fieldNormWeight}={}){const{keys:n,records:i}=t,r=new ce({getFn:e,fieldNormWeight:s});return r.setKeys(n),r.setIndexRecords(i),r}function W(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:i=f.distance,ignoreLocation:r=f.ignoreLocation}={}){const o=e/t.length;if(r)return o;const a=Math.abs(n-s);return i?o+a/i:a?1:o}function zt(t=[],e=f.minMatchCharLength){let s=[],n=-1,i=-1,r=0;for(let o=t.length;r<o;r+=1){let a=t[r];a&&n===-1?n=r:!a&&n!==-1&&(i=r-1,i-n+1>=e&&s.push([n,i]),n=-1)}return t[r-1]&&r-n>=e&&s.push([n,r-1]),s}const V=32;function Kt(t,e,s,{location:n=f.location,distance:i=f.distance,threshold:r=f.threshold,findAllMatches:o=f.findAllMatches,minMatchCharLength:a=f.minMatchCharLength,includeMatches:c=f.includeMatches,ignoreLocation:h=f.ignoreLocation}={}){if(e.length>V)throw new Error(Lt(V));const l=e.length,d=t.length,g=Math.max(0,Math.min(n,d));let p=r,y=g;const x=a>1||c,m=x?Array(d):[];let b;for(;(b=t.indexOf(e,y))>-1;){let k=W(e,{currentLocation:b,expectedLocation:g,distance:i,ignoreLocation:h});if(p=Math.min(k,p),y=b+l,x){let N=0;for(;N<l;)m[b+N]=1,N+=1}}y=-1;let A=[],v=1,S=l+d;const G=1<<l-1;for(let k=0;k<l;k+=1){let N=0,O=S;for(;N<O;)W(e,{errors:k,currentLocation:g+O,expectedLocation:g,distance:i,ignoreLocation:h})<=p?N=O:S=O,O=Math.floor((S-N)/2+N);S=O;let le=Math.max(1,g-O+1),Q=o?d:Math.min(g+O,d)+l,j=Array(Q+2);j[Q+1]=(1<<k)-1;for(let I=Q;I>=le;I-=1){let K=I-1,he=s[t.charAt(K)];if(x&&(m[K]=+!!he),j[I]=(j[I+1]<<1|1)&he,k&&(j[I]|=(A[I+1]|A[I])<<1|1|A[I+1]),j[I]&G&&(v=W(e,{errors:k,currentLocation:K,expectedLocation:g,distance:i,ignoreLocation:h}),v<=p)){if(p=v,y=K,y<=g)break;le=Math.max(1,2*g-y)}}if(W(e,{errors:k+1,currentLocation:g,expectedLocation:g,distance:i,ignoreLocation:h})>p)break;A=j}const X={isMatch:y>=0,score:Math.max(.001,v)};if(x){const k=zt(m,a);k.length?c&&(X.indices=k):X.isMatch=!1}return X}function Wt(t){let e={};for(let s=0,n=t.length;s<n;s+=1){const i=t.charAt(s);e[i]=(e[i]||0)|1<<n-s-1}return e}class Ee{constructor(e,{location:s=f.location,threshold:n=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:a=f.minMatchCharLength,isCaseSensitive:c=f.isCaseSensitive,ignoreLocation:h=f.ignoreLocation}={}){if(this.options={location:s,threshold:n,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:h},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(g,p)=>{this.chunks.push({pattern:g,alphabet:Wt(g),startIndex:p})},d=this.pattern.length;if(d>V){let g=0;const p=d%V,y=d-p;for(;g<y;)l(this.pattern.substr(g,V),g),g+=V;if(p){const x=d-V;l(this.pattern.substr(x),x)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,includeMatches:n}=this.options;if(s||(e=e.toLowerCase()),this.pattern===e){let y={isMatch:!0,score:0};return n&&(y.indices=[[0,e.length-1]]),y}const{location:i,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:c,ignoreLocation:h}=this.options;let l=[],d=0,g=!1;this.chunks.forEach(({pattern:y,alphabet:x,startIndex:m})=>{const{isMatch:b,score:A,indices:v}=Kt(e,y,x,{location:i+m,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:h});b&&(g=!0),d+=A,b&&v&&(l=[...l,...v])});let p={isMatch:g,score:g?d/this.chunks.length:1};return g&&n&&(p.indices=l),p}}class T{constructor(e){this.pattern=e}static isMultiMatch(e){return me(e,this.multiRegex)}static isSingleMatch(e){return me(e,this.singleRegex)}search(){}}function me(t,e){const s=t.match(e);return s?s[1]:null}class Ut extends T{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Ht extends T{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Yt extends T{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Gt extends T{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Xt extends T{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Qt extends T{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class ke extends T{constructor(e,{location:s=f.location,threshold:n=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:a=f.minMatchCharLength,isCaseSensitive:c=f.isCaseSensitive,ignoreLocation:h=f.ignoreLocation}={}){super(e),this._bitapSearch=new Ee(e,{location:s,threshold:n,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ie extends T{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,n;const i=[],r=this.pattern.length;for(;(n=e.indexOf(this.pattern,s))>-1;)s=n+r,i.push([n,s-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const se=[Ut,Ie,Yt,Gt,Qt,Xt,Ht,ke],be=se.length,Zt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Jt="|";function qt(t,e={}){return t.split(Jt).map(s=>{let n=s.trim().split(Zt).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=n.length;r<o;r+=1){const a=n[r];let c=!1,h=-1;for(;!c&&++h<be;){const l=se[h];let d=l.isMultiMatch(a);d&&(i.push(new l(d,e)),c=!0)}if(!c)for(h=-1;++h<be;){const l=se[h];let d=l.isSingleMatch(a);if(d){i.push(new l(d,e));break}}}return i})}const es=new Set([ke.type,Ie.type]);class ts{constructor(e,{isCaseSensitive:s=f.isCaseSensitive,includeMatches:n=f.includeMatches,minMatchCharLength:i=f.minMatchCharLength,ignoreLocation:r=f.ignoreLocation,findAllMatches:o=f.findAllMatches,location:a=f.location,threshold:c=f.threshold,distance:h=f.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:a,threshold:c,distance:h},this.pattern=s?e:e.toLowerCase(),this.query=qt(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let r=0,o=[],a=0;for(let c=0,h=s.length;c<h;c+=1){const l=s[c];o.length=0,r=0;for(let d=0,g=l.length;d<g;d+=1){const p=l[d],{isMatch:y,indices:x,score:m}=p.search(e);if(y){if(r+=1,a+=m,n){const b=p.constructor.type;es.has(b)?o=[...o,...x]:o.push(x)}}else{a=0,r=0,o.length=0;break}}if(r){let d={isMatch:!0,score:a/r};return n&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const ne=[];function ss(...t){ne.push(...t)}function ie(t,e){for(let s=0,n=ne.length;s<n;s+=1){let i=ne[s];if(i.condition(t,e))return new i(t,e)}return new Ee(t,e)}const Y={AND:"$and",OR:"$or"},re={PATH:"$path",PATTERN:"$val"},oe=t=>!!(t[Y.AND]||t[Y.OR]),ns=t=>!!t[re.PATH],is=t=>!C(t)&&we(t)&&!oe(t),ye=t=>({[Y.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ae(t,e,{auto:s=!0}={}){const n=i=>{let r=Object.keys(i);const o=ns(i);if(!o&&r.length>1&&!oe(i))return n(ye(i));if(is(i)){const c=o?i[re.PATH]:r[0],h=o?i[re.PATTERN]:i[c];if(!L(h))throw new Error(At(c));const l={keyId:te(c),pattern:h};return s&&(l.searcher=ie(h,e)),l}let a={children:[],operator:r[0]};return r.forEach(c=>{const h=i[c];C(h)&&h.forEach(l=>{a.children.push(n(l))})}),a};return oe(t)||(t=ye(t)),n(t)}function rs(t,{ignoreFieldNorm:e=f.ignoreFieldNorm}){t.forEach(s=>{let n=1;s.matches.forEach(({key:i,norm:r,score:o})=>{const a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),s.score=n})}function os(t,e){const s=t.matches;e.matches=[],E(s)&&s.forEach(n=>{if(!E(n.indices)||!n.indices.length)return;const{indices:i,value:r}=n;let o={indices:i,value:r};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function as(t,e){e.score=t.score}function cs(t,e,{includeMatches:s=f.includeMatches,includeScore:n=f.includeScore}={}){const i=[];return s&&i.push(os),n&&i.push(as),t.map(r=>{const{idx:o}=r,a={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(r,a)}),a})}class B{constructor(e,s={},n){this.options={...f,...s},this.options.useExtendedSearch,this._keyStore=new Ot(this.options.keys),this.setCollection(e,n)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof ce))throw new Error(It);this._myIndex=s||$e(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){E(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let n=0,i=this._docs.length;n<i;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,i-=1,s.push(r))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let c=L(e)?L(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return rs(c,{ignoreFieldNorm:a}),r&&c.sort(o),_e(s)&&s>-1&&(c=c.slice(0,s)),cs(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const s=ie(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:r,i:o,n:a})=>{if(!E(r))return;const{isMatch:c,score:h,indices:l}=s.searchIn(r);c&&i.push({item:r,idx:o,matches:[{score:h,value:r,norm:a,indices:l}]})}),i}_searchLogical(e){const s=Ae(e,this.options),n=(a,c,h)=>{if(!a.children){const{keyId:d,searcher:g}=a,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:g});return p&&p.length?[{idx:h,item:c,matches:p}]:[]}const l=[];for(let d=0,g=a.children.length;d<g;d+=1){const p=a.children[d],y=n(p,c,h);if(y.length)l.push(...y);else if(a.operator===Y.AND)return[]}return l},i=this._myIndex.records,r={},o=[];return i.forEach(({$:a,i:c})=>{if(E(a)){let h=n(s,a,c);h.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},o.push(r[c])),h.forEach(({matches:l})=>{r[c].matches.push(...l)}))}}),o}_searchObjectList(e){const s=ie(e,this.options),{keys:n,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:a})=>{if(!E(o))return;let c=[];n.forEach((h,l)=>{c.push(...this._findMatches({key:h,value:o[l],searcher:s}))}),c.length&&r.push({idx:a,item:o,matches:c})}),r}_findMatches({key:e,value:s,searcher:n}){if(!E(s))return[];let i=[];if(C(s))s.forEach(({v:r,i:o,n:a})=>{if(!E(r))return;const{isMatch:c,score:h,indices:l}=n.searchIn(r);c&&i.push({score:h,key:e,value:r,idx:o,norm:a,indices:l})});else{const{v:r,n:o}=s,{isMatch:a,score:c,indices:h}=n.searchIn(r);a&&i.push({score:c,key:e,value:r,norm:o,indices:h})}return i}}B.version="6.6.2";B.createIndex=$e;B.parseIndex=Bt;B.config=f;B.parseQuery=Ae;ss(ts);const ls={class:"flex my:0 w:full"},hs=["disabled"],us=["disabled"],ds={class:"flex justify-content:space-between"},fs={class:""},gs={class:"font:12 lh:16px fg:gray-60 bg:gray-10 px:4 py:0.5 rounded"},cn={__name:"TheSearchFamily",props:{catalog:{type:Object,required:!0},modelValue:{type:Object}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e,i=ze(),r=R({get(){return s.modelValue},set(m){n("update:modelValue",m)}}),o=F(""),a=F(0),c=F(50),h=F(null),l=R(()=>[...new Set(s.catalog.map(({category:m})=>m.trim().replace(/[^a-zA-Z0-9\-_]+/g,"-").toLowerCase()))]),d=R(()=>{let m=s.catalog;if(o.value){let b=o.value.trim().toLowerCase();if(b.startsWith(":")){const v=b.split(" ")[0].slice(1);l.value.includes(v)&&(m=m.filter(({category:S})=>S.trim().replace(/[^a-zA-Z0-9\-_]+/g,"-").toLowerCase()===v)),b=b.slice(v.length+1).trim()}const A=new B(m,{keys:["family"],useExtendedSearch:!0,findAllMatches:!0});if(b.trim())return A.search(b).map(({item:v})=>v)}return m}),g=R(()=>d.value.slice(a.value,c.value+a.value)),p=R(()=>{const m=a.value+c.value;return!!d.value.slice(m,c.value+m).length}),y=R(()=>{const m=a.value-c.value;return!!d.value.slice(m,c.value+m).length});function x(m){o.value=m,a.value=0}return Te(()=>{h.value.searchEl.focus()}),(m,b)=>{const A=ae("VueSelect"),v=ve("ripple");return M(),De(A,{ref_key:"vueSelectEl",ref:h,options:g.value,modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=S=>r.value=S),label:"family",filterable:!1,loading:U(i).isBusy,autoscroll:!0,onSearch:x,onKeyup:[b[3]||(b[3]=de(fe(S=>a.value-=c.value*y.value,["ctrl"]),["left"])),b[4]||(b[4]=de(fe(S=>a.value+=c.value*p.value,["ctrl"]),["right"]))],placeholder:"Choose Font Family",class:"ywf-google-search-family"},{"list-footer":ee(()=>[u("li",ls,[D((M(),$("button",{type:"button",disabled:!y.value,onClick:b[0]||(b[0]=S=>a.value-=c.value),class:"button flex:1|1|0%"},[H(" Prev ")],8,hs)),[[v]]),D((M(),$("button",{type:"button",disabled:!p.value,onClick:b[1]||(b[1]=S=>a.value+=c.value),class:"button flex:1|1|0%"},[H(" Next ")],8,us)),[[v]])])]),option:ee(({family:S,category:G})=>[u("div",ds,[u("span",fs,_(S),1),u("span",gs,_(G.replace(/[^a-zA-Z0-9\-_]+/g,"-").toLowerCase()),1)])]),_:1},8,["options","modelValue","loading"])}}},ps={id:"submitdiv",class:"postbox"},ms={class:"postbox-header"},bs={class:""},ys=["href"],xs={class:"inside"},vs={class:"submitbox",id:"submitpost"},_s={id:"minor-publishing"},ws={id:"misc-publishing-actions",class:"py:6"},Ms={class:"misc-pub-section"},Ss={class:"py:6 flex align-items:center"},$s=u("span",{class:"pl:10 pr:8"},"Rank:",-1),Es={class:"font:medium"},ks={class:"py:6 flex align-items:center"},Is=u("span",{class:"pl:10 pr:8"},"Category:",-1),As={class:"font:medium"},Ls={class:"py:6 flex align-items:center"},Cs=u("span",{class:"pl:10 pr:8"},"Version:",-1),Ns={class:"font:medium"},Os={class:"py:6 flex align-items:center"},Rs=u("span",{class:"pl:10 pr:8"},"Last modified:",-1),Fs=["title"],Ts={class:"py:6 flex align-items:center"},Ds=u("span",{class:"pl:10 pr:8"},"Style:",-1),Vs={key:0,class:"font:medium"},js={class:"py:6 flex align-items:center"},Ps=u("span",{class:"pl:10 pr:8"},"Designers:",-1),Bs={class:"font:medium"},zs={key:0,class:"py:6 flex flex:col"},Ks={class:"flex align-items:center"},Ws=u("span",{class:"pl:10 pr:8"},"Axis:",-1),Us={class:"table-auto border-collapse mt:6 ml:36 b:1|solid|gray-20/.4"},Hs=u("tr",{class:"text:left bg:gray-5"},[u("th",{class:"p:6 b:1|solid|gray-20/.4"},[u("a",{href:"https://fonts.google.com/variablefonts#axis-definitions",target:"_blank"}," Axes ")]),u("th",{class:"p:6 b:1|solid|gray-20/.4 text:right"},"Min"),u("th",{class:"p:6 b:1|solid|gray-20/.4 text:right"},"Max"),u("th",{class:"p:6 b:1|solid|gray-20/.4 text:right"},"Default")],-1),Ys={class:"p:6"},Gs={class:"p:6 text:right"},Xs={class:"p:6 text:right"},Qs={class:"p:6 text:right"},Zs=u("div",{class:"clear"},null,-1),ln={__name:"TheFontInfoPanel",props:{fontData:{type:Object,required:!0},fontData:{type:Object}},setup(t){return(e,s)=>{var i,r,o,a,c,h,l,d,g,p,y,x;const n=ae("font-awesome-icon");return M(),$("div",null,[u("div",ps,[u("div",ms,[u("h2",bs,[H(" Font Information "),t.fontData?(M(),$("a",{key:0,href:`https://fonts.google.com/specimen/${t.fontData.slug.replaceAll("-","+")}`,target:"_blank"},[w(n,{icon:["far","arrow-up-right-from-square"],class:"w:15 h:15"})],8,ys)):z("",!0)])]),u("div",xs,[u("div",vs,[u("div",_s,[u("div",ws,[u("div",Ms,[u("div",Ss,[w(n,{icon:["fas","ranking-star"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),$s,u("span",Es,_((i=t.fontData)==null?void 0:i.popularity),1)]),u("div",ks,[w(n,{icon:["fas","font"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Is,u("span",As,_((r=t.fontData)==null?void 0:r.category),1)]),u("div",Ls,[w(n,{icon:["fas","code-pull-request"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Cs,u("span",Ns,_((o=t.fontData)==null?void 0:o.version),1)]),u("div",Os,[w(n,{icon:["fas","calendar-pen"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Rs,t.fontData?(M(),$("span",{key:0,title:(a=t.fontData)==null?void 0:a.modifiedAt,class:"font:medium"},_(U(Ke)(new Date((c=t.fontData)==null?void 0:c.modifiedAt))),9,Fs)):z("",!0)]),u("div",Ts,[w(n,{icon:["fas","paintbrush"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Ds,t.fontData?(M(),$("span",Vs,_(e.sprintf(e._n("%d subset","%d subsets",(h=t.fontData)==null?void 0:h.subsets.length,"yabe-webfont"),(l=t.fontData)==null?void 0:l.subsets.length))+" & "+_(e.sprintf(e._n("%d variant","%d variants",(d=t.fontData)==null?void 0:d.variants.length,"yabe-webfont"),(g=t.fontData)==null?void 0:g.variants.length)),1)):z("",!0)]),u("div",js,[w(n,{icon:["fas","hand-holding-magic"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Ps,u("span",Bs,_((p=t.fontData)==null?void 0:p.designers),1)]),(y=t.fontData)!=null&&y.axes.length?(M(),$("div",zs,[u("div",Ks,[w(n,{icon:["fas","gear"],class:"h:16 w:16 flex-shrink:0 fg:#8c8f94 fill:current"}),Ws]),u("table",Us,[Hs,(M(!0),$(Ve,null,je((x=t.fontData)==null?void 0:x.axes,m=>(M(),$("tr",{key:m.tag,class:"b:1|solid|gray-20/.4"},[u("td",Ys,_(m.tag),1),u("td",Gs,_(m.min),1),u("td",Xs,_(m.max),1),u("td",Qs,_(m.defaultValue),1)]))),128))])])):z("",!0)])]),Zs])])])])])}}};export{cn as _,ln as a,an as b,on as u};
