import{u as b,a as v,b as x}from"./notifier-BZ1LGfDv.js";import{e as k,r as w,g as B,o as l,c,b as s,t as u,a as n,h,u as i,s as r,d as f,F as C}from"./app-BKc7mk60.js";const F={class:"mr:8 font:24"},A={class:"mt:16 r:4 rel bg:white p:24"},T={class:"mx:auto max-w:512"},Y=s("h2",{class:"m:0 font:semibold lh:1.5 fg:gray-80"}," Custom Fonts [Bricks] → Yabe Webfont ",-1),I=s("p",{class:"m:0 mt:4 font:14 fg:gray-50"}," Migrate your custom fonts from Bricks to Yabe Webfont. Manage your fonts in one place, and use them across visual builders. ",-1),N={role:"list",class:"m:0 mt:24 bt:1|solid|gray-20 {by:1|solid|gray-20}>*+*"},S={class:"m:0"},j={class:"rel flex items-start gap-x:12 py:16"},D={class:"flex-shrink:0"},P={class:r(["bg:blue-50","inline-flex h:40 w:40 align-items:center justify-content:center r:8"])},R=s("div",{class:"min-w:0 flex-grow:1"},[s("p",{class:"m:0 font:14 font:medium text-gray-900"}," Import fonts "),s("p",{class:"m:0 font:14 fg:gray-50"}," Import the fonts data from the Custom Fonts [Bricks] feature. ")],-1),V={class:"flex-shrink:0 align-self:center"},q=["disabled"],M={class:"m:0"},O={class:"rel flex items-start gap-x:12 py:16"},W={class:"flex-shrink:0"},z={class:r(["bg:pink-50","inline-flex h:40 w:40 align-items:center justify-content:center r:8"])},E={class:"min-w:0 flex-grow:1"},U={class:"m:0 font:14 font:medium fg:yellow-80"},G=s("p",{class:"m:0 font:14 fg:gray-50"}," Remove the fonts data from the Custom Fonts [Bricks] feature. ",-1),H={class:"flex-shrink:0 align-self:center"},J=["disabled"],K={class:"mt:24 r:8 bg:sky-60/.10 p:16"},L={class:"flex"},Q={class:"flex-shrink:0"},X=s("div",{class:"ml:12 flex-grow:1 flex justify-content:between"},[s("p",{class:"m:0 font:14 fg:blue-70"}," Please make a backup of your database before running the migration. ")],-1),ts={__name:"CustomFontsBricks",setup(Z){const t=b(),m=v(),d=x(),a=k({import:!1,cleanup:!1});function g(){if(!confirm(a.value.import?"You have already imported the fonts data. Are you sure you want to import it again?":"Are you sure you want to import the fonts data?"))return;t.add("migrations.index:import-fonts");let e=m.request({method:"POST",url:"/migrations/bricks-custom-fonts/import-fonts"}).then(p=>{a.value.import=!0}).finally(()=>{t.remove("migrations.index:import-fonts")});d.async(e,"Fonts data imported successfully.","Failed to import fonts data.","Importing fonts data...")}function y(){if(!confirm(a.value.import?a.value.cleanup?"You have already cleaned up the Custom Fonts [Bricks] data. Are you sure you want to clean it up again?":"Are you sure you want to clean up the Custom Fonts [Bricks] data?":"You have not imported the fonts data. Are you sure you want to clean up the Custom Fonts [Bricks] data?"))return;t.add("migrations.index:cleanup-fonts");let e=m.request({method:"POST",url:"/migrations/bricks-custom-fonts/clean-up"}).then(p=>{a.value.cleanup=!0}).finally(()=>{t.remove("migrations.index:cleanup-fonts")});d.async(e,"Custom Fonts [Bricks] data cleaned up successfully.","Failed to clean up Custom Fonts [Bricks] data.","Cleaning up Custom Fonts [Bricks] data...")}return(e,p)=>{const o=w("font-awesome-icon"),_=B("ripple");return l(),c(C,null,[s("span",F,"» "+u(e.__("Custom Fonts [Bricks]","yabe-webfont")),1),s("div",A,[s("div",T,[Y,I,s("ul",N,[s("li",S,[s("div",j,[s("div",D,[s("span",P,[n(o,{icon:["far","file-import"],class:"fg:white font:24"})])]),R,s("div",V,[h((l(),c("button",{type:"button",disabled:i(t).isBusy,onClick:g,class:"button flex align-items:center gap-x:8"},[n(o,{icon:["fas","spinner"],class:r([{hidden:!i(t).hasTask("migrations.index:import-fonts")},"animation:rotate|1.2s|infinite|linear fill:current"])},null,8,["class"]),f(" "+u(e.__("Run","yabe-webfont")),1)],8,q)),[[_]])])])]),s("li",M,[s("div",O,[s("div",W,[s("span",z,[n(o,{icon:["far","broom"],class:"font:24 fg:white fill:current"})])]),s("div",E,[s("p",U,[n(o,{icon:["fas","triangle-exclamation"]}),f(" Clean up ")]),G]),s("div",H,[h((l(),c("button",{type:"button",disabled:i(t).isBusy,onClick:y,class:"button flex align-items:center gap-x:8"},[n(o,{icon:["fas","spinner"],class:r([{hidden:!i(t).hasTask("migrations.index:cleanup-fonts")},"animation:rotate|1.2s|infinite|linear fill:current"])},null,8,["class"]),f(" "+u(e.__("Run","yabe-webfont")),1)],8,J)),[[_]])])])])]),s("div",K,[s("div",L,[s("div",Q,[n(o,{icon:["fas","circle-info"],class:"font:20 fg:blue-40"})]),X])])])])],64)}}};export{ts as default};
