var It=Object.defineProperty;var Ot=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var Vt=(s,d,n)=>d in s?It(s,d,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[d]=n,R=(s,d)=>{for(var n in d||(d={}))Bt.call(d,n)&&Vt(s,n,d[n]);if(Ot)for(var n of Ot(d))Pt.call(d,n)&&Vt(s,n,d[n]);return s};import{r as W,j as t,L as T,d as Gt}from"./main-642.js";import{q as F,_ as e,f as z,p as S,m as Ht,v as At,n as Wt,o as Jt,r as J,w as Kt,z as Qt,A as Rt,b as Ut,P as $t}from"./bi.77.82.js";import{g as H,b as zt,d as St,e as Xt,f as qt,r as Yt,i as Zt}from"./bi.385.804.js";import{T as Lt}from"./bi.838.689.js";function vt({pipeDriveConf:s,setPipeDriveConf:d,tab:n,isLoading:c,setIsLoading:r,setSnackbar:a}){var k,M,O,V,A,m,f,q,v,E,I,$,B,K,Q,U,X,Y,Z,L,C,D,p,tt,st,lt,et,at,nt,ct,dt,it,mt,rt,ot,ut,bt,ht,xt,jt,gt,wt,Nt,_t,yt,ft,Ft,Tt,kt,Mt;const[o,h]=W.useState({show:!1,action:()=>{}}),b=n===0?s.moduleData.module:(M=(k=s.relatedlists)==null?void 0:k[n-1])==null?void 0:M.module,j=(l,i)=>{const N=R({},s);n===0?(i==="owner"&&(H(s,d,r,a),h({show:i})),i==="lead_label"&&(zt(s,d,r,a),h({show:i})),i==="currency"&&(Xt(s,d,r,a),h({show:i})),i==="deal_stage"&&(St(s,d,r,a),h({show:i})),i==="deal_status"&&h({show:i}),i==="activities_type"&&h({show:i}),i==="visible_to"&&h({show:i}),i==="activities_participants"&&h({show:i}),(i==="busy_flag"||i==="active_flag")&&(l.target.checked?N.actions[i]=!0:delete N.actions[i]),d(R({},N))):(i==="owner"&&(H(s,d,r,a),h({show:i})),i==="activities_type"&&h({show:i}),i==="activities_participants"&&h({show:i}),(i==="busy_flag"||i==="active_flag")&&(l.target.checked?N.relatedlists[n-1].actions[i]=!0:delete N.relatedlists[n-1].actions[i]),d(R({},N)))},u=()=>{h({show:!1})},w=(l,i)=>{var P,G;const N=R({},s);n===0?l!==""?(N.moduleData[i]=l,N.actions[i]=l):((P=N.moduleData)==null||delete P[i],(G=N.actions)==null||delete G[i]):l!==""?(N.relatedlists[n-1].moduleData[i]=l,N.relatedlists[n-1].actions[i]=l):(delete N.relatedlists[n-1].moduleData[i],delete N.relatedlists[n-1].actions[i]),d(R({},N))},y=[{label:"Call",value:"Call"},{label:"Meeting",value:"Meeting"},{label:"Task",value:"Task"},{label:"Deadline",value:"Deadline"},{label:"Email",value:"Email"},{label:"Lunch",value:"Lunch"}],g=[{label:"Open",value:"open"},{label:"Won",value:"won"},{label:"Lost",value:"lost"},{label:"Deleted",value:"deleted"}],x=[{label:"Owner only",value:1},{label:"Owner's visibility group",value:3},{label:"Owner's visibility group and sub-groups",value:5},{label:"Entire company",value:7}],_=(l=[],i)=>{var P;return(P=l.filter(G=>{if(G.value==i)return G})[0])==null?void 0:P.label};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pos-rel d-flx w-8",children:[t.jsx(F,{checked:(n===0?(O=s.moduleData)==null?void 0:O.owner:(V=s.relatedlists[n-1].moduleData)==null?void 0:V.owner)||!1,onChange:l=>j(l,"owner"),className:"wdt-200 mt-4 mr-2",value:"owner",title:e("Owners","bit-integrations"),subTitle:e("Add Owner","bit-integrations")}),b==="Leads"&&t.jsxs(t.Fragment,{children:[" ",t.jsx(F,{checked:((A=s.moduleData)==null?void 0:A.lead_label)||!1,onChange:l=>j(l,"lead_label"),className:"wdt-200 mt-4 mr-2",value:"lead_label",title:e("Labels","bit-integrations"),subTitle:e("Add Labels","bit-integrations")}),t.jsx(F,{checked:((m=s.moduleData)==null?void 0:m.currency)||!1,onChange:l=>j(l,"currency"),className:"wdt-200 mt-4 mr-2",value:"currency",title:e("Currency","bit-integrations"),subTitle:e("Add Currency","bit-integrations")})]}),b==="Deals"&&t.jsxs(t.Fragment,{children:[t.jsx(F,{checked:((f=s.moduleData)==null?void 0:f.deal_stage)||!1,onChange:l=>j(l,"deal_stage"),className:"wdt-200 mt-4 mr-2",value:"deal_stage",title:e("Stages","bit-integrations"),subTitle:e("Add Stages","bit-integrations")}),t.jsx(F,{checked:((q=s.moduleData)==null?void 0:q.currency)||!1,onChange:l=>j(l,"currency"),className:"wdt-200 mt-4 mr-2",value:"currency",title:e("Currency","bit-integrations"),subTitle:e("Add Currency","bit-integrations")}),t.jsx(F,{checked:((v=s.moduleData)==null?void 0:v.deal_status)||!1,onChange:l=>j(l,"deal_status"),className:"wdt-200 mt-4 mr-2",value:"deal_status",title:e("Status","bit-integrations"),subTitle:e("Add Status","bit-integrations")})]}),b==="Activities"&&t.jsxs(t.Fragment,{children:[t.jsx(F,{checked:(n===0?(E=s.moduleData)==null?void 0:E.activities_type:($=(I=s.relatedlists[n-1])==null?void 0:I.moduleData)==null?void 0:$.activities_type)||!1,onChange:l=>j(l,"activities_type"),className:"wdt-200 mt-4 mr-2",value:"activities_type",title:e("Types","bit-integrations"),subTitle:e("Add Types","bit-integrations")}),t.jsx(F,{checked:(n===0?(B=s.actions)==null?void 0:B.busy_flag:(Q=(K=s.relatedlists[n-1])==null?void 0:K.actions)==null?void 0:Q.busy_flag)||!1,onChange:l=>j(l,"busy_flag"),className:"wdt-200 mt-4 mr-2",value:"busy_flag",title:e("Busy Flag","bit-integrations"),subTitle:e("Add Busy Flag","bit-integrations")}),t.jsx(F,{checked:(n===0?(U=s.actions)==null?void 0:U.activities_participants:(Y=(X=s.relatedlists[n-1])==null?void 0:X.actions)==null?void 0:Y.activities_participants)||!1,onChange:l=>j(l,"activities_participants"),className:"wdt-200 mt-4 mr-2",value:"activities_participants",title:e("Participants","bit-integrations"),subTitle:e("Add Participants","bit-integrations")})]}),b==="Products"&&t.jsxs(t.Fragment,{children:[t.jsx(F,{checked:(n===0?(Z=s.actions)==null?void 0:Z.active_flag:(C=(L=s.relatedlists[n-1])==null?void 0:L.actions)==null?void 0:C.active_flag)||!1,onChange:l=>j(l,"active_flag"),className:"wdt-200 mt-4 mr-2",value:"active_flag",title:e("Inactive Flag","bit-integrations"),subTitle:e("Add Inactive Flag","bit-integrations")}),t.jsx(F,{checked:((D=s.moduleData)==null?void 0:D.currency)||!1,onChange:l=>j(l,"currency"),className:"wdt-200 mt-4 mr-2",value:"currency",title:e("Currency","bit-integrations"),subTitle:e("Add Currency","bit-integrations")})]}),["Leads","Deals","Persons","Products"].includes(b)&&t.jsx(F,{checked:((p=s.actions)==null?void 0:p.visible_to)||!1,onChange:l=>j(l,"visible_to"),className:"wdt-200 mt-4 mr-2",value:"visible_to",title:e("Visible To","bit-integrations"),subTitle:e("Add Visible To","bit-integrations")})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="owner",close:u,action:u,title:e("Owners","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsxs("div",{className:"flx flx-between mt-2",children:[t.jsx(S,{className:"msl-wrp-options",defaultValue:_((tt=s.default)==null?void 0:tt.owners,n===0?(st=s.moduleData)==null?void 0:st.owner:(lt=s.relatedlists[n-1].moduleData)==null?void 0:lt.owner),options:(at=(et=s.default)==null?void 0:et.owners)==null?void 0:at.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"owner"),customValue:!0,singleSelect:!0}),t.jsx("button",{onClick:()=>H(s,d,r,a),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${e("Refresh Owners","bit-integrations")}'`},type:"button",disabled:c,children:"↻"})]})]})," ",t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="lead_label",close:u,action:u,title:e("Labels","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsxs("div",{className:"flx flx-between mt-2",children:[t.jsx(S,{className:"msl-wrp-options",defaultValue:(nt=s.moduleData)==null?void 0:nt.lead_label,options:(dt=(ct=s.default)==null?void 0:ct.leadLabels)==null?void 0:dt.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"lead_label")}),t.jsx("button",{onClick:()=>zt(s,d,r,a),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${e("Refresh Labels","bit-integrations")}'`},type:"button",disabled:c,children:"↻"})]})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="deal_stage",close:u,action:u,title:e("Stages","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsxs("div",{className:"flx flx-between mt-2",children:[t.jsx(S,{className:"msl-wrp-options",defaultValue:_((it=s.default)==null?void 0:it.stages,(mt=s.moduleData)==null?void 0:mt.deal_stage),options:(ot=(rt=s.default)==null?void 0:rt.stages)==null?void 0:ot.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"deal_stage"),customValue:!0,singleSelect:!0}),t.jsx("button",{onClick:()=>St(s,d,r,a),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${e("Refresh Stages","bit-integrations")}'`},type:"button",disabled:c,children:"↻"})]})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="activities_type",close:u,action:u,title:e("Types","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"flx flx-between mt-2",children:t.jsx(S,{className:"msl-wrp-options",defaultValue:_(y,n===0?(ut=s.moduleData)==null?void 0:ut.activities_type:(bt=s.relatedlists[n-1].moduleData)==null?void 0:bt.activities_type),options:y.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"activities_type"),customValue:!0,singleSelect:!0})})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="currency",close:u,action:u,title:e("Currency","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"flx flx-between mt-2",children:t.jsx(S,{className:"msl-wrp-options",defaultValue:_((ht=s.default)==null?void 0:ht.currencies,n===0?(xt=s.moduleData)==null?void 0:xt.currency:(jt=s.relatedlists[n-1].moduleData)==null?void 0:jt.currency),options:(wt=(gt=s.default)==null?void 0:gt.currencies)==null?void 0:wt.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"currency"),customValue:!0,singleSelect:!0})})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="deal_status",close:u,action:u,title:e("Status","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"flx flx-between mt-2",children:t.jsx(S,{className:"msl-wrp-options",defaultValue:_(g,n===0?(Nt=s.moduleData)==null?void 0:Nt.deal_status:(_t=s.relatedlists[n-1].moduleData)==null?void 0:_t.deal_status),options:g.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"deal_status"),customValue:!0,singleSelect:!0})})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="visible_to",close:u,action:u,title:e("Visible To","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"flx flx-between mt-2",children:t.jsx(S,{className:"msl-wrp-options",defaultValue:_(x,(yt=s.moduleData)==null?void 0:yt.visible_to),options:x.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"visible_to"),customValue:!0,singleSelect:!0})})]}),t.jsxs(z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:o.show==="activities_participants",close:u,action:u,title:e("Participants","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),c?t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"flx flx-between mt-2",children:t.jsx(S,{className:"msl-wrp-options",defaultValue:_((ft=s.default)==null?void 0:ft.persons,n===0?(Ft=s.moduleData)==null?void 0:Ft.activities_participants:(Tt=s.relatedlists[n-1].moduleData)==null?void 0:Tt.activities_participants),options:(Mt=(kt=s.default)==null?void 0:kt.persons)==null?void 0:Mt.map(l=>({label:l.label,value:l.value})),onChange:l=>w(l,"activities_participants")})})]})]})}function Et({i:s,formFields:d,uploadFields:n,field:c,pipeDriveConf:r,setPipeDriveConf:a,tab:o}){var y,g,x,_,k,M,O,V,A;const h=o===0?r.moduleData.module:(g=(y=r.relatedlists)==null?void 0:y[o-1])==null?void 0:g.module,b=((k=(_=(x=r.default.modules)==null?void 0:x[h])==null?void 0:_.fields)==null?void 0:k.filter(m=>m.required===!0))||[],j=((V=(O=(M=r.default.modules)==null?void 0:M[h])==null?void 0:O.fields)==null?void 0:V.filter(m=>m.required===!1))||[],u=Gt(Ht),{isPro:w}=u;return t.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:t.jsxs("div",{className:"pos-rel flx",children:[t.jsxs("div",{className:"flx integ-fld-wrp",children:[t.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:c.formField||"",onChange:m=>At(m,s,r,a,n,o),children:[t.jsx("option",{value:"",children:e("Select Field","bit-integrations")}),t.jsx("optgroup",{label:"Form Fields",children:d.map(m=>t.jsx("option",{value:m.name,children:m.label},`ff-zhcrm-${m.name}`))}),t.jsx("option",{value:"custom",children:e("Custom...","bit-integrations")}),t.jsx("optgroup",{label:`General Smart Codes ${w?"":"(PRO)"}`,children:w&&((A=Wt)==null?void 0:A.map(m=>t.jsx("option",{value:m.name,children:m.label},`ff-zhcrm-${m.name}`)))})]}),c.formField==="custom"&&t.jsx(Lt,{onChange:m=>Jt(m,s,r,a),label:e("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:c.customValue,placeholder:e("Custom Value","bit-integrations"),formFields:d}),t.jsxs("select",{className:"btcd-paper-inp",disabled:s<b.length,name:"pipeDriveFormField",value:s<b?b[s].label||"":c.pipeDriveFormField||"",onChange:m=>At(m,s,r,a,n,o),children:[t.jsx("option",{value:"",children:e("Select Field","bit-integrations")}),s<b.length?t.jsx("option",{value:b[s].key,children:b[s].label},b[s].key):j.map(({key:m,label:f})=>t.jsx("option",{value:m,children:f},m))]})]}),t.jsx("div",{className:"flx integ-fld-wrp",children:s>=b.length&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>J(s,r,a,n,o),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),t.jsx("button",{onClick:()=>Kt(s,r,a,n,o),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:t.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function Ct({tab:s,settab:d,formFields:n,pipeDriveConf:c,setPipeDriveConf:r,handleInput:a,isLoading:o,setIsLoading:h,setSnackbar:b}){var j,u,w,y,g,x,_,k,M,O,V,A;return W.useEffect(()=>{qt(0,d)},[]),t.jsxs(t.Fragment,{children:[o&&t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),t.jsx("br",{}),t.jsx("br",{}),c.moduleData.module!==""&&((j=c.default.modules[c.moduleData.module])==null?void 0:j.required)&&!["Products"].includes(c.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Organization:","bit-integrations")}),t.jsxs("select",{onChange:a,name:"organization_id",value:((u=c.moduleData)==null?void 0:u.organization_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:e("Select Organization","bit-integrations")}),((w=c==null?void 0:c.default)==null?void 0:w.organizations)&&c.default.organizations.map((m,f)=>t.jsx("option",{value:m.value,children:m.label},`pipedrive-m-${f+20}`))]}),t.jsx("button",{onClick:()=>Yt(c,r,h,b),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh organizations","bit-integrations")}'`},type:"button",disabled:o,children:"↻"})]}),t.jsx("br",{}),t.jsx("br",{}),c.moduleData.module!==""&&((y=c.default.modules[c.moduleData.module])==null?void 0:y.required)&&!["Products","Persons"].includes(c.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Person:","bit-integrations")}),t.jsxs("select",{onChange:a,name:"person_id",value:((g=c.moduleData)==null?void 0:g.person_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:e("Select Person","bit-integrations")}),((x=c==null?void 0:c.default)==null?void 0:x.persons)&&c.default.persons.map((m,f)=>t.jsx("option",{value:m.value,children:m.label},`pipedrive-m-${f+20}`))]}),t.jsx("button",{onClick:()=>Zt(c,r,h,b),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh persons","bit-integrations")}'`},type:"button",disabled:o,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),t.jsx("br",{}),t.jsx("br",{}),c.moduleData.module&&((M=(k=(_=c.default)==null?void 0:_.modules)==null?void 0:k[c.moduleData.module])==null?void 0:M.fields)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:e("Field Map","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("PipeDrive Fields","bit-integrations")})})]}),c.field_map.map((m,f)=>t.jsx(Et,{i:f,field:m,pipeDriveConf:c,formFields:n,setPipeDriveConf:r,tab:s,setSnackbar:b},`pipedrive-m-${f+9}`)),t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>J(c.field_map.length,c,r,!1,s),className:"icn-btn sh-sm",type:"button",children:"+"})}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:e("Actions","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsx(vt,{pipeDriveConf:c,setPipeDriveConf:r,tab:s,isLoading:o,setIsLoading:h,setSnackbar:b})]}),c.moduleData.module&&!((A=(V=(O=c.default)==null?void 0:O.modules)==null?void 0:V[c.moduleData.module])!=null&&A.fields)&&t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}})]})}function Dt({indx:s,tab:d,settab:n,formID:c,formFields:r,pipeDriveConf:a,setPipeDriveConf:o,handleInput:h,isLoading:b,setIsLoading:j,setSnackbar:u}){var y,g,x,_,k,M,O,V,A,m,f,q,v,E,I;W.useEffect(()=>{qt(s+1,n)},[]);const w=typeof btcbi!="undefined"&&btcbi.isPro;return t.jsxs(t.Fragment,{children:[b&&t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"pos-rel",children:[!w&&t.jsx("div",{className:"pro-blur flx w-9",children:t.jsxs("div",{className:"pro",children:[e("Available On","bit-integrations"),t.jsx("a",{href:"https://bitapps.pro/",target:"_blank",rel:"noreferrer",children:t.jsxs("span",{className:"txt-pro",children:[" ",e("Premium","bit-integrations")]})})]})}),t.jsx("b",{className:"wdt-100 d-in-b",children:e("Related List:","bit-integrations")}),t.jsxs("select",{onChange:h,name:"module",value:(g=(y=a==null?void 0:a.relatedlists)==null?void 0:y[d-1])==null?void 0:g.module,className:"btcd-paper-inp w-7",disabled:!((x=a.moduleData)!=null&&x.module),children:[t.jsx("option",{value:"",children:e("Select Related Module","bit-integrations")}),(k=(_=a.default.modules[a.moduleData.module])==null?void 0:_.relatedlists)==null?void 0:k.map($=>t.jsx("option",{value:$.name,children:$.name},$.name))]}),t.jsx("br",{}),t.jsx("br",{})]}),t.jsx("br",{}),t.jsx("br",{}),((V=a.default.modules[(O=(M=a==null?void 0:a.relatedlists)==null?void 0:M[d-1])==null?void 0:O.module])==null?void 0:V.fields)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:e("Field Map","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("PipeDrive Fields","bit-integrations")})})]}),(f=(m=(A=a.relatedlists)==null?void 0:A[d-1])==null?void 0:m.field_map)==null?void 0:f.map(($,B)=>t.jsx(Et,{i:B,field:$,pipeDriveConf:a,formFields:r,setPipeDriveConf:o,tab:d,setSnackbar:u},`crm-m-${B+9}`)),t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>J(a.relatedlists[d-1].field_map.length,a,o,!1,d),className:"icn-btn sh-sm",type:"button",children:"+"})}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:e("Actions","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsx(vt,{pipeDriveConf:a,setPipeDriveConf:o,tab:d,isLoading:b,setIsLoading:j,setSnackbar:u})]}),a.default.modules[(q=a.relatedlists[d-1])==null?void 0:q.module]&&!((I=a.default.modules[(E=(v=a==null?void 0:a.relatedlists)==null?void 0:v[d-1])==null?void 0:E.module])!=null&&I.fields)&&t.jsx(T,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}})]})}function as({tab:s,settab:d,formID:n,formFields:c,handleInput:r,pipeDriveConf:a,setPipeDriveConf:o,isLoading:h,setIsLoading:b,setSnackbar:j}){var y;const u=()=>{if(a.relatedlists.length<2){const g=R({},a);g.relatedlists.push({actions:{},field_map:[{formField:"",pipeDriveFormField:""}],moduleData:{},module:""}),o(R({},g))}},w=g=>{const x=R({},a);x.relatedlists.splice(g,1),x.relatedlists.length||d(0),o(R({},x))};return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:e("Module:","bit-integrations")}),t.jsxs("select",{onChange:r,name:"module",value:a.moduleData.module,className:"btcd-paper-inp w-5",disabled:s,children:[t.jsx("option",{value:"",children:e("Select Module","bit-integrations")}),Object.keys(a.default.modules).map(g=>t.jsx("option",{value:g,children:g},g))]}),t.jsx("br",{}),t.jsx("div",{children:t.jsxs(Qt,{children:[t.jsxs("div",{className:"flx mt-2",children:[t.jsx(Rt,{children:t.jsx("button",{className:`btcd-s-tab-link ${s===0&&"s-t-l-active"}`,type:"button",children:e("New Record","bit-integrations")})}),(a==null?void 0:a.relatedlists)&&a.relatedlists.map((g,x)=>t.jsxs(t.Fragment,{children:[t.jsx(Rt,{children:t.jsxs("button",{className:`btcd-s-tab-link ${s===x+1&&"s-t-l-active"}`,type:"button",children:[e("Related List #","bit-integrations"),x+1]})},`t-${x*3}`),t.jsx("button",{onClick:()=>w(x),className:"icn-btn","aria-label":"delete-relatedlist",type:"button",children:t.jsx(Ut,{size:"14"})})]})),a.relatedlists.length<2&&((y=a.default.modules[a.moduleData.module])==null?void 0:y.relatedlists)&&t.jsx("button",{onClick:u,className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Add More Related List","bit-integrations")}'`},type:"button",children:"+"})]}),t.jsx("div",{className:"btcd-hr"}),t.jsx($t,{children:t.jsx(Ct,{tab:s,settab:d,formFields:c,pipeDriveConf:a,setPipeDriveConf:o,handleInput:r,isLoading:h,setIsLoading:b,setSnackbar:j})}),(a==null?void 0:a.relatedlists)&&a.relatedlists.map((g,x)=>t.jsx($t,{children:t.jsx(Dt,{indx:x,tab:s,settab:d,formID:n,formFields:c,pipeDriveConf:a,setPipeDriveConf:o,handleInput:r,isLoading:h,setIsLoading:b,setSnackbar:j})},`p-${x+2.4}`))]})}),t.jsx("br",{})]})}export{as as P};
