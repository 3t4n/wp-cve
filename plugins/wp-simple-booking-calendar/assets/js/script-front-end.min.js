$=jQuery.noConflict(),$(document).ready((function($){function resize_calendar($calendars_wrapper){var $months_wrapper=$calendars_wrapper.find(".wpsbc-calendars-wrapper"),$months_wrapper_width=$calendars_wrapper.find(".wpsbc-calendars"),calendar_min_width=$calendars_wrapper.data("min_width"),calendar_max_width=$calendars_wrapper.data("max_width"),$month_inner=$calendars_wrapper.find(".wpsbc-calendar-wrapper");$calendars_wrapper.data("min_width")>0&&$calendars_wrapper.find(".wpsbc-calendar").css("min-width",calendar_min_width),$calendars_wrapper.data("max_width")>0&&$calendars_wrapper.find(".wpsbc-calendar").css("max-width",calendar_max_width);var column_count=0;column_count=$months_wrapper_width.width()<2*calendar_min_width?1:$months_wrapper_width.width()<3*calendar_min_width?2:$months_wrapper_width.width()<4*calendar_min_width?3:$months_wrapper_width.width()<6*calendar_min_width?4:6,$calendars_wrapper.find(".wpsbc-calendar").length<=column_count&&(column_count=$calendars_wrapper.find(".wpsbc-calendar").length),$calendars_wrapper.attr("data-columns",column_count),$months_wrapper.hasClass("wpsbc-legend-position-side")&&($months_wrapper.css("max-width","none"),$months_wrapper.css("max-width",$calendars_wrapper.find(".wpsbc-calendar").first().outerWidth(!0)*column_count));var td_width=$calendars_wrapper.find("td").first().width();$calendars_wrapper.find("td .wpsbc-date-inner, td .wpsbc-week-number").css("height",Math.ceil(td_width)+1+"px"),$calendars_wrapper.find("td .wpsbc-date-inner, td .wpsbc-week-number").css("line-height",Math.ceil(td_width)+1+"px");var th_height=$calendars_wrapper.find("th").css("height","auto").first().height();$calendars_wrapper.find("th").css("height",Math.ceil(th_height)+1+"px");var calendar_month_height=0;$month_inner.css("min-height","1px"),$month_inner.each((function(){$(this).height()>=calendar_month_height&&(calendar_month_height=$(this).height())})),$month_inner.css("min-height",Math.ceil(calendar_month_height)+"px"),$calendars_wrapper.css("visibility","visible")}function refresh_calendar($calendar_container,current_year,current_month){var $calendar_container;if(($calendar_container=$calendar_container).hasClass("wpsbc-is-loading"))return!1;var data=$calendar_container.data();data.action="wpsbc_refresh_calendar",data.current_year=current_year,data.current_month=current_month,$calendar_container.find(".wpsbc-calendar").append('<div class="wpsbc-overlay"><div class="wpsbc-overlay-spinner"><div class="wpsbc-overlay-bounce1"></div><div class="wpsbc-overlay-bounce2"></div><div class="wpsbc-overlay-bounce3"></div></div></div>'),$calendar_container.addClass("wpsbc-is-loading"),$calendar_container.find("select").attr("disabled",!0),$.post(wpsbc.ajax_url,data,(function(response){$calendar_container.replaceWith(response),$(".wpsbc-container").each((function(){resize_calendar($(this))}))}))}$(".wpsbc-container").each((function(){resize_calendar($(this))})),$(window).on("resize",(function(){$(".wpsbc-container").each((function(){resize_calendar($(this))}))})),$(document).on("click",".wpsbc-container .wpsbc-prev",(function(e){e.preventDefault();var $container=$(this).closest(".wpsbc-container"),current_month=$container.data("current_month"),current_year=$container.data("current_year");(current_month-=1)<1&&(current_month=12,current_year-=1),refresh_calendar($container,current_year,current_month)})),$(document).on("click",".wpsbc-container .wpsbc-next",(function(e){e.preventDefault();var $container=$(this).closest(".wpsbc-container"),current_month=$container.data("current_month"),current_year=$container.data("current_year");(current_month+=1)>12&&(current_month=1,current_year+=1),refresh_calendar($container,current_year,current_month)})),$(document).on("change",".wpsbc-container .wpsbc-select-container select",(function(){var $container=$(this).closest(".wpsbc-container"),date=new Date(1e3*$(this).val()),year,month;refresh_calendar($container,date.getFullYear(),date.getMonth()+1)}));var wpsbc_frontend_visible_calendars=$(".wpsbc-container:visible").length;function wpsbc_check_if_calendar_is_visible(){return!!$(".wpsbc-container").length&&(wpsbc_frontend_visible_calendars!=$(".wpsbc-container:visible").length&&($(window).trigger("resize"),wpsbc_frontend_visible_calendars=$(".wpsbc-container:visible").length),$(".wpsbc-container:visible").length!=$(".wpsbc-container").length&&void setTimeout(wpsbc_check_if_calendar_is_visible,250))}wpsbc_check_if_calendar_is_visible(),$("body").hasClass("elementor-editor-active")&&setInterval((function(){$(".wpsbc-container-loaded").each((function(){"1"==$(this).attr("data-just-loaded")&&($(window).trigger("resize"),$(this).attr("data-just-loaded","0"))}))}),250)}));