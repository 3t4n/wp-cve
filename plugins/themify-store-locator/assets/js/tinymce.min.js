tinymce.PluginManager.add("mceThemifyStoreLocator",function(i,t){"use strict";var o=[];jQuery.each(mceThemifyStoreLocator.shortcodes,function(t,e){e.id=t,jQuery('<script type="text/html" id="tmpl-tsl-'+t+'-shortcode">'+e.template+"</script>").appendTo("body"),o.push(function(n){return{text:n.label,body:{type:n.id},onclick:function(){var t=n.fields;i.windowManager.open({title:n.label,body:t,onSubmit:function(t){var e=this.toJSON(),o=(e.selectedContent=i.selection.getContent(),wp.template("tsl-"+n.id+"-shortcode"));i.insertContent(o(e))}})}}}(e))}),i.addButton("mceThemifyStoreLocator",{type:"menubutton",text:"",image:mceThemifyStoreLocator.url+"assets/img/tsl-editor-icon.png",tooltip:mceThemifyStoreLocator.editor.menuTooltip,menu:o})});