/*global tarteaucitron, ga, Shareaholic, stLight, clicky, top, google, Typekit, FB, ferankReady, IN, stButtons, twttr, PCWidget*/
/*jslint regexp: true, nomen: true*/



if (polylangcookie === "") {
var wpcookies = ['PHPSESSID', 'wordpress_test_cookie', 'wordpress_test_', 'twostep_auth', 'wp-settings-{}', 'wp-settings-time-{}', 'worpdress_{}'];
} else {
var wpcookies = ['PHPSESSID', 'wordpress_test_cookie', 'twostep_auth', 'wp-settings-{}', 'wp-settings-time-{}', 'worpdress_{}', polylangcookie];
	
}

if (woocommercecookies === "") {
	var woocookies = "";
} else {
	var woocookies = "woocommerce_cart_hash";
	wpcookies = wpcookies.concat(woocommercecookies);

}

tarteaucitron.services.wordpressmain = {
	"key": "wordpressmain",    
	"type": "essenziell",    
	"name": maincatname,    
	"uri": "https://"+language+".support.wordpress.com/cookies/",    
	"needConsent": true,    
	"cookies": wpcookies,    
	"js": function () {       
	"use strict";           
	},    "fallback": function () {
        "use strict";
}};

tarteaucitron.services.youtube = {
        "key": "youtube",
        "type": "video",
        "name": "YouTube",
        "uri": "https://policies.google.com/privacy",
        "needConsent": true,
        "cookies": ["VISITOR_INFO1_LIVE", "YSC", "PREF", "GEUP"],
        "js": function () {
            "use strict";
            tarteaucitron.fallback(["youtube_player"], function (x) {
                var video_id = x.getAttribute("videoID"),
                    video_parms = x.getAttribute("data-parms"),
                    video_width = x.getAttribute("width"),
                    frame_width = "width=",
                    video_height = x.getAttribute("height"),
                    frame_height = "height=",
                    video_frame;
                return video_id === undefined
                    ? ""
                    : (video_parms !== undefined && video_parms !== null
                          ? (parms = video_parms)
                          : (parms = "?theme=" + x.getAttribute("theme") + "&rel=" + x.getAttribute("rel") + "&controls=" + x.getAttribute("controls") + "&showinfo=" + x.getAttribute("showinfo") + "&autoplay=" + x.getAttribute("autoplay")),
                      video_width !== undefined ? (frame_width += '"' + video_width + '" ') : (frame_width += '"" '),
                      video_height !== undefined ? (frame_height += '"' + video_height + '" ') : (frame_height += '"" '),
                      (video_frame =
                          '<div class="embed-container"><iframe class="dsgvoaiyout" allow="autoplay" type="text/html" ' +
                          frame_width +
                          frame_height +
                          ' src="https://youtube.com/embed/' +
                          video_id +
                          parms +
                          '" frameborder="0" allowfullscreen></iframe></div>'),
                      jQuery(".youtube_player").removeClass("display_bottom"),
                      jQuery(".youtube_player").removeClass("display_top"),
                      video_frame);
            });
        },
        fallback: function () {
            "use strict";
            var id = "youtube";
            tarteaucitron.fallback(["youtube_player"], function (elem) {
                var thumb = elem.getAttribute("thumb");
                if (thumb)
                    var thumbcontent = "<div class='dsgvoaio_yt_thumb' style='background:url(" + thumb + ");'></div>";
                else var thumbcontent = "";
                return (elem.style.width = elem.getAttribute("width") + "px"), (elem.style.height = elem.getAttribute("height") + "px"), tarteaucitron.engage(id) + thumbcontent;
            });
        },
};

tarteaucitron.services.vimeo = {
        key: "vimeo",
        type: "video",
        name: "Vimeo",
        uri: "http://vimeo.com/privacy",
        needConsent: !0,
        cookies: ["__utmt_player", "__utma", "__utmb", "__utmc", "__utmv", "vuid", "__utmz", "player"],
        js: function () {
            "use strict";
            tarteaucitron.fallback(["vimeo_player"], function (x) {
                var video_id = x.getAttribute("videoID"),
                    video_width = x.getAttribute("width"),
                    frame_width = "width=",
                    video_height = x.getAttribute("height"),
                    frame_height = "height=",
                    video_frame;
                return video_id === undefined
                    ? ""
                    : (video_width !== undefined ? (frame_width += '"' + video_width + '" ') : (frame_width += '"" '),
                      video_height !== undefined ? (frame_height += '"' + video_height + '" ') : (frame_height += '"" '),
                      (video_frame =
                          '<div class="embed-container"><iframe class="vim" src="//player.vimeo.com/video/' +
                          video_id +
                          '" ' +
                          frame_width +
                          frame_height +
                          ' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'),
                      jQuery(".vimeo_player").removeClass("display_bottom"),
                      jQuery(".vimeo_player").removeClass("display_top"),
                      video_frame);
            });
        },
        fallback: function () {
            "use strict";
            var id = "vimeo";
            tarteaucitron.fallback(["vimeo_player"], function (elem) {
                var thumb = elem.getAttribute("thumb");
                if (thumb)
                    var thumbcontent = "<img src='" + thumb + "' class='dsgvo_video_preview_img' style='width:" + elem.getAttribute("width") + ";height: "+ elem.getAttribute("height") +"' width='" + elem.getAttribute("width") + "' height='" + elem.getAttribute("height") + "'/>";
                else var thumbcontent = "";
                return (elem.style.width = elem.getAttribute("width") + "px"), (elem.style.height = elem.getAttribute("height") + "px"), tarteaucitron.engage(id) + thumbcontent;
            });
        },
    };

tarteaucitron.services.facebook = {
    "key": "facebook",
    "type": "social",
    "name": "Facebook",
    "uri": "https://www.facebook.com/policies/cookies/",
    "needConsent": true,
    "cookies": ['_fbp'],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['fb-post', 'fb-follow', 'fb-activity', 'fb-send', 'fb-share-button', 'fb-like', 'fb-video'], '');
        tarteaucitron.addScript('//connect.facebook.net/' + tarteaucitron.getLocale() + '/sdk.js#xfbml=1&version=v2.0', 'facebook-jssdk');
        if (tarteaucitron.isAjax === true) {
            if (typeof FB !== "undefined") {
                FB.XFBML.parse();
            }
        }
    },
    "fallback": function () {
        "use strict";
        var id = 'facebook';
        tarteaucitron.fallback(['fb-post', 'fb-follow', 'fb-activity', 'fb-send', 'fb-share-button', 'fb-like', 'fb-video'], tarteaucitron.engage(id));
    }
};

tarteaucitron.services.facebooklikebox = {
    "key": "facebooklikebox",
    "type": "social",
    "name": "Facebook (like box)",
    "uri": "https://www.facebook.com/policies/cookies/",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['fb-like-box', 'fb-page'], '');
        tarteaucitron.addScript('//connect.facebook.net/' + tarteaucitron.getLocale() + '/sdk.js#xfbml=1&version=v2.3', 'facebook-jssdk');
        if (tarteaucitron.isAjax === true) {
            if (typeof FB !== "undefined") {
                FB.XFBML.parse();
            }
        }
    },
    "fallback": function () {
        "use strict";
        var id = 'facebooklikebox';
        tarteaucitron.fallback(['fb-like-box', 'fb-page'], tarteaucitron.engage(id));
    }
};

tarteaucitron.services.facebookcomment = {
    "key": "facebookcomment",
    "type": "comment",
    "name": "Facebook",
    "uri": "https://www.facebook.com/policies/cookies/",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['fb-comments'], '');
		
	
		
        tarteaucitron.addScript('//connect.facebook.net/' + tarteaucitron.getLocale() + '/sdk.js#xfbml=1&version=v2.5', 'facebook-jssdk');
        if (tarteaucitron.isAjax === true) {
            if (typeof FB !== "undefined") {
                FB.XFBML.parse();
            }
        }
    },
    "fallback": function () {
        "use strict";
        var id = 'facebookcomment';
        tarteaucitron.fallback(['fb-comments'], tarteaucitron.engage(id));
    }
};


tarteaucitron.services.gajs = {
    "key": "gajs",
    "type": "analytic",
    "name": "Google Analytics (ga.js)",
    "uri": "https://support.google.com/analytics/answer/6004245",
    "needConsent": true,
    "cookies": ['_ga', '_gat', '__utma', '__utmb', '__utmc', '__utmt', '__utmz'],
    "js": function () {
        "use strict";
        window._gaq = window._gaq || [];
        window._gaq.push(['_setAccount', tarteaucitron.user.gajsUa]);

        if (tarteaucitron.user.gajsAnonymizeIp) {
            window._gaq.push (['_gat._anonymizeIp']);
        }

        if (tarteaucitron.user.gajsPageView) {
            window._gaq.push(['_trackPageview, ' + tarteaucitron.user.gajsPageView]);
        } else {
            window._gaq.push(['_trackPageview']);
        }

        tarteaucitron.addScript('//www.google-analytics.com/ga.js', '', function () {
            if (typeof tarteaucitron.user.gajsMore === 'function') {
                tarteaucitron.user.gajsMore();
            }
        });
    }
};

tarteaucitron.services.googletagmanager = {
    "key": "googletagmanager",
    "type": "api",
    "name": "Google Tag Manager",
    "uri": "http://www.google.com/ads/preferences/",
    "needConsent": true,
    "cookies": ['_ga', '_gat', '__utma', '__utmb', '__utmc', '__utmt', '__utmz', '__gads', '_drt_', 'FLC', 'exchange_uid', 'id', 'fc', 'rrs', 'rds', 'rv', 'uid', 'UIDR', 'UID', 'clid', 'ipinfo', 'acs'],
    "js": function () {
        "use strict";
        if (tarteaucitron.user.googletagmanagerId === undefined) {
            return;
        }
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        tarteaucitron.addScript('//www.googletagmanager.com/gtm.js?id=' + tarteaucitron.user.googletagmanagerId);
    }
};

tarteaucitron.services.koko = {
    "key": "koko",
    "type": "analytic",
    "name": "Koko Analytics",
    "uri": "https://www.kokoanalytics.com/",
    "needConsent": true,
    "cookies": ['_koko_analytics_pages_viewed'],
    "js": function () {
        "use strict";
        if (tarteaucitron.user.kokoanalyticscode === undefined) {
            return;
        }

				jQuery(function() {

					var runCustomCode1 = 'const e=window.koko_analytics,o=String(e.post_id);!function(){if("doNotTrack"in navigator&&"1"===navigator.doNotTrack&&e.honor_dnt)return;if("visibilityState"in document&&"prerender"===document.visibilityState)return;if(/bot|crawler|spider|crawling|seo|chrome-lighthouse/i.test(navigator.userAgent))return;if(window.location!==window.parent.location)return;const n=e.use_cookie?function(e){if(!document.cookie)return"";const o=document.cookie.split("; ");let n;for(let t=0;t<o.length;t++)if(n=o[t].split("="),n[0]===e)return decodeURIComponent(n[1]);return""}("_koko_analytics_pages_viewed"):"",t=n.split(",").filter((function(e){return""!==e}));let i=0===n.length,r=-1===t.indexOf(o),c="";"string"==typeof document.referrer&&""!==document.referrer&&(0===document.referrer.indexOf(window.location.origin)?(i=!1,document.referrer===window.location.href&&(r=!1)):c=document.referrer);const d=document.createElement("img");d.style.display="none",d.onload=function(){if(document.body.removeChild(d),e.use_cookie){-1===t.indexOf(o)&&t.push(o);const n=new Date;n.setHours(n.getHours()+6),function(o,n,t){let i=(o=window.encodeURIComponent(o))+"="+(n=window.encodeURIComponent(String(n)));i+=";path="+e.cookie_path+";SameSite=Lax;expires="+t.toUTCString(),document.cookie=i}("_koko_analytics_pages_viewed",t.join(","),n)}};let a="";a+="p="+o,a+="&nv="+(i?"1":"0"),a+="&up="+(r?"1":"0"),a+="&r="+encodeURIComponent(c),d.src=e.tracker_url+(e.tracker_url.indexOf("?")>-1?"&":"?")+a,document.body.appendChild(d)}()';

					var customCode1=new Function (runCustomCode1);

					return(customCode1());
					
				});		
	}
};

tarteaucitron.services.analytics = {
    "key": "analytics",
    "type": "analytic",
    "name": "Google Analytics",
    "uri": "https://support.google.com/analytics/answer/6004245",
    "needConsent": true,
    "cookies": ['_ga', '_gat', '_gid', '__utma', '__utmb', '__utmc', '__utmt', '__utmz'],
    "js": function () {
        "use strict";
        window.GoogleAnalyticsObject = 'ga';
        window.ga = window.ga || function () {
            window.ga.q = window.ga.q || [];
            window.ga.q.push(arguments);
        };
		
		var use_monserinsight = tarteaucitron.user.usemonsterinsight;
		
		var useanalytify = tarteaucitron.user.useanalytify;
		if (use_monserinsight == "true") {
				jQuery(function() {

					var runCustomCode1 = decodeURIComponent(tarteaucitron.user.monsterinsightcode.replace(/\+/g, ' ')).replace(/&quot;/g, '"');
console.log(runCustomCode1);
					var customCode1=new Function (runCustomCode1);

					return(customCode1());
					
				});			
		} else if (useanalytify == "true") {
				jQuery(function() {

				var runCustomCode1 = decodeURIComponent(tarteaucitron.user.analytifycode.replace(/\+/g, ' ')).replace(/&quot;/g, '"');

				var customCode1=new Function (runCustomCode1);

				return(customCode1());
				
				});	
		} else {
        window.dataLayer = window.dataLayer || [];
        tarteaucitron.addScript('https://www.googletagmanager.com/gtag/js?id=' + tarteaucitron.user.analyticsUa, '', function () {
            window.gtag = function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', tarteaucitron.user.analyticsUa);

            if (typeof tarteaucitron.user.analyticsMore === 'function') {
                tarteaucitron.user.analyticsMore();
            }
        });

		
		}
    }
};



tarteaucitron.services.gtag = {
    "key": "gtag",
    "type": "analytic",
    "name": "Google Analytics (gtag.js)",
    "uri": "https://support.google.com/analytics/answer/6004245",
    "needConsent": true,
    "cookies": (function () {
        // Add _gat_gtag_UA_XXXXXXX_XX cookie to cookies array
        var gatGtagUaCookie = '_gat_gtag_' + tarteaucitron.user.gtagUa;
        gatGtagUaCookie = gatGtagUaCookie.replace(/-/g, '_');
        return ['_ga', '_gat', '_gid', '__utma', '__utmb', '__utmc', '__utmt', '__utmz', gatGtagUaCookie];
    })(),
    "js": function () {
        "use strict";
        if (tarteaucitron.user.gtagUa === undefined) {
            return;
        }
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        tarteaucitron.addScript('//www.googletagmanager.com/gtm.js?id=' + tarteaucitron.user.gtagUa);
    }	
};


tarteaucitron.services.linkedin = {
    "key": "linkedin",
    "type": "social",
    "name": "Linkedin",
    "uri": "https://www.linkedin.com/legal/cookie_policy",
    "needConsent": true,
    "cookies": ['bcookie', 'bscookie', 'lidc', 'lang'],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['tacLinkedin'], '');
        tarteaucitron.addScript('//platform.linkedin.com/in.js');
        if (tarteaucitron.isAjax === true) {
            if (typeof IN !== "undefined") {
                IN.parse();
            }
        }
    },
    "fallback": function () {
        "use strict";
        var id = 'linkedin';
        tarteaucitron.fallback(['tacLinkedin'], tarteaucitron.engage(id));
    }
};

tarteaucitron.services.pinterest = {
    "key": "pinterest",
    "type": "social",
    "name": "Pinterest",
    "uri": "https://about.pinterest.com/privacy-policy",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['tacPinterest'], '');
        tarteaucitron.addScript('//assets.pinterest.com/js/pinit.js');
    },
    "fallback": function () {
        "use strict";
        var id = 'pinterest';
        tarteaucitron.fallback(['tacPinterest'], tarteaucitron.engage(id));
    }
};



tarteaucitron.services.sharethis = {
    "key": "sharethis",
    "type": "social",
    "name": "ShareThis",
    "uri": "http://www.sharethis.com/legal/privacy/",
    "needConsent": true,
    "cookies": ['__unam'],
    "js": function () {
        "use strict";
        if (tarteaucitron.user.sharethisPublisher === undefined) {
            return;
        }
        var switchTo5x = true,
            uri = ('https:' === document.location.protocol ? 'https://ws' : 'http://w') + '.sharethis.com/button/buttons.js';

        tarteaucitron.fallback(['tacSharethis'], '');
        tarteaucitron.addScript(uri, '', function () {
            stLight.options({publisher: tarteaucitron.user.sharethisPublisher, doNotHash: false, doNotCopy: false, hashAddressBar: false});
        });

        if (tarteaucitron.isAjax === true) {
            if (typeof stButtons !== "undefined") {
                stButtons.locateElements();
            }
        }
    },
    "fallback": function () {
        "use strict";
        var id = 'sharethis';
        tarteaucitron.fallback(['tacSharethis'], tarteaucitron.engage(id));
    }
};


tarteaucitron.services.twitter = {
    "key": "twitter",
    "type": "social",
    "name": "Twitter",
    "uri": "https://support.twitter.com/articles/20170514",
    "needConsent": true,
    "cookies": ['external_referer','_twitter_sess','guest_id','personalization_id'],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['tacTwitter'], '');
        tarteaucitron.addScript('//platform.twitter.com/widgets.js', 'twitter-wjs');
    },
    "fallback": function () {
        "use strict";
        var id = 'twitter';
        tarteaucitron.fallback(['tacTwitter'], tarteaucitron.engage(id));
    }
};

tarteaucitron.services.twitterembed = {
    "key": "twitterembed",
    "type": "social",
    "name": "Twitter (cards)",
    "uri": "https://support.twitter.com/articles/20170514",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        var uniqIds = [],
            i,
            e,
            html;

        tarteaucitron.fallback(['twitterembed-canvas'], function (x) {
            var uniqId = '_' + Math.random().toString(36).substr(2, 9);
            uniqIds.push(uniqId);
            html = '<div id="' + uniqId + '" ';
            html += 'tweetid="' + x.getAttribute('tweetid') + '" ';
            html += 'theme="' + x.getAttribute('theme') + '" ';
            html += 'cards="' + x.getAttribute('cards') + '" ';
            html += 'conversation="' + x.getAttribute('conversation') + '" ';
            html += 'data-width="' + x.getAttribute('data-width') + '" ';
            html += 'data-align="' + x.getAttribute('data-align') + '" ';
            html += '></div>';
            return html;
        });

        tarteaucitron.addScript('//platform.twitter.com/widgets.js', 'twitter-wjs', function () {
            for (i = 0; i < uniqIds.length; i += 1) {
                e = document.getElementById(uniqIds[i]);
                twttr.widgets.createTweet(
                    e.getAttribute('tweetid'),
                    e,
                    {
                        theme: e.getAttribute('theme'),
                        cards: e.getAttribute('cards'),
                        conversation: e.getAttribute('conversation'),
                        lang: tarteaucitron.getLanguage(),
                        dnt: true,
                        width: e.getAttribute('data-width'),
                        align: e.getAttribute('data-align')
                    }
                );
            }
        });
    },
    "fallback": function () {
        "use strict";
        var id = 'twitterembed';
        tarteaucitron.fallback(['twitterembed-canvas'], function (elem) {
            elem.style.width = elem.getAttribute('data-width') + 'px';
            return tarteaucitron.engage(id);
        });
    }
};

tarteaucitron.services.twittertimeline = {
    "key": "twittertimeline",
    "type": "social",
    "name": "Twitter (timelines)",
    "uri": "https://support.twitter.com/articles/20170514",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        tarteaucitron.fallback(['tacTwitterTimelines'], '');
        tarteaucitron.addScript('//platform.twitter.com/widgets.js', 'twitter-wjs');
    },
    "fallback": function () {
        "use strict";
        var id = 'twittertimeline';
        tarteaucitron.fallback(['tacTwitterTimelines'], tarteaucitron.engage(id));
    }
};

tarteaucitron.services.uservoice = {
    "key": "uservoice",
    "type": "support",
    "name": "UserVoice",
    "uri": "https://www.uservoice.com/privacy/",
    "needConsent": true,
    "cookies": [],
    "js": function () {
        "use strict";
        if (tarteaucitron.user.userVoiceApi === undefined) {
            return;
        }
        tarteaucitron.addScript('//widget.uservoice.com/' + tarteaucitron.user.userVoiceApi + '.js');
    }
};


tarteaucitron.services.facebookpixel = {
    "key": "facebookpixel",
    "type": "ads",
    "name": "Facebook Pixel",
    "uri": "https://fr-fr.facebook.com/business/help/www/651294705016616",
    "needConsent": true,
    "cookies": ['datr', 'fr', 'reg_ext_ref', 'reg_fb_gate', 'reg_fb_ref', 'sb', 'wd', 'x-src', '_fbp'],
    "js": function () {
        "use strict";
        var n;
        if(window.fbq)return;
        n=window.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)} ;
        if(!window._fbq)window._fbq=n;
        n.push=n;
        n.loaded=!0;
        n.version='2.0';
        n.queue=[];
        tarteaucitron.addScript('https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', tarteaucitron.user.facebookpixelId);
		if (pixelevent == "PageView" || pixelevent === "") {
		
			fbq('track', 'PageView');
	
		} else if (pixelevent == "InitiateCheckout") {
			fbq('track', 'InitiateCheckout');
		} else if (pixelevent == "AddToCart") {
			fbq('track', 'AddToCart', {
				content_name: fbpixel_content_name,
				content_ids: [fbpixel_content_ids],
				content_type: 'product',
				value: fbpixel_product_price,
				currency: fbpixel_currency
			});  			
		} else if (pixelevent == "Purchase" && isbuyedsendet == "true") {
			fbq('track', 'Purchase', {currency: pixeleventcurrency, value: pixeleventamount});
			jQuery.ajax({
						type: 'POST',
						url: adminajaxurl,
						data: {
							'value': pixelevent,
							'name': 'pixelevent',
							'orderid': pixelorderid,
							'action': 'dsgvoaiofree_change_session'
							}, success: function (result) {
							},
							error: function () {
				
							}
			});				
		} else {
			fbq('track', 'PageView');
		}

        if (typeof tarteaucitron.user.facebookpixelMore === 'function') {
            tarteaucitron.user.facebookpixelMore();
        }
    }
};


tarteaucitron.services.vgwort = {
    "key": "vgwort",
    "type": "analytic",
    "name": "VGWort",
    "uri": "https://www.vgwort.de/hilfsseiten/datenschutz.html",
    "needConsent": true,
    "cookies": ['srp'],
    "js": function () {
        "use strict";

        var uniqIds = [],
            vgwortcode,
            html;
        tarteaucitron.fallback(['dsgvoaio_vgwort'], function (x) {
            var uniqId = '_' + Math.random().toString(36).substr(2, 9);
			var html;
			var vgwortcode =  x.getAttribute('data-vgwortcode');
            uniqIds.push(uniqId);
			if (vgwortcode) {
            html = '<span id="' + uniqId + '" ';
			html + vgwortcode;
            html += '></span>';
			} else {
			html += '';	
			}
            return vgwortcode;
        });
    },
    "fallback": function () {
        "use strict";
        var id = 'vgwort';
        tarteaucitron.fallback(['dsgvoaio_vgwort'], function (elem) {
            elem.style.width = elem.getAttribute('data-width') + 'px';
            return tarteaucitron.engage(id);
        });
    }
};


tarteaucitron.services.shareaholic = {
    "key": "shareaholic",
    "type": "social",
    "name": "Shareaholic",
    "uri": "https://shareaholic.com/privacy/choices",
    "needConsent": true,
    "cookies": ['__utma', '__utmb', '__utmc', '__utmz', '_shareaholic_session'],
    "js": function () {
        "use strict";
        if (tarteaucitron.user.shareaholicSiteId === undefined) {
            return "No Shareaholic ID defined. Please add your ID in DSGVO AIO Settings.";
        }

        tarteaucitron.fallback(['shareaholic-canvas'], '');
        tarteaucitron.addScript('//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js', '', function () {
            try {
                Shareaholic.init(tarteaucitron.user.shareaholicSiteId);
            } catch (e) {}
        });
    },
    "fallback": function () {
        "use strict";
        var id = 'shareaholic';
        tarteaucitron.fallback(['shareaholic-canvas'], tarteaucitron.engage(id));
    }
};


tarteaucitron.services.matomo = {
    "key": "matomo",
    "type": "analytic",
    "name": "Matomo",
    "uri": "https://matomo.org/faq/general/faq_146/",
    "needConsent": true,
    "cookies": ['_pk_ref', '_pk_cvar', '_pk_id', '_pk_ses', '_pk_hsr', 'piwik_ignore', '_pk_uid'],
    "js": function () {
        "use strict";
		var endpoint;
        if (tarteaucitron.user.matomoId === undefined) {
            return;
        }
        if (tarteaucitron.user.matomoEndpoint === undefined) {
			endpoint = "matomo.php";
        } else {
			endpoint = tarteaucitron.user.matomoEndpoint;
			if (endpoint == "matomophp") {
				endpoint = "matomo.php";
			} else {
				endpoint = "piwik.php";
			}
		}	
        window._paq = window._paq || [];
        window._paq.push(["setSiteId", tarteaucitron.user.matomoId]);
        window._paq.push(["setTrackerUrl", tarteaucitron.user.matomoHost + endpoint]);
        window._paq.push(["setDoNotTrack", 1]);
        window._paq.push(["trackPageView"]);
        window._paq.push(["setIgnoreClasses", ["no-tracking", "colorbox"]]);
        window._paq.push(["enableLinkTracking"]);

        tarteaucitron.addScript(tarteaucitron.user.matomoHost + 'matomo.js', '', '', true, 'defer', true);
    }
};