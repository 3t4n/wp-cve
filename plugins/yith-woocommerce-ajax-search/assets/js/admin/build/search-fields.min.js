(()=>{"use strict";var e={"./assets/js/admin/src/functions.js":
/*!******************************************!*\
  !*** ./assets/js/admin/src/functions.js ***!
  \******************************************/(e,t,r)=>{r.r(t),r.d(t,{scrollTo:()=>c});var c=function(e){jQuery("html,body").animate({scrollTop:jQuery(e).offset().top-100},"slow")}}},t={};function r(c){var a=t[c];if(void 0!==a)return a.exports;var n=t[c]={exports:{}};return e[c](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var c in t)r.o(t,c)&&!r.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};(()=>{
/*!**********************************************!*\
  !*** ./assets/js/admin/src/search-fields.js ***!
  \**********************************************/
r.r(c);var e,t,a,n,o,i,s,l,u,d,y,f,p,h,m,g,v,w,j,Q=r(/*! ./functions */"./assets/js/admin/src/functions.js");e=document.querySelector(".ywcas-add-field"),t=document.querySelector("#search-fields tbody"),a=wp.template("ywcas-search-fields"),n=[],o=[],i=[],s=1,l=["product_tag","product_category","product_attribute","product_custom_field"],u=function(){o=[],document.querySelectorAll(".ywcas-search-field-type").forEach((function(e){o.push(e.value)}))},d=function(){1==jQuery(".ywcas-search-field").length?jQuery(".action__trash").hide():jQuery(".action__trash").show()},y=function(){u(),d(),jQuery(document).trigger("yith-plugin-fw-tips-init"),document.querySelectorAll(".ywcas-search-field-type").forEach((function(e){var t;t=e,jQuery(t).find("option").attr("disabled",!1),o.forEach((function(e){t.value!==e&&jQuery(t).find('option[value="'.concat(e,'"]')).attr("disabled",!0)})),jQuery(document.body).trigger("wc-enhanced-select-init"),jQuery(t).selectWoo()}))},f=function(e){e.preventDefault(),u(),i=n.filter((function(e){return!o.includes(e)}));var r=a({id:Date.now(),edit:!1}),c=document.createElement("tr");c.innerHTML=r,c.classList.add("ywcas-search-field"),c.querySelector(".ywcas-search-field-type").value=i[0],c.querySelector(".ywcas-search-priority").value=m(),t.appendChild(c),jQuery(c).find(".ywcas-search-field-type").trigger("change"),p(),jQuery(document.body).trigger("wc-enhanced-select-init"),jQuery(document.body).trigger("yith-framework-enhanced-select-init"),y()},p=function(){o.length===n.length?jQuery(e).hide():jQuery(e).show()},h=function(e){var t=e.target,r=t.value,c=t.closest(".ywcas-search-field"),a=jQuery(c).find('[data-type="'.concat(r,'"]'));jQuery(c).find(".search-field-type-condition,.search-field-type-list").hide(),a&&a.css({display:"block"}),y()},m=function(){return s=1,document.querySelectorAll(".ywcas-search-priority").forEach((function(e){s=e.value>s?e.value:s})),++s},g=function(e){var t=e.target,r=t.value,c=t.closest("tr"),a=t.closest(".search-field-type-condition").dataset.type;"all"!==r?jQuery(c).find('[data-subtype="'.concat(a,'"]')).show():jQuery(c).find('[data-subtype="'.concat(a,'"]')).hide()},v=function(e){e.preventDefault();var t=e.target;document.querySelectorAll(".ywcas-search-field").length<=1||yith.ui.confirm({title:ywcas_admin_params.message_alert.title,message:ywcas_admin_params.message_alert.desc,confirmButton:ywcas_admin_params.message_alert.confirmButton,closeAfterConfirm:!0,classes:{wrap:"ywcas-warning-popup"},onConfirm:function(){t.closest("tr").remove(),d(),u(),p(),jQuery("#tiptip_holder").hide()}})},w=function(e){e.preventDefault();var t=document.querySelectorAll(".ywcas-search-field"),r=!1;t.forEach((function(e){var t,c=jQuery(e).find("select.ywcas-search-field-type").val();if(l.includes(c)){var a=null;"product_tag"!==c&&"product_category"!==c||(a=jQuery(e).find(".".concat(c,"-condition")));var n=jQuery(e).find(".select-".concat(c)),o=n.closest(".yith-plugin-fw-select2-wrapper");a&&"all"==a.val()||0!==(null===(t=n.val())||void 0===t?void 0:t.length)||o.find(".select2").hasClass("is-empty")||(r||(r=n),o.append(jQuery("<span class='empty-field description'>".concat(ywcas_admin_params.emptyField,"</span>"))),o.find(".select2").addClass("is-empty"))}})),r?(0,Q.scrollTo)(r):jQuery("#plugin-fw-wc").submit()},j=function(e){var t=jQuery(e.target).closest(".yith-plugin-fw-select2-wrapper");t.find(".empty-field").remove(),t.find(".select2").removeClass("is-empty")},document.querySelector(".ywcas-search-field-type").querySelectorAll("option").forEach((function(e){return n.push(e.value)})),d(),u(),p(),jQuery(document).on("click",".ywcas-add-field",f),jQuery(document).on("change",".ywcas-search-field-type",h),jQuery(document).on("change",".search-field-type-condition select",g),jQuery(document).on("click",".action__trash",v),jQuery(document).on("click","#main-save-button",w),jQuery(document).on("change",".yith-term-search",j),jQuery(document).find(".ywcas-search-field-type").trigger("change"),jQuery(document).find(".search-field-type-condition select").trigger("change")})();var a=window;for(var n in c)a[n]=c[n];c.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();