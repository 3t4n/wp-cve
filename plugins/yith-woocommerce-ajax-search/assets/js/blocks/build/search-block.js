(()=>{var e,t={788:(e,t,o)=>{"use strict";o.r(t);const r=window.wp.blocks,a=window.wp.i18n;var l=o(280);let n=wp.element.createElement;const s=n("svg",{width:22,height:22},n("path",{d:"M 18.24 7.628 C 17.291 8.284 16.076 8.971 14.587 9.688 C 15.344 7.186 15.765 4.851 15.849 2.684 C 15.912 0.939 15.133 0.045 13.514 0.003 C 11.558 -0.06 10.275 1.033 9.665 3.284 C 10.007 3.137 10.359 3.063 10.723 3.063 C 11.021 3.063 11.267 3.184 11.459 3.426 C 11.651 3.668 11.736 3.947 11.715 4.262 C 11.695 5.082 11.276 5.961 10.46 6.896 C 9.644 7.833 8.918 8.3 8.282 8.3 C 7.837 8.3 7.625 7.922 7.646 7.165 C 7.667 6.765 7.804 5.955 8.056 4.735 C 8.287 3.579 8.403 2.801 8.403 2.401 C 8.403 1.707 8.224 1.144 7.867 0.713 C 7.509 0.282 6.994 0.098 6.321 0.161 C 5.858 0.203 5.175 0.624 4.27 1.422 C 3.596 2.035 2.923 2.644 2.25 3.254 L 2.976 4.106 C 3.564 3.664 3.922 3.443 4.048 3.443 C 4.448 3.443 4.637 3.717 4.617 4.263 C 4.617 4.306 4.427 4.968 4.049 6.251 C 3.671 7.534 3.471 8.491 3.449 9.122 C 3.407 9.985 3.565 10.647 3.924 11.109 C 4.367 11.677 5.106 11.919 6.142 11.835 C 7.366 11.751 8.591 11.298 9.816 10.479 C 10.323 10.142 10.808 9.753 11.273 9.311 C 11.105 10.153 10.905 10.868 10.673 11.457 C 8.402 12.487 6.762 13.37 5.752 14.107 C 4.321 15.137 3.554 16.241 3.449 17.419 C 3.259 19.459 4.29 20.479 6.541 20.479 C 8.055 20.479 9.517 19.554 10.926 17.703 C 12.125 16.126 13.166 14.022 14.049 11.394 C 15.578 10.635 16.87 9.892 17.928 9.164 C 17.894 9.409 18.319 7.308 18.24 7.628 Z  M 7.393 16.095 C 7.056 16.095 6.898 15.947 6.919 15.653 C 6.961 15.106 7.908 14.38 9.759 13.476 C 8.791 15.221 8.002 16.095 7.393 16.095 Z"}));function c(e){return(0,l.createElement)("svg",{fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",...e},(0,l.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))}var i=o(84),u=o.n(i);const m=window.wp.components,d=window.wp.blockEditor;var p=o(496);const h=window.wp.data,w=(0,p.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),g=()=>(0,p.useContext)(w),y=({children:e,currentPostId:t=0,previewData:o={},currentView:r="",size:a="small",isPreview:n=!1,columns:s=3,rows:c=1,products:i=[],isSearching:u=!1,totals:m=0,showName:d=!0,showImage:g=!0,showPrice:y=!0,showAddToCart:C=!0})=>{const b=(0,h.useSelect)((e=>{var o;return t||(null===(o=e("core/editor"))||void 0===o?void 0:o.getCurrentPostId())}),[t]),_=(0,p.useCallback)((e=>o&&e in o?o[e]:{}),[o]),k={isEditor:!0,currentPostId:b,currentView:r,previewData:o,getPreviewData:_,isPreview:n,size:a,columns:s,rows:c,isSearching:u,totals:m,products:i,showName:d,showImage:g,showPrice:y,showAddToCart:C};return(0,l.createElement)(w.Provider,{value:k},e)},C=window.lapilliUI.components,b=({submitStyle:e,buttonLabel:t,iconType:o,onClick:r,wrapperStyle:a})=>{switch(e){case"text":return(0,l.createElement)(C.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:r},t);case"icon":return"icon-right"===o&&(0,l.createElement)(C.Box,{className:"ywcas-submit-wrapper",sx:a},(0,l.createElement)(m.Icon,{className:"ywcas-submit-icon",onClick:r,icon:c()}));case"iconText":return(0,l.createElement)(C.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:r},(0,l.createElement)(m.Icon,{className:"ywcas-submit-icon",icon:c()})," ",t)}},_=window.ywcas.ywcasSettings,k=({queryString:e,placeholder:t,placeholderTextColor:o,inputTextColor:r,inputBgColor:a,inputBgFocusColor:n,inputBorderColor:s,inputBorderFocusColor:i,inputBorderSize:u,inputBorderRadius:d,submitContentColor:p,submitContentHoverColor:h,submitBgColor:w,submitBgHoverColor:g,submitBorderColor:y,submitBorderHoverColor:k,submitStyle:f,size:v,setSearchQuery:x,iconType:E,buttonLabel:S,buttonBorderRadius:B,onFocus:T=null,onBlur:I=null,onCloseMobile:N=null,isSmallDevice:j=!1})=>{const L=()=>({borderRadius:"50%",backgroundColor:`${w}!important`,border:"1px solid",borderColor:`${y||"#FFF"} !important`,svg:{height:""!==w&&"#fff"!==w.toLowerCase()&&"#ffffff"!==w.toLowerCase()?"20px":"24px"},"&:hover, & > sgv:hover":{backgroundColor:`${g}!important`,borderColor:`${k||"#FFF"} !important`}}),R=()=>{if(""!==e){const t=_.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+_.YWCAS_LANG+"&s="+e;window.location.href=t}};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(C.Box,{className:"ywcas-block-components-search-field",sx:{"& .ywcas-input-field-wrapper":{flex:1,borderRadius:`${d.topLeft} ${d.topRight} ${d.bottomRight} ${d.bottomLeft}`,borderColor:`${s||"#7C7C7C"}!important`,borderWidth:`${u.topLeft} ${u.topRight}  ${u.bottomLeft} ${u.bottomRight}`,backgroundColor:`${a||"#FFF"}!important`,borderStyle:"solid",overflow:"hidden","&:focus-within":{backgroundColor:`${n||"#FFF"}!important`,borderColor:`${i||"#5B5B5B"}!important`},"& >div":{width:"100%",padding:0,input:{flex:1}}},"& .ywcas-input-field input":{color:`${r||"#000"} !important`,fontSize:"1rem!important"},"& .ywcas-input-field input::placeholder":{color:`${o||"#000"}`,opacity:1},"& .ywcas-submit-button":{color:`${p||"#fff"} !important`,backgroundColor:`${w||"#a7ab06"} !important`,borderColor:`${y||"#FFF"} !important`,borderRadius:`${B.topLeft} ${B.topRight} ${B.bottomRight} ${B.bottomLeft}`},"& .ywcas-submit-button:hover":{color:`${h||"#fff"} !important`,backgroundColor:`${g||"#a7ab06"} !important`,borderColor:`${k||"#FFF"} !important`},"& .ywcas-submit-icon":{color:`${p||"#000"} !important`},"&:hover .ywcas-submit-icon, & .ywcas-submit-icon:hover":{color:`${h||"#000"} !important`},"& .lapilliUI-Input__backdrop":{display:"none"}}},j&&(0,l.createElement)("div",{className:"mobile-search-close",onClick:N},(0,l.createElement)(m.Icon,{icon:(0,l.createElement)("svg",{fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,l.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))})),(0,l.createElement)(C.Stack,{direction:"row",spacing:0},(0,l.createElement)(C.Stack,{className:"ywcas-input-field-wrapper"},(0,l.createElement)(C.Input,{className:"ywcas-input-field",placeholder:t,autoComplete:"off",size:v,value:e,onChange:x,onFocus:T,onBlur:I,onKeyDown:e=>{"Enter"===e.key&&R()},startAdornment:"icon"===f&&"icon-left"===E?(0,l.createElement)(C.Box,{className:"ywcas-submit-wrapper",sx:L()},(0,l.createElement)(m.Icon,{className:"ywcas-submit-icon",icon:c()})):null,endAdornment:(0,l.createElement)(b,{submitStyle:f,buttonLabel:S,submitBgColor:w,iconType:E,onClick:R,wrapperStyle:L()})})))))};var f=o(48);const v=e=>accounting.formatMoney(e,_.ywcas_wc_data.currency),x=(e,t=0)=>{const o=v(e);return parseFloat(t)&&t!==e?`${v(t)} - ${o}`:o},E=(e,t)=>e.split(" ").slice(0,t).join(" "),S=({className:e,label:t,backgroundColor:o,color:r,top:a})=>(0,l.createElement)(C.Box,{className:`ywcas-badge ${e}`,sx:{top:`${a}px`,backgroundColor:o,color:r}},t),B=({imageSize:e,marginLeft:t,item:o,showSaleBadge:r,showOutOfStockBadge:a,showFeaturedBadge:n,hideFeaturedIfOnSale:s})=>{const c=Boolean(parseInt(o.instock)),i=r&&Boolean(parseInt(o.onsale)),u=(!s||!i)&&n&&Boolean(parseInt(o.featured)),m=a&&!c,{saleBadgeLabel:d,saleFeaturedLabel:p,saleOutOfStockLabel:h,saleBadgeColors:w,featuredBadgeColors:g,outOfStockBadgeColors:y}=_.ywcasDefaultSettings,b=i?30:5,k=u?b+25:i?30:5;return(0,l.createElement)(C.Stack,{className:"search-result-item__thumbnail",sx:{width:e,marginLeft:t}},i&&(0,l.createElement)(S,{className:"ywcas-onsale-badge",top:5,label:(0,f.cp)(d),backgroundColor:w.bgcolor,color:w.color}),u&&(0,l.createElement)(S,{className:"ywcas-featured-badge",top:b,label:p,backgroundColor:g.bgcolor,color:g.color}),m&&(0,l.createElement)(S,{className:"ywcas-outofstock-badge",top:k,label:h,backgroundColor:y.bgcolor,color:y.color}),(0,l.createElement)("img",{src:"string"==typeof o.thumbnail.small?o.thumbnail.small:_.ywcas_wc_data.placeholderImageSrc,alt:o.name,width:e}))},T=function(e){const{item:t,searchQuery:o,onClick:r,showName:a,showImage:n,showPrice:s,showCategories:c,showStock:i,showSKU:u,showSummary:d,showAddToCart:h,layout:w,imageSize:g,imagePosition:y,summaryMaxWord:b,productNameColor:k,priceLabel:v,categoryResults:S,results:T}=e,I=(e=>{const t=(0,l.useMemo)((()=>window.matchMedia(e)),[e]),[o,r]=(0,l.useState)(t.matches);return(0,l.useEffect)((()=>{const e=()=>r(t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[t]),o})("(max-width: 600px)"),N="grid"===w?"column":"row",j="list"===w&&"right"===y?"auto":0,[L,R]=(0,p.useState)(!1),A=e=>{let t=S.find((t=>parseInt(t.term_id)===e.parent));return t&&0!==t.parent&&(t=A(t)),t},P=e=>{const t=e.name;return(0,l.createElement)("a",{href:e.url},(0,f.cp)(t))},F=e=>{e.stopPropagation(),e.target.classList.contains("search-result-add-to-cart")&&(r(e,t,!1),R(!0),jQuery.ajax({url:_.YWCAS_AJAX_URL.toString().replace("%%endpoint%%","add_to_cart"),data:{quantity:1,product_id:t.post_id,product_sku:t.sku},type:"POST",success:function(e){R(!1)}}))};return(0,l.createElement)(C.Box,{className:`search-result-item ${w}`},(0,l.createElement)(C.Stack,{align:"center",direction:N,spacing:2,className:"search-result-item__content","data-id":t.post_id,"data-name":t.name,onClick:e=>r(e,t)},n&&("grid"===w||"list"===w&&"right"!==y)&&(0,l.createElement)(B,{marginLeft:j,item:t,...e}),(0,l.createElement)((()=>{if(!(n||void 0!==(e=t.thumbnail)&&("object"==typeof e?0!==Object.keys(e).length:e.hasOwnProperty(length)&&0!==e.length)))return"";var e;const o=parseInt(t.instock)>0?"in-stock":"out-of-stock";return(0,l.createElement)(C.Stack,{className:"search-result-item_name",sx:{flex:1,alignItems:"left"},onClick:e=>r(e,t,T.totalResults)},a&&(0,l.createElement)(C.Typography,{sx:{color:k,fontSize:"0.9em"},className:"search-result-item__name"},(0,f.cp)(t.name)),s&&(0,l.createElement)(C.Typography,{className:"search-result-item__price",sx:{fontSize:"0.9em",fontWeight:"600"}},v," ",(e=>"variable"===e.product_type?x(e.max_price,e.min_price):parseInt(e.onsale)?x(e.min_price):x(e.max_price))(t)),(0,l.createElement)(C.Box,{className:"search-result-item__inline_group",direction:"row",sx:{display:"block"}},u&&(0,l.createElement)(C.Typography,{className:"search-result-item__sku"},(0,l.createElement)("strong",null,_.YWCAS_SKU_LABEL)," ",t.sku),u&&i&&(0,l.createElement)("span",null,"-"),i&&(0,l.createElement)(C.Typography,{className:`search-result-item__stock stock ${o}`},parseInt(t.instock)?_.YWCAS_IN_STOCK_LABEL:_.YWCAS_OUT_OF_STOCK_LABEL)),c&&(0,l.createElement)(C.Box,{className:"search-result-item__category",sx:{fontSize:"0.7em"}},(e=>{if(S){const t=S.find((t=>parseInt(t.term_id)===e[0]));if(!t)return"";const o=0!==t.parent&&A(t);return o?(0,l.createElement)(C.Box,null,P(o)," ",(0,l.createElement)("span",null," > "),"  ",P(t)):P(t)}return""})(t.parent_category)),d&&"grid"===w&&(0,l.createElement)(C.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},E(t.summary,b)))}),null),I&&d&&"grid"!==w&&(0,l.createElement)(C.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,f.cp)(E(t.summary,b))),h&&(L?(0,l.createElement)(C.Spinner,{color:"default",size:"sm",thickness:3.6}):(0,l.createElement)("div",{className:"wp-block-button"},(0,l.createElement)((()=>{const e=parseInt(t.instock),o="wp-element-button wp-block-button__link wp-block-woocommerce-product-button search-result-add-to-cart";return parseInt(t.is_purchasable)&&e&&("simple"===t.product_type||"variation"===t.product_type)&&0<parseFloat(null==t?void 0:t.max_price)?(0,l.createElement)(m.Button,{className:o,onClick:F},_.YWCAS_ADD_TO_CART_LABEL):e&&"variable"===t.product_type&&0<parseFloat(null==t?void 0:t.max_price)?(0,l.createElement)(m.Button,{size:"sm",className:o,onClick:e=>r(e,t)},_.YWCAS_SELECT_OPTIONS):(0,l.createElement)(m.Button,{size:"sm",className:o,onClick:e=>r(e,t)},_.YWCAS_READ_MORE)}),null))),n&&"list"===w&&"right"===y&&(0,l.createElement)(B,{marginLeft:j,item:t,...e})),!I&&d&&"grid"!==w&&(0,l.createElement)(C.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,f.cp)(E(t.summary,b))))},I=window.wp.apiFetch;var N=o.n(I);const j=e=>{const{searchQuery:t,layout:o,results:r,categoryList:a,noResults:n,showViewAll:s,showViewAllText:c,maxResultsToShow:i}=e,u=(e,o,a=!0)=>{e.stopPropagation();const l="/ywcas/v1/register?itemID="+o.post_id+"&queryString="+t+"&totalResults="+r.totalResults+"&lang="+_.YWCAS_LANG;N()({path:l}).then((()=>{a&&m(o)})).catch((e=>{console.log(e)}))},m=e=>{e.url&&(window.location.href=e.url)},d=c.replace("{total}",r.totalResults),p=r.results;return(0,l.createElement)(l.Fragment,null,p&&p.length&&(0,l.createElement)(C.Grid,{className:`ywcas-search-results-grid ${o}`,columns:1},p.map(((t,o)=>(0,l.createElement)(T,{key:o,item:t,onClick:u,results:r,categoryResults:a,...e})))),!p&&(0,l.createElement)(C.Typography,null,n),p&&s&&i<r.totalResults&&(0,l.createElement)("div",{className:"ywcas-total-results"}," > ",(0,l.createElement)("a",{className:"total-results-link",href:"#",onClick:()=>{const e=!1!==r.fuzzyToken?r.fuzzyToken:t,o=_.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+_.YWCAS_LANG+"&s="+e;window.location.href=o}},d)))},L=window.lapilliUI.styles,R=({children:e})=>{const[t,o]=(0,p.useState)();return(0,l.createElement)("div",{ref:e=>e&&(null==e?void 0:e.ownerDocument)&&o(e.ownerDocument)},t&&(0,l.createElement)(C.__experimentalDocumentProvider,{document:t},(0,l.createElement)(L.StyledProvider,{document:t},e)))};o(780);(0,r.registerBlockType)("yith/filled-block",{icon:s,edit:({clientId:e})=>{const t=(0,d.useBlockProps)(),{currentView:o}=g(),a=[["yith/product-results-block",{},[]]],n=["yith/product-results-block","core/column","core/columns","core/heading","core/paragraph","core/image","core/buttons","core/group","core/separator","core/spacer"];return(({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const a=(0,p.useRef)(t),l=(0,p.useRef)(o),n=(0,h.useRegistry)(),{isPreview:s}=g();(0,p.useEffect)((()=>{let t=!1;if(s)return;const{replaceInnerBlocks:o}=(0,h.dispatch)("core/block-editor");return n.subscribe((()=>{const s=n.select("core/block-editor").getBlocks(e);if(0==s.length&&l.current.length>0&&!t){const a=(0,r.createBlocksFromInnerBlocksTemplate)(l.current);if(0!==a.length)return t=!0,void o(e,a)}const c=a.current.map((e=>(0,r.getBlockType)(e))),i=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>{var t,o,r;return Boolean((null===(t=e.lock)||void 0===t?void 0:t.remove)||(null===(o=e.lock)||void 0===o||null===(r=o.default)||void 0===r?void 0:r.remove))})(e))),r=[];return o.forEach((t=>{void 0!==t&&(e.find((e=>e.name===t.name))||r.push(t))})),r})(s,c);if(0===i.length)return;let u=-1;const m=i.map((e=>{const t=l.current.findIndex((([t])=>t===e.name)),o=(0,r.createBlock)(e.name);return-1===u&&(u=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const r=o.current[e-1],a=t.findIndex((({name:e})=>e===r[0]));return-1===a?e:a+1}})({defaultTemplatePosition:t,innerBlocks:s,currentDefaultTemplate:l})),o}));n.batch((()=>{n.dispatch("core/block-editor").insertBlocks(m,u,e)}))}),"core/block-editor")}),[e,s,n])})({clientId:e,registeredBlocks:n,defaultTemplate:a}),(0,l.createElement)("div",{...t,hidden:"yith/filled-block"!==o},(0,l.createElement)("div",{className:"wp-block-yith-popover-filled-block"},(0,l.createElement)(d.InnerBlocks,{allowedBlocks:n,template:a,templateLock:!1,renderAppender:d.InnerBlocks.ButtonBlockAppender})))},save:()=>(0,l.createElement)("div",{...d.useBlockProps.save()},(0,l.createElement)(d.InnerBlocks.Content,null))});(0,r.registerBlockType)("yith/input-block",{icon:s,edit:({attributes:e,className:t,setAttributes:o,align:r})=>{const{placeholder:n,submitContentColor:s,submitContentHoverColor:c,submitBgColor:i,submitBgHoverColor:p,submitBorderColor:h,submitBorderHoverColor:w,placeholderTextColor:y,inputTextColor:C,inputBgColor:b,inputBgFocusColor:_,inputBorderColor:f,inputBorderFocusColor:v,iconType:x,submitStyle:E}=e,S=(0,d.useBlockProps)(),{size:B}=g(),T=u()("yith-input-block",r?"align"+r:"",t),I=[{key:"icon",value:(0,a.__)("Icon","yith-woocommerce-ajax-search")},{key:"text",value:(0,a.__)("Text","yith-woocommerce-ajax-search")},{key:"iconText",value:(0,a.__)("Text and Icon","yith-woocommerce-ajax-search")},{key:"iconHover",value:(0,a.__)("Icon Hover","yith-woocommerce-ajax-search")},{key:"textHover",value:(0,a.__)("Text Hover","yith-woocommerce-ajax-search")},{key:"iconTextHover",value:(0,a.__)("Text and Icon Hover","yith-woocommerce-ajax-search")}],N=I.find((e=>e.key===E)),j=I.find((e=>e.key===E+"Hover"));let L=[{label:N.value,onColorChange:e=>o({submitContentColor:e}),colorValue:s},{label:j.value,onColorChange:e=>o({submitContentHoverColor:e}),colorValue:c},{label:(0,a.__)("Background","yith-woocommerce-ajax-search"),onColorChange:e=>o({submitBgColor:e}),colorValue:i},{label:(0,a.__)("Background Hover","yith-woocommerce-ajax-search"),onColorChange:e=>o({submitBgHoverColor:e}),colorValue:p},{label:(0,a.__)("Border","yith-woocommerce-ajax-search"),onColorChange:e=>o({submitBorderColor:e}),colorValue:h},{label:(0,a.__)("Border Hover","yith-woocommerce-ajax-search"),onColorChange:e=>o({submitBorderHoverColor:e}),colorValue:w}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.InspectorControls,{key:"inspector"},(0,l.createElement)(m.PanelBody,{title:(0,a.__)("Search input settings","yith-woocommerce-ajax-search"),initialOpen:!0},(0,l.createElement)(m.TextControl,{label:(0,a.__)("Placeholder","yith-woocommerce-ajax-search"),className:"ywcas-block-input__field input-control",value:n,placeholder:(0,a.__)("Enter search placeholder text","yith-woocommerce-ajax-search"),onChange:e=>o({placeholder:e})}),(0,l.createElement)(d.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Color Settings","yith-woocommerce-ajax-search"),initialOpen:!1,settings:[{label:(0,a.__)("Placeholder","yith-woocommerce-ajax-search"),onColorChange:e=>o({placeholderTextColor:e}),colorValue:y},{label:(0,a.__)("Text","yith-woocommerce-ajax-search"),onColorChange:e=>o({inputTextColor:e}),colorValue:C},{label:(0,a.__)("Background","yith-woocommerce-ajax-search"),onColorChange:e=>o({inputBgColor:e}),colorValue:b},{label:(0,a.__)("Background focus","yith-woocommerce-ajax-search"),onColorChange:e=>o({inputBgFocusColor:e}),colorValue:_},{label:(0,a.__)("Border","yith-woocommerce-ajax-search"),onColorChange:e=>o({inputBorderColor:e}),colorValue:f},{label:(0,a.__)("Border focus","yith-woocommerce-ajax-search"),onColorChange:e=>o({inputBorderFocusColor:e}),colorValue:v}]}),"icon"===E&&(0,l.createElement)(m.RadioControl,{label:(0,a.__)("Search icon","yith-woocommerce-ajax-search"),selected:x,onChange:e=>o({iconType:e}),options:[{label:(0,a.__)("Icon on the right","yith-woocommerce-ajax-search"),value:"icon-right"},{label:(0,a.__)("Icon on the left","yith-woocommerce-ajax-search"),value:"icon-left"}]}),(0,l.createElement)(d.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Submit Color Settings","yith-woocommerce-ajax-search"),initialOpen:!1,settings:L}))),(0,l.createElement)("div",{className:T,...S},(0,l.createElement)("div",{className:"ywcas-block-input"},(0,l.createElement)(m.Disabled,null,(0,l.createElement)(k,{...e,size:B})))))},save:()=>(0,l.createElement)("div",{...d.useBlockProps.save()},(0,l.createElement)(d.InnerBlocks.Content,null))});const A=window.ywcas.ywcasBlocksData;var P=o(413),F=o.n(P);const $={};o(952);const O={showName:{type:"boolean",default:_.ywcasDefaultSettings.showName},showImage:{type:"boolean",default:_.ywcasDefaultSettings.showThumb},maxResultsToShow:{type:"number",default:_.ywcasDefaultSettings.maxResults},layout:{type:"string",default:_.ywcasDefaultSettings.layout},imageSize:{type:"number",default:_.ywcasDefaultSettings.thumbSize},productNameColor:{type:"string",default:_.ywcasDefaultSettings.nameColor},noResults:{type:"string",default:_.ywcasDefaultSettings.noResultsLabel},showViewAll:{type:"boolean",default:_.ywcasDefaultSettings.showViewAll},showViewAllText:{type:"string",default:_.ywcasDefaultSettings.viewAllLabel}};(0,r.registerBlockType)("yith/product-results-block",{icon:s,edit:({attributes:e,setAttributes:t})=>{const o=(0,d.useBlockProps)(),{showName:r,showImage:n,imageSize:s,productNameColor:c,noResults:i,showViewAll:w,showViewAllText:y,layout:b,maxResultsToShow:_}=e,{results:k,isSearching:f}=((e={query:"",showCategories:!1,maxResults:5,page:0})=>{const t=(0,p.useRef)({}),{isEditor:o}=g(),{query:r,showCategories:a,maxResults:l,page:n}=e,s=o?"":r,c=(0,h.useSelect)((e=>{const t=`${s}-${n}`;if(!o&&$[t])return{results:$[t],isSearching:!1};{const r=e(A.YWCAS_RESULTS_VIEW_STORE_KEY),c=r.getSearchedResults(s,0,a,l,n,o),i=!r.hasFinishedResolution("getSearchedResults",[s,0,a,l,n,o]),u={results:c,isSearching:i};return i||($[t]=c),u}}));return t.current&&F()(t.current,c)||(t.current=c),{results:t.current.results,isSearching:t.current.isSearching,getCategories:e=>(0,h.useSelect)((t=>{const o=t(A.YWCAS_RESULTS_VIEW_STORE_KEY);return{categories:o.getCategories(e),isLoading:!o.hasFinishedResolution("getCategories",[e])}}),[e]),getResults:(e=!1,t=0)=>(0,h.useSelect)((o=>{const r=o(A.YWCAS_RESULTS_VIEW_STORE_KEY),a=r.getResults(),l=`${e}-${t}`;return{results:$[l]?$[l]:a,isLoading:""===r.getLastQuery()}}))}})({maxResults:_,showCategories:!1}),v=u()("ywcas-search-results",b);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.InspectorControls,{key:"inspector"},(0,l.createElement)(m.PanelBody,{title:(0,a.__)("Product results settings","yith-woocommerce-ajax-search"),initialOpen:!0},(0,l.createElement)(m.__experimentalNumberControl,{label:(0,a.__)("Max results to show","yith-woocommerce-ajax-search"),value:_,onChange:e=>t({maxResultsToShow:e})}),(0,l.createElement)("h3",null,(0,a.__)("Info to show","yith-woocommerce-ajax-search")),(0,l.createElement)(m.ToggleControl,{label:(0,a.__)("Title","yith-woocommerce-ajax-search"),checked:r,onChange:e=>t({showName:e})}),r&&(0,l.createElement)("div",{className:"ywcas-block-panel-left-aligned-color-wrapper"},(0,l.createElement)(d.__experimentalPanelColorGradientSettings,{className:"ywcas-product-result-panel",initialOpen:!0,settings:[{label:(0,a.__)("Product Title Color","yith-woocommerce-ajax-search"),onColorChange:e=>t({productNameColor:e}),colorValue:c}]})),(0,l.createElement)(m.ToggleControl,{label:(0,a.__)("Image","yith-woocommerce-ajax-search"),checked:n,onChange:e=>t({showImage:e})}),n&&(0,l.createElement)(m.__experimentalNumberControl,{label:(0,a.__)("Image size (px)","yith-woocommerce-ajax-search"),isDragEnabled:!0,value:s,onChange:e=>t({imageSize:parseInt(e)})}),(0,l.createElement)(m.TextControl,{label:(0,a.__)('"No results" text',"yith-woocommerce-ajax-search"),value:i,onChange:e=>t({noResults:e})}),(0,l.createElement)(m.ToggleControl,{label:(0,a.__)('Show "View all results" link',"yith-woocommerce-ajax-search"),checked:w,onChange:e=>t({showViewAll:e})}),w&&(0,l.createElement)(m.TextControl,{label:(0,a.__)('"View all results" text',"yith-woocommerce-ajax-search"),value:y,onChange:e=>t({showViewAllText:e})}))),(0,l.createElement)(C.Box,{className:v,...o},(0,l.createElement)(m.Disabled,null,!f&&(0,l.createElement)(j,{searchQuery:k.query,results:k,onClick:null,categoryList:[],...e}))))},save:()=>(0,l.createElement)("div",{...d.useBlockProps.save()},(0,l.createElement)(d.InnerBlocks.Content,null)),attributes:O}),o(364);const z=["yith/fill-block","yith/input-block"],V={isPreview:{type:"boolean",default:!1},align:{type:"string",default:"wide"},size:{type:"string",default:"sm"},currentView:{type:"string",default:"yith/input-block",source:"readonly"},editorViews:{type:"object",default:[{view:"yith/input-block",label:(0,a.__)("Search Input","yith-woocommerce-ajax-search")},{view:"yith/filled-block",label:(0,a.__)("Filled Results","yith-woocommerce-ajax-search")}]}},D={title:(0,a.__)("Classic Search","yith-woocommerce-ajax-search"),description:(0,a.__)("Add the classic search block","yith-woocommerce-ajax-search"),icon:s,category:"yith-blocks",apiVersion:2,keywords:["yith","ajax","search","product"],supports:{align:["wide"],html:!0,multiple:!0},edit:({attributes:e,setAttributes:t})=>{const o=(0,d.useBlockProps)(),{currentView:r,isPreview:n=!1,size:s}=e,c=u()("ywcas-classic-search",(e=>{let t;switch(e){case"xl":t="ywcas-extra-large";break;case"lg":t="ywcas-large";break;case"md":t="ywcas-medium";break;default:t="ywcas-small"}return t})(s));return o.className=o.className+" "+c,(0,l.createElement)("div",{...o,style:{marginLeft:"20px",marginRight:"20px"}},(0,l.createElement)(d.InspectorControls,{key:"inspector"},(0,l.createElement)(m.PanelBody,{title:(0,a.__)("Settings","yith-woocommerce-ajax-search"),initialOpen:!0},(0,l.createElement)(m.SelectControl,{label:(0,a.__)("Size","yith-woocommerce-ajax-search"),value:s,options:[{label:(0,a.__)("Small","yith-woocommerce-ajax-search"),value:"sm"},{label:(0,a.__)("Large","yith-woocommerce-ajax-search"),value:"lg"}],onChange:e=>t({size:e})}))),(0,l.createElement)(y,{currentView:r,isPreview:n,size:s,previewData:[]},(0,l.createElement)(R,null,(0,l.createElement)(d.InnerBlocks,{allowedBlocks:z,template:[["yith/input-block",{},[]],["yith/filled-block",{},[]]],templateLock:"insert"}))))},save:()=>(0,l.createElement)("div",{...d.useBlockProps.save({className:"is-loading"})},(0,l.createElement)(d.InnerBlocks.Content,null)),attributes:V};(0,r.registerBlockType)("yith/search-block",D)},364:()=>{},780:()=>{},952:()=>{},280:e=>{"use strict";e.exports=window.React},496:e=>{"use strict";e.exports=window.wp.element}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var l=o[e]={exports:{}};return t[e].call(l.exports,l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,a,l)=>{if(!o){var n=1/0;for(u=0;u<e.length;u++){for(var[o,a,l]=e[u],s=!0,c=0;c<o.length;c++)(!1&l||n>=l)&&Object.keys(r.O).every((e=>r.O[e](o[c])))?o.splice(c--,1):(s=!1,l<n&&(n=l));if(s){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,a,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=800,(()=>{var e={800:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,l,[n,s,c]=o,i=0;if(n.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var u=c(r)}for(t&&t(o);i<n.length;i++)l=n[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(u)},o=self.webpackChunkwebpackYWCASBlocksJsonp=self.webpackChunkwebpackYWCASBlocksJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[688],(()=>r(788)));a=r.O(a),((this.ywcas=this.ywcas||{}).blocks=this.ywcas.blocks||{})["search-block"]=a})();