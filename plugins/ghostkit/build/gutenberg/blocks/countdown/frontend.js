(()=>{"use strict";const e=window.wp.i18n,t=(()=>{const t=1,s=2,n=4,o=8,r=16,i=32,u=64,a=128,c=a|u|r|o|n|s,l=a|u|i|r|o|n|s|t,d=1e3,h=60,m=60,y=24,g=y*m*h*d,f=7,w=12,{ceil:k}=Math,{floor:M}=Math;function b(e,t){const s=e.getTime();return e.setMonth(e.getMonth()+t),Math.round((e.getTime()-s)/g)}function N(e){const t=e.getTime(),s=new Date(t);return s.setMonth(e.getMonth()+1),Math.round((s.getTime()-t)/g)}function D(e,t){if(t=t instanceof Date||null!==t&&Number.isFinite(t)?new Date(+t):new Date,!e)return t;let s=+e.value||0;return s?(t.setTime(t.getTime()+s),t):(s=+e.milliseconds||0,s&&t.setMilliseconds(t.getMilliseconds()+s),s=+e.seconds||0,s&&t.setSeconds(t.getSeconds()+s),s=+e.minutes||0,s&&t.setMinutes(t.getMinutes()+s),s=+e.hours||0,s&&t.setHours(t.getHours()+s),s=+e.weeks||0,s&&(s*=f),s+=+e.days||0,s&&t.setDate(t.getDate()+s),s=+e.months||0,s&&t.setMonth(t.getMonth()+s),s+=+e.years||0,s&&t.setFullYear(t.getFullYear()+s),t)}function S(){}function T(e,t,s,n,o,r){return e[s]>=0&&(t+=e[s],delete e[s]),1+(t/=o)<=1?0:e[n]>=0?(e[n]=+(e[n]+t).toFixed(r),function(e,t){switch(t){case"seconds":if(e.seconds!==h||Number.isNaN(e.minutes))return;e.minutes+=1,e.seconds=0;case"minutes":if(e.minutes!==m||Number.isNaN(e.hours))return;e.hours+=1,e.minutes=0;case"hours":if(e.hours!==y||Number.isNaN(e.days))return;e.days+=1,e.hours=0;case"days":if(e.days!==f||Number.isNaN(e.weeks))return;e.weeks+=1,e.days=0;case"weeks":if(e.weeks!==N(e.refMonth)/f||Number.isNaN(e.months))return;e.months+=1,e.weeks=0;case"months":if(e.months!==w||Number.isNaN(e.years))return;e.years+=1,e.months=0}}(e,n),0):t}function p(e,c,l,D,S,p){const H=new Date;if(c=c||H,l=l||H,e.start=c,e.end=l,e.units=D,e.value=l.getTime()-c.getTime(),e.value<0){const e=l;l=c,c=e}e.refMonth=new Date(c.getFullYear(),c.getMonth(),15,12,0,0);try{e.years=l.getFullYear()-c.getFullYear(),e.months=l.getMonth()-c.getMonth(),e.weeks=0,e.days=l.getDate()-c.getDate(),e.hours=l.getHours()-c.getHours(),e.minutes=l.getMinutes()-c.getMinutes(),e.seconds=l.getSeconds()-c.getSeconds(),e.milliseconds=l.getMilliseconds()-c.getMilliseconds(),function(e){let t;for(e.milliseconds<0?(t=k(-e.milliseconds/d),e.seconds-=t,e.milliseconds+=t*d):e.milliseconds>=d&&(e.seconds+=M(e.milliseconds/d),e.milliseconds%=d),e.seconds<0?(t=k(-e.seconds/h),e.minutes-=t,e.seconds+=t*h):e.seconds>=h&&(e.minutes+=M(e.seconds/h),e.seconds%=h),e.minutes<0?(t=k(-e.minutes/m),e.hours-=t,e.minutes+=t*m):e.minutes>=m&&(e.hours+=M(e.minutes/m),e.minutes%=m),e.hours<0?(t=k(-e.hours/y),e.days-=t,e.hours+=t*y):e.hours>=y&&(e.days+=M(e.hours/y),e.hours%=y);e.days<0;)e.months-=1,e.days+=b(e.refMonth,1);e.days>=f&&(e.weeks+=M(e.days/f),e.days%=f),e.months<0?(t=k(-e.months/w),e.years-=t,e.months+=t*w):e.months>=w&&(e.years+=M(e.months/w),e.months%=w)}(e),function(e,c,l,k){let D=0;!(c&a)||D>=l?(e.months+=e.years*w,delete e.years):e.years&&(D+=1),!(c&u)||D>=l?(e.months&&(e.days+=b(e.refMonth,e.months)),delete e.months,e.days>=f&&(e.weeks+=M(e.days/f),e.days%=f)):e.months&&(D+=1),!(c&i)||D>=l?(e.days+=e.weeks*f,delete e.weeks):e.weeks&&(D+=1),!(c&r)||D>=l?(e.hours+=e.days*y,delete e.days):e.days&&(D+=1),!(c&o)||D>=l?(e.minutes+=e.hours*m,delete e.hours):e.hours&&(D+=1),!(c&n)||D>=l?(e.seconds+=e.minutes*h,delete e.minutes):e.minutes&&(D+=1),!(c&s)||D>=l?(e.milliseconds+=e.seconds*d,delete e.seconds):e.seconds&&(D+=1),c&t&&!(D>=l)||function(e,t){let s=T(e,0,"milliseconds","seconds",d,t);if(s&&(s=T(e,s,"seconds","minutes",h,t),s&&(s=T(e,s,"minutes","hours",m,t),s&&(s=T(e,s,"hours","days",y,t),s&&(s=T(e,s,"days","weeks",f,t),s&&(s=T(e,s,"weeks","months",N(e.refMonth)/f,t),s&&(s=T(e,s,"months","years",function(e){const t=e.getTime(),s=new Date(t);return s.setFullYear(e.getFullYear()+1),Math.round((s.getTime()-t)/g)}(e.refMonth)/N(e.refMonth),t),s&&s)))))))throw new Error("Fractional unit overflow")}(e,k)}(e,D,S,p)}finally{delete e.refMonth}return e}function H(e,t,s,n){const o=s.length>0?s.length:NaN;n=n>0?n<20?Math.round(n):20:0;let r=null;e instanceof Date||(null!==e&&Number.isFinite(e)?e=new Date(+e):("object"==typeof r&&(r=e),e=null));let i=null;if(t instanceof Date||(null!==t&&Number.isFinite(t)?t=new Date(+t):("object"==typeof t&&(i=t),t=null)),r&&(e=D(r,t)),i&&(t=D(i,e)),!e&&!t)return new S;const u=function(e){let t=~l;return e.forEach((e=>{H[e.toUpperCase()]&&(t|=H[e.toUpperCase()])})),t=+t||c,t}(s);return p(new S,e,t,u,o,n)}return H.MILLISECONDS=t,H.SECONDS=s,H.MINUTES=n,H.HOURS=o,H.DAYS=r,H.WEEKS=i,H.MONTHS=u,H.YEARS=a,H.DEFAULTS=c,H.ALL=l,H.getDelay=function(e=[]){return-1!==e.indexOf("milliseconds")?d/30:-1!==e.indexOf("seconds")?d:-1!==e.indexOf("minutes")?d*h:-1!==e.indexOf("hours")?d*h*m:-1!==e.indexOf("days")?d*h*m*y:d*h*m*y*f},H.formatUnit=(t,s)=>{switch(s){case"years":s=(0,e._n)("Year","Years",t,"ghostkit");break;case"months":s=(0,e._n)("Month","Months",t,"ghostkit");break;case"weeks":s=(0,e._n)("Week","Weeks",t,"ghostkit");break;case"days":s=(0,e._n)("Day","Days",t,"ghostkit");break;case"hours":s=(0,e._n)("Hour","Hours",t,"ghostkit");break;case"minutes":s=(0,e._n)("Minute","Minutes",t,"ghostkit");break;case"seconds":s=(0,e._n)("Second","Seconds",t,"ghostkit")}return{number:t=`${t<10?"0":""}${t}`,label:s}},H})(),{GHOSTKIT:{events:s,timezone:n},luxon:o}=window;s.on(document,"init.blocks.gkt",(()=>{function e(s,r,i,u){const a=new Date(o.DateTime.now().setZone(n).toFormat("yyyy-LL-dd'T'HH:mm:ss")),c=t(s,a,r,0);if(c.value>=0)return u.querySelectorAll(":scope > .ghostkit-countdown-unit").forEach((e=>{e.style.display="none"})),void(u.querySelector(":scope > .ghostkit-countdown-expire-action").style.display="block");Object.keys(i).forEach((e=>{let s=!1;c&&void 0!==c[e]&&(s=t.formatUnit(c[e],e));const n=s?s.number:"00",o=s?s.label:e;i[e].$number.innerHTML!==n&&(i[e].$number.innerHTML=n),i[e].$label.innerHTML!==o&&(i[e].$label.innerHTML=o)})),setTimeout((()=>{e(s,r,i,u)}),t.getDelay(r))}document.querySelectorAll(".ghostkit-countdown:not(.ghostkit-countdown-ready)").forEach((t=>{s.trigger(t,"prepare.countdown.gkt"),t.classList.add("ghostkit-countdown-ready");const n=new Date(t.getAttribute("data-date")),o=[],r=["years","months","weeks","days","hours","minutes","seconds"].filter((e=>{const s=t.querySelector(`:scope > .ghostkit-countdown-unit-${e}`);return!!s&&(o[e]={$number:s.querySelector(".ghostkit-countdown-unit-number"),$label:s.querySelector(".ghostkit-countdown-unit-label")},!0)}));s.trigger(t,"prepared.countdown.gkt"),e(n,r,o,t)}))}))})();