<?php

if ( ! defined( 'ABSPATH' ) ) { exit; }

 if ( ! defined( 'ABSPATH' ) ) { exit; } class FS_Payment extends FS_Entity { public $plugin_id; public $user_id; public $install_id; public $subscription_id; public $plan_id; public $license_id; public $gross; public $currency; public $bound_payment_id; public $external_id; public $gateway; public $country_code; public $vat_id; public $vat; public $source = 0; const CURRENCY_USD = 'usd'; const CURRENCY_GBP = 'gbp'; const CURRENCY_EUR = 'eur'; function __construct( $payment = false ) { parent::__construct( $payment ); } static function get_type() { return 'payment'; } function is_refund() { return ( parent::is_valid_id( $this->bound_payment_id ) && 0 > $this->gross ); } function is_migrated() { return ( 0 != $this->source ); } function formatted_gross() { return ( ( $this->gross < 0 ? '-' : '' ) . $this->get_symbol() . number_format( abs( $this->gross ), 2, '.', ',' ) . ' ' . strtoupper( $this->currency ) ); } static $CURRENCY_2_SYMBOL; private function get_symbol() { if ( ! isset( self::$CURRENCY_2_SYMBOL ) ) { self::$CURRENCY_2_SYMBOL = array( self::CURRENCY_USD => '$', self::CURRENCY_GBP => '&pound;', self::CURRENCY_EUR => '&euro;', ); } return self::$CURRENCY_2_SYMBOL[ $this->currency ]; } }