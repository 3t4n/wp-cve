var LocationSearch=function(t){function e(e,i){return this.$element=t(e),void 0===i&&(i={}),this.omniSearchUrl="//apps.flexmls.com/quick_launch/omni",this.portalSlug=i.portalSlug,this.init(),this}return e.prototype={constructor:e,init:function(){var e=this;this.s2=t(this.$element).select2({ajax:{url:e.omniSearchUrl,dataType:"jsonp",quietMillis:500,data:e.ajaxData.bind(e),processResults:e.processAjaxResults.bind(e),cache:!0},placeholder:"Enter an Address, City, or ZIP",minimumInputLength:3,formatInputTooShort:function(t,e){return"Please enter "+(e-t.length)+" or more characters"}})},selectedValues:function(){var e=t(this.$element).select2("data"),i=[];return Array.isArray(e)||(e=[e]),e.forEach(function(t){i.push({id:t.id,text:t.text,fieldName:t.id.split("_")[0],value:t.id.split("_")[1]})}),i},ajaxData:function(t){var e={_q:t.term,_lo:!1};return void 0!==this.portalSlug&&(e.portal_slug=this.portalSlug),e},processAjaxResults:function(t,e){var i=this,r=[];return t.D.Results.forEach(function(t){var e,a,s,n;"Field"==t.Type?(e=t.Field.Id,a=t.Field.Name,s=t.Field.Value,n=t.Field.SparkQl):"Listing"==t.Type&&(e="ListingId",a=t.Listing.Name,s=t.Listing.Number,n=t.Listing.SparkQl),r.push({id:e+"_"+s,text:i.getDisplayText(e,s,a),fieldName:e,value:s,sparkQl:n})}),{results:r}},getDisplayText:function(t,e,i){return"ListingId"===t?e+" (MLS #)":"polygon"===e.substr(0,7)||"radius"===e.substr(0,6)?"Drawn Shape":e+" ("+i+")"}},e}(jQuery);
var SearchWidget=function(t){function e(e){this.widgetContainer=t(e),this.locationSearchInput=t(this.widgetContainer).find(".flexmlsLocationSearch"),this.portalSlug=this.locationSearchInput.attr("data-portal-slug"),this.init()}return e.prototype={constructor:e,init:function(){this.locationSearchInput.length&&(this.locationSearch=new LocationSearch(this.locationSearchInput,{portalSlug:this.portalSlug})),this.widgetContainer.find("form").submit(this.handleSubmit.bind(this)),this.bindPropertyTypeCheckboxes()},bindPropertyTypeCheckboxes:function(){var e=t(".flexmls_connect__search_new_property_type",this.widgetContainer),n=this;e.children("input").change(function(){var i=e.children("input:checked");if(1===i.length){var a="#flexmls_connect__search_new_subtypes_for_"+i.val();t(a,n.widgetContainer).show()}else t(".flexmls_connect__search_new_subtypes",n.widgetContainer).hide(),t(".flexmls_connect__search_new_subtypes input",n.widgetContainer).prop("checked",!1)}).change()},getLocations:function(){var t={},e=[];null!=this.locationSearch&&this.locationSearch.selectedValues().forEach(function(t){e.push(t.fieldName+"="+encodeURIComponent(t.value))});for(var n=0;n<e.length;n++){var i=e[n].split("="),a=i.shift();t[a]?t[a]+=","+i.join("="):t[a]=i.join("=")}return t},handleSubmit:function(e){var n=t("input[name='fmc_do']",this.widgetContainer).length>0,i=this.getLocations();if(n){var a="";for(var o in i)a+=(""===a?"":"&")+o+"="+i[o];if(t("input[name='PropertyType[]']",this.widgetContainer).length){var r=[];t("input[name='PropertyType[]']",this.widgetContainer).each(function(t,e){this.checked&&r.push(this.value)}),a+="&PropertyType="+r.join(",")}else t("input[name='PropertyType']",this.widgetContainer).length>0&&(a+="&PropertyType="+t("input[name='PropertyType']",this.widgetContainer).val());t("div[data-connect-type='number']",this.widgetContainer).each(function(e,n){var i=t(n).attr("data-connect-field");if(i){var o=t("input",n).first(),r=t("input",n).last(),c=o.val(),h=o.attr("data-connect-default"),s=r.val(),l=r.attr("data-connect-default");c==h&&s==l||(a+=c==s?"&"+i+"="+c:c==h?"&"+i+"=<"+s:s==l?"&"+i+"=>"+c:"&"+i+"="+c+","+s),c==h&&o.val(""),s==l&&r.val("")}}),t("input[name='query']",this.widgetContainer).val(a)}else{var c=t("div.query",this.widgetContainer);t("input",c).remove();for(var o in i)t("<input type='hidden' name='"+o+"' value=\""+decodeURIComponent(i[o])+'" />').appendTo(c);t("div[data-connect-type='number']",this.widgetContainer).each(function(e,n){var i=t("input",n).first(),a=t("input",n).last();i.val()==i.attr("data-connect-default")&&(i.val(""),i.prop("disabled",!0)),a.val()==a.attr("data-connect-default")&&(a.val(""),a.prop("disabled",!0))})}}},e}(jQuery);
function rmxId(e){return"x'"==e.substring(0,2)?e.substring(2,e.length-1):e}function xId(e){return"x'"==e.substring(0,2)?e:"x'"+e+"'"}!function(e){var t=function(){e(".flexmls_leadgen_button").on("click",function(){e(".flexmls_connect__form_message").length&&e(".flexmls_connect__form_message").remove();var t=this,n=e(t).data("form"),l=e(t).html(),o=e(n).find('input[name="success"]').val(),c=e(n).find(".flexmls_connect__form_footer"),a=e(n).find(".flexmls_loading_svg");e(a).show();var s={action:"fmcleadgen_submit",name:e(n).find('input[name="name"]').val(),email:e(n).find('input[name="email"]').val(),message_body:e(n).find('textarea[name="message_body"]').val(),honeypot:e(n).find('input[name="color"]').val(),success:e(n).find('input[name="success"]').val(),source:e(n).find('input[name="source"]').val()};e(n).find('input[name="address"]').length&&(s.address=e(n).find('input[name="address"]').val(),s.city=e(n).find('input[name="city"]').val(),s.state=e(n).find('input[name="state"]').val(),s.zip=e(n).find('input[name="zip"]').val()),e(n).find('input[name="phone"]').length&&(s.phone=e(n).find('input[name="phone"]').val()),e(t).prop("disabled",!0).html("Sending"),e.post(fmcAjax.ajaxurl,s,function(s){0===s.success?e(c).before('<div class="flexmls_connect__form_message flexmls_connect__form_message-error">'+s.message+"</div>"):(e(c).before('<div class="flexmls_connect__form_message flexmls_connect__form_message-success">'+o+"</div>"),e(n).find('input[type="text"], input[type="email"], input[type="tel"], textarea').each(function(){e(this).val("")})),e(a).hide(),e(t).html(l).prop("disabled",!1)},"json")})};e(document).ready(function(){t()})}(jQuery);var flexmls_connect={};flexmls_connect.createCookie=function(e,t,n){if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3);var o="; expires="+l.toGMTString()}else var o="";document.cookie=e+"="+t+o+"; path=/"},flexmls_connect.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),l=0;l<n.length;l++){for(var o=n[l];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},flexmls_connect.isValidEmailAddress=function(e){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)},flexmls_connect.inputValidate=function(e,t){t?jQuery(e).data("connect-error",!1).removeClass("flexmls_connect__error_color").addClass("flexmls_connect__active_color"):jQuery(e).data("connect-error",!0).removeClass("flexmls_connect__active_color").addClass("flexmls_connect__error_color")},flexmls_connect.showDialog=function(e,t){t?jQuery(e).data("connect-error",!1).removeClass("flexmls_connect__error_color").addClass("flexmls_connect__active_color"):jQuery(e).data("connect-error",!0).removeClass("flexmls_connect__active_color").addClass("flexmls_connect__error_color")},flexmls_connect.showStatTooltip=function(e,t,n){jQuery('<div id="flexmls_connect__stat_tooltip">'+n+"</div>").css({top:t+5,left:e+5}).appendTo("body").fadeIn(200)},flexmls_connect.addCommas=function(e){e=new String(Math.floor(100*e)/100);for(var t=e.split("."),n=t[0],l=/(\d+)(\d{3})/;l.test(n);)n=n.replace(l,"$1,$2");return n+(t.length>1?"."+e.split(".")[1]:"")},flexmls_connect.establishColorbox=function(e,t,n,l){var o=jQuery(e),c=t||o.parent(),a=n||jQuery(".flexmls_connect__hidden",c),l=l||"fmcPhotos_additional_photos";jQuery(e).flexmls_connect__colorbox({width:window!=window.top?"500px":window.innerWidth-20+"px",height:window!=window.top?"500px":window.innerHeight-20+"px",top:window!=window.top&&"20px",html:"fmcPhotos_additional_photos"!=l&&"Loading...",onOpen:function(){"true"!==o.attr("data-connect-ajax")&&jQuery.getJSON(fmcAjax.ajaxurl,{action:l,id:o.attr("rel")},function(e){if(e&&jQuery.isArray(e)&&e.length>0)for(var t="fmcPhotos_additional_photos"==l?1:0,n=t;n<e.length;n++)switch(l){case"fmcPhotos_additional_vtours":"https:"===location.protocol&&0!=e[n].uri.indexOf("https:")?a.append(jQuery("<div class='popup' rel='"+o.attr("rel")+"'><a target='_blank' href='"+e[n].uri+"' title='"+e[n].name.replace(/'/g,"\\'")+"' class='flexmls_connect_vtour_link_alternative'>"+e[n].name.replace(/'/g,"\\'")+" open in new window</a></div>")):a.append(jQuery("<div class='popup' rel='"+o.attr("rel")+"'><iframe src='"+e[n].uri+"' title='"+e[n].name.replace(/'/g,"\\'")+"'></iframe></div>"));break;case"fmcPhotos_additional_videos":var s=jQuery("<div>").addClass("popup").attr("rel",o.attr("rel"));e[n].html.indexOf("iframe")>=0?s.html(e[n].html):s.html(jQuery("<iframe>").attr({src:e[n].html})),a.append(s);break;case"fmcPhotos_additional_photos":a.append(jQuery("<a class='popup' href='"+e[n].photo+"'rel='"+o.attr("rel")+"' title='"+e[n].caption.replace(/'/g,"\\'")+"'></a>"))}switch(o.attr("data-connect-ajax","true"),l){case"fmcPhotos_additional_vtours":case"fmcPhotos_additional_videos":jQuery("div.popup",a).each(function(){jQuery(this).flexmls_connect__colorbox({width:window!=window.top?"500px":"95%",height:window!=window.top?"500px":"95%",top:window!=window.top&&"20px",html:jQuery(this).html(),rel:o.attr("rel"),onComplete:function(){flexmls_connect.addTitleToColorbox(c)},onClosed:function(){jQuery(".flexmls_connect__colorbox_address").remove()}})});break;case"fmcPhotos_additional_photos":jQuery("a",a).flexmls_connect__colorbox({width:window!=window.top?"500px":"95%",height:window!=window.top?"500px":"95%",top:window!=window.top&&"20px",onComplete:function(){flexmls_connect.addTitleToColorbox(c)},onClosed:function(){jQuery(".flexmls_connect__colorbox_address").remove()}})}"fmcPhotos_additional_photos"!=l&&(o.attr("rel",null).removeClass("flexmls_connect__cboxElement").removeData("colorbox"),o.click(function(){jQuery("div.popup",a).click()})),o.click()})},onComplete:function(){flexmls_connect.addTitleToColorbox(c)},onClosed:function(){jQuery(".flexmls_connect__colorbox_address").remove()}})},flexmls_connect.addTitleToColorbox=function(e){if(0==jQuery(".flexmls_connect__colorbox_address").length){var t=e.attr("title");e.attr("link")&&(t='<a href="'+e.attr("link")+'"'+e.attr("target")+">"+t+"</a>"),jQuery("<div>").addClass("flexmls_connect__colorbox_address").html(t).prependTo("#flexmls_connect__cboxLoadedContent")}},flexmls_connect.changeFilmstrip=function(e,t,n){if(t){var e=1*jQuery(".flexmls_connect__photo_switcher span",n).text()-1,l=jQuery(".flexmls_connect__filmstrip img",n).length;e="prev"==t?e-1:e+1,e<0&&(e=l-1),e>=l&&(e=0)}var o=jQuery(".flexmls_connect__filmstrip img",n)[e];jQuery(".flexmls_connect__main_image",n);jQuery(".flexmls_connect__main_image, .flexmls_connect__resize_image",n).attr("src",jQuery(o).attr("fullsrc")),jQuery(".flexmls_connect__photo_switcher span",n).text(e+1)},flexmls_connect.print=function(e){jQuery(".flexmls_connect__not_printable").removeClass("flexmls_connect__not_printable");for(var t=jQuery(e).closest(".flexmls_connect__sr_detail");t[0]!=jQuery("html")[0];)t.siblings().addClass("flexmls_connect__not_printable"),t=t.parent();window.print()},flexmls_connect.scheduleShowing=function(e,t,n,l){var o=(new Date).getTime(),c="";c+="<form class='flexmls_connect__schedule_showing_form'>",c+="<h1>Schedule a Showing</h1><hr>",c+="<div id=\"flexmls_connect__showing_error\" style='color:red;'>&nbsp;</div>",c+='<input id="flexmls_connect__to" type="hidden" name="to" value=\''+l+"'>",c+='<input id="flexmls_connect__to_name" type="hidden" name="to_name" value=\''+n+"'>",c+='<table class="flexmls_connect__schedule_showing_table">',c+="<tbody>",c+="<tr>",c+='<td><label for="flexmls_connect__from_name">Name:</label></td>',c+='<td><input id="flexmls_connect__from_name" name="from_name" type="text" size=50 style="width:340px;"></td>',c+="</tr>",c+="<tr>",c+='<td><label for="flexmls_connect__from">Email:</label><span class="flexmls_connect__required">*</span></td>',c+='<td><input id="flexmls_connect__from" name="from" type="text" size=50 style="width:340px;"></td>',c+="</tr>",c+="<tr>",c+='<td><label for="flexmls_connect__to">To:</label></td>',c+="<td><b>"+n+"</b></td>",c+="</tr>",c+="<tr>",c+='<td><label for="flexmls_connect__subject">Subject:</label></td><input type=text id="flexmls_connect__important" name="flexmls_connect__important'+o+'" autocomplete="false" tabindex="-1" value="" />',c+='<td><input id="flexmls_connect__subject" name="subject" type="text" size=50 style="width:340px;" value="Schedule a showing for '+t+'"></td>',c+="</tr>",c+="<tr>",c+='<td><label for="flexmls_connect__message">Message:</label></td>',c+='<td><textarea cols="50" id="flexmls_connect__message" name="message" rows="7" style="width:340px;"></textarea>',c+='<input type="hidden" id="flexmls_connect__page_lead" value="'+window.location+'"></td>',c+="</tr>",c+="<tr>",c+='<td colspan=2><center><input type="submit" value="Send" name="Send"></center></td>',c+="</tr>",c+="</tbody></table>",c+="</form>",jQuery.flexmls_connect__colorbox({width:"500px",html:c}),jQuery(".flexmls_connect__schedule_showing_form").submit(function(e){var t={action:"fmcListingDetails_schedule_showing",flexmls_connect__subject:jQuery("#flexmls_connect__subject").val(),flexmls_connect__to:jQuery("#flexmls_connect__to").val(),flexmls_connect__from:jQuery("#flexmls_connect__from").val(),flexmls_connect__from_name:jQuery("#flexmls_connect__from_name").val(),flexmls_connect__to_name:jQuery("#flexmls_connect__to_name").val(),flexmls_connect__message:jQuery("#flexmls_connect__message").val(),flexmls_connect__page_lead:jQuery("#flexmls_connect__page_lead").val(),flexmls_connect__important:jQuery("#flexmls_connect__important").val()};jQuery.post(fmcAjax.ajaxurl,t,function(e){"SUCCESS"==e?(jQuery("#flexmls_connect__success_message").html("Showing request has been sent.<br>This request is not yet a confirmed appointment.").show(),jQuery("#flexmls_connect__cboxClose").click()):jQuery("#flexmls_connect__showing_error").html(e)}),e.preventDefault(),e.stopPropagation()})},flexmls_connect.contactForm=function(e){var t=(new Date).getTime(),n=e.title,l=e.subject,o=e.agentEmail,c=e.officeEmail,a=e.listingId,s="";s+="<form class='flexmls_connect__contact_form'>",s+="<h1>"+n+"</h1><hr>",s+="<div id=\"flexmls_connect__showing_error\" style='color:red;'>&nbsp;</div>",s+='<input id="flexmls_connect__to_agent" type="hidden" name="to" value=\''+o+"'>",s+='<input id="flexmls_connect__to_office" type="hidden" name="to" value=\''+c+"'>",s+='<input id="flexmls_connect__listid"    type="hidden" name="mytype" value=\''+a+"'>",s+='<table class="flexmls_connect__schedule_showing_table">',s+="<tbody>",s+="<tr>",s+='<td><label for="flexmls_connect__from_name">Name:</label></td>',s+='<td><input id="flexmls_connect__from_name" name="from_name" type="text" size=50 style="width:340px;"></td>',s+="</tr>",s+="<tr>",s+='<td><label for="flexmls_connect__from">Email:</label><span class="flexmls_connect__required">*</span></td>',s+='<td><input id="flexmls_connect__from" name="from" type="text" size=50 style="width:340px;"></td>',s+="</tr>",s+="<tr>",s+='<td><label for="flexmls_connect__subject">Subject:</label><input type=text id="flexmls_connect__important" name="flexmls_connect__important'+t+'" autocomplete="false" tabindex="-1" /></td>',s+='<td><input id="flexmls_connect__subject" name="subject" type="text" size=50 style="width:340px;" value="'+l+'"></td>',s+="</tr>",s+="<tr>",s+='<td><label for="flexmls_connect__message">Message:</label></td>',s+='<td><textarea cols="50" id="flexmls_connect__message" name="message" rows="7" style="width:340px;"></textarea>',s+='<input type="hidden" id="flexmls_connect__page_lead" value="'+window.location+'"></td>',s+="</tr>",s+="<tr>",s+='<td colspan=2><center><input id="SendOne" type="submit" value="Send" name="Send"></center></td>',s+="</tr>",s+="</tbody></table>",s+="</form>",jQuery.flexmls_connect__colorbox({width:"500px",html:s}),jQuery(".flexmls_connect__contact_form").submit(function(e){jQuery("#SendOne").attr("disabled","disabled"),jQuery("#SendOne").attr("value","Sending..."),jQuery.post(fmcAjax.ajaxurl,{action:"fmcListingDetails_contact",flexmls_connect__subject:jQuery("#flexmls_connect__subject").val(),flexmls_connect__to_agent:jQuery("#flexmls_connect__to_agent").val(),flexmls_connect__to_office:jQuery("#flexmls_connect__to_office").val(),flexmls_connect__from:jQuery("#flexmls_connect__from").val(),flexmls_connect__from_name:jQuery("#flexmls_connect__from_name").val(),flexmls_connect__message:jQuery("#flexmls_connect__message").val(),flexmls_connect__page_lead:jQuery("#flexmls_connect__page_lead").val(),flexmls_connect__important:jQuery("#flexmls_connect__important").val(),flexmls_connect__mytype:jQuery("#flexmls_connect__mytype").val()},function(e){"SUCCESS"==e?(jQuery("#flexmls_connect__success_message"+a).html("Your question has been sent.<br>").show(),jQuery("#flexmls_connect__cboxClose").click()):(jQuery("#flexmls_connect__showing_error").html(e),jQuery("#SendOne").removeAttr("disabled"))}),e.preventDefault(),e.stopPropagation()})},flexmls_connect.edit_url_value=function(e,t,n){n=n||document.URL;var l="",o=n.split("?"),c=o[0],a=o[1],s="";if(a){var o=a.split("&");for(var _ in o)-1==o[_].indexOf(e)&&(l+=s+o[_],s="&")}return c+"?"+l+(s+e)+"="+t},jQuery(document).ready(function(){jQuery("button[href]",".flexmls_connect__button").click(function(){document.location.href=jQuery(this).attr("href")}),jQuery(".flexmls_connect__carousel").each(function(e,t){jQuery(t).loopedCarousel({items:jQuery(this).attr("data-connect-horizontal"),grid_size:jQuery(this).attr("data-connect-vertical"),vertical:parseInt(jQuery(this).attr("data-connect-vertical"))>parseInt(jQuery(this).attr("data-connect-horizontal")),autoStart:parseInt(jQuery(this).attr("data-connect-autostart"))});var n=(jQuery(".flexmls_connect__container",jQuery(t)).width(),jQuery(t).prev("p"));n.length>0&&""===n.text().replace(/\s/g,"")&&jQuery(t).addClass(n.css("text-align")),jQuery("div.flexmls_connect__slides div a.popup",jQuery(this)).each(function(e){flexmls_connect.establishColorbox(jQuery(this))}),jQuery(".flexmls_connect__disclaimer a, .flexmls_connect__badge, .flexmls_connect__badge_image",jQuery(t)).click(function(){jQuery.flexmls_connect__colorbox({width:"400px",html:jQuery(".flexmls_connect__disclaimer_text",jQuery(t)).html().replace(/<script.*?<\/script>/g,"")})})}),jQuery(".flexmls_connect_log_out").click(function(e){e.preventDefault(),e.stopPropagation(),jQuery.post(fmcAjax.ajaxurl,{action:"fmcAccount_portal"},function(e){window.location=window.location})});var e=[];if(jQuery(".flexmls_connect__market_stats").each(function(t,n){var l=[],o=jQuery(n).prev("p");if(o.length>0&&""===o.text().replace(/\s/g,"")&&jQuery(n).addClass(o.css("text-align")),0==e.length){var c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0);for(var a=0;a<12;a++)c.setMonth(c.getMonth()-1,1),e.push(c.getTime());e.reverse()}jQuery("li",jQuery(n)).each(function(t,n){for(var o={label:jQuery(n).attr("data-connect-label"),data:jQuery(n).text().split(",")},c=0;c<o.data.length&&!(c>11);c++)o.data[c]=[e[c],o.data[c]];l.push(o)}),jQuery.plot(jQuery(".flexmls_connect__market_stats_graph",jQuery(n)),l,{yaxis:{tickFormatter:function(e,t){return flexmls_connect.addCommas(e)}},xaxis:{mode:"time",timeformat:"%b",monthNames:["J","F","M","A","M","J","J","A","S","O","N","D"],minTickSize:[1,"month"],ticks:12},legend:{container:jQuery(".flexmls_connect__market_stats_legend",jQuery(n))},grid:{clickable:!1,hoverable:!0,autoHighlight:!0,mouseActiveRadius:6}});var s=null;jQuery(".flexmls_connect__market_stats_graph",jQuery(n)).bind("plothover",function(e,t,n){if(n){if(s!=n.datapoint){s=n.datapoint,jQuery("#flexmls_connect__stat_tooltip").remove();var l=n.datapoint[0].toFixed(2),o=flexmls_connect.addCommas(n.datapoint[1]),c=new Date(parseInt(l));flexmls_connect.showStatTooltip(n.pageX,n.pageY,o+" ("+n.series.label+" for "+(c.getMonth()+1)+"/"+c.getFullYear()+")")}}else jQuery("#flexmls_connect__stat_tooltip").remove(),s=null})}),jQuery.extend({getUrlVars:function(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),l=0;l<n.length;l++)e=n[l].split("="),t.push(decodeURI(e[0])),t[decodeURI(e[0])]=decodeURI(e[1]);return t},getUrlVar:function(e){return jQuery.getUrlVars()[e]}}),jQuery(".flexmls_connect__search").each(function(e,t){new SearchWidget(t)}),jQuery.ajaxSetup({error:function(e,t,n){console.log("Ajax Error Detected")}}),jQuery("input[data-connect-default], textarea[data-connect-default]").each(function(e,t){var n=jQuery(t);className=n.val()?"flexmls_connect__active_color":"flexmls_connect__inactive_color",inputValue=n.val()?n.val():n.attr("data-connect-default"),n.addClass(className).val(inputValue).focus(function(){n.val()===n.attr("data-connect-default")&&n.val(""),n.removeClass("flexmls_connect__inactive_color").removeClass("flexmls_connect__error_color").addClass("flexmls_connect__active_color")}).blur(function(){""===n.val()&&n.val(n.attr("data-connect-default")).removeClass("flexmls_connect__active_color").removeClass("flexmls_connect__inactive_color").removeClass("flexmls_connect__error_color").addClass(n.data("connect-error")?"flexmls_connect__error_color":"flexmls_connect__inactive_color")})}),jQuery("form[data-connect-validate=true]").submit(function(){var e=!1;if(jQuery("input[data-connect-validate='text'], textarea[data-connect-default]",jQuery(this)).each(function(t,n){""===jQuery(n).val()||jQuery(n).val()===jQuery(n).attr("data-connect-default")?(flexmls_connect.inputValidate(n,!1),e=!0):flexmls_connect.inputValidate(n,!0)}),jQuery("input[data-connect-validate='phone']",jQuery(this)).each(function(t,n){/\d{7,}/i.test(jQuery(n).val().replace(/[\s()+-]|ext\.?/gi,""))?flexmls_connect.inputValidate(n,!0):(flexmls_connect.inputValidate(n,!1),e=!0)}),jQuery("input[data-connect-validate='email']",jQuery(this)).each(function(t,n){flexmls_connect.isValidEmailAddress(jQuery(n).val())?flexmls_connect.inputValidate(n,!0):(flexmls_connect.inputValidate(n,!1),e=!0)}),jQuery("input[data-connect-validate='captcha']",jQuery(this)).each(function(t,n){jQuery(n).val()===jQuery("input[name='captcha-answer']").val()?flexmls_connect.inputValidate(n,!0):(flexmls_connect.inputValidate(n,!1),e=!0)}),e)return!1;if("true"===jQuery(this).attr("data-connect-ajax")){var t=jQuery(this);return jQuery.getJSON(jQuery(this).attr("action"),jQuery(this).serialize(),function(e){var n;n="true"==e.success?jQuery("input[name='success-message']",t).val():e.message?e.message:jQuery("input[name='success-message']",t).val(),n=n.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),jQuery.flexmls_connect__colorbox({html:"<center style='padding-right:27px'>"+n+"</center>"}),jQuery("input[type='text'], textarea",t).val("")}),!1}}),jQuery(".flexmls_connect__page_content").length>0&&(jQuery(".flexmls_connect__page_content").hover(function(){jQuery(this).addClass("over")},function(){jQuery(this).removeClass("over")}),jQuery("a.photo",".flexmls_connect__page_content").each(function(e){flexmls_connect.establishColorbox(jQuery(this),jQuery(this).closest(".flexmls_connect__sr_result"))}),jQuery("a.photo_click",".flexmls_connect__page_content").click(function(){jQuery("a.photo",jQuery(this).closest(".flexmls_connect__sr_result")).click()}),jQuery("a.video_click",".flexmls_connect__page_content").each(function(e){var t=jQuery(this).closest(".flexmls_connect__sr_result");flexmls_connect.establishColorbox(jQuery(this),t,jQuery(".flexmls_connect__hidden2",t),"fmcPhotos_additional_videos")}),jQuery("a.tour_click",".flexmls_connect__page_content").each(function(e){var t=jQuery(this).closest(".flexmls_connect__sr_result");flexmls_connect.establishColorbox(jQuery(this),t,jQuery(".flexmls_connect__hidden3",t),"fmcPhotos_additional_vtours")}),jQuery(".flexmls_connect__disclaimer a, .flexmls_connect__badge, .flexmls_connect__badge_image",".flexmls_connect__page_content").click(function(){jQuery.flexmls_connect__colorbox({width:"400px",html:jQuery(".flexmls_connect__disclaimer_text",".flexmls_connect__page_content").html().replace(/<script.*?<\/script>/g,"")})}),jQuery("button[href]",".flexmls_connect__page_content").click(function(){document.location.href=jQuery(this).attr("href")}),jQuery(".flexmls_connect_hasJavaScript").show(),0==navigator.cookieEnabled&&jQuery(".listingsperpage").hide(),jQuery(".listingsperpage").change(function(){var e=this.value;name="flexmlswordpressplugin",days=5;var t=new Date;t.setTime(t.getTime()+24*days*60*60*1e3);var n="; expires="+t.toGMTString();delete t,document.cookie=escape(name)+"="+escape(e)+n+"; path=/",window.location.href=flexmls_connect.edit_url_value("pg","1")}),jQuery(".flex_orderby").change(function(){var e=flexmls_connect.edit_url_value("pg","1");e=flexmls_connect.edit_url_value("OrderBy",this.value,e),window.location.href=e})),jQuery(".flexmls_connect__sr_detail").length>0){if(jQuery(".fmc_document_pdf").click(function(){window.open(jQuery(this).attr("Value"))}),jQuery(".fmc_document_colorbox").click(function(){jQuery.flexmls_connect__colorbox({href:jQuery(".fmc_document_colorbox").attr("value")})}),jQuery("button[href]",".flexmls_connect__prev_next").click(function(){document.location.href=jQuery(this).attr("href")}),jQuery(".flexmls_connect__filmstrip img").click(function(){flexmls_connect.changeFilmstrip(1*jQuery(this).attr("ind"),null,jQuery(this).closest(".flexmls_connect__sr_detail"))}).hover(function(){jQuery(this).addClass("filmstrip_over")},function(){jQuery(this).removeClass("filmstrip_over")}),jQuery(".flexmls_connect__photo_switcher").each(function(e){jQuery("button:first",jQuery(this)).click(function(){flexmls_connect.changeFilmstrip(null,"prev",jQuery(this).closest(".flexmls_connect__sr_detail"))}),jQuery("button:last",jQuery(this)).click(function(){flexmls_connect.changeFilmstrip(null,"next",jQuery(this).closest(".flexmls_connect__sr_detail"))})}),jQuery(".flexmls_connect__hidden a").each(function(e){flexmls_connect.establishColorbox(jQuery(this),jQuery(".flexmls_connect__sr_detail"))}),jQuery("button.photo_click, .flexmls_connect__main_image").click(function(){var e=parseInt(jQuery(".flexmls_connect__photo_switcher span").text())-1;jQuery(".flexmls_connect__hidden a")[e].click()}),jQuery("button.video_click",".flexmls_connect__sr_detail").each(function(e){var t=jQuery(this).closest(".flexmls_connect__sr_detail");flexmls_connect.establishColorbox(jQuery(this),t,jQuery(".flexmls_connect__hidden2",t),"fmcPhotos_additional_videos")}),jQuery("button.tour_click",".flexmls_connect__sr_detail").each(function(e){var t=jQuery(this).closest(".flexmls_connect__sr_detail");flexmls_connect.establishColorbox(jQuery(this),t,jQuery(".flexmls_connect__hidden3",t),"fmcPhotos_additional_vtours")}),jQuery(".flexmls_connect__tab").click(function(){jQuery(this).hasClass("active")||(jQuery(".flexmls_connect__tab_group").css("display","none"),jQuery("#"+jQuery(this).attr("group")).css("display",""),jQuery(".flexmls_connect__tab").removeClass("active"),jQuery(this).addClass("active"))}),jQuery("#flexmls_connect__map_canvas").length>0){var t=!0,n=new google.maps.LatLng(jQuery("#flexmls_connect__map_canvas").attr("latitude"),jQuery("#flexmls_connect__map_canvas").attr("longitude")),l={zoom:16,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(document.getElementById("flexmls_connect__map_canvas"),l);google.maps.event.addListener(o,"idle",function(){t&&(jQuery("#flexmls_connect__map_group").css("display","none"),t=!1)});new google.maps.Marker({position:n,map:o,title:jQuery(".flexmls_connect__sr_detail").attr("title")})}jQuery(document).keydown(function(e){0==jQuery(".flexmls_connect__colorbox_address").length&&(37==e.keyCode?jQuery(".flexmls_connect__photo_switcher button:first").click():39==e.keyCode&&jQuery(".flexmls_connect__photo_switcher button:last").click())})}});
!function(t,e,i){function n(i,n,o){var r=e.createElement(i);return n&&(r.id=Z+n),o&&(r.style.cssText=o),t(r)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==X[e]&&(this.cache[e]=X[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function h(t){var e=W.length,i=(z+t)%e;return i<0?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?E.width():o())/100:1)*parseInt(t,10))}function s(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function l(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in x[0]&&!x[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),x.focus())}function c(t){c.str!==t&&(x.add(v).removeClass(c.str).addClass(t),c.str=t)}function g(e){z=0,e&&!1!==e&&"nofollow"!==e?(W=t("."+tt).filter(function(){return new r(this,t.data(this,Y)).get("rel")===e}),-1===(z=W.index(O.el))&&(W=W.add(O.el),z=W.length-1)):W=t(O.el)}function u(i){t(e).trigger(i),at.triggerHandler(i)}function f(i){var o;if(!G){if(o=t(i).data(Y),O=new r(i,o),g(O.get("rel")),!$){$=q=!0,c(O.get("className")),x.css({visibility:"hidden",display:"block",opacity:""}),L=n(st,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(L),D=T.height()+k.height()+b.outerHeight(!0)-b.height(),j=C.width()+H.width()+b.outerWidth(!0)-b.width(),A=L.outerHeight(!0),N=L.outerWidth(!0);var h=a(O.get("initialWidth"),"x"),s=a(O.get("initialHeight"),"y"),l=O.get("maxWidth"),f=O.get("maxHeight");O.w=(!1!==l?Math.min(h,a(l,"x")):h)-N-j,O.h=(!1!==f?Math.min(s,a(f,"y")):s)-A-D,L.css({width:"",height:O.h}),J.position(),u(et),O.get("onOpen"),B.add(S).hide(),x.focus(),O.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),at.one(rt,function(){e.removeEventListener("focus",d,!0)})),O.get("returnFocus")&&at.one(rt,function(){t(O.el).focus()})}var p=parseFloat(O.get("opacity"));v.css({opacity:p===p?p:"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),O.get("closeButton")?P.html(O.get("close")).appendTo(b):P.appendTo("<div/>"),w()}}function p(){x||(V=!1,E=t(i),x=n(st).attr({id:Y,class:!1===t.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=n(st,"Overlay").hide(),M=t([n(st,"LoadingOverlay")[0],n(st,"LoadingGraphic")[0]]),y=n(st,"Wrapper"),b=n(st,"Content").append(S=n(st,"Title"),F=n(st,"Current"),K=t('<button type="button"/>').attr({id:Z+"Previous"}),R=t('<button type="button"/>').attr({id:Z+"Next"}),I=n("button","Slideshow"),M),P=t('<button type="button"/>').attr({id:Z+"Close"}),y.append(n(st).append(n(st,"TopLeft"),T=n(st,"TopCenter"),n(st,"TopRight")),n(st,!1,"clear:left").append(C=n(st,"MiddleLeft"),b,H=n(st,"MiddleRight")),n(st,!1,"clear:left").append(n(st,"BottomLeft"),k=n(st,"BottomCenter"),n(st,"BottomRight"))).find("div div").css({float:"left"}),_=n(st,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),B=R.add(K).add(F).add(I)),e.body&&!x.parent().length&&t(e.body).append(v,x.append(y,_))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!x&&(V||(V=!0,R.click(function(){J.next()}),K.click(function(){J.prev()}),P.click(function(){J.close()}),v.click(function(){O.get("overlayClose")&&J.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;$&&O.get("escKey")&&27===e&&(t.preventDefault(),J.close()),$&&O.get("arrowKey")&&W[1]&&!t.altKey&&(37===e?(t.preventDefault(),K.click()):39===e&&(t.preventDefault(),R.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,i):t("."+tt).live("click."+Z,i)),!0)}function w(){var e,o,r,h=J.prep,d=++lt;if(q=!0,U=!1,u(ht),u(it),O.get("onLoad"),O.h=O.get("height")?a(O.get("height"),"y")-A-D:O.get("innerHeight")&&a(O.get("innerHeight"),"y"),O.w=O.get("width")?a(O.get("width"),"x")-N-j:O.get("innerWidth")&&a(O.get("innerWidth"),"x"),O.mw=O.w,O.mh=O.h,O.get("maxWidth")&&(O.mw=a(O.get("maxWidth"),"x")-N-j,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.get("maxHeight")&&(O.mh=a(O.get("maxHeight"),"y")-A-D,O.mh=O.h&&O.h<O.mh?O.h:O.mh),e=O.get("href"),Q=setTimeout(function(){M.show()},100),O.get("inline")){var c=t(e);r=t("<div>").hide().insertBefore(c),at.one(ht,function(){r.replaceWith(c)}),h(c)}else O.get("iframe")?h(" "):O.get("html")?h(O.get("html")):s(O,e)?(e=l(O,e),U=new Image,t(U).addClass(Z+"Photo").bind("error",function(){h(n(st,"Error").html(O.get("imgError")))}).one("load",function(){d===lt&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,i){var n=t(O.el).attr(i)||t(O.el).attr("data-"+i);n&&U.setAttribute(i,n)}),O.get("retinaImage")&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),O.get("scalePhotos")&&(o=function(){U.height-=U.height*e,U.width-=U.width*e},O.mw&&U.width>O.mw&&(e=(U.width-O.mw)/U.width,o()),O.mh&&U.height>O.mh&&(e=(U.height-O.mh)/U.height,o())),O.h&&(U.style.marginTop=Math.max(O.mh-U.height,0)/2+"px"),W[1]&&(O.get("loop")||W[z+1])&&(U.style.cursor="pointer",U.onclick=function(){J.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",h(U)},1)}),U.src=e):e&&_.load(e,O.get("data"),function(e,i){d===lt&&h("error"===i?n(st,"Error").html(O.get("xhrError")):t(this).contents())})}var v,x,y,b,T,C,H,k,W,E,L,_,M,S,F,I,R,K,P,B,O,D,j,A,N,z,U,$,q,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},Y="flexmls_connect__colorbox",Z="flexmls_connect__cbox",tt=Z+"Element",et=Z+"_open",it=Z+"_load",nt=Z+"_complete",ot=Z+"_cleanup",rt=Z+"_closed",ht=Z+"_purge",at=t("<a/>"),st="div",lt=0,dt={},ct=function(){function t(){clearTimeout(h)}function e(){(O.get("loop")||W[z+1])&&(t(),h=setTimeout(J.next,O.get("slideshowSpeed")))}function i(){I.html(O.get("slideshowStop")).unbind(s).one(s,n),at.bind(nt,e).bind(it,t),x.removeClass(a+"off").addClass(a+"on")}function n(){t(),at.unbind(nt,e).unbind(it,t),I.html(O.get("slideshowStart")).unbind(s).one(s,function(){J.next(),i()}),x.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,I.hide(),t(),at.unbind(nt,e).unbind(it,t),x.removeClass(a+"off "+a+"on")}var r,h,a=Z+"Slideshow_",s="click."+Z;return function(){r?O.get("slideshow")||(at.unbind(ot,o),o()):O.get("slideshow")&&W[1]&&(r=!0,at.one(ot,o),O.get("slideshowAuto")?i():n(),I.show())}}();t[Y]||(t(p),J=t.fn[Y]=t[Y]=function(e,i){var n,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(p(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,Y)||{};t.data(this,Y,t.extend(i,e))}).addClass(tt),n=new r(o[0],e),n.get("open")&&f(o[0])),o):o},J.position=function(e,i){function n(){T[0].style.width=k[0].style.width=b[0].style.width=parseInt(x[0].style.width,10)-j+"px",b[0].style.height=C[0].style.height=H[0].style.height=parseInt(x[0].style.height,10)-D+"px"}var r,h,s,l=0,d=0,c=x.offset();if(E.unbind("resize."+Z),x.css({top:-9e4,left:-9e4}),h=E.scrollTop(),s=E.scrollLeft(),O.get("fixed")?(c.top-=h,c.left-=s,x.css({position:"fixed"})):(l=h,d=s,x.css({position:"absolute"})),!1!==O.get("right")?d+=Math.max(E.width()-O.w-N-j-a(O.get("right"),"x"),0):!1!==O.get("left")?d+=a(O.get("left"),"x"):d+=Math.round(Math.max(E.width()-O.w-N-j,0)/2),!1!==O.get("bottom")?l+=Math.max(o()-O.h-A-D-a(O.get("bottom"),"y"),0):!1!==O.get("top")?l+=a(O.get("top"),"y"):l+=Math.round(Math.max(o()-O.h-A-D,0)/2),x.css({top:c.top,left:c.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",r={width:O.w+N+j,height:O.h+A+D,top:l,left:d},e){var g=0;t.each(r,function(t){if(r[t]!==dt[t])return void(g=e)}),e=g}dt=r,e||x.css(r),x.dequeue().animate(r,{duration:e||0,complete:function(){n(),q=!1,y[0].style.width=O.w+N+j+"px",y[0].style.height=O.h+A+D+"px",O.get("reposition")&&setTimeout(function(){E.bind("resize."+Z,J.position)},1),t.isFunction(i)&&i()},step:n})},J.resize=function(t){var e;$&&(t=t||{},t.width&&(O.w=a(t.width,"x")-N-j),t.innerWidth&&(O.w=a(t.innerWidth,"x")),L.css({width:O.w}),t.height&&(O.h=a(t.height,"y")-A-D),t.innerHeight&&(O.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=L.scrollTop(),L.css({height:"auto"}),O.h=L.height()),L.css({height:O.h}),e&&L.scrollTop(e),J.position("none"===O.get("transition")?0:O.get("speed")))},J.prep=function(i){if($){var o,a="none"===O.get("transition")?0:O.get("speed");L.remove(),L=n(st,"LoadedContent").append(i),L.hide().appendTo(_.show()).css({width:function(){return O.w=O.w||L.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}(),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:function(){return O.h=O.h||L.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}()}).prependTo(b),_.hide(),t(U).css({float:"none"}),c(O.get("className")),o=function(){function i(){!1===t.support.opacity&&x[0].style.removeAttribute("filter")}var n,o,d=W.length;$&&(o=function(){clearTimeout(Q),M.hide(),u(nt),O.get("onComplete")},S.html(O.get("title")).show(),L.show(),d>1?("string"==typeof O.get("current")&&F.html(O.get("current").replace("{current}",z+1).replace("{total}",d)).show(),R[O.get("loop")||z<d-1?"show":"hide"]().html(O.get("next")),K[O.get("loop")||z?"show":"hide"]().html(O.get("previous")),ct(),O.get("preloading")&&t.each([h(-1),h(1)],function(){var i,n=W[this],o=new r(n,t.data(n,Y)),h=o.get("href");h&&s(o,h)&&(h=l(o,h),i=e.createElement("img"),i.src=h)})):B.hide(),O.get("iframe")?(n=e.createElement("iframe"),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),O.get("scrolling")||(n.scrolling="no"),t(n).attr({src:O.get("href"),name:(new Date).getTime(),class:Z+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(L),at.one(ht,function(){n.src="//about:blank"}),O.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===O.get("transition")?x.fadeTo(a,1,i):i())},"fade"===O.get("transition")?x.fadeTo(a,0,function(){J.position(0,o)}):J.position(a,o)}},J.next=function(){!q&&W[1]&&(O.get("loop")||W[z+1])&&(z=h(1),f(W[z]))},J.prev=function(){!q&&W[1]&&(O.get("loop")||z)&&(z=h(-1),f(W[z]))},J.close=function(){$&&!G&&(G=!0,$=!1,u(ot),O.get("onCleanup"),E.unbind("."+Z),v.fadeTo(O.get("fadeOut")||0,0),x.stop().fadeTo(O.get("fadeOut")||0,0,function(){x.hide(),v.hide(),u(ht),L.remove(),setTimeout(function(){G=!1,u(rt),O.get("onClosed")},1)}))},J.remove=function(){x&&(x.stop(),t[Y].close(),x.stop(!1,!0).remove(),v.remove(),G=!1,x=null,t("."+tt).removeData(Y).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},J.element=function(){return t(O.el)},J.settings=X)}(jQuery,document,window);
!function(e){e.fn.loopedCarousel=function(t){var n={container:".flexmls_connect__container",slides:".flexmls_connect__slides",pagination:".pagination",autoStart:0,slidespeed:300,fadespeed:300,items:3,grid_size:1,padding:3,showPagination:!0,vertical:!1,slideshowAutoLoadLimit:5,pauseOnHover:!0};this.each(function(){function a(){sliderIntervalID=setInterval(function(){!1===C&&(i()?o():_("next",!0))},v.autoStart)}function i(){return needToLoad=S>e(".flexmls_connect__slide_page",g).length,needToLoad}function s(){var t=L+1;return e(".flexmls_connect__slide_page",g).length>=t+1}function o(){e.ajax({type:"GET",url:fmcAjax.ajaxurl+"?settings="+g.attr("data-connect-settings"),dataType:"html",data:{action:"fmcPhotos_additional_slides",page:L+2},success:function(t){e(".flexmls_connect__slides",g).append(t),e("div.flexmls_connect__slides div a.popup",g).not("div.flexmls_connect__slides div a.cboxElement").each(function(t){flexmls_connect.establishColorbox(e(this))}),v.showPagination&&(c(),p()),e("span.pleasewait",g).hide(),_("next",!0)},error:function(e,t,n){b++}})}function l(){e(".pagination li",g).removeClass("active"),e(".pagination li:eq("+L+")",g).addClass("active")}function c(){if(v.showPagination){for(var t=e(".flexmls_connect__slide_page",g).length,n=e("<ul>").addClass("pagination"),a=0;a<t;a++){var i=e("<li>").append(e("<a>").attr({rel:a,href:"#"}).text(a+1));a===L&&i.addClass("active"),n.append(i)}e(".pagination",g).remove(),e("a.next",g).after(n)}}function r(){if(0==e("span.pleasewait",g).length){var t=e("<span class='pleasewait'>Loading Listings...</span>").appendTo(g),n=e(".flexmls_connect__container",g),a=n.position();e("span.pleasewait",g).css({top:(n.height()-t.height())/2+a.top,left:(n.width()-t.width())/2+a.left})}else e("span.pleasewait",g).show()}function d(){clearInterval(sliderIntervalID)}function p(){11*e("ul.pagination li",g).length>e(v.container,g).width()-e(".previous",g).width()-e(".next",g).width()-10&&e("ul.pagination",g).hide()}function _(t,n){page_size=v.vertical?x:m;var a=L;switch(t){case"next":L+1<e(".flexmls_connect__slide_page",g).length?a++:a=0;break;case"prev":L>0&&a--;break;case"fade":a=n}a!=L&&(C=!0,e(".flexmls_connect__slide_page:eq("+L+")",g).fadeOut(function(){var t=e(".flexmls_connect__slide_page:eq("+a+")",g);u(t),t.fadeIn(function(){C=!1})}),L=a,l())}function f(){var t=e(".flexmls_connect__slideshow_image:visible",g).first(),n=e(t).attr("style","height: auto;").parent().width();n>0?(v.height=3*n/4,u()):setTimeout(f,10)}function u(t){var n=t||g;v.height>0?e(".flexmls_connect__slideshow_image",n).each(function(){e(this).css("height",v.height)}):f()}var g=e(this),v=e.extend({},n,t),m=v.items,x=v.grid_size,I=e(v.slides,g).children().size(),C=!1,L=0,S=parseInt(g.attr("data-connect-total-pages")),b=0;if(function(){e(".flexmls_connect__slide_page",g).hide(),e(".flexmls_connect__slide_page:eq("+L+")",g).show(0,function(){f()})}(),e(window).resize(function(){f()}),parseInt(g.attr("data-connect-total-pages"))<2)for(v.showPagination=!1,e(".previous, .next",g).css("display","none");m*x-m>=I;)x--;if(c(),0===I&&(h=(e(this).hasClass("tall")?165:145)+v.padding,w=134+v.padding),0===I)return void e(v.container,g).append(e("<div class='flexmls_connect__empty_message'>").html("No Listings Found"));e(".next",g).click(function(){if(v.autoStart&&d(),!1===C){if(L+1>S)return!1;s()?_("next",!0):i()&&(r(),o())}return!1}),e(".previous",g).click(function(){return!1===C&&(_("prev",!0),v.autoStart&&d()),!1}),e(v.pagination+" li a",g).live("click",function(){return e(this).parent().hasClass("active")||!1!==C||(_("fade",parseInt(e(this).attr("rel"))),v.autoStart&&d()),!1}),v.showPagination&&p(),v.autoStart&&a(),v.pauseOnHover&&0!=v.autoStart&&e(v.slides).hover(d,a)})}}(jQuery);
!function(t){t.color={},t.color.make=function(e,i,n,o){var a={};return a.r=e||0,a.g=i||0,a.b=n||0,a.a=null!=o?o:1,a.add=function(t,e){for(var i=0;i<t.length;++i)a[t.charAt(i)]+=e;return a.normalize()},a.scale=function(t,e){for(var i=0;i<t.length;++i)a[t.charAt(i)]*=e;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}return a.r=t(0,parseInt(a.r),255),a.g=t(0,parseInt(a.g),255),a.b=t(0,parseInt(a.b),255),a.a=t(0,a.a,1),a},a.clone=function(){return t.color.make(a.r,a.b,a.g,a.a)},a.normalize()},t.color.extract=function(e,i){var n;do{if(""!=(n=e.css(i).toLowerCase())&&"transparent"!=n)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(i){var n,o=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var a=t.trim(i).toLowerCase();return"transparent"==a?o(255,255,255,0):(n=e[a]||[0,0,0],o(n[0],n[1],n[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,o,a,r){function l(t,e){e=[gt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function s(t){it=c(t),p(),x()}function c(e){for(var i=[],n=0;n<e.length;++n){var o=t.extend(!0,{},nt.series);null!=e[n].data?(o.data=e[n].data,delete e[n].data,t.extend(!0,o,e[n]),e[n].data=o.data):o.data=e[n],i.push(o)}return i}function u(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function h(){return t.grep(ct.concat(ut),function(t){return t})}function f(t){var e,i,n={};for(e=0;e<ct.length;++e)(i=ct[e])&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<ut.length;++e)(i=ut[e])&&i.used&&(n["y"+i.n]=i.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function m(t){var e,i,n,o={};for(e=0;e<ct.length;++e)if((i=ct[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){o.left=i.p2c(t[n]);break}for(e=0;e<ut.length;++e)if((i=ut[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){o.top=i.p2c(t[n]);break}return o}function d(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==ct?"x":"y",options:t.extend(!0,{},e==ct?nt.xaxis:nt.yaxis)}),e[i-1]}function p(){var e,i=it.length,n=[],o=[];for(e=0;e<it.length;++e){var a=it[e].color;null!=a&&(--i,"number"==typeof a?o.push(a):n.push(t.color.parse(it[e].color)))}for(e=0;e<o.length;++e)i=Math.max(i,o[e]+1);var r=[],l=0;for(e=0;r.length<i;){var s;s=nt.colors.length==e?t.color.make(100,100,100):t.color.parse(nt.colors[e]);var c=l%2==1?-1:1;s.scale("rgb",1+c*Math.ceil(l/2)*.2),r.push(s),++e,e>=nt.colors.length&&(e=0,++l)}var h,f=0;for(e=0;e<it.length;++e){if(h=it[e],null==h.color?(h.color=r[f].toString(),++f):"number"==typeof h.color&&(h.color=r[h.color].toString()),null==h.lines.show){var m,p=!0;for(m in h)if(h[m]&&h[m].show){p=!1;break}p&&(h.lines.show=!0)}h.xaxis=d(ct,u(h,"x")),h.yaxis=d(ut,u(h,"y"))}}function x(){function e(t,e,i){e<t.datamin&&e!=-x&&(t.datamin=e),i>t.datamax&&i!=x&&(t.datamax=i)}var i,n,o,a,r,s,c,u,f,m,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,x=Number.MAX_VALUE;for(t.each(h(),function(t,e){e.datamin=d,e.datamax=p,e.used=!1}),i=0;i<it.length;++i)r=it[i],r.datapoints={points:[]},l(xt.processRawData,[r,r.data,r.datapoints]);for(i=0;i<it.length;++i){r=it[i];var g=r.data,v=r.datapoints.format;if(v||(v=[],v.push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),(r.bars.show||r.lines.show&&r.lines.fill)&&(v.push({y:!0,number:!0,required:!1,defaultValue:0}),r.bars.horizontal&&(delete v[v.length-1].y,v[v.length-1].x=!0)),r.datapoints.format=v),null==r.datapoints.pointsize)for(r.datapoints.pointsize=v.length,c=r.datapoints.pointsize,s=r.datapoints.points,insertSteps=r.lines.show&&r.lines.steps,r.xaxis.used=r.yaxis.used=!0,n=o=0;n<g.length;++n,o+=c){m=g[n];var b=null==m;if(!b)for(a=0;a<c;++a)u=m[a],f=v[a],f&&(f.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=x:u==-1/0&&(u=-x)),null==u&&(f.required&&(b=!0),null!=f.defaultValue&&(u=f.defaultValue))),s[o+a]=u;if(b)for(a=0;a<c;++a)u=s[o+a],null!=u&&(f=v[a],f.x&&e(r.xaxis,u,u),f.y&&e(r.yaxis,u,u)),s[o+a]=null;else if(insertSteps&&o>0&&null!=s[o-c]&&s[o-c]!=s[o]&&s[o-c+1]!=s[o+1]){for(a=0;a<c;++a)s[o+c+a]=s[o+a];s[o+1]=s[o-c+1],o+=c}}}for(i=0;i<it.length;++i)r=it[i],l(xt.processDatapoints,[r,r.datapoints]);for(i=0;i<it.length;++i){r=it[i],s=r.datapoints.points,c=r.datapoints.pointsize,v=r.datapoints.format;var k=d,y=d,M=p,w=p;for(n=0;n<s.length;n+=c)if(null!=s[n])for(a=0;a<c;++a)u=s[n+a],(f=v[a])&&u!=x&&u!=-x&&(f.x&&(u<k&&(k=u),u>M&&(M=u)),f.y&&(u<y&&(y=u),u>w&&(w=u)));if(r.bars.show){var T="left"==r.bars.align?0:-r.bars.barWidth/2;r.bars.horizontal?(y+=T,w+=T+r.bars.barWidth):(k+=T,M+=T+r.bars.barWidth)}e(r.xaxis,k,M),e(r.yaxis,y,w)}t.each(h(),function(t,e){e.datamin==d&&(e.datamin=null),e.datamax==p&&(e.datamax=null)})}function g(i,n){var o=document.createElement("canvas");return o.className=n,o.width=ft,o.height=mt,i||t(o).css({position:"absolute",left:0,top:0}),t(o).appendTo(e),o.getContext||(o=window.G_vmlCanvasManager.initElement(o)),o.getContext("2d").save(),o}function v(){if(ft=e.width(),mt=e.height(),ft<=0||mt<=0)throw"Invalid dimensions for plot, width = "+ft+", height = "+mt}function b(t){t.width!=ft&&(t.width=ft),t.height!=mt&&(t.height=mt);var e=t.getContext("2d");e.restore(),e.save()}function k(){bt&&clearTimeout(bt),rt.unbind("mousemove",V),rt.unbind("mouseleave",X),rt.unbind("click",q),l(xt.shutdown,[rt])}function y(t){function e(t){return t}var i,n,o=t.options.transform||e,a=t.options.inverseTransform;"x"==t.direction?(i=t.scale=dt/Math.abs(o(t.max)-o(t.min)),n=Math.min(o(t.max),o(t.min))):(i=t.scale=pt/Math.abs(o(t.max)-o(t.min)),i=-i,n=Math.max(o(t.max),o(t.min))),t.p2c=o==e?function(t){return(t-n)*i}:function(t){return(o(t)-n)*i},t.c2p=a?function(t){return a(n+t/i)}:function(t){return n+t/i}}function M(t){var e=t.options,i=t.ticks||[],n=e.labelWidth||0,o=e.labelHeight||0,a=t.font;lt.save(),lt.font=a.style+" "+a.variant+" "+a.weight+" "+a.size+"px '"+a.family+"'";for(var r=0;r<i.length;++r){var l=i[r];if(l.lines=[],l.width=l.height=0,l.label){for(var s=l.label.replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),c=0;c<s.length;++c){var u={text:s[c]},h=lt.measureText(u.text);u.width=h.width,u.height=null!=h.height?h.height:a.size,u.height+=Math.round(.15*a.size),l.width=Math.max(u.width,l.width),l.height+=u.height,l.lines.push(u)}null==e.labelWidth&&(n=Math.max(n,l.width)),null==e.labelHeight&&(o=Math.max(o,l.height))}}lt.restore(),t.labelWidth=Math.ceil(n),t.labelHeight=Math.ceil(o)}function w(e){var i=e.labelWidth,n=e.labelHeight,o=e.options.position,a=e.options.tickLength,r=nt.grid.axisMargin,l=nt.grid.labelMargin,s="x"==e.direction?ct:ut,c=t.grep(s,function(t){return t&&t.options.position==o&&t.reserveSpace});if(t.inArray(e,c)==c.length-1&&(r=0),null==a){var u=t.grep(s,function(t){return t&&t.reserveSpace}),h=0==t.inArray(e,u);a=h?"full":5}isNaN(+a)||(l+=+a),"x"==e.direction?(n+=l,"bottom"==o?(ht.bottom+=n+r,e.box={top:mt-ht.bottom,height:n}):(e.box={top:ht.top+r,height:n},ht.top+=n+r)):(i+=l,"left"==o?(e.box={left:ht.left+r,width:i},ht.left+=i+r):(ht.right+=i+r,e.box={left:ft-ht.right,width:i})),e.position=o,e.tickLength=a,e.box.padding=l,e.innermost=h}function T(t){"x"==t.direction?(t.box.left=ht.left-t.labelWidth/2,t.box.width=ft-ht.left-ht.right+t.labelWidth):(t.box.top=ht.top-t.labelHeight/2,t.box.height=mt-ht.bottom-ht.top+t.labelHeight)}function C(){var e,i=nt.grid.minBorderMargin,n={x:0,y:0};if(null==i)for(i=0,e=0;e<it.length;++e)i=Math.max(i,2*(it[e].points.radius+it[e].points.lineWidth/2));n.x=n.y=Math.ceil(i),t.each(h(),function(t,e){var i=e.direction;e.reserveSpace&&(n[i]=Math.ceil(Math.max(n[i],("x"==i?e.labelWidth:e.labelHeight)/2)))}),ht.left=Math.max(n.x,ht.left),ht.right=Math.max(n.x,ht.right),ht.top=Math.max(n.y,ht.top),ht.bottom=Math.max(n.y,ht.bottom)}function S(){var i,n=h(),o=nt.grid.show;for(var a in ht)ht[a]=o?nt.grid.borderWidth:0;if(t.each(n,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,z(e)}),o){var r={style:e.css("font-style"),size:Math.round(.8*(+e.css("font-size").replace("px","")||13)),variant:e.css("font-variant"),weight:e.css("font-weight"),family:e.css("font-family")},l=t.grep(n,function(t){return t.reserveSpace});for(t.each(l,function(e,i){W(i),A(i),I(i,i.ticks),i.font=t.extend({},r,i.options.font),M(i)}),i=l.length-1;i>=0;--i)w(l[i]);C(),t.each(l,function(t,e){T(e)})}dt=ft-ht.left-ht.right,pt=mt-ht.bottom-ht.top,t.each(n,function(t,e){y(e)}),j()}function z(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),o=n-i;if(0==o){var a=0==n?1:.01;null==e.min&&(i-=a),null!=e.max&&null==e.min||(n+=a)}else{var r=e.autoscaleMargin;null!=r&&(null==e.min&&(i-=o*r)<0&&null!=t.datamin&&t.datamin>=0&&(i=0),null==e.max&&(n+=o*r)>0&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=i,t.max=n}function W(e){var i,o=e.options;i="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==e.direction?ft:mt);var a,r,l,s,c,u,h,f=(e.max-e.min)/i;if("time"==o.mode){var m={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},d=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],p=0;null!=o.minTickSize&&(p="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*m[o.minTickSize[1]]);for(var c=0;c<d.length-1&&!(f<(d[c][0]*m[d[c][1]]+d[c+1][0]*m[d[c+1][1]])/2&&d[c][0]*m[d[c][1]]>=p);++c);a=d[c][0],l=d[c][1],"year"==l&&(u=Math.pow(10,Math.floor(Math.log(f/m.year)/Math.LN10)),h=f/m.year/u,a=h<1.5?1:h<3?2:h<7.5?5:10,a*=u),e.tickSize=o.tickSize||[a,l],r=function(t){var e=[],i=t.tickSize[0],o=t.tickSize[1],a=new Date(t.min),r=i*m[o];"second"==o&&a.setUTCSeconds(n(a.getUTCSeconds(),i)),"minute"==o&&a.setUTCMinutes(n(a.getUTCMinutes(),i)),"hour"==o&&a.setUTCHours(n(a.getUTCHours(),i)),"month"==o&&a.setUTCMonth(n(a.getUTCMonth(),i)),"year"==o&&a.setUTCFullYear(n(a.getUTCFullYear(),i)),a.setUTCMilliseconds(0),r>=m.minute&&a.setUTCSeconds(0),r>=m.hour&&a.setUTCMinutes(0),r>=m.day&&a.setUTCHours(0),r>=4*m.day&&a.setUTCDate(1),r>=m.year&&a.setUTCMonth(0);var l,s=0,c=Number.NaN;do{if(l=c,c=a.getTime(),e.push(c),"month"==o)if(i<1){a.setUTCDate(1);var u=a.getTime();a.setUTCMonth(a.getUTCMonth()+1);var h=a.getTime();a.setTime(c+s*m.hour+(h-u)*i),s=a.getUTCHours(),a.setUTCHours(0)}else a.setUTCMonth(a.getUTCMonth()+i);else"year"==o?a.setUTCFullYear(a.getUTCFullYear()+i):a.setTime(c+r)}while(c<t.max&&c!=l);return e},s=function(e,i){var n=new Date(e);if(null!=o.timeformat)return t.plot.formatDate(n,o.timeformat,o.monthNames);var a=i.tickSize[0]*m[i.tickSize[1]],r=i.max-i.min,l=o.twelveHourClock?" %p":"";return fmt=a<m.minute?"%h:%M:%S"+l:a<m.day?r<2*m.day?"%h:%M"+l:"%b %d %h:%M"+l:a<m.month?"%b %d":a<m.year?r<m.year?"%b":"%b %y":"%y",t.plot.formatDate(n,fmt,o.monthNames)}}else{var x=o.tickDecimals,g=-Math.floor(Math.log(f)/Math.LN10);null!=x&&g>x&&(g=x),u=Math.pow(10,-g),h=f/u,h<1.5?a=1:h<3?(a=2,h>2.25&&(null==x||g+1<=x)&&(a=2.5,++g)):a=h<7.5?5:10,a*=u,null!=o.minTickSize&&a<o.minTickSize&&(a=o.minTickSize),e.tickDecimals=Math.max(0,null!=x?x:g),e.tickSize=o.tickSize||a,r=function(t){var e,i=[],o=n(t.min,t.tickSize),a=0,r=Number.NaN;do{e=r,r=o+a*t.tickSize,i.push(r),++a}while(r<t.max&&r!=e);return i},s=function(t,e){return t.toFixed(e.tickDecimals)}}if(null!=o.alignTicksWithAxis){var v=("x"==e.direction?ct:ut)[o.alignTicksWithAxis-1];if(v&&v.used&&v!=e){var b=r(e);if(b.length>0&&(null==o.min&&(e.min=Math.min(e.min,b[0])),null==o.max&&b.length>1&&(e.max=Math.max(e.max,b[b.length-1]))),r=function(t){var e,i,n=[];for(i=0;i<v.ticks.length;++i)e=(v.ticks[i].v-v.min)/(v.max-v.min),e=t.min+e*(t.max-t.min),n.push(e);return n},"time"!=e.mode&&null==o.tickDecimals){var k=Math.max(0,1-Math.floor(Math.log(f)/Math.LN10)),y=r(e);y.length>1&&/\..*0$/.test((y[1]-y[0]).toFixed(k))||(e.tickDecimals=k)}}}e.tickGenerator=r,t.isFunction(o.tickFormatter)?e.tickFormatter=function(t,e){return""+o.tickFormatter(t,e)}:e.tickFormatter=s}function A(e){var i=e.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=e.tickGenerator(e):i&&(n=t.isFunction(i)?i({min:e.min,max:e.max}):i);var o,a;for(e.ticks=[],o=0;o<n.length;++o){var r=null,l=n[o];"object"==typeof l?(a=+l[0],l.length>1&&(r=l[1])):a=+l,null==r&&(r=e.tickFormatter(a,e)),isNaN(a)||e.ticks.push({v:a,label:r})}}function I(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function F(){lt.clearRect(0,0,ft,mt);var t=nt.grid;t.show&&t.backgroundColor&&N(),t.show&&!t.aboveData&&(D(),P());for(var e=0;e<it.length;++e)l(xt.drawSeries,[lt,it[e]]),H(it[e]);l(xt.draw,[lt]),t.show&&t.aboveData&&(D(),P())}function U(t,e){var n,o,a,r,l=h();for(i=0;i<l.length;++i)if(n=l[i],n.direction==e&&(r=e+n.n+"axis",t[r]||1!=n.n||(r=e+"axis"),t[r])){o=t[r].from,a=t[r].to;break}if(t[r]||(n="x"==e?ct[0]:ut[0],o=t[e+"1"],a=t[e+"2"]),null!=o&&null!=a&&o>a){var s=o;o=a,a=s}return{from:o,to:a,axis:n}}function N(){lt.save(),lt.translate(ht.left,ht.top),lt.fillStyle=et(nt.grid.backgroundColor,pt,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,dt,pt),lt.restore()}function D(){var e;lt.save(),lt.translate(ht.left,ht.top);var i=nt.grid.markings;if(i){if(t.isFunction(i)){var n=gt.getAxes();n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,i=i(n)}for(e=0;e<i.length;++e){var o=i[e],a=U(o,"x"),r=U(o,"y");null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),a.to<a.axis.min||a.from>a.axis.max||r.to<r.axis.min||r.from>r.axis.max||(a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),a.from==a.to&&r.from==r.to||(a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),a.from==a.to||r.from==r.to?(lt.beginPath(),lt.strokeStyle=o.color||nt.grid.markingsColor,lt.lineWidth=o.lineWidth||nt.grid.markingsLineWidth,lt.moveTo(a.from,r.from),lt.lineTo(a.to,r.to),lt.stroke()):(lt.fillStyle=o.color||nt.grid.markingsColor,lt.fillRect(a.from,r.to,a.to-a.from,r.from-r.to))))}}for(var n=h(),l=nt.grid.borderWidth,s=0;s<n.length;++s){var c,u,f,m,d=n[s],p=d.box,x=d.tickLength;if(d.show&&0!=d.ticks.length){for(lt.strokeStyle=d.options.tickColor||t.color.parse(d.options.color).scale("a",.22).toString(),lt.lineWidth=1,"x"==d.direction?(c=0,u="full"==x?"top"==d.position?0:pt:p.top-ht.top+("top"==d.position?p.height:0)):(u=0,c="full"==x?"left"==d.position?0:dt:p.left-ht.left+("left"==d.position?p.width:0)),d.innermost||(lt.beginPath(),f=m=0,"x"==d.direction?f=dt:m=pt,1==lt.lineWidth&&(c=Math.floor(c)+.5,u=Math.floor(u)+.5),lt.moveTo(c,u),lt.lineTo(c+f,u+m),lt.stroke()),lt.beginPath(),e=0;e<d.ticks.length;++e){var g=d.ticks[e].v;f=m=0,g<d.min||g>d.max||"full"==x&&l>0&&(g==d.min||g==d.max)||("x"==d.direction?(c=d.p2c(g),m="full"==x?-pt:x,"top"==d.position&&(m=-m)):(u=d.p2c(g),f="full"==x?-dt:x,"left"==d.position&&(f=-f)),1==lt.lineWidth&&("x"==d.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),lt.moveTo(c,u),lt.lineTo(c+f,u+m))}lt.stroke()}}l&&(lt.lineWidth=l,lt.strokeStyle=nt.grid.borderColor,lt.strokeRect(-l/2,-l/2,dt+l,pt+l)),lt.restore()}function P(){lt.save(),t.each(h(),function(e,i){if(i.show&&0!=i.ticks.length){var n=i.box,o=i.font;lt.fillStyle=i.options.color,lt.font=o.style+" "+o.variant+" "+o.weight+" "+o.size+"px '"+o.family+"'",lt.textAlign="start",lt.textBaseline="middle";for(var a=0;a<i.ticks.length;++a){var r=i.ticks[a];if(!(!r.label||r.v<i.min||r.v>i.max))for(var l,s,c,u=0,h=0;h<r.lines.length;++h)c=r.lines[h],"x"==i.direction?(l=ht.left+i.p2c(r.v)-c.width/2,s="bottom"==i.position?n.top+n.padding:n.top+n.height-n.padding-r.height):(s=ht.top+i.p2c(r.v)-r.height/2,l="left"==i.position?n.left+n.width-n.padding-c.width:n.left+n.padding),s+=c.height/2+u,u+=c.height,t.browser.opera&&(l=Math.floor(l),s=Math.ceil(s-2)),lt.fillText(c.text,l,s)}}}),lt.restore()}function H(t){t.lines.show&&L(t),t.bars.show&&R(t),t.points.show&&O(t)}function L(t){function e(t,e,i,n,o){var a=t.points,r=t.pointsize,l=null,s=null;lt.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],h=a[c-r+1],f=a[c],m=a[c+1];if(null!=u&&null!=f){if(h<=m&&h<o.min){if(m<o.min)continue;u=(o.min-h)/(m-h)*(f-u)+u,h=o.min}else if(m<=h&&m<o.min){if(h<o.min)continue;f=(o.min-h)/(m-h)*(f-u)+u,m=o.min}if(h>=m&&h>o.max){if(m>o.max)continue;u=(o.max-h)/(m-h)*(f-u)+u,h=o.max}else if(m>=h&&m>o.max){if(h>o.max)continue;f=(o.max-h)/(m-h)*(f-u)+u,m=o.max}if(u<=f&&u<n.min){if(f<n.min)continue;h=(n.min-u)/(f-u)*(m-h)+h,u=n.min}else if(f<=u&&f<n.min){if(u<n.min)continue;m=(n.min-u)/(f-u)*(m-h)+h,f=n.min}if(u>=f&&u>n.max){if(f>n.max)continue;h=(n.max-u)/(f-u)*(m-h)+h,u=n.max}else if(f>=u&&f>n.max){if(u>n.max)continue;m=(n.max-u)/(f-u)*(m-h)+h,f=n.max}u==l&&h==s||lt.moveTo(n.p2c(u)+e,o.p2c(h)+i),l=f,s=m,lt.lineTo(n.p2c(f)+e,o.p2c(m)+i)}}lt.stroke()}lt.save(),lt.translate(ht.left,ht.top),lt.lineJoin="round";var i=t.lines.lineWidth,n=t.shadowSize;if(i>0&&n>0){lt.lineWidth=n,lt.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),t.xaxis,t.yaxis),lt.lineWidth=n/2,e(t.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),t.xaxis,t.yaxis)}lt.lineWidth=i,lt.strokeStyle=t.color;var a=E(t.lines,t.color,0,pt);a&&(lt.fillStyle=a,function(t,e,i){for(var n=t.points,o=t.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,l=!1,s=1,c=0,u=0;!(o>0&&r>n.length+o);){r+=o;var h=n[r-o],f=n[r-o+s],m=n[r],d=n[r+s];if(l){if(o>0&&null!=h&&null==m){u=r,o=-o,s=2;continue}if(o<0&&r==c+o){lt.fill(),l=!1,o=-o,s=1,r=c=u+o;continue}}if(null!=h&&null!=m){if(h<=m&&h<e.min){if(m<e.min)continue;f=(e.min-h)/(m-h)*(d-f)+f,h=e.min}else if(m<=h&&m<e.min){if(h<e.min)continue;d=(e.min-h)/(m-h)*(d-f)+f,m=e.min}if(h>=m&&h>e.max){if(m>e.max)continue;f=(e.max-h)/(m-h)*(d-f)+f,h=e.max}else if(m>=h&&m>e.max){if(h>e.max)continue;d=(e.max-h)/(m-h)*(d-f)+f,m=e.max}if(l||(lt.beginPath(),lt.moveTo(e.p2c(h),i.p2c(a)),l=!0),f>=i.max&&d>=i.max)lt.lineTo(e.p2c(h),i.p2c(i.max)),lt.lineTo(e.p2c(m),i.p2c(i.max));else if(f<=i.min&&d<=i.min)lt.lineTo(e.p2c(h),i.p2c(i.min)),lt.lineTo(e.p2c(m),i.p2c(i.min));else{var p=h,x=m;f<=d&&f<i.min&&d>=i.min?(h=(i.min-f)/(d-f)*(m-h)+h,f=i.min):d<=f&&d<i.min&&f>=i.min&&(m=(i.min-f)/(d-f)*(m-h)+h,d=i.min),f>=d&&f>i.max&&d<=i.max?(h=(i.max-f)/(d-f)*(m-h)+h,f=i.max):d>=f&&d>i.max&&f<=i.max&&(m=(i.max-f)/(d-f)*(m-h)+h,d=i.max),h!=p&&lt.lineTo(e.p2c(p),i.p2c(f)),lt.lineTo(e.p2c(h),i.p2c(f)),lt.lineTo(e.p2c(m),i.p2c(d)),m!=x&&(lt.lineTo(e.p2c(m),i.p2c(d)),lt.lineTo(e.p2c(x),i.p2c(d)))}}}}(t.datapoints,t.xaxis,t.yaxis)),i>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function O(t){function e(t,e,i,n,o,a,r,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var h=s[u],f=s[u+1];null==h||h<a.min||h>a.max||f<r.min||f>r.max||(lt.beginPath(),h=a.p2c(h),f=r.p2c(f)+n,"circle"==l?lt.arc(h,f,e,0,o?Math.PI:2*Math.PI,!1):l(lt,h,f,e,o),lt.closePath(),i&&(lt.fillStyle=i,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ht.left,ht.top);var i=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,a=t.points.symbol;if(i>0&&n>0){var r=n/2;lt.lineWidth=r,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,r+r/2,!0,t.xaxis,t.yaxis,a),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,r/2,!0,t.xaxis,t.yaxis,a)}lt.lineWidth=i,lt.strokeStyle=t.color,e(t.datapoints,o,E(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),lt.restore()}function Y(t,e,i,n,o,a,r,l,s,c,u,h){var f,m,d,p,x,g,v,b,k;u?(b=g=v=!0,x=!1,f=i,m=t,p=e+n,d=e+o,m<f&&(k=m,m=f,f=k,x=!0,g=!1)):(x=g=v=!0,b=!1,f=t+n,m=t+o,d=i,(p=e)<d&&(k=p,p=d,d=k,b=!0,v=!1)),m<l.min||f>l.max||p<s.min||d>s.max||(f<l.min&&(f=l.min,x=!1),m>l.max&&(m=l.max,g=!1),d<s.min&&(d=s.min,b=!1),p>s.max&&(p=s.max,v=!1),f=l.p2c(f),d=s.p2c(d),m=l.p2c(m),p=s.p2c(p),r&&(c.beginPath(),c.moveTo(f,d),c.lineTo(f,p),c.lineTo(m,p),c.lineTo(m,d),c.fillStyle=r(d,p),c.fill()),h>0&&(x||g||v||b)&&(c.beginPath(),c.moveTo(f,d+a),x?c.lineTo(f,p+a):c.moveTo(f,p+a),v?c.lineTo(m,p+a):c.moveTo(m,p+a),g?c.lineTo(m,d+a):c.moveTo(m,d+a),b?c.lineTo(f,d+a):c.moveTo(f,d+a),c.stroke()))}function R(t){lt.save(),lt.translate(ht.left,ht.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var e="left"==t.bars.align?0:-t.bars.barWidth/2,i=t.bars.fill?function(e,i){return E(t.bars,t.color,e,i)}:null;!function(e,i,n,o,a,r,l){for(var s=e.points,c=e.pointsize,u=0;u<s.length;u+=c)null!=s[u]&&Y(s[u],s[u+1],s[u+2],i,n,o,a,r,l,lt,t.bars.horizontal,t.bars.lineWidth)}(t.datapoints,e,e+t.bars.barWidth,0,i,t.xaxis,t.yaxis),lt.restore()}function E(e,i,n,o){var a=e.fill;if(!a)return null;if(e.fillColor)return et(e.fillColor,n,o,i);var r=t.color.parse(i);return r.a="number"==typeof a?a:.4,r.normalize(),r.toString()}function j(){if(e.find(".legend").remove(),nt.legend.show){for(var i,n,o=[],a=!1,r=nt.legend.labelFormatter,l=0;l<it.length;++l)i=it[l],(n=i.label)&&(l%nt.legend.noColumns==0&&(a&&o.push("</tr>"),o.push("<tr>"),a=!0),r&&(n=r(n,i)),o.push('<td class="legendColorBox"><div style="border:1px solid '+nt.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+n+"</td>"));if(a&&o.push("</tr>"),0!=o.length){var s='<table style="font-size:smaller;color:'+nt.grid.color+'">'+o.join("")+"</table>";if(null!=nt.legend.container)t(nt.legend.container).html(s);else{var c="",u=nt.legend.position,h=nt.legend.margin;null==h[0]&&(h=[h,h]),"n"==u.charAt(0)?c+="top:"+(h[1]+ht.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(h[1]+ht.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(h[0]+ht.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(h[0]+ht.left)+"px;");var f=t('<div class="legend">'+s.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(e);if(0!=nt.legend.backgroundOpacity){var m=nt.legend.backgroundColor;null==m&&(m=nt.grid.backgroundColor,m=m&&"string"==typeof m?t.color.parse(m):t.color.extract(f,"background-color"),m.a=1,m=m.toString());var d=f.children();t('<div style="position:absolute;width:'+d.width()+"px;height:"+d.height()+"px;"+c+"background-color:"+m+';"> </div>').prependTo(f).css("opacity",nt.legend.backgroundOpacity)}}}}}function B(t,e,i){var n,o,a=nt.grid.mouseActiveRadius,r=a*a+1,l=null;for(n=it.length-1;n>=0;--n)if(i(it[n])){var s=it[n],c=s.xaxis,u=s.yaxis,h=s.datapoints.points,f=s.datapoints.pointsize,m=c.c2p(t),d=u.c2p(e),p=a/c.scale,x=a/u.scale;if(c.options.inverseTransform&&(p=Number.MAX_VALUE),u.options.inverseTransform&&(x=Number.MAX_VALUE),s.lines.show||s.points.show)for(o=0;o<h.length;o+=f){var g=h[o],v=h[o+1];if(null!=g&&!(g-m>p||g-m<-p||v-d>x||v-d<-x)){var b=Math.abs(c.p2c(g)-t),k=Math.abs(u.p2c(v)-e),y=b*b+k*k;y<r&&(r=y,l=[n,o/f])}}if(s.bars.show&&!l){var M="left"==s.bars.align?0:-s.bars.barWidth/2,w=M+s.bars.barWidth;for(o=0;o<h.length;o+=f){var g=h[o],v=h[o+1],T=h[o+2];null!=g&&((it[n].bars.horizontal?m<=Math.max(T,g)&&m>=Math.min(T,g)&&d>=v+M&&d<=v+w:m>=g+M&&m<=g+w&&d>=Math.min(T,v)&&d<=Math.max(T,v))&&(l=[n,o/f]))}}}return l?(n=l[0],o=l[1],f=it[n].datapoints.pointsize,{datapoint:it[n].datapoints.points.slice(o*f,(o+1)*f),dataIndex:o,series:it[n],seriesIndex:n}):null}function V(t){nt.grid.hoverable&&G("plothover",t,function(t){return 0!=t.hoverable})}function X(t){nt.grid.hoverable&&G("plothover",t,function(t){return!1})}function q(t){G("plotclick",t,function(t){return 0!=t.clickable})}function G(t,i,n){var o=rt.offset(),a=i.pageX-o.left-ht.left,r=i.pageY-o.top-ht.top,l=f({left:a,top:r});l.pageX=i.pageX,l.pageY=i.pageY;var s=B(a,r,n);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+o.left+ht.left),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+o.top+ht.top)),nt.grid.autoHighlight){for(var c=0;c<vt.length;++c){var u=vt[c];u.auto!=t||s&&u.series==s.series&&u.point[0]==s.datapoint[0]&&u.point[1]==s.datapoint[1]||$(u.series,u.point)}s&&Q(s.series,s.datapoint,t)}e.trigger(t,[l,s])}function _(){var t=nt.interaction.redrawOverlayInterval;if(-1==t)return void J();bt||(bt=setTimeout(J,t))}function J(){bt=null,st.save(),st.clearRect(0,0,ft,mt),st.translate(ht.left,ht.top);var t,e;for(t=0;t<vt.length;++t)e=vt[t],e.series.bars.show?tt(e.series,e.point):Z(e.series,e.point);st.restore(),l(xt.drawOverlay,[st])}function Q(t,e,i){if("number"==typeof t&&(t=it[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var o=K(t,e);-1==o?(vt.push({series:t,point:e,auto:i}),_()):i||(vt[o].auto=!1)}function $(t,e){null==t&&null==e&&(vt=[],_()),"number"==typeof t&&(t=it[t]),"number"==typeof e&&(e=t.data[e]);var i=K(t,e);-1!=i&&(vt.splice(i,1),_())}function K(t,e){for(var i=0;i<vt.length;++i){var n=vt[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function Z(e,i){var n=i[0],o=i[1],a=e.xaxis,r=e.yaxis;if(!(n<a.min||n>a.max||o<r.min||o>r.max)){var l=e.points.radius+e.points.lineWidth/2;st.lineWidth=l,st.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var s=1.5*l,n=a.p2c(n),o=r.p2c(o);st.beginPath(),"circle"==e.points.symbol?st.arc(n,o,s,0,2*Math.PI,!1):e.points.symbol(st,n,o,s,!1),st.closePath(),st.stroke()}}function tt(e,i){st.lineWidth=e.bars.lineWidth,st.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var n=t.color.parse(e.color).scale("a",.5).toString(),o="left"==e.bars.align?0:-e.bars.barWidth/2;Y(i[0],i[1],i[2]||0,o,o+e.bars.barWidth,0,function(){return n},e.xaxis,e.yaxis,st,e.bars.horizontal,e.bars.lineWidth)}function et(e,i,n,o){if("string"==typeof e)return e;for(var a=lt.createLinearGradient(0,n,0,i),r=0,l=e.colors.length;r<l;++r){var s=e.colors[r];if("string"!=typeof s){var c=t.color.parse(o);null!=s.brightness&&(c=c.scale("rgb",s.brightness)),null!=s.opacity&&(c.a*=s.opacity),s=c.toString()}a.addColorStop(r/(l-1),s)}return a}var it=[],nt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,at=null,rt=null,lt=null,st=null,ct=[],ut=[],ht={left:0,right:0,top:0,bottom:0},ft=0,mt=0,dt=0,pt=0,xt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},gt=this;gt.setData=s,gt.setupGrid=S,gt.draw=F,gt.getPlaceholder=function(){return e},gt.getCanvas=function(){return ot},gt.getPlotOffset=function(){return ht},gt.width=function(){return dt},gt.height=function(){return pt},gt.offset=function(){var t=rt.offset();return t.left+=ht.left,t.top+=ht.top,t},gt.getData=function(){return it},gt.getAxes=function(){var e={};return t.each(ct.concat(ut),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},gt.getXAxes=function(){return ct},gt.getYAxes=function(){return ut},gt.c2p=f,gt.p2c=m,gt.getOptions=function(){return nt},gt.highlight=Q,gt.unhighlight=$,gt.triggerRedrawOverlay=_,gt.pointOffset=function(t){return{left:parseInt(ct[u(t,"x")-1].p2c(+t.x)+ht.left),top:parseInt(ut[u(t,"y")-1].p2c(+t.y)+ht.top)}},gt.shutdown=k,gt.resize=function(){v(),b(ot),b(at)},gt.hooks=xt,function(){for(var e=0;e<r.length;++e){var i=r[e];i.init(gt),i.options&&t.extend(!0,nt,i.options)}}(),function(e){var i;for(t.extend(!0,nt,e),null==nt.xaxis.color&&(nt.xaxis.color=nt.grid.color),null==nt.yaxis.color&&(nt.yaxis.color=nt.grid.color),null==nt.xaxis.tickColor&&(nt.xaxis.tickColor=nt.grid.tickColor),null==nt.yaxis.tickColor&&(nt.yaxis.tickColor=nt.grid.tickColor),null==nt.grid.borderColor&&(nt.grid.borderColor=nt.grid.color),null==nt.grid.tickColor&&(nt.grid.tickColor=t.color.parse(nt.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,nt.xaxes.length);++i)nt.xaxes[i]=t.extend(!0,{},nt.xaxis,nt.xaxes[i]);for(i=0;i<Math.max(1,nt.yaxes.length);++i)nt.yaxes[i]=t.extend(!0,{},nt.yaxis,nt.yaxes[i]);for(nt.xaxis.noTicks&&null==nt.xaxis.ticks&&(nt.xaxis.ticks=nt.xaxis.noTicks),nt.yaxis.noTicks&&null==nt.yaxis.ticks&&(nt.yaxis.ticks=nt.yaxis.noTicks),nt.x2axis&&(nt.xaxes[1]=t.extend(!0,{},nt.xaxis,nt.x2axis),nt.xaxes[1].position="top"),nt.y2axis&&(nt.yaxes[1]=t.extend(!0,{},nt.yaxis,nt.y2axis),nt.yaxes[1].position="right"),nt.grid.coloredAreas&&(nt.grid.markings=nt.grid.coloredAreas),nt.grid.coloredAreasColor&&(nt.grid.markingsColor=nt.grid.coloredAreasColor),nt.lines&&t.extend(!0,nt.series.lines,nt.lines),nt.points&&t.extend(!0,nt.series.points,nt.points),nt.bars&&t.extend(!0,nt.series.bars,nt.bars),null!=nt.shadowSize&&(nt.series.shadowSize=nt.shadowSize),i=0;i<nt.xaxes.length;++i)d(ct,i+1).options=nt.xaxes[i];for(i=0;i<nt.yaxes.length;++i)d(ut,i+1).options=nt.yaxes[i];for(var n in xt)nt.hooks[n]&&nt.hooks[n].length&&(xt[n]=xt[n].concat(nt.hooks[n]));l(xt.processOptions,[nt])}(a),function(){var i,n=e.children("canvas.flot-base"),o=e.children("canvas.flot-overlay");0==n.length||0==o?(e.html(""),e.css({padding:0}),
"static"==e.css("position")&&e.css("position","relative"),v(),ot=g(!0,"flot-base"),at=g(!1,"flot-overlay"),i=!1):(ot=n.get(0),at=o.get(0),i=!0),lt=ot.getContext("2d"),st=at.getContext("2d"),rt=t(at),i&&(e.data("plot").shutdown(),gt.resize(),st.clearRect(0,0,ft,mt),rt.unbind(),e.children().not([ot,at]).remove()),e.data("plot",gt)}(),s(o),S(),F(),function(){nt.grid.hoverable&&(rt.mousemove(V),rt.mouseleave(X)),nt.grid.clickable&&rt.click(q),l(xt.bindEvents,[rt])}();var vt=[],bt=null}function n(t,e){return e*Math.floor(t/e)}t.plot=function(i,n,o){return new e(t(i),n,o,t.plot.plugins)},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,e,i){var n=function(t){return t=""+t,1==t.length?"0"+t:t},o=[],a=!1,r=!1,l=t.getUTCHours(),s=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(l>12?l-=12:0==l&&(l=12));for(var c=0;c<e.length;++c){var u=e.charAt(c);if(a){switch(u){case"h":u=""+l;break;case"H":u=n(l);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+i[t.getUTCMonth()];break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"0":u="",r=!0}u&&r&&(u=n(u),r=!1),o.push(u),r||(a=!1)}else"%"==u?a=!0:o.push(u)}return o.join("")}}(jQuery);
!function(e,t,n){"$:nomunge";function i(n){!0===u&&(u=n||1);for(var s=r.length-1;s>=0;s--){var c=e(r[s]);if(c[0]==t||c.is(":visible")){var d=c.width(),f=c.height(),g=c.data(m);!g||d===g.w&&f===g.h||(c.trigger(h,[g.w=d,g.h=f]),u=n||!0)}else g=c.data(m),g.w=0,g.h=0}null!==a&&(u&&(null==n||n-u<1e3)?a=t.requestAnimationFrame(i):(a=setTimeout(i,o[l]),u=!1))}var a,r=[],o=e.resize=e.extend(e.resize,{}),u=!1,s="setTimeout",h="resize",m=h+"-special-event",l="pendingDelay",c="activeDelay",d="throttleWindow";o[l]=200,o[c]=20,o[d]=!0,e.event.special[h]={setup:function(){if(!o[d]&&this[s])return!1;var t=e(this);r.push(this),t.data(m,{w:t.width(),h:t.height()}),1===r.length&&(a=n,i())},teardown:function(){if(!o[d]&&this[s])return!1;for(var t=e(this),n=r.length-1;n>=0;n--)if(r[n]==this){r.splice(n,1);break}t.removeData(m),r.length||(u?cancelAnimationFrame(a):clearTimeout(a),a=null)},add:function(t){function i(t,i,r){var o=e(this),u=o.data(m)||{};u.w=i!==n?i:o.width(),u.h=r!==n?r:o.height(),a.apply(this,arguments)}if(!o[d]&&this[s])return!1;var a;if(e.isFunction(t))return a=t,i;a=t.handler,t.handler=i}},t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(function(){e((new Date).getTime())},o[c])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(e){function t(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function n(e,n){e.getPlaceholder().resize(t)}function i(e,n){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(n),e.hooks.shutdown.push(i)}var n={};e.plot.plugins.push({init:t,options:n,name:"resize",version:"1.0"})}(jQuery);
!function(e){e.fn.autoSuggest=function(t,s){var l={asHtmlID:!1,startText:"Enter Name Here",emptyText:"No Results Found",preFill:{},limitText:"No More Selections Are Allowed",selectedItemProp:"value",selectedValuesProp:"value",searchObjProps:"value",queryParam:"q",retrieveLimit:!1,extraParams:"",matchCase:!1,minChars:1,keyDelay:400,resultsHighlight:!0,neverSubmit:!1,selectionLimit:!1,selectFirstDataItem:!1,showResultList:!0,start:function(){},selectionClick:function(e){},selectionAdded:function(e){},selectionRemoved:function(e){e.remove()},formatList:!1,beforeRetrieve:function(e){return e},retrieveComplete:function(e){return e},resultClick:function(e){},resultsComplete:function(){}},a=e.extend(l,s),i="object",r=0;if("string"==typeof t){i="string";var o=t}else{var n=t;for(k in t)t.hasOwnProperty(k)&&r++}if("object"==i&&r>0||"string"==i)return this.each(function(t){function s(){if(46==lastKeyPressCode||lastKeyPressCode>8&&lastKeyPressCode<32)return C.hide();var t=m.val().replace(/[\\]+|[\/]+/g,"");if(t!=T)if(T=t,t.length>=a.minChars)if(h.addClass("loading"),"string"==i){var s="";a.retrieveLimit&&(s="&limit="+encodeURIComponent(a.retrieveLimit)),a.beforeRetrieve&&(t=a.beforeRetrieve.call(this,t)),e.getJSON(o+"?"+a.queryParam+"="+encodeURIComponent(t)+s+a.extraParams,function(e){r=0;var s=a.retrieveComplete.call(this,e);for(k in s)s.hasOwnProperty(k)&&r++;l(s,t)})}else a.beforeRetrieve&&(t=a.beforeRetrieve.call(this,t)),l(n,t);else h.removeClass("loading"),C.hide()}function l(t,s){a.matchCase||(s=s.toLowerCase());var l=0;C.html(g.html("")).hide();for(var i=0;i<r;i++){var o=i;F++;var n=!1;if("value"==a.searchObjProps)var u=t[o].value;else for(var u="",d=a.searchObjProps.split(","),p=0;p<d.length;p++){var b=e.trim(d[p]);u=u+t[o][b]+" "}if(u&&(a.matchCase||(u=u.toLowerCase()),n=!0),n){var k=e('<li class="as-result-item" id="as-result-item-'+o+'"></li>').click(function(){var t=e(this).data("data"),s=t.num;if(e("#as-selection-"+s,h).length<=0&&!D){var l=t.attributes;m.val("").focus(),T="",v(l,s),a.resultClick.call(this,t),C.hide()}D=!1}).mousedown(function(){f=!1}).mouseover(function(){e("li",g).removeClass("active"),e(this).addClass("active")}).data("data",{attributes:t[o],num:F}),w=e.extend({},t[o]);if(a.matchCase)var y=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+s+")(?![^<>]*>)(?![^&;]+;)","g");else var y=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+s+")(?![^<>]*>)(?![^&;]+;)","gi");if(a.resultsHighlight&&(w[a.selectedItemProp]=w[a.selectedItemProp].replace(y,"<em>$1</em>")),k=a.formatList?a.formatList.call(this,w,k):k.html(w[a.selectedItemProp]),g.append(k),delete w,l++,a.retrieveLimit&&a.retrieveLimit==l)break}}h.removeClass("loading"),l<=0&&g.html('<li class="as-message">'+a.emptyText+"</li>"),g.css("width",h.outerWidth()),C.show(),a.selectFirstDataItem&&c(),a.resultsComplete.call(this)}function c(){if(e(":visible",C).length>0){var t=e("li",C),s=t.eq(0),l=e("li.active:first",C);l.length>0&&(s=l.next()),t.removeClass("active"),s.addClass("active")}}function v(t,s){var l=encodeURIComponent(t.value.replace(/,/g,"&#44;").replace(/\\'/g,"'")),i="&"+t.name+"="+l;b.val(b.val()+i+",");var r=e('<li class="as-selection-item" id="as-selection-'+s+'"></li>').click(function(){a.selectionClick.call(this,e(this)),h.children().removeClass("selected"),e(this).addClass("selected")}).mousedown(function(){f=!1}),o=e('<a class="as-close">&times;</a>').click(function(){return b.val(b.val().replace(t[a.selectedValuesProp]+",","")),a.selectionRemoved.call(this,r),f=!0,m.focus(),!1});p.before(r.html(t[a.selectedItemProp]).prepend(o)),a.selectionAdded.call(this,p.prev())}function u(t){if(e(":visible",C).length>0){var s=e("li",C);if("down"==t)var l=s.eq(0);else var l=s.filter(":last");var a=e("li.active:first",C);a.length>0&&(l="down"==t?a.next():a.prev()),s.removeClass("active"),l.addClass("active")}}if(a.asHtmlID){t=a.asHtmlID;var d=t}else{t=t+""+Math.floor(100*Math.random());var d="as-input-"+t}a.start.call(this);var m=e(this);m.attr("autocomplete","off").addClass("as-input").attr("id",d).val(a.startText);var f=!1;m.wrap('<ul class="as-selections" id="as-selections-'+t+'"></ul>').wrap('<li class="as-original" id="as-original-'+t+'"></li>');var h=e("#as-selections-"+t),p=e("#as-original-"+t),C=e('<div class="as-results" id="as-results-'+t+'"></div>').hide(),g=e('<ul class="as-list"></ul>'),b=e('<input type="hidden" class="as-values" id="as-values-'+t+'" />'),w="";if("string"==typeof a.preFill){for(var y=a.preFill.split(","),P=0;P<y.length;P++){var x={};x[a.selectedValuesProp]=y[P],""!=y[P]&&v(x,"000"+P)}w=a.preFill}else{w="";var R=0;for(k in a.preFill)a.preFill.hasOwnProperty(k)&&R++;if(R>0)for(var P=0;P<R;P++){var L=a.preFill[P][a.selectedValuesProp];void 0==L&&(L=""),w=w+L+",",""!=L&&v(a.preFill[P],"000"+P)}}if(""!=w){m.val("");","!=w.substring(w.length-1)&&(w+=","),b.val(","+w),e("li.as-selection-item",h).addClass("blur").removeClass("selected")}m.after(b),h.click(function(){f=!0,m.focus()}).mousedown(function(){f=!1}).after(C);var I=null,T="",D=!1;m.focus(function(){return e(this).val()==a.startText&&""==b.val()?e(this).val(""):f&&(e("li.as-selection-item",h).removeClass("blur"),""!=e(this).val()&&(g.css("width",h.outerWidth()),C.show())),f=!0,!0}).blur(function(){""==e(this).val()&&""==b.val()&&""==w?e(this).val(a.startText):f&&(e("li.as-selection-item",h).addClass("blur").removeClass("selected"),C.hide())}).keydown(function(t){switch(lastKeyPressCode=t.keyCode,first_focus=!1,t.keyCode){case 38:t.preventDefault(),u("up");break;case 40:t.preventDefault(),u("down");break;case 8:if(""==m.val()){var l=b.val().split(",");l=l[l.length-2],h.children().not(p.prev()).removeClass("selected"),p.prev().hasClass("selected")?(b.val(b.val().replace(","+l+",",",")),a.selectionRemoved.call(this,p.prev())):(a.selectionClick.call(this,p.prev()),p.prev().addClass("selected"))}1==m.val().length&&(C.hide(),T=""),e(":visible",C).length>0&&(I&&clearTimeout(I),I=setTimeout(function(){s()},a.keyDelay));break;case 9:case 188:break;case 13:D=!1;var i=e("li.active:first",C);i.length>0&&(i.click(),C.hide()),(a.neverSubmit||i.length>0)&&t.preventDefault();break;default:a.showResultList&&(a.selectionLimit&&e("li.as-selection-item",h).length>=a.selectionLimit?(g.html('<li class="as-message">'+a.limitText+"</li>"),C.show()):(I&&clearTimeout(I),I=setTimeout(function(){s()},a.keyDelay)))}});var F=0})}}(jQuery);
