
(function(a){redux.field_objects = redux.field_objects || {}; redux.field_objects.icons = redux.field_objects.icons || {}; a(document).ready(function(){}); redux.field_objects.icons.init = function(b){if (!b){b = a(document).find(".redux-group-tab:visible").find(".redux-container-icons:visible")}a(b).each(function(){var d = a(this); redux.field_objects.media.init(d); d.parent().prev().hide(); var c = d; if (!d.hasClass("redux-field-container")){c = d.parents(".redux-field-container:first")}if (c.is(":hidden")){return}if (c.hasClass("redux-container-icons")){c.addClass("redux-field-init")}if (c.hasClass("redux-field-init")){c.removeClass("redux-field-init")} else{return}d.find(".redux-icons-remove").on("click", function(){redux_change(a(this)); a(this).parent().siblings().find('input[type="text"]').val(""); a(this).parent().siblings().find("textarea").val(""); a(this).parent().siblings().find('input[type="hidden"]').val(""); var e = a(this).parents(".redux-container-icons:first").find(".redux-icons-accordion-group").length; if (e > 1){a(this).parents(".redux-icons-accordion-group:first").slideUp("medium", function(){a(this).remove()})} else{var f = a(this).parent(".redux-icons-accordion").data("new-content-title"); a(this).parents(".redux-icons-accordion-group:first").find(".remove-image").click(); a(this).parents(".redux-container-icons:first").find(".redux-icons-accordion-group:last").find(".redux-icons-header").text(f)}}); d.find(".redux-icons-add").off("click").click(function(){var g = a(this).prev().find(".redux-icons-accordion-group:last").clone(true); var f = a(g).find(".slide-title").attr("name").match(/[0-9]+(?!.*[0-9])/); var e = f * 1 + 1; a(g).find('input[type="text"], input[type="hidden"], textarea, .redux-icons-add-icon').each(function(){a(this).attr("name", jQuery(this).attr("name").replace(/[0-9]+(?!.*[0-9])/, e)).attr("id", a(this).attr("id").replace(/[0-9]+(?!.*[0-9])/, e)); a(this).val(""); if (a(this).hasClass("slide-sort")){a(this).val(e)}}); var h = a(this).prev().data("new-content-title"); a(g).find(".screenshot").removeAttr("style"); a(g).find(".screenshot").addClass("hide"); a(g).find(".screenshot a").attr("href", ""); a(g).find(".remove-image").addClass("hide"); a(g).find(".redux-option-image").attr("src", "").removeAttr("id"); a(g).find("h3").text("").append('<span class="redux-icons-header">' + h + "</span>"); a(this).prev().append(g)}); d.find(".slide-title").keyup(function(e){var f = e.target.value; a(this).parents().eq(3).find(".redux-icons-header").text(f)})})}})(jQuery);