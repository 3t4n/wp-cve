(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var n,a=e.n(t);window["jquery-ui-sortable"],function(e){var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.quadmenu.modal")}),this))};function n(n,a){return this.each((function(){var i=e(this),o=i.data("bs.modal"),u=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.modal",o=new t(this,u)),"string"==typeof n?o[n](a):u.show&&o.show(a)}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var a=this,i=e.Event("show.quadmenu.modal",{relatedTarget:n});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.quadmenu.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.quadmenu.modal",(function(){a.$element.one("mouseup.dismiss.quadmenu.modal",(function(t){e(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var i=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),i&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var o=e.Event("shown.quadmenu.modal",{relatedTarget:n});i?a.$dialog.one("bsTransitionEnd",(function(){a.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(t.TRANSITION_DURATION):a.$element.trigger("focus").trigger(o)})))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.quadmenu.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.quadmenu.modal"),this.$element.removeClass("in").off("click.dismiss.quadmenu.modal").off("mouseup.dismiss.quadmenu.modal"),this.$dialog.off("mousedown.dismiss.quadmenu.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideQuadMenuModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideQuadMenuModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.quadmenu.modal").on("focusin.quadmenu.modal",e.proxy((function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.quadmenu.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.quadmenu.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.quadmenu.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.quadmenu.modal")},t.prototype.hideQuadMenuModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.quadmenu.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var a=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.quadmenu.modal",e.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var u=function(){a.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.quadmenu.modal.data-api",'[data-quadmenu="modal"]',(function(t){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),u=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&t.preventDefault(),o.one("show.quadmenu.modal",(function(e){e.isDefaultPrevented()||o.one("hidden.quadmenu.modal",(function(){a.is(":visible")&&a.trigger("focus")}))})),n.call(o,u,this)}))}(a()),function(e){var t=function(t){this.element=e(t)};function n(n){return this.each((function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new t(this)),"string"==typeof n&&i[n]()}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=(a=t.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.quadmenu.tab",{relatedTarget:t[0]}),u=e.Event("show.quadmenu.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(u),!u.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(a);this.activate(t.closest("li"),n),this.activate(s,s.parent(),(function(){i.trigger({type:"hidden.quadmenu.tab",relatedTarget:t[0]}),t.trigger({type:"shown.quadmenu.tab",relatedTarget:i[0]})}))}}},t.prototype.activate=function(n,a,i){var o=a.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!a.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-quadmenu="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-quadmenu="tab"]').attr("aria-expanded",!0),u?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-quadmenu="tab"]').attr("aria-expanded",!0),i&&i()}o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.quadmenu.tab.data-api",'[data-quadmenu="tab"]',i).on("click.quadmenu.tab.data-api",'[data-quadmenu="pill"]',i)}(a()),(n=a()).fn.emulateTransitionEnd=function(e){var t=!1,a=this;return n(this).one("bsTransitionEnd",(function(){t=!0})),setTimeout((function(){t||n(a).trigger(n.support.transition.end)}),e),this},n((function(){n.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(e){if(n(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})),function(e){var t,n={};e.fn.serializeArrayAll=function(){var e=/\r?\n/g;return this.map((function(){return this.elements?a().makeArray(this.elements):this})).map((function(t,n){var i=a()(this).val();return null==i?null==i:"checkbox"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:a().isArray(i)?a().map(i,(function(t,a){return{name:n.name,value:t.replace(e,"\r\n")}})):{name:n.name,value:i.replace(e,"\r\n")}})).get()},e.fn.extend({quadmenuItemData:function(e,t){e=e||"menu-item";var n,a={},i=["menu-item-db-id","menu-item-object-id","menu-item-object","menu-item-parent-id","menu-item-position","menu-item-type","menu-item-title","menu-item-url","menu-item-description","menu-item-attr-title","menu-item-target","menu-item-classes","menu-item-xfn","menu-item-columns","menu-item-quadmenu","menu-item-quadmenu-widget"];return t||"menu-item"!=e||(t=this.find(".menu-item-data-db-id").val()),t?(this.find("input").each((function(){var o;for(n=i.length;n--;)"menu-item"==e?o=i[n]+"["+t+"]":"add-menu-item"==e&&(o="menu-item["+t+"]["+i[n]+"]"),this.name&&o==this.name&&(a[i[n]]=this.value)})),a):a}});var i=function(t){t.on("click",(function(n){n.preventDefault();var a={},i=t.closest(e(t.data("menu_item_parent"))),o=i.find(".spinner");e.isArray(t.data("menu_item_quadmenu"))?e.each(t.data("menu_item_quadmenu"),(function(e,n){a[e]={"menu-item-status":"publish","menu-item-title":t.data("menu_item_title").replace(/\%/g,t.parent().siblings().length),"menu-item-url":t.data("menu_item_url"),"menu-item-type":t.data("menu_item_type"),"menu-item-quadmenu":n.quadmenu,"menu-item-columns":n.columns,"menu-item-parent-id":t.data("menu_item_parent_id")}})):a[-1]={"menu-item-status":"publish","menu-item-title":t.data("menu_item_title").replace(/\%/g,t.parent().siblings().length),"menu-item-url":t.data("menu_item_url"),"menu-item-type":t.data("menu_item_type"),"menu-item-quadmenu":t.data("menu_item_quadmenu"),"menu-item-parent-id":t.data("menu_item_parent_id")},f(o,i,a)}))},o=function(t){return e(".quadmenu-columns").on("click",(function(t){e(t.target).closest(".quadmenu-column.open").length||e(".quadmenu-column").removeClass("open")})),t.on("click",".edit:first",(function(n){n.preventDefault(),n.stopPropagation(),t.toggleClass("open"),e(".quadmenu-column-item").not(t).removeClass("open")})),t.on("click",".remove:first",(function(n){var a=e("form",t);e.ajax({type:"POST",url:ajaxurl,data:e.param(a.serializeArrayAll())+"&"+e.param({menu_id:e("#menu").val(),menu_item_id:a.data("menu_item_id"),action:"quadmenu_delete_nav_menu_item",nonce:quadmenu.nonce}),beforeSend:function(){t.addClass("saving")},complete:function(){t.removeClass("saving").fadeOut().remove()},success:function(e){console.log(e.data),t.trigger("remove.quadmenu.item",[t])}})})),t},u=function(t){if(t.hasClass("quadmenu-tab-pane-width")){var n=e(".quadmenu-setting-width",t),a=e(".quadmenu-setting-dropdown",t);""!==e("#menu-item-stretch").val()&&(n.hide(),a.hide()),t.on("change",".menu-item-stretch",(function(t){""==e(this).val()?(n.fadeIn(),a.fadeIn()):(n.fadeOut(),a.fadeOut())}))}},s=function(t){t.on("keyup",".menu-item-title",(function(n){var a=e(this).closest("form").data("menu_item_id"),i=e(this).val(),o=e("#quadmenu-title-"+a+"> span",t).add("#menu-to-edit > #menu-item-"+a+" > .menu-item-bar > .menu-item-handle > .item-title > .menu-item-title");setTimeout((function(){o.text(i)}),200)}))},d=function(t){var n=null;e(".menu-item-media-upload",t).on("click",(function(t){t.preventDefault();var a=e(this),i=e(this).closest(".field-wrapper"),o=e(this).siblings(".edit-menu-item-media-thumbnail"),u=e(this).siblings(".edit-menu-item-media-thumbnail-id");n||((n=wp.media.frames.media_uploader=wp.media({button:{text:quadmenu.add_background,close:!0},library:{type:"image"},multiple:!1})).on("open",(function(){var e=n.state().get("selection"),t=u.val();t&&e.add(wp.media.attachment(t))})),n.on("select",(function(){var e=n.state().get("selection").first().toJSON(),t=void 0!==e.sizes.thumbnail?e.sizes.full.url:e.url,s=void 0!==e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;i.addClass("active"),o.html('<img src="'+s+'" width="50" height="50" >'),u.val(e.id).data("src",t).trigger("change"),a.trigger("change")}))),n.open()})),e(".menu-item-media-clear",t).on("click",(function(n){n.preventDefault();var a=e(this).closest(".field-wrapper"),i=e(".field-background",t),o=e(this).siblings(".edit-menu-item-media-thumbnail"),u=e(this).siblings(".edit-menu-item-media-thumbnail-id");return a.removeClass("active"),o.html(""),u.val("").removeData("src").trigger("change"),i.removeAttr("style"),!1}))},m=function(t){var n=e(".quadmenu-setting-background .field-background",t);e(".edit-menu-item-background-opacity",t).on("change",(function(t){t.preventDefault(),n.css("opacity",e(this).val()/100)})),e(".edit-menu-item-background-origin",t).on("change",(function(t){t.preventDefault(),n.css("background-origin",e(this).val())})),e(".edit-menu-item-background-position",t).on("change",(function(t){t.preventDefault(),n.css("background-position",e(this).val())})),e(".edit-menu-item-background-size",t).on("change",(function(t){t.preventDefault(),n.css("background-size",e(this).val())})),e(".edit-menu-item-background-repeat",t).on("change",(function(t){t.preventDefault(),n.css("background-repeat",e(this).val())})),e(".edit-menu-item-media-thumbnail-id",t).on("change",(function(t){t.preventDefault(),e(this).data("src")&&n.css("background-image","url("+e(this).data("src")+")")}))},r=function(t){e(".quadmenu-setting-icon, .quadmenu-setting-login, .quadmenu-setting-logout",t).each((function(){var t=e(this),n=t.find(".button-icon"),a=e(".menu-item-icon, .menu-item-login, .menu-item-logout",t),i=t.find(".quadmenu-icons-scroll .icon"),o=t.find('input[type="search"]');o.on("keyup",(function(e){e.preventDefault(),setTimeout((function(){var e=o.val();""!==e?(i.css({display:"none"}),i.filter('[class*="'+e+'"]').css({display:"block"})):i.removeAttr("style")}),600)})),i.on("click",(function(t){t.preventDefault(),e(this).addClass("selected").siblings().removeClass("selected");var i=e(this).find("i").attr("class");a.add(o).val(i).trigger("change"),n.find("i").removeClass().addClass(i)})),n.add(o).on("click",(function(e){o.val("").trigger("keyup")}))})),t.on("change",".menu-item-icon",(function(n){var a=e(this).closest("form").data("menu_item_id"),i=e(this).val(),o=e("#quadmenu-title-"+a,t);setTimeout((function(){o.find("i").removeClass().addClass(i)}),200)}))},l=function(t){return t.on("change",".quadmenu-setting-width",(function(n){n.preventDefault();var a=e(this);setTimeout((function(){var n=a.find("option:selected"),i=e.map(n,(function(e){if(e.value)return e.value}));t.removeClass(t.data("columns")),t.addClass(i.join(" ")).data("columns",i.join(" "))}),400)})),t.on("click",".contract:first",(function(e){var n=t.find("select#menu-item-columns-width-sm > option:selected");n.prev().length&&n.prev().prop("selected",!0).trigger("change")})),t.on("click",".expand:first",(function(e){var n=t.find("select#menu-item-columns-width-sm > option:selected");n.next().length&&n.next().prop("selected",!0).trigger("change")})),t.on("click",".add-quadmenu-column-item",(function(t){var n=e(this);n.addClass("selected"),e(".quadmenu-column-item").not(e(".quadmenu-column-item",e(this))).removeClass("open"),e(".add-quadmenu-column-item").not(this).removeClass("selected"),e("#menu-settings-column li").each((function(){var t=e(this).find(".submit-add-to-quadmenu-column-inside"),a=e(this).find(".submit-add-to-menu, .submit-add-to-quadmenu");e("#quadmenu_custom_nav_widgets").addClass("active"),t.length||((t=a.clone()).val(quadmenu.add_to_column),t.removeClass("submit-add-to-menu submit-add-to-quadmenu button-secondary").addClass("submit-add-to-quadmenu-column-inside button-primary"),a.before(t)),t.data("menu_item_parent_id",n.data("menu_item_parent_id"))})),e("#menu-settings-column li").addClass("current-column").find("li input:checked").prop("checked",!1)})),t},c=function(t){t.on("change.quadmenu.settings","form",(function(e){return e.preventDefault(),e.stopPropagation(),!1})),t.on("submit","form",(function(n){n.preventDefault(),n.stopPropagation();var a=e(this);e.ajax({type:"POST",url:ajaxurl,data:e.param(a.serializeArrayAll())+"&"+e.param({action:"quadmenu_save_widget",menu_id:e("#menu").val(),menu_item_id:a.data("menu_item_id"),nonce:quadmenu.nonce}),beforeSend:function(){t.addClass("saving")},complete:function(){t.removeClass("saving")},success:function(e){wpNavMenu.menusChanged=!1,console.log(e.data)}})})),t.on("click",".edit:first",(function(n){var a=t.find(".widget"),i=t.find("form");a.hasClass("open")||a.data("loaded")||e.ajax({type:"POST",url:ajaxurl,data:e.param({menu_id:e("#menu").val(),menu_item_id:i.data("menu_item_id"),widget:t.data("widget"),widget_id:t.data("widget_id"),action:"quadmenu_form_widget",nonce:quadmenu.nonce}),beforeSend:function(){t.addClass("saving")},complete:function(){t.removeClass("saving")},success:function(t){if(!0===t.success){var n=e(t.data);i.html(n),a.toggleClass("open").data("loaded",!0),setTimeout((function(){e(document).trigger("widget-added",[a])}),200)}else alert(t.data)}})}))},h=function(t){e(".sortable-area",t).each((function(){var t=e(this);t.sortable({forcePlaceholderSize:!0,items:t.data("sortable-items")||!1,handle:t.data("sortable-handle")||!1,connectWith:t.data("sortable-connect")||!1,placeholder:t.data("drop-area")||"drop-area",over:function(t,n){e(this).closest(".quadmenu-column").addClass("hover")},out:function(t,n){e(this).closest(".quadmenu-column").removeClass("hover")},update:function(a,i){if(this===i.item.parent()[0]&&null==i.sender){var o=e(this),u=e(i.item);e(t.data("sortable-items"),o).each((function(t,a){n[e(this).data("menu_item_id")]={"menu-item-position":t,"menu-item-parent-id":o.data("menu_item_parent_id")}})),e.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_update_nav_menu_item",nonce:quadmenu.nonce,menu_id:e("#menu").val(),"menu-item":n},beforeSend:function(){u.addClass("saving")},complete:function(){u.removeClass("saving")},success:function(e){console.log(e.data)}})}},receive:function(t,a){var i=e(this),o=e(a.item);i.find("> li").each((function(t,a){n[e(this).data("menu_item_id")]={"menu-item-position":t,"menu-item-parent-id":i.data("menu_item_parent_id")}})),e.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_update_nav_menu_item",nonce:quadmenu.nonce,menu_id:e("#menu").val(),"menu-item":n},beforeSend:function(){o.addClass("saving")},success:function(e){o.removeClass("saving")}})},start:function(e,t){t.item.data("start_pos",t.item.index()),t.placeholder.css({height:t.item.outerHeight()+"px",width:t.item.width()+"px"})},stop:function(e,t){t.item.removeAttr("style"),t.item.data("start_pos"),t.item.index()}})}))},p=function(t){var n=e(".quadmenu-tabs",t),a=e(".quadmenu-columns",t);e(".quadmenu-tab, .quadmenu-panel",n).each((function(t,n){o(e(n))})),e(".quadmenu-column",a).each((function(t,n){o(e(n)),l(e(n))})),e(".quadmenu-column-item",a).each((function(t,n){o(e(n))})),e(".quadmenu-widget",a).each((function(t,n){c(e(n))})),e(".submit-add-to-quadmenu-column, .submit-add-to-quadmenu-tab, .submit-add-to-quadmenu-panel",t).each((function(t,n){i(e(n))}))},f=function(t,n,a){var u=e(t),s=e(n);if(!s.length)return!1;e.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_add_nav_menu_item",nonce:quadmenu.nonce,menu_id:e("#menu").val(),"menu-item":a},beforeSend:function(){u.addClass("is-active")},complete:function(){u.removeClass("is-active")},success:function(t){if(!0===t.success){var n=e("<ul>"+t.data+"</ul>");e(".quadmenu-tab, .quadmenu-panel, .quadmenu-column, .quadmenu-column-item",n).each((function(){o(e(this)),r(e(this)),h(e(this)),e(this).hasClass("quadmenu-widget")&&c(e(this)),e(this).hasClass("quadmenu-column")&&l(e(this))})),e(".submit-add-to-quadmenu-column, .submit-add-to-quadmenu-tab, .submit-add-to-quadmenu-panel",n).each((function(){i(e(this))})),s.append(n.contents()).trigger("add.quadmenu.item",[s])}else alert(t.data)}})};e(document).on("click.quadmenu.submit",".submit-add-to-quadmenu, .submit-add-to-quadmenu-column-inside",(function(t){t.preventDefault();var n=e(this),a={},i=e("#"+t.target.id.replace(/submit-/,"")),o=n.parent().find(".spinner"),u=i.find(".tabs-panel-active .categorychecklist li input:checked"),s=n.data("menu_item_parent_id")||!1,d=e(s?"#quadmenu-column-items-"+s:"#menu-to-edit");if(!d.length)return!1;if(t.target.id&&"submit-customlinkdiv"==t.target.id){var m=e("#custom-menu-item-url").val(),r=e("#custom-menu-item-name").val();if(""===m||"http://"==m)return e("#customlinkdiv").addClass("form-invalid"),!1;a[-1]={"menu-item-status":"publish","menu-item-type":"custom","menu-item-url":m,"menu-item-title":r,"menu-item-parent-id":s}}else{if(!t.target.id||-1==t.target.id.indexOf("submit-")||!u.length)return!1;u.each((function(){var t=e(this),n=/menu-item\[([^\]]*)/.exec(t.attr("name")),i=void 0===n[1]?0:parseInt(n[1],10);a[i]=t.closest("li").quadmenuItemData("add-menu-item",i),a[i]["menu-item-status"]="publish",a[i]["menu-item-parent-id"]=s}))}f(o,d,a)})),e(document).on("click",(function(t){e(t.target).is(".add-quadmenu-column-item")||e(t.target).is(".submit-add-to-quadmenu-column-inside")||e(t.target).closest("#menu-settings-column").length||(e(".add-quadmenu-column-item").removeClass("selected"),e("#menu-settings-column li").removeClass("current-column"),e("#quadmenu_custom_nav_widgets").removeClass("active").removeClass("open"))})),e(document).on("click.quadmenu.dropdown",".dropdown",(function(t){e(this).addClass("open"),e(".dropdown").not(e(this)).removeClass("open")})),e(document).on("shown.quadmenu.modal","#modal_icons",(function(t){r(e(this));var n=e(this),a=n.find(".save"),i=e(t.relatedTarget);n.data("target",i.attr("id")),a.on("click",(function(t){t.preventDefault();var a=e(".menu-item-icon",n).val();if(n.data("target")){var i=e("input#"+n.data("target")),o=i.closest(".redux-field").find("h3"),u=o.find("i");i.val(a),u.length&&u.remove(),o.prepend('<i class="'+a+'"></i>'),n.modal("hide")}}))})),e(document).on("add.quadmenu.item",(function(e,t){t.find(".open").not(":last").removeClass("open")})),e(document).on("remove.quadmenu.item",(function(e,t){if(e.preventDefault(),e.stopPropagation(),t.hasClass("quadmenu-panel")||t.hasClass("quadmenu-tab")){var n=t.closest(".dropdown"),a=t.closest(".quadmenu-tabs");n.length&&(n.fadeOut().remove(),setTimeout((function(){a.find(".dropdown").removeClass("open").first().addClass("open")}),200))}})),e(document).on("mouseenter mouseleave","#menu-to-edit > li.menu-item",(function(t){var n=e(this);if(!n.hasClass("menu-item-quadmenu")&&!n.hasClass("menu-item-invalid")){n.addClass("menu-item-quadmenu menu-item-"+e("input.menu-item-data-object",n).val());var a=e("<span>").addClass("quadmenu_open").html(quadmenu.add_name),i=e("<span>").addClass("spinner");e(".item-title",n).append(a).append(i)}})),e(document).on("save.quadmenu.settings",".quadmenu-tab-pane-default",(function(t,n,a){e(a).each((function(t,a){var i=e("#edit-"+a.name+"-"+n);"checkbox"==i.attr("type")?i.val(a.value).prop("checked",!!a.value):i.val(a.value).trigger("change")}))})),e(document).on("click.quadmenu.close",".quadmenu_close",(function(t){var n=e("#menu-management");e("#quadmenu-settings").remove(),n.removeClass("open")})),e(document).on("click.quadmenu.open",".quadmenu_open",(function(n){n.preventDefault();var a=e(this).closest("li"),i=e(this).parent().find(".spinner"),o=a.find(".menu-item-settings input.menu-item-data-db-id").val(),l=parseInt(a.prop("class").match(/menu-item-depth-([0-9]+)/)[1]),c=e("#menu-management"),f=e("#post-body",c);if(t&&4!=t.readyState&&t.abort(),a.data("openning"))return!1;t=e.ajax({type:"POST",url:ajaxurl,data:{menu_id:e("#menu").val(),menu_item_id:o,menu_item_depth:l,action:"quadmenu_add_nav_menu_item_settings",nonce:quadmenu.nonce},beforeSend:function(){i.addClass("is-active"),a.addClass("opening").data("openning",!0)},complete:function(){i.removeClass("is-active"),a.removeClass("openning").removeData("openning"),void 0!==wp.textWidgets&&(wp.textWidgets.widgetControls={}),void 0!==wp.mediaWidgets&&(wp.mediaWidgets.widgetControls={}),void 0!==wp.customHtmlWidgets&&(wp.customHtmlWidgets.widgetControls={})},success:function(t){!0===t.success?(c.addClass("open"),f.prepend(t.data),f.on("show.quadmenu.tab","li",(function(t){var n=e(this),a=e(e(t.target).attr("href")),i=a.find(".spinner").first();a.data("loading")||a.data("loaded")||!n.data("menu_item_panel")||e.ajax({type:"POST",url:ajaxurl,data:e.param({menu_id:e("#menu").val(),menu_item_id:n.data("menu_item_id"),menu_item_panel:n.data("menu_item_panel"),action:"quadmenu_add_nav_menu_item_panel",nonce:quadmenu.nonce}),beforeSend:function(){a.data("loading",!0),i.addClass("is-active")},complete:function(){a.removeData("loading"),i.removeClass("is-active")},success:function(t){if(!0===t.success){var n=e(t.data);a.data("loaded",!0),a.append(n),p(a),r(a),u(a),s(a),d(a),m(a),h(a)}else alert(t.data)}})})),function(t){var n=e("#quadmenu-settings");t.on("change.quadmenu.settings","form",(function(t){t.preventDefault();var a=e(this);e.ajax({type:"POST",url:ajaxurl,data:e.param(a.serializeArrayAll())+"&"+e.param({menu_id:e("#menu").val(),menu_item_id:a.data("menu_item_id"),action:"quadmenu_save_nav_menu_item_settings",nonce:quadmenu.nonce}),beforeSend:function(){n.addClass("saving")},complete:function(){n.removeClass("saving")},success:function(e){console.log(e.data),wpNavMenu.menusChanged=!1,a.trigger("save.quadmenu.settings",[a.data("menu_item_id"),a.serializeArrayAll()])}})}))}(f),p(f),r(f),u(f),s(f),d(f),m(f),h(f),e("html,body").animate({scrollTop:e("#nav-menu-header").offset().top},"slow")):console.log(t)}})})),e(document).on("click","ul.redux-group-menu > li",(function(t){t.preventDefault();var n=e(this);if(n.hasClass("active")){var a=n.attr("class").match(/quadmenu_theme_[\w-]*\b/);if(a){var i=a.toString().replace("quadmenu_theme_","");return e("#quadmenu_duplicate_theme").data("theme",i).fadeIn(),void e("#quadmenu_delete_theme").data("theme",i).fadeIn()}e("#quadmenu_duplicate_theme").fadeOut(),e("#quadmenu_delete_theme").fadeOut()}})),e(document).on("click","#quadmenu_add_theme ,#quadmenu_delete_theme",(function(t){t.preventDefault();var n=e(this),a=e(this).parent().parent().find(".spinner"),i=n.data("theme");e.ajax({type:"POST",url:ajaxurl,data:{action:n.attr("id"),nonce:quadmenu.nonce,current_theme:i},beforeSend:function(){a.addClass("is-active")},complete:function(){a.removeClass("is-active")},success:function(e){!0===e.success?window.location.href=e.data:alert(e.data)}})})),e(window).on("load",(function(t){""===e("#last_tab").val()?(e("li.redux-group-tab-link-li.empty_section").remove(),e(".current_theme select").on("change rightnow",(function(t){e(this).closest(".redux-group-tab").find("span.current_theme").empty().append(e(this).val())})).triggerHandler("rightnow")):e("ul.redux-group-menu > li."+e("#last_tab").val()+" > a").click()})),e(".redux-container-border .redux-color-init .redux-color").data("alpha",!0)}(a())})();