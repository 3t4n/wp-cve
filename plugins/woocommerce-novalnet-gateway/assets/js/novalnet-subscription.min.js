!function(n){wcs_novalnet={process_subscription_cancel:function(){if("0"===n("#novalnet_subscription_cancel_reason").val())return alert(wcs_novalnet_data.error_message),!1;wc_novalnet.load_block("novalnet_subscription_cancel",null)},init:function(){n('input[id*="novalnet_payments"]').attr("type","hidden"),n(".edit_address").on("click",(function(){n('input[id*="novalnet_payment"]').val("1")})),"1"===wcs_novalnet_data.hide_unsupported_features&&(n("#_billing_interval, #_billing_period, #end_hour, #end, #end_minute").attr("disabled",!0),n("#_billing_interval").css("disabled",!0)),void 0!==wcs_novalnet_data.customer&&n(".cancel").wrap('<span class="cancelled"></span>'),n(".cancelled").on("click",(function(e){var a=n(this).children("a").attr("href");0<a.indexOf("novalnet-api")&&(n("#novalnet_subscription_cancel").remove(),n(this).closest("td").append(wcs_novalnet_data.reason_list),n(" #novalnet_subscription_cancel_reason").css("position","absolute"),e.preventDefault(),e.stopImmediatePropagation()),n("#novalnet_subscription_cancel").attr("method","POST"),n("#novalnet_subscription_cancel").attr("action",a)})),n(document).on("submit","#"+n("#_payment_method").closest("form").attr("id"),(function(e){var a=jQuery("#_payment_method").val();if(-1!=jQuery.inArray(a,["novalnet_guaranteed_sepa","novalnet_guaranteed_invoice"])&&"yes"===jQuery("#nn-subs-need-shipping-addr").val()){jQuery.each(["_first_name","_last_name","_company","_address_1","_address_2","_city","_postcode","_country","_state"],(function(a,t){if(n("#_billing"+t).val()!=n("#_shipping"+t).val())return e.preventDefault(),e.stopImmediatePropagation(),alert(wcs_novalnet_data.change_address_error_message),!1}))}}))}},wcs_novalnet.init()}(jQuery);