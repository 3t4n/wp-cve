!function(n){wc_novalnet_cc={data:"",Iframe_ID:"novalnet_cc_iframe",init:function(){if("undefined"==typeof wc_novalnet_cc_data?wc_novalnet_cc.data=void 0!==n("#novalnet_cc_iframe_data").val()?JSON.parse(n("#novalnet_cc_iframe_data").val()):"":wc_novalnet_cc.data=wc_novalnet_cc_data,""==wc_novalnet_cc.data)return!1;wc_novalnet_cc.load_iframe(),void 0!==wc_novalnet_cc.data.admin?(n(".edit_address").on("click",(function(){document.getElementById("novalnet_cc_iframe").contentWindow;NovalnetUtility.setCreditCardFormHeight()})),n(document).on("submit","#"+n("#novalnet_cc_pan_hash").closest("form").attr("id"),(function(a){wc_novalnet.hide_error(".novalnet-cc-error"),"novalnet_cc"===n("#_payment_method").val()&&n("#novalnet_cc_iframe").is(":visible")&&""==n("#novalnet_cc_pan_hash").val()&&n('input[id="_payment_method_meta[novalnet_cc][post_meta][novalnet_payment_change]"]').is(":checked")&&(a.preventDefault(),a.stopImmediatePropagation(),NovalnetUtility.getPanHash())}))):(void 0!==n("#payment_method_novalnet_cc").val()&&n("#payment_method_novalnet_cc").on("click",(function(){NovalnetUtility.setCreditCardFormHeight()})),n(document.body).on("click","#"+wc_novalnet.form_id(),(function(a){""==n("#novalnet_cc_pan_hash").val()&&wc_novalnet.check_payment("novalnet_cc")&&(void 0===n("#wc-novalnet_cc-payment-token-new").val()||n("#wc-novalnet_cc-payment-token-new").is(":checked"))&&(a.preventDefault(),a.stopImmediatePropagation(),wc_novalnet.load_block("main"),NovalnetUtility.getPanHash())})),n("#wc-novalnet_cc-payment-token-new").on("click",(function(n){NovalnetUtility.setCreditCardFormHeight()})))},load_iframe:function(){var a=void 0!==n("input[id*=billing_first_name]").val()?n("input[id*=billing_first_name]").val():wc_novalnet_cc.data.first_name,e=void 0!==n("input[id*=billing_last_name]").val()?n("input[id*=billing_last_name]").val():wc_novalnet_cc.data.last_name,t=void 0!==n("input[id*=billing_email]").val()?n("input[id*=billing_email]").val():wc_novalnet_cc.data.email,c=(void 0!==n("input[id*=billing_phone]").val()?n("input[id*=billing_phone]").val():wc_novalnet_cc.data.tel,void 0!==n("input[id*=billing_address_1]").val()?n("input[id*=billing_address_1]").val():wc_novalnet_cc.data.street),o=void 0!==n("input[id*=billing_postcode]").val()?n("input[id*=billing_postcode]").val():wc_novalnet_cc.data.zip,_=void 0!==n("input[id*=billing_city]").val()?n("input[id*=billing_city]").val():wc_novalnet_cc.data.city,i=void 0!==n("select[id*=billing_country]").val()?n("select[id*=billing_country]").val():wc_novalnet_cc.data.country_code;document.getElementById("novalnet_cc_iframe").contentWindow;NovalnetUtility.setClientKey(wc_novalnet_cc.data.client_key);var l={callback:{on_success:function(a){return n(".blockUI").remove(),n("#novalnet_authenticated_amount").val(n("#novalnet_checkout_amount").val()),n("#novalnet_cc_pan_hash").val(a.hash),n("#novalnet_cc_unique_id").val(a.unique_id),void 0===wc_novalnet_cc.data.admin?(n("#novalnet_cc_force_redirect").val(a.do_redirect),n("#"+wc_novalnet.form_id()).click(),!1):void 0!==wc_novalnet_cc.data.admin&&0!=a.do_redirect?(n("#novalnet_cc_pan_hash").val(""),n("#novalnet_cc_unique_id").val(""),alert(wc_novalnet_cc.data.error_message),!1):(n("#"+n("#novalnet_cc_pan_hash").closest("form").attr("id")).submit(),!1)},on_error:function(a){if(n(".blockUI").remove(),void 0!==a.error_message){var e=a.error_message;return wc_novalnet.show_error("#novalnet_cc_error",e)}},on_show_overlay:function(){n(".blockUI").remove(),n("#novalnet_cc_iframe").addClass("novalnet-challenge-window-overlay")},on_hide_overlay:function(){n(".blockUI").remove(),n("#novalnet_cc_iframe").removeClass("novalnet-challenge-window-overlay")},on_show_captcha:function(){return n(".blockUI").remove(),wc_novalnet.show_error("#novalnet_cc_error")}},iframe:{id:wc_novalnet_cc.Iframe_ID,inline:wc_novalnet_cc.data.inline_form,style:{container:wc_novalnet_cc.data.standard_css,input:wc_novalnet_cc.data.standard_input,label:wc_novalnet_cc.data.standard_label}},customer:{first_name:a,last_name:e,email:t,billing:{street:c,city:_,zip:o,country_code:i}},transaction:{amount:n("#novalnet_checkout_amount").val(),currency:wc_novalnet_cc.data.currency,test_mode:wc_novalnet_cc.data.test_mode,enforce_3d:wc_novalnet_cc.data.enforce_3d},custom:{lang:wc_novalnet_cc.data.lang}};NovalnetUtility.createCreditCardForm(l)}},n(document).ready((function(){wc_novalnet_cc.init(),n(document.body).on("updated_checkout",(function(n){wc_novalnet_cc.init()})),n(document.body).on("checkout_error",(function(a,e){if("object"==typeof window.germanized&&""===n.trim(e))return!1;n("#"+wc_novalnet_cc.Iframe_ID).is(":visible")&&(n("#novalnet_cc_pan_hash, #novalnet_cc_unique_id, #novalnet_cc_force_redirect").val(""),wc_novalnet_cc.init())}))}))}(jQuery);