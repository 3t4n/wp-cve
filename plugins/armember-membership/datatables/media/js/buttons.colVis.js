!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(n){return e(n,window,document)}):"object"==typeof exports?module.exports=function(n,t){return n=n||window,(t=t&&t.fn.dataTable?t:require("datatables.net")(n,t).$).fn.dataTable.Buttons||require("datatables.net-buttons")(n,t),e(t,0,n.document)}:e(jQuery,window,document)}(function(n,t,e,s){"use strict";var o=n.fn.dataTable;return n.extend(o.ext.buttons,{colvis:function(n,t){return{extend:"collection",text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}}).toArray()},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}}).toArray()},columnVisibility:{columns:s,text:function(n,t,e){return e._columnText(n,e)},className:"ColVis_Button TableTools_Button ui-button ui-state-default",action:function(n,t,e,o){var t=t.columns(o.columns),i=t.visible();t.visible(o.visibility!==s?o.visibility:!(i.length&&i[0]))},init:function(o,n,i){var s=this;n.attr("data-cv-idx",i.columns),o.on("column-visibility.dt"+i.namespace,function(n,t){t.bDestroying||t.nTable!=o.settings()[0].nTable||s.active(o.column(i.columns).visible())}).on("column-reorder.dt"+i.namespace,function(n,t,e){1===o.columns(i.columns).count()&&(s.text(i._columnText(o,i)),s.active(o.column(i.columns).visible()))}),this.active(o.column(i.columns).visible())},destroy:function(n,t,e){n.off("column-visibility.dt"+e.namespace).off("column-reorder.dt"+e.namespace)},_columnText:function(n,t){var e=n.column(t.columns).index(),o='<span class="ColVis_radio"><span class="colvis_checkbox"></span></span><span class="ColVis_title">'+n.settings()[0].aoColumns[e].sTitle.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"")+"</span>";return t.columnText?t.columnText(n,e,o):o}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,n,e){e._visOriginal=t.columns().indexes().map(function(n){return t.column(n).visible()}).toArray()},action:function(n,t,e,o){t.columns().every(function(n){n=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(n,"toOriginal"):n;this.visible(o._visOriginal[n])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,e,o){t.columns(o.show).visible(!0,!1),t.columns(o.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),o.Buttons});