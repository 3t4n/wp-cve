function validate_all_fields(e,a){var r,t,e=jQuery(e).parents(".arm-wizard-setup-container").attr("id"),_=0;3==a?(t=jQuery("input#arm_membership_plan_amount").val(),r=jQuery('input[name="arm_subscription_plan_type"]').val(),new RegExp("^[0-9]+$"),"free"!=r&&""==t&&(jQuery("input#arm_membership_plan_amount").addClass("error"),r=jQuery("input#arm_membership_plan_amount").attr("id"),t=jQuery("input#arm_membership_plan_amount").attr("data-msg-required"),jQuery(document).find("span#"+r+"-error").html(t),_+=1),jQuery("#"+e+" input:required").each(function(){var e,a;""===jQuery(this).val()&&(jQuery(this).addClass("error"),e=jQuery(this).attr("id"),a=jQuery(this).attr("data-msg-required"),jQuery(document).find("span#"+e+"-error").html(a),_+=1)})):jQuery("#"+e+" input:required").each(function(){var e,a;""===jQuery(this).val()&&(jQuery(this).addClass("error"),e=jQuery(this).attr("id"),a=jQuery(this).attr("data-msg-required"),jQuery(document).find("span#"+e+"-error").html(a),_+=1)}),focus_id=jQuery("input.error:first").attr("id"),jQuery("#"+focus_id).focus(),0==_&&(jQuery(".arm-wizard-setup-container:not(.arm_setup_wizard_page_"+a+")").hide(),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_"+a).show(),jQuery("#total_completed_page").val(a))}function armopensetupvideos(){var e,a,r=jQuery(window).width();r<="1350"&&(e="720",a="400",jQuery("#arm_document_setup_video_popup").css("width","760"),jQuery(".popup_content_text iframe").css("width",e),jQuery(".popup_content_text iframe").css("height",a)),"1350"<r&&r<="1600"&&(e="750",a="430",jQuery("#arm_document_setup_video_popup").css("width","790"),jQuery(".popup_content_text iframe").css("width",e),jQuery(".popup_content_text iframe").css("height",a)),"1600"<r&&(e="800",a="450",jQuery("#arm_document_setup_video_popup").css("width","840"),jQuery(".popup_content_text iframe").css("width",e),jQuery(".popup_content_text iframe").css("height",a));var t="<iframe src='"+jQuery("#arm_document_setup_video_popup").find("iframe").attr("src")+"' allowfullscreen='' frameborder='0'></iframe>";jQuery("#arm_document_setup_video_popup").bPopup({modalClose:!1,closeClass:"popup_close_btn",onClose:function(){jQuery(this).find(".popup_wrapper_inner .popup_content_text").html(t)}})}function armHideDocumentSetupVideo(){jQuery("#arm_document_setup_video_popup").bPopup().close()}jQuery(function(e){jQuery("body").addClass("arm_fullscreen_wizard_setup_container"),jQuery(".arm-wizard-setup-container:not(.arm-ws-is-landingpage)").hide();jQuery("#total_completed_page").val();jQuery(document).on("click",".arm_next_wizard_step",function(){jQuery(this).parents(".arm-ws-is-landingpage").hide(),jQuery("#total_completed_page").val(1),jQuery(document).find("#arm_setup_wizard_page_1").show(),jQuery(".arm_setup_skip_div").show()}),jQuery(".arm_setup_configuration_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,a){e.appendTo(a.parents("td"))},focusInvalid:!1,invalidHandler:function(e,a){a.numberOfInvalids()&&jQuery("html, body").animate({scrollTop:jQuery(a.errorList[0].element).offset().top-150},0)},rules:{arm_lic_activation_name:"required",arm_lic_activation_key:"required",arm_lic_activation_email:{required:!0,email:!0}},submitHandler:function(e){var e=jQuery(e);e.hasClass("arm_already_clicked")||(e.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),e=e.serialize(),jQuery(".arm_setup_skip_div").hide(),jQuery(".arm-ws-back-btn").hide(),jQuery("#arm_setup_completion_loader").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_complete_setup_data&"+e,dataType:"json",success:function(e){"success"==e.type?(jQuery("#arm_setup_completion_loader").hide(),jQuery(".arm-wizard-setup-container:not(.arm-ws-is-landingpage)").hide(),jQuery(window).scrollTop(0),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_5").show(),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_5 .arm-ws-steps-belt .arm-ws-step-box").addClass("arm-ws-step-box-disabled"),setTimeout(()=>{jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_5").find(".arm-setup-comp-video").removeClass("arm-setup-wizard-celebration-show")},3e3),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_5").find(".arm_setupform").html(e.setup_url),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_5").find(".arm_setup_form_copy_text").attr("data-code",e.setup_url)):armToast(e.msg,"error")}}))}})}),jQuery(document).on("click",".arm-ws-next-btn:not(.arm_complete_setup_step)",function(){var e=jQuery("#total_completed_page").val(),a=parseInt(e)+1;e<5&&jQuery(".arm_setup_skip_div").show(),0<e&&(require_count=0,4==a&&(jQuery("#arm_setup_paypal_status").is(":checked")||jQuery("#arm_setup_bank_status").is(":checked")||(jQuery("#arm_no_payment_gateway-error").css("display","block").delay(3e3).fadeOut(),require_count=1),e=jQuery('input[name="arm_membership_plan_name"]').val(),jQuery(".arm_plan_name_setup").html(e),jQuery(".arm-cont-access-plan-name").html(e),jQuery("#arm_setup_paypal_status").is(":checked")&&(paypal_api_email=jQuery("#arm_paypal_merchant_email").val(),paypal_api_username=jQuery("#arm_paypal_merchant_api_username").val(),paypal_api_password=jQuery("#arm_paypal_merchant_api_password").val(),paypal_api_signature=jQuery("#arm_paypal_merchant_api_signature").val(),paypal_api_email_msg=jQuery("#arm_paypal_merchant_email").attr("required_msg"),paypal_api_username_msg=jQuery("#arm_paypal_merchant_api_username").attr("required_msg"),paypal_api_password_msg=jQuery("#arm_paypal_merchant_api_password").attr("required_msg"),paypal_api_signature_msg=jQuery("#arm_paypal_merchant_api_signature").attr("required_msg"),""==paypal_api_email?(require_count=1,jQuery("#arm_paypal_merchant_email").addClass("error"),jQuery("#arm_paypal_merchant_email-error").html(paypal_api_email_msg)):(jQuery("#arm_paypal_merchant_email").removeClass("error"),jQuery("#arm_paypal_merchant_email-error").html("")),""==paypal_api_username?(require_count=1,jQuery("#arm_paypal_merchant_api_username").addClass("error"),jQuery("#arm_paypal_merchant_api_username-error").html(paypal_api_username_msg)):(jQuery("#arm_paypal_merchant_api_username").removeClass("error"),jQuery("#arm_paypal_merchant_api_username-error").html("")),""==paypal_api_password?(require_count=1,jQuery("#arm_paypal_merchant_api_password").addClass("error"),jQuery("#arm_paypal_merchant_api_password-error").html(paypal_api_password_msg)):(jQuery("#arm_paypal_merchant_api_password").removeClass("error"),jQuery("#arm_paypal_merchant_api_password-error").html("")),""==paypal_api_signature?(require_count=1,jQuery("#arm_paypal_merchant_api_signature").addClass("error"),jQuery("#arm_paypal_merchant_api_signature-error").html(paypal_api_signature_msg)):(jQuery("#arm_paypal_merchant_api_signature").removeClass("error"),jQuery("#arm_paypal_merchant_api_signature-error").html("")))),0==require_count&&validate_all_fields(this,a))}),jQuery(document).on("change",'input[name="arm_selected_payment_gateway[paypal][payment_method]"]',function(){"sandbox"==jQuery('input[name="arm_selected_payment_gateway[paypal][payment_method]"]:checked').val()?(jQuery(".arm-form-table-label.arm_paypal_sandbox_api").show(),jQuery(".arm-form-table-label.arm_paypal_live_api").hide()):(jQuery(".arm-form-table-label.arm_paypal_sandbox_api").hide(),jQuery(".arm-form-table-label.arm_paypal_live_api").show())}),jQuery(document).on("click",".arm-ws-step-complate:not(.arm-ws-step-box-disabled)",function(){var e=jQuery(this).attr("data-page_id");jQuery(".arm-wizard-setup-container:not(.arm_setup_wizard_page_"+e+")").hide(),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_"+e).show(),jQuery("#total_completed_page").val(e)}),jQuery(document).on("click",".arm-ws-back-btn",function(){var e=jQuery("#total_completed_page").val(),e=parseInt(e)-1;0<e&&(jQuery(".arm-wizard-setup-container:not(.arm_setup_wizard_page_"+e+")").hide(),jQuery(".arm-wizard-setup-container.arm_setup_wizard_page_"+e).show(),jQuery("#total_completed_page").val(e))}),jQuery(document).on("click",".arm-membership-plan",function(){jQuery(".arm-membership-plan:not(.arm-payment-opt)").removeClass("click"),jQuery('input[name="arm_membership_plan_amount"]').removeAttr("required"),jQuery(this).hasClass("arm_free_plan")?(jQuery('input[name="arm_subscription_plan_type"]').val("free"),jQuery(this).addClass("click"),jQuery(".arm_plan_amount_section").addClass("hidden_section")):jQuery(this).hasClass("arm_paid_infinite_plan")?(jQuery('input[name="arm_subscription_plan_type"]').val("paid_infinite"),jQuery(this).addClass("click"),jQuery(".arm_plan_amount_section").removeClass("hidden_section")):jQuery(this).hasClass("arm_paid_finite_plan")?(jQuery('input[name="arm_subscription_plan_type"]').val("paid_finite"),jQuery(this).addClass("click"),jQuery(".arm_plan_amount_section").removeClass("hidden_section")):jQuery(this).hasClass("arm_paid_subscription_plan")&&(jQuery('input[name="arm_subscription_plan_type"]').val("recurring"),jQuery(this).addClass("click"),jQuery(".arm_plan_amount_section").removeClass("hidden_section"))}),jQuery(document).on("change","#arm_setup_stripe_status",function(){jQuery(this).is(":checked")?jQuery(".arm_stripe_payment_section").slideDown():jQuery(".arm_stripe_payment_section").slideUp()}),jQuery(document).on("change","#arm_setup_paypal_status",function(){jQuery(this).is(":checked")?jQuery(".arm_paypal_payment_setup").slideDown():jQuery(".arm_paypal_payment_setup").slideUp()}),jQuery(document).on("change","#arm_setup_bank_status",function(){jQuery(this).is(":checked")?jQuery(".arm_bank_transfer_payment_setup").slideDown():jQuery(".arm_bank_transfer_payment_setup").slideUp()}),jQuery(document).on("keyup","input.error",function(){focus_id=jQuery(this).attr("id"),jQuery(this).removeClass("error"),jQuery(document).find("span#"+focus_id+"-error").html("")}),jQuery(document).on("click",".arm_setup_click_to_copy_text",function(){var e,a,r,t,_=jQuery(this).parents(".arm-short-code-wapper").attr("id");(jQuery(this).parents("form").hasClass("arm_admin_member_form")?(e=jQuery(this).attr("data-code"),jQuery(this).val(e),armCopyToClipboardForm(e)):(e=jQuery(this).attr("data-code"),armCopyToClipboard(e)))?jQuery("#"+_).find(".arm_copied_text").css("display","block").delay(3e3).fadeOut():(a=jQuery("#"+_).find(".armCopyText"),r=jQuery("#"+_).find(".arm_click_to_copy_text"),(t=jQuery("<input type=text>")).prop("value",e),t.prop("readonly",!0),t.insertAfter(a),t.focus(),t.select(),a.hide(),r.hide(),t.focusout(function(){a.show(),r.removeAttr("style"),t.remove()}))}),jQuery(document).on("click",".arm_skip_setup_process",function(){var e=jQuery(this).parents(".arm_setup_skip_div").find('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:"action=skip_setup_action&_wpnonce="+e,success:function(e){"success"==e.type?window.location.replace(e.redirect_url):(jQuery("#"+get_loader_id+"_loader").hide(),armToast(activeAddonError,"error"))}})});