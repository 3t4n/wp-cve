jQuery(document).ready(function(e){function a(e){for(var r,a=e.target.files||e.dataTransfer.files,t=0;r=a[t];t++)!function(e,r){var a=jQuery(r),t=jQuery(r).parents(".arm_import_user_form"),n=(a.attr("class"),a.attr("data-file_size"),new XMLHttpRequest),r=(e.type,e.name.lastIndexOf(".")),r=e.name.substring(r+1),i=(r=r.toLowerCase(),a.attr("data-msg-invalid"));null==i&&(i="Sorry, this file type is not permitted for security reasons.");var s;-1===jQuery.inArray(r,["csv","xls","xlsx","xml"])?(alert(i),a.val("")):n.upload?(jQuery("#arm_user_import_btn").attr("disabled","disabled"),jQuery(".arm_loader_img_import_user").show(),r=function(e){for(var r=null!=e&&0!=e?e:5,a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<r;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}(6),i=e.name.lastIndexOf("."),i=e.name.substring(i+1),s=/.*(?=\.)/.exec(e.name),r=("armImportUser"+r+"_"+s).replace(/[^\w\s]/gi,"").replace(/ /g,"")+"."+i,s=jQuery('input[name="arm_wp_nonce"]').val(),n.open("POST",__ARMAJAXURL,!0),n.setRequestHeader("X_FILENAME",r),n.setRequestHeader("X-FILENAME",r),(i=new FormData).append("armfileselect",e),i.append("action","arm_import_user"),i.append("_wpnonce",s),n.send(i),n.onreadystatechange=function(e){var r;return 4==n.readyState&&200==n.status?(r=n.responseText,t.find("input.arm_file_url").val(r)):200!=n.status&&alert("There is an error in uploading file, Please try again"),jQuery("#arm_user_import_btn").removeAttr("disabled"),jQuery(".arm_loader_img_import_user").hide(),!1}):(alert("There is an error in uploading file, Please try again"),a.val(""))}(r,e.target)}window.File&&window.FileList&&window.FileReader,jQuery(".armImportUpload").each(function(e,r){r.addEventListener("change",a,!1)}),jQuery(".armRemoveImport").click(function(e){jQuery(this).parents(".arm_import_user_form");var r=jQuery(this).attr("data-import");""!=r&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_remove_uploaded_file&file_name="+r+"&type=import_user",success:function(e){window.location.reload()}})})});