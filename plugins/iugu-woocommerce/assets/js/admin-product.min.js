jQuery(function(e){"use strict";var i={getSplitField:function(){var i={security:wc_iugu_params.nonce.get_split_field,action:"wc_iugu_get_split_field"};return e.ajax({type:"POST",data:i,url:wc_iugu_params.ajax_url})},checkHideShowCentsPercent:function(i){parent=e(i).parents(".wc-iugu-split");var s=e(parent).find(".product_iugu_type").val(),t=e(parent).find(".product_iugu_applied").val();parent.find(".wc-iugu-split-fieldtype-cents").removeClass("show").addClass("hide"),parent.find(".wc-iugu-split-fieldtype-percent").removeClass("show").addClass("hide"),"both"!==s?parent.find(".split-"+t+"-"+s).removeClass("hide").addClass("show"):(parent.find(".split-"+t+"-cents").removeClass("hide").addClass("show"),parent.find(".split-"+t+"-percent").removeClass("hide").addClass("show")),"payment-method"==t?"both"!==s?parent.find(".split-payment-method2-"+s).removeClass("hide").addClass("show"):(parent.find(".split-payment-method2-cents").removeClass("hide").addClass("show"),parent.find(".split-payment-method2-percent").removeClass("hide").addClass("show")):"installments"==t&&("both"!==s?parent.find(".split-payment-method-"+s).removeClass("hide").addClass("show"):(parent.find(".split-payment-method-cents").removeClass("hide").addClass("show"),parent.find(".split-payment-method-percent").removeClass("hide").addClass("show")))},init:function(){e("#iugu_woocommerce_options").on("click",".wc-iugu-add-split",function(){var s=e(".wc-iugu-splits .wc-iugu-split").length;return e.when(i.getSplitField()).then(function(i){var i=i.html;i=i.replace(/{loop}/g,s),e(".wc-iugu-splits").append(i)}),!1}).on("click",".wc-iugu-remove-split",function(){if(confirm(wc_iugu_params.i18n.confirm_remove_split)){var i=e(this).closest(".wc-iugu-split");e(i).find("input").val(""),e(i).remove(),e(".wc-iugu-splits .wc-iugu-split").each(function(i,s){var t=i;e(this).find(".product_split_position").val(t),e(this).find("select, input, textarea").prop("name",function(e,i){return i.replace(/\[[0-9]+\]/g,"["+t+"]")})})}return!1}).on("change",".product_iugu_type",function(){i.checkHideShowCentsPercent(this)}).on("change",".iugu_payable_with",function(){var i=e(this).val();switch(parent=e(this).parents(".wc-iugu-payment-options"),i){case"all":case"iugu-credit-card":case"iugu-payment-booklets":parent.find(".iugu_number_installments").removeClass("hide").addClass("show");break;default:parent.find(".iugu_number_installments").removeClass("show").addClass("hide")}}).on("change",".product_iugu_applied",function(){i.checkHideShowCentsPercent(this)})}};i.init()});