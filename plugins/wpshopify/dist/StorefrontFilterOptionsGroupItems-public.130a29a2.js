(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["StorefrontFilterOptionsGroupItems-public"],{Eg2F:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n("8fid"),i=n("2MD/"),a=n("wXrY"),s=n("3mso"),c=n.n(s),o=n("xJmK"),u=n.n(o),l=n("fYWZ"),f=function(e){var t=e.itemValue,n=e.itemType,r=e.storefrontDispatch,a=e.isLoading,s=e.initialSelections,o=wp.element,f=o.useState,d=o.useEffect,v=f((function(){var e=s[n];if("collections"!==n)return!!(e&&e.length&&t)&&e.includes(String(t).toLowerCase())})),p=(0,i.Z)(v,2),h=p[0],m=p[1],g="collections"===n?t.label:t,w=(0,l.f)();return d((function(){if(c()(w.selections)&&m(!1),c()(w.selections[n])&&m(!1),"collections"===n)var e=u()(w.selections[n],t);else e=w.selections[n]&&t&&w.selections[n].length?w.selections[n].includes(String(t).toLowerCase()):h;e||m(!1)}),[w.selections]),React.createElement("li",{"data-wps-is-selected":h,"data-wps-filter-value":g,"data-wps-display-style":"checkbox",className:"wps-checkbox-wrapper"},React.createElement("label",{className:"wps-input-label"},React.createElement("input",{type:"checkbox",onChange:function(){if(!a){var e={itemValue:t,itemType:n,isSelected:!h};m(!h),r({type:"SET_LAST_SELECTED",payload:e})}},disabled:a,checked:h?"checked":"",className:"wps-input-value"}),g&&React.createElement("span",null,g)))},d=n("Qu7M"),v=n("DTvD");function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var h,m=["bottom","height","left","right","top","width"],g=new Map,w=function e(){var t=[];g.forEach((function(e,n){var r,i,a=n.getBoundingClientRect();r=a,i=e.rect,void 0===r&&(r={}),void 0===i&&(i={}),m.some((function(e){return r[e]!==i[e]}))&&(e.rect=a,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),h=window.requestAnimationFrame(e)},b="undefined"!=typeof window?v.useLayoutEffect:v.useEffect;function y(e,t){void 0===t&&(t={width:0,height:0});var n=v.useState(e.current),r=n[0],i=n[1],a=v.useReducer(E,t),s=a[0],c=a[1],o=v.useRef(!1);return b((function(){e.current!==r&&i(e.current)})),b((function(){if(r&&!o.current){o.current=!0;var e=r.getBoundingClientRect();c({rect:e})}}),[r]),v.useEffect((function(){if(r){var e,t,n=(e=r,t=function(e){c({rect:e})},{observe:function(){var n=0===g.size;g.has(e)?g.get(e).callbacks.push(t):g.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&w()},unobserve:function(){var n=g.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||g.delete(e),g.size||cancelAnimationFrame(h)}}});return n.observe(),function(){n.unobserve()}}}),[r]),s}function E(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e}var S=function(){return 50},k=function(e){return e},x=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},z=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),r=[],i=t;i<=n;i++)r.push(i);return r};var R=wp.element.memo((function(e){var t=e.data,n=e.index,r=e.size,i=e.start,a=t.filterOptions,s=t.itemType,c=t.storefrontDispatch,o=t.isLoading,u=t.initialSelections,l=a[n];return React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(r,"px"),transform:"translateY(".concat(i,"px)")}},React.createElement(f,{itemType:s,itemValue:l,storefrontDispatch:c,isLoading:o,initialSelections:u}))})),O=(0,a.default)((function(e,t,n,r,i){return{filterOptions:e,itemType:t,storefrontDispatch:n,isLoading:r,initialSelections:i}})),C=function(e){var t,n=e.filterOptions,a=e.itemType,s=(0,l.D)(),c=(0,l.f)(),o=(0,wp.element.useState)(c.selections),u=(0,i.Z)(o,1)[0],f=(0,d.Q)(),h=O(n,a,s,f.isLoading,u),m=wp.element.useRef(),g=function(e){var t,n=e.size,r=void 0===n?0:n,i=e.estimateSize,a=void 0===i?S:i,s=e.overscan,c=void 0===s?1:s,o=e.paddingStart,u=void 0===o?0:o,l=e.paddingEnd,f=void 0===l?0:l,d=e.parentRef,h=e.horizontal,m=e.scrollToFn,g=e.useObserver,w=e.initialRect,E=e.onScrollElement,R=e.scrollOffsetFn,O=e.keyExtractor,C=void 0===O?k:O,L=e.measureSize,T=void 0===L?x:L,M=e.rangeExtractor,D=void 0===M?z:M,F=h?"width":"height",I=h?"scrollLeft":"scrollTop",N=v.useRef({scrollOffset:0,measurements:[]}),A=v.useState(0),Y=A[0],Z=A[1];N.current.scrollOffset=Y;var j=(g||y)(d,w)[F];N.current.outerSize=j;var V=v.useCallback((function(e){d.current&&(d.current[I]=e)}),[d,I]),H=m||V;m=v.useCallback((function(e){H(e,V)}),[V,H]);var W=v.useState({}),q=W[0],B=W[1],J=v.useCallback((function(){return B({})}),[]),K=v.useRef([]),Q=v.useMemo((function(){var e=K.current.length>0?Math.min.apply(Math,K.current):0;K.current=[];for(var t=N.current.measurements.slice(0,e),n=e;n<r;n++){var i=C(n),s=q[i],c=t[n-1]?t[n-1].end:u,o="number"==typeof s?s:a(n),l=c+o;t[n]={index:n,start:c,size:o,end:l,key:i}}return t}),[a,q,u,r,C]),X=((null==(t=Q[r-1])?void 0:t.end)||u)+f;N.current.measurements=Q,N.current.totalSize=X;var _=E?E.current:d.current,G=v.useRef(R);G.current=R,b((function(){if(_){var e=function(e){var t=G.current?G.current(e):_[I];Z(t)};return e(),_.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){_.removeEventListener("scroll",e)}}Z(0)}),[_,I]);var P=function(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,a=function(e,n,r,i){for(;e<=n;){var a=(e+n)/2|0,s=t[a].start;if(s<i)e=a+1;else{if(!(s>i))return a;n=a-1}}return e>0?e-1:0}(0,i,0,r),s=a;s<i&&t[s].end<r+n;)s++;return{start:a,end:s}}(N.current),U=P.start,$=P.end,ee=v.useMemo((function(){return D({start:U,end:$,overscan:c,size:Q.length})}),[U,$,c,Q.length,D]),te=v.useRef(T);te.current=T;var ne=v.useMemo((function(){for(var e=[],t=function(t,n){var r=ee[t],i=p(p({},Q[r]),{},{measureRef:function(e){if(e){var t=te.current(e,h);if(t!==i.size){var n=N.current.scrollOffset;i.start<n&&V(n+(t-i.size)),K.current.push(r),B((function(e){var n;return p(p({},e),{},((n={})[i.key]=t,n))}))}}}});e.push(i)},n=0,r=ee.length;n<r;n++)t(n);return e}),[ee,V,h,Q]),re=v.useRef(!1);b((function(){re.current&&B({}),re.current=!0}),[a]);var ie=v.useCallback((function(e,t){var n=(void 0===t?{}:t).align,r=void 0===n?"start":n,i=N.current,a=i.scrollOffset,s=i.outerSize;"auto"===r&&(r=e<=a?"start":e>=a+s?"end":"start"),"start"===r?m(e):"end"===r?m(e-s):"center"===r&&m(e-s/2)}),[m]),ae=v.useCallback((function(e,t){var n=void 0===t?{}:t,i=n.align,a=void 0===i?"auto":i,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["align"]),c=N.current,o=c.measurements,u=c.scrollOffset,l=c.outerSize,f=o[Math.max(0,Math.min(e,r-1))];if(f){if("auto"===a)if(f.end>=u+l)a="end";else{if(!(f.start<=u))return;a="start"}var d="center"===a?f.start+f.size/2:"end"===a?f.end:f.start;ie(d,p({align:a},s))}}),[ie,r]),se=v.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae.apply(void 0,t),requestAnimationFrame((function(){ae.apply(void 0,t)}))}),[ae]);return{virtualItems:ne,totalSize:X,scrollToOffset:ie,scrollToIndex:se,measure:J}}({size:n.length,parentRef:m,estimateSize:wp.element.useCallback((function(){return 30}),[])});return React.createElement("ul",(t={className:"wps-"+a,ref:m},(0,r.Z)(t,"className","List"),(0,r.Z)(t,"style",{height:"250px",width:"300px",overflow:"auto"}),t),React.createElement("div",{className:"ListInner",style:{height:"".concat(g.totalSize,"px"),width:"100%",position:"relative"}},g.virtualItems.map((function(e){return React.createElement(R,{key:e.index+e.end,data:h,index:e.index,size:e.size,start:e.start})}))))}},els6:function(e,t,n){var r=n("4V2u");e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},xJmK:function(e,t,n){var r=n("XEHH"),i=n("YIMi"),a=n("els6"),s=n("j1We"),c=n("mCIY");e.exports=function(e,t,n){var o=s(e)?r:a;return n&&c(e,t,n)&&(t=void 0),o(e,i(t,3))}}}]);