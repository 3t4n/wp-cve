function xlwcty_modal_init(a){jQuery("body").on("click",a,xlwcty_modal_click).on("xlwctymodal:iframe:loaded",function(){jQuery("#xlwcty_MB_window").removeClass("xlwctymodal-loading")})}function xlwcty_modal_click(){return xlwcty_modal_show(this.title||this.name||null,this.href||this.alt,this.rel||!1),this.blur(),!1}function xlwcty_modal_show(a,b,c){var d;try{void 0===document.body.style.maxHeight?(jQuery("body","html").css({height:"100%",width:"100%"}),jQuery("html").css("overflow","hidden"),null===document.getElementById("xlwcty_MB_HideSelect")&&(jQuery("body").append("<iframe id='xlwcty_MB_HideSelect'>"+xlwctymodal10n.noiframes+"</iframe><div id='xlwcty_MB_overlay'></div><div id='xlwcty_MB_window' class='xlwctymodal-loading'></div>"),jQuery("#xlwcty_MB_overlay").click(xlwcty_modal_remove))):null===document.getElementById("xlwcty_MB_overlay")&&(jQuery("body").append("<div id='xlwcty_MB_overlay'></div><div id='xlwcty_MB_window' class='xlwctymodal-loading'></div>"),jQuery("#xlwcty_MB_overlay").click(xlwcty_modal_remove),jQuery("body").addClass("modal-open")),xlwcty_modal_detectMacXFF()?jQuery("#xlwcty_MB_overlay").addClass("xlwcty_MB_overlayMacFFBGHack"):jQuery("#xlwcty_MB_overlay").addClass("xlwcty_MB_overlayBG"),null===a&&(a=""),jQuery("body").append("<div id='xlwcty_MB_load'><img src='"+imgLoader.src+"' width='208' /></div>"),jQuery("#xlwcty_MB_load").show();var e;e=-1!==b.indexOf("?")?b.substr(0,b.indexOf("?")):b;var f=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/,g=e.toLowerCase().match(f);if(".jpg"==g||".jpeg"==g||".png"==g||".gif"==g||".bmp"==g){if(xlwcty_MB_PrevCaption="",xlwcty_MB_PrevURL="",xlwcty_MB_PrevHTML="",xlwcty_MB_NextCaption="",xlwcty_MB_NextURL="",xlwcty_MB_NextHTML="",xlwcty_MB_imageCount="",xlwcty_MB_FoundURL=!1,c)for(xlwcty_MB_TempArray=jQuery("a[rel="+c+"]").get(),xlwcty_MB_Counter=0;xlwcty_MB_Counter<xlwcty_MB_TempArray.length&&""===xlwcty_MB_NextHTML;xlwcty_MB_Counter++){xlwcty_MB_TempArray[xlwcty_MB_Counter].href.toLowerCase().match(f);xlwcty_MB_TempArray[xlwcty_MB_Counter].href!=b?xlwcty_MB_FoundURL?(xlwcty_MB_NextCaption=xlwcty_MB_TempArray[xlwcty_MB_Counter].title,xlwcty_MB_NextURL=xlwcty_MB_TempArray[xlwcty_MB_Counter].href,xlwcty_MB_NextHTML="<span id='xlwcty_MB_next'>&nbsp;&nbsp;<a href='#'>"+xlwctymodal10n.next+"</a></span>"):(xlwcty_MB_PrevCaption=xlwcty_MB_TempArray[xlwcty_MB_Counter].title,xlwcty_MB_PrevURL=xlwcty_MB_TempArray[xlwcty_MB_Counter].href,xlwcty_MB_PrevHTML="<span id='xlwcty_MB_prev'>&nbsp;&nbsp;<a href='#'>"+xlwctymodal10n.prev+"</a></span>"):(xlwcty_MB_FoundURL=!0,xlwcty_MB_imageCount=xlwctymodal10n.image+" "+(xlwcty_MB_Counter+1)+" "+xlwctymodal10n.of+" "+xlwcty_MB_TempArray.length)}imgPreloader=new Image,imgPreloader.onload=function(){function d(){return jQuery(document).unbind("click",d)&&jQuery(document).unbind("click",d),jQuery("#xlwcty_MB_window").remove(),jQuery("body").append("<div id='xlwcty_MB_window'></div>"),xlwcty_modal_show(xlwcty_MB_PrevCaption,xlwcty_MB_PrevURL,c),!1}function e(){return jQuery("#xlwcty_MB_window").remove(),jQuery("body").append("<div id='xlwcty_MB_window'></div>"),xlwcty_modal_show(xlwcty_MB_NextCaption,xlwcty_MB_NextURL,c),!1}imgPreloader.onload=null;var f=xlwcty_modal_getPageSize(),g=f[0]-150,h=f[1]-150,i=imgPreloader.width,j=imgPreloader.height;i>g?(j*=g/i,i=g,j>h&&(i*=h/j,j=h)):j>h&&(i*=h/j,j=h,i>g&&(j*=g/i,i=g)),xlwcty_MB_WIDTH=i+30,xlwcty_MB_HEIGHT=j+60,jQuery("#xlwcty_MB_window").append("<a href='' id='xlwcty_MB_ImageOff'><span class='screen-reader-text'>"+xlwctymodal10n.close+"</span><img id='xlwcty_MB_Image' src='"+b+"' width='"+i+"' height='"+j+"' alt='"+a+"'/></a><div id='xlwcty_MB_caption'>"+a+"<div id='xlwcty_MB_secondLine'>"+xlwcty_MB_imageCount+xlwcty_MB_PrevHTML+xlwcty_MB_NextHTML+"</div></div><div id='xlwcty_MB_closeWindow'><button type='button' id='xlwcty_MB_closeWindowButton'><span class='screen-reader-text'>"+xlwctymodal10n.close+"</span><span class='xlwcty_modal_close_btn'></span></button></div>"),jQuery("#xlwcty_MB_closeWindowButton").click(xlwcty_modal_remove),""!==xlwcty_MB_PrevHTML&&jQuery("#xlwcty_MB_prev").click(d),""!==xlwcty_MB_NextHTML&&jQuery("#xlwcty_MB_next").click(e),jQuery(document).bind("keydown.xlwctymodal",function(a){return 27==a.which?xlwcty_modal_remove():190==a.which?""!=xlwcty_MB_NextHTML&&(jQuery(document).unbind("xlwctymodal"),e()):188==a.which&&""!=xlwcty_MB_PrevHTML&&(jQuery(document).unbind("xlwctymodal"),d()),!1}),xlwcty_modal_position(),jQuery("#xlwcty_MB_load").remove(),jQuery("#xlwcty_MB_ImageOff").click(xlwcty_modal_remove),jQuery("#xlwcty_MB_window").css({visibility:"visible"})},imgPreloader.src=b}else{var h=b.replace(/^[^\?]+\??/,""),i=xlwcty_modal_parseQuery(h);if(xlwcty_MB_WIDTH=1*i.width+30||630,xlwcty_MB_HEIGHT=1*i.height+40||440,ajaxContentW=xlwcty_MB_WIDTH-30,ajaxContentH=xlwcty_MB_HEIGHT-45,-1!=b.indexOf("xlwcty_MB_iframe")?(urlNoQuery=b.split("xlwcty_MB_"),jQuery("#xlwcty_MB_iframeContent").remove(),"true"!=i.modal?jQuery("#xlwcty_MB_window").append("<div id='xlwcty_MB_title'><div id='xlwcty_MB_ajaxWindowTitle'>"+a+"</div><div id='xlwcty_MB_closeAjaxWindow'><button type='button' id='xlwcty_MB_closeWindowButton'><span class='screen-reader-text'>"+xlwctymodal10n.close+"</span><span class='xlwcty_modal_close_btn'></span></button></div></div><iframe frameborder='0' hspace='0' allowtransparency='true' src='"+urlNoQuery[0]+"' id='xlwcty_MB_iframeContent' name='xlwcty_MB_iframeContent"+Math.round(1e3*Math.random())+"' onload='xlwcty_modal_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;' >"+xlwctymodal10n.noiframes+"</iframe>"):(jQuery("#xlwcty_MB_overlay").unbind(),jQuery("#xlwcty_MB_window").append("<iframe frameborder='0' hspace='0' allowtransparency='true' src='"+urlNoQuery[0]+"' id='xlwcty_MB_iframeContent' name='xlwcty_MB_iframeContent"+Math.round(1e3*Math.random())+"' onload='xlwcty_modal_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;'>"+xlwctymodal10n.noiframes+"</iframe>"))):"visible"!=jQuery("#xlwcty_MB_window").css("visibility")?"true"!=i.modal?jQuery("#xlwcty_MB_window").append("<div id='xlwcty_MB_title'><div id='xlwcty_MB_ajaxWindowTitle'>"+a+"</div><div id='xlwcty_MB_closeAjaxWindow'><a href='#' id='xlwcty_MB_closeWindowButton'><div class='xlwcty_modal_close_btn'></div></a></div></div><div id='xlwcty_MB_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>"):(jQuery("#xlwcty_MB_overlay").unbind(),jQuery("#xlwcty_MB_window").append("<div id='xlwcty_MB_ajaxContent' class='xlwcty_MB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")):(jQuery("#xlwcty_MB_ajaxContent")[0].style.width=ajaxContentW+"px",jQuery("#xlwcty_MB_ajaxContent")[0].style.height=ajaxContentH+"px",jQuery("#xlwcty_MB_ajaxContent")[0].scrollTop=0,jQuery("#xlwcty_MB_ajaxWindowTitle").html(a)),jQuery("#xlwcty_MB_closeWindowButton").click(xlwcty_modal_remove),-1!=b.indexOf("xlwcty_MB_inline"))jQuery("#xlwcty_MB_ajaxContent").append(jQuery("#"+i.inlineId).children()),jQuery("#xlwcty_MB_window").bind("xlwcty_modal_unload",function(){jQuery("#"+i.inlineId).append(jQuery("#xlwcty_MB_ajaxContent").children())}),xlwcty_modal_position(),jQuery("#xlwcty_MB_load").remove(),jQuery("#xlwcty_MB_window").css({visibility:"visible"});else if(-1!=b.indexOf("xlwcty_MB_iframe"))xlwcty_modal_position(),jQuery("#xlwcty_MB_load").remove(),jQuery("#xlwcty_MB_window").css({visibility:"visible"});else{var j=b;j+=-1===b.indexOf("?")?"?":"&",jQuery("#xlwcty_MB_ajaxContent").load(j+="random="+(new Date).getTime(),function(){xlwcty_modal_position(),jQuery("#xlwcty_MB_load").remove(),xlwcty_modal_init("#xlwcty_MB_ajaxContent a.xlwctymodal"),jQuery("#xlwcty_MB_window").css({visibility:"visible"})})}}i.modal||jQuery(document).bind("keydown.xlwctymodal",function(a){if(27==a.which)return xlwcty_modal_remove(),!1}),d=jQuery("#xlwcty_MB_closeWindowButton"),d.find(".xlwcty_modal_close_btn").is(":visible")&&d.focus(),jQuery("#xlwcty_MB_ajaxContent").innerHeight()>window.innerHeight&&jQuery("#xlwcty_MB_ajaxContent").height(90*window.innerHeight/100)}catch(a){}}function xlwcty_modal_showIframe(){jQuery("#xlwcty_MB_load").remove(),jQuery("#xlwcty_MB_window").css({visibility:"visible"}).trigger("xlwctymodal:iframe:loaded")}function xlwcty_modal_remove(){return jQuery("#xlwcty_MB_imageOff").unbind("click"),jQuery("#xlwcty_MB_closeWindowButton").unbind("click"),jQuery("#xlwcty_MB_window").fadeOut("fast",function(){jQuery("#xlwcty_MB_window, #xlwcty_MB_overlay, #xlwcty_MB_HideSelect").trigger("xlwcty_modal_unload").unbind().remove(),jQuery("body").trigger("xlwctymodal:removed")}),jQuery("body").removeClass("modal-open"),jQuery("#xlwcty_MB_load").remove(),void 0===document.body.style.maxHeight&&(jQuery("body","html").css({height:"auto",width:"auto"}),jQuery("html").css("overflow","")),jQuery(document).unbind(".xlwctymodal"),!1}function xlwcty_modal_position(){var a=void 0===document.body.style.maxHeight;jQuery("#xlwcty_MB_window").css({marginLeft:"-"+parseInt(xlwcty_MB_WIDTH/2,10)+"px",width:xlwcty_MB_WIDTH+"px"}),a||jQuery("#xlwcty_MB_window").css({marginTop:"-"+parseInt(xlwcty_MB_HEIGHT/2,10)+"px"})}function xlwcty_modal_parseQuery(a){var b={};if(!a)return b;for(var c=a.split(/[;&]/),d=0;d<c.length;d++){var e=c[d].split("=");if(e&&2==e.length){var f=unescape(e[0]),g=unescape(e[1]);g=g.replace(/\+/g," "),b[f]=g}}return b}function xlwcty_modal_getPageSize(){var a=document.documentElement,b=window.innerWidth||self.innerWidth||a&&a.clientWidth||document.body.clientWidth,c=window.innerHeight||self.innerHeight||a&&a.clientHeight||document.body.clientHeight;return arrayPageSize=[b,c],arrayPageSize}function xlwcty_modal_detectMacXFF(){var a=navigator.userAgent.toLowerCase();if(-1!=a.indexOf("mac")&&-1!=a.indexOf("firefox"))return!0}if("string"!=typeof xlwcty_modal_pathToImage)var xlwcty_modal_pathToImage="undefined"!=typeof xlwctymodal10n?xlwctymodal10n.loadingAnimation:"";jQuery(document).ready(function(){xlwcty_modal_init("a.xlwctymodal, area.xlwctymodal, input.xlwctymodal"),imgLoader=new Image,imgLoader.src=xlwcty_modal_pathToImage});