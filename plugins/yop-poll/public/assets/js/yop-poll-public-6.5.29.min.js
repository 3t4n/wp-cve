(helper=void 0===helper?{}:helper).arr={multisort:function(a,t,s){if(void 0===t)for(t=[],x=0;x<a[0].length;x++)t.push(x);if(void 0===s)for(s=[],x=0;x<a[0].length;x++)s.push("ASC");return a.sort(function(a,e){return function a(e,t,s,i,o){var n="DESC"==i[o]?1:0,r=!isNaN(+e[s[o]]-+t[s[o]]),l=r?+e[s[o]]:e[s[o]].toLowerCase(),r=r?+t[s[o]]:t[s[o]].toLowerCase();return l<r?0==n?-1:1:l==r?s.length-1>o?a(e,t,s,i,o+1):0:0==n?1:-1}(a,e,t,s,0)})}},function(s){s.fn.popupWindow=function(a){s.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0};var e,t,a="height="+(settings=s.extend({},s.fn.popupWindow.defaultSettings,a||{})).height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;return settings.windowName=settings.windowName||this.name,settings.windowURL=settings.windowURL||this.href,(t=settings.centerBrowser?(t=s.browser.msie?(e=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(e=window.screenY+(window.outerHeight/2-settings.height/2),window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,a+",left="+t+",top="+e)):settings.centerScreen?(e=(screen.height-settings.height)/2,t=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,a+",left="+t+",top="+e)):window.open(settings.windowURL,settings.windowName,a+",left="+settings.left+",top="+settings.top)).focus(),t}}(jQuery),function(a,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(a.jQuery)}(this,function(a){var e,t,u,o,n,p,h,f,m,b,g,s,i,v;function y(a,e){return s.call(a,e)}function r(a,e){var t,s,i,o,n,r,l,c,d,u,p=e&&e.split("/"),h=b.map,f=h&&h["*"]||{};if(a&&"."===a.charAt(0))if(e){for(p=p.slice(0,p.length-1),e=(a=a.split("/")).length-1,b.nodeIdCompat&&v.test(a[e])&&(a[e]=a[e].replace(v,"")),a=p.concat(a),c=0;c<a.length;c+=1)if("."===(u=a[c]))a.splice(c,1),--c;else if(".."===u){if(1===c&&(".."===a[2]||".."===a[0]))break;0<c&&(a.splice(c-1,2),c-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((p||f)&&h){for(c=(t=a.split("/")).length;0<c;--c){if(s=t.slice(0,c).join("/"),p)for(d=p.length;0<d;--d)if(i=(i=h[p.slice(0,d).join("/")])&&i[s]){o=i,n=c;break}if(o)break;!r&&f&&f[s]&&(r=f[s],l=c)}!o&&r&&(o=r,n=l),o&&(t.splice(0,n,o),a=t.join("/"))}return a}function w(a,e){return function(){return n.apply(u,i.call(arguments,0).concat([a,e]))}}function P(a){var e;if(y(m,a)&&(e=m[a],delete m[a],g[a]=!0,o.apply(u,e)),y(f,a)||y(g,a))return f[a];throw new Error("No "+a)}function l(a){var e,t=a?a.indexOf("!"):-1;return-1<t&&(e=a.substring(0,t),a=a.substring(t+1,a.length)),[e,a]}f={},m={},b={},g={},s=Object.prototype.hasOwnProperty,i=[].slice,v=/\.js$/,p=function(a,e){var t,s,i=l(a),o=i[0];return a=i[1],o&&(t=P(o=r(o,e))),o?a=t&&t.normalize?t.normalize(a,(s=e,function(a){return r(a,s)})):r(a,e):(o=(i=l(a=r(a,e)))[0],a=i[1],o&&(t=P(o))),{f:o?o+"!"+a:a,n:a,pr:o,p:t}},h={require:function(a){return w(a)},exports:function(a){var e=f[a];return void 0!==e?e:f[a]={}},module:function(a){return{id:a,uri:"",exports:f[a],config:(e=a,function(){return b&&b.config&&b.config[e]||{}})};var e}},o=function(a,e,t,s){var i,o,n,r,l,c=[],d=typeof t;if(s=s||a,"undefined"==d||"function"==d){for(e=!e.length&&t.length?["require","exports","module"]:e,r=0;r<e.length;r+=1)if("require"===(o=(n=p(e[r],s)).f))c[r]=h.require(a);else if("exports"===o)c[r]=h.exports(a),l=!0;else if("module"===o)i=c[r]=h.module(a);else if(y(f,o)||y(m,o)||y(g,o))c[r]=P(o);else{if(!n.p)throw new Error(a+" missing "+o);n.p.load(n.n,w(s,!0),function(e){return function(a){f[e]=a}}(o),{}),c[r]=f[o]}d=t?t.apply(f[a],c):void 0,a&&(i&&i.exports!==u&&i.exports!==f[a]?f[a]=i.exports:d===u&&l||(f[a]=d))}else a&&(f[a]=t)},t=e=n=function(a,e,t,s,i){if("string"==typeof a)return h[a]?h[a](e):P(p(a,e).f);if(!a.splice){if((b=a).deps&&n(b.deps,b.callback),!e)return;e.splice?(a=e,e=t,t=null):a=u}return e=e||function(){},"function"==typeof t&&(t=s,s=i),s?o(u,a,e,t):setTimeout(function(){o(u,a,e,t)},4),n},n.config=function(a){return n(a)},t._defined=f,(t=function(a,e,t){e.splice||(t=e,e=[]),y(f,a)||y(m,a)||(m[a]=[a,e,t])}).amd={jQuery:!0},t("almond",function(){}),t("visualcaptcha/core",[],function(){"use strict";var s=function(a,e,t){return t=t||[],a.namespace&&0<a.namespace.length&&t.push(a.namespaceFieldName+"="+a.namespace),t.push(a.randomParam+"="+a.randomNonce),e+"&"+t.join("&")},t=function(e){var a,t=this;e.applyRandomNonce(),e.isLoading=!0,a=i(e),e._loading(t),e.callbacks.loading&&e.callbacks.loading(t),e.request(a,function(a){a.audioFieldName&&(e.audioFieldName=a.audioFieldName),a.imageFieldName&&(e.imageFieldName=a.imageFieldName),a.imageName&&(e.imageName=a.imageName),a.values&&(e.imageValues=a.values),e.isLoading=!1,e.hasLoaded=!0,e._loaded(t),e.callbacks.loaded&&e.callbacks.loaded(t)})},i=function(a){var e=a.url+a.routes.start+"&_img="+a.numberOfImages;return s(a,e)},o=function(a,e){var t=[];return e<0||e>=a.numberOfImages?"":(this.isRetina()&&t.push("retina=1"),e=a.url+a.routes.image+"&_id="+e,s(a,e,t))},n=function(a,e){var t=a.url+a.routes.audio;return e&&(t+="/ogg"),s(a,t)},r=function(a,e){return 0<=e&&e<a.numberOfImages?a.imageValues[e]:""},l=function(){return void 0!==window.devicePixelRatio&&1<window.devicePixelRatio},c=function(){var a=!1;try{document.createElement("audio").canPlayType&&(a=!0)}catch(a){}return a};return function(e){var a={refresh:function(){return t.call(this,e)},isLoading:function(){return e.isLoading},hasLoaded:function(){return e.hasLoaded},numberOfImages:function(){return e.imageValues.length},imageName:function(){return e.imageName},imageValue:function(a){return r.call(this,e,a)},imageUrl:function(a){return o.call(this,e,a)},audioUrl:function(a){return n.call(this,e,a)},imageFieldName:function(){return e.imageFieldName},audioFieldName:function(){return e.audioFieldName},namespace:function(){return e.namespace},namespaceFieldName:function(){return e.namespaceFieldName},isRetina:l,supportsAudio:c};return e.autoRefresh&&a.refresh(),a}}),t("visualcaptcha/xhr-request",[],function(){"use strict";var s=window.XMLHttpRequest;return function(a,e){var t=new s;t.open("GET",a,!0),t.onreadystatechange=function(){var a;4===t.readyState&&200===t.status&&(a=JSON.parse(t.responseText),e(a))},t.send()}}),t("visualcaptcha/config",["visualcaptcha/xhr-request"],function(s){"use strict";return function(a){var e=window.location.href.split("/"),t=(e[e.length-1]="",{request:s,url:e.join("/").slice(0,-1),namespace:"",namespaceFieldName:"namespace",routes:{start:"/start",image:"/image",audio:"/audio"},isLoading:!1,hasLoaded:!1,autoRefresh:!0,numberOfImages:6,randomNonce:"",randomParam:"r",audioFieldName:"",imageFieldName:"",imageName:"",imageValues:[],callbacks:{},_loading:function(){},_loaded:function(){}});return t.applyRandomNonce=function(){return t.randomNonce=Math.random().toString(36).substring(2)},a.request&&(t.request=a.request),a.url&&(t.url=a.url),a.namespace&&(t.namespace=a.namespace),a.namespaceFieldName&&(t.namespaceFieldName=a.namespaceFieldName),void 0!==a.autoRefresh&&(t.autoRefresh=a.autoRefresh),a.numberOfImages&&(t.numberOfImages=a.numberOfImages),a.routes&&(a.routes.start&&(t.routes.start=a.routes.start),a.routes.image&&(t.routes.image=a.routes.image),a.routes.audio)&&(t.routes.audio=a.routes.audio),a.randomParam&&(t.randomParam=a.randomParam),a.callbacks&&(a.callbacks.loading&&(t.callbacks.loading=a.callbacks.loading),a.callbacks.loaded)&&(t.callbacks.loaded=a.callbacks.loaded),a._loading&&(t._loading=a._loading),a._loaded&&(t._loaded=a._loaded),t}}),t("visualcaptcha",["require","visualcaptcha/core","visualcaptcha/config"],function(a){"use strict";var e=a("visualcaptcha/core"),t=a("visualcaptcha/config");return function(a){return e(t(a=a||{}))}}),t("visualcaptcha/templates",[],function(){"use strict";var r=function(a,e){for(var t in e)a=a.replace(new RegExp("{"+t+"}","g"),e[t]);return a};return{buttons:function(a,e,t){var s='<div class="visualCaptcha-button-group"><div class="visualCaptcha-refresh-button"><a href="#"><img src="{path}refresh{retinaExtra}.png" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>'+(a.supportsAudio()?'<div class="visualCaptcha-accessibility-button"><a href="#"><img src="{path}accessibility{retinaExtra}.png" title="{accessibilityTitle}" alt="{accessibilityAlt}" /></a></div>':"")+"</div>",t={path:t||"",refreshTitle:e.refreshTitle,refreshAlt:e.refreshAlt,accessibilityTitle:e.accessibilityTitle,accessibilityAlt:e.accessibilityAlt,retinaExtra:a.isRetina()?"@2x":""};return r(s,t)},accessibility:function(a,e){return a.supportsAudio()?(e={accessibilityDescription:e.accessibilityDescription,audioURL:a.audioUrl(),audioFieldName:a.audioFieldName()},r('<div class="visualCaptcha-accessibility-wrapper visualCaptcha-hide"><div class="accessibility-description">{accessibilityDescription}</div><audio preload="preload"><source src="{audioURL}" type="audio/ogg" /><source src="{audioURL}" type="audio/mpeg" /></audio></div>',e)):""},images:function(a,e){for(var t,s,i="",o=0,n=a.numberOfImages();o<n;o++)t='<div class="img"><a href="#"><img src="{imageUrl}" id="visualCaptcha-img-{i}" data-index="{i}" alt="" title="" /></a></div>',s={imageUrl:a.imageUrl(o),i:o},i+=r(t,s);return t='<p class="visualCaptcha-explanation">{explanation}</p><div class="visualCaptcha-possibilities">{images}</div>',s={imageFieldName:a.imageFieldName(),explanation:e.explanation.replace(/ANSWER/,a.imageName()),images:i},r(t,s)},audioInput:function(a){a={audioFieldName:a.audioFieldName()};return r('<input class="form-control audioField" type="text" name="{audioFieldName}" value="" autocomplete="off" />',a)},imageInput:function(a,e){a={imageFieldName:a.imageFieldName(),value:a.imageValue(e)};return r('<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',a)},namespaceInput:function(a){var e=a.namespace();return e&&0!==e.length?(a={fieldName:a.namespaceFieldName(),value:e},r('<input type="hidden" name="{fieldName}" value="{value}" />',a)):""}}}),t("visualcaptcha/language",[],function(){"use strict";return{accessibilityAlt:"Sound icon",accessibilityTitle:"Accessibility option: listen to a question and answer it!",accessibilityDescription:"Type below the <strong>answer</strong> to what you hear. Numbers or words:",explanation:"Click or touch the <strong>ANSWER</strong>",refreshAlt:"Refresh/reload icon",refreshTitle:"Refresh/reload: get new images and accessibility option!"}}),t("visualcaptcha.jquery",["jquery","visualcaptcha","visualcaptcha/templates","visualcaptcha/language"],function(n,s,r,e){"use strict";var i=function(a,e){n.get(a,e,"json")},o=function(){},l=function(a,e,t){t=r.namespaceInput(t)+r.accessibility(t,a.language)+r.images(t,a.language)+r.buttons(t,a.language,a.imgPath);e.html(t)},c=function(a){var e=n(this).closest(".visualCaptcha"),t=e.find(".visualCaptcha-accessibility-wrapper"),s=e.find(".visualCaptcha-possibilities"),i=e.find(".visualCaptcha-explanation"),o=t.find("audio");t.hasClass("visualCaptcha-hide")?(s.toggleClass("visualCaptcha-hide"),i.toggleClass("visualCaptcha-hide"),s.find(".img").removeClass("visualCaptcha-selected"),i.find("input").val(""),e=r.audioInput(e.data("captcha")),n(e).insertBefore(o),t.toggleClass("visualCaptcha-hide"),o[0].load(),o[0].play()):(o[0].pause(),t.toggleClass("visualCaptcha-hide"),t.find("input").remove(),i.toggleClass("visualCaptcha-hide"),s.toggleClass("visualCaptcha-hide")),a.preventDefault()},d=function(a){var e=n(this),t=e.closest(".visualCaptcha"),s=t.find(".visualCaptcha-possibilities"),i=t.find(".visualCaptcha-explanation"),o=i.find("input");o&&(o.remove(),s.find("a").removeClass("visualCaptcha-selected")),e.addClass("visualCaptcha-selected"),o=e.find("img").data("index"),s=r.imageInput(t.data("captcha"),o),i.append(n(s)),a.preventDefault()},u=function(a){n(this).closest(".visualCaptcha").data("captcha").refresh(),a.preventDefault()},p=function(a){var e=a.find(".imageField"),a=a.find(".audioField"),t=!(!e.val()&&!a.val());return t?{valid:t,name:(e.val()?e:a).attr("name"),value:(e.val()?e:a).val()}:{valid:t}};n.fn.visualCaptcha=function(a){var t=n.extend({imgPath:"/",language:e,captcha:{request:i}},a);return this.addClass("visualCaptcha").on("click",".visualCaptcha-accessibility-button",c).on("click",".visualCaptcha-refresh-button",u).on("click",".visualCaptcha-possibilities a",d),this.each(function(){var a=n(this),e=n.extend(t.captcha,{_loading:o.bind(null,t,a),_loaded:l.bind(null,t,a)});void 0!==a.data("namespace")&&(e.namespace=a.data("namespace")),(e=s(e)).getCaptchaData=p.bind(null,a),a.data("captcha",e)})}}),t("jquery",function(){return a}),e("visualcaptcha.jquery")}),function(i){"use strict";function o(a,e){this.$element=i(a),this.options=i.extend({},o.defaults,e)}o.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(a){return a+"%"},amount_format:function(a,e,t){return a+" / "+e},update:i.noop,done:i.noop,fail:i.noop},o.prototype.transition=function(){var o,a,n=this.$element,r=n.parent(),l=this.$back_text,c=this.$front_text,d=this.options,u=parseInt(n.attr("data-transitiongoal")),p=parseInt(n.attr("aria-valuemin"))||0,h=parseInt(n.attr("aria-valuemax"))||100,f=r.hasClass("vertical"),m=(d.update&&"function"==typeof d.update?d:Progressbar.defaults).update,b=(d.done&&"function"==typeof d.done?d:Progressbar.defaults).done,e=(d.fail&&"function"==typeof d.fail?d:Progressbar.defaults).fail;isNaN(u)?e("data-transitiongoal not set"):(o=Math.round(100*(u-p)/(h-p)),"center"!==d.display_text||l||c||(this.$back_text=l=i("<span>").addClass("progressbar-back-text").prependTo(r),this.$front_text=c=i("<span>").addClass("progressbar-front-text").prependTo(n),f?(a=r.css("height"),l.css({height:a,"line-height":a}),c.css({height:a,"line-height":a}),i(window).resize(function(){a=r.css("height"),l.css({height:a,"line-height":a}),c.css({height:a,"line-height":a})})):(a=r.css("width"),c.css({width:a}),i(window).resize(function(){a=r.css("width"),c.css({width:a})}))),setTimeout(function(){f?n.css("height",o+"%"):n.css("width",o+"%");var a,e,t,s,i=setInterval(function(){t=f?(e=n.height(),r.height()):(e=n.width(),r.width()),a=Math.round(100*e/t),t=Math.round(p+e/t*(h-p)),o<=a&&(a=o,t=u,b(n),clearInterval(i)),"none"!==d.display_text&&(s=d.use_percentage?d.percent_format(a):d.amount_format(t,h,p),"fill"===d.display_text?n.text(s):"center"===d.display_text&&(l.text(s),c.text(s))),n.attr("aria-valuenow",t),m(a,n)},d.refresh_speed)},d.transition_delay))};var a=i.fn.yopprogressbar;i.fn.yopprogressbar=function(s){return this.each(function(){var a=i(this),e=a.data("bs.progressbar"),t="object"==typeof s&&s;e&&t&&i.extend(e.options,t),e||a.data("bs.progressbar",e=new o(this,t)),e.transition()})},i.fn.yopprogressbar.Constructor=o,i.fn.yopprogressbar.noConflict=function(){return i.fn.yopprogressbar=a,this}}(window.jQuery);var helper,YOPPollBasicScrollToMessage,YOPPollSendBasicVoteWithReCaptchaV2Invisible,YOPPollReCaptchaElements=[],YOPPollHCaptchaElements=[],YOPPollOnLoadRecaptcha=function(){jQuery('.basic-yop-poll-container[data-load-with="1"]').each(function(){var e=jQuery(this);switch(jQuery(this).attr("data-cap")){case"2":YOPPollReCaptchaElements[jQuery(this).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptcha.siteKey,theme:"light"});break;case"3":YOPPollReCaptchaElements[jQuery(this).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptchaV2Invisible.siteKey,theme:"light",size:"invisible",callback:function(a){YOPPollSendBasicVoteWithReCaptchaV2Invisible(e,a)}})}})},YOPPollOnLoadHCaptcha=function(){jQuery('.basic-yop-poll-container[data-load-with="1"]').each(function(){jQuery(this);"5"===jQuery(this).attr("data-cap")&&(YOPPollHCaptchaElements[jQuery(this).attr("data-uid")]=hcaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.hCaptcha.siteKey}))})};jQuery(document).ready(function(v){var a,n,t,r,l,c,d,u,p,h,f,m,b,s,g,y,e,o,w,P={accessibilityAlt:objectL10n.yopPollParams.captchaParams.accessibilityAlt,accessibilityTitle:objectL10n.yopPollParams.captchaParams.accessibilityTitle,accessibilityDescription:objectL10n.yopPollParams.captchaParams.accessibilityDescription,explanation:objectL10n.yopPollParams.captchaParams.explanation,refreshAlt:objectL10n.yopPollParams.captchaParams.refreshAlt,refreshTitle:objectL10n.yopPollParams.captchaParams.refreshTitle},C=[],x=[[]];YOPPollBasicIsFacebookBrowser=function(){var a=navigator.userAgent||navigator.vendor||window.opera;return-1<a.indexOf("FBAN")||-1<a.indexOf("FBAV")},YOPPollBasicScrollToMessage=function(a){v("html, body").animate({scrollTop:v(v(a).closest(".bootstrap-yop")).position().top-35},1500,"linear")},YOPPollBasicGetPollCookieData=function(a){var e,t,s,i=localStorage.getItem("ypdata"),o="";if(null!==i)for(e=i.split("#"),s=0;s<e.length;s++)(t=e[s].split("|"))[0]===a&&(o=t[1],s=e.length);return o},YOPPollBasicGetCookieData=function(){var a,e,t,s=localStorage.getItem("ypdata"),i=[];if(null!==s)for(a=s.split("#"),t=0;t<a.length;t++)e=a[t].split("|"),i.push(e);return i},YOPPollBasicSetCookieData=function(a,e){var t=getCookieData(),s="",o=!0;if(0===t.length)s=a+"|"+e;else{for(i=0;i<t.length;i++)a===t[i][0]?(s+=a+"|"+e,o=!1):s+=t[i][0]+"|"+t[i][1],i<t.length-1&&(s+="#");!0===o&&(s+="#"+a+"|"+e)}localStorage.setItem("ypdata",s)},a=function(a,e){v('.basic-yop-poll-container[data-id="'+a+'"]').find('input[name="_token"]').val(e)},n=function(e,t){v.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_is_user_logged_in"}}).done(function(a){if(!0===a.success)switch(t){case"vote":f(e,"wordpress");break;case"show-results":l(e)}else"vote"===t&&v(".basic-vote").popupWindow({windowURL:"http://yahoo.com",windowName:"YOPPollW",height:500,width:450,centerScreen:1})})},g=function(a,e,t){switch(e){case"asc":e="ASC";break;case"desc":e="DESC";break;default:e="ASC"}switch(t){case"alphabetical":resultsSorted=helper.arr.multisort(a,["text"],[e]);break;case"number-of-votes":resultsSorted=helper.arr.multisort(a,["votes"],[e]);break;default:resultsSorted=a}return a},t=function(a,n){var r=[],l=v(a).attr("data-sort-results-by"),c=v(a).attr("data-sort-results-rule");return v(a).find(".basic-question").each(function(){var a,e,t,s={},i=v(this).attr("data-display-others"),o=[];if(s.id=v(this).attr("data-id"),s.type=v(this).attr("data-question-type"),s.text=v(this).find(".basic-question-title").text(),s.answers=[],v(this).find(".basic-answers").find(".basic-answer").not(".basic-other-answer").each(function(){var a=[];a.id=v(this).attr("data-id"),a.type=v(this).attr("data-type"),"text"===a.type&&(a.text=v(this).find(".basic-text").html()),a.color=v(this).attr("data-color"),a.votes=v(this).attr("data-vn"),a.makeLink=v(this).attr("data-make-link"),a.link=v(this).attr("data-link"),s.answers.push(a)}),!0===n&&"yes"===i&&(a=v(this).attr("data-others"),otherAnswersColorForResults=v(this).attr("data-others-color"),""!==a))for(e=JSON.parse(a),t=0;t<e.length;t++)o.id=0,o.type="text",o.text=e[t].an,o.color=otherAnswersColorForResults,o.votes=e[t].vn,s.answers.push(o),o=[];s.answers=g(s.answers,c,l),r.push(s)}),r},r=function(a,e){e=t(a,e);c(a,e)},l=function(h){var f=v(h).attr("data-uid"),m=v(h).attr("data-show-results-as"),b=v(h).attr("data-sort-results-by"),g=v(h).attr("data-sort-results-rule");x[f]=[],v(h).find(".basic-question").each(function(){var t,a,e,s=v(this).attr("data-uid"),i=v(this).attr("data-question-type"),o=[],n=[],r=[],l=[],c=[],d=[],u=0,p=0;switch("text"===i&&(t=v(this).find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"])),v(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e={};e.id=v(this).attr("data-id"),e.label="text"===i?v(this).find(".basic-text").text():"pie"===m?v(this).find(".basic-media-text").text():v(this).find(".basic-media-content").html(),e.backgroundColor=v(this).attr("data-color"),e.votes=parseInt(v(this).attr("data-vn"),10),o.push(e),u+=e.votes}),g){case"asc":g="ASC";break;case"desc":g="DESC";break;default:g="ASC"}switch(b){case"alphabetical":d=helper.arr.multisort(o,["label"],[g]);break;case"number-of-votes":d=helper.arr.multisort(o,["votes"],[g]);break;default:d=o}for(p=0;p<d.length;p++)answerLabel="",answerResultsPercentages=[],answerResultsVotes=[],answerResultsPercentages=YOPPollBasicIsResultsShowPercentages(h,d[p].votes,u),answerResultsVotes=YOPPollBasicIsResultsShowVotes(h,d[p].votes),answerLabel=d[p].label,!0===answerResultsPercentages.show&&(answerLabel=d[p].label+" "+answerResultsPercentages.content),!0===answerResultsVotes.show&&(answerLabel+=" "+answerResultsVotes.content),n.push(d[p].id),r.push(answerLabel),c.push(d[p].votes),l.push(d[p].backgroundColor);switch(e={labels:r,datasets:[{data:c,backgroundColor:l}]},m){case"bar":v(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e=parseInt(v(this).attr("data-vn"),10);answerResultsPercentages=YOPPollBasicIsResultsShowPercentages(h,e,u),answerResultsVotes=YOPPollBasicIsResultsShowVotes(h,e),!0===answerResultsPercentages.show&&v(this).find(".basic-answer-label").append('<span class="basic-answer-results-details" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsPercentages.content+"</span>"),!0===answerResultsVotes.show&&v(this).find(".basic-answer-label").append('<span class="basic-answer-total-votes" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsVotes.content+"</span>"),0<e&&v(this).append('<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e+'" aria-valuemax="'+u+'" style="background-image:none; background-color: '+v(this).attr("data-color")+';"></div></div>')}),v(this).find(".progress .progress-bar").yopprogressbar();break;case"pie":v(this).find(".basic-question-title").after('<div class="basic-chart-container" style="position: relative; height:100%; width:100%"><canvas id="question-results-'+s+'"></canvas></div>'),a=v(this).find("#question-results-"+s),a=new Chart(a,{type:"pie",data:e,options:{animateScale:!0,responsive:!0,maintainAspectRatio:!0,legend:{position:"bottom"},tooltips:{enabled:!1},plugins:{datalabels:{padding:10,color:t.color,align:"center",anchor:"center",formatter:function(a,e){var t=0,s="";return e.chart.data.datasets[0].data.map(function(a){t+=parseInt(a,10)}),e=YOPPollBasicIsResultsShowPercentages(h,a,t),a=YOPPollBasicIsResultsShowVotes(h,a),!0===e.show&&(s=e.content),!0===a.show&&(s+=a.content),s}}}}}),x[f].push(a)}})},c=function(a,e){var t,s=v(a).attr("data-uid"),i=v(a).attr("data-show-message"),o=v(a).attr("data-is-ended"),n=v(a).find(".basic-message").attr("data-success"),r=v(a).find(".basic-message-text").text(),l=0;for(x[s]=[],"0"===o&&"true"===i&&(v(a).find(".basic-message").addClass("basic-success").removeClass("hide").css("borderLeftColor",n),""!==r&&r===objectL10n.yopPollParams.voteParams.thankYou||v(a).find(".basic-message-text").text(objectL10n.yopPollParams.voteParams.thankYou)),v(a).find('.basic-element[data-type!="question"]').hide(),v(a).find(".basic-answers").hide(),v(a).find(".basic-captcha").hide(),v(a).find(".basic-vote-button").hide(),v(a).find(".basic-results-button").hide(),v(a).find(".basic-back-to-vote-button").show(),v(a).find(".basic-stats").show(),l=0;l<e.length;l++)t=v(a).find('.basic-question[data-id="'+e[l].id+'"]').attr("data-display"),e[l].type,YopPollBasicShowResultsForTextQuestion(a,e[l],t)},YOPPollBasicIsResultsShowPercentages=function(a,e,t){var s=[];return-1!==v(a).attr("data-resdet").indexOf("percentages")?(s.show=!0,s.content=0<t?100*e/t:0,s.content===Math.round(s.content)?s.content=Math.round(s.content)+"%":s.content=Number(Math.round(s.content+"e2")+"e-2").toFixed(2)+"%"):(s.show=!1,s.content=""),s},YOPPollBasicIsResultsShowVotes=function(a,e){var t=[];return-1!==v(a).attr("data-resdet").indexOf("votes-number")?(t.show=!0,votesText=1===parseInt(e,10)?objectL10n.yopPollParams.resultsParams.singleVote:objectL10n.yopPollParams.resultsParams.multipleVotes,t.content=" ("+e+" "+votesText+")"):(t.show=!1,t.content=""),t},YOPPollBasicGetClassForColumns=function(a){var e="";switch(String(a)){case"2":e="col-xs-6 col-sm-6 col-md-6";break;case"3":e="col-xs-6 col-sm-6 col-md-4";break;case"4":e="col-xs-6 col-sm-6 col-md-3";break;case"5":e="col-xs-6 col-sm-6 cols-5";break;case"6":e="col-xs-6 col-sm-6 col-md-2";break;case"7":e="col-xs-6 col-sm-6 cols-7";break;case"8":e="col-xs-6 col-sm-6 cols-8";break;case"9":e="col-xs-6 col-sm-6 cols-9";break;case"10":e="col-xs-6 col-sm-6 cols-10";break;case"11":e="col-xs-6 col-sm-6 cols-11";break;case"12":e="col-xs-6 col-sm-6 col-md-1"}return e},YopPollBasicShowResultsForTextQuestion=function(a,e,t){v(a).attr("data-uid");for(var s,i,o,n=v(a).attr("data-show-results-as"),r=v(a).find('.basic-question[data-id="'+e.id+'"]').attr("data-colnum"),l=v(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer").first().css(["padding-top","padding-left"]),c=v(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"]),d=0,u=0,u=0;u<e.answers.length;u++)d+=parseInt(e.answers[u].votes,10);switch(t){case"horizontal":ulClass=" basic-h-answers",liClass=" "+YOPPollBasicGetClassForColumns(e.answers.length),divClass=" basic-text-horizontal";break;case"columns":ulClass=" basic-h-answers basic-cols-display",liClass=" "+YOPPollBasicGetClassForColumns(r),divClass=" basic-text-horizontal";break;default:ulClass="",liClass="",divClass=" basic-text-vertical"}if("bar"===n){for(s='<ul class="basic-answers-results basic-answers'+ulClass+'">',u=0;u<e.answers.length;u++)answerText="yes"===e.answers[u].makeLink&&""!==e.answers[u].link?'<a href="'+e.answers[u].link+'" target="_blank">'+e.answers[u].text+"</a>":e.answers[u].text,i=YOPPollBasicIsResultsShowPercentages(a,e.answers[u].votes,d),o=YOPPollBasicIsResultsShowVotes(a,e.answers[u].votes),s+='<li class="basic-answer'+liClass+'" style="padding:'+l["padding-top"]+" "+l["padding-top"]+';" data-id="'+e.answers[u].id+'" data-type="text" data-vn="'+e.answers[u].votes+'" data-color="'+e.answers[u].color+'"><div class="basic-answer-content'+divClass+'"><span class="basic-text" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+answerText+"</span>",!0===i.show&&(s+='<span class="basic-answer-results-details" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+i.content+"</span>"),!0===o.show&&(s+='<span class="basic-answer-total-votes" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+o.content+"</span>"),s+="</div>",0<e.answers[u].votes&&(s+='<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e.answers[u].votes+'" aria-valuemax="'+d+'" style="background-image:none; background-color: '+e.answers[u].color+';"></div></div>'),s+="</li>";s+="</ul>",v(a).find('.basic-question[data-id="'+e.id+'"]').append(s),v(a).find(".progress .progress-bar").yopprogressbar()}},d=function(a,e){for(var t=0,t=0;t<e.length;t++)v(a).find('.basic-question[data-id="'+e[t].id+'"]').replaceWith(e[t].code)},u=function(a,e){for(var t=0,s=0,t=0;t<e.length;t++)for(s=0;s<e[t].answers.length;s++)v(a).find('.basic-question[data-id="'+e[t].id+'"]').find('.basic-answer[data-id="'+e[t].answers[s].id+'"]').attr("data-vn",e[t].answers[s].votes)},p=function(a){var e=v(a).attr("data-uid");if(void 0!==x[e])for(i=1;i<x[e].length;i++)x[e][i].destroy(),x[e].splice(i,1);v(a).find(".basic-answers-results").remove(),v(a).find(".basic-chart-container").remove()},y=function(a,e){for(var t=JSON.parse(e),s=0,s=0;s<t.length;s++)v(a).find('.basic-element[data-id="'+t[s].id+'"]').attr("data-others",t[s].others)},h=function(a,e,t,s){var i,o,n=0,r=[];if(v(a).find(".basic-element").each(function(){var a=v(this).attr("data-type"),e=v(this).attr("data-id"),t=[];switch(a){case"question":v(this).find('input[name="answer['+e+']"][value!="0"]:checked').each(function(){t.push({id:v(this).val(),data:!0})}),1===v(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&t.push({id:0,data:v(this).find('input[name="other['+e+']"]').val()}),r[n]={id:e,type:"question",data:t},n++;break;case"custom-field":r[n]={id:e,type:"custom-field",data:v(this).find('.basic-input-text[name="cfield['+e+']"]').val()},n++}}),"2"===v(a).attr("data-cap"))i=grecaptcha.getResponse(YOPPollReCaptchaElements[v(a).attr("data-uid")]);else switch(v(a).attr("data-cap")){case"3":i=v(a).attr("data-v2-token");break;case"4":i=v(a).attr("data-recaptchav3-token");break;case"5":i=hcaptcha.getResponse(YOPPollHCaptchaElements[v(a).attr("data-uid")]);break;default:i=""}return o="yes"===v(a).attr("data-gdpr")&&"consent"===v(a).attr("data-gdpr-sol")?v(a).find(".input-consent").val():"",{pollId:v(a).attr("data-id"),pollUid:v(a).attr("data-uid"),pageId:v(a).attr("data-pid"),imageCaptcha:v(a).find(".imageField").val(),audioCaptcha:v(a).find(".audioField").val(),reCaptcha:i,trackingId:v(a).attr("data-tid"),gdprConsent:o,data:r,user:{id:s.id,first_name:s.firstName,last_name:s.lastName,email:s.email,type:e,f_data:t}}},f=function(e,a,t){var s=v(e).find(".basic-message").attr("data-success"),i=v(e).find(".basic-message").attr("data-error"),o=v(e).attr("data-notification-section"),a=h(e,a,"",t);return v.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_record_vote",_token:v(e).find('input[name="_token"]').val(),data:JSON.stringify(a)}}).done(function(a){v(e).find(".basic-message").removeClass("show").addClass("hide"),v(e).find(".basic-overlay").addClass("hide"),v(e).find(".basic-gdpr").hide(),v(e).find(".basic-captcha").hide(),!0===a.success?(response=a.data,p(e),""!==response.total_votes&&v(e).find(".basic-stats-votes-number").text(response.total_votes),""!==response.total_answers&&v(e).find(".basic-stats-answers-number").text(response.total_answers),!0===response.rebuild&&d(e,JSON.parse(response.elements)),""!==response.others&&y(e,response.others),!0===response.show_results?(u(e,JSON.parse(response.results)),c(e,JSON.parse(response.results))):(v(e).find(".basic-message").addClass("basic-success").removeClass("hide").css("borderLeftColor",s),v(e).find(".basic-gdpr").show(),v(e).find(".basic-captcha").show(),v(e).find(".basic-message-text").text(objectL10n.yopPollParams.voteParams.thankYou),"2"!==v(e).attr("data-cap")&&"3"!==v(e).attr("data-cap")||grecaptcha.reset(YOPPollReCaptchaElements[v(e).attr("data-uid")]),"top"===o&&YOPPollBasicScrollToMessage(e)),"yes"===response.redirect&&window.setTimeout(function(){window.location.href=response.redirect_to},1e3*response.redirect_after)):(v(e).find(".basic-message").addClass("basic-error").removeClass("hide").css("borderLeftColor",i),v(e).find(".basic-gdpr").show(),v(e).find(".basic-captcha").show(),"2"!==v(e).attr("data-cap")&&"3"!==v(e).attr("data-cap")||grecaptcha.reset(YOPPollReCaptchaElements[v(e).attr("data-uid")]),v(e).find(".basic-message-text").text(a.data),"top"===o&&YOPPollBasicScrollToMessage(e))}).fail(function(a,e){}),1},YOPPollSendBasicVoteWithReCaptchaV2Invisible=function(a,e){var t=v(a).attr("data-access").split(","),s=[];switch(v(a).attr("data-v2-token",e),1===t.length?t[0]:v(a).attr("data-voter")){case"guest":s.id="",s.firstName="",s.lastName="",s.email="",f(a,"anonymous",s);break;case"wordpress":m(a)}},m=function(e){var t=[];v.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",async:!1,data:{action:"yop_poll_is_user_logged_in"},success:function(a){!0===a.success?(t.id="",t.firstName="",t.lastName="",t.email="",f(e,"wordpress",t)):v(e).find(".yop-poll-modal").addClass("active")}})},e=function(a){var e=v(a).closest(".yop-poll-mc"),t=v(a).attr("data-id"),s=v(a).attr("data-tid"),i=v(a).attr("data-pid"),a=v(a).attr("data-show-results-only");v.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_get_poll_for_frontend",poll_id:t,tracking_id:s,page_id:i,show_results:"true"===a?"1":"0"}}).done(function(a){!0===a.success&&(v(e).html(a.data),o(v(e).find(".basic-yop-poll-container")))})},YopPollBasicLoadBuiltInCaptcha=function(a){C[v(a).attr("data-uid")]=v("#yop-poll-captcha-"+v(a).attr("data-uid")).visualCaptcha({imgPath:objectL10n.yopPollParams.captchaParams.imgPath,captcha:{url:objectL10n.yopPollParams.captchaParams.url,numberOfImages:5,namespace:"yop-poll-captcha-"+v(a).attr("data-uid"),routes:{start:"?_a=start",image:"?_a=image",audio:"?_a=audio"},callbacks:{loading:function(a){},loaded:function(a){}}},language:P})},w=function(a){YOPPollBasicLoadReCaptchaV2Interval=setInterval(function(){"function"==typeof grecaptcha.render&&(YOPPollReCaptchaElements[v(a).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+v(a).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptcha.siteKey,theme:"light"}),clearInterval(YOPPollBasicLoadReCaptchaV2Interval))},1e3)},YOPPollBasicLoadReCaptchaV2Invisible=function(e){var a=setInterval(function(){"function"==typeof grecaptcha.render&&(YOPPollReCaptchaElements[v(e).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+v(e).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptchaV2Invisible.siteKey,theme:"light",size:"invisible",callback:function(a){YOPPollSendBasicVoteWithReCaptchaV2Invisible(e,a)}}),clearInterval(a))},1e3)},YOPPollBasicLoadHCaptcha=function(a){YOPPollBasicLoadHCaptchaInterval=setInterval(function(){"function"==typeof hcaptcha.render&&(YOPPollHCaptchaElements[v(a).attr("data-uid")]=hcaptcha.render("yop-poll-captcha-"+v(a).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.hCaptcha.siteKey}),clearInterval(YOPPollBasicLoadHCaptchaInterval))},1e3)},o=function(a){var e=v(a).attr("data-show-results-moment"),t=v(a).attr("data-show-results-only"),s=v(a).attr("data-uid"),i=v(a).attr("data-css"),o=v(a).attr("data-load-with");switch(v(a).attr("data-cap")){case"1":YopPollBasicLoadBuiltInCaptcha(a);break;case"2":"2"===o&&w(a);break;case"3":"2"===o&&YOPPollBasicLoadReCaptchaV2Invisible(a);break;case"5":"2"===o&&YOPPollBasicLoadHCaptcha(a)}void 0!==t&&"true"===t?(p(v(a)),v(a).find(".basic-element").each(function(){("question"===v(this).attr("data-type")?(v(this).find('input[type="radio"]').hide(),v(this).find('input[type="checkbox"]').hide(),v(this).find(".basic-other-answer")):v(this)).hide()}),v(a).find(".basic-gdpr").hide(),v(a).find(".visualCaptcha").hide(),v(a).find(".basic-vote-button").hide(),v(a).find(".basic-results-button").hide(),r(v(a),!1),v(a).find(".basic-back-to-vote-button").hide()):void 0!==e&&-1!==e.indexOf("before-vote")&&("registered"===v(a).attr("data-show-results-to")?n(v(a),"show-results"):l(v(a))),""!==i&&v("head").append('<style type="text/css" id="yop-poll-custom-css-'+s+'">'+i.split("data-uid").join('data-uid="'+s+'"')+"</style>")},v(".yop-poll-container").each(function(){var a=v(this);"1"===v(this).attr("data-ajax")&&e(a)}),v(".basic-yop-poll-container").each(function(){var a=v(this);o(a)}),v("body").on("focus",'.yop-poll-mc input[type="text"][data-type="other-answer"]',function(a){var e=v(this).closest(".basic-question").attr("data-id");v('.basic-yop-poll-container input[name="answer['+e+']"][value="0"]').prop("checked",!0)}),v(".yop-poll-mc").on("blur",'input[type="text"][data-type="other-answer"]',function(){""!==v(this).val().trim()&&v(this).parent(".basic-text").removeClass("has-error")}),v(".yop-poll-mc").on("blur",'input[type="text"][data-type="cfield"]',function(){""!==v(this).val().trim()&&v(this).parent(".basic-custom-field").removeClass("has-error")}),v("body").on("click",".yop-poll-mc .basic-vote-button",function(a){var t,s,i,e=[],o=!1,n=v(this).closest(".basic-yop-poll-container"),r=v(n).attr("data-id"),l=v(n).attr("data-uid"),c=v(n).find(".basic-message").attr("data-error"),d=v(n).attr("data-notification-section");if(""!==r){if(r=v(n).attr("data-access").split(","),v(n).find(".basic-element").each(function(){var a=v(this).attr("data-type"),e=v(this).attr("data-id");switch(a){case"question":t=v(this).attr("data-allow-multiple"),s=v(this).attr("data-min"),i=v(this).attr("data-max"),!1===o&&0===v(this).find('input[name="answer['+e+']"]:checked').length&&(v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswersSelected),v(n).find(".basic-message").addClass("show basic-error"),v(n).find(".basic-message").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n),!1===o&&"yes"===t&&s>v(this).find('input[name="answer['+e+']"]:checked').length&&(v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.minAnswersRequired.replace("{min_answers_allowed}",s)),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n),!1===o&&"yes"===t&&i<v(this).find('input[name="answer['+e+']"]:checked').length&&(v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.maxAnswersRequired.replace("{max_answers_allowed}",i)),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,YOPPollBasicScrollToMessage(n)),!1===o&&1===v(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&""===v(this).find('input[name="other['+e+']"]').val().trim()&&(v(this).find('input[name="other['+e+']"]').focus(),v(this).find('input[name="other['+e+']"]').closest(".basic-text").addClass("has-error"),v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswerForOther),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n);break;case"custom-field":!1===o&&"yes"===v(this).attr("data-required")&&""===v(this).find('.basic-input-text[name="cfield['+e+']"]').val().trim()&&(v(this).addClass("has-error"),v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noValueForCustomField.replace("{custom_field_name}",v(this).find("label").text())),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n)}}),!1===o&&"yes"===v(n).attr("data-gdpr")&&"consent"===v(n).attr("data-gdpr-sol")&&!1===v(n).find(".input-consent").is(":checked")&&(v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.consentNotChecked),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n),!1===o&&"1"===v(n).attr("data-cap")&&!1===C[l].data("captcha").getCaptchaData().valid&&(v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noCaptchaSelected),v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),o=!0,"top"===d)&&YOPPollBasicScrollToMessage(n),!1===o)if(v(n).find(".basic-message").addClass("hide"),v(n).find(".basic-overlay").removeClass("hide"),1===r.length)switch(r[0]){case"guest":if(""!==v(n).attr("data-cap")&&-1!==v.inArray(v(n).attr("data-cap"),["3","4"]))switch(v(n).attr("data-cap")){case"3":grecaptcha.execute(YOPPollReCaptchaElements[l]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){v(n).attr("data-reCaptchaV3-token",a),b(n),e.id="",e.firstName="",e.lastName="",e.email="",f(n,"anonymous",e)})})}else b(n),e.id="",e.firstName="",e.lastName="",e.email="",f(n,"anonymous",e);break;case"wordpress":if(""!==v(n).attr("data-cap")&&-1!==v.inArray(v(n).attr("data-cap"),["3","4"]))switch(v(n).attr("data-cap")){case"3":grecaptcha.execute(YOPPollReCaptchaElements[l]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){v(n).attr("data-reCaptchaV3-token",a),b(n),m(n)})})}else b(n),m(n)}else v(n).find(".basic-preloader").addClass("hide"),v(n).find(".basic-vote-options").removeClass("hide")}else v(n).find(".basic-message").addClass("show basic-error").css("borderLeftColor",c),v(n).find(".basic-overlay").addClass("hide"),v(n).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.invalidPoll);a.preventDefault()}),v("body").on("click",".yop-poll-mc .basic-anonymous",function(a){var e=v(this).closest(".basic-yop-poll-container"),t=v(e).attr("data-uid");if(userProfile=[],b(e),""!==v(e).attr("data-cap")&&-1!==v.inArray(v(e).attr("data-cap"),["3","4"]))switch(v(e).attr("data-cap")){case"3":v(e).attr("data-voter","guest"),grecaptcha.execute(YOPPollReCaptchaElements[t]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){v(e).attr("data-reCaptchaV3-token",a),userProfile.id="",userProfile.firstName="",userProfile.lastName="",userProfile.email="",f(e,"anonymous",userProfile)})})}else userProfile.id="",userProfile.firstName="",userProfile.lastName="",userProfile.email="",f(e,"anonymous",userProfile),a.preventDefault()}),v("body").on("click",".yop-poll-mc .basic-wordpress .basic-wordpress-button",function(a){var e=v(this).closest(".basic-yop-poll-container"),t=v(e).attr("data-uid");if(b(e),""!==v(e).attr("data-cap")&&-1!==v.inArray(v(e).attr("data-cap"),["3","4"]))switch(v(e).attr("data-cap")){case"3":v(e).attr("data-voter","wordpress"),grecaptcha.execute(YOPPollReCaptchaElements[t]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){v(e).attr("data-reCaptchaV3-token",a),m(e)})})}else m(e);a.preventDefault()}),v("body").on("click",".yop-poll-mc .basic-results-button",function(a){var e=v(this).closest(".basic-yop-poll-container");p(e),v(e).find(".basic-gdpr").hide(),v(e).find(".basic-captcha").hide(),v(e).find(".basic-stats").hide(),v(e).find(".basic-vote-button").hide(),v(e).find(".basic-results-button").hide(),v(e).find(".basic-back-to-vote-button").show(),r(e,!0),v(e).find(".basic-message").addClass("hide"),a.preventDefault()}),v("body").on("click",".yop-poll-mc .basic-back-to-vote-button",function(a){var e=v(this).closest(".basic-yop-poll-container"),t=v(e).attr("data-show-results-moment");v(e).attr("data-temp");switch(p(e),v(e).find(".basic-element").each(function(){("question"===v(this).attr("data-type")?(v(this).find('input[type="radio"]').show(),v(this).find('input[type="checkbox"]').show(),v(this).find(".basic-answers").show(),v(this).find(".basic-other-answer")):v(this)).show()}),v(e).find(".basic-message").addClass("hide"),v(e).find(".basic-gdpr").show(),v(e).find(".basic-captcha").show(),v(e).find(".basic-stats").show(),v(e).find(".basic-vote-button").show(),v(e).find(".basic-results-button").show(),v(e).find(".basic-back-to-vote-button").hide(),void 0!==t&&-1!==v(e).attr("data-show-results-moment").indexOf("before-vote")&&(v(e).find(".basic-answer-results-details").remove(),v(e).find(".basic-answer-total-votes").remove(),v(e).find(".progress").remove(),"registered"===v(e).attr("data-show-results-to")?n(v(e),"show-results"):l(e)),v(e).attr("data-cap")){case"2":case"3":grecaptcha.reset(YOPPollReCaptchaElements[v(e).attr("data-uid")]);break;case"5":hcaptcha.reset(YOPPollHCaptchaElements[v(e).attr("data-uid")])}a.preventDefault()}),v("body").on("click",".yop-poll-mc .yop-poll-modal .yop-poll-modal-close",function(a){var e=v(this).closest(".basic-yop-poll-container");v(this).closest(".yop-poll-modal").removeClass("active"),s(e),a.preventDefault()}),v("body").on("click",".yop-poll-mc .yop-poll-modal .yop-poll-login-button",function(a){var e=v(this).closest(".basic-yop-poll-container"),t=v(this).closest(".yop-poll-modal").find(".yop-poll-user-or-email-input").val(),s=v(this).closest(".yop-poll-modal").find(".yop-poll-password-input").val(),i=!0,o=[],n=[],r=0;v(e).find(".yop-poll-modal .yop-poll-modal-content").removeClass("shake"),""===t.trim()&&(i=!1,v(this).closest(".yop-poll-modal").find(".yop-poll-user-or-email-label").addClass("has-error")),!0===i&&""===s.trim()&&(i=!1,v(this).closest(".yop-poll-modal").find(".yop-poll-password-label").addClass("has-error")),!0===i&&(v("body").find('.basic-yop-poll-container[data-id!="'+v(e).attr("data-id")+'"]').each(function(a){n[a]=v(this).attr("data-id")}),v.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",async:!1,data:{action:"yop_poll_login_user",username:t,password:s,_token:v(e).find('input[name="_token"]').val(),pollId:v(e).attr("data-id"),pollsOnPage:n},success:function(a){if(!0===a.success){for(v(e).find(".yop-poll-modal").removeClass("active"),v(e).find('input[name="_token"]').val(a.data._token),r=0;r<a.data.tokens.length;r++)v("body").find('.basic-yop-poll-container[data-id="'+a.data.tokens[r].id+'"] input[name="_token"]').val(a.data.tokens[r].token);o.id="",o.firstName="",o.lastName="",o.email="",f(e,"wordpress",o)}else v(e).find(".yop-poll-modal .yop-poll-modal-content").addClass("shake")}})),a.preventDefault()}),v("body").on("blur",".yop-poll-mc .yop-poll-modal .yop-poll-user-or-email-input",function(a){""!==v(this).val().trim()&&v(this).closest(".yop-poll-form-group").find(".yop-poll-user-or-email-label").removeClass("has-error")}),v("body").on("blur",".yop-poll-mc .yop-poll-modal .yop-poll-password-input",function(a){""!==v(this).val().trim()&&v(this).closest(".yop-poll-form-group").find(".yop-poll-password-label").removeClass("has-error")}),b=function(a){v(a).find(".basic-overlay").find(".basic-vote-options").addClass("hide"),v(a).find(".basic-overlay").find(".basic-preloader").removeClass("hide")},s=function(a){v(a).find(".basic-overlay").find(".basic-vote-options").removeClass("hide"),v(a).find(".basic-overlay").addClass("hide")},window.YOPPollReCaptchaFilled=function(a){},window.YOPPollSendBasicVote=f,window.YOPPollBasicUpdateToken=a});