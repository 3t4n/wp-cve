/*
 * CTRify 
 * (c) ExcursionPass inc 2019 - 2023
 */


var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,r){b.raw=r;return b};
(function(b){function r(a){return tmp=swal({text:a,type:!1,imageUrl:ctrify.loading_icon_url,onOpen:function(){b(swal.getImage()).addClass("rotating")},heightAuto:!1,imageWidth:100,imageHeight:100,imageAlt:a,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,showConfirmButton:!1,width:600})}function q(a,d,f,e){b.ajax({type:"POST",url:"https://www.ctrify.com/api/v3/"+a,data:"params="+d,cache:!1,beforeSend:function(h){h.setRequestHeader("x-site",ctrify.xsite);h.setRequestHeader("x-user",ctrify.xkey);
h.setRequestHeader("x-path",ctrify.xpath);h.setRequestHeader("x-license",ctrify.license_key);h.setRequestHeader("x-version",ctrify.version)},async:"undefined"!==typeof f?f:!0,success:function(h){if("undefined"!==typeof e&&"Restricted."!=h)switch(e){case "ctrify_saveWPCTRForm":x(h,a,!0);break;case "ctrify_processPayment":var n=JSON.parse(h);"ok"==n.status?void 0!=n.url?(localStorage.setItem("pid",n.id),window.location.href=n.url):swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error}):swal({heightAuto:!1,
type:"error",title:ctrify.undocumented_error});break;case "ctify_confirmCapture":var l=JSON.parse(h);n=void 0!=l.status?l.status:l;if("ok"==n)window.location.reload();else switch(n){case "credits":swal({heightAuto:!1,type:"error",title:"You don\u00b4t have enough credits to perform this action. Please buy more."});break;case "save_success":swal({heightAuto:!1,type:"success",title:ctrify.save_success});break;case "notfound":swal({heightAuto:!1,type:"error",title:ctrify.notfound});break;case "rebuild_limit":swal({heightAuto:!1,
type:"error",title:ctrify.rebuild_limit});break;case "tryagain":swal({heightAuto:!1,type:"error",title:l.message});break;default:swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error})}break;case "ctify_printQuestions":A(h,a,!0);break;case "ctrify_processnewCampaign":B(h,a,!0)}"Restricted."==h&&window.location.reload()},error:function(h){if("undefined"!==typeof e)switch(e){case "ctrify_saveWPCTRForm":x(d,a,!1)}}});return"false"}function y(a,d){if(void 0!=a)for(var f=a.options,e=0,h=f.length;e<
h;e++)if(f[e].value==d)return a.selectedIndex=e,!0;return!1}function B(a,d,f){if(1==f)switch(a=JSON.parse(a),a.status){case "ok":swal({heightAuto:!1,type:"success",title:"Your new campaign is now in the process.  It may take a few minutes, to an hour to start posting depending on our backlog jobs load."});setTimeout(function(){window.location.reload()},3E3);break;case "credits":swal({heightAuto:!1,type:"error",title:"You don\u00b4t have enough credits to start a new campaign. Please buy more."});
break;case "prompt":swal({heightAuto:!1,type:"error",title:a.prompt});break;default:swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error})}else swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error})}function C(){Swal.fire({title:"CTRify Platform Account",html:'We have finished the full integration of our WordPress Plugin with our Platform. From now on you will be able to purchase credits for all your CTRify WordPress Plugin licenses and purchase more from one single interface on our platform. <br><br>If you don\u00b4t have an account yet, consider yourself invited to create one! Just <a target="_blank" href="https://www.ctrify.com?invitecode=EdRc6&createaccount=1">click here to create one account</a>.<br><br>Once logged in Go to Billing and then you\u00b4ll find where to purchase credits and licenses on the Buy Credits Tab or <a target="_blank" href="https://www.ctrify.com/account?credits">click here to go now</a><br>.',
confirmButtonText:"OK"}).then(function(a){})}function u(){Swal.fire({title:"Buy Credits",input:"select",inputOptions:ctrify.credits_options,confirmButtonText:"Pay with Paypal",inputValidator:function(a){if(a)setTimeout(function(){r(ctrify.redirecting)},100),q("ctrify_buyCredits",btoa(unescape(encodeURIComponent(JSON.stringify({credits:a,is:ctrify.is,paypal_email:ctrify.paypal_email})))),!0,"ctrify_processPayment");else return"You need to choose something!"}})}function v(a){return"https://res.cloudinary.com/demo/image/upload/q_auto,f_auto/"+
a+"/18882410261_e4f9d25780_b_lked9y.jpg"}function z(){var a='<label for="ctrify_cloudinary_image_options" style="font-weight: bold;">Select Image Effect: </label><select name="ctrify_cloudinary_image_options" id="ctrify_cloudinary_image_options" style="width: 227px;"><option '+(("e_improve"==ctrify.cloudinaryeffect?"selected":"")+' value="e_improve">Improve</option>');a+="<option "+("e_grayscale"==ctrify.cloudinaryeffect?"selected":"")+' value="e_grayscale">Gray Scale</option>';a+="<option "+("e_grayscale/e_tint:50:red"==
ctrify.cloudinaryeffect?"selected":"")+' value="e_grayscale/e_tint:50:red">Duotone Red</option>';a+="<option "+("e_grayscale/e_tint:50:blue"==ctrify.cloudinaryeffect?"selected":"")+' value="e_grayscale/e_tint:50:blue">Duotone Blue</option>';a+="<option "+("e_grayscale/e_tint:50:green"==ctrify.cloudinaryeffect?"selected":"")+' value="e_grayscale/e_tint:50:green">Duotone Green</option>';a+="<option "+("e_sepia:80"==ctrify.cloudinaryeffect?"selected":"")+' value="e_sepia:80">Duotone Sepia</option>';
a+="<option "+("e_hue"==ctrify.cloudinaryeffect?"selected":"")+' value="e_hue">Random Hue</option>';a+="<option "+("a_hflip,e_improve"==ctrify.cloudinaryeffect?"selected":"")+' value="a_hflip,e_improve">Flip Horizontally</option>';return a=a+'</select><img id="cloudimage" src="'+(v("e_improve")+'" style="float: left;width: 400px;margin-right: 36px;">')}function w(){if("https:"!==location.protocol)return swal({heightAuto:!1,type:"error",title:"You need an SSL certificate to allow secure communications with the API between our servers."}),
!1;parseInt(ctrify.campaigns)>=parseInt(ctrify.limit)?(b("#ctrify_newcampaign").addClass("ctrify_limited"),b("#ctrify_newgeneralcampaign").addClass("ctrify_limited")):(b("#ctrify_newcampaign").removeClass("ctrify_limited"),b("#ctrify_newgeneralcampaign").removeClass("ctrify_limited"))}function D(){var a=b("#ctrify_form").serializeArray(),d={};b.map(a,function(f,e){d[f.name.replace("ctrify_","")]=f.value});return d}function x(a,d,f){b(".ctrify_error").removeClass("ctrify_error");if(1==f)if(a=JSON.parse(a),
"ok"==a.status)a=ctrify.nonce_save_settings,a=b("#ctrify_form").serialize()+"&_ajax_nonce="+a+"&action=save_settting_nonce_action",b.post({url:ctrify.ajaxurl,data:a}).always(function(e){swal.close()}).done(function(e){"undefined"!=typeof e.success&&e.success?b.get(window.location.href).always(function(h,n,l){status=l.status;"2"!=status.substr(0,1)?swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error}):(b("#ctrify_review-notification").show(),swal({type:"success",heightAuto:!1,title:ctrify.save_success,
showConfirmButton:!1,timer:1400}),setTimeout(function(){window.location.reload()},1400))}):"undefined"==typeof e.success||e.success?swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error}):swal({heightAuto:!1,type:"error",title:e.data})}).fail(function(e){e.data?swal({type:"error",heightAuto:!1,title:ctrify.documented_error+" "+e.data}):swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error})});else switch(a.status){case "fail_deepl":b("#ctrify_deepl_key").addClass("ctrify_error");
swal({heightAuto:!1,type:"error",title:"Your DeepL API key is not correct, or you have reached your account limit."});b("html, body").animate({scrollTop:b("#ctrify_deepl_key").offset().top-170},2E3);break;case "fail_openai":b("#ctrify_openai_key").addClass("ctrify_error");swal({heightAuto:!1,type:"error",title:"Your OpenAI API key is not correct, or you have reached your account limit or OpenAI is suffering an outage right now."});b("html, body").animate({scrollTop:b("#ctrify_openai_key").offset().top-
170},2E3);break;case "fail_cloudinary":b(".ctrify_cloud_key").addClass("ctrify_error");swal({heightAuto:!1,type:"error",title:"One or more of your Cloudinary API params is not correct, or you have reached your account limit."});b("html, body").animate({scrollTop:b("#ctrify_cloudinary_key").offset().top-170},2E3);break;case "fail_license":swal({heightAuto:!1,type:"error",title:"Your license key is not correct, or you have reached your account limit."});void 0!=document.getElementById("ctrify_license_key")&&
(b("#ctrify_license_key").addClass("ctrify_error"),b("html, body").animate({scrollTop:b("#ctrify_license_key").offset().top-170},2E3));break;case "prompt":swal({heightAuto:!1,type:"error",title:a.prompt});break;default:swal({heightAuto:!1,type:"error",title:a.status})}else swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error});return!1}function A(a,d,f){swal.close();if(1==f)if(a=JSON.parse(a),"ok"==a.status){b(".closed-"+a.key).remove();d=void 0!=a.buttondisabled?"disabled":"";var e='<fieldset class="inline-edit-categories"><div class="inline-edit-col">'+
(void 0!=a.buttondisabled?'<span class="title inline-edit-categories-label">Keywords</span>':'<span class="title inline-edit-categories-label">Questions( <strong><x id="questmarked">0</x> new questions marked for processing</strong> )</span>')+'<ul class="cat-checklist questionschecklist">',h=JSON.parse(a.questions),n=!1;Object.keys(h).forEach(function(l){var p=1==h[l].processed?"checked":"",m=1==h[l].processed?"readonly":"",c=1==h[l].processed?"disabled":"",k=1==h[l].processed?"":"ctrify_procquest";
null==h[l].pid&&""==h[l].manual_process&&(c=p="",k="ctrify_procquest",m="");n=h[l].cid;e+='<li data-position="'+(void 0!=h[l].order?h[l].order:l)+'" id="category-'+l+'"><label class="selectit"><input '+p+" "+m+" "+c+' value="'+l+'" type="checkbox" name="questioncategory[]" id="in-category-'+l+'" class="'+k+'"> '+h[l].question+"</label></li>"});e+="</ul></div></fieldset>";d='<tr class="closed-'+a.key+' inline-edit-row inline-edit-row-post quick-edit-row quick-edit-row-post inline-edit-post inline-editor">\n                            <td colspan="10" class="colspanchange">\n                              <div>'+
e+'</div>\n                              <div class="submit inline-edit-save">\n                                <button toclose="'+a.key+'" type="button" class="ctrify_closeadded button alignleft">Cancel</button>\n                                <button type="button" '+d+' class="button button-primary ctrify_saveprocessselected alignright" capid="'+n+'">Process Selected As Different Posts</button>\n                                <button type="button" '+d+' class="button button-primary ctrify_combineprocessselected alignright" capid="'+
n+'" style="background: #ed9f0f;border: #b57b0f;">Combine Selected As Long Post</button>\n                                <span class="spinner"></span>\n                                <br class="clear">\n                              </div>\n                          </td>\n                      </tr>';b("#post-"+a.key).closest("tr").after(d);b(function(){b(".questionschecklist li").sort(function(l,p){return b(p).data("position")<b(l).data("position")?1:-1}).appendTo(".questionschecklist")})}else"credits"==
a.status?swal({heightAuto:!1,type:"error",title:"You don\u00b4t have enough credits to perform this action. Please buy more."}):swal({heightAuto:!1,type:"error",title:ctrify.undocumented_error})}b(".ctrify_createaccount").on("click",function(a){a.preventDefault();C()});b(".ctrify_noclick").on("click",function(a){a.preventDefault()});b(".ctrify_viewquestions").on("click",function(a){a.preventDefault();setTimeout(function(){r(ctrify.retrieving)},100);a={action:"viewquestions",id:b(this).attr("qid"),
is:ctrify.is};q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_printQuestions")});b(".ctrify_viewkeywords").on("click",function(a){a.preventDefault();setTimeout(function(){r(ctrify.retrieving)},100);a={action:"viewkeywords",id:b(this).attr("qid"),is:ctrify.is};q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_printQuestions")});b(document.body).on("click",".ctrify_closeadded",function(a){a.preventDefault();b(this).closest("tr").remove()});
b(document.body).on("click",".ctrify_procquest",function(a){var d=b(".ctrify_procquest:checkbox:checked");b("#questmarked").html(d.length);a=0;for(d=d.length;a<d;a++);});b(document.body).on("click",".ctrify_saveprocessselected",function(a){a.preventDefault();a=b(".ctrify_procquest:checkbox:checked");for(var d=[],f=0,e=a.length;f<e;f++)d.includes(a[f].value)||d.push(a[f].value);0<d.length&&(setTimeout(function(){r(ctrify.saving)},100),a={action:"addquestions",selected:d,is:ctrify.is,id:b(this).attr("capid")},
q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_confirmCapture"))});b(document.body).on("click",".ctrify_combineprocessselected",function(a){a.preventDefault();a=b(".ctrify_procquest:checkbox:checked");for(var d=[],f=0,e=a.length;f<e;f++)d.includes(a[f].value)||d.push(a[f].value);6<d.length?swal({heightAuto:!1,type:"error",title:"You can\u00b4t combine more that 6 questions"}):(setTimeout(function(){r(ctrify.saving)},100),a={action:"combinequestions",selected:d,
is:ctrify.is,id:b(this).attr("capid")},q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_confirmCapture"))});b(".ctrify_pausecampaign").on("click",function(a){a.preventDefault();setTimeout(function(){r(ctrify.saving)},100);a={action:"pause",id:b(this).attr("capid"),is:ctrify.is};q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_confirmCapture")});b(".ctrify_editcampaign").on("click",function(a){a.preventDefault();setTimeout(function(){r(ctrify.saving)},
100);a={action:"active",id:b(this).attr("capid"),is:ctrify.is};q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctify_confirmCapture")});b(".ctrify_increaselimit").on("click",function(a){var d=this;a.preventDefault();var f=b(this).attr("limit");swal.fire({title:"Increase your limit",input:"number",text:"You need to increase the limit to activate this campaign.",inputValue:f,confirmButtonText:"Increase Limit",confirmButtonColor:"#6eb78a",showCancelButton:!0,cancelButtonColor:"rgb(230, 141, 83)",
reverseButtons:!0,inputValidator:function(e){return new Promise(function(h){if(parseInt(e)>parseInt(ctrify.credits))h("You need more credits to reach that new limit. With your current credits you can increase the limit up to a maximun of "+ctrify.credits);else if(parseInt(e)<parseInt(f))h("You need to increase the limit to more than your current limit of "+f);else if(parseInt(e)==parseInt(f))h("The new limit is the same as the old limit");else if(""!=e){setTimeout(function(){r(ctrify.saving)},100);
var n={action:"uplimit",newlimit:e,id:b(d).attr("capid"),is:ctrify.is};q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(n)))),!0,"ctify_confirmCapture");h()}})}})});b(".upgrade").on("click",function(a){a.preventDefault();a=b(this).attr("href");"#"==a?q("rebuildUpdate",!1,!0,"ctify_confirmCapture"):a.includes("update.php")?window.location.href=a:window.open(a,"_blank")});b("#ctrify_doactioncampaign").on("click",function(a){a.preventDefault();var d=[];"trash"==b("#bulk-action-selector-bottom").val()&&
(b("input:checkbox.campaignsins").each(function(){sThisVal=this.checked?b(this).val():"";""!=sThisVal&&(b("#post-"+sThisVal).hide(),d.push(sThisVal))}),0<d.length&&(q("deleteCampaigns",btoa(unescape(encodeURIComponent(JSON.stringify({campaigns:d,is:ctrify.is,action:"delete"})))),!0),Swal.fire("Deleted!","Your file has been deleted.","success"),setTimeout(function(){window.location.reload()},3E3)))});b("#ctrify_doactiontransfer").on("click",function(a){a.preventDefault();var d=[];"credits"==b("#bulk-action-selector-credits").val()&&
(b("input:checkbox.domainsins").each(function(){sThisVal=this.checked?b(this).val():"";""!=sThisVal&&d.push(sThisVal)}),0<d.length&&(a={sources:d,is:ctrify.is,action:"transfer"},console.log(a),q("transferCredits",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0),Swal.fire("Transfered!","Your credits had been transfered!","success"),setTimeout(function(){window.location.reload()},1400)))});b(".ctrify_buycredits").on("click",function(a){a.preventDefault();if("https:"!==location.protocol)return swal({heightAuto:!1,
type:"error",title:"You need an SSL certificate to allow secure communications with the API between our servers."}),!1;void 0==ctrify.paypal_email||""==ctrify.paypal_email?(b("#ctrify_paypal_email").addClass("error"),swal({heightAuto:!1,type:"error",title:"Add your Paypal email on the settings"}),b("html, body").animate({scrollTop:b("#ctrify_paypal_email").offset().top-170},2E3)):(b("#ctrify_paypal_email").removeClass("error"),u())});1==b("#ctrify_publish_newposts").prop("checked")?b("#ctrify_schedule_newposts").prop("disabled",
!1):(b("#ctrify_schedule_newposts").prop("disabled",!0),y(document.getElementById("ctrify_schedule_newposts"),"no"));b(document.body).on("change","#ctrify_publish_newposts",function(a){1==b("#ctrify_publish_newposts").prop("checked")?b("#ctrify_schedule_newposts").prop("disabled",!1):(b("#ctrify_schedule_newposts").prop("disabled",!0),y(document.getElementById("ctrify_schedule_newposts"),"no"))});b(document.body).on("change","#ctrify_cloudinary_image_options",function(a){b("#cloudimage").attr("src",
v(b(this).val()))});1==b("#ctrify_featured_images").prop("checked")?(b("#ctrify_cloudinary_options").html(z()),b("#cloudimage").attr("src",v(ctrify.cloudinaryeffect))):b("#ctrify_cloudinary_options").html("");b(document.body).on("change","#ctrify_featured_images",function(a){"no"==ctrify.cloudinaryON?(b(".ctrify_cloud_key").addClass("error"),swal({heightAuto:!1,type:"error",title:"You need to add your Cloudinary API params first."}),b("html, body").animate({scrollTop:b("#ctrify_cloudinary_key").offset().top-
170},2E3),b("#ctrify_featured_images").prop("checked",!1)):1==b("#ctrify_featured_images").prop("checked")?b("#ctrify_cloudinary_options").html(z()):b("#ctrify_cloudinary_options").html("")});b(document.body).on("click","#ctrify_newclustercampaign",function(a){a.preventDefault();w();if(b(this).hasClass("ctrify_buycredits"))return u(),!1;if(b(this).hasClass("ctrify_limited"))return swal({heightAuto:!1,type:"warning",title:ctrify.limited}),!1;var d=!1,f=!1,e="off",h=!1,n=!1,l=!1;a=["1"];var p=!1,m=
[{title:"Research Language",html:"<br>This is the language of research. You will be able to generate the content in the same language of the research or in another language at the moment of creating the post if you have the <strong>DeepL API option active</strong>.",input:"select",inputPlaceholder:"Select a Language",inputOptions:{en_US:"English",es_ES:"Spanish"},inputValidator:function(c,k){return new Promise(function(g){if(""!=c){var t=c.split("_");h=t[0];p="es"==t[0]?"Spanish":"English";g()}else g("You need to select one language")})}}];
m.push({title:"Main Title Keyword",html:'<div style="text-align:justify;"><br>Write the main title, question or long tail keyword. Our AI will learn all about it and will generate related content.<br><br> On the next step you will provide a set of subtitles or cluster keywords. It will generate a full post including all of them </div><br><br><label><strong>Main Title Keyword</strong></label>',inputValidator:function(c){return!c&&"You need to provide one main keyword in "+p}});a.push(a.length+1);m.push({title:"Cluster keywords",
input:"textarea",html:'<div style="text-align:justify;">Please add one by line and up to 6 maxium. Write subtitles, related questions, or clustered long-tail keywords. The AI will generate content for them and will be included in the final post following the same order.</div>',inputValidator:function(c){return new Promise(function(k){var g=c.split(/\r?\n/);0<g.length&&7>g.length&&""!=g[0]?k():""==g[0]?k("You need to provide at least one subtitle, question or cluster long-tail keyword"):k("You can write a maxium of 6 lines with subtitles, questions or cluster long-tail keywords")})}});
a.push(a.length+1);m.push({title:"Negative keywords",input:"textarea",html:'<div style="text-align:justify;">Some keywords may have more than one meaning and you may want to discard posts creation for not desired meanings. Ej "Will Smith" can be the actor or well the baseball pitcher. So if you like that posts to be related to the baseball player you would like to add as negative keywords "movies, Netflix" etc<br><br> Add them here if you like, <b>one keyword by line</b>, and post that include those keywords won\u00b4t be included in your campaign. <br><br>You can leave it blank now and add them later if you found some not desired keywords on your campaign. But adding them now may save you some credits.</div>',
inputValidator:function(c){}});a.push(a.length+1);"yes"==ctrify.isPost&&(m.push({title:"Select the Category",html:"<br>Select a the category where new posts will be asigned.",input:"select",inputPlaceholder:"Select a Category",inputOptions:ctrify.categories,inputValidator:function(c,k){return new Promise(function(g){""!=c?(n=c,l=k,g()):g("You need to select one category, or uncategorized")})}}),a.push(a.length+1));"yes"==ctrify.openaiON&&(m.push({title:"Use OpenAI Language models for improved content generation?",
html:"<br>Just Select if you want to use it or not for this campaign. We take care of selecting the best language models.",input:"select",inputPlaceholder:"Use OpenAI to generate the content?",inputOptions:{on:"Yes use OpenAI",off:"No, don\u00b4t use OpenAI"},inputValidator:function(c,k){return new Promise(function(g){""!=c?(e=c,g()):g("You need to select one option")})}}),a.push(a.length+1));"yes"==ctrify.deeplON?m.push({title:"Translate with DeepL?",html:"<br>Select a language to translate the final post to, or click next without select a language to create the post on the localized language selected on the previous step.",
input:"select",inputPlaceholder:"Translate To...",inputOptions:ctrify.langs,inputValidator:function(c,k){return new Promise(function(g){""!=c?c==h?g("You can\u00b4t translate the post to the same language it is produced. Pick another one or select none"):(f=c,g()):g()})}}):m.push({title:"Select Post Language",html:"<br>Select a language for the final post to, or click next without select a language to create the post on the localized learning language selected on the previous step.",input:"select",
inputPlaceholder:"Create Final Post in ...",inputOptions:ctrify.langs,inputValidator:function(c,k){return new Promise(function(g){""!=c?c==h?g("This is the same language as the learning. Pick another one or select none if you like the post on the learning language"):(f=c,g()):g()})}});a.push(a.length+1);swal.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,reverseButtons:!0,progressSteps:a}).queue(m).then(function(c){c.value&&(d=c.value,swal.fire({title:"All ready!",html:'<br><div style="text-align:justify;">\n                     You are about to create a post for:<br><br> <strong> '+
c.value[1]+" </strong>  "+(""!=c.value[1]?"<br><br><b>And aditional texts for the following keywords:</b><br><ul>":"")+" "+(""!=c.value[2]?c.value[2].split("\n").map(function(k){return"<li>"+k+"</li>"}).join(""):"")+"</ul><br>\n              ",confirmButtonText:"Create Campaign!",confirmButtonColor:"#6eb78a",showCancelButton:!0,cancelButtonColor:"rgb(230, 141, 83)",reverseButtons:!0}).then(function(k){k.value&&(k={type:"cluster",country:d[0],keyword:d[1],clusters:""!=d[2]?d[2].split(/\r?\n/):"",negatives:""!=
d[3]?d[3].split(/\r?\n/):"",limit:d[4],is:ctrify.is,translateTo:f,useOpenAI:e,catID:n,catName:l},q("createCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(k)))),!0,"ctrify_processnewCampaign"))}))})});b(document.body).on("click","#ctrify_newgeneralcampaign",function(a){a.preventDefault();w();if(b(this).hasClass("ctrify_buycredits"))return u(),!1;if(b(this).hasClass("ctrify_limited"))return swal({heightAuto:!1,type:"warning",title:ctrify.limited}),!1;var d=!1,f=!1,e="off",h=!1,n=!1,l=!1,p=
!1;l=!1;a=["1"];var m=[{title:"Research Language",html:"<br>This is the language of research. You will be able to generate the content in the same language of the research or in another language at the moment of creating the post if you have the <strong>DeepL API option active</strong>.",input:"select",inputPlaceholder:"Select a Language",inputOptions:{en_US:"English",es_ES:"Spanish"},inputValidator:function(c,k){return new Promise(function(g){""!=c?(p=c.split("_")[0],g()):g("You need to select one language")})}}];
m.push({title:"Posts keywords",input:"textarea",html:'<div style="text-align:justify;">Write one keyword or question per line. Our AI will generate a new post based on each given keyword, or will answer each question.</div>',inputValidator:function(c){return new Promise(function(k){var g=c.split(/\r?\n/);0<g.length&&""!=g[0]?k():k("You need to provide at least one keyword or question")})}});a.push(a.length+1);m.push({title:"Negative keywords",input:"textarea",html:'<div style="text-align:justify;">Some keywords may have more than one meaning and you may want to discard posts creation for not desired meanings. Ej "Will Smith" can be the actor or well the baseball pitcher. So if you like that posts to be related to the baseball player you would like to add as negative keywords "movies, Netflix" etc<br><br> Add them here if you like, <b>one keyword by line</b>, and post that include those keywords won\u00b4t be included in your campaign. <br><br>You can leave it blank now and add them later if you found some not desired keywords on your campaign. But adding them now may save you some credits.</div>',
inputValidator:function(c){}});a.push(a.length+1);l&&(m.push({title:"Words limit",input:"number",inputValue:250,html:"This is an approximate maximum value. Posts lengths may vary from keyword to keyword based on the subject and information available. We can\u00b4t control the m\u00ednimum, but you can control the approximate maximum number of words per post. Article length can be a bit less or a bit more depending on the subject and the end of paragraphs to avoid cuts.",inputValidator:function(c){if(250>
c)return"The minimun limit is 250 words per posts.";l=c}}),a.push(a.length+1));"yes"==ctrify.isPost&&(m.push({title:"Select the Category",html:"<br>Select a the category where new posts will be asigned.",input:"select",inputPlaceholder:"Select a Category",inputOptions:ctrify.categories,inputValidator:function(c,k){return new Promise(function(g){""!=c?(h=c,n=k,g()):g("You need to select one category, or uncategorized")})}}),a.push(a.length+1));"yes"==ctrify.openaiON&&(m.push({title:"Use OpenAI Language models for improved content generation?",
html:"<br>Just Select if you want to use it or not for this campaign. We take care of selecting the best language models.",input:"select",inputPlaceholder:"Use OpenAI to generate the content?",inputOptions:{on:"Yes use OpenAI",off:"No, don\u00b4t use OpenAI"},inputValidator:function(c,k){return new Promise(function(g){""!=c?(e=c,g()):g("You need to select one option")})}}),a.push(a.length+1));"yes"==ctrify.deeplON?m.push({title:"Translate with DeepL?",html:"<br>Select a language to translate the final post to, or click next without select a language to create the post on the localized learning language selected on the previous step.",
input:"select",inputPlaceholder:"Translate To...",inputOptions:ctrify.dlangs,inputValidator:function(c,k){return new Promise(function(g){""!=c?c==p?g("You can\u00b4t translate the post to the same language it is produced. Pick another one or select none"):(f=c,g()):g()})}}):m.push({title:"Select Post Language",html:"<br>Select a language for the final post to, or click next without select a language to create the post on the localized learning language selected on the previous step.",input:"select",
inputPlaceholder:"Create Final Post in ...",inputOptions:ctrify.langs,inputValidator:function(c,k){return new Promise(function(g){""!=c?c==p?g("This is the same language as the learning. Pick another one or select none if you like the post on the learning language"):(f=c,g()):g()})}});a.push(a.length+1);swal.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,reverseButtons:!0,progressSteps:a}).queue(m).then(function(c){c.value&&(d=c.value,swal.fire({title:"All ready!",html:'<br><div style="text-align:justify;">\n                     You are about to create one post for each of following keywords: </b><br><ul> '+
(""!=c.value[1]?c.value[1].split("\n").map(function(k){return"<li>"+k+"</li>"}).join(""):"")+"</ul><br> You understand that "+ctrify.credits_per_word+" credits per word will be expended for each generated post<br>.\n              ",confirmButtonText:"Create Campaign!",confirmButtonColor:"#6eb78a",showCancelButton:!0,cancelButtonColor:"rgb(230, 141, 83)",reverseButtons:!0}).then(function(k){k.value&&(r(ctrify.saving),k={type:"keyword",country:d[0],keywords:""!=d[1]?d[1].split(/\r?\n/):"",negatives:""!=
d[2]?d[2].split(/\r?\n/):"",translateTo:f,useOpenAI:e,wordslimit:l,is:ctrify.is,catID:h,catName:n},q("createCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(k)))),!0,"ctrify_processnewCampaign"))}))})});b(document.body).on("click","#ctrify_newcampaign",function(a){a.preventDefault();w();if(b(this).hasClass("ctrify_buycredits"))return u(),!1;if(b(this).hasClass("ctrify_limited"))return swal({heightAuto:!1,type:"warning",title:ctrify.limited}),!1;var d=!1,f=!1,e="off",h=!1,n=!1;a=["1"];var l=
!1,p=!1,m=[{title:"Research Language",html:"<br>This is the language of research. You will be able to generate the content in the same language of the research or in another language at the moment of creating the post if you have the <strong>DeepL API option active</strong>.",input:"select",inputPlaceholder:"Select a Language",inputOptions:{en_US:"English",es_ES:"Spanish"},inputValidator:function(c,k){return new Promise(function(g){if(""!=c){var t=c.split("_");p=t[0];l="es"==t[0]?"Spanish":"English";
g()}else g("You need to select one language")})}}];m.push({title:"Write the main keyword",html:'<div style="text-align:justify;"><br>Our AI will learn all about the given keyword and will generate all possible questions people ask around it, and their respective answers.<br><br> You can generate a posts later selection on the campaigns menu what questions you like to be answered and converted into a post.</div><br><br><label><strong>Main Keyword</strong></label>',inputValidator:function(c){return!c&&
"You need to provide one keyword in "+l}});a.push(a.length+1);m.push({title:"Negative keywords",input:"textarea",html:'<div style="text-align:justify;">Some questions may include not desired keywords. Add them here if you like, <b>one keyword by line</b>, and questions that include those keywords won\u00b4t be included in your campaign. <br><br>You can leave it blank now and add them later if you found some not desired keywords on your campaign questions. But adding them now may save you some credits.</div>',
inputValidator:function(c){}});a.push(a.length+1);m.push({title:"Questions process limit",input:"number",inputValue:ctrify.min_questions,html:"How many questions do you like to gather to start? You will be able to increase that limit later.",inputValidator:function(c){if(c<ctrify.min_questions)return"The minimun quantity are "+ctrify.min_questions+" questions."}});a.push(a.length+1);"yes"==ctrify.isPost&&(m.push({title:"Select the Category",html:"<br>Select a the category where new posts will be asigned.",
input:"select",inputPlaceholder:"Select a Category",inputOptions:ctrify.categories,inputValidator:function(c,k){return new Promise(function(g){""!=c?(h=c,n=k,g()):g("You need to select one category, or uncategorized")})}}),a.push(a.length+1));"yes"==ctrify.openaiON&&(m.push({title:"Use OpenAI Language models for improved content generation?",html:"<br>Just Select if you want to use it or not for this campaign. We take care of selecting the best language models.",input:"select",inputPlaceholder:"Use OpenAI to generate the content?",
inputOptions:{on:"Yes use OpenAI",off:"No, don\u00b4t use OpenAI"},inputValidator:function(c,k){return new Promise(function(g){""!=c?(e=c,g()):g("You need to select one option")})}}),a.push(a.length+1));"yes"==ctrify.deeplON?m.push({title:"Translate with DeepL?",html:"<br>Select a language to translate the final post to, or click next without select a language to create the post on the localized language selected on the previous step.",input:"select",inputPlaceholder:"Translate To...",inputOptions:ctrify.langs,
inputValidator:function(c,k){return new Promise(function(g){""!=c?c==p?g("You can\u00b4t translate the post to the same language it is produced. Pick another one or select none"):(f=c,g()):g()})}}):m.push({title:"Select Post Language",html:"<br>Select a language for the final post to, or click next without select a language to create the post on the localized learning language selected on the previous step.",input:"select",inputPlaceholder:"Create Final Post in ...",inputOptions:ctrify.langs,inputValidator:function(c,
k){return new Promise(function(g){""!=c?c==p?g("This is the same language as the learning. Pick another one or select none if you like the post on the learning language"):(f=c,g()):g()})}});a.push(a.length+1);swal.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,reverseButtons:!0,progressSteps:a}).queue(m).then(function(c){c.value&&(d=c.value,swal.fire({title:"All ready!",html:'<br><div style="text-align:justify;">\n                     You are about to create a capaign for the keyword:<br><br> <strong> '+
c.value[1]+" </strong> with a limit of <strong> "+c.value[3]+" </strong> processed questions "+(""!=c.value[1]?"<br><br><b>Negative Keywords:</b><br><br>":"")+" "+(""!=c.value[2]?c.value[2].split("\n").map(function(k){return"<li>"+k+"</li>"}).join(""):"")+"<br><br>\n              ",confirmButtonText:"Create Campaign!",confirmButtonColor:"#6eb78a",showCancelButton:!0,cancelButtonColor:"rgb(230, 141, 83)",reverseButtons:!0}).then(function(k){k.value&&(k={type:"question",country:d[0],keyword:d[1],negatives:""!=
d[2]?d[2].split(/\r?\n/):"",limit:d[3],autoAnswear:!1,is:ctrify.is,translateTo:f,useOpenAI:e,catID:h,catName:n},q("createCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(k)))),!0,"ctrify_processnewCampaign"))}))})});b(document.body).on("click",".ctrify_learn_more",function(a){a.preventDefault();(a=void 0!=ctrify.learn_more[b(this).attr("tp")]?ctrify.learn_more[b(this).attr("tp")]:!1)&&window.open(a,"_blank")});(function(){b(".ctrify_learn_more").hide();void 0!=ctrify.learn_more&&Object.keys(ctrify.learn_more).forEach(function(a){b(".more_"+
a).show()})})();b(".ctrify_save_settings").on("click",function(a){a.preventDefault();if("https:"!==location.protocol)return swal({heightAuto:!1,type:"error",title:"You need an SSL certificate to allow secure communications with the API between our servers."}),!1;r(ctrify.saving);a=D();q("testApiKeys",btoa(unescape(encodeURIComponent(JSON.stringify(a)))),!0,"ctrify_saveWPCTRForm")});b.ctify_QueryString=function(){for(var a={},d=window.location.search.substring(1).split("&"),f=0;f<d.length;f++){var e=
d[f].split("=");if("undefined"===typeof a[e[0]])a[e[0]]=decodeURIComponent(e[1]);else if("string"===typeof a[e[0]]){var h=[a[e[0]],decodeURIComponent(e[1])];a[e[0]]=h}else a[e[0]].push(decodeURIComponent(e[1]))}return a}();if(void 0!=b.ctify_QueryString.paypal&&"cancel"!=b.ctify_QueryString.paypal){var E={payerID:b.ctify_QueryString.PayerID,authtoken:b.ctify_QueryString.token,what:b.ctify_QueryString.paypal,sid:localStorage.pid,token:ctrify.is,paypal_email:ctrify.paypal_email};setTimeout(function(){r(ctrify.retrieving)},
100);q("doCapture",btoa(unescape(encodeURIComponent(JSON.stringify(E)))),!0,"ctify_confirmCapture")}(function(){var a=window.location.href.includes("edit.php")?window.location.href:window.location.href.split("?")[0].split("#")[0]+"?page=ctrify-settings";window.history.replaceState({html:a,pageTitle:document.title},"",a);window.addEventListener("popstate",function(d){history.pushState(null,document.title,location.href)})})();b(document.body).on("click",".requestctriftreview",function(a){a.preventDefault();
var d={};a=b(this).parent("span").parent("div").children("span").children("a").attr("href").split("?")[1].split("&");for(var f=0;f<a.length;f++){var e=a[f].split("=");if("undefined"===typeof d[e[0]])d[e[0]]=decodeURIComponent(e[1]);else if("string"===typeof d[e[0]]){var h=[d[e[0]],decodeURIComponent(e[1])];d[e[0]]=h}else d[e[0]].push(decodeURIComponent(e[1]))}var n=!1;a=["1"];f=[];f.push({title:"Negative keywords",input:"textarea",html:'<div style="text-align:justify;"><br><br>If the post has included a not relevant topic you can add negative keywords to avoid touching the same things during the rebuild. <br><br> Some keywords may have more than one meaning and you may want to discard posts creation for not desired meanings. Ej "Will Smith" can be the actor or well the baseball pitcher. So if you like that posts to be related to the baseball player you would like to add as negative keywords "movies, Netflix" etc<br><br> Add them here if you like, <b>one keyword by line</b>, and those keywords won\u00b4t be included on the new rebuilded post.  <br><br>You can leave it blank now it is not the case.</div>',
inputValidator:function(l){}});a.push(a.length+1);swal.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,reverseButtons:!0,progressSteps:a}).queue(f).then(function(l){l.value&&(n=l.value,swal.fire({title:"All ready!",html:'<br><div style="text-align:justify;">\n               You are about to rebuild this post. '+(""!=l.value[0]?"<br><br><b>Negative Keywords:</b><br><br>":"")+" "+(""!=l.value[0]?l.value[0].split("\n").map(function(p){return"<li>"+p+"</li>"}).join(""):"")+"<br><br>\n        ",
confirmButtonText:"Rebuild Post!",confirmButtonColor:"#6eb78a",showCancelButton:!0,cancelButtonColor:"rgb(230, 141, 83)",reverseButtons:!0}).then(function(p){p.value&&(p={type:"rebuild",is:ctrify.is,negatives:""!=n[0]?n[0].split(/\r?\n/):"",post:d.post},q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(p)))),!0,"ctify_confirmCapture"))}))})});b(document.body).on("click",".ctrify_guestpost",function(a){a.preventDefault();a=["1"];var d=[];d.push({title:"<br>"+ctrify.metrics_title,
html:'<div style="text-align:justify">'+ctrify.metrics_intro+"</div>",input:"checkbox",inputPlaceholder:" YES! I Want to know more",inputValidator:function(f){return!f&&"Please confirm that you want."}});d.push({title:"Tell us about your Blog",input:"textarea",inputValue:localStorage.getItem("brief"),html:'<div style="text-align:justify;">Write a brief introduction about what your blog is all about. If you update it often, etc. This is the second thing a potential buyer will read and must be attractive.</div>',
inputValidator:function(f){localStorage.setItem("brief",f);return(!f||155>f.length)&&"That is too short...Please write a good briefing, at least 165 characters. You can come back later if you are in a rush now. Is your blog;)"}});a.push(a.length+1);d.push({title:"Your current SEO metrics",input:"checkbox",html:'<div style="text-align:justify;">\n\n                  '+ctrify.metrics_result+'\n                  <br>\n                  <div style="font-size: 20px;"> <a href="https://ahrefs.com/site-explorer/overview/v2/subdomains/recent?target='+
ctrify.xsite+'" target="_blank"><img src="https://www.ctrify.com/img/ahrefs.png"  width="50"></a> <span>DR</span> <strong>'+ctrify.ahref_domain_rating+"</strong> <span>  |  </span> <span>RD</span> <strong>"+ctrify.domains_backlinking+"</strong> <span>  |  </span> <span>OT</span> <strong>"+ctrify.montly_visitors+'</strong> </div>\n                  <br>\n                  <div class="explain" style="font-size: 12px;">\n                      <strong>DR:</strong> Domain Rating metric that values the SEO quality of a website from 0 to 100<br>\n                      <strong>RD:</strong> Indicates the number of referring domains<br>\n                      <strong>OT:</strong> Organic traffic according to Ahrefs<br>\n                  </div>\n                  <br>\n                  <div style="font-size: 20px;"> <a href="https://es.majestic.com/reports/site-explorer?q='+
ctrify.xsite+"&amp;oq="+ctrify.xsite+'&amp;IndexDataSource=F" target="_blank"><img src="https://www.ctrify.com/img/majestic.png" width="50"></a> <span>CF</span> <strong>'+ctrify.majestic_citation_flow+"</strong>  <span> | </span>  <span>TF</span> <strong>"+ctrify.majestic_trust_flow+'</strong>  <span> </span>  </div>\n                  <br>\n                  <div class="explain" style="font-size: 12px;">\n                      <strong>CF:</strong> Citation Flow metric that values from 0 to 100 the number of links a website has<br>\n                      <strong>TF:</strong> Trust Flow, is a metric that values from 0 to 100 the quality of the links that a website has<br>\n                  </div>\n                  <br>\n                  <div style="font-size: 20px;"> <a href="https://moz.com/domain-analysis?site='+
ctrify.xsite+'" target="_blank"><img src="https://www.ctrify.com/img/moz.png"  width="50"></a> <span>DA</span> <strong>'+ctrify.moz_domain_authority+'</strong> <span> </span> </div>\n                  <br>\n                  <div class="explain" style="font-size: 12px;">\n                  <strong>DA:</strong> Domain Authority is a metric that values the SEO quality of a complete domain from 0 to 100<br>\n              </div>\n                <h4 style="text-align: center;">'+ctrify.metrics_result_help+
"</h4>\n\n          </div>",inputPlaceholder:ctrify.metrics_result_button,inputValidator:function(f){return!f&&"Please confirm that!"}});a.push(a.length+1);swal.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,reverseButtons:!0,progressSteps:a}).queue(d).then(function(f){f.value&&swal.fire({title:"All ready!",html:'<br><div style="text-align:justify;">\n                          One of our SEOs will check your website and We will email you soon at <strong>'+ctrify.xkey+"</strong> with step by step instructions to improve those rankings!<br><br>\n                        ",
confirmButtonText:"Ok!",confirmButtonColor:"#6eb78a",showCancelButton:!1,cancelButtonColor:"rgb(230, 141, 83)",reverseButtons:!0}).then(function(e){e.value&&(e={type:"selllinks",brief:localStorage.getItem("brief"),is:ctrify.is},q("updateSEOCampaign",btoa(unescape(encodeURIComponent(JSON.stringify(e)))),!0))})})})})(jQuery);
