!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";jQuery.noConflict(),jQuery((function(){({droppable:null,draggable:null,product_attributes:null,variation_attributes:null,logical_conditions:null,price_mod_conditions:null,groups:null,product_categories:null,product_tax_classes:null,variation_tax_classes:null,downloader:null,xml_view:null,xml_variation_view:null,preview_csv:null,preview_xml:null,preview_variation_xml:null,navigator:null,variation_navigator:null,csv_converter:null,xml_converter:null,import:null,fixed_sidebar:null,variation_popup:null,init_droppable:function(){this.droppable=new DroppableElements,this.droppable.init()},init_draggable:function(){this.draggable=new DraggableElements,this.draggable.init()},init_product_attributes:function(){var e=this;e.product_attributes=new MultiFormField({button_selector:"#add_attribute",template:jQuery("#product_attributes .single-item:first"),wrapper_selector:"#attributes-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_attributes.init(),jQuery("#product_attributes .single-item").length>0&&jQuery("#product_attributes .single-item").each((function(t){e.product_attributes.remove_listener(jQuery(this))}))},init_variation_attributes:function(){var e=this;e.variation_attributes=new MultiFormField({button_selector:"#add_variation_attribute",template:jQuery("#variation-attributes-wrapper .single-item:first"),wrapper_selector:"#variation-attributes-wrapper",callback:function(){e.droppable.refresh_element()}}),e.variation_attributes.init(),jQuery("#variation-attributes-wrapper .single-item").length>0&&jQuery("#variation-attributes-wrapper .single-item").each((function(t){e.variation_attributes.remove_listener(jQuery(this))}))},init_logical_conditions:function(){var e=this,t=jQuery("#dropshipping-logical-conditions").closest("tr");jQuery("#turn_logical_condition").on("change",(function(){jQuery(this).is(":checked")?t.removeClass("hidden"):t.addClass("hidden")})),jQuery("#turn_logical_condition").trigger("change"),e.logical_conditions=new MultiFormField({button_selector:".add-condition",template:jQuery("#dropshipping-logical-conditions > .single-condition:first"),wrapper_selector:"#dropshipping-logical-conditions",remove_button_selector:".remove-condition",single_item_class:".single-condition",callback:function(t,i){jQuery(".conditional-value-type").trigger("change"),e.droppable.refresh_element()}}),e.logical_conditions.init(),e.init_conditional_values(),jQuery("#dropshipping-logical-conditions .single-condition").length>0&&jQuery("#dropshipping-logical-conditions .single-condition").each((function(t){e.logical_conditions.remove_listener(jQuery(this))}))},init_conditional_values:function(){jQuery(document).on("change",".conditional-value-type",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".flex-row");t.find(".field-wrapper").addClass("hidden"),t.find('.field-wrapper[data-value="'+e+'"]').removeClass("hidden")})),jQuery(".conditional-value-type").trigger("change")},init_price_mod_conditions:function(){var e=this;e.price_mod_conditions=new MultiFormField({button_selector:".add-condition",template:jQuery(jQuery("#condition-template").html()),wrapper_selector:".price-mod-conditions",remove_button_selector:".remove-condition",single_item_class:".single-condition",before_append_callback:function(e,t){var i=0;t.closest(".price-mod-group").find(".group-counter").length>0&&(i=parseInt(t.closest(".price-mod-group").find(".group-counter").html()));var n=new RegExp("\\[0\\]","gm"),o=e.html().replace(n,"["+i+"]");return jQuery(o)},callback:function(t,i){jQuery(".conditional-value-type").trigger("change"),e.droppable.refresh_element()}}),e.price_mod_conditions.init(),e.init_conditional_values(),jQuery(".price-mod-conditions .single-condition").length>0&&jQuery(".price-mod-conditions .single-condition").each((function(t){e.price_mod_conditions.remove_listener(jQuery(this))}))},init_price_groups:function(){var e=this;e.groups=new MultiFormField({button_selector:".add-group",template:jQuery(jQuery("#groups-template").html()),wrapper_selector:"#price-mod-groups",remove_button_selector:".remove-group",single_item_class:".price-mod-group",before_append_callback:function(e,t){var i=0;jQuery("#price-mod-groups").find(".group-counter").last().length>0&&(i=parseInt(jQuery("#price-mod-groups").find(".group-counter").last().html())),i+=1,e.find(".group-counter").html(i);var n=new RegExp("\\[0\\]","gm"),o=e.html().replace(n,"["+i+"]");return jQuery(o)},callback:function(t,i){jQuery(".conditional-value-type").trigger("change"),e.droppable.refresh_element(),e.groups.remove_listener(t)}}),e.groups.init(),jQuery("#price-mod-groups .price-mod-group").length>0&&jQuery("#price-mod-groups .price-mod-group").each((function(t){e.groups.remove_listener(jQuery(this))}))},init_product_categories:function(){var e=this,t=jQuery("#category_map_import_id"),i=jQuery("#form-field-auto-create-category");this.product_categories=new MultiFormField({button_selector:"#add_category",template:jQuery("#categories-wrapper .single-item:first"),wrapper_selector:"#categories-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_categories.init(),jQuery("#categories-wrapper .single-item").length>0&&jQuery("#categories-wrapper .single-item").each((function(t){e.product_categories.remove_listener(jQuery(this))})),t.on("change",(function(n){e.change_field_state(t.is(":checked"),i,"form-field-disabled")})),t.is(":checked")&&e.change_field_state(t.is(":checked"),i,"form-field-disabled")},change_field_state:function(e,t,i){e?t.addClass(i):t.removeClass(i)},init_product_tax_classes:function(){var e=this;this.product_tax_classes=new MultiFormField({button_selector:"#add_tax_class",template:jQuery("#tax-class-wrapper .single-item:first"),wrapper_selector:"#tax-class-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_tax_classes.init(),jQuery("#tax-class-wrapper .single-item").length>0&&jQuery("#tax-class-wrapper .single-item").each((function(t){e.product_tax_classes.remove_listener(jQuery(this))}))},init_downloader:function(){this.downloader=new DownloadFile,this.downloader.init()},init_xml_view:function(){this.xml_view=new XmlView,this.xml_view.refresh(dropshipping_xml_data)},init_csv_preview:function(){var e=this;e.preview_csv=new PreviewCsv({callback:function(t,i){e.draggable.refresh()}})},init_xml_preview:function(){var e=this;e.preview_xml=new PreviewXml({nonce:preview_xml_product_data.nonce,action:"preview_xml_product_data",callback:function(t,i){e.xml_view.refresh(i.content),null!==e.variation_navigator&&e.variation_navigator.update_page(1),null!==e.variation_popup&&e.variation_popup.find(".variation-popup-close").trigger("click")}})},refresh_variation_xml_preview:function(){var e=this,t=jQuery("#dropshipping-variations-item-nr").val(),i={parent_node:jQuery("#dropshipping-node-element").val(),parent_page:jQuery("#dropshipping-item-nr").val()};null==e.preview_variation_xml&&(e.preview_variation_xml=new PreviewXml({action:"preview_variations_product_data",node_element_selector:"#variation_xpath",nonce:preview_variations_product_data.nonce,loader_selector:"#variation-loader",args:i,callback:function(t,i){null==e.xml_variation_view&&(e.xml_variation_view=new XmlView({xml_view_selector:"#variation-popup-content"})),e.xml_variation_view.refresh(i.content),e.variation_navigator.update_items(i.items)}})),e.preview_variation_xml.update_args(i),null==e.variation_navigator&&(e.variation_navigator=new Navigator({page_nr_input_selector:"#dropshipping-variations-item-nr",items_nr_input_selector:"#dropshipping-variations-item-position",left_button_selector:"#dropshipping-variations-item-position-arrow-left",right_button_selector:"#dropshipping-variations-item-position-arrow-right",callback:function(t){e.preview_variation_xml.change_page(t)}}),e.variation_navigator.init(),e.variation_navigator.update_page(1),e.preview_variation_xml.change_page(1)),e.variation_navigator.update_page(t),e.preview_variation_xml.change_page(t)},init_navigator:function(){var e=this;e.navigator=new Navigator({callback:function(t){var i=jQuery("#dropshipping-csv-table").length?e.preview_csv:e.preview_xml;null!==i&&i.change_page(t)}}),e.navigator.init()},init_csv_converter:function(){var e=this;e.csv_converter=new ConvertCsv({callback:function(t){e.navigator.update_items(t),e.navigator.update_page(1),e.preview_csv.change_page(1)}}),e.csv_converter.init()},init_xml_converter:function(){var e=this;e.xml_converter=new ConvertXml({callback:function(t,i,n){e.navigator.update_items(t),e.navigator.update_page(1),e.preview_xml.update_element(i),e.xml_view.refresh(n)}}),e.xml_converter.init()},init_import:function(){this.import=new Import({callback:function(){jQuery("#navigation-wrapper").removeClass("hidden")}}),this.import.init(),this.import.autostart(!0)},init_select2_fields:function(){jQuery(".dropshipping-select2").select2(),jQuery(".dropshipping-select2.width-100").select2({width:"100%"})},init_next_page_jump_preventer:function(){jQuery(window).keydown((function(e){if(13===e.which&&!jQuery(e.target).is("textarea"))return e.preventDefault(),!1}))},init_mapper_selector:function(){jQuery(".mapper-has-parent-selector").each((function(){jQuery(this).is(":checked")&&jQuery(this).closest(".mapper-selector-container").addClass("has_parent_image")})),jQuery(".mapper-has-parent-selector").on("click",(function(e){jQuery(this).closest(".mapper-selector-container").toggleClass("has_parent_image")})),jQuery(".mapper-type-selector").each((function(){jQuery(this).is(":checked")&&jQuery(this).closest(".mapper-selector-container").addClass("active")})),jQuery(".mapper-type-selector").on("click",(function(e){jQuery(".mapper-selector-container").removeClass("active"),jQuery(this).closest(".mapper-selector-container").addClass("active")}))},init_fixed_sidebar:function(){this.fixed_sidebar=new FixedSidebar,this.fixed_sidebar.init()},init_options_settings:function(){var e=this;this.has_logical_condition()&&this.init_logical_conditions(),this.has_price_groups()&&(this.init_price_groups(),this.init_price_mod_conditions());var t=jQuery("#update_only_existing"),i=jQuery("#create_new_products_as_draft").closest("tr");t.on("change",(function(n){e.change_field_state(t.is(":checked"),i,"hidden")})),t.is(":checked")&&e.change_field_state(t.is(":checked"),i,"hidden")},init_mapper_settings:function(){var e=this,t=jQuery("#variation_type_embedded"),i=jQuery(".options_group.pricing"),n=jQuery("#product-type");jQuery(".mapper-type-selector").on("change",(function(n){e.change_field_state(t.is(":checked"),i,"hidden-pricing")})),n.on("change",(function(o){e.change_field_state(t.is(":checked")&&"variable"===n.val(),i,"hidden-pricing")})),e.change_field_state(t.is(":checked")&&"variable"===n.val(),i,"hidden-pricing")},init_variation_popup:function(){var e=this;e.variation_popup=jQuery("#variation-popup"),e.variation_popup.draggable(),jQuery("#open-variation-window").on("click",(function(t){t.preventDefault(),e.variation_popup.addClass("open"),e.refresh_variation_xml_preview()})),e.variation_popup.find(".variation-popup-close").on("click",(function(t){t.preventDefault(),e.variation_popup.removeClass("open")}))},init_variation_fields:function(){var e=this,t=jQuery("#variation_xpath"),i=jQuery("#variation_parent_options_wrapper"),n=jQuery("#variation_parent_selector"),o=jQuery("#variation_parent_options"),r=jQuery("#variation_manage_stock"),a=jQuery("#variation_tax_class_xpath_switcher");t.length>0&&(e.change_variation_fields(t),t.on("drop change",(function(i){i.preventDefault(),e.change_variation_fields(t)}))),n.length>0&&n.is(":checked")&&(i.removeClass("hidden"),e.change_parent_fields_state(o)),n.on("change",(function(){jQuery(this).is(":checked")?(i.removeClass("hidden"),e.change_parent_fields_state(o)):(i.addClass("hidden"),jQuery("#variation-hidden-fields").find(".form-field-disabled").removeClass("form-field-disabled"))})),o.on("change",(function(){e.change_parent_fields_state(o)})),r.on("change",(function(){e.change_stock_manage_state(jQuery(this).is(":checked"))})),r.trigger("change"),a.on("change",(function(){e.change_tax_class_manage_state(jQuery(this).is(":checked"))})),a.trigger("change"),e.variation_product_tax_classes=new MultiFormField({button_selector:"#add_variation_tax_class",template:jQuery("#variation-tax-class-wrapper .single-item:first"),wrapper_selector:"#variation-tax-class-wrapper",callback:function(){e.droppable.refresh_element()}}),e.variation_product_tax_classes.init(),jQuery("#variation-tax-class-wrapper .single-item").length>0&&jQuery("#variation-tax-class-wrapper .single-item").each((function(t){e.variation_product_tax_classes.remove_listener(jQuery(this))}))},change_stock_manage_state:function(e){var t=jQuery('[data-variation-stock="static"]'),i=jQuery('[data-variation-stock="dynamic"]');!0===e?(t.addClass("hidden"),i.removeClass("hidden")):(i.addClass("hidden"),t.removeClass("hidden"))},change_tax_class_manage_state:function(e){var t=jQuery('[data-variation-tax-class="xpath"]');!0===e?t.removeClass("hidden"):t.addClass("hidden")},change_parent_fields_state:function(e){jQuery.each(e.find("option"),(function(e,t){jQuery('[data-variation-field="'+jQuery(this).attr("value")+'"]').removeClass("form-field-disabled")})),jQuery.each(e.val(),(function(e,t){jQuery('[data-variation-field="'+t+'"]').addClass("form-field-disabled")}))},change_variation_fields:function(e){var t=new RegExp("{(.*?)}"),i=jQuery("#variation-hidden-fields");setTimeout((function(){t.test(e.val())?(e.val(e.val().replace(/\[.*?\]/g,"")),i.removeClass("hidden")):i.addClass("hidden")}),500)},init_group_switcher:function(){jQuery(document).on("click",".group-switcher",(function(e){e.preventDefault(),jQuery(this).closest(".group-switch").toggleClass("group-closed")}))},init:function(){this.init_select2_fields(),this.init_next_page_jump_preventer(),this.init_droppable(),this.init_draggable(),this.init_product_attributes(),this.init_variation_attributes(),this.init_product_categories(),this.init_product_tax_classes(),this.init_variation_fields(),this.init_variation_popup(),this.init_downloader(),this.is_xml_page()?(this.init_xml_view(),this.init_xml_preview(),this.init_navigator(),this.init_xml_converter()):(this.init_csv_preview(),this.init_navigator(),this.init_csv_converter()),this.is_import_page()&&this.init_import(),this.has_sidebar()&&this.init_fixed_sidebar(),this.has_mapper_selector()&&this.init_mapper_selector(),this.init_options_settings(),this.init_mapper_settings(),this.init_group_switcher()},is_xml_page:function(){return jQuery("#xml-view").length>0},is_import_page:function(){return jQuery("#log-viewer").length>0},has_logical_condition:function(){return jQuery("#dropshipping-logical-conditions").length>0},has_price_groups:function(){return jQuery("#price-mod-groups").length>0},has_sidebar:function(){return jQuery("#dropshipping-sidebar-content").length>0},has_mapper_selector:function(){return jQuery(".mapper-type-selector").length>0}}).init()}))},function(e,t,i){"use strict";function n(){}function o(){}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t={classes:[".simpleXML-attrName",".simpleXML-tagValue",".draggable"]};"object"==r(e)&&jQuery.extend(t,e),this.classes=t.classes}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){var t={selector:"input[type=text],textarea,#postdivrich,#postexcerpt",exclude_ids:["variation-popup"]};"object"==s(e)&&jQuery.extend(t,e),this.selector=t.selector,this.exclude_ids=t.exclude_ids}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t={xml_view_selector:"#xml-view",draggable:new DraggableElements};"object"==c(e)&&jQuery.extend(t,e),this.xml_view=jQuery(t.xml_view_selector),this.draggable=t.draggable}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){var t={notice_selector:"#dropshipping-notice"};"object"==p(e)&&jQuery.extend(t,e),this.notice_selector=t.notice_selector}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){var t={button_selector:"#button",template:null,single_item_class:".single-item",wrapper_selector:"#wrapper",remove_button_selector:".remove-button",callback:null,before_append_callback:null};"object"==d(e)&&jQuery.extend(t,e),this.template=t.template,this.wrapper_selector=t.wrapper_selector,this.button_selector=t.button_selector,this.remove_selector=t.remove_button_selector,this.callback=t.callback,this.before_append_callback=t.before_append_callback,this.single_item_class=t.single_item_class}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){var t={button_selector:"#import",next_step_selector:"#next_step",original_file_format_selector:"#original_file_format",original_file_name_selector:"#original_file_name",loader_selector:"#droppshiping-import-loader",notice:new Notice,exception:new Exception};"object"==h(e)&&jQuery.extend(t,e),this.import_button=jQuery(t.button_selector),this.next_step_button=jQuery(t.next_step_selector),this.loader=jQuery(t.loader_selector),this.original_file_format=jQuery(t.original_file_format_selector),this.original_file_name=jQuery(t.original_file_name_selector),this.notice=t.notice,this.exception=t.exception}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){var t={page_nr_input_selector:"#dropshipping-item-nr",items_nr_input_selector:"#dropshipping-item-position",left_button_selector:"#dropshipping-item-position-arrow-left",right_button_selector:"#dropshipping-item-position-arrow-right",callback:null};"object"==g(e)&&jQuery.extend(t,e),this.page_input=jQuery(t.page_nr_input_selector),this.items=jQuery(t.items_nr_input_selector),this.left_button=jQuery(t.left_button_selector),this.right_button=jQuery(t.right_button_selector),this.callback=t.callback}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){var t={button_selector:"#dropshipping-item-separator-button",separator_selector:"#dropshipping-item-separator",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==v(e)&&jQuery.extend(t,e),this.apply_button=jQuery(t.button_selector),this.separator=jQuery(t.separator_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){var t={buttons_selector:".dropshipping-preview-item-button",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==w(e)&&jQuery.extend(t,e),this.buttons=jQuery(t.buttons_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){var t={table_wrapper_selector:"#dropshipping-csv-table",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==x(e)&&jQuery.extend(t,e),this.table=jQuery(t.table_wrapper_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){var t={node_element_selector:"#dropshipping-node-element",loader_selector:"#dropshipping-table-loader",notice:new Notice,request:new BrowserRequest,exception:new Exception,action:"",nonce:"",args:{}};"object"==k(e)&&jQuery.extend(t,e),this.element=jQuery(t.node_element_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception,this.action=t.action,this.nonce=t.nonce,this.args=t.args}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){var t={node_element_selector:"#timer"};"object"==C(e)&&jQuery.extend(t,e),this.element=jQuery(t.node_element_selector)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){var t={log_view_selector:"#log-viewer",created_selector:"#import-created",updated_selector:"#import-updated",skipped_selector:"#import-skipped",total_selector:"#import-total",progress_selector:"#import-progress",player_selector:"#import-player",stop_selector:"#stop-import > a",start_selector:"#start-import > a",callback:null,notice:new Notice,timer:new Timer,request:new BrowserRequest,exception:new Exception};"object"==F(e)&&jQuery.extend(t,e),this.log_view=jQuery(t.log_view_selector),this.created=jQuery(t.created_selector),this.updated=jQuery(t.updated_selector),this.skipped=jQuery(t.skipped_selector),this.total=jQuery(t.total_selector),this.progress=jQuery(t.progress_selector),this.stop_import=jQuery(t.stop_selector),this.start_import=jQuery(t.start_selector),this.notice=t.notice,this.timer=t.timer,this.callback=t.callback,this.request=t.request,this.exception=t.exception,this.player_selector=t.player_selector}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){var t={admin_bar_selector:"#wpadminbar",sidebar_selector:"#postbox-container-1",sidebar_content_selector:"#dropshipping-sidebar-content"};"object"==E(e)&&jQuery.extend(t,e),this.admin_bar=jQuery(t.admin_bar_selector),this.sidebar=jQuery(t.sidebar_selector),this.sidebar_content=jQuery(t.sidebar_content_selector)}i.r(t),n.prototype={getUid:function(){var e=new URLSearchParams(window.location.search);return e.has("uid")?e.get("uid"):""}},o.prototype={get_message:function(e,t){return 0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===t?"Requested JSON parse failed.":"timeout"===t?"Time out error.":"abort"===t?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText}},a.prototype={classes:null,refresh:function(){Array.isArray(this.classes)&&this.classes.length>0&&this.classes.forEach((function(e,t){jQuery(e).draggable({iframeFix:!0,revert:!0,appendTo:"body",scroll:!1,helper:"clone"})}))},init:function(){this.refresh()}},l.prototype={selector:null,exclude_ids:null,refresh_element:function(){var e=this;jQuery(document).find(this.selector).droppable({drop:function(t,i){if(e.exclude_ids.indexOf(i.draggable.attr("id"))>=0)return console.log("droppable"),console.log(i.draggable.attr("id")),console.log(e.exclude_ids),!1;var n="{"+i.draggable.attr("xpath")+"}";if("undefined"!=typeof tinymce){var o=tinymce.get(jQuery(this).attr("data-id"));null!=o?(o.selection.select(o.getBody(),!0),o.selection.collapse(!1),o.execCommand("mceInsertContent",!1,n)):jQuery(this).val(jQuery(this).val()+n)}else jQuery(this).val(jQuery(this).val()+n)}})},init:function(){this.refresh_element()}},u.prototype={xml_view:null,draggable:null,refresh:function(e){var t=this;try{t.xml_view.empty().simpleXML({xmlString:e.trim(),callback:function(){t.draggable.refresh()}})}catch(e){t.xml_view.empty().append("Exception caught running plugin : "+e),console.log(e),alert(e)}},view_exists:function(){return this.xml_view.length>0}},_.prototype={notice_selector:null,hide_notice:function(){var e=jQuery(document).find(this.notice_selector);e.length&&e.hide("fast")},error_notice:function(e){this.get_notice_template("notice notice-error").html(jQuery("<p>").html(e))},success_notice:function(e){this.get_notice_template("notice notice-success").html(jQuery("<p>").html(e))},get_notice_template:function(e){var t=jQuery(document).find(this.notice_selector);return t.length?(t.attr("class",e),t.show("fast")):((t=jQuery("<div>").attr("class",e).attr("id",this.notice_selector.replace(/#/g,""))).insertAfter(".wp-header-end").hide().show("fast"),t)}},f.prototype={template:null,wrapper_selector:null,button_selector:null,remove_selector:null,single_item_class:null,callback:null,before_append_callback:null,add_new_item:function(e){var t=this.template.clone();t.find("input").val(""),t.find("select").prop("selectedIndex",0),t.find(this.remove_selector).removeClass("hidden"),"function"==typeof this.before_append_callback&&(t=this.before_append_callback(t,e)),e.append(t),this.remove_listener(t),"function"==typeof this.callback&&this.callback(t,e)},remove_listener:function(e){var t=this;e.find(this.remove_selector+":first").on("click",(function(e){e.preventDefault(),jQuery(this).closest(t.single_item_class).remove()}))},add_listeners:function(){var e=this;jQuery(document).on("click",e.button_selector,(function(t){t.preventDefault();var i=null;i=jQuery(this).closest(e.wrapper_selector).length>0?jQuery(this).closest(e.wrapper_selector):jQuery(e.wrapper_selector),e.add_new_item(i)}))},init:function(){this.add_listeners()}},m.prototype={import_button:null,next_step_button:null,loader:null,original_file_format:null,original_file_name:null,notice:null,exception:null,download:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"download_product_data",data:e,security:download_product_data.nonce},success:function(e){!0===e.success?(t.notice.success_notice(e.message),t.import_button.attr("disabled",!1),t.next_step_button.attr("disabled",!1),t.original_file_format.val(e.original_file_format),t.original_file_name.val(e.original_file_name),t.loader.hide()):(t.import_button.attr("disabled",!1),t.notice.error_notice(e.message),t.loader.hide())},error:function(e,i){t.import_button.attr("disabled",!1),t.notice.error_notice(t.exception.get_message(e,i)),t.loader.hide()}})},add_listeners:function(){var e=this;e.import_button.on("click",(function(t){t.preventDefault(),e.import_button.attr("disabled",!0),e.next_step_button.attr("disabled",!0),e.loader.show(),e.notice.hide_notice(),e.download(jQuery(this).closest("form").serialize())}))},init:function(){this.add_listeners()}},y.prototype={page_input:null,items:null,left_button:null,right_button:null,callback:null,change_page:function(e,t){this.page_input.val(e),"function"==typeof this.callback&&this.callback(e)},add_listeners:function(){var e=this;e.left_button.on("click",(function(t){if(t.preventDefault(),e.page_input.val()>1){var i=e.page_input.val()-1;e.change_page(i,e.callback)}})),e.right_button.on("click",(function(t){if(t.preventDefault(),parseInt(e.items.html())>e.page_input.val()){var i=parseInt(e.page_input.val())+1;e.change_page(i,e.callback)}})),e.page_input.on("change",(function(){e.change_page(e.page_input.val(),e.callback)}))},update_items:function(e){this.items.html(e)},update_page:function(e){this.page_input.val(e)},init:function(){this.add_listeners()}},b.prototype={apply_button:null,separator:null,loader:null,notice:null,callback:null,request:null,exception:null,evaluate:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"evaluate_csv_product_data",separator:e.separator.val(),uid:e.request.getUid(),security:evaluate_csv_product_data.nonce},success:function(t){!0===t.success?(e.notice.success_notice(t.message),e.separator.val(t.separator),e.apply_button.attr("disabled",!1),"function"==typeof e.callback&&e.callback(t.items),e.loader.hide()):(e.apply_button.attr("disabled",!1),e.notice.error_notice(t.message),e.loader.hide())},error:function(t,i){e.apply_button.attr("disabled",!1),e.notice.error_notice(e.exception.get_message(t,i)),e.loader.hide()}})},add_listeners:function(){var e=this;e.apply_button.on("click",(function(t){t.preventDefault(),e.apply_button.attr("disabled",!0),e.loader.show(),e.notice.hide_notice(),e.evaluate()}))},init:function(){this.add_listeners()}},j.prototype={buttons:null,loader:null,notice:null,callback:null,request:null,exception:null,evaluate:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"evaluate_xml_product_data",node_element:e,uid:t.request.getUid(),security:evaluate_xml_product_data.nonce},success:function(i){!0===i.success?(t.notice.success_notice(i.message),"function"==typeof t.callback&&t.callback(i.items,e,i.content),t.loader.hide()):(t.notice.error_notice(i.message),t.loader.hide())},error:function(e,i){t.notice.error_notice(t.exception.get_message(e,i)),t.loader.hide()}})},add_listeners:function(){var e=this;e.buttons.on("click",(function(t){t.preventDefault(),e.loader.show(),e.notice.hide_notice(),e.buttons.removeClass("active"),jQuery(this).addClass("active"),e.evaluate(jQuery(this).attr("data-id"))}))},init:function(){this.add_listeners()}},Q.prototype={table:null,loader:null,notice:null,callback:null,exception:null,preview:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"preview_csv_product_data",item_number:e,uid:t.request.getUid(),security:preview_csv_product_data.nonce},success:function(i){!0===i.success?(t.notice.success_notice(i.message),t.table.html(i.content),"function"==typeof t.callback&&t.callback(e,i.content),t.loader.hide()):(t.notice.error_notice(i.message),t.loader.hide())},error:function(e,i){t.notice.error_notice(t.exception.get_message(e,i)),t.loader.hide()}})},change_page:function(e){this.loader.show(),this.preview(e)}},S.prototype={element:null,action:null,nonce:null,loader:null,notice:null,callback:null,request:null,exception:null,args:null,preview:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:t.action,item_number:e,node_element:t.element.val(),uid:t.request.getUid(),args:t.args,security:t.nonce},success:function(i){!0===i.success?(t.notice.success_notice(i.message),"function"==typeof t.callback&&t.callback(e,i),t.loader.hide()):(t.notice.error_notice(i.message),t.loader.hide())},error:function(e,i){t.notice.error_notice(t.exception.get_message(e,i)),t.loader.hide()}})},update_element:function(e){this.element.val(e)},change_page:function(e){this.loader.show(),this.preview(e)},update_args:function(e){this.args=e}},q.prototype={element:null,interval:null,elapsed_seconds:0,hours:0,minutes:0,seconds:0,update_timer:function(){this.elapsed_seconds=this.elapsed_seconds+1},update_element:function(e){this.element.text(e)},get_formated_time:function(){var e=this.elapsed_seconds,t=Math.floor(e/3600);e=this.elapsed_seconds%3600;var i=Math.floor(e/60);e=this.elapsed_seconds%60;var n=Math.floor(e);return this.hours=this.get_pretty_time(t),this.minutes=this.get_pretty_time(i),this.seconds=this.get_pretty_time(n),this.hours+":"+this.minutes+":"+this.seconds},get_pretty_time:function(e){return(e<10?"0":"")+e},start_timer:function(){var e=this;e.interval=setInterval((function(){e.update_timer(),e.update_element(e.get_formated_time())}),1e3)},stop_timer:function(){clearInterval(this.interval)}},D.prototype={request:null,log_view:null,created:null,updated:null,skipped:null,total:null,progress:null,notice:null,timer:null,callback:null,exception:null,stop_import:null,start_import:null,player_selector:null,stop:!1,import_process:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"import_products",uid:e.request.getUid(),security:import_products.nonce},success:function(t){!0===t.success?(e.add_to_log(t.log),e.update_created(parseInt(t.created)),e.update_updated(parseInt(t.updated)),e.update_skipped(parseInt(t.skipped)),e.update_total(parseInt(t.total)),e.update_progress(t.progress),!0===t.finished||!0===e.stop?(e.timer.stop_timer(),"function"==typeof e.callback&&e.callback()):e.import_process()):e.notice.error_notice(t.message)},error:function(t,i){e.notice.error_notice(e.exception.get_message(t,i))}})},update_created:function(e){this.created.text(e)},update_updated:function(e){this.updated.text(e)},update_skipped:function(e){this.skipped.text(e)},update_total:function(e){this.total.text(e)},add_to_log:function(e){this.log_view.val(this.log_view.val()+e)},update_progress:function(e){this.progress.text(e)},stop_import_process:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"stop_import_products",uid:e.request.getUid(),security:stop_import_products.nonce},success:function(t){!0===t.success?e.add_to_log(t.message+"\n"):e.notice.error_notice(t.message)},error:function(t,i){e.notice.error_notice(e.exception.get_message(t,i))}})},autostart:function(e){!0===e&&(this.add_to_log("Import Start...\n"),this.import_process(),this.timer.start_timer())},add_listeners:function(){var e=this;e.stop_import.on("click",(function(t){t.preventDefault(),e.stop=!0,jQuery(this).closest(e.player_selector).removeClass("start").addClass("stop"),e.stop_import_process()})),e.start_import.on("click",(function(t){t.preventDefault(),e.stop=!1,jQuery(this).closest(e.player_selector).removeClass("stop").addClass("start"),e.autostart(!0)}))},init:function(){this.add_listeners()}},M.prototype={admin_bar:null,sidebar:null,sidebar_content:null,top_offset:null,scroll:function(){var e=this;jQuery(window).scroll((function(){jQuery(this).scrollTop()>e.top_offset?e.sidebar.hasClass("fixed")||(e.sidebar.addClass("fixed"),e.sidebar.css("top",e.admin_bar.height()+"px")):e.sidebar.hasClass("fixed")&&(e.sidebar.removeClass("fixed"),e.sidebar.css("top","auto"))}))},init:function(){this.top_offset=this.sidebar.offset().top-this.admin_bar.height();var e=jQuery(window).height()-(this.sidebar_content.offset().top-this.sidebar.offset().top)-this.admin_bar.height()-70;this.sidebar_content.css("max-height",e+"px"),this.scroll()}};i(0);window.BrowserRequest=n,window.Exception=o,window.DraggableElements=a,window.DroppableElements=l,window.XmlView=u,window.Notice=_,window.MultiFormField=f,window.DownloadFile=m,window.Navigator=y,window.ConvertCsv=b,window.ConvertXml=j,window.PreviewCsv=Q,window.PreviewXml=S,window.Timer=q,window.Import=D,window.FixedSidebar=M}]);