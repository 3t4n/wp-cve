!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){"use strict";jQuery.noConflict(),jQuery((function(){({droppable:null,draggable:null,product_attributes:null,logical_conditions:null,product_categories:null,product_tax_classes:null,downloader:null,xml_view:null,preview_csv:null,preview_xml:null,navigator:null,csv_converter:null,xml_converter:null,import:null,fixed_sidebar:null,init_droppable:function(){this.droppable=new DroppableElements,this.droppable.init()},init_draggable:function(){this.draggable=new DraggableElements,this.draggable.init()},init_product_attributes:function(){var e=this;e.product_attributes=new MultiFormField({button_selector:"#add_attribute",item_selector:"#product_attributes .single-item:first",wrapper_selector:"#attributes-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_attributes.init(),jQuery("#product_attributes .single-item").length>0&&jQuery("#product_attributes .single-item").each((function(t){e.product_attributes.remove_listener(jQuery(this))}))},init_logical_conditions:function(){var e=this,t=jQuery("#dropshipping-logical-conditions").closest("tr");jQuery("#turn_logical_condition").on("change",(function(){jQuery(this).is(":checked")?t.removeClass("hidden"):t.addClass("hidden")})),jQuery("#turn_logical_condition").trigger("change"),e.logical_conditions=new MultiFormField({button_selector:".add-condition",item_selector:"#dropshipping-logical-conditions > .single-condition:first",wrapper_selector:"#dropshipping-logical-conditions",remove_button_selector:".remove-condition",single_item_class:".single-condition",callback:function(){jQuery(".conditional-value-type").trigger("change"),e.droppable.refresh_element()}}),e.logical_conditions.init(),jQuery(document).on("change",".conditional-value-type",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".flex-row");t.find(".field-wrapper").addClass("hidden"),t.find('.field-wrapper[data-value="'+e+'"]').removeClass("hidden")})),jQuery(".conditional-value-type").trigger("change"),jQuery("#dropshipping-logical-conditions .single-condition").length>0&&jQuery("#dropshipping-logical-conditions .single-condition").each((function(t){e.logical_conditions.remove_listener(jQuery(this))}))},init_product_categories:function(){var e=this,t=jQuery("#category_map_import_id"),o=jQuery("#form-field-auto-create-category");this.product_categories=new MultiFormField({button_selector:"#add_category",item_selector:"#categories-wrapper .single-item:first",wrapper_selector:"#categories-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_categories.init(),jQuery("#categories-wrapper .single-item").length>0&&jQuery("#categories-wrapper .single-item").each((function(t){e.product_categories.remove_listener(jQuery(this))})),t.on("change",(function(i){e.change_field_state(t,o,"form-field-disabled")})),t.is(":checked")&&e.change_field_state(t,o,"form-field-disabled")},change_field_state:function(e,t,o){e.is(":checked")?t.addClass(o):t.removeClass(o)},init_product_tax_classes:function(){var e=this;this.product_tax_classes=new MultiFormField({button_selector:"#add_tax_class",item_selector:"#tax-class-wrapper .single-item:first",wrapper_selector:"#tax-class-wrapper",callback:function(){e.droppable.refresh_element()}}),e.product_tax_classes.init(),jQuery("#tax-class-wrapper .single-item").length>0&&jQuery("#tax-class-wrapper .single-item").each((function(t){e.product_tax_classes.remove_listener(jQuery(this))}))},init_downloader:function(){this.downloader=new DownloadFile,this.downloader.init()},init_xml_view:function(){this.xml_view=new XmlView,this.xml_view.refresh(dropshipping_xml_data)},init_csv_preview:function(){var e=this;e.preview_csv=new PreviewCsv({callback:function(t,o){e.draggable.refresh()}})},init_xml_preview:function(){var e=this;e.preview_xml=new PreviewXml({callback:function(t,o){e.xml_view.refresh(o)}})},init_navigator:function(){var e=this;e.navigator=new Navigator({callback:function(t){var o=jQuery("#dropshipping-csv-table").length?e.preview_csv:e.preview_xml;null!==o&&o.change_page(t)}}),e.navigator.init()},init_csv_converter:function(){var e=this;e.csv_converter=new ConvertCsv({callback:function(t){e.navigator.update_items(t),e.navigator.update_page(1),e.preview_csv.change_page(1)}}),e.csv_converter.init()},init_xml_converter:function(){var e=this;e.xml_converter=new ConvertXml({callback:function(t,o,i){e.navigator.update_items(t),e.navigator.update_page(1),e.preview_xml.update_element(o),e.xml_view.refresh(i)}}),e.xml_converter.init()},init_import:function(){this.import=new Import({callback:function(){jQuery("#navigation-wrapper").removeClass("hidden")}}),this.import.init(),this.import.autostart(!0)},init_select2_fields:function(){jQuery(".dropshipping-select2").select2(),jQuery(".dropshipping-select2.width-100").select2({width:"100%"})},init_next_page_jump_preventer:function(){jQuery(window).keydown((function(e){if(13===e.which&&!jQuery(e.target).is("textarea"))return e.preventDefault(),!1}))},init_mapper_selector:function(){jQuery(".mapper-has-parent-selector").each((function(){jQuery(this).is(":checked")&&jQuery(this).closest(".mapper-selector-container").addClass("has_parent_image")})),jQuery(".mapper-has-parent-selector").on("click",(function(e){jQuery(this).closest(".mapper-selector-container").toggleClass("has_parent_image")})),jQuery(".mapper-type-selector").each((function(){jQuery(this).is(":checked")&&jQuery(this).closest(".mapper-selector-container").addClass("active")})),jQuery(".mapper-type-selector").on("click",(function(e){jQuery(".mapper-selector-container").removeClass("active"),jQuery(this).closest(".mapper-selector-container").addClass("active")}))},init_fixed_sidebar:function(){this.fixed_sidebar=new FixedSidebar,this.fixed_sidebar.init()},init_options_settings:function(){var e=this;this.has_logical_condition()&&this.init_logical_conditions();var t=jQuery("#update_only_existing"),o=jQuery("#create_new_products_as_draft").closest("tr");t.on("change",(function(i){e.change_field_state(t,o,"hidden")})),t.is(":checked")&&e.change_field_state(t,o,"hidden")},init:function(){this.init_select2_fields(),this.init_next_page_jump_preventer(),this.init_droppable(),this.init_draggable(),this.init_product_attributes(),this.init_product_categories(),this.init_product_tax_classes(),this.init_downloader(),this.is_xml_page()?(this.init_xml_view(),this.init_xml_preview(),this.init_navigator(),this.init_xml_converter()):(this.init_csv_preview(),this.init_navigator(),this.init_csv_converter()),this.is_import_page()&&this.init_import(),this.has_sidebar()&&this.init_fixed_sidebar(),this.has_mapper_selector()&&this.init_mapper_selector(),this.init_options_settings()},is_xml_page:function(){return jQuery("#xml-view").length>0},is_import_page:function(){return jQuery("#log-viewer").length>0},has_logical_condition:function(){return jQuery("#dropshipping-logical-conditions").length>0},has_sidebar:function(){return jQuery("#dropshipping-sidebar-content").length>0},has_mapper_selector:function(){return jQuery(".mapper-type-selector").length>0}}).init()}))},function(e,t,o){"use strict";function i(){}function n(){}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t={classes:[".simpleXML-attrName",".simpleXML-tagValue",".draggable"]};"object"==r(e)&&jQuery.extend(t,e),this.classes=t.classes}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t={selector:"input[type=text],textarea,#postdivrich,#postexcerpt"};"object"==l(e)&&jQuery.extend(t,e),this.selector=t.selector}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t={xml_view_selector:"#xml-view",draggable:new DraggableElements};"object"==c(e)&&jQuery.extend(t,e),this.xml_view=jQuery(t.xml_view_selector),this.draggable=t.draggable}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){var t={notice_selector:"#dropshipping-notice"};"object"==p(e)&&jQuery.extend(t,e),this.notice_selector=t.notice_selector}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){var t={button_selector:"#button",item_selector:"#item",single_item_class:".single-item",wrapper_selector:"#wrapper",remove_button_selector:".remove-button",callback:null};"object"==d(e)&&jQuery.extend(t,e),this.item=jQuery(t.item_selector),this.wrapper=jQuery(t.wrapper_selector),this.button_selector=t.button_selector,this.remove_selector=t.remove_button_selector,this.callback=t.callback,this.single_item_class=t.single_item_class}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){var t={button_selector:"#import",next_step_selector:"#next_step",original_file_format_selector:"#original_file_format",original_file_name_selector:"#original_file_name",loader_selector:"#droppshiping-import-loader",notice:new Notice,exception:new Exception};"object"==m(e)&&jQuery.extend(t,e),this.import_button=jQuery(t.button_selector),this.next_step_button=jQuery(t.next_step_selector),this.loader=jQuery(t.loader_selector),this.original_file_format=jQuery(t.original_file_format_selector),this.original_file_name=jQuery(t.original_file_name_selector),this.notice=t.notice,this.exception=t.exception}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){var t={page_nr_input_selector:"#dropshipping-item-nr",items_nr_input_selector:"#dropshipping-item-position",left_button_selector:"#dropshipping-item-position-arrow-left",right_button_selector:"#dropshipping-item-position-arrow-right",callback:null};"object"==y(e)&&jQuery.extend(t,e),this.page_input=jQuery(t.page_nr_input_selector),this.items=jQuery(t.items_nr_input_selector),this.left_button=jQuery(t.left_button_selector),this.right_button=jQuery(t.right_button_selector),this.callback=t.callback}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){var t={button_selector:"#dropshipping-item-separator-button",separator_selector:"#dropshipping-item-separator",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==g(e)&&jQuery.extend(t,e),this.apply_button=jQuery(t.button_selector),this.separator=jQuery(t.separator_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){var t={buttons_selector:".dropshipping-preview-item-button",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==w(e)&&jQuery.extend(t,e),this.buttons=jQuery(t.buttons_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){var t={table_wrapper_selector:"#dropshipping-csv-table",loader_selector:"#dropshipping-table-loader",notice:new Notice,callback:null,request:new BrowserRequest,exception:new Exception};"object"==x(e)&&jQuery.extend(t,e),this.table=jQuery(t.table_wrapper_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){var t={node_element_selector:"#dropshipping-node-element",loader_selector:"#dropshipping-table-loader",notice:new Notice,request:new BrowserRequest,exception:new Exception};"object"==S(e)&&jQuery.extend(t,e),this.element=jQuery(t.node_element_selector),this.loader=jQuery(t.loader_selector),this.notice=t.notice,this.callback=t.callback,this.request=t.request,this.exception=t.exception}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){var t={node_element_selector:"#timer"};"object"==q(e)&&jQuery.extend(t,e),this.element=jQuery(t.node_element_selector)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e){var t={log_view_selector:"#log-viewer",created_selector:"#import-created",updated_selector:"#import-updated",skipped_selector:"#import-skipped",total_selector:"#import-total",progress_selector:"#import-progress",player_selector:"#import-player",stop_selector:"#stop-import > a",start_selector:"#start-import > a",callback:null,notice:new Notice,timer:new Timer,request:new BrowserRequest,exception:new Exception};"object"==D(e)&&jQuery.extend(t,e),this.log_view=jQuery(t.log_view_selector),this.created=jQuery(t.created_selector),this.updated=jQuery(t.updated_selector),this.skipped=jQuery(t.skipped_selector),this.total=jQuery(t.total_selector),this.progress=jQuery(t.progress_selector),this.stop_import=jQuery(t.stop_selector),this.start_import=jQuery(t.start_selector),this.notice=t.notice,this.timer=t.timer,this.callback=t.callback,this.request=t.request,this.exception=t.exception,this.player_selector=t.player_selector}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){var t={admin_bar_selector:"#wpadminbar",sidebar_selector:"#postbox-container-1",sidebar_content_selector:"#dropshipping-sidebar-content"};"object"==E(e)&&jQuery.extend(t,e),this.admin_bar=jQuery(t.admin_bar_selector),this.sidebar=jQuery(t.sidebar_selector),this.sidebar_content=jQuery(t.sidebar_content_selector)}o.r(t),i.prototype={getUid:function(){var e=new URLSearchParams(window.location.search);return e.has("uid")?e.get("uid"):""}},n.prototype={get_message:function(e,t){return 0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===t?"Requested JSON parse failed.":"timeout"===t?"Time out error.":"abort"===t?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText}},s.prototype={classes:null,refresh:function(){Array.isArray(this.classes)&&this.classes.length>0&&this.classes.forEach((function(e,t){jQuery(e).draggable({iframeFix:!0,revert:!0,appendTo:"body",scroll:!1,helper:"clone"})}))},init:function(){this.refresh()}},a.prototype={selector:null,refresh_element:function(){jQuery(document).find(this.selector).droppable({drop:function(e,t){var o="{"+t.draggable.attr("xpath")+"}";if("undefined"!=typeof tinymce){var i=tinymce.get(jQuery(this).attr("data-id"));null!=i?(i.selection.select(i.getBody(),!0),i.selection.collapse(!1),i.execCommand("mceInsertContent",!1,o)):jQuery(this).val(jQuery(this).val()+o)}else jQuery(this).val(jQuery(this).val()+o)}})},init:function(){this.refresh_element()}},u.prototype={xml_view:null,draggable:null,refresh:function(e){var t=this;try{t.xml_view.empty().simpleXML({xmlString:e.trim(),callback:function(){t.draggable.refresh()}})}catch(e){t.xml_view.empty().append("Exception caught running plugin : "+e),console.log(e),alert(e)}},view_exists:function(){return this.xml_view.length>0}},_.prototype={notice_selector:null,hide_notice:function(){var e=jQuery(document).find(this.notice_selector);e.length&&e.hide("fast")},error_notice:function(e){this.get_notice_template("notice notice-error").html(jQuery("<p>").html(e))},success_notice:function(e){this.get_notice_template("notice notice-success").html(jQuery("<p>").html(e))},get_notice_template:function(e){var t=jQuery(document).find(this.notice_selector);return t.length?(t.attr("class",e),t.show("fast")):((t=jQuery("<div>").attr("class",e).attr("id",this.notice_selector.replace(/#/g,""))).insertAfter(".wp-header-end").hide().show("fast"),t)}},f.prototype={item:null,wrapper:null,button_selector:null,remove_selector:null,single_item_class:null,callback:null,add_new_item:function(){var e=this.item.clone();e.find("input").val(""),e.find("select").prop("selectedIndex",0),e.find(this.remove_selector).removeClass("hidden"),this.wrapper.append(e),this.remove_listener(e)},remove_listener:function(e){var t=this;e.find(this.remove_selector+":first").on("click",(function(e){e.preventDefault(),jQuery(this).closest(t.single_item_class).remove()}))},add_listeners:function(){var e=this;jQuery(document).on("click",e.button_selector,(function(t){t.preventDefault(),e.add_new_item(),"function"==typeof e.callback&&e.callback()}))},init:function(){this.add_listeners()}},h.prototype={import_button:null,next_step_button:null,loader:null,original_file_format:null,original_file_name:null,notice:null,exception:null,download:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"download_product_data",data:e,security:download_product_data.nonce},success:function(e){!0===e.success?(t.notice.success_notice(e.message),t.import_button.attr("disabled",!1),t.next_step_button.attr("disabled",!1),t.original_file_format.val(e.original_file_format),t.original_file_name.val(e.original_file_name),t.loader.hide()):(t.import_button.attr("disabled",!1),t.notice.error_notice(e.message),t.loader.hide())},error:function(e,o){t.import_button.attr("disabled",!1),t.notice.error_notice(t.exception.get_message(e,o)),t.loader.hide()}})},add_listeners:function(){var e=this;e.import_button.on("click",(function(t){t.preventDefault(),e.import_button.attr("disabled",!0),e.next_step_button.attr("disabled",!0),e.loader.show(),e.notice.hide_notice(),e.download(jQuery(this).closest("form").serialize())}))},init:function(){this.add_listeners()}},b.prototype={page_input:null,items:null,left_button:null,right_button:null,callback:null,change_page:function(e,t){this.page_input.val(e),"function"==typeof this.callback&&this.callback(e)},add_listeners:function(){var e=this;e.left_button.on("click",(function(t){if(t.preventDefault(),e.page_input.val()>1){var o=e.page_input.val()-1;e.change_page(o,e.callback)}})),e.right_button.on("click",(function(t){if(t.preventDefault(),parseInt(e.items.html())>e.page_input.val()){var o=parseInt(e.page_input.val())+1;e.change_page(o,e.callback)}})),e.page_input.on("change",(function(){e.change_page(e.page_input.val(),e.callback)}))},update_items:function(e){this.items.html(e)},update_page:function(e){this.page_input.val(e)},init:function(){this.add_listeners()}},v.prototype={apply_button:null,separator:null,loader:null,notice:null,callback:null,request:null,exception:null,evaluate:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"evaluate_csv_product_data",separator:e.separator.val(),uid:e.request.getUid(),security:evaluate_csv_product_data.nonce},success:function(t){!0===t.success?(e.notice.success_notice(t.message),e.separator.val(t.separator),e.apply_button.attr("disabled",!1),"function"==typeof e.callback&&e.callback(t.items),e.loader.hide()):(e.apply_button.attr("disabled",!1),e.notice.error_notice(t.message),e.loader.hide())},error:function(t,o){e.apply_button.attr("disabled",!1),e.notice.error_notice(e.exception.get_message(t,o)),e.loader.hide()}})},add_listeners:function(){var e=this;e.apply_button.on("click",(function(t){t.preventDefault(),e.apply_button.attr("disabled",!0),e.loader.show(),e.notice.hide_notice(),e.evaluate()}))},init:function(){this.add_listeners()}},j.prototype={buttons:null,loader:null,notice:null,callback:null,request:null,exception:null,evaluate:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"evaluate_xml_product_data",node_element:e,uid:t.request.getUid(),security:evaluate_xml_product_data.nonce},success:function(o){!0===o.success?(t.notice.success_notice(o.message),"function"==typeof t.callback&&t.callback(o.items,e,o.content),t.loader.hide()):(t.notice.error_notice(o.message),t.loader.hide())},error:function(e,o){t.notice.error_notice(t.exception.get_message(e,o)),t.loader.hide()}})},add_listeners:function(){var e=this;e.buttons.on("click",(function(t){t.preventDefault(),e.loader.show(),e.notice.hide_notice(),e.buttons.removeClass("active"),jQuery(this).addClass("active"),e.evaluate(jQuery(this).attr("data-id"))}))},init:function(){this.add_listeners()}},Q.prototype={table:null,loader:null,notice:null,callback:null,exception:null,preview:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"preview_csv_product_data",item_number:e,uid:t.request.getUid(),security:preview_csv_product_data.nonce},success:function(o){!0===o.success?(t.notice.success_notice(o.message),t.table.html(o.content),"function"==typeof t.callback&&t.callback(e,o.content),t.loader.hide()):(t.notice.error_notice(o.message),t.loader.hide())},error:function(e,o){t.notice.error_notice(t.exception.get_message(e,o)),t.loader.hide()}})},change_page:function(e){this.loader.show(),this.preview(e)}},k.prototype={element:null,loader:null,notice:null,callback:null,request:null,exception:null,preview:function(e){var t=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"preview_xml_product_data",item_number:e,node_element:t.element.val(),uid:t.request.getUid(),security:preview_xml_product_data.nonce},success:function(o){!0===o.success?(t.notice.success_notice(o.message),"function"==typeof t.callback&&t.callback(e,o.content),t.loader.hide()):(t.notice.error_notice(o.message),t.loader.hide())},error:function(e,o){t.notice.error_notice(t.exception.get_message(e,o)),t.loader.hide()}})},update_element:function(e){this.element.val(e)},change_page:function(e){this.loader.show(),this.preview(e)}},C.prototype={element:null,interval:null,elapsed_seconds:0,hours:0,minutes:0,seconds:0,update_timer:function(){this.elapsed_seconds=this.elapsed_seconds+1},update_element:function(e){this.element.text(e)},get_formated_time:function(){var e=this.elapsed_seconds,t=Math.floor(e/3600);e=this.elapsed_seconds%3600;var o=Math.floor(e/60);e=this.elapsed_seconds%60;var i=Math.floor(e);return this.hours=this.get_pretty_time(t),this.minutes=this.get_pretty_time(o),this.seconds=this.get_pretty_time(i),this.hours+":"+this.minutes+":"+this.seconds},get_pretty_time:function(e){return(e<10?"0":"")+e},start_timer:function(){var e=this;e.interval=setInterval((function(){e.update_timer(),e.update_element(e.get_formated_time())}),1e3)},stop_timer:function(){clearInterval(this.interval)}},P.prototype={request:null,log_view:null,created:null,updated:null,skipped:null,total:null,progress:null,notice:null,timer:null,callback:null,exception:null,stop_import:null,start_import:null,player_selector:null,stop:!1,import_process:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"import_products",uid:e.request.getUid(),security:import_products.nonce},success:function(t){!0===t.success?(e.add_to_log(t.log),e.update_created(parseInt(t.created)),e.update_updated(parseInt(t.updated)),e.update_skipped(parseInt(t.skipped)),e.update_total(parseInt(t.total)),e.update_progress(t.progress),!0===t.finished||!0===e.stop?(e.timer.stop_timer(),"function"==typeof e.callback&&e.callback()):e.import_process()):e.notice.error_notice(t.message)},error:function(t,o){e.notice.error_notice(e.exception.get_message(t,o))}})},update_created:function(e){this.created.text(e)},update_updated:function(e){this.updated.text(e)},update_skipped:function(e){this.skipped.text(e)},update_total:function(e){this.total.text(e)},add_to_log:function(e){this.log_view.val(this.log_view.val()+e)},update_progress:function(e){this.progress.text(e)},stop_import_process:function(){var e=this;jQuery.ajax({type:"POST",cache:!1,url:ajaxurl,data:{action:"stop_import_products",uid:e.request.getUid(),security:stop_import_products.nonce},success:function(t){!0===t.success?e.add_to_log(t.message+"\n"):e.notice.error_notice(t.message)},error:function(t,o){e.notice.error_notice(e.exception.get_message(t,o))}})},autostart:function(e){!0===e&&(this.add_to_log("Import Start...\n"),this.import_process(),this.timer.start_timer())},add_listeners:function(){var e=this;e.stop_import.on("click",(function(t){t.preventDefault(),e.stop=!0,jQuery(this).closest(e.player_selector).removeClass("start").addClass("stop"),e.stop_import_process()})),e.start_import.on("click",(function(t){t.preventDefault(),e.stop=!1,jQuery(this).closest(e.player_selector).removeClass("stop").addClass("start"),e.autostart(!0)}))},init:function(){this.add_listeners()}},F.prototype={admin_bar:null,sidebar:null,sidebar_content:null,top_offset:null,scroll:function(){var e=this;jQuery(window).scroll((function(){jQuery(this).scrollTop()>e.top_offset?e.sidebar.hasClass("fixed")||(e.sidebar.addClass("fixed"),e.sidebar.css("top",e.admin_bar.height()+"px")):e.sidebar.hasClass("fixed")&&(e.sidebar.removeClass("fixed"),e.sidebar.css("top","auto"))}))},init:function(){this.top_offset=this.sidebar.offset().top-this.admin_bar.height();var e=jQuery(window).height()-(this.sidebar_content.offset().top-this.sidebar.offset().top)-this.admin_bar.height()-70;this.sidebar_content.css("max-height",e+"px"),this.scroll()}};o(0);window.BrowserRequest=i,window.Exception=n,window.DraggableElements=s,window.DroppableElements=a,window.XmlView=u,window.Notice=_,window.MultiFormField=f,window.DownloadFile=h,window.Navigator=b,window.ConvertCsv=v,window.ConvertXml=j,window.PreviewCsv=Q,window.PreviewXml=k,window.Timer=C,window.Import=P,window.FixedSidebar=F}]);