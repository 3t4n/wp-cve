/*
 VA Social Buzz.

 @package   VisuAlive.
 @version   1.1.0
 @author    KUCKLU.
 @copyright Copyright (c) KUCKLU and VisuAlive.
 @link      http://visualive.jps
 @license   GPL-2.0+
 */
(function(c,d,f,h){({cache:{},init:function(){this.cacheElements();this.bindEvents()},cacheElements:function(){this.cache={$window:c(d),window:d,$document:c(f),document:f,wordpress:vaSocialBuzzSettings}},bindEvents:function(){var a=this;c.ajaxSetup({cache:!0,async:!0});a.cache.$document.on("ready",function(){a.gaEventTracking();a.createElements();a.getJavaScriptSDK()})},gaEventTracking:function(){var a=this,b=c(".va-social-buzz"),d=b.find(".vasb_share_button-fb").children("a"),g=b.find(".vasb_share_button-twttr").children("a"),
b=b.find(".vasb_share_button-push7").children("a");"undefined"==typeof a.cache.window.GoogleAnalyticsObject||"ga"!=a.cache.window.GoogleAnalyticsObject&&"__gaTracker"!=a.cache.window.GoogleAnalyticsObject?(d.on("click",function(e){e.preventDefault();"undefined"!=typeof FB&&"undefined"!=typeof a.cache.wordpress.appid?FB.ui({method:"share",href:a.cache.window.location.href,redirect_uri:a.cache.window.location.href}):a._shareNewWindow(this)}),g.on("click",function(e){e.preventDefault();a._shareNewWindow(this)}),
b.on("click",function(e){e.preventDefault();a._shareNewWindow(this)})):a._gaEventTracking(a)},createElements:function(){var a=this.cache.document.getElementById("fb-root");if(null==a){var b=this.cache.document.body;a=this.cache.document.createElement("div");a.setAttribute("id","fb-root");b.insertBefore(a,b.firstChild)}},getJavaScriptSDK:function(){var a=this,b;c.getScript("//connect.facebook.net/"+a._deletionOtherAlphanumeric(a.cache.wordpress.locale)+"/sdk.js",function(){b={version:"v2.8",status:!0,
cookie:!0,xfbml:!0};"undefined"!=typeof a.cache.wordpress.appid&&(b.appId=a._deletionOtherNumeric(a.cache.wordpress.appid));d.fbAsyncInit=function(){FB.init(b)}});c.getScript("//platform.twitter.com/widgets.js",function(){twttr.widgets.load()})},_escapeHTML:function(a){return a.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"").replace(/"/g,"&quot;").replace(/\'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},_deletionOtherAlphanumeric:function(a){return a.replace(/[^\w\-]/g,"")},_deletionOtherNumeric:function(a){return a.replace(/[^0-9]/g,
"")},_gaEventTracking:function(a){var b=c(".va-social-buzz"),f=b.find(".vasb_share_button-fb").children("a"),g=b.find(".vasb_share_button-twttr").children("a"),b=b.find(".vasb_share_button-push7").children("a");null!=a.cache.window.__gaTracker&&(d.ga=a.cache.window.__gaTracker);d.onload=function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(a){ga("send","event","VA Social Buzz","Facebook Like",a);ga("send","social","Facebook","Like",a)}),FB.Event.subscribe("edge.remove",function(a){ga("send",
"event","VA Social Buzz","Facebook Unlike",a);ga("send","social","Facebook","Unlike",a)}));"undefined"!=typeof twttr&&twttr.ready(function(b){b.events.bind("follow",function(){ga("send","event","VA Social Buzz","Twitter Follow",a.cache.window.location.href);ga("send","social","Twitter","Follow",a.cache.window.location.href)})})};f.on("click",function(b){b.preventDefault();"undefined"!=typeof FB&&"undefined"!=typeof a.cache.wordpress.appid?FB.ui({method:"share",href:a.cache.window.location.href,redirect_uri:a.cache.window.location.href},
function(b){b&&!b.error_message&&(ga("send","event","VA Social Buzz","Facebook Share",a.cache.window.location.href),ga("send","social","Facebook","Share",a.cache.window.location.href))}):(ga("send","event","VA Social Buzz","Facebook Share",a.cache.window.location.href),ga("send","social","Facebook","Share",a.cache.window.location.href),a._shareNewWindow(this))});g.on("click",function(b){b.preventDefault();ga("send","event","VA Social Buzz","Twitter Tweet",a.cache.window.location.href);ga("send","social",
"Twitter","Tweet",a.cache.window.location.href);a._shareNewWindow(this)});b.on("click",function(b){b.preventDefault();ga("send","event","VA Social Buzz","Push7 Subscription",a.cache.window.location.href);ga("send","social","Push7","Subscription",a.cache.window.location.href);a._shareNewWindow(this)})},_shareNewWindow:function(a){a=this._escapeHTML(c(a).attr("href"));d.open(a,"","width=550,height=500")}}).init()})(window.jQuery,window,document,void 0);
