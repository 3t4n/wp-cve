jQuery("body").bind("focus",function(e){e.preventDefault()}),jQuery(document).ready(function(e){function o(o,t){console.log("Updating layout..."),e("#fca_eoi_layout_revert_button").show(),e("#fca-preview-style").remove(),e("#fca_eoi_preview_form_container").remove(),e("#fca_eoi_preview").append(o.html),e("#accordion-info-layout").html(e(".fca_eoi_layout.active").find(".fca_eoi_layout_info h3").html());var c,_,n=o.editables,s="";for(var d in l){g=l[d].replace(']"]','_selector]"]');e(g).val("")}for(var h in n)for(var m in n[h])for(var p in n[h][m]){s=e(l[c=h+"-"+p]),_=n[h][m][p][1],-1!==c.indexOf("font-size")?(t&&s.children().filter(function(){return e(this).val()==_}).prop("selected",!0),s.data("css-target",m)):-1!==c.indexOf("width")?(t&&(_.indexOf("px")>0?s.next().val("px"):s.next().val("%"),s.val(parseInt(_))),s.data("css-target",m)):(t&&s.val(_),s.data("css-target",m));var u=l[c];if(u){var g=u.replace(']"]','_selector]"]');e(g).val(m)}else console.log("can't find target: "+c)}!function(o){if(r[o]){this_save=r[o];for(var a in l)this_save[a]&&e(l[a]).val(this_save[a])}}(e("#fca_eoi_layout_select").val()),e(".fca-color-picker").change(),e(".fca-font-size-picker").change(),e(".fca_eoi_width_units_select").change(),function(o){var a="Free Email Updates";-1!==["lightbox_17","lightbox_21","lightbox_22","postbox_17","postbox_21","postbox_22","layout_17","layout_22"].indexOf(o)&&(a="Almost done: complete this form and click the button to gain instant access.");""===e('[name="fca_eoi[headline_copy]"]').val()&&e('[name="fca_eoi[headline_copy]"]').val(a);""===e('[name="fca_eoi[description_copy]"]').val()&&e('[name="fca_eoi[description_copy]"]').val("Get the latest content first.");""===e('[name="fca_eoi[name_placeholder]"]').val()&&e('[name="fca_eoi[name_placeholder]"]').val("First Name");""===e('[name="fca_eoi[email_placeholder]"]').val()&&e('[name="fca_eoi[email_placeholder]"]').val("Email");""===e('[name="fca_eoi[button_copy]"]').val()&&e('[name="fca_eoi[button_copy]"]').val("Join Now");""===e('[name="fca_eoi[privacy_copy]"]').val()&&e('[name="fca_eoi[privacy_copy]"]').val("We respect your privacy.")}(e("#fca_eoi_layout_select").val()),function(o){-1!==o.indexOf("banner")||-1!==o.indexOf("overlay")?(e('[name="fca_eoi[show_privacy_field]"]').attr("checked",!1),e("#fca_eoi_fieldset_privacy").hide(),e("#fca_eoi_overlay_position_p").find(".switch-label").attr("data-on","Left").attr("data-off","Right"),e("#fca_eoi_overlay_position_p").show(),e("#fca_eoi_offset_p").show()):(e("#fca_eoi_fieldset_privacy").show(),e("#fca_eoi_overlay_position_p").hide(),e("#fca_eoi_offset_p").hide());-1!==o.indexOf("overlay")?e("#fca_eoi_preview_form").css("margin-top",111):e("#fca_eoi_preview_form").css("margin-top",0);-1!==o.indexOf("banner")?(e("#fca_eoi_close_button_p").show(),e("#fca_eoi_overlay_position_p").find(".switch-label").attr("data-on","Bot.").attr("data-off","Top")):(e(" #fca_eoi_preview_form").css("overflow-wrap","break-word"),e("#fca_eoi_close_button_p").hide());-1!==location.search.indexOf("action=edit")||-1===o.indexOf("lightbox")||f||(f=!0,e('[name="fca_eoi[publish_lightbox][devices]"]').val("desktop"))}(e("#fca_eoi_layout_select").val()),e('[name="fca_eoi[email_placeholder]"], [name="fca_eoi[button_copy]"]').keyup(),e('[name="fca_eoi[show_name_field]"], [name="fca_eoi[show_headline_field]"], [name="fca_eoi[show_description_field]"], [name="fca_eoi[show_privacy_field]"], [name="fca_eoi[toggle_overlay_position]"], [name="fca_eoi[show_close]"] ').change(),a(e("#fca_eoi_layout_select").val()),i(),function(){var e=jQuery;e(".fca_eoi_image").attr("src",e("#image_input").val()),e(".fca_eoi_image_wrapper").css("cursor","pointer"),""===e("#image_input").val()&&e(".fca_eoi_image_wrapper").addClass("placeholder"),e(".fca_eoi_image_wrapper").unbind("click"),e(".fca_eoi_image_wrapper").click(function(o){var a=wp.media({multiple:!1}).open().on("select",function(){var o=a.state().get("selection").first().toJSON().url;e("#image_input").val(o),e(".fca_eoi_image").attr("src",o),o&&e(".fca_eoi_image_wrapper").removeClass("placeholder")})})}(),e(".fca_eoi_banner_close_btn, .fca_eoi_scrollbox_close_btn").unbind("click").click(function(o){e(this.parentNode).show()})}function a(o){if(0===e('[name="fca_eoi[show_fatcatapps_link]"]').length?e(".fca_eoi_layout_fatcatapps_link_wrapper").hide():e('[name="fca_eoi[show_fatcatapps_link]"]').change(),-1!==o.indexOf("lightbox")||-1!==o.indexOf("banner")||-1!==o.indexOf("overlay"))e(".eoi-custom-animation-form").show();else{var a=e("#fca_eoi_meta_box_powerups").children(".inside").children();e("#fca_eoi_show_animation_checkbox_label").attr("checked",!1),1==a.length&&e(a[0]).hasClass("eoi-custom-animation-form")?e("#fca_eoi_meta_box_powerups").hide():e(".eoi-custom-animation-form").hide()}for(var i in l){target=l[i];var t=target.replace(']"]','_selector]"]');-1!==i.indexOf("name_field")?e(target).closest("p").hide():""!==e(t).val()?e(target).hasClass("wp-color-picker")||e(target).hasClass("fca_eoi_width_input")?e(target).closest("p").show():e(target).show():e(target).hasClass("wp-color-picker")||e(target).hasClass("fca_eoi_width_input")?e(target).closest("p").hide():e(target).hide()}-1!==o.indexOf("banner")?(e("#fca_eoi_fieldset_description").hide(),e("#fca_eoi_push_page_p").show()):(e("#fca_eoi_fieldset_description").show(),e("#fca_eoi_push_page_p").hide())}function i(){e("#fca_eoi_publish_widget, #fca_eoi_publish_postbox, #fca_eoi_publish_lightbox").hide();var o=e("#fca_eoi_layout_select").val();e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(0).closest("p").show(),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(1).closest("p").show(),-1!==o.indexOf("postbox")?e("#fca_eoi_publish_postbox").show():-1!==o.indexOf("lightbox")?(e("#fca_eoi_publish_lightbox").show(),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(0).closest("p").show()):-1!==o.indexOf("banner")||-1!==o.indexOf("overlay")?(e("#fca_eoi_publish_lightbox").show(),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(0).closest("p").hide(),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(1).closest("p").hide(),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(1).prop("checked",!0),e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(1).trigger("change")):e("#fca_eoi_publish_widget").show()}function t(o){var a=".fca_eoi_layout_submit_button_wrapper input:hover, .fca_eoi_layout_submit_button_wrapper:hover { background-color:"+o+"!important}";e(".fca_eoi_css_hover_shim").remove();e("<div />",{html:"<style>"+a+"</style>"}).appendTo("body").addClass("fca_eoi_css_hover_shim")}function c(o){var a=".fca_eoi_form_input_element::-webkit-input-placeholder {opacity: 0.6; color:"+o+"}.fca_eoi_form_input_element::-moz-placeholder {opacity: 0.6;  color:"+o+"}.fca_eoi_form_input_element:-ms-input-placeholder {opacity: 0.6; color:"+o+"}.fca_eoi_form_input_element:-moz-placeholder {opacity: 0.6; color:"+o+"}";e(".fca_eoi_css_placeholder_shim").remove();e("<div />",{html:"<style>"+a+"</style>"}).appendTo("body").addClass("fca_eoi_css_placeholder_shim")}function _(e,o){return e.trim().length>o?e.trim().substring(0,o)+"..":e.trim()}e(".fca_eoi_layout").parent().html(e(".fca_eoi_layout").sort(function(o,a){return e(o).data("layout-order")-e(a).data("layout-order")})),jQuery("#post").addClass("loaded"),jQuery("#poststuff").show();var n=e("#post_ID").val(),l={"form-background-color":'[name="fca_eoi[form_background_color]"]',"form-bottom-color":'[name="fca_eoi[form_bottom_color]"]',"form-border-color":'[name="fca_eoi[form_border_color]"]',"form-width":'[name="fca_eoi[form_width]"]',"form-text-align":'[name="fca_eoi[form_alignment]"]',"headline-font-size":'[name="fca_eoi[headline_font_size]"]',"headline-color":'[name="fca_eoi[headline_font_color]"]',"headline-fill":'[name="fca_eoi[headline_fill_color]"]',"headline-background-color":'[name="fca_eoi[headline_background_color]"]',"description-font-size":'[name="fca_eoi[description_font_size]"]',"description-color":'[name="fca_eoi[description_font_color]"]',"name_field-font-size":'[name="fca_eoi[name_font_size]"]',"name_field-color":'[name="fca_eoi[name_font_color]"]',"name_field-background-color":'[name="fca_eoi[name_background_color]"]',"name_field-border-color":'[name="fca_eoi[name_border_color]"]',"name_field-width":'[name="fca_eoi[name_width]"]',"email_field-font-size":'[name="fca_eoi[email_font_size]"]',"email_field-color":'[name="fca_eoi[email_font_color]"]',"email_field-background-color":'[name="fca_eoi[email_background_color]"]',"email_field-border-color":'[name="fca_eoi[email_border_color]"]',"email_field-width":'[name="fca_eoi[email_width]"]',"button-font-size":'[name="fca_eoi[button_font_size]"]',"button-color":'[name="fca_eoi[button_font_color]"]',"button-hover-color":'[name="fca_eoi[button_hover_color]"]',"button-background-color":'[name="fca_eoi[button_background_color]"]',"button-border-bottom-color":'[name="fca_eoi[button_wrapper_background_color]"]',"button-border-color":'[name="fca_eoi[button_border_color]"]',"button-width":'[name="fca_eoi[button_width]"]',"privacy-font-size":'[name="fca_eoi[privacy_font_size]"]',"privacy-color":'[name="fca_eoi[privacy_font_color]"]',"fatcatapps-color":'[name="fca_eoi[branding_font_color]"]'},r=[];e(".fca-color-picker").wpColorPicker({palettes:["#000","#fff","#42d0e1","#fdd01f","#ecf0f1","#0ff1a3","#ffe26e","#99d7d9","#e74c3c"],change:function(o,a){var i=e(e(this).data("css-target")),_=e("#fca_eoi_layout_select").val(),n=e(".fca_eoi_layout.active").find(".fca_eoi_layout_info h3").html();-1!=e(this).attr("name").indexOf("button_background_color")?e(".fca_eoi_form_button_element").css("background-color",a.color.toString()):-1!=e(this).attr("name").indexOf("button_wrapper_background_color")?(e(".fca_eoi_layout_submit_button_wrapper").css("background-color",a.color.toString()),e('[name="fca_eoi[button_wrapper_background_color]"]').val(a.color.toString())):-1!=e(this).attr("name").indexOf("button_hover_color")?(t(a.color.toString()),e('[name="fca_eoi[button_hover_color]"]').val(a.color.toString())):-1!=e(this).attr("name").indexOf("background")?"fca_eoi[headline_background_color]"==e(this).attr("name")?(i.css("background-color",a.color.toString()),"layout_3"==_&&e(".fca_eoi_layout_headline_copy_triangle polygon").css("fill",a.color.toString())):"fca_eoi[name_background_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("background-color",a.color.toString()),e('[name="fca_eoi[email_background_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[email_background_color]"]').data("css-target"))).css("background-color",a.color.toString())):"fca_eoi[email_background_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("background-color",a.color.toString()),e('[name="fca_eoi[name_background_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[name_background_color]"]').data("css-target"))).css("background-color",a.color.toString())):"fca_eoi[form_background_color]"==e(this).attr("name")&&("Image"===n&&(i=e("div.fca_eoi_top_wrapper")),i.css("background-color",a.color.toString())):-1!=e(this).attr("name").indexOf("form_bottom_color")?(i=e("div.fca_eoi_layout_inputs_wrapper")).css("background-color",a.color.toString()):-1!=e(this).attr("name").indexOf("border")?"fca_eoi[name_border_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("border-color",a.color.toString()),e('[name="fca_eoi[email_border_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[email_border_color]"]').data("css-target"))).css("border-color",a.color.toString())):"fca_eoi[email_border_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("border-color",a.color.toString()),e('[name="fca_eoi[name_border_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[name_border_color]"]').data("css-target"))).css("border-color",a.color.toString())):i.css("border-color",a.color.toString()):"fca_eoi[name_font_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("color",a.color.toString()),e('[name="fca_eoi[email_font_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[email_font_color]"]').data("css-target"))).css("color",a.color.toString()),c(a.color.toString())):"fca_eoi[email_font_color]"==e(this).attr("name")?((i=e(e(this).data("css-target"))).css("color",a.color.toString()),e('[name="fca_eoi[name_font_color]"]').val(a.color.toString()),(i=e(e('[name="fca_eoi[name_font_color]"]').data("css-target"))).css("color",a.color.toString()),c(a.color.toString())):i.css("color",a.color.toString())}}),e(".fca-color-picker").change(function(){var o=e(e(this).data("css-target")),a=e("#fca_eoi_layout_select").val(),i=e(".fca_eoi_layout.active").find(".fca_eoi_layout_info h3").html();if(-1!=e(this).attr("name").indexOf("button_background_color"))e(".fca_eoi_form_button_element").css("background-color",e(this).val());else if(-1!=e(this).attr("name").indexOf("button_hover_color"))t(e(this).val()),e('[name="fca_eoi[button_hover_color]"]').val(e(this).val());else if(-1!=e(this).attr("name").indexOf("button_wrapper_background_color"))e(".fca_eoi_layout_submit_button_wrapper").css("background-color",e(this).val()),e('[name="fca_eoi[button_wrapper_background_color]"]').val(e(this).val());else if(-1!=e(this).attr("name").indexOf("form_bottom_color"))["Flat","Padded Image","Image","Wide Image","Content Upgrade","Content Upgrade - Image","Content Upgrade - Wide Image"].includes(i)?(e("div.fca_eoi_layout_inputs_wrapper").css("background-color",e(this).val()),e('[name="fca_eoi[form_bottom_color]"]').val(e(this).val())):(e("div.fca_eoi_layout_inputs_wrapper").css("background-color","unset"),e('[name="fca_eoi[form_bottom_color]"]').val("unset"));else if(-1!=e(this).attr("name").indexOf("background")){if("fca_eoi[headline_background_color]"==e(this).attr("name")){_=e(this).val();o.css("background-color",_),"layout_3"==a&&e(".fca_eoi_layout_headline_copy_triangle polygon").css("fill",_)}else if("fca_eoi[name_background_color]"===e(this).attr("name")){_=e(this).val();o.css("background-color",_)}else if("fca_eoi[email_background_color]"===e(this).attr("name")){_=e(this).val();o.css("background-color",_)}else if("fca_eoi[form_background_color]"===e(this).attr("name"))if("Image"===i)e("div.fca_eoi_top_wrapper").css("background-color",e(this).val()+" !important");else{var _=e(this).val();o.css("background-color",_)}}else-1!=e(this).attr("name").indexOf("border")?o.css("border-color",e(this).val()):-1!=e(this).attr("name").indexOf("name_font_color")||-1!=e(this).attr("name").indexOf("email_font_color")?(o.css("color",e(this).val()),c(e(this).val())):o.css("color",e(this).val())}),e(".fca_eoi_width_input").on("change input",function(){var o=e(e(this).data("cssTarget")),a=e(this).next().val();"%"===a&&e(this).val()>100&&e(this).val(100),o.css("max-width",e(this).val()+a)}),e(".fca_eoi_width_units_select").change(function(){e(this).prev().change()}),e(".fca-eoi-align-button").click(function(){var o=e(e(this).siblings(".fca_eoi_alignment_input").data("cssTarget"));e(this).siblings(".fca-eoi-align-button").removeClass("fca-alignment-selected"),e(this).addClass("fca-alignment-selected"),e(this).siblings(".fca_eoi_alignment_input").val(e(this).data("value")),o.css("text-align",e(this).data("value"))}),e(".fca-font-size-picker").change(function(){"fca_eoi[name_font_size]"==e(this).attr("name")?($target=e(e(this).data("css-target")),$target.css("font-size",e(this).val()),e('[name="fca_eoi[email_font_size]"]').val(e(this).val()),$target=e(e('[name="fca_eoi[email_font_size]"]').data("css-target")),$target.css("font-size",e(this).val())):"fca_eoi[email_font_size]"==e(this).attr("name")?($target=e(e(this).data("css-target")),$target.css("font-size",e(this).val()),e('[name="fca_eoi[name_font_size]"]').val(e(this).val()),$target=e(e('[name="fca_eoi[name_font_size]"]').data("css-target")),$target.css("font-size",e(this).val())):($target=e(e(this).data("css-target")),$target.css("font-size",e(this).val()))}),e("#fca_eoi_layout_select_button").click(function(){var o=e("#fca_eoi_layout_select").val();!function(o){layoutSave={};for(var a in l)layoutSave[a]=e(l[a]).val();r[o]=layoutSave}(o),e(".postbox").hide(),e("#fca_eoi_meta_box_setup").show(),-1!==o.indexOf("lightbox")?e("#layouts_types_tabs li").eq(0).click():-1!==o.indexOf("postbox")?e("#layouts_types_tabs li").eq(1).click():-1!==o.indexOf("banner")?e("#layouts_types_tabs li").eq(3).click():-1!==o.indexOf("overlay")?e("#layouts_types_tabs li").eq(4).click():e("#layouts_types_tabs li").eq(2).click()});var s='<span class="dashicons dashicons-hidden"></span>';e('[name="fca_eoi[headline_copy]"]').keyup(function(){e("#fca_eoi_preview_headline_copy").html(e(this).val()),e("#accordion-info-headline").html(_(e(this).val(),16))}),e('[name="fca_eoi[description_copy]"]').keyup(function(){e(".fca_eoi_layout_description_copy_wrapper div").html(e(this).val()),e("#accordion-info-description").html(_(e(this).val(),16))}),e('[name="fca_eoi[name_placeholder]"]').keyup(function(){e(".fca_eoi_layout_name_field_inner").children().first().attr("placeholder",e(this).val()),e("#accordion-info-name_field").html(_(e(this).val(),16))}),e('[name="fca_eoi[email_placeholder]"]').keyup(function(){e(".fca_eoi_layout_email_field_inner").children().first().attr("placeholder",e(this).val()),e("#accordion-info-email_field").html(_(e(this).val(),16))}),e('[name="fca_eoi[button_copy]"]').keyup(function(){e(".fca_eoi_form_button_element").val(e(this).val()),e("#accordion-info-button").html(_(e(this).val(),16))}),e('[name="fca_eoi[privacy_copy]"]').keyup(function(){e(".fca_eoi_layout_privacy_copy_wrapper").children().first().html(e(this).val()),e("#accordion-info-after_button_area").html(_(e(this).val(),16))}),e('[name="fca_eoi[show_fatcatapps_link]"]').change(function(){e(".fca_eoi_layout_fatcatapps_link_wrapper").toggle(this.checked),this.checked?e("#accordion-info-branding").html(""):e("#accordion-info-branding").html(s)}),e('[name="fca_eoi[show_name_field]"]').change(function(){e(".fca_eoi_layout_name_field_wrapper").toggle(this.checked);e("#fca_eoi_layout_select").val();this.checked?(e("#fca_eoi_name_field").show(),e('[name="fca_eoi[name_placeholder]"]').keyup()):e("#fca_eoi_name_field").hide()}),e('[name="fca_eoi[show_headline_field]"]').change(function(){e(".fca_eoi_layout_headline_copy_wrapper").toggle(this.checked),this.checked?e('[name="fca_eoi[headline_copy]"]').keyup():e("#accordion-info-headline").html(s)}),e('[name="fca_eoi[show_description_field]"]').change(function(){e(".fca_eoi_layout_description_copy_wrapper").toggle(this.checked),this.checked?e('[name="fca_eoi[description_copy]"]').keyup():e("#accordion-info-description").html(s)}),e('[name="fca_eoi[show_privacy_field]"]').change(function(){e(".fca_eoi_layout_privacy_copy_wrapper").toggle(this.checked),this.checked?e('[name="fca_eoi[privacy_copy]"]').keyup():e("#accordion-info-after_button_area").html(s)}),e('[name="fca_eoi[show_close]"]').change(function(){e(".fca_eoi_banner_close_btn").toggle(this.checked)}),e('[name="fca_eoi[toggle_overlay_position]"]').change(function(){var o=e("#fca_eoi_layout_select").val();-1!==o.indexOf("banner")&&(this.checked?e("#fca_eoi_preview_form").css("margin-top",170):e("#fca_eoi_preview_form").css("margin-top",-20)),-1!==o.indexOf("overlay")&&(this.checked?(e("#fca_eoi_preview_form").css("margin-left",5),e("#fca_eoi_preview_form").css("margin-right","auto")):(e("#fca_eoi_preview_form").css("margin-right",5),e("#fca_eoi_preview_form").css("margin-left","auto"))),e('[name="fca_eoi[offset]"]').change()}),e('[name="fca_eoi[offset]"]').on("input change",function(){var o=e("#fca_eoi_layout_select").val(),a=parseInt(e(this).val());-1!==o.indexOf("banner")&&(e('[name="fca_eoi[toggle_overlay_position]"]').prop("checked")?(e("#fca_eoi_offset_p").find(".control-title").html("Margin Bottom"),e("#fca_eoi_preview_form").css("margin-top",170-a),e("#fca_eoi_push_page_p").find(".control-title").html("Push Page Up")):(e("#fca_eoi_preview_form").css("margin-top",a-20),e("#fca_eoi_offset_p").find(".control-title").html("Margin Top"),e("#fca_eoi_push_page_p").find(".control-title").html("Push Page Down"))),-1!==o.indexOf("overlay")&&(e('[name="fca_eoi[toggle_overlay_position]"]').prop("checked")?(e("#fca_eoi_preview_form").css("margin-left",a),e("#fca_eoi_offset_p").find(".control-title").html("Margin Left")):(e("#fca_eoi_preview_form").css("margin-right",a),e("#fca_eoi_offset_p").find(".control-title").html("Margin Right")))});var f=!1;e("#fca_eoi_layout_revert_button").click(function(o){var a=e("#fca_eoi_layout_select").val();e('[data-layout-id="'+a+'"]').click()}),e(".fca_eoi_layout").click(function(a){if(e(this).hasClass("layout-disabled"))return window.open(e(this).find(".upgrade-link").attr("href"),"_blank"),!1;var i=e("#fca_eoi_layout_select").val(),t=e(this).data("layout-id");e(".fca_eoi_layout").removeClass("active"),e(this).addClass("active"),e("#fca_eoi_layout_select").val(t),i!==t&&o(fcaEoiLayouts[t],!0),e(".postbox").show(),e("#fca_eoi_meta_box_setup").hide(),e("#fca_eoi_meta_box_build, #fca_eoi_meta_box_provider, #fca_eoi_meta_box_thanks, #fca_eoi_meta_box_publish").show(),e(window).scrollTop(0)}),e(".accordion-section, .accordion-section-title").click(function(){e(this).closest('[id^="fca_eoi_fieldset_"]').attr("id");e(".fca_eoi_highlighted","#fca_eoi_preview").removeClass("fca_eoi_highlighted"),0===e(".fca_eoi_highlighted").length&&e("#fca_eoi_preview_form").addClass("fca_eoi_highlighted")});var d=function(o){"name_field"===o?e("#fca_eoi_fieldset_email_field.accordion-section:not(.open) .accordion-section-title").click():e("#fca_eoi_fieldset_"+o+".accordion-section:not(.open) .accordion-section-title").click(),e(".wp-editor-area:visible").focus(),e("#fca_eoi_fieldset_"+o).find(".fca_eoi_text_input").focus()};if(e(".fca_eoi_custom_css_textbox").length>0&&wp.codeEditor.initialize(e(".fca_eoi_custom_css_textbox")),e("#fca_eoi_preview").click(function(o){isNaN(o.clientX)&&(o.clientX=0),isNaN(o.clientY)&&(o.clientY=0);var a=e(document.elementFromPoint(o.clientX,o.clientY)).closest("[data-fca-eoi-fieldset-id]");d(a.length>0?a.data("fca-eoi-fieldset-id"):"form")}),e("#fca_eoi_settings .accordion-section").each(function(){e(this).click(function(){e(".fca_eoi_highlighted","#fca_eoi_preview").removeClass("fca_eoi_highlighted");var o=e(this).attr("id").replace("fca_eoi_fieldset_",""),a=e("[data-fca-eoi-fieldset-id="+o+"]","#fca_eoi_preview");if("email_field"===o)var i=e("[data-fca-eoi-fieldset-id=name_field]","#fca_eoi_preview");a.is("p, div, h1, h2, h3, h4, h5, h6")?(a.addClass("fca_eoi_highlighted"),i&&i.addClass("fca_eoi_highlighted")):a.closest("p, div, h1, h2, h3, h4, h5, h6").addClass("fca_eoi_highlighted"),0===e(".fca_eoi_highlighted").length&&e("#fca_eoi_preview_form").addClass("fca_eoi_highlighted")})}),e('[name="fca_eoi[provider]"]').change(function(){var o=e(this).val();e("[id^=fca_eoi_fieldset_form_][id$=_integration]").slideUp("fast"),o&&e("#fca_eoi_fieldset_form_"+o+"_integration").slideDown("fast")}).change(),e('input[name="fca_eoi[publish_lightbox_mode]"]').on("click change",function(){var o=e(this),a=o.val(),i=e("#fca_eoi_publish_lightbox_mode_"+a);i.removeClass("hidden"),e("[id^=fca_eoi_publish_lightbox_mode_]").hide("fast"),o.prop("checked")&&i.show("fast")}),1===e('input[name="fca_eoi[publish_lightbox_mode]"]').length?e('input[name="fca_eoi[publish_lightbox_mode]"]').click().hide():e('input[name="fca_eoi[publish_lightbox_mode]"]').filter(":checked").length>0?e('input[name="fca_eoi[publish_lightbox_mode]"]').filter(":checked").click():e('input[name="fca_eoi[publish_lightbox_mode]"]').eq(1).click(),e('input[name="fca_eoi[publish_lightbox_mode]"]').unbind("click"),e('input[name="fca_eoi[lightbox_cta_text]"]').change(function(){e('input[name="fca_eoi[lightbox_cta_link]"]').val('<button data-optin-cat="{{post_ID}}">{{text}}</button>'.replace("{{post_ID}}",n).replace("{{text}}",e(this).val()))}).change(),e("#publish").val("Save"),e("#publish").click(function(){postL10n.publish="Saving",postL10n.update="Saving"}),e("#submitdiv").clone(!0).appendTo("#normal-sortables"),e('input[name="save"]').click(function(){e(".fca_eoi_form_input_element").val("")}),e('input[name="fca_eoi[thankyou_page_mode]"]').on("click change",function(){this.checked?(e("#fca_eoi_thankyou_ajax_msg").hide(),e("#fca_eoi_thank_you_text_color").hide(),e("#fca_eoi_thank_you_bg_color").hide(),e("#fca_eoi_thankyou_redirect").show("fast")):(e("#fca_eoi_thankyou_ajax_msg").show("fast"),e("#fca_eoi_thankyou_redirect").hide(),e("#fca_eoi_thank_you_text_color").show("fast"),e("#fca_eoi_thank_you_bg_color").show("fast"))}).change(),e('[name="fca_eoi[redirect_page_mode]"]').on("change",function(){"page"===e(this).val()?(e("#fca_eoi_redirect_url_span").hide(),e("#fca_eoi_redirect_page_span").show()):(e("#fca_eoi_redirect_page_span").hide(),e("#fca_eoi_redirect_url_span").show())}).change(),document.getElementById("fca_eoi_show_animation_checkbox")&&(e("#fca_eoi_show_animation_checkbox")[0].checked||e("#fca_eoi_animations_div").hide()),e("#fca_eoi_show_animation_checkbox").click(function(){e("#fca_eoi_animations_div").toggle("fast")}),e("#fca_eoi_animations").select2().on("select2-open",function(){e("#fca_eoi_animations_choice_text").removeClass()}),e("#fca_eoi_animations").select2().on("select2-close",function(){"None"!=this.value?(e("#fca_eoi_animations_choice_text").addClass("animated "+this.value),e("#fca_eoi_animations_choice_text").text("Solid choice!  You've selected a great entrance effect.")):e("#fca_eoi_animations_choice_text").text("")}),e("#layouts_types_tabs li").click(function(o){e("#layouts_types_tabs li.active").removeClass("active"),e(this).addClass("active").blur(),e(".fca_eoi_layout").hide();var a=e(this).data("target");e('[data-layout-type="'+a+'"]').show()}),e(".fca_eoi_tooltip").tooltipster({trigger:"hover",side:"right",arrow:!1,theme:["tooltipster-borderless","tooltipster-optin-cat-admin"]}),e(document).on("submit","#post",function(){e("#post").attr("enctype","application/x-www-form-urlencoded"),e("#post").attr("encoding","application/x-www-form-urlencoded"),e(window).unbind("beforeunload")}),e("select.select2").select2(),e(document).on("keypress",":input:not(textarea)",function(e){13==e.keyCode&&e.preventDefault()}),e(document).on("click","#fca_eoi_preview input[type=submit]",function(e){e.preventDefault()}),e(".autoselect").bind("click focus mouseenter",function(){e(this).select()}).mouseup(function(e){e.preventDefault}),i(),e("#fca_eoi_layout_select").hasClass("fca-new-layout"))e("#fca_eoi_layout_select_button").click(),e("#fca_eoi_layout_select").removeClass("fca-new-layout");else{var h=e("#fca_eoi_layout_select").val();e('[data-layout-id="'+h+'"]').addClass("active"),o(fcaEoiLayouts[h],!1),e("#fca_eoi_meta_box_setup").hide(),e("#fca_eoi_meta_box_build").show()}});