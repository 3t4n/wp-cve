jQuery(document).ready(function(i){function a(){var a=i("option",'[name="fca_eoi[campaignmonitor_list_id]"]');a.length>1?_.show("fast"):_.hide()}var o=i('[name="fca_eoi[campaignmonitor_api_key]"]'),t=i('[name="fca_eoi[campaignmonitor_client_id]"]'),e=i().add(o).add(t),_=(i('[name="fca_eoi[campaignmonitor_list_id]"]'),i("#campaignmonitor_list_id_wrapper"));fca_eoi_provider_status_setup("campaignmonitor",[o,t]),a(),e.bind("input",function(){if(""!==o.val().trim()&&""!==t.val().trim()){fca_eoi_provider_status_set("campaignmonitor",fca_eoi_provider_status_codes.loading);var e={action:"fca_eoi_campaignmonitor_get_lists",campaignmonitor_api_key:o.val().trim(),campaignmonitor_client_id:t.val().trim()};i.post(ajaxurl,e,function(o){var t=JSON.parse(o);fca_eoi_provider_status_set("campaignmonitor",Object.keys(t).length>1?fca_eoi_provider_status_codes.ok:fca_eoi_provider_status_codes.error);var e=i('<select class="select2" style="width: 27em;" name="fca_eoi[campaignmonitor_list_id]" >');for(list_id in t)e.append('<option value="'+list_id+'">'+t[list_id]+"</option>");i('[name="fca_eoi[campaignmonitor_list_id]"]').select2("destroy"),i('[name="fca_eoi[campaignmonitor_list_id]"]').replaceWith(e),i('[name="fca_eoi[campaignmonitor_list_id]"]').select2(),a()})}})});