!function(c){c.fn.viewportChecker=function(o){var d={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(o,t){},scrollHorizontal:!1,scrollBox:window},t=(c.extend(d,o),this),r={height:c(d.scrollBox).height(),width:c(d.scrollBox).width()};return this.checkElements=function(){var i,n=d.scrollHorizontal?(i=Math.max(c("html").scrollLeft(),c("body").scrollLeft(),c(window).scrollLeft()))+r.width:(i=Math.max(c("html").scrollTop(),c("body").scrollTop(),c(window).scrollTop()))+r.height;t.each(function(){var o,t,e,a=c(this),s={},l={};a.data("vp-add-class")&&(l.classToAdd=a.data("vp-add-class")),a.data("vp-remove-class")&&(l.classToRemove=a.data("vp-remove-class")),a.data("vp-add-class-full-view")&&(l.classToAddForFullView=a.data("vp-add-class-full-view")),a.data("vp-keep-add-class")&&(l.removeClassAfterAnimation=a.data("vp-remove-after-animation")),a.data("vp-offset")&&(l.offset=a.data("vp-offset")),a.data("vp-repeat")&&(l.repeat=a.data("vp-repeat")),a.data("vp-scrollHorizontal")&&(l.scrollHorizontal=a.data("vp-scrollHorizontal")),a.data("vp-invertBottomOffset")&&(l.scrollHorizontal=a.data("vp-invertBottomOffset")),c.extend(s,d),c.extend(s,l),a.data("vp-animated")&&!s.repeat||(0<String(s.offset).indexOf("%")&&(s.offset=parseInt(s.offset)/100*r.height),l=s.scrollHorizontal?a.offset().left:a.offset().top,o=s.scrollHorizontal?l+a.width():l+a.height(),t=Math.round(l)+s.offset,e=s.scrollHorizontal?t+a.width():t+a.height(),s.invertBottomOffset&&(e-=2*s.offset),t<n&&i<e?(a.removeClass(s.classToRemove),a.addClass(s.classToAdd),s.callbackFunction(a,"add"),o<=n&&i<=l?a.addClass(s.classToAddForFullView):a.removeClass(s.classToAddForFullView),a.data("vp-animated",!0),s.removeClassAfterAnimation&&a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.removeClass(s.classToAdd)})):a.hasClass(s.classToAdd)&&s.repeat&&(a.removeClass(s.classToAdd+" "+s.classToAddForFullView),s.callbackFunction(a,"remove"),a.data("vp-animated",!1)))})},("ontouchstart"in window||"onmsgesturechange"in window)&&c(document).bind("touchmove MSPointerMove pointermove",this.checkElements),c(d.scrollBox).bind("load scroll",this.checkElements),c(window).resize(function(o){r={height:c(d.scrollBox).height(),width:c(d.scrollBox).width()},t.checkElements()}),this.checkElements(),this}}(jQuery);