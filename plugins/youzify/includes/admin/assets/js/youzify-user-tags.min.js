!function(y){"use strict";y(document).ready(function(){y(document).on("click","#youzify-add-user-tag",function(e){e.preventDefault();var t=y(".youzify-user-tag-name span"),a=y("#youzify-user-tags-form"),i="youzify_user_tags[youzify_user_tag_"+youzify_nextUTag+"]",u=y.youzify_getAddData(a,"youzify_user_tag"),o={type:"text",value:u.name,tag_name:u.name,form:a,selector:t};if(!y.validate_user_tags_data(o))return!1;y("#youzify_user_tags").prepend('<li class="youzify-user-tag-item" data-user-tag-name="youzify_user_tag_'+youzify_nextUTag+'"><h2 class="youzify-user-tag-name"><i class="fa youzify-user-tag-icon '+u.icon+'"></i><span>'+u.name+'</span></h2><input type="hidden" name="'+i+'[icon]" value="'+u.icon+'" ><input type="hidden" name="'+i+'[name]" value="'+u.name+'" ><input type="hidden" name="'+i+'[field]" value="'+u.field+'" ><input type="hidden" name="'+i+'[description]" value="'+u.description+'" ><a class="youzify-edit-item youzify-edit-user-tag"></a><a class="youzify-delete-item youzify-delete-user-tag"></a></li>'),y.youzify_HideModal(a),youzify_nextUTag++}),y(document).on("click",".youzify-edit-user-tag",function(e){var t=y(this).closest(".youzify-user-tag-item"),a=y("#youzify-user-tags-form");y.youzify_EditForm({button_id:"youzify-update-user-tag",form_title:Youzify_User_Tags.update_user_tag,form:a,item:t})}),y(document).on("click","#youzify-update-user-tag",function(e){e.preventDefault();var t=".youzify-user-tag-name span",a=y("#youzify-user-tags-form"),i=y.youzify_getItemObject(a),u=y.youzify_getNewData(a,"keyToVal"),o={old_name:i.find(t).text(),value:u.name,form:a,selector:y(t),type:"text",tag_icon:u.icon,tag_name:u.name,tag_field:u.field,tag_description:u.description};if(!y.validate_user_tags_data(o))return!1;y.youzify_updateFieldsData(a)}),y.validate_user_tags_data=function(e){var t=y.extend({},e);return null==t.tag_name||""==y.trim(t.tag_name)?(y.ShowPanelMessage({msg:Youzify_User_Tags.utag_name_empty,type:"error"}),!1):!y.youzify_isAlreadyExist({old_title:t.old_name,selector:t.selector,value:t.value,type:"text"})||(y.ShowPanelMessage({msg:Youzify.name_exist,type:"error"}),!1)},y(document).on("click",".youzify-delete-user-tag",function(){y(this).closest("li").remove(),y(".youzify-user-tag-item")[0]||y("#youzify_user_tags").append('<p class="youzify-no-content youzify-no-user-tags">'+Youzify_User_Tags.no_user_tags+"</p>")})})}(jQuery);