!function(n){"use strict";n(document).ready(function(){n(document).on("click","#youzify-add-ad",function(e){e.preventDefault();var t=n("#youzify-ads-form"),i=n.youzify_getAddData(t,"youzify_ad"),a={selector:n(".youzify-ad-title"),AD_banner:i.banner,AD_title:i.title,AD_type:i.type,AD_code:i.code,AD_url:i.url};if(!n.validate_ad_data(a))return!1;var o="youzify_ads[youzify_ad_"+youzify_nextAD+"]",d="adsense"==i.type?"youzify_show_icon":"youzify_hide_icon",y="banner"==i.type?"style='background-image: url( "+i.banner+" );'":"";n("#youzify_ads").prepend('<li class="youzify-ad-item" data-ad-name="youzify_ad_'+youzify_nextAD+'"><div class="youzify-ad-img '+d+'" '+y+'><i class="fas fa-code"></i></div><div class="youzify-ad-data"><h2 class="youzify-ad-title">'+i.title+'</h2><div class="youzify-ad-actions"><a class="youzify-edit-item youzify-edit-ad"></a><a class="youzify-delete-item youzify-delete-ad"></a></div></div><input type="hidden" name="'+o+'[title]" value="'+i.title+'"><input type="hidden" name="'+o+'[is_sponsored]" value="'+i.is_sponsored+'"><input type="hidden" name="'+o+'[url]" value="'+i.url+'"><input type="hidden" name="'+o+'[type]" value="'+i.type+'"><input type="hidden" name="'+o+'[code]" value="'+encodeURIComponent(i.code)+'"><input type="hidden" name="'+o+'[banner]" value="'+i.banner+'"></li>'),n.youzify_HideModal(t),youzify_nextAD++}),n(document).on("click",".youzify-edit-ad",function(){var e=n(this).closest(".youzify-ad-item");n.youzify_EditForm({item:e,form_title:Youzify_Ads.update_ad,button_id:"youzify-update-ad",form:n("#youzify-ads-form")}),n.enable_live_preview()}),n(document).on("click","#youzify-update-ad",function(e){e.preventDefault();var t=n("#youzify-ads-form"),i=n.youzify_getItemObject(t),a=n.youzify_getNewData(t,"keyToVal"),o={old_title:i.find(".youzify-ad-title").text(),selector:n(".youzify-ad-title"),AD_banner:a.banner,AD_title:a.title,AD_code:a.code,AD_type:a.type,AD_url:a.url};if(!n.validate_ad_data(o))return!1;n.youzify_updateFieldsData(t)}),n(document).on("change","input[name=youzify_ad_type]",function(){var e=".youzify-adcode-item",t=".youzify-adbanner-items",i=n(this).closest(".youzify-ads-form");"adsense"==this.value?i.find(t).fadeToggle(400,function(){i.find(e).fadeToggle(400)}):i.find(e).fadeToggle(400,function(){i.find(t).fadeToggle(400)})}),n.validate_ad_data=function(e){var t=n.extend({},e),i=n.youzify_isAlreadyExist({selector:t.selector,value:t.AD_title,old_title:t.old_title,type:"text"});if(!t.AD_title||i)return n.ShowPanelMessage({msg:Youzify_Ads.empty_ad,type:"error"}),!1;if("banner"==t.AD_type){if(!function(e){if(!e)return n.ShowPanelMessage({msg:Youzify_Ads.empty_banner,type:"error"}),!1;return!0}(t.AD_banner))return!1}else if("adsense"==t.AD_type&&(null==t.AD_code||""==n.trim(t.AD_code)))return n.ShowPanelMessage({msg:Youzify_Ads.code_empty,type:"error"}),!1;return!0},n(document).on("click",".youzify-delete-ad",function(){n(this).closest("li").remove(),n(".youzify-ad-item")[0]||n("#youzify_ads").append('<p class="youzify-no-content youzify-no-ads">'+Youzify_Ads.no_ads+"</p>")})})}(jQuery);