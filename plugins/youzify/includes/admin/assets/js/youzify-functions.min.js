!function(r){"use strict";r(document).ready(function(){r.youzify_EditForm=function(e){var y,s,t=r.extend({},e),i=r.youzify_getDataName(t.item),f=r.youzify_getItemByType({form:t.item,type:"data"});t.form.attr("data-"+i.name,i.value),t.form.find(".youzify-md-title").html(t.form_title+'<i class="fas fa-times youzify-md-close-icon"></i>'),t.form.find(".youzify-md-save").text(Youzify.save_changes),t.form.find(".youzify-md-save").attr("id",t.button_id),t.form.find(":input").not(".uk-upload-button,:button,.ukai_tags_field").each(function(){var o=r(this).attr("name"),a=r(this).attr("type"),n=(r(this).attr("value"),r(this).prop("nodeName").toLowerCase()),u=r(n+'[name="'+o+'"]');r.each(f,function(e,t){if(~o.indexOf(t.name))if(y=t.value,"text"===a||"textarea"===n||"hidden"===a||"select"===n)"input"===n?u.val(y):"textarea"===n?u.val(decodeURIComponent(y)):"select"===n&&r("select[name="+o+'] option[value="'+y+'"]').prop("selected",!0),r.youzify_FormLivePreview({selector:u.parent(),name:t.name,value:y});else if("checkbox"===a)if(~o.indexOf("[]")){var i=y.split(",");r.each(i,function(e,t){r('input[name="'+o+'"][value="'+t+'"]').prop("checked",!0)})}else s="false"!==y,u.prop("checked",s);else"radio"===a&&r("input[name="+o+"][value="+y+"]").trigger("click")})})},r.youzify_updateFieldsData=function(e,t){var i=r.youzify_getDataName(e),o=r.youzify_getNewData(e),a=(r.youzify_getItemObject(e),e.find(".youzify-keys-name").attr("value"));r.each(o,function(e,t){("youzify_ads"==a&&"code"==t.key||"youzify_custom_tabs"==a&&"content"==t.key||"youzify_custom_widgets"==a&&"content"==t.key)&&(t.value=encodeURIComponent(t.value)),r('input[name="'+a+"["+i.value+"]["+t.key+']"]').val(t.value)}),r.youzify_ItemLivePreview(e),r.youzify_HideModal(e)},r.youzify_ResetForm=function(e,t){t=void 0!==t?t:null;var i,o=r.youzify_getFieldsNames(e,"namesOnly");e.find(".youzify-md-save").text(Youzify.done),e.find(".youzify-md-title").html(e.find(".youzify-md-title").data("title")+'<i class="fas fa-times youzify-md-close-icon"></i>'),e.find(".youzify-md-save").attr("id",e.find(".youzify-md-save").data("add")),r.each(o,function(e,t){"text"===(i=t.type)?r("input[name="+t.name+"]").val(""):"textarea"===i?r("textarea[name="+t.name+"]").val(""):"radio"===i?r("input:radio[name="+t.name+"]:first").trigger("click"):"select"===i&&r("select[name="+t.name+"] option:first").prop("selected",!0)}),"ads"===t?(r("input[name=youzify_ad_is_sponsored]").attr("checked",!1),r("input[name=youzify_ad_type][value=banner]").trigger("click"),e.find(".uk-photo-preview").css("backgroundImage","url("+Youzify.default_img+")")):"reactions"===t?(r("input[name=youzify_emoji_visibility]").attr("checked",!0),e.find(".uk-photo-preview").css("backgroundImage","url("+Youzify.default_img+")")):"networks"===t?(e.find(".ukai-selected-icon").val("fas fa-share-alt"),e.find(".wp-color-result").css({"background-color":""}),e.find(".ukai_icon_selector > i").removeClass().addClass("fas fa-share-alt")):"custom-widgets"===t?(e.find(".ukai-selected-icon").val("fas fa-globe-asia"),e.find(".ukai_icon_selector > i").removeClass().addClass("fas fa-globe-asia")):"custom-tabs"===t?(r("input[name=youzify_tab_display_sidebar]").attr("checked",!0),r("input[name=youzify_tab_display_nonloggedin]").attr("checked",!0),r("input[name=youzify_tab_type][value=link]").trigger("click")):"member-types"===t?(e.find(".wp-color-result").css({"background-color":""}),r("input[name=youzify_member_type_active]").attr("checked",!0),r('input[name="youzify_member_type_roles[]"]').attr("checked",!1),r("input[name=youzify_member_type_register]").attr("checked",!0),r("input[name=youzify_member_type_show_in_md]").attr("checked",!0),e.find(".ukai-selected-icon").val("fas fa-user"),e.find(".ukai_icon_selector > i").removeClass().addClass("fas fa-user")):"user-tags"===t?(e.find(".ukai-selected-icon").val("fas fa-globe-asia"),e.find(".ukai_icon_selector > i").removeClass().addClass("fas fa-globe-asia")):"yzbpv-premium-types"==t&&(r('input[name="roles[]"]').prop("checked",!1),e.find(".wp-color-result").css({"background-color":""}),e.find(".uk-photo-preview").css("backgroundImage","url("+Youzify.default_img+")")),r.youzify_CheckItemsList(t)},r.youzify_getNewData=function(e,o){o=void 0!==o?o:null;var t=r.youzify_getItemObject(e),i=r.youzify_getFieldsNames(e),a=r.youzify_getItemByType({form:t,type:"keys"}),n=[];return r.each(i,function(e,i){r.each(a,function(e,t){0<=i.name.indexOf(t)&&("keyToVal"===o?n[t]=i.value:n.push({key:t,value:i.value}))})}),n},r.isDataEmpty=function(e){var i,o=!1,t=r.youzify_getFieldsNames(e);return r.each(t,function(e,t){null!=(i=t.value)&&""!=r.trim(i)||(r.ShowPanelMessage({msg:Youzify.required_fields,type:"error"}),o=!0)}),!!o},r.youzify_getAddData=function(e,i){var o,a=[],t=r.youzify_getFieldsNames(e);return r.each(t,function(e,t){null!=t.name&&(o=t.name.replace(i+"_",""),a[o]=t.value)}),a},r.youzify_getFieldsNames=function(e,t){t=void 0!==t?t:null;var i,o,a,n=[],u=[];return e.find(":input").not(".uk-upload-button, :button, .youzify-hidden-input, .ukai_tags_field").each(function(){if(i=r(this).attr("name"),null==(o=r(this).attr("type"))&&(o=r(this).prop("nodeName").toLowerCase()),"checkbox"===o)a=~i.indexOf("[]")?r('input[name="'+i+'"]:checked').map(function(){return this.value}).get().join(","):0<r('input[name="'+i+'"]:checked').length;else if("radio"===o)a=r("input[name="+i+"]:checked").val();else if("select"===o)a=r(this).val();else if("textarea"===o)a=r(this).val();else{var e=r("input[name='"+i+"']").map(function(){return r(this).val()}).get();a=e.join(",")}-1==u.indexOf(i)&&(u.push(i),"keyToVal"==t?n[i]=a:n.push({name:i,type:o,value:a}))}),n},r.youzify_getItemByType=function(e){var t,i,o,a,n=r.extend({},e),u=[],y=[];return n.form.find("> input").each(function(){t=r(this).attr("name"),i=r(this).attr("value"),o=0,t.replace(/\[.+?\]/g,function(e){o++,a=e.slice(1,-1),1==o&&-1!==a.indexOf("youzify_cwg")&&-1!==a.indexOf("fields")&&(i=a),2==o&&("fields"===a&&(a="widget"),y.push(a),u.push({name:a,value:i}))})}),"keys"===n.type?y:u},r.youzify_FormLivePreview=function(e){var t=r.extend({},e);"banner"===t.name||"image"===t.name||"image_url"===t.name?t.selector.next(".uk-photo-preview").css("backgroundImage","url("+t.value+")"):"color"===t.name||"button_bg_color"===t.name||"button_text_color"===t.name||"left_color"==t.name||"right_color"==t.name?t.selector.closest(".wp-picker-input-wrap").prev(".wp-color-result").css({"background-color":t.value}):"icon"===t.name&&(t.selector.find(".ukai_icon_selector > i").removeClass().addClass(t.value),t.selector.find(".ukai-selected-icon").val(t.value))},r.youzify_ItemLivePreview=function(e){var t=r.youzify_getNewData(e,"keyToVal"),i=r.youzify_getItemObject(e),o=e.attr("id");"youzify-ads-form"===o?(i.find(".youzify-ad-title").text(t.title),"adsense"===t.type?(i.find(".youzify-ad-img").attr("style",""),i.find(".youzify-ad-img i").show()):(i.find(".youzify-ad-img").css("backgroundImage","url("+t.banner+")"),i.find(".youzify-ad-img i").hide())):"youzify-reactions-form"===o?(i.find(".youzify-emoji-title").text(t.title),i.find(".youzify-emoji-img").css("backgroundImage","url("+t.image+")")):"youzify-networks-form"===o||"youzify-custom-widgets-form"===o?("youzify-networks-form"===o&&i.find("h2").css({"border-color":t.color}),i.find("h2 span").text(t.name),i.find("h2 i").removeClass().addClass("fab youzify-network-icon "+t.icon)):"youzify-custom-tabs-form"===o?i.find("h2 span").text(t.title):"youzify-member-types-form"===o?(i.find("h2 span").text(t.name),i.find("h2 i").removeClass().addClass("fab youzify-member-type-icon "+t.icon)):"youzify-user-tags-form"===o?(i.find("h2 span").text(t.name),i.find("h2 i").removeClass().addClass("fab youzify-user-tag-icon "+t.icon)):"yzbpv-premium-types-form"===o&&(i.find("h2 span").text(t.name),i.find(".youzify-type-image").css("backgroundImage","url("+t.image_url+")"))},r.youzify_getDataName=function(i){var o=[];return r.each(i.data(),function(e,t){"sortableItem"!=e&&(o.name=e.replace(/([A-Z])/g,"-$1").trim().toLowerCase(),o.value=i.attr("data-"+o.name))}),o},r.youzify_getItemObject=function(e){var t=r.youzify_getDataName(e);return r("li[data-"+t.name+"="+t.value+"]")},r.youzify_CheckItemsList=function(e){"ads"===e&&r(".youzify-ad-item")[0]&&r(".youzify-no-ads").remove(),"reactions"===e&&r(".youzify-emoji-item")[0]&&r(".youzify-no-emojis").remove(),"networks"===e&&r(".youzify-network-item")[0]&&r(".youzify-no-networks").remove(),"custom-widgets"===e&&r(".youzify-custom-widget-item")[0]&&r(".youzify-no-custom-widgets").remove(),"custom-tabs"===e&&r(".youzify-custom-tab-item")[0]&&r(".youzify-no-custom-tabs").remove(),"member-types"===e&&r(".youzify-member-type-item")[0]&&r(".youzify-no-member-types").remove(),"user-tags"===e&&r(".youzify-user-tag-item")[0]&&r(".youzify-no-user-tags").remove(),"yzbpv-premium-types"===e&&r(".youzify-type-item")[0]&&r(".youzify-no-types").remove()},r.youzify_CheckFieldOptions=function(){r("#youzify_field_type").on("change",function(){var e=r(this).val(),t=r(".youzify-field-options");"text"===e||"number"===e||"textarea"===e?t.fadeOut():t.fadeIn()})},r("input").keypress(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),r("#youzify_widgets, #youzify_networks, #youzify_custom_tabs, #youzify_user_tags, #youzify_member_types, #youzify_reactions").sortable({placeholder:"dashed-placeholder"}),r.MakeItemsSortable=function(){r(".youzify-fields-content").sortable({placeholder:"ui-state-highlight",connectWith:".youzify-fields-content",receive:function(e,t){var i=r(this).parent().data("widgetName"),o=t.item.context.attributes[1].nodeValue,a=r(this).parent();a.find("input[value='"+o+"']").remove(),a.find(".youzify-field-item").append('<input type="hidden" name="youzify_widgets['+i+'][fields][]" value="'+o+'">')}})},r.MakeItemsSortable(),r(document).on("click",".youzify-md-trigger",function(e){e.preventDefault();var t="#"+r(this).data("modal");r(".youzify-md-overlay").fadeIn(500,function(){r(t).addClass("youzify-md-show")})}),r(document).on("click",".youzify-md-close, .youzify-md-close-icon",function(e){e.preventDefault();var t=r(this).closest(".youzify-md-modal");r.youzify_HideModal(t)}),r(document).keyup(function(e){return r(".youzify-md-show")[0]&&27===e.keyCode&&r(".youzify-md-close").trigger("click"),!1}),r(document).mouseup(function(e){return r(".youzify-md-overlay").is(e.target)&&r(".youzify-md-show")[0]&&r(".youzify-md-close").trigger("click"),!1}),r.youzify_HideModal=function(e){var t=e.attr("id");r(".youzify-md-modal").removeClass("youzify-md-show"),r(".youzify-md-overlay").fadeOut(600,function(){"youzify-networks-form"===t?r.youzify_ResetForm(e,"networks"):"youzify-ads-form"===t?r.youzify_ResetForm(e,"ads"):"youzify-reactions-form"===t?r.youzify_ResetForm(e,"reactions"):"youzify-custom-widgets-form"===t?r.youzify_ResetForm(e,"custom-widgets"):"youzify-custom-tabs-form"===t?r.youzify_ResetForm(e,"custom-tabs"):"youzify-member-types-form"===t?r.youzify_ResetForm(e,"member-types"):"youzify-user-tags-form"===t?r.youzify_ResetForm(e,"user-tags"):"yzbpv-premium-types-form"===t&&r.youzify_ResetForm(e,"yzbpv-premium-types")})},r(document).on("click",".youzify-edit-item",function(){(r(this).hasClass("youzify-edit-field")?r("button[data-modal=youzify-fields-form]"):r(this).hasClass("youzify-edit-widget")?r("button[data-modal=youzify-widgets-form]"):r(this).closest("ul").prev(".youzify-custom-section").find(".youzify-md-trigger")).trigger("click")}),r(document).on("click",".uk-panel-scheme .imgSelect label",function(e){var t=r(this).prev().val();r("#ukai-panel").removeClass().addClass("ukai-panel").addClass(t)})})}(jQuery);