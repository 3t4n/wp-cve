(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},4382:(e,t,n)=>{var r=n(9196);function a(e){return r.createElement("svg",e,r.createElement("path",{d:"M 6.5 1.5 C 6.09 1.5 5.7294531 1.6494531 5.4394531 1.9394531 C 5.1494531 2.2394531 5 2.59 5 3 L 5 4 L 2 4 L 2 19 L 18 19 L 18 4 L 15 4 L 15 3 C 15 2.59 14.850547 2.2394531 14.560547 1.9394531 C 14.270547 1.6494531 13.91 1.5 13.5 1.5 C 13.09 1.5 12.729453 1.6494531 12.439453 1.9394531 C 12.149453 2.2394531 12 2.59 12 3 L 12 4 L 8 4 L 8 3 C 8 2.59 7.8505469 2.2394531 7.5605469 1.9394531 C 7.2705469 1.6494531 6.91 1.5 6.5 1.5 z M 6.5 2.5 C 6.64 2.5 6.7596094 2.5503906 6.8496094 2.6503906 C 6.9496094 2.7403906 7 2.86 7 3 L 7 5.5 C 7 5.64 6.9496094 5.759375 6.8496094 5.859375 C 6.7596094 5.949375 6.64 6 6.5 6 C 6.36 6 6.2403906 5.949375 6.1503906 5.859375 C 6.0503906 5.759375 6 5.64 6 5.5 L 6 3 C 6 2.86 6.0503906 2.7403906 6.1503906 2.6503906 C 6.2403906 2.5503906 6.36 2.5 6.5 2.5 z M 13.5 2.5 C 13.64 2.5 13.759375 2.5503906 13.859375 2.6503906 C 13.949375 2.7403906 14 2.86 14 3 L 14 5.5 C 14 5.64 13.949375 5.759375 13.859375 5.859375 C 13.759375 5.949375 13.64 6 13.5 6 C 13.36 6 13.240625 5.949375 13.140625 5.859375 C 13.050625 5.759375 13 5.64 13 5.5 L 13 3 C 13 2.86 13.050625 2.7403906 13.140625 2.6503906 C 13.240625 2.5503906 13.36 2.5 13.5 2.5 z M 3 8 L 17 8 L 17 18 L 3 18 L 3 8 z M 13.34375 9.7519531 L 9.6757812 13.419922 L 7.5546875 11.298828 L 6.140625 12.712891 L 8.2617188 14.833984 L 9.6757812 16.248047 L 11.089844 14.833984 L 14.757812 11.166016 L 13.34375 9.7519531 z "}))}a.defaultProps={"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon\n\tdashicons-calendar-alt",width:"20",height:"20",viewBox:"0 0 20 20"},e.exports=a,a.default=a},9196:e=>{"use strict";e.exports=window.React}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{initPage:()=>Hs});var e={};n.r(e),n.d(e,{areAutomaticMessagesVisible:()=>ne,areFailedMessagesVisible:()=>te,areSocialMessagesCollapsedInDay:()=>ee,areTasksVisible:()=>Z,areThereActiveExternalEventFilters:()=>Y,areThereActiveFilters:()=>H,areThereActivePostFilters:()=>V,areThereActiveSocialFilters:()=>B,areThereActiveTaskFilters:()=>G,areThereUnscheduledPostsToLoad:()=>Ue,formatCalendarTime:()=>le,getActiveTabInFilterPane:()=>F,getAdminSidebarWidth:()=>Se,getCalendarMode:()=>pe,getDisabledExternalCalendars:()=>Q,getDisabledInternalEventTypes:()=>q,getDisabledPostTypes:()=>z,getDisabledSocialProfilesByNetwork:()=>$,getDisabledStatuses:()=>K,getDraggingItem:()=>Ne,getExternalCalendars:()=>Te,getFirstDay:()=>ve,getFocusDay:()=>he,getHoverItem:()=>Oe,getIcsLink:()=>fe,getLastDay:()=>me,getLastLoadedPageInUnscheduled:()=>Fe,getLoaderTimeout:()=>ce,getMinimumRowHeight:()=>be,getNumberOfNonCollapsableMessages:()=>Ee,getNumberOfVisibleDays:()=>ye,getPostAuthorFilter:()=>X,getRecurringAction:()=>R,getSidePane:()=>ge,getTaskAssigneeFilter:()=>J,getTaskIdInTaskViewer:()=>M,getUnscheduledPostsSearchQuery:()=>Le,getUnscheduledPostsSearchTimeout:()=>je,isCalendarSynching:()=>_e,isDragging:()=>Ie,isExportDialogOpen:()=>x,isFilterPaneOpen:()=>U,isHighlighted:()=>De,isIcsEnabled:()=>de,isItemVisible:()=>W,isLoadingUnscheduledPosts:()=>He,isPeriodReady:()=>we,isSynching:()=>ke,isTaskViewerDialogOpen:()=>L,isUnscheduledViewOpen:()=>Re,useEditorialCalendarOnly:()=>ue});var t={};n.r(t),n.d(t,{_setCalendarMode:()=>ht,clearFilters:()=>Ke,closeRecurringDialog:()=>Qe,collapseSocialMessagesInDay:()=>ot,dragEnd:()=>lt,dragStart:()=>ut,initCalendarSettings:()=>gt,loadPreviousFilters:()=>ct,markAsUpdated:()=>Ot,markAsUpdating:()=>wt,markPeriodAsLoaded:()=>_t,markPeriodAsLoading:()=>Tt,openExportDialog:()=>Ge,openTaskViewerDialog:()=>Ye,requestRecurringRescheduleMode:()=>We,requestRecurringTrashMode:()=>qe,setActiveTabInFilterPane:()=>ze,setCalendarDimensions:()=>mt,setDisabledExternalCalendars:()=>Xe,setDisabledInternalEventTypes:()=>$e,setDisabledPostTypeTerms:()=>Ze,setDisabledPostTypes:()=>Je,setDisabledSocialProfilesInNetwork:()=>tt,setDisabledStatuses:()=>et,setFocusDay:()=>vt,setHoverItem:()=>dt,setIsLoadingUnscheduledPosts:()=>Et,setLoaderTimeout:()=>ft,setPostAuthorFilter:()=>nt,setTaskAssigneeFilter:()=>at,setUnscheduledPostsQuery:()=>bt,setUnscheduledPostsSearchTimeout:()=>St,showAutomaticMessages:()=>st,showFailedMessages:()=>it,toggleSidePane:()=>pt,toggleTasksVisibility:()=>rt,updateUnscheduledPostsPagination:()=>yt});var a={};n.r(a),n.d(a,{deleteSocialMessage:()=>Zt,deleteTask:()=>on,loadItemsIn:()=>yn,loadItemsNow:()=>mn,loadUnscheduledPosts:()=>pn,nextPeriod:()=>Wt,previousPeriod:()=>qt,reschedulePost:()=>Rt,rescheduleSocialMessage:()=>Xt,rescheduleTask:()=>an,setCalendarMode:()=>Qt,showToday:()=>Yt,toggleTaskCompletion:()=>sn,trashPost:()=>jt,unschedulePost:()=>Lt});var o={};n.r(o),n.d(o,{FILE:()=>ma,TEXT:()=>Ea,URL:()=>ya});const i=window.wp.element,s=(window.wp.notices,window.wp.data),c=window.lodash,u=window.NelioContent.data;var l="nelio-content/calendar",d={isExportDialogOpen:!1,recurringAction:void 0,taskIdInTaskViewer:void 0},f={activeTab:"post",areAllMessagesVisibleInDay:{},disabledInternalEventTypes:[],disabledExternalCalendars:[],disabledPostTypes:[],disabledPostTypeTerms:{},disabledPostAuthors:[],disabledSocialProfilesByNetwork:{},disabledStatuses:[],areTasksVisible:!0,taskAssignee:void 0,postAuthor:void 0,areFailedMessagesVisible:!0,areAutomaticMessagesVisible:!0},g={drag:void 0,hover:void 0},p={},h=0,v={adminSidebarWidth:0,calendarMode:"two-weeks",focusDay:"",icsLinks:void 0,minRowHeight:0,numberOfNonCollapsableMessages:0,sidePane:"unscheduled-posts",useEditorialCalendarOnly:!1,externalCalendars:[],calendarTimeFormat:"H:ia",simplifyCalendarTime:!0},m={byQueryPagination:{},defaultPagination:{lastPageLoaded:0,maxPages:1,isLoading:!1},query:"",searchTimeout:0},y=[],E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E.apply(this,arguments)},b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b.apply(this,arguments)},S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)};const T=window.moment;var _=n.n(T);const w=window.NelioContent.date;var O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},O.apply(this,arguments)},D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D.apply(this,arguments)},k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k.apply(this,arguments)},I={lastPageLoaded:0,maxPages:1,isLoading:!1},N=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function P(e,t){return(0,c.find)(e,{type:t.type,id:t.id})?e:N(N([],e,!0),[t],!1)}function A(e,t){var n=(0,c.find)(e,(function(e){return e.type===t.type&&e.id===t.id}));return n?(0,c.without)(e,n):e}const C=(0,s.combineReducers)({dialogs:function(e,t){var n;return void 0===e&&(e=d),null!==(n=function(e,t){switch(t.type){case"OPEN_EXPORT_DIALOG":return E(E({},e),{isExportDialogOpen:t.isOpen});case"OPEN_TASK_VIEWER_DIALOG":return E(E({},e),{taskIdInTaskViewer:t.taskId});case"REQUEST_RECURRING_RESCHEDULE_MODE":return E(E({},e),{recurringAction:{type:"reschedule",props:t.props}});case"REQUEST_RECURRING_TRASH_MODE":return E(E({},e),{recurringAction:{type:"trash",props:t.props}});case"CLOSE_RECURRING_DIALOG":return E(E({},e),{recurringAction:void 0})}}(e,t))&&void 0!==n?n:e},filters:function(e,t){var n;return void 0===e&&(e=f),null!==(n=function(e,t){var n,r,a,o;switch(t.type){case"CLEAR_FILTERS":return f;case"SET_ACTIVE_TAB_IN_FILTER_PANE":return b(b({},e),{activeTab:t.tabName});case"SET_DISABLED_POST_TYPE_TERMS":return b(b({},e),{disabledPostTypeTerms:b(b({},e.disabledPostTypeTerms),(n={},n[t.postType]=b(b({},e.disabledPostTypeTerms[t.postType]),(r={},r[t.taxonomy]=t.terms,r)),n))});case"SET_DISABLED_STATUSES":return b(b({},e),{disabledStatuses:t.statuses});case"SET_DISABLED_INTERNAL_EVENT_TYPES":return b(b({},e),{disabledInternalEventTypes:t.internalEventTypes});case"SET_DISABLED_EXTERNAL_CALENDARS":return b(b({},e),{disabledExternalCalendars:t.externalCalendars});case"SET_DISABLED_POST_TYPES":return b(b({},e),{disabledPostTypes:t.postTypes});case"SET_POST_AUTHOR_FILTER":return b(b({},e),{postAuthor:t.authorId});case"SET_DISABLED_PROFILES_IN_NETWORK":return b(b({},e),{disabledSocialProfilesByNetwork:b(b({},e.disabledSocialProfilesByNetwork),(a={},a[t.network]=t.disabledProfiles,a))});case"TOGGLE_TASKS_VISIBILITY":return b(b({},e),{areTasksVisible:!e.areTasksVisible});case"SET_TASK_ASSIGNEE_FILTER":return b(b({},e),{taskAssignee:t.assigneeId});case"COLLAPSE_MESSAGES_IN_DAY":return b(b({},e),{areAllMessagesVisibleInDay:b(b({},e.areAllMessagesVisibleInDay),(o={},o[t.day]=!t.areMessagesCollapsed,o))});case"SHOW_FAILED_MESSAGES":return b(b({},e),{areFailedMessagesVisible:!!t.areFailedMessagesVisible});case"SHOW_AUTOMATIC_MESSAGES":return b(b({},e),{areAutomaticMessagesVisible:!!t.areAutomaticMessagesVisible});case"LOAD_PREVIOUS_FILTERS":return b(b({},e),t.filters)}}(e,t))&&void 0!==n?n:e},interaction:function(e,t){var n;return void 0===e&&(e=g),null!==(n=function(e,t){switch(t.type){case"DRAG_START":return S(S({},e),{drag:t.item,hover:void 0});case"DRAG_END":return S(S({},e),{drag:void 0});case"HOVER_ITEM":return S(S({},e),{hover:t.item});case"HOVER_END":return S(S({},e),{hover:void 0})}}(e,t))&&void 0!==n?n:e},loadedDays:function(e,t){var n;return void 0===e&&(e=p),null!==(n=function(e,t){return"MARK_PERIOD_AS_LOADED"!==t.type?e:function(e,t,n){var r,a,o=_()(t);do{a=(0,w.date)("Y-m-d",o),e=O(O({},e),((r={})[a]=!0,r)),o.add(1,"day")}while(a<=n);return e}(e,t.period.firstDay,t.period.lastDay)}(e,t))&&void 0!==n?n:e},loaderTimeout:function(e,t){var n;return void 0===e&&(e=h),null!==(n=function(e,t){return"SET_LOADER_TIMEOUT"===t.type?t.timeout:e}(e,t))&&void 0!==n?n:e},settings:function(e,t){var n;return void 0===e&&(e=v),null!==(n=function(e,t){switch(t.type){case"SET_CALENDAR_DIMENSIONS":return D(D({},e),{minRowHeight:t.minRowHeight,adminSidebarWidth:t.adminSidebarWidth});case"TOGGLE_SIDE_PANE":return D(D({},e),{sidePane:e.sidePane===t.pane?"none":t.pane});case"SET_CALENDAR_MODE":return D(D({},e),{calendarMode:t.mode||"two-weeks"});case"SET_FOCUS_DAY":return D(D({},e),{focusDay:t.focusDay});case"INIT_CALENDAR_SETTINGS":return D(D(D({},v),t.settings),{sidePane:t.settings.sidePane||"none"})}}(e,t))&&void 0!==n?n:e},unscheduledPosts:function(e,t){var n;return void 0===e&&(e=m),null!==(n=function(e,t){var n,r;switch(t.type){case"SET_UNSCHEDULED_POSTS_QUERY":return k(k({},e),{query:t.query});case"SET_UNSCHEDULED_POSTS_SEARCH_TIMEOUT":return k(k({},e),{searchTimeout:t.timeout});case"UPDATE_UNSCHEDULED_POSTS_PAGINATION":return t.query?k(k({},e),{byQueryPagination:k(k({},e.byQueryPagination),(n={},n[t.query]=k(k(k({},I),e.byQueryPagination[t.query]),{lastPageLoaded:t.lastPageLoaded,maxPages:t.maxPages}),n))}):k(k({},e),{defaultPagination:k(k({},e.defaultPagination),{lastPageLoaded:t.lastPageLoaded,maxPages:t.maxPages})});case"IS_LOADING_UNSCHEDULED_POSTS":return t.query?k(k({},e),{byQueryPagination:k(k({},e.byQueryPagination),(r={},r[t.query]=k(k(k({},I),e.byQueryPagination[t.query]),{isLoading:t.isLoading}),r))}):k(k({},e),{defaultPagination:k(k({},e.defaultPagination),{isLoading:t.isLoading})})}}(e,t))&&void 0!==n?n:e},updating:function(e,t){var n;return void 0===e&&(e=y),null!==(n=function(e,t){switch(t.type){case"MARK_AS_UPDATING":return P(e,t.item);case"MARK_AS_UPDATED":return A(e,t.item);case"MARK_PERIOD_AS_LOADING":return P(e,t.period);case"MARK_PERIOD_AS_LOADED":return A(e,t.period)}}(e,t))&&void 0!==n?n:e}});function x(e){return e.dialogs.isExportDialogOpen}function M(e){return e.dialogs.taskIdInTaskViewer||void 0}function R(e){return e.dialogs.recurringAction}function L(e){return!!e.dialogs.taskIdInTaskViewer}const j=window.NelioContent.utils;function U(e){return"filters"===e.settings.sidePane}function F(e){return e.filters.activeTab}function H(e){return V(e)||B(e)||G(e)||Y(e)}function V(e){return!(0,j.isEmpty)(z(e))||!(0,j.isEmpty)(K(e))||!(0,j.isEmpty)(X(e))}function B(e){var t=$(e),n=(0,c.flatten)((0,c.values)(t)),r=(0,s.select)(u.STORE_NAME).getSocialProfile;return!(0,j.isEmpty)((0,c.filter)((0,c.map)(n,r)))}function G(e){return!Z(e)||!!J(e)}function Y(e){var t=(0,c.map)(e.settings.externalCalendars,"url");return!!Q(e).filter((function(e){return t.includes(e)})).length}function W(e,t,n){switch(t){case"post":return re(n)&&function(e,t){var n=X(e);return(!n||n===t.author)&&(!z(e).includes(t.type)&&!K(e).includes(t.status))}(e,n);case"social":return ae(n)&&function(e,t){return!("error"!==t.status||!te(e))||!(t.auto&&!ne(e))&&!($(e)[t.network]||[]).includes(t.profileId)}(e,n);case"task":return oe(n)&&function(e,t){if(!Z(e))return!1;var n=J(e);return!n||n===t.assigneeId}(e,n);case"external-event":return ie(n)&&function(e,t){return!Q(e).includes(t.calendar)}(e,n);case"internal-event":return se(n)&&function(e,t){return!q(e).includes(t.type)}(e,n);case"comment":return!1}}function q(e){return e.filters.disabledInternalEventTypes}function Q(e){return e.filters.disabledExternalCalendars}function z(e){return e.filters.disabledPostTypes}function K(e){return e.filters.disabledStatuses}function $(e){return e.filters.disabledSocialProfilesByNetwork}function X(e){return e.filters.postAuthor||void 0}function Z(e){return e.filters.areTasksVisible}function J(e){return e.filters.taskAssignee||void 0}function ee(e,t){return!e.filters.areAllMessagesVisibleInDay[t]}function te(e){return e.filters.areFailedMessagesVisible}function ne(e){return e.filters.areAutomaticMessagesVisible}var re=function(e){return"number"==typeof e.id},ae=function(e){return!re(e)&&"network"in e},oe=function(e){return!re(e)&&"task"in e},ie=function(e){return!re(e)&&"calendar"in e},se=function(e){return!re(e)};function ce(e){return e.loaderTimeout||0}function ue(e){return e.settings.useEditorialCalendarOnly}function le(e,t){var n=(0,w.dateI18n)(e.settings.calendarTimeFormat,t);return e.settings.simplifyCalendarTime?n.replace(":00","").replace(/m$/i,"").replace(/\s/g,""):n}function de(e){return!!e.settings.icsLinks}function fe(e,t){var n;return null===(n=e.settings.icsLinks)||void 0===n?void 0:n[t]}function ge(e){return e.settings.sidePane}function pe(e){return e.settings.calendarMode}function he(e){return e.settings.focusDay}function ve(e,t){var n=he(e),r=pe(e);if("agenda"===r)return n;var a=_()((0,w.wpifyDateTime)("c",n,"12:00"));return"month"===r&&a.date(1),a.day()===t?(0,w.date)("Y-m-d",a):(0,w.date)("Y-m-d",a.isoWeekday(t))}function me(e,t){var n=ve(e,t);if(!n)return"";var r=ye(e);return(0,w.date)("Y-m-d",_()(n).add(r,"days"))}function ye(e){switch(pe(e)){case"agenda":return 4;case"week":return 7;case"month":return 42;default:return 14}}function Ee(e){return e.settings.numberOfNonCollapsableMessages}function be(e){return e.settings.minRowHeight}function Se(e){return e.settings.adminSidebarWidth}function Te(e){return e.settings.externalCalendars}function _e(e){return!(0,j.isEmpty)(e.updating)}function we(e,t,n){var r,a=_()(t);do{if(r=(0,w.date)("Y-m-d",a),!e.loadedDays[r])return!1;a.add(1,"day")}while(r<=n);return!0}function Oe(e){return e.interaction.hover}function De(e,t,n){var r=e.interaction.hover;if(!r)return!1;if("external-event"===r.type)return!1;if("internal-event"===r.type)return!1;if(ke(e,t,n))return!1;if(r.type===t&&r.id===n)return!0;var a=(0,(0,s.select)(u.STORE_NAME).getItem)(t,n);return!!a&&("post"===t?r.relatedPostId===a.id:!(!Ae(a)||a.postId!==r.relatedPostId)||!(!xe(a)||!xe(r)||a.recurrenceGroup!==r.recurrenceGroup))}function ke(e,t,n){if("post"===t)return!!(0,c.find)(e.updating,{relatedPost:n});if((0,c.find)(e.updating,{type:t,id:n}))return!0;var r=(0,(0,s.select)(u.STORE_NAME).getItem)(t,n);return Pe(e,r)||Ce(e,r)}function Ie(e,t,n){return!!e.interaction.drag&&e.interaction.drag.type===t&&e.interaction.drag.id===n}function Ne(e){return e.interaction.drag}var Pe=function(e,t){return Ae(t)&&!!(0,c.find)(e.updating,{type:"post",id:t.postId})},Ae=function(e){return!!e&&"object"==typeof e&&!!e.postId},Ce=function(e,t){return xe(t)&&!!(0,c.find)(e.updating,{type:"social",recurrenceGroup:t.recurrenceGroup})},xe=function(e){return!!e&&"object"==typeof e&&!!e.recurrenceGroup},Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Me.apply(this,arguments)};function Re(e){return"unscheduled-posts"===e.settings.sidePane}function Le(e){return e.unscheduledPosts.query||""}function je(e){return e.unscheduledPosts.searchTimeout}function Ue(e,t){var n=Be(e,"");if(n.lastPageLoaded>=n.maxPages)return!1;var r=Be(e,t);return r.lastPageLoaded<r.maxPages}function Fe(e,t){return Be(e,t).lastPageLoaded}function He(e,t){return!!Ue(e,"")&&Be(e,t).isLoading}var Ve={lastPageLoaded:0,maxPages:1,isLoading:!1};function Be(e,t){return(t=(0,c.trim)(t))?Me(Me({},Ve),e.unscheduledPosts.byQueryPagination[t]):e.unscheduledPosts.defaultPagination}function Ge(e){return void 0===e&&(e=!0),{type:"OPEN_EXPORT_DIALOG",isOpen:e}}function Ye(e){return{type:"OPEN_TASK_VIEWER_DIALOG",taskId:e}}function We(e){return{type:"REQUEST_RECURRING_RESCHEDULE_MODE",props:e}}function qe(e){return{type:"REQUEST_RECURRING_TRASH_MODE",props:e}}function Qe(){return{type:"CLOSE_RECURRING_DIALOG"}}function ze(e){return{type:"SET_ACTIVE_TAB_IN_FILTER_PANE",tabName:e}}function Ke(){return{type:"CLEAR_FILTERS"}}function $e(e){return{type:"SET_DISABLED_INTERNAL_EVENT_TYPES",internalEventTypes:e}}function Xe(e){return{type:"SET_DISABLED_EXTERNAL_CALENDARS",externalCalendars:e}}function Ze(e,t,n){return{type:"SET_DISABLED_POST_TYPE_TERMS",postType:e,taxonomy:t,terms:n}}function Je(e){return{type:"SET_DISABLED_POST_TYPES",postTypes:e}}function et(e){return{type:"SET_DISABLED_STATUSES",statuses:e}}function tt(e,t){return{type:"SET_DISABLED_PROFILES_IN_NETWORK",network:e,disabledProfiles:t}}function nt(e){return{type:"SET_POST_AUTHOR_FILTER",authorId:e}}function rt(){return{type:"TOGGLE_TASKS_VISIBILITY"}}function at(e){return{type:"SET_TASK_ASSIGNEE_FILTER",assigneeId:e}}function ot(e,t){return{type:"COLLAPSE_MESSAGES_IN_DAY",day:t,areMessagesCollapsed:e}}function it(e){return{type:"SHOW_FAILED_MESSAGES",areFailedMessagesVisible:e}}function st(e){return{type:"SHOW_AUTOMATIC_MESSAGES",areAutomaticMessagesVisible:e}}function ct(e){if("object"==typeof e)return{type:"LOAD_PREVIOUS_FILTERS",filters:e}}function ut(e){return{type:"DRAG_START",item:e}}function lt(){return{type:"DRAG_END"}}function dt(e){return e?{type:"HOVER_ITEM",item:e}:{type:"HOVER_END"}}function ft(e){return{type:"SET_LOADER_TIMEOUT",timeout:e}}function gt(e){return{type:"INIT_CALENDAR_SETTINGS",settings:e}}function pt(e){return{type:"TOGGLE_SIDE_PANE",pane:e}}function ht(e){return{type:"SET_CALENDAR_MODE",mode:e}}function vt(e){return{type:"SET_FOCUS_DAY",focusDay:e}}function mt(e){return{type:"SET_CALENDAR_DIMENSIONS",minRowHeight:e.minRowHeight,adminSidebarWidth:e.adminSidebarWidth}}function yt(e,t,n){return{type:"UPDATE_UNSCHEDULED_POSTS_PAGINATION",query:e,lastPageLoaded:t,maxPages:n}}function Et(e,t){return{type:"IS_LOADING_UNSCHEDULED_POSTS",query:e,isLoading:t}}function bt(e){return{type:"SET_UNSCHEDULED_POSTS_QUERY",query:e}}function St(e){return{type:"SET_UNSCHEDULED_POSTS_SEARCH_TIMEOUT",timeout:e}}function Tt(e,t){return{type:"MARK_PERIOD_AS_LOADING",period:{type:"period",id:"".concat(e,"::").concat(t),firstDay:e,lastDay:t}}}function _t(e,t){return{type:"MARK_PERIOD_AS_LOADED",period:{type:"period",id:"".concat(e,"::").concat(t),firstDay:e,lastDay:t}}}function wt(e){return{type:"MARK_AS_UPDATING",item:e}}function Ot(e){return{type:"MARK_AS_UPDATED",item:e}}const Dt=window.wp.apiFetch;var kt=n.n(Dt);const It=window.wp.url;var Nt=function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Nt.apply(this,arguments)};function Pt(e,t){var n,r=At({dateType:t.dateType,dateValue:t.dateValue,newLocalDay:e,utcDate:null!==(n=t.schedule)&&void 0!==n?n:""}),a=r.utcDate,o=r.dateType,i=r.dateValue;return Nt(Nt({},t),{dateType:o,dateValue:i,schedule:a})}function At(e){var t=e.utcDate,n=e.dateType,r=e.dateValue,a=e.newLocalDay;if("exact"===n){var o=(0,w.date)("H:i",t);return{utcDate:(0,w.wpifyDateTime)("c",a,o),dateType:n,dateValue:a}}var i=(0,w.date)("Y-m-d",t),s=_()("".concat(i,"T12:00:00.000Z")),c=_()("".concat(a,"T12:00:00.000Z")).diff(s,"days"),u=("negative-days"===n?-Number.parseInt(r):Number.parseInt(r))+c;return u<0?{utcDate:_()(t).add(c,"days").toISOString(),dateType:"negative-days",dateValue:"".concat(Math.abs(u))}:{utcDate:_()(t).add(c,"days").toISOString(),dateType:"positive-days",dateValue:"".concat(u)}}var Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ct.apply(this,arguments)},xt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Mt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Rt(e,t,n){return xt(this,void 0,void 0,(function(){var r,a,o;return Mt(this,(function(i){switch(i.label){case 0:return[4,(0,s.resolveSelect)(u.STORE_NAME).getPost(e)];case 1:if(!(r=i.sent()))return[2];if(a=n?function(e,t,n){return Nt(Nt({},n),{date:(0,w.wpifyDateTime)("c",e,t)})}(t,n,r):function(e,t){var n=t.date||(0,w.wpifyDateTime)("c",e,"10:00"),r=(0,w.date)("H:i",n);return Nt(Nt({},t),{date:(0,w.wpifyDateTime)("c",e,r)})}(t,r),a.date===r.date)return[2];i.label=2;case 2:return i.trys.push([2,5,,6]),Ut(a),[4,kt()({path:(0,It.addQueryArgs)("/nelio-content/v1/post/".concat(e,"/reschedule"),{day:t,hour:n}),method:"PUT"})];case 3:return o=i.sent(),[4,(0,s.dispatch)(u.STORE_NAME).reloadPostRelatedItems(o.id)];case 4:return i.sent(),Ft(o),[3,6];case 5:return i.sent(),Ht(r),[3,6];case 6:return[2]}}))}))}function Lt(e){return xt(this,void 0,void 0,(function(){var t,n;return Mt(this,(function(r){switch(r.label){case 0:return[4,(0,s.resolveSelect)(u.STORE_NAME).getPost(e)];case 1:if(!(t=r.sent()))return[2];r.label=2;case 2:return r.trys.push([2,5,,6]),Ut(Ct(Ct({},t),{date:!1})),[4,kt()({path:"/nelio-content/v1/post/".concat(e,"/unschedule"),method:"PUT"})];case 3:return n=r.sent(),[4,(0,s.dispatch)(u.STORE_NAME).reloadPostRelatedItems(n.id)];case 4:return r.sent(),Ft(n),[3,6];case 5:return r.sent(),Ht(t),[3,6];case 6:return[2]}}))}))}function jt(e){return xt(this,void 0,void 0,(function(){var t;return Mt(this,(function(n){switch(n.label){case 0:return[4,(0,s.resolveSelect)(u.STORE_NAME).getPost(e)];case 1:if(!(t=n.sent()))return[2];n.label=2;case 2:return n.trys.push([2,5,,6]),function(e){(0,s.dispatch)(l).markAsUpdating(Vt(e)),(0,s.dispatch)(u.STORE_NAME).deletePost(e.id)}(t),[4,kt()({path:"/nelio-content/v1/post/".concat(e,"/trash"),method:"PUT"})];case 3:return n.sent(),[4,(0,s.dispatch)(u.STORE_NAME).reloadPostRelatedItems(t.id)];case 4:return n.sent(),function(e){(0,s.dispatch)(l).markAsUpdated(Vt(e))}(t),[3,6];case 5:return n.sent(),Ht(t),[3,6];case 6:return[2]}}))}))}function Ut(e){(0,s.dispatch)(l).markAsUpdating(Vt(e)),(0,s.dispatch)(u.STORE_NAME).receivePosts(e)}function Ft(e){(0,s.dispatch)(u.STORE_NAME).receivePosts(e),(0,s.dispatch)(l).markAsUpdated(Vt(e))}function Ht(e){(0,s.dispatch)(l).markAsUpdated(Vt(e)),(0,s.dispatch)(u.STORE_NAME).receivePosts(e)}function Vt(e){return{type:"post",id:e.id,relatedPostId:e.id}}var Bt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Gt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Yt(e){return void 0===e&&(e=500),Bt(this,void 0,void 0,(function(){var t;return Gt(this,(function(n){switch(n.label){case 0:return t=(0,s.select)(u.STORE_NAME).getToday(),(0,s.dispatch)(l).setFocusDay(t),[4,(0,s.dispatch)(l).loadItemsIn(e)];case 1:return n.sent(),[2]}}))}))}function Wt(e){return void 0===e&&(e=500),Bt(this,void 0,void 0,(function(){var t,n,r,a,o;return Gt(this,(function(i){switch(i.label){case 0:return t=(0,s.select)(l).getCalendarMode(),n=(0,s.select)(l).getFocusDay(),r=_()((0,w.wpifyDateTime)("c",n,"12:00")),a=r.clone(),"month"===t?a.date(1).add(1,"month"):(o=(0,s.select)(l).getNumberOfVisibleDays(),a.add(o,"days")),(0,s.dispatch)(l).setFocusDay((0,w.date)("Y-m-d",a)),[4,(0,s.dispatch)(l).loadItemsIn(e)];case 1:return i.sent(),[2]}}))}))}function qt(e){return void 0===e&&(e=500),Bt(this,void 0,void 0,(function(){var t,n,r,a,o;return Gt(this,(function(i){switch(i.label){case 0:return t=(0,s.select)(l).getCalendarMode(),n=(0,s.select)(l).getFocusDay(),r=_()((0,w.wpifyDateTime)("c",n,"12:00")),a=r.clone(),"month"===t?a.date(1).subtract(1,"month"):(o=(0,s.select)(l).getNumberOfVisibleDays(),a.subtract(o,"days")),(0,s.dispatch)(l).setFocusDay((0,w.date)("Y-m-d",a)),[4,(0,s.dispatch)(l).loadItemsIn(e)];case 1:return i.sent(),[2]}}))}))}function Qt(e,t){return void 0===t&&(t=500),Bt(this,void 0,void 0,(function(){return Gt(this,(function(n){switch(n.label){case 0:return(0,s.dispatch)(l)._setCalendarMode(e),[4,(0,s.dispatch)(l).loadItemsIn(t)];case 1:return n.sent(),[2]}}))}))}var zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},zt.apply(this,arguments)},Kt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},$t=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Xt(e,t,n,r){var a;return Kt(this,void 0,void 0,(function(){var o,i,d,f,g,p,h,v,m,y;return $t(this,(function(E){switch(E.label){case 0:if(!(o=(0,s.select)(u.STORE_NAME).getSocialMessage(e)))return[2];if(i=null!==(a=(0,j.extractDateTimeValues)(o.schedule))&&void 0!==a?a:{},d=i.dateValue,f=i.timeValue,d===t&&(!n||f===n))return[2];if(g=n?function(e,t,n){var r,a=(null!==(r=(0,j.extractDateTimeValues)(n.schedule))&&void 0!==r?r:{}).dateValue;return Pt(e,n=Nt(Nt({},n),{timeType:"exact",timeValue:t,schedule:(0,w.wpifyDateTime)("c",null!=a?a:"",t)}))}(t,n,o):Pt(t,o),"negative-days"===(p=zt(zt({},g),{recurrenceSettings:r?void 0:g.recurrenceSettings})).dateType)return[2];E.label=1;case 1:return E.trys.push([1,3,,4]),function(e){(0,s.dispatch)(l).markAsUpdating(en(e)),(0,s.dispatch)(u.STORE_NAME).receiveSocialMessages(e)}(p),h=(0,s.select)(u.STORE_NAME).getSiteId(),v=(0,s.select)(u.STORE_NAME).getApiRoot(),m=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:"".concat(v,"/site/").concat(h,"/social/").concat(e),method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(m)},data:zt(zt({},p),{baseDatetime:"reschedule"})})];case 2:return y=E.sent(),b=o,S=y,(0,s.dispatch)(u.STORE_NAME).deleteRecurringMessages(b.recurrenceGroup),(0,s.dispatch)(u.STORE_NAME).receiveSocialMessages(S),(0,c.castArray)(S).map(en).filter((function(e){var t=e.type,n=e.id;return(0,s.select)(l).isSynching(t,n)})).forEach((0,s.dispatch)(l).markAsUpdated),[3,4];case 3:return E.sent(),Jt(o),[3,4];case 4:return[2]}var b,S}))}))}function Zt(e,t){return Kt(this,void 0,void 0,(function(){var n,r,a,o,i;return $t(this,(function(c){switch(c.label){case 0:if(!(n=(0,s.select)(u.STORE_NAME).getSocialMessage(e)))return[2];c.label=1;case 1:return c.trys.push([1,3,,4]),function(e){(0,s.dispatch)(l).markAsUpdating(en(e)),(0,s.dispatch)(u.STORE_NAME).deleteSocialMessage(e.id)}(n),r=(0,s.select)(u.STORE_NAME).getSiteId(),a=(0,s.select)(u.STORE_NAME).getApiRoot(),o=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:"".concat(a,"/site/").concat(r,"/social/").concat(e).concat(t?"/following":""),method:"DELETE",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(o)}})];case 2:return i=c.sent(),function(e,t){(0,s.dispatch)(u.STORE_NAME).deleteSocialMessage(e.id),(0,s.dispatch)(u.STORE_NAME).deleteRecurringMessages(e.recurrenceGroup),(0,s.dispatch)(u.STORE_NAME).receiveSocialMessages(t),(0,s.dispatch)(l).markAsUpdated(en(e))}(n,i),[3,4];case 3:return c.sent(),Jt(n),[3,4];case 4:return[2]}}))}))}function Jt(e){(0,s.dispatch)(u.STORE_NAME).receiveSocialMessages(e),(0,s.dispatch)(l).markAsUpdated(en(e))}function en(e){return{type:"social",id:e.id,relatedPostId:e.postId,recurrenceGroup:e.recurrenceGroup}}var tn=function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},tn.apply(this,arguments)},nn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},rn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function an(e,t){return nn(this,void 0,void 0,(function(){var n,r,a,o,i;return rn(this,(function(c){switch(c.label){case 0:if(!(n=(0,s.select)(u.STORE_NAME).getTask(e)))return[2];if((0,w.date)("Y-m-d",n.dateDue)===t)return[2];c.label=1;case 1:return c.trys.push([1,3,,4]),r=function(e,t){var n=At({dateType:t.dateType,dateValue:t.dateValue,newLocalDay:e,utcDate:t.dateDue}),r=n.utcDate,a=n.dateType,o=n.dateValue;return Nt(Nt({},t),{dateType:a,dateValue:o,dateDue:r})}(t,n),cn(r),a=(0,s.select)(u.STORE_NAME).getSiteId(),o=(0,s.select)(u.STORE_NAME).getApiRoot(),i=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:"".concat(o,"/site/").concat(a,"/task/").concat(e),method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(i)},data:tn(tn({},r),{baseDatetime:"reschedule"})})];case 2:return un(c.sent()),[3,4];case 3:return c.sent(),ln(n),[3,4];case 4:return[2]}}))}))}function on(e){return nn(this,void 0,void 0,(function(){var t,n,r,a;return rn(this,(function(o){switch(o.label){case 0:if(!(t=(0,s.select)(u.STORE_NAME).getTask(e)))return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),function(e){(0,s.dispatch)(l).markAsUpdating(dn(e)),(0,s.dispatch)(u.STORE_NAME).deleteTask(e.id)}(t),n=(0,s.select)(u.STORE_NAME).getSiteId(),r=(0,s.select)(u.STORE_NAME).getApiRoot(),a=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:"".concat(r,"/site/").concat(n,"/task/").concat(e),method:"DELETE",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(a)}})];case 2:return o.sent(),function(e){(0,s.dispatch)(l).markAsUpdated(dn(e))}(t),[3,4];case 3:return o.sent(),ln(t),[3,4];case 4:return[2]}}))}))}function sn(e){return nn(this,void 0,void 0,(function(){var t,n,r,a,o,i;return rn(this,(function(c){switch(c.label){case 0:if(!(t=(0,s.select)(u.STORE_NAME).getTask(e)))return[2];c.label=1;case 1:return c.trys.push([1,7,,8]),cn(n=tn(tn({},t),{completed:!t.completed})),r=(0,s.select)(u.STORE_NAME).getSiteId(),a=(0,s.select)(u.STORE_NAME).getApiRoot(),o=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:"".concat(a,"/site/").concat(r,"/task/").concat(e),method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(o)},data:n})];case 2:if(!(i=c.sent()).completed)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,kt()({path:"/nelio-content/v1/notifications/task",method:"POST",data:tn({isNewTask:!1},i)})];case 4:case 5:return c.sent(),[3,6];case 6:return un(tn(tn({},t),i)),[3,8];case 7:return c.sent(),ln(t),[3,8];case 8:return[2]}}))}))}function cn(e){(0,s.dispatch)(l).markAsUpdating(dn(e)),(0,s.dispatch)(u.STORE_NAME).receiveTasks(e)}function un(e){(0,s.dispatch)(u.STORE_NAME).receiveTasks(e),(0,s.dispatch)(l).markAsUpdated(dn(e))}function ln(e){(0,s.dispatch)(u.STORE_NAME).receiveTasks(e),(0,s.dispatch)(l).markAsUpdated(dn(e))}function dn(e){return{type:"task",id:e.id,relatedPostId:e.postId}}var fn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},gn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function pn(e){return void 0===e&&(e=""),fn(this,void 0,void 0,(function(){var t,n,r;return gn(this,(function(a){switch(a.label){case 0:if(e=(0,c.trim)(e),(0,s.dispatch)(l).setUnscheduledPostsSearchTimeout(0),!(0,s.select)(l).areThereUnscheduledPostsToLoad(e))return[2];if((0,s.select)(l).isLoadingUnscheduledPosts(e))return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),(0,s.dispatch)(l).setIsLoadingUnscheduledPosts(e,!0),t=(0,s.select)(l).getLastLoadedPageInUnscheduled(e),[4,kt()({path:(0,It.addQueryArgs)("/nelio-content/v1/post/search",{page:t+1,per_page:15,query:e,status:"nc_unscheduled"}),method:"GET"})];case 2:return n=a.sent(),r=n.results,(0,s.dispatch)(u.STORE_NAME).receivePosts(r),(0,s.dispatch)(l).updateUnscheduledPostsPagination(e,t+1,n.pagination.pages),(0,s.dispatch)(l).setIsLoadingUnscheduledPosts(e,!1),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))}var hn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},vn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function mn(){return hn(this,void 0,void 0,(function(){return vn(this,(function(e){switch(e.label){case 0:return[4,yn(0)];case 1:return e.sent(),[2]}}))}))}function yn(e){return hn(this,void 0,void 0,(function(){var t,n;return vn(this,(function(r){switch(r.label){case 0:return(t=(0,s.select)(l).getLoaderTimeout())&&clearTimeout(t),e?[3,2]:[4,En()];case 1:return r.sent(),[2];case 2:return n=setTimeout((function(){(0,s.dispatch)(l).loadItemsNow()}),e),(0,s.dispatch)(l).setLoaderTimeout(n),[2]}}))}))}function En(){return hn(this,void 0,void 0,(function(){var e,t,n,r,a;return vn(this,(function(o){switch(o.label){case 0:if((0,s.dispatch)(l).setLoaderTimeout(0),e=(0,s.select)(u.STORE_NAME).getFirstDayOfWeek(),t=(0,s.select)(l).getFirstDay(e),n=(0,s.select)(l).getLastDay(e),(0,s.dispatch)(l).markPeriodAsLoading(t,n),(0,s.select)(l).isPeriodReady(t,n))return(0,s.dispatch)(l).markPeriodAsLoaded(t,n),[2];r=(0,w.date)("Y-m-d",_()(t).add(-2,"days")),a=(0,w.date)("Y-m-d",_()(n).add(2,"days")),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all([bn(r,a),Sn(r,a),Tn(r,a)])];case 2:case 3:return o.sent(),[3,4];case 4:return(0,s.dispatch)(l).markPeriodAsLoaded(t,n),[2]}}))}))}function bn(e,t){return hn(this,void 0,void 0,(function(){var n;return vn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,kt()({path:(0,It.addQueryArgs)("/nelio-content/v1/calendar/posts",{from:e,to:t}),method:"GET"})];case 1:return n=r.sent(),(0,s.dispatch)(u.STORE_NAME).receivePosts(n),[3,3];case 2:return r.sent(),[3,3];case 3:return[2]}}))}))}function Sn(e,t,n){return hn(this,void 0,void 0,(function(){var r,a,o,i;return vn(this,(function(c){switch(c.label){case 0:if((0,s.select)(l).useEditorialCalendarOnly())return[2];c.label=1;case 1:return c.trys.push([1,5,,6]),r=(0,s.select)(u.STORE_NAME).getSiteId(),a=(0,s.select)(u.STORE_NAME).getApiRoot(),o=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:(0,It.addQueryArgs)("".concat(a,"/site/").concat(r,"/calendar/messages"),{from:e,to:t,page:n}),method:"GET",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(o)}})];case 2:return i=c.sent(),(0,j.isEmpty)(i.messages)?[2]:((0,s.dispatch)(u.STORE_NAME).receiveSocialMessages(i.messages),(0,s.dispatch)(u.STORE_NAME).markSocialPublicationAsPaused(i.isMessagePublicationPaused),i.page?[4,Sn(e,t,i.page)]:[3,4]);case 3:c.sent(),c.label=4;case 4:return[3,6];case 5:return c.sent(),[3,6];case 6:return[2]}}))}))}function Tn(e,t,n){return hn(this,void 0,void 0,(function(){var r,a,o,i;return vn(this,(function(c){switch(c.label){case 0:if((0,s.select)(l).useEditorialCalendarOnly())return[2];c.label=1;case 1:return c.trys.push([1,5,,6]),r=(0,s.select)(u.STORE_NAME).getSiteId(),a=(0,s.select)(u.STORE_NAME).getApiRoot(),o=(0,s.select)(u.STORE_NAME).getAuthenticationToken(),[4,kt()({url:(0,It.addQueryArgs)("".concat(a,"/site/").concat(r,"/calendar/tasks"),{from:e,to:t,page:n}),method:"GET",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(o)}})];case 2:return i=c.sent(),(0,j.isEmpty)(i.tasks)?[2]:((0,s.dispatch)(u.STORE_NAME).receiveTasks(i.tasks),i.page?[4,Tn(e,t,i.page)]:[3,4]);case 3:c.sent(),c.label=4;case 4:return[3,6];case 5:return c.sent(),[3,6];case 6:return[2]}}))}))}var wn=function(){return wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wn.apply(this,arguments)},On=wn(wn({},t),a),Dn=(0,s.registerStore)(l,{reducer:C,controls:s.controls,actions:On,selectors:e});function kn(e,t){var n=(0,It.removeQueryArgs)(document.location.href,"date","day"),r="month"===e?(0,It.addQueryArgs)(n,{date:t.substring(0,7)}):(0,It.addQueryArgs)(n,{day:t});window.history.replaceState(null,"",r)}var In=function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},In.apply(this,arguments)};function Nn(e){var t=e.getState().settings.calendarMode,n=document.querySelector(".nelio-content-calendar__grid");if(n){n.style.display="none";var r,a,o=(r=document.body,a=document.documentElement,Math.max(r.scrollHeight,r.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight));n.removeAttribute("style");var i=document.getElementById("wpadminbar"),c=document.querySelector(".nelio-content-calendar__header"),u=document.querySelector(".nelio-content-grid__header"),d=o-An(i)-An(c)-An(u),f=(0,s.dispatch)(l).setCalendarDimensions;switch(t){case"agenda":case"month":return f({adminSidebarWidth:Pn(),minRowHeight:d/6-1});case"two-weeks":return f({adminSidebarWidth:Pn(),minRowHeight:d/2-1});default:return f({adminSidebarWidth:Pn(),minRowHeight:d-1})}}}function Pn(){var e=document.getElementById("adminmenu");return e?Math.round(e.getBoundingClientRect().width):0}function An(e){return e?e.getBoundingClientRect().height:0}const Cn=window.wp.components;var xn=n(4184),Mn=n.n(xn),Rn=n(9196);function Ln(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var jn="function"==typeof Symbol&&Symbol.observable||"@@observable",Un=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fn={INIT:"@@redux/INIT"+Un(),REPLACE:"@@redux/REPLACE"+Un(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Un()}};function Hn(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ln(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ln(1));return n(Hn)(e,t)}if("function"!=typeof e)throw new Error(Ln(2));var a=e,o=t,i=[],s=i,c=!1;function u(){s===i&&(s=i.slice())}function l(){if(c)throw new Error(Ln(3));return o}function d(e){if("function"!=typeof e)throw new Error(Ln(4));if(c)throw new Error(Ln(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(Ln(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),i=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(Ln(7));if(void 0===e.type)throw new Error(Ln(8));if(c)throw new Error(Ln(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=i=s,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:Fn.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ln(10));a=e,f({type:Fn.REPLACE})}})[jn]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ln(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[jn]=function(){return this},e},r}var Vn="dnd-core/INIT_COORDS",Bn="dnd-core/BEGIN_DRAG",Gn="dnd-core/PUBLISH_DRAG_SOURCE",Yn="dnd-core/HOVER",Wn="dnd-core/DROP",qn="dnd-core/END_DRAG",Qn=function(e,t){return e===t};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Zn(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case Vn:case Bn:return{initialSourceClientOffset:a.sourceClientOffset,initialClientOffset:a.clientOffset,clientOffset:a.clientOffset};case Yn:return e=n.clientOffset,t=a.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y?n:Kn(Kn({},n),{},{clientOffset:a.clientOffset});case qn:case Wn:return Xn;default:return n}}var Jn="dnd-core/ADD_SOURCE",er="dnd-core/ADD_TARGET",tr="dnd-core/REMOVE_SOURCE",nr="dnd-core/REMOVE_TARGET";function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function ar(e){return"object"===rr(e)}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ur(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case Bn:return ir(ir({},n),{},{itemType:a.itemType,item:a.item,sourceId:a.sourceId,isSourcePublic:a.isSourcePublic,dropResult:null,didDrop:!1});case Gn:return ir(ir({},n),{},{isSourcePublic:!0});case Yn:return ir(ir({},n),{},{targetIds:a.targetIds});case nr:return-1===n.targetIds.indexOf(a.targetId)?n:ir(ir({},n),{},{targetIds:(e=n.targetIds,t=a.targetId,e.filter((function(e){return e!==t})))});case Wn:return ir(ir({},n),{},{dropResult:a.dropResult,didDrop:!0,targetIds:[]});case qn:return ir(ir({},n),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case Jn:case er:return e+1;case tr:case nr:return e-1;default:return e}}var dr=[],fr=[];function gr(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Yn:break;case Jn:case er:case nr:case tr:return dr;default:return fr}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,a=t.prevTargetIds,o=void 0===a?[]:a,i=function(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}(r,o),s=i.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(r,o);if(!s)return dr;var c=o[o.length-1],u=r[r.length-1];return c!==u&&(c&&i.push(c),u&&i.push(u)),i}function pr(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:gr(n.dirtyHandlerIds,{type:r.type,payload:vr(vr({},r.payload),{},{prevTargetIds:(e=n,"dragOperation.targetIds",t=[],"dragOperation.targetIds".split(".").reduce((function(e,n){return e&&e[n]?e[n]:t||null}),e))})}),dragOffset:Zn(n.dragOffset,r),refCount:lr(n.refCount,r),dragOperation:ur(n.dragOperation,r),stateId:pr(n.stateId)}}function Er(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return r[i++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}function br(e,t){return{type:Vn,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}dr.__IS_NONE__=!0,fr.__IS_ALL__=!0;var Sr={type:Vn,payload:{clientOffset:null,sourceClientOffset:null}};function Tr(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,a=void 0===r||r,o=n.clientOffset,i=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(br(o)),function(e,t,n){Er(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Er(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,s,c);var u=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,s);if(null!==u){var l=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");!function(e){Er("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),l=i(u)}e.dispatch(br(o,l));var d=c.getSource(u).beginDrag(s,u);!function(e){Er(ar(e),"Item must be an object.")}(d),c.pinSource(u);var f=c.getSourceType(u);return{type:Bn,payload:{itemType:f,item:d,sourceId:u,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!a}}}e.dispatch(Sr)}}function _r(e){return function(){if(e.getMonitor().isDragging())return{type:Gn}}}function wr(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function Or(e){return function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset;!function(e){Er(Array.isArray(e),"Expected targetIds to be an array.")}(t);var r=t.slice(0),a=e.getMonitor(),o=e.getRegistry();return function(e,t,n){Er(t.isDragging(),"Cannot call hover while not dragging."),Er(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var a=e[r];Er(e.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array."),Er(n.getTarget(a),"Expected targetIds to be registered.")}}(r,a,o),function(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r];wr(t.getTargetType(a),n)||e.splice(r,1)}}(r,o,a.getItemType()),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,a,o),{type:Yn,payload:{targetIds:r,clientOffset:n||null}}}}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();!function(e){Er(e.isDragging(),"Cannot call drop while not dragging."),Er(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);var a=function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);a.forEach((function(a,o){var i=function(e,t,n,r){var a=n.getTarget(e),o=a?a.drop(r,e):void 0;return function(e){Er(void 0===e||ar(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}(a,o,r,n),s={type:Wn,payload:{dropResult:kr(kr({},t),i)}};e.dispatch(s)}))}}function Pr(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Er(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:qn}}}function Ar(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xr,Mr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0}).handlerIds;Er("function"==typeof e,"listener must be a function."),Er(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var a=t.store.getState(),o=a.stateId;try{var i=o===r||o===r+1&&!function(e,t){return e!==dr&&(e===fr||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}(a.dirtyHandlerIds,n);i||e()}finally{r=o}}))}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Er("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Er(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Er(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&wr(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Er(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){if(!e)return!1;var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(r&&!wr(n,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var o=a.indexOf(e);return t?o===a.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,a=e.initialClientOffset,o=e.initialSourceClientOffset,r&&a&&o?Ar((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),a):null;var e,t,n,r,a,o}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?Ar(t,n):null;var e,t,n}}],n&&Cr(t.prototype,n),e}(),Rr=0;function Lr(e){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function jr(e,t){t&&Array.isArray(e)?e.forEach((function(e){return jr(e,!1)})):Er("string"==typeof e||"symbol"===Lr(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(xr||(xr={}));const Ur="undefined"!=typeof global?global:self,Fr=Ur.MutationObserver||Ur.WebKitMutationObserver;function Hr(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const Vr="function"==typeof Fr?function(e){let t=1;const n=new Fr(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:Hr;class Br{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const Gr=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Vr(this.flush),this.requestErrorThrow=Hr((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},Yr=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new Br(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(Gr.registerPendingError);function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e){switch(e[0]){case"S":return xr.SOURCE;case"T":return xr.TARGET;default:Er(!1,"Cannot parse handler ID: ".concat(e))}}function Kr(e,t){var n=e.entries(),r=!1;do{var a=n.next(),o=a.done;if(qr(a.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var $r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n;return t=e,n=[{key:"addSource",value:function(e,t){jr(e),function(e){Er("function"==typeof e.canDrag,"Expected canDrag to be a function."),Er("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Er("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(xr.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Jn,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){jr(e,!0),function(e){Er("function"==typeof e.canDrop,"Expected canDrop to be a function."),Er("function"==typeof e.hover,"Expected hover to be a function."),Er("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(xr.TARGET,e,t);return this.store.dispatch(function(e){return{type:er,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Kr(this.dragSources,e)||Kr(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Er(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return Er(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Er(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Er(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return zr(e)===xr.SOURCE}},{key:"isTargetId",value:function(e){return zr(e)===xr.TARGET}},{key:"removeSource",value:function(e){var t,n=this;Er(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:tr,payload:{sourceId:e}}}(e)),t=function(){n.dragSources.delete(e),n.types.delete(e)},Gr.enqueueTask(Yr.create(t))}},{key:"removeTarget",value:function(e){Er(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:nr,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Er(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Er(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(Rr++).toString();switch(e){case xr.SOURCE:return"S".concat(t);case xr.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===xr.SOURCE?this.dragSources.set(r,n):e===xr.TARGET&&this.dropTargets.set(r,n),r}}],n&&Wr(t.prototype,n),e}();function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zr=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Hn(yr,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=r,this.monitor=new Mr(r,new $r(r)),r.subscribe(this.handleRefCountChange)}var t,n;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:Tr(e),publishDragSource:_r(e),hover:Or(e),drop:Nr(e),endDrag:Pr(e)}}(this);return Object.keys(n).reduce((function(r,a){var o,i=n[a];return r[a]=(o=i,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=o.apply(e,r);void 0!==i&&t(i)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&Xr(t.prototype,n),e}();function Jr(e,t,n,r){var a=new Zr(r),o=e(a,t,n);return a.receiveBackend(o),a}var ea=Rn.createContext({dragDropManager:void 0});function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var na=0,ra=(0,Rn.memo)((function(e){var t=e.children,n=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oa(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=t;return a[aa]||(a[aa]=function(e,t,n,r){return{dragDropManager:Jr(e,t,n,r)}}(e,t,n,r)),a[aa]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children"])),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),a=r[0],o=r[1];return Rn.useEffect((function(){return o&&na++,function(){o&&0==--na&&(oa()[aa]=null)}}),[]),Rn.createElement(ea.Provider,{value:a},t)}));ra.displayName="DndProvider";var aa=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function oa(){return void 0!==n.g?n.g:window}function ia(e){var t=null;return function(){return null==t&&(t=e()),t}}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ca=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n;return t=e,n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],n&&sa(t.prototype,n),e}(),ua=ia((function(){return/firefox/i.test(navigator.userAgent)})),la=ia((function(){return Boolean(window.safari)}));function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,a=[],o=0;o<r;o++)a.push(o);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var i,s,c=[],u=[],l=[],d=0;d<r-1;d++)i=t[d+1]-t[d],s=n[d+1]-n[d],u.push(i),c.push(s),l.push(s/i);for(var f=[l[0]],g=0;g<u.length-1;g++){var p=l[g],h=l[g+1];if(p*h<=0)f.push(0);else{i=u[g];var v=u[g+1],m=i+v;f.push(3*m/((m+v)/p+(m+i)/h))}}f.push(l[l.length-1]);for(var y,E=[],b=[],S=0;S<f.length-1;S++){y=l[S];var T=f[S],_=1/u[S],w=T+f[S+1]-y-y;E.push((y-T-w)*_),b.push(w*_*_)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=E,this.c3s=b}var t,n;return t=e,n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,o=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var s,c=0,u=o.length-1;c<=u;){var l=t[s=Math.floor(.5*(c+u))];if(l<e)c=s+1;else{if(!(l>e))return n[s];u=s-1}}var d=e-t[i=Math.max(0,u)],f=d*d;return n[i]+r[i]*d+a[i]*f+o[i]*d*f}}],n&&da(t.prototype,n),e}(),ga=1;function pa(e){var t=e.nodeType===ga?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function ha(e){return{x:e.clientX,y:e.clientY}}var va,ma="__NATIVE_FILE__",ya="__NATIVE_URL__",Ea="__NATIVE_TEXT__";function ba(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ta=(Sa(va={},ma,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Sa(va,ya,{exposeProperties:{urls:function(e,t){return ba(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Sa(va,Ea,{exposeProperties:{text:function(e,t){return ba(e,t,"")}},matchesTypes:["Text","text/plain"]}),va);function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wa=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&_a(t.prototype,n),e}();function Oa(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ta).filter((function(e){return Ta[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ka=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&Da(t.prototype,n),e}();function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ca=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&pa(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=ha(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var a=e.dataTransfer,o=Oa(a);if(r.monitor.isDragging()){if(a&&"function"==typeof a.setDragImage){var i=r.monitor.getSourceId(),s=r.sourceNodes.get(i),c=r.sourcePreviewNodes.get(i)||s;if(c){var u=r.getCurrentSourcePreviewNodeOptions(),l=function(e,t,n,r,a){var o,i,s,c="IMG"===(o=t).nodeName&&(ua()||!(null===(i=document.documentElement)||void 0===i?void 0:i.contains(o))),u=pa(c?e:t),l={x:n.x-u.x,y:n.y-u.y},d=e.offsetWidth,f=e.offsetHeight,g=r.anchorX,p=r.anchorY,h=function(e,t,n,r){var a=e?t.width:n,o=e?t.height:r;return la()&&e&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}}(c,t,d,f),v=h.dragPreviewWidth,m=h.dragPreviewHeight,y=a.offsetX,E=a.offsetY,b=0===E||E;return{x:0===y||y?y:new fa([0,.5,1],[l.x,l.x/d*v,l.x+v-d]).interpolate(g),y:b?E:(s=new fa([0,.5,1],[l.y,l.y/f*m,l.y+m-f]).interpolate(p),la()&&c&&(s+=(window.devicePixelRatio-1)*m),s)}}(s,c,n,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});a.setDragImage(c,l.x,l.y)}}try{null==a||a.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(a&&!a.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=Oa(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;r.dragEnterTargetIds=[],r.monitor.isDragging()&&(r.altKeyPressed=e.altKey,ua()||r.actions.hover(t,{clientOffset:ha(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:ha(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem()&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:ha(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new ka(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ca(this.isNodeInDocument)}var t,n;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Na({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Na({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(o).some((function(t){return o[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new wa(Ta[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&Aa(t.prototype,n),e}(),xa=function(e,t){return new Ca(e,t)};const Ma=window.NelioContent.components,Ra=window.NelioContent.postQuickEditor,La=window.NelioContent.socialMessageEditor,ja=window.NelioContent.taskEditor,Ua=window.wp.i18n;var Fa=[{title:(0,Ua._x)("Editorial Calendar","text","nelio-content"),intro:(0,Ua._x)("Welcome to Nelio Content’s Editorial Calendar, an outstanding overview of all your WordPress and social media content.","user","nelio-content")},{title:(0,Ua._x)("Editorial Calendar","text","nelio-content"),intro:(0,Ua._x)("The calendar shows all your posts, social messages, and editorial tasks. You can drag-and-drop any item in the calendar to reschedule it to a different day or click on them to open a quick editor modal.","user","nelio-content")},{title:(0,Ua._x)("Add Items","text","nelio-content"),intro:(0,Ua._x)("Use this button to add new posts, social messages, or tasks in the calendar. You can also hover over any (non-past) day in the calendar to reveal the same set of actions to create items for that specific day.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-item-creation-button")}},{title:(0,Ua._x)("Filters","text","nelio-content"),intro:(0,Ua._x)("Use this option to open the filter panel and select which elements should be visible in the calendar. When there are active filters, the color of this button will be different.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-filter")}},{title:(0,Ua._x)("Unscheduled Items","text","nelio-content"),intro:(0,Ua._x)("This button toggles the “Unscheduled” posts panel. When enabled, you’ll be able to drag-and-drop items from and to the “Unscheduled” area to (un)schedule them.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-unscheduled")}},{title:(0,Ua._x)("More Options","text","nelio-content"),intro:(0,Ua._x)("Under this menu, you’ll find some additional options like, for example, changing the calendar view, pausing the publication of any scheduled messages on your social media, exporting the calendar to CSV, or clearing all your active filters.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-more")}}],Ha=function(e){var t=e.isBlurred,n=(0,s.useSelect)((function(e){return e(u.STORE_NAME).getFirstDayOfWeek()})),r=(0,s.useSelect)((function(e){return e(l).getCalendarMode()})),a=(0,s.useSelect)((function(e){return e(l).getFirstDay(n)})),o=(0,s.useSelect)((function(e){return e(l).getLastDay(n)}));if(!a)return null;if("month"===r){var d=_()(a).add(15,"days"),f=(0,c.upperFirst)((0,w.dateI18n)("F",d)),g=(0,w.dateI18n)("Y",d);return i.createElement("h2",{className:"nelio-content-period-label"},f," ",g)}var p=(0,c.upperFirst)((0,w.dateI18n)("F",a)),h=(0,c.upperFirst)((0,w.dateI18n)("F",o)),v=(0,w.dateI18n)("Y",a),m=(0,w.dateI18n)("Y",o);if(p===h&&v===m)return i.createElement("h2",{className:Mn()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},p," ",v);var y=(0,c.upperFirst)((0,w.dateI18n)("M",a)),E=(0,c.upperFirst)((0,w.dateI18n)("M",o));return v===m?i.createElement("h2",{className:Mn()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},(0,Ua.sprintf)(/* translators: 1 -> month, 2 -> month, 3 -> year */
(0,Ua._x)("%1$s – %2$s %3$s","text (M-M Y)","nelio-content"),y,E,v)):i.createElement("h2",{className:Mn()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},(0,Ua.sprintf)(/* translators: 1 -> month, 2 -> year, 3 -> month, 4 -> year */
(0,Ua._x)("%1$s %2$s – %3$s %4$s","text (M Y-M Y)","nelio-content"),y,v,E,m))},Va=n(4382),Ba=n.n(Va),Ga=function(e,t){return(0,s.useSelect)((function(n){var r,a,o;switch(e){case"post":return null!==(r=n(u.STORE_NAME).getPost(t))&&void 0!==r&&r;case"social":return null!==(a=n(u.STORE_NAME).getSocialMessage(t))&&void 0!==a&&a;case"task":return null!==(o=n(u.STORE_NAME).getTask(t))&&void 0!==o&&o;case"comment":case"external-event":case"internal-event":return!1}}))||void 0},Ya=function(){return(0,s.useSelect)((function(e){return e(l).getDraggingItem()}))},Wa=function(e){return(0,s.useSelect)((function(t){var n=t(u.STORE_NAME).getToday();return e<n?"past-day":e===n?"today":"future-day"}))},qa=function(e){var t=so(e);return(0,s.useSelect)((function(e){var n=e(l).getNumberOfNonCollapsableMessages,r=(0,c.filter)(t,{type:"social"}),a=n();return Math.max(0,r.length-a)}))},Qa=function(e,t){var n=Ga(e,t);if(!n)return oo;if("post"===e&&!uo(n))return oo;var r=(0,j.createItemSummary)(e,n);return{onMouseEnter:function(){return io(r)},onMouseLeave:function(){return io()}}},za=function(e,t){return(0,s.useSelect)((function(n){if(n(u.STORE_NAME),e&&t){var r=n(u.STORE_NAME).getPostStatuses(e);return(0,c.find)(r,{slug:t})}}))},Ka=function(){return(0,s.useSelect)((function(e){var t=(0,Ua._x)("Add New Post","command","nelio-content"),n=(0,e(u.STORE_NAME).getPostTypes)();return 1===n.length&&n[0]&&n[0].labels.new||t}))},$a=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).canCurrentUserCreatePosts()}))},Xa=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).canCurrentUserCreateMessagesAlways()}))},Za=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).canCurrentUserCreateTasksAlways()}))},Ja=function(e,t){var n=(0,s.useDispatch)(Ra.STORE_NAME).openNewPostEditor;return function(){return n({dateValue:e,timeValue:t})}},eo=function(e,t){var n=e===no(),r=(0,s.useDispatch)(La.STORE_NAME).openNewSocialMessageEditor;return function(){return r({dateType:n?"predefined-offset":"exact",dateValue:n?"0":e,timeType:n?"predefined-offset":"exact",timeValue:n?"0":t},{context:"calendar"})}},to=function(e){var t=(0,s.useDispatch)(ja.STORE_NAME).openNewTaskEditor;return function(){return t({dateType:"exact",dateValue:e},{post:void 0,context:"calendar"})}},no=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).getToday()}))},ro=function(e,t){var n=(0,s.useDispatch)(l),r=n.dragEnd,a=n.reschedulePost,o=n.rescheduleSocialMessage,i=n.requestRecurringRescheduleMode,d=n.rescheduleTask;return function(n){return r(),function(n){var r=n.id,l=n.type,f=(0,s.select)(u.STORE_NAME).getItem(l,r);if(f){var g=t?function(e,t,n){if("task"===e)return"";var r=(0,j.extractDateTimeValues)("post"===e?t.date:t.schedule);if(!r)return"";var a=r.timeValue,o=Number.parseInt(a.substring(0,2)),i=Number.parseInt(a.substring(3,5)),s=o%4+n;return(0,c.padStart)("".concat(s),2,"0")+":"+(0,c.padStart)("".concat(i),2,"0")}(l,f,t):void 0;switch(l){case"post":return a(r,e,g);case"social":var p=(0,s.select)(u.STORE_NAME).getSocialMessage(r);return(0,j.isRecurringMessage)(p)&&!(0,j.isRecurringSource)(p)?i({id:r,day:e,hour:g}):o(r,e,g);case"task":d(r,e)}}}(n),n}},ao=function(){return(0,s.useSelect)((function(e){return e(l).getMinimumRowHeight()}))},oo={onMouseEnter:function(){},onMouseLeave:function(){}},io=(0,c.debounce)((0,s.dispatch)(l).setHoverItem,200),so=function(e){return(0,s.useSelect)((function(t){var n=t(u.STORE_NAME),r=n.getItem,a=n.getItemsInDay,o=t(l).isItemVisible;return(0,c.filter)(a(e),(function(e){var t=e.id,n=e.type,a=r(n,t);return!!a&&o(n,a)}))}))},co=function(e){return"social"===e.type},uo=function(e){return!!e.date},lo={onDragStart:function(){},onDragEnd:function(){}},fo=function(e){var t=e.className,n=void 0===t?"":t,r=no(),a=Ka(),o=$a(),s=Xa(),c=Za(),u=Ja(r,"10:00"),l=eo(r,"10:00"),d=to(r);return i.createElement(Cn.DropdownMenu,{className:"nelio-content-item-creation-button ".concat(n),icon:"plus",label:(0,Ua._x)("Create Item","command","nelio-content"),toggleProps:{variant:"primary",tooltipPosition:"bottom center"}},(function(e){var t=e.onClose;return i.createElement(Cn.MenuGroup,null,i.createElement(Cn.MenuItem,{role:"menuitem",icon:"admin-post",disabled:!o,onClick:function(){t(),u()}},a),i.createElement(Cn.MenuItem,{role:"menuitem",icon:"share",disabled:!s,onClick:function(){t(),l()}},(0,Ua._x)("Social Message","text","nelio-content")),i.createElement(Cn.MenuItem,{role:"menuitem",icon:"flag",disabled:!c,onClick:function(){t(),d()}},(0,Ua._x)("Task","text","nelio-content")))}))},go=function(e){var t,n=e.className,r=void 0===n?"":n,a=(0,s.useDispatch)(l).toggleSidePane,o=(0,s.useSelect)((function(e){return e(l).isFilterPaneOpen()})),c=(0,s.useSelect)((function(e){return e(l).areThereActiveFilters()}));return i.createElement("div",{className:r},i.createElement(Cn.Button,{className:Mn()((t={},t[r]=!0,t["nelio-content-toggle-filter-pane-button"]=!0,t["nelio-content-toggle-filter-pane-button--has-active-filters"]=c,t["nelio-content-toggle-filter-pane-button--is-toggled"]=o,t)),icon:"filter",label:o?(0,Ua._x)("Hide Filters","command","nelio-content"):(0,Ua._x)("Show Filters","command","nelio-content"),tooltipPosition:"bottom center",isPressed:o,onClick:function(){return a("filters")}}))},po=function(e){var t,n=e.className,r=void 0===n?"":n,a=(0,s.useSelect)((function(e){return e(l).isUnscheduledViewOpen()})),o=(0,s.useDispatch)(l).toggleSidePane;return i.createElement("div",{className:r},i.createElement(Cn.Button,{className:Mn()((t={},t[r]=!0,t["nelio-content-toggle-unscheduled-posts-button"]=!0,t["nelio-content-toggle-unscheduled-posts-button--is-toggled"]=a,t)),icon:"portfolio",label:(0,Ua._x)("Unscheduled Content","text","nelio-content"),tooltipPosition:"bottom center",isPressed:a,onClick:function(){return o("unscheduled-posts")}}))},ho=function(){var e=(0,s.useSelect)((function(e){return e(l).getCalendarMode()})),t=(0,s.useDispatch)(l).setCalendarMode;return i.createElement(Cn.MenuGroup,{label:(0,Ua._x)("View","text (name)","nelio-content")},i.createElement(Cn.MenuItemsChoice,{choices:vo,value:e,onSelect:t}))},vo=[{value:"agenda",label:(0,Ua._x)("Agenda","text","nelio-content")},{value:"week",label:(0,Ua._x)("One Week","text","nelio-content")},{value:"two-weeks",label:(0,Ua._x)("Two Weeks","text","nelio-content")},{value:"month",label:(0,Ua._x)("Month","text","nelio-content")}],mo=function(){var e=yo(),t=e[0],n=e[1],r=(0,s.useSelect)((function(e){return e(l).isIcsEnabled()})),a=Eo("all"),o=Eo("user"),c=bo();return t?i.createElement(Cn.Modal,{className:"nelio-content-calendar-export-dialog",isDismissible:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,onRequestClose:function(){return n(!1)},title:(0,Ua._x)("Export Calendar","text","nelio-content")},i.createElement("div",{className:"nelio-content-calendar-export-dialog__paragraph"},(0,Ua._x)("Export your editorial calendar in CSV format:","user","nelio-content")),i.createElement("div",{className:"nelio-content-calendar-export-dialog__download-csv"},i.createElement(Cn.Button,{variant:"primary",onClick:function(){c(),n(!1)}},(0,Ua._x)("Download CSV","command","nelio-content"))),r&&i.createElement("div",{className:"nelio-content-calendar-export-dialog__ics"},i.createElement("div",{className:"nelio-content-calendar-export-dialog__paragraph"},(0,Ua._x)("Export your editorial calendar to Google Calendar or any tool that supports iCalendar (.ics) format.","user","nelio-content")),i.createElement("div",{className:"nelio-content-calendar-export-dialog__ics-option"},i.createElement(Cn.TextControl,{label:(0,Ua._x)("URL to export your posts only:","user","nelio-content"),value:null!=o?o:"",onChange:function(){},readOnly:!0})),i.createElement("div",{className:"nelio-content-calendar-export-dialog__ics-option"},i.createElement(Cn.TextControl,{label:(0,Ua._x)("URL to export all posts:","user","nelio-content"),value:null!=a?a:"",onChange:function(){},readOnly:!0})))):null},yo=function(){return[(0,s.useSelect)((function(e){return e(l).isExportDialogOpen()})),(0,s.useDispatch)(l).openExportDialog]},Eo=function(e){return(0,s.useSelect)((function(t){return t(l).getIcsLink(e)}))},bo=function(){var e=(0,s.useSelect)((function(e){var t=e(u.STORE_NAME),n=t.getCSV,r=t.getFirstDayOfWeek,a=e(l),o=a.getFirstDay,i=a.getLastDay,s=r();return n(o(s),i(s))}));return function(){var t=window.URL||window.webkitURL,n=new window.Blob([e],{type:"text/csv;charset=UTF-8"}),r=document.createElement("a");r.setAttribute("href",t.createObjectURL(n)),r.setAttribute("download","export.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},So=function(e){var t=e.close,n=(0,s.useSelect)((function(e){return e(u.STORE_NAME).canCurrentUserManagePlugin()})),r=(0,s.useSelect)((function(e){return e(u.STORE_NAME).isSubscribed()})),a=(0,s.useSelect)((function(e){return e(u.STORE_NAME).isSocialPublicationPaused()})),o=(0,s.useSelect)((function(e){return e(u.STORE_NAME).isSocialPublicationStatusBeingSynched()})),c=(0,s.useDispatch)(u.STORE_NAME).toggleSocialPublicationStatus,d=(0,s.useDispatch)(l).openExportDialog,f=(0,s.useDispatch)(l).clearFilters;return i.createElement(Cn.MenuGroup,{label:(0,Ua._x)("Tools","text","nelio-content")},i.createElement(Cn.MenuItem,{role:"menuitem",disabled:o||!n,onClick:c},a&&!o&&(0,Ua._x)("Resume Social Publication","command","nelio-content"),!a&&!o&&(0,Ua._x)("Pause Social Publication","command","nelio-content"),a&&o&&(0,Ua._x)("Resuming Social Publication…","text","nelio-content"),!a&&o&&(0,Ua._x)("Pausing Social Publication…","text","nelio-content")),i.createElement(Cn.MenuItem,{role:"menuitem",onClick:function(){t(),d()},disabled:!r},(0,Ua._x)("Export Calendar","command","nelio-content"),i.createElement(mo,null)),i.createElement(Cn.MenuItem,{role:"menuitem",onClick:function(){t(),f()}},(0,Ua._x)("Clear Filters","command","nelio-content")),i.createElement(Ma.ContextualHelp,{context:"editorial-calendar",walkthrough:Fa,component:To(t)}))},To=function(e){return function(t){return i.createElement(Cn.MenuItem,{role:"menuitem",onClick:function(){setTimeout(e,0),t.runWalkthrough()}},(0,Ua._x)("Help","text","nelio-content"))}},_o=function(e){var t=e.className,n=void 0===t?"":t;return i.createElement(Cn.DropdownMenu,{className:"nelio-content-more-options ".concat(n),icon:"ellipsis",label:(0,Ua._x)("More tools & options","text","nelio-content"),toggleProps:{tooltipPosition:"bottom center"}},(function(e){var t=e.onClose;return i.createElement(i.Fragment,null,i.createElement(ho,null),i.createElement(So,{close:t}))}))},wo=function(){var e=(0,s.useSelect)((function(e){return e(l).isCalendarSynching()})),t=(0,s.useSelect)((function(e){return e(u.STORE_NAME).isSocialPublicationPaused()})),n=Do(),r=(0,s.useDispatch)(l),a=r.previousPeriod,o=r.nextPeriod,c=Oo(),d=(0,s.useDispatch)(l).showToday;return i.createElement(i.Fragment,null,i.createElement("div",{className:"nelio-content-header__block nelio-content-header__calendar-controls"},i.createElement(fo,{className:"nelio-content-header__create-item-button"}),i.createElement(Cn.Button,{className:"nelio-content-header__previous-button",icon:"arrow-left-alt2",label:n.prev,tooltipPosition:"bottom center",onClick:function(){a()}}),i.createElement(Cn.Button,{className:"nelio-content-header__next-button",icon:"arrow-right-alt2",label:n.next,tooltipPosition:"bottom center",onClick:function(){o()}}),i.createElement(Ha,null),i.createElement(Cn.Button,{className:"nelio-content-header__today-button",icon:i.createElement(Ba(),{className:"dashicon"}),label:(0,Ua._x)("Today","text","nelio-content"),tooltipPosition:"bottom center",onClick:function(){d()},disabled:c}),i.createElement(Ma.SubscribeWithCouponButton,{className:"nelio-content-header__promo-button"}),e&&i.createElement(Cn.Spinner,null)),!!t&&i.createElement("div",{className:"nelio-content-header__block"},i.createElement("span",{title:(0,Ua._x)("Publication on social media is paused and, therefore, Nelio Content will not share any of your scheduled social messages","user","nelio-content"),className:"nelio-content-header__paused-social-publication-warning"},(0,Ua._x)("Paused","text (social media publication)","nelio-content"))),i.createElement("div",{className:"nelio-content-header__block nelio-content-header__toolbar"},i.createElement(go,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-filter"}),i.createElement(po,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-unscheduled"}),i.createElement(_o,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-more"})))},Oo=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME),n=t.getToday,r=t.getFirstDayOfWeek,a=e(l),o=a.getFirstDay,i=a.getLastDay,s=r(),c=n();return o(s)<=c&&c<=i(s)}))},Do=function(){switch((0,s.useSelect)((function(e){return e(l).getCalendarMode()}))){case"month":return{prev:(0,Ua._x)("Previous Month","text","nelio-content"),next:(0,Ua._x)("Next Month","text","nelio-content")};case"two-weeks":return{prev:(0,Ua._x)("Previous Two Weeks","text","nelio-content"),next:(0,Ua._x)("Next Two Weeks","text","nelio-content")};case"week":return{prev:(0,Ua._x)("Previous Week","text","nelio-content"),next:(0,Ua._x)("Next Week","text","nelio-content")};default:return{prev:(0,Ua._x)("Previous Period","text","nelio-content"),next:(0,Ua._x)("Next Period","text","nelio-content")}}},ko="undefined"!=typeof window?Rn.useLayoutEffect:Rn.useEffect;function Io(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(a=n?n.call(r,l,d,u):void 0)||void 0===a&&l!==d)return!1}return!0}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ao(e,t,n){var r=function(e,t,n){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?No(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Rn.useState)((function(){return t(e)})),2),a=r[0],o=r[1],i=(0,Rn.useCallback)((function(){var r=t(e);Io(a,r)||(o(r),n&&n())}),[a,e,n]);return ko(i,[]),[a,i]}(e,t,n),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),o=a[0],i=a[1];return ko((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),o}function Co(){var e=(0,Rn.useContext)(ea).dragDropManager;return Er(null!=e,"Expected drag drop context"),e}function xo(e,t){"function"==typeof e?e(t):e.current=t}function Mo(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,Rn.isValidElement)(t)){var r=t;return e(r,n),r}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(a);var o=n?function(t){return e(t,n)}:e;return function(e,t){var n=e.ref;return Er("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?(0,Rn.cloneElement)(e,{ref:function(e){xo(n,e),xo(t,e)}}):(0,Rn.cloneElement)(e,{ref:t})}(a,o)}}(r);t[n]=function(){return a}}})),t}function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Lo(e){return null!==e&&"object"===Ro(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uo=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Mo({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Lo(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Io(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&jo(t.prototype,n),e}();function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ho=!1,Vo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Er(!Ho,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ho=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ho=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Fo(t.prototype,n),e}();function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yo(e){var t=(0,Rn.useRef)(e);t.current=e,Er(null!=e.accept,"accept must be defined");var n,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((n=Co(),[(0,Rn.useMemo)((function(){return new Vo(n)}),[n]),(0,Rn.useMemo)((function(){return new Uo(n.getBackend())}),[n])]),2),a=r[0],o=r[1];!function(e,t,n){var r=Co(),a=(0,Rn.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);ko((function(){var o=function(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}(e.current.accept,a,r),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2),s=i[0],c=i[1];return t.receiveHandlerId(s),n.receiveHandlerId(s),c}),[t,n])}(t,a,o);var i=Ao(a,t.current.collect||function(){return{}},(function(){return o.reconnect()})),s=(0,Rn.useMemo)((function(){return o.hooks.dropTarget()}),[o]);return ko((function(){o.dropTargetOptions=e.options||null,o.reconnect()}),[e.options]),[i,s]}var Wo=function(e){var t=e.children,n=e.onHover,r=e.interval,a=Yo({accept:["post","social","task"],hover:qo(n,r),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),o=a[0].isHovered,s=a[1];return i.createElement("div",{className:Mn()({"nelio-content-header__drop-control":!0,"nelio-content-header__period-control":!0,"nelio-content-header__period-control--is-hovered":o}),ref:s},t)},qo=function(e,t){var n=(0,i.useState)(!1),r=n[0],a=n[1],o=function(n){n.isOver()?(e(),setTimeout((function(){return o(n)}),t)):a(!1)};return function(e,n){r||(a(!0),setTimeout((function(){return o(n)}),t))}},Qo=function(e){var t=e.children,n=Ya(),r=zo(n),a=Yo({accept:["post","social","task"],drop:Ko(),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),o=a[0].isHovered,s=a[1];return r?i.createElement("div",{className:Mn()({"nelio-content-header__drop-control":!0,"nelio-content-header__trash-control":!0,"nelio-content-header__trash-control--is-hovered":o}),ref:s},t):null},zo=function(e){return(0,s.useSelect)((function(t){if(!e)return!1;if("social"===e.type){var n=t(u.STORE_NAME),r=n.getSocialMessage;return(0,n.canCurrentUserDeleteSocialMessage)(r(e.id))}if("task"===e.type){var a=t(u.STORE_NAME),o=a.getTask;return(0,a.canCurrentUserDeleteTask)(o(e.id))}return!0}))},Ko=function(){var e=(0,s.useDispatch)(l),t=e.deleteSocialMessage,n=e.deleteTask,r=e.dragEnd,a=e.requestRecurringTrashMode,o=e.trashPost;return function(e){!function(e){var r=e.id;switch(e.type){case"post":return o(r);case"social":var i=(0,s.select)(u.STORE_NAME).getSocialMessage(r);return(0,j.isRecurringMessage)(i)&&!(0,j.isRecurringSource)(i)?a({id:r}):t(r,(0,j.isRecurringMessage)(i)&&(0,j.isRecurringSource)(i)?"following":void 0);case"task":n(r)}}(e),r()}},$o=function(e){var t=e.type,n=(0,s.useSelect)((function(e){return e(l).isCalendarSynching()})),r=Xo();return i.createElement("div",{className:"nelio-content-header__dragging-controls"},i.createElement("div",{className:"nelio-content-header__period-controller"},i.createElement(Wo,{onHover:r.prev,interval:1e3},(0,Ua._x)("Previous","command","nelio-content")),i.createElement(Wo,{onHover:r.next,interval:1e3},(0,Ua._x)("Next","command","nelio-content")),i.createElement(Ha,{isBlurred:!0}),n&&i.createElement(Cn.Spinner,null)),i.createElement(Qo,null,"post"===t?(0,Ua._x)("Trash","command","nelio-content"):(0,Ua._x)("Delete","command","nelio-content")))},Xo=function(){var e=(0,s.useDispatch)(l),t=e.previousPeriod,n=e.nextPeriod;return{prev:function(){return t(1200)},next:function(){return n(1200)}}},Zo=function(e){var t,n=e.className,r=void 0===n?"":n,a=null===(t=Ya())||void 0===t?void 0:t.type,o=(0,s.useSelect)((function(e){return e(l).getAdminSidebarWidth()}));return i.createElement("div",{className:"nelio-content-header ".concat(r),style:{width:"calc(100% - ".concat(o,"px)")}},a?i.createElement($o,{type:a}):i.createElement(wo,null))},Jo=function(e){var t=e.day,n=Ka(),r=$a(),a=Xa(),o=Za(),s=Ja(t,"10:00"),c=eo(t,"10:00"),u=to(t);return i.createElement("div",{className:"nelio-content-calendar-day__actions"},i.createElement(Cn.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-item-icon",icon:"insert"}),i.createElement(Cn.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-post",icon:"admin-post",disabled:!r,label:n,tooltipPosition:"bottom center",onClick:s}),i.createElement(Cn.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-social-message",icon:"share",disabled:!a,label:(0,Ua._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:c}),i.createElement(Cn.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-task",icon:"flag",disabled:!o,label:(0,Ua._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:u}))};function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ti=!1,ni=!1,ri=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Er(!ti,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ti=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ti=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Er(!ni,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ni=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ni=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&ei(t.prototype,n),e}();function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oi=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Mo({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Lo(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Lo(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Io(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Io(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&ai(t.prototype,n),e}();function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e){var t=(0,Rn.useRef)(e);t.current=e,Er(null!=e.item,"item must be defined"),Er(null!=e.item.type,"item type must be defined");var n,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((n=Co(),[(0,Rn.useMemo)((function(){return new ri(n)}),[n]),(0,Rn.useMemo)((function(){return new oi(n.getBackend())}),[n])]),2),a=r[0],o=r[1];!function(e,t,n){var r=Co(),a=(0,Rn.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,a=n.item;if(r){var o=r(t);return Er(null==o||"object"===si(o),"dragSpec.begin() must either return an object, undefined, or null"),o||a||{}}return a||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var a=e.current.isDragging;return a?a(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);ko((function(){var o=function(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return[a,function(){return r.removeSource(a)}]}(e.current.item.type,a,r),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(_n=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==i.return||i.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ii(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2),s=i[0],c=i[1];return t.receiveHandlerId(s),n.receiveHandlerId(s),c}),[])}(t,a,o);var i=Ao(a,t.current.collect||function(){return{}},(function(){return o.reconnect()})),s=(0,Rn.useMemo)((function(){return o.hooks.dragSource()}),[o]),c=(0,Rn.useMemo)((function(){return o.hooks.dragPreview()}),[o]);return ko((function(){o.dragSourceOptions=t.current.options||null,o.reconnect()}),[o]),ko((function(){o.dragPreviewOptions=t.current.previewOptions||null,o.reconnect()}),[o]),[i,s,c]}var li=function(e){var t=e.className,n=e.postType,r=e.postStatus,a=za(n,r);return(null==a?void 0:a.icon)?i.createElement("span",{className:t,title:a.name},i.createElement(Cn.Dashicon,{icon:a.icon})):null},di=function(e){var t=e.className,n=void 0===t?"":t,r=e.type,a=e.date,o=e.status,c=e.title,u=(0,s.useSelect)((function(e){return!!a&&e(l).formatCalendarTime(a)}));return i.createElement("div",{className:n},i.createElement(li,{className:"nelio-content-calendar-post__status-icon",postStatus:o,postType:r})," ",!!u&&i.createElement(i.Fragment,null,i.createElement("strong",null,u)," "),i.createElement("span",null,c))},fi=function(e){var t=e.className,n=e.itemId,r=e.type,a=e.typeName,o=gi(n);return"post"===r?i.createElement("div",{className:t},i.createElement(Cn.Dashicon,{icon:"category"})," ".concat(o)):"page"===r?i.createElement("div",{className:t},i.createElement(Cn.Dashicon,{icon:"admin-page"})," ".concat(a)):i.createElement("div",{className:t},i.createElement(Cn.Dashicon,{icon:"sticky"})," ".concat(a))},gi=function(e){return(0,s.useSelect)((function(t){var n;return(0,c.map)(null===(n=t(u.STORE_NAME).getPost(e))||void 0===n?void 0:n.taxonomies[j.CAT],"name").join(", ")}))},pi=function(e){var t,n,r=e.className,a=void 0===r?"":r,o=e.itemId,c=e.dragReference,u=e.isClickable,l=Ga("post",o),d=za(null==l?void 0:l.type,null==l?void 0:l.status),f=(0,s.useDispatch)(Ra.STORE_NAME).openPostEditor,g=Qa("post",o),p=g.onMouseEnter,h=g.onMouseLeave;if(!l)return null;var v=l.author,m=l.date,y=l.status,E=l.title,b=l.type,S=l.typeName;return i.createElement("div",{role:S,className:"nelio-content-calendar-post nelio-content-calendar-post--is-".concat(null!=y?y:"unknown"," ").concat(a),"data-item-id":o,style:{backgroundColor:null===(t=null==d?void 0:d.colors)||void 0===t?void 0:t.background,borderTopColor:null===(n=null==d?void 0:d.colors)||void 0===n?void 0:n.main},onClick:function(){l&&u&&f(l)},onMouseEnter:p,onMouseLeave:h,ref:c},i.createElement(Ma.AuthorIcon,{className:"nelio-content-calendar-post__author-icon",authorId:v}),i.createElement(di,{className:"nelio-content-calendar-post__content",date:m||"",status:y,type:b,title:E}),i.createElement(fi,{className:"nelio-content-calendar-post__details",itemId:o,type:b,typeName:S}))};const hi=window.NelioContent.networks;var vi=function(e){var t=e.className,n=e.message,r=e.schedule,a=(0,s.useSelect)((function(e){return e(l).formatCalendarTime(r)}));return i.createElement("div",{className:t},i.createElement("strong",null,a)," ",i.createElement("span",null,n))},mi=function(e){var t,n=e.className,r=void 0===n?"":n,a=e.itemId,o=e.dragReference,c=e.isClickable,u=Ga("social",a),l=(0,s.useDispatch)(La.STORE_NAME).openSocialMessageEditor,d=Qa("social",a),f=d.onMouseEnter,g=d.onMouseLeave;if(!u)return null;var p=u.auto,h=u.isFreePreview,v=u.network,m=u.profileId,y=u.schedule,E=u.status,b=u.textComputed,S=u.type;return i.createElement("div",{role:(0,Ua._x)("Social Message","text","nelio-content"),className:Mn()((t={"nelio-content-calendar-social-message":!0,"nelio-content-calendar-social-message--is-auto":!!p},t["nelio-content-calendar-social-message--is-".concat(v)]=!0,t["nelio-content-calendar-social-message--is-".concat(E)]=!0,t["nelio-content-calendar-social-message--is-free-preview"]=h,t[r]=!!r,t)),onClick:function(){return!!u&&c&&l(u,{context:"calendar"})},"data-item-id":a,onMouseEnter:f,onMouseLeave:g,ref:o},!!h&&i.createElement("div",{className:"nelio-content-calendar-social-message__mode-icon"},i.createElement(Cn.Dashicon,{icon:"lock"})),!h&&(0,j.isRecurringMessage)(u)&&i.createElement("div",{className:"nelio-content-calendar-social-message__mode-icon"},i.createElement(Cn.Dashicon,{icon:"controls-repeat"})),i.createElement(Ma.SocialProfileIcon,{className:"nelio-content-calendar-social-message__profile-icon",profileId:m}),i.createElement(vi,{className:"nelio-content-calendar-social-message__content",message:(0,hi.doesNetworkSupport)("text",v)?b:yi(S),schedule:null!=y?y:""}))};function yi(e){switch(e){case"auto-image":case"text":return"";case"image":return(0,Ua._x)("(image)","text","nelio-content");case"video":return(0,Ua._x)("(video)","text","nelio-content")}}var Ei=function(e){var t,n=e.className,r=void 0===n?"":n,a=e.itemId,o=e.dragReference,c=e.isClickable,u=Ga("task",a),d=bi(u),f=(0,s.useDispatch)(l).toggleTaskCompletion,g=(0,s.useDispatch)(l).openTaskViewerDialog,p=(0,s.useDispatch)(ja.STORE_NAME).openExistingTaskEditor,h=Qa("task",a),v=h.onMouseEnter,m=h.onMouseLeave;if(!u)return null;var y=u.assigneeId,E=u.color,b=u.completed,S=u.task;return i.createElement("div",{role:(0,Ua._x)("Task","text","nelio-content"),className:Mn()((t={"nelio-content-calendar-task":!0},t[r]=!0,t["nelio-content-calendar-task--is-".concat(E)]=!!E,t)),"data-item-id":a,onClick:function(e){var t;return"INPUT"!==(null===(t=e.target)||void 0===t?void 0:t.nodeName)&&!!u&&c&&(d?p(u,{context:"calendar",post:void 0}):g(a))},onMouseEnter:v,onMouseLeave:m,ref:o},i.createElement(Ma.AuthorIcon,{className:"nelio-content-calendar-task__author-icon",authorId:y}),i.createElement("div",{className:"nelio-content-calendar-task__value"},i.createElement("input",{type:"checkbox",checked:b,disabled:!c,onChange:function(){return f(a)}}),i.createElement("span",null,S)))},bi=function(e){return(0,s.useSelect)((function(t){return t(u.STORE_NAME).canCurrentUserEditTask(e)}))},Si=function(e){var t=e.className,n=e.itemId,r=wi(n),a=Ti(),o=_i(),c=(0,s.useSelect)((function(e){return!!r&&!r.isDayEvent&&e(l).formatCalendarTime(r.date)}));if(!r)return null;var u=r.date,d=r.title,f=r.isDayEvent,g=f?u<a:o(u);return i.createElement("div",{className:Mn()("nelio-content-calendar-external-event",t,f&&"nelio-content-calendar-external-event--is-day-event",g&&"nelio-content-calendar-external-event--is-past-event")},!!c&&i.createElement("strong",null,c," "),i.createElement("span",null,d))},Ti=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).getToday()}))},_i=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getUtcNow(),n="Y-m-d H:m";return function(e){return(0,w.format)(n,e)<(0,w.format)(n,t)}}))},wi=function(e){return(0,s.useSelect)((function(t){return t(u.STORE_NAME).getExternalEvent(e)}))};const Oi=window.wp.primitives;var Di=function(e){var t=e.className,n=e.type,r=ki(n);return i.createElement("span",{className:t,title:n},i.createElement(r,null))},ki=function(e){return"mailpoet-newsletter"===e?function(){return i.createElement(Oi.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 152.02 156.4"},i.createElement(Oi.Path,{d:"M37.71 89.1c3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V35.7l17 45.1a12.68 12.68 0 003.7 5.4c1.6 1.3 4 2 7.2 2a12.54 12.54 0 005.9-1.4 8.41 8.41 0 003.9-5l18.1-50V81a8.53 8.53 0 002.1 6.1c1.4 1.4 3.7 2.2 6.9 2.2 3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V8.7a7.48 7.48 0 00-3.3-6.6c-2.1-1.4-5-2.1-8.6-2.1a19.3 19.3 0 00-9.4 2 11.63 11.63 0 00-5.1 6.8l-19.6 58.3-20.5-58.7a12.4 12.4 0 00-4.5-6.2c-2.1-1.5-5-2.2-8.8-2.2a16.51 16.51 0 00-8.9 2.1c-2.3 1.5-3.5 3.9-3.5 7.2v71.5c0 2.8.7 4.8 2 6.2 1.5 1.4 3.7 2.1 7 2.1zM149 116.6l-2.4-1.9a7.4 7.4 0 00-9.4.3 19.65 19.65 0 01-12.5 4.6h-21.4A37.08 37.08 0 0077 130.5l-1.1 1.2-1.1-1.1a37.25 37.25 0 00-26.3-10.9H27a19.59 19.59 0 01-12.4-4.6 7.28 7.28 0 00-9.4-.3l-2.4 1.9a7.43 7.43 0 00-2.8 5.5 7.14 7.14 0 002.4 5.7 37.28 37.28 0 0024.6 9.5h21.6a19.59 19.59 0 0118.9 14.4v.2c.1.7 1.2 4.4 8.5 4.4s8.4-3.7 8.5-4.4v-.2a19.59 19.59 0 0118.9-14.4H125a37.28 37.28 0 0024.6-9.5 7.42 7.42 0 002.4-5.7 7.86 7.86 0 00-3-5.6z"}))}:"the-events-calendar"===e?function(){return i.createElement(Oi.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 110"},i.createElement(Oi.Path,{d:"M44.28 65.55c-3.273 1.327-6.302 2.044-8.505 1.925-2.853-.16-4.07-1.417-4.075-1.89-.002-.337 1.061-1.393 4.345-1.631a22.85 22.85 0 0 1 1.618-.06c2.243 0 4.74.368 6.617 1.655m6.123 28.93c-12.002 3.31-24.685.258-32.317-7.785-5.4-5.691-7.21-12.813-4.968-19.54 4.51-13.534 26.125-21.657 39.94-21.657.148 0 .296 0 .443.002 5.147.066 8.712 1.31 9.303 3.249.33 1.085-.452 2.984-2.095 5.079-2.899 3.696-7.304 7.046-11.784 9.504-2.84-3.117-7.397-4.535-13.224-4.115-6.487.47-8.773 3.619-8.75 6.408.026 3.04 2.974 6.282 8.56 6.592 3.381.185 7.422-.857 11.48-2.632.595 2.337.41 5.402-.563 9.056a2.375 2.375 0 0 0 4.588 1.224c1.324-4.966 1.423-9.131.3-12.44 5.297-2.974 10.194-6.923 13.13-10.666 2.755-3.514 3.731-6.675 2.901-9.396-.603-1.977-2.022-3.544-4.16-4.656.163-17.845 3.326-30.17 6.174-30.187h.017c.418 0 .984.093 1.678.783 2.314 2.3 5.07 9.85 5.07 32.759 0 22.605-1.935 41.85-25.723 48.417M27.745 41.756c-.003-.06.004-.118-.003-.178-.01-.086-.02-.176-.032-.264-.341-4.873.243-8.713 1.73-10.773.738-1.022 1.664-1.57 2.914-1.724 1.743-.21 3.16.24 4.352 1.384 2.306 2.217 3.652 7.01 3.524 12.255a65.61 65.61 0 0 0-11.85 4.153 51.109 51.109 0 0 1-.635-4.853m20.457-8.274c.875-.951 1.99-1.414 3.413-1.414 2.262 0 3.245.74 3.788 1.296 1.3 1.33 2 3.912 2.096 7.67a31.624 31.624 0 0 0-3.938-.283c-.16-.002-.32-.002-.482-.002-2.144 0-4.48.186-6.919.54-.105-3.445.615-6.251 2.042-7.806M74.405 9.935C72.98 8.518 71.24 7.77 69.374 7.77h-.042c-6.257.038-8.416 9.373-9.496 16.392-.317 2.06-.561 4.162-.752 6.196-.093-.103-.184-.211-.282-.31-1.766-1.81-4.185-2.728-7.187-2.728-2.749 0-5.139 1.02-6.911 2.95-.505.55-.94 1.189-1.332 1.873-.783-2.06-1.878-3.926-3.375-5.365-2.223-2.137-5.064-3.062-8.223-2.674-2.545.313-4.684 1.577-6.186 3.659a.414.414 0 0 1-.018.028C22.968 14.812 18.02-.86 9.388.037 7.264.26 5.387 1.403 3.961 3.34-2.7 12.394.426 39.314 3.32 53.792a2.377 2.377 0 0 0 2.795 1.864A2.375 2.375 0 0 0 7.98 52.86C3.13 28.618 4.212 11.015 7.787 6.156c.84-1.142 1.6-1.344 2.098-1.396C14.65 4.264 20.521 20.914 23 41.928c.198 2.602.592 5.039.972 6.933.002.008.006.016.008.026-7.136 4.114-13.025 9.738-15.367 16.767-2.816 8.444-.618 17.306 6.029 24.31 6.49 6.839 16.063 10.578 26.114 10.578 3.616 0 7.295-.485 10.911-1.484 26.976-7.445 29.21-29.316 29.21-52.995 0-20.259-2.056-31.738-6.472-36.127"}))}:"nelio-ab-testing"===e?function(){return i.createElement(Oi.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},i.createElement(Oi.Path,{d:"M 20 2.5 C 10.335017 2.5 2.5 10.335017 2.5 20 C 2.5 29.664983 10.335017 37.5 20 37.5 C 25.532271 37.5 30.457175 34.925969 33.664062 30.917969 L 30.693359 28.632812 C 28.172688 31.751359 24.322179 33.75 20 33.75 C 12.406085 33.75 6.25 27.593915 6.25 20 C 6.25 12.406085 12.406085 6.25 20 6.25 C 23.146297 6.25 26.035925 7.3186609 28.351562 9.0976562 L 19.722656 17.726562 L 14.855469 12.859375 L 12.570312 15.144531 L 17.4375 20.011719 L 19.722656 22.296875 L 22.007812 20.011719 L 30.675781 11.34375 L 33.335938 8.6835938 C 32.983151 8.2683011 32.607346 7.8732045 32.214844 7.4960938 C 31.832582 7.1222738 31.428655 6.7734428 31.013672 6.4355469 C 28.005188 3.9859195 24.182336 2.5 20 2.5 z M 34.427734 12.097656 A 1.8855933 1.8855933 0 0 0 32.542969 13.982422 A 1.8855933 1.8855933 0 0 0 34.427734 15.869141 A 1.8855933 1.8855933 0 0 0 36.314453 13.982422 A 1.8855933 1.8855933 0 0 0 34.427734 12.097656 z M 35.615234 18.115234 A 1.8855933 1.8855933 0 0 0 33.728516 20 A 1.8855933 1.8855933 0 0 0 35.615234 21.884766 A 1.8855933 1.8855933 0 0 0 37.5 20 A 1.8855933 1.8855933 0 0 0 35.615234 18.115234 z M 34.40625 24.216797 A 1.8855933 1.8855933 0 0 0 32.521484 26.101562 A 1.8855933 1.8855933 0 0 0 34.40625 27.986328 A 1.8855933 1.8855933 0 0 0 36.292969 26.101562 A 1.8855933 1.8855933 0 0 0 34.40625 24.216797 z "}))}:function(){return null}},Ii=function(e){var t=e.className,n=e.itemId,r=e.isClickable,a=Ai(n),o=Ni(),c=Pi(),u=(0,s.useSelect)((function(e){return!!a&&!a.isDayEvent&&e(l).formatCalendarTime(a.date)}));if(!a)return null;var d=a.date,f=a.color,g=a.backgroundColor,p=a.editLink,h=a.isDayEvent,v=a.title,m=a.type,y=function(){r&&p&&(window.location.href=p)},E=h?d<o:c(d);return i.createElement("div",{role:m,className:Mn()("nelio-content-calendar-internal-event",t,h&&"nelio-content-calendar-internal-event--is-day-event",E&&"nelio-content-calendar-internal-event--is-past-event"),style:{color:f,backgroundColor:g,borderColor:g},onClick:y,onKeyUp:function(e){"Enter"===e.key&&y()}},i.createElement(Di,{className:"nelio-content-calendar-internal-event__type-icon",type:m})," ",!!u&&i.createElement("strong",null,u," "),i.createElement("span",null,v))},Ni=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).getToday()}))},Pi=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getUtcNow(),n="Y-m-d H:m";return function(e){return(0,w.format)(n,e)<(0,w.format)(n,t)}}))},Ai=function(e){return(0,s.useSelect)((function(t){return t(u.STORE_NAME).getInternalEvent(e)}))},Ci=function(e){var t=e.itemType,n=e.itemId,r=xi(t,n),a=r.isBlurred,o=r.isClickable,c=r.isDraggable,u=r.isDragging,d=r.isHighlighted,f=r.isLocked,g=r.isSynching,p=ji(t,n),h=function(e){var t=(0,s.useDispatch)(l),n=t.dragEnd,r=t.dragStart;return e?{onDragStart:function(){r(e)},onDragEnd:function(){n()}}:lo}(p),v=ui({item:null!=p?p:{type:"unknown",id:""},begin:h.onDragStart,end:h.onDragEnd,canDrag:function(){return c}}),m=(v[0],v[1]),y=Mn()({"nelio-content-calendar-item":!0,"nelio-content-calendar-item--is-blurred":a,"nelio-content-calendar-item--is-dragging":u,"nelio-content-calendar-item--is-highlighted":d,"nelio-content-calendar-item--is-locked":f,"nelio-content-calendar-item--is-synching":g});switch(t){case"post":return i.createElement(pi,{className:y,itemId:n,dragReference:m,isClickable:o});case"social":return i.createElement(mi,{className:y,itemId:n,dragReference:m,isClickable:o});case"task":return i.createElement(Ei,{className:y,itemId:n,dragReference:m,isClickable:o});case"external-event":return i.createElement(Si,{className:y,itemId:n});case"internal-event":return i.createElement(Ii,{className:y,itemId:n,isClickable:o});case"comment":return null}},xi=function(e,t){var n=Li(e,t),r=Mi(e,t),a=Ri(e,t);return(0,s.useSelect)((function(o){var i=o(l),s=i.getDraggingItem,c=i.getHoverItem,u=i.isDragging,d=i.isHighlighted,f=i.isSynching,g=u(e,t),p=d(e,t),h=f(e,t),v=!!c()&&!p,m=!!s()&&!g,y=["post","social"].includes(e)&&!a&&!p,E=r&&!h,b=n&&!h;return{isBlurred:y||h||v||m,isClickable:E,isDraggable:b,isDragging:g,isHighlighted:p,isLocked:!E&&!b,isSynching:h}}))},Mi=function(e,t){var n=Ga(e,t),r=Ri(e,t);return(0,s.useSelect)((function(t){switch(e){case"post":var a=n;return t(u.STORE_NAME).canCurrentUserViewPost(a);case"social":var o=n;return r||!!(null==o?void 0:o.isFreePreview)||"publish"===(null==o?void 0:o.status);case"task":case"comment":case"external-event":case"internal-event":return r}}))},Ri=function(e,t){var n=Ga(e,t);return(0,s.useSelect)((function(t){switch(e){case"post":var r=n;return t(u.STORE_NAME).canCurrentUserEditPost(r);case"social":var a=n;return t(u.STORE_NAME).canCurrentUserEditSocialMessage(a);case"task":var o=n;return t(u.STORE_NAME).canCurrentUserEditTask(o);case"internal-event":return!0;case"comment":case"external-event":return!1}}))},Li=function(e,t){var n=Ga(e,t),r=Ri(e,t);if("internal-event"===e)return!1;if("post"!==e)return r;return r&&"publish"!==(null==n?void 0:n.status)},ji=function(e,t){var n=Ui(e,t);if("post"===e||"social"===e||"task"===e)return{id:t,type:e,minDroppableDay:n}},Ui=function(e,t){var n,r=Ga(e,t),a=(0,s.useSelect)((function(e){return e(u.STORE_NAME).getToday()}));switch(e){case"post":var o=r;return(null==o?void 0:o.date)&&(null==o?void 0:o.date)<a&&null!==(n=null==o?void 0:o.date)&&void 0!==n?n:a;case"social":return function(e,t){if(!t)return e;var n=t.dateType,r=t.dateValue,a=t.schedule;return"exact"===n?e:"0"===r?(0,w.date)("Y-m-d",a):(0,w.date)("Y-m-d",_()(a).add(-r,"days"))}(a,r);default:return a}},Fi=function(e){var t=e.day,n=!!Ya(),r=!!(0,s.useSelect)((function(e){return e(l).getHoverItem()})),a=n||r,o=qa(t),c=function(e){var t=(0,s.useSelect)((function(t){return t(l).areSocialMessagesCollapsedInDay(e)})),n=(0,s.useDispatch)(l).collapseSocialMessagesInDay;return[t,function(t){return n(t,e)}]}(t),u=c[0],d=c[1],f=Wa(t);return o?u?i.createElement(Cn.Button,{className:Mn()({"nelio-content-collapsed-social-messages-wrapper":!0,"nelio-content-collapsed-social-messages-wrapper--is-blurred":!a&&"past-day"===f}),disabled:a,onClick:function(){return d(!1)}},i.createElement("span",null,(0,Ua.sprintf)(/* translators: number of hidden messages on a certain day in the Editorial Calendar */
(0,Ua._x)("+%d more","command","nelio-content"),o)),i.createElement(Cn.Dashicon,{icon:"arrow-down"})):i.createElement(Cn.Button,{className:"nelio-content-collapsed-social-messages-wrapper",disabled:a,onClick:function(){return d(!0)}},i.createElement("span",null,(0,Ua._x)("Collapse","command","nelio-content")),i.createElement(Cn.Dashicon,{icon:"arrow-up"})):null},Hi=function(e){var t=e.day,n=function(e){var t=so(e),n=Wa(e),r=qa(e);return(0,s.useSelect)((function(a){if(!(0,a(l).areSocialMessagesCollapsedInDay)(e))return t;var o=(0,c.filter)(t,co),i=o.length-r;if(!r)return t;var s=a(u.STORE_NAME).getSocialMessage,d=(0,c.filter)(o,(function(e){var t,r=e.id;return"past-day"!==n||!!(null===(t=s(r))||void 0===t?void 0:t.sent)})),f=(0,c.map)((0,c.drop)(d,i),"id");return(0,c.filter)(t,(function(e){var t=e.id;return"social"!==e.type||!f.includes(t)}))}))}(t),r=Wa(t);return i.createElement("div",{className:"nelio-content-calendar-day__items nelio-content-calendar-day__items--".concat(r)},n.map((function(e){return i.createElement(Ci,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})),i.createElement(Fi,{day:t}))},Vi=function(e){var t=e.day,n=Wa(t),r=ro(t),a=ao(),o=Yo({accept:["post","social","task"],drop:r,canDrop:function(e){return e.minDroppableDay<=t},collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),s=o[0].isHovered,c=o[1],u=t.substring(8).replace(/^0/,"");return i.createElement("div",{className:Mn()({"nelio-content-calendar-day":!0,"nelio-content-calendar-day--is-hovered":s}),ref:c,style:{minHeight:a}},i.createElement("div",{className:"nelio-content-calendar-day__header"},i.createElement("div",{className:"nelio-content-calendar-day__label nelio-content-calendar-day__label--".concat(n)},u),"past-day"!==n&&i.createElement(Jo,{day:t})),i.createElement(Hi,{day:t}))},Bi=function(e){for(var t=e.className,n=void 0===t?"":t,r=e.firstDay,a=e.numberOfDays,o=_()((0,w.wpifyDateTime)("c",r,"12:00")),s=[],u=0;u<a;++u)s.push((0,w.dateI18n)("Y-m-d",o)),o.add(1,"day");var l=_()((0,w.wpifyDateTime)("c",r,"12:00")),d=[];for(u=0;u<7;++u)d.push((0,c.upperFirst)((0,w.dateI18n)("D",l))),l.add(1,"day");return i.createElement("div",{className:Mn()("nelio-content-day-grid",n)},i.createElement("div",{className:"nelio-content-day-grid__header"},d.map((function(e,t){return i.createElement("div",{key:t,className:"nelio-content-day-grid__weekday"},e)}))),s.map((function(e){return i.createElement(Vi,{key:"day-".concat(e),day:e})})))},Gi=function(e){var t=e.day,n=e.hour,r=Ka(),a=$a(),o=Xa(),s=Za(),c=Ja(t,n),u=eo(t,n),l=to(t);return i.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__actions"},i.createElement(Cn.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-item-icon",icon:"insert"}),i.createElement(Cn.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-post",icon:"admin-post",disabled:!a,label:r,tooltipPosition:"bottom center",onClick:c}),i.createElement(Cn.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-social-message",icon:"share",disabled:!o,label:(0,Ua._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:u}),i.createElement(Cn.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-task",icon:"flag",disabled:!s,label:(0,Ua._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:l}))},Yi=function(e){var t=e.day,n=e.hour,r=Wi(t,n);return i.createElement("div",null,r.map((function(e){return i.createElement(Ci,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})))},Wi=function(e,t){return(0,s.useSelect)((function(n){var r=n(u.STORE_NAME),a=r.getItem,o=r.getItemsInDay,i=n(l).isItemVisible;return(0,c.filter)(o(e),(function(e){var n=e.id,r=e.type,o=a(r,n);return!!o&&i(r,o)&&function(e,t,n){switch(e){case"external-event":case"internal-event":case"task":return 0===n;case"post":case"social":var r="post"===e?t.date:t.schedule,a=(0,j.extractDateTimeValues)(r);if(!a)return!1;var o=a.timeValue,i=Number.parseInt(o.substring(0,2));return i>=n&&i<n+4;case"comment":return!1}}(r,o,t)}))}))},qi=function(e){var t,n=e.day,r=e.hour,a=e.isHoveredByTask,o=e.onHoveredByTask,d=ro(n,r),f=ao(),g=(0,s.useSelect)((function(e){return e(l).getDraggingItem()})),p=null!==(t=null==g?void 0:g.type)&&void 0!==t?t:"",h=function(e,t,n){var r=(0,j.extractDateTimeValues)(e);if(!r)return"past-segment";var a=r.dateValue,o=r.timeValue,i=n,s=i+4;if(t!==a)return t<a?"past-segment":"future-segment";var c=parseInt(o.substring(0,2));return s<=c?"past-segment":i<=c&&c<s?"current-segment":"future-segment"}((0,s.useSelect)((function(e){return e(u.STORE_NAME).getUtcNow()})),n,r),v={day:n,hour:r,type:h},m=Yo({accept:["post","social","task"],drop:d,canDrop:function(e){return"post"===e.type&&Qi(v)||"task"===e.type&&zi(e,v)||"social"===e.type&&function(e,t){if("social"!==e.type)return!1;var n=(0,s.select)(u.STORE_NAME).getSocialMessage(e.id);if(!n)return!1;var r=(0,s.select)(u.STORE_NAME).getPost(n.postId);if(!r)return"future-segment"===t.type;if(!r.date)return!1;var a=(0,j.extractDateTimeValues)(r.date);if(!a)return!1;var o=a.timeValue,i=r.date.substring(0,10),c=Number.parseInt(o.substring(0,2));return"future-segment"===t.type&&(t.day>i||t.day===i&&t.hour>=c+4)}(e,v)},collect:function(e){return{isDirectlyHovered:e.canDrop()&&e.isOver()}}}),y=m[0].isDirectlyHovered,E=m[1];(0,i.useEffect)((function(){o("task"===p&&y)}),[p,y]);var b="task"===p?a:y;return i.createElement("div",{className:Mn()({"nelio-content-calendar-agenda-hour-segment":!0,"nelio-content-calendar-agenda-hour-segment--is-hovered":b}),ref:E,style:{minHeight:f}},i.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__header"},i.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__label--".concat(h)},(0,c.padStart)("".concat(r),2,"0")+":00"),"past-segment"!==h&&i.createElement(Gi,{day:n,hour:(0,c.padStart)("".concat(r),2,"0")+":00"})),i.createElement(Yi,{day:n,hour:r}))},Qi=function(e){return"future-segment"===e.type},zi=function(e,t){return"future-segment"===t.type||(0,s.select)(u.STORE_NAME).getToday()===t.day},Ki=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},$i=function(e){for(var t,n,r=e.className,a=void 0===r?"":r,o=e.firstDay,l=e.numberOfDays,d=(0,i.useState)([]),f=d[0],g=d[1],p=0<f.length&&null!==(n=null===(t=f[0])||void 0===t?void 0:t.substring(0,10))&&void 0!==n?n:"",h=(0,s.useSelect)((function(e){return e(u.STORE_NAME).getToday()})),v=_()((0,w.wpifyDateTime)("c",o,"12:00")),m=[],y=0;y<l;++y)m.push((0,w.dateI18n)("Y-m-d",v)),v.add(1,"day");var E=_()((0,w.wpifyDateTime)("c",o,"12:00")),b=[];for(y=0;y<l;++y)b.push((0,c.upperFirst)((0,w.dateI18n)("D",E))),E.add(1,"day");var S=[0,4,8,12,16,20].flatMap((function(e){return m.map((function(t){return{id:"".concat(t,":").concat(e),day:t,startHour:e}}))}));return i.createElement("div",{className:Mn()("nelio-content-agenda-grid","nelio-content-agenda-grid--has-".concat(l,"-days"),a)},b.map((function(e,t){var n,r=null!==(n=m[t])&&void 0!==n?n:"";return i.createElement("div",{key:t,className:"nelio-content-agenda-grid__weekday nelio-content-agenda-grid__weekday--is-".concat(Xi(h,r))},i.createElement("div",null,e," ",r.substring(8).replace(/^0/,"")))})),S.map((function(e){return i.createElement(qi,{key:e.id,day:e.day,hour:e.startHour,isHoveredByTask:e.day===p,onHoveredByTask:function(t){return g(t?Ki(Ki([],f,!0),[e.id],!1):(0,c.without)(f,e.id))}})})))};function Xi(e,t){return t<e?"past-day":t===e?"today":"future-day"}var Zi=function(){return Zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zi.apply(this,arguments)},Ji=function(e){return"agenda"===(0,s.useSelect)((function(e){return e(l).getCalendarMode()}))?i.createElement($i,Zi({},e)):i.createElement(Bi,Zi({},e))},es=function(e){var t,n=e.className,r=void 0===n?"":n,a=ts(),o=a[0],s=a[1];return i.createElement("div",{className:Mn()((t={},t[r]=!0,t["nelio-content-unscheduled-post-searcher"]=!0,t))},i.createElement(Cn.TextControl,{value:o,placeholder:(0,Ua._x)("Search","text","nelio-content"),onChange:s}))},ts=function(){var e=(0,s.useSelect)((function(e){return e(l).getUnscheduledPostsSearchQuery()||""})),t=(0,i.useState)(e),n=t[0],r=t[1],a=ns(),o=a[0],c=a[1],u=(0,s.useDispatch)(l).loadUnscheduledPosts;(0,i.useEffect)((function(){e!==n&&(r(e),clearTimeout(o),c((function(){u(e)}),250))}),[e,n]);var d=(0,s.useDispatch)(l).setUnscheduledPostsQuery;return[e,d]},ns=function(){var e=(0,s.useSelect)((function(e){return e(l).getUnscheduledPostsSearchTimeout()})),t=(0,s.useDispatch)(l).setUnscheduledPostsSearchTimeout;return[e,function(e,n){return t(setTimeout(e,n))}]},rs=function(e){var t,n=e.className,r=void 0===n?"":n,a=os(),o=is(),s=o.isLoading,c=o.isFirstPageLoaded,u=o.areTherePostsToLoad,l=ss(),d=Yo({accept:["post"],drop:cs(),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),f=d[0].isHovered,g=d[1],p=Ka(),h=$a(),v=Ja("","");return i.createElement("div",{className:Mn()((t={"nelio-content-unscheduled-posts":!0,"nelio-content-unscheduled-posts--is-hovered":f},t[r]=!0,t)),ref:g},i.createElement("div",{className:"nelio-content-unscheduled-posts__title"},(0,Ua._x)("Unscheduled","text (posts)","nelio-content")),i.createElement("div",{className:"nelio-content-unscheduled-posts__actions"},i.createElement(Cn.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-item-icon",icon:"insert"}),i.createElement(Cn.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-post",icon:"admin-post",disabled:!h,label:p,tooltipPosition:"bottom center",onClick:v})),i.createElement(es,{className:"nelio-content-unscheduled-posts__searcher"}),i.createElement("div",{className:"nelio-content-unscheduled-posts__list"},a.map((function(e){return i.createElement(Ci,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})),c&&u&&i.createElement("div",{className:"nelio-content-unscheduled-posts__load-more-action"},i.createElement(Cn.Button,{variant:"secondary",isBusy:s,disabled:s,onClick:l},s?(0,Ua._x)("Loading…","text","nelio-content"):(0,Ua._x)("Load More","command","nelio-content")))))},as=function(){return(0,s.useSelect)((function(e){return e(l).getUnscheduledPostsSearchQuery()||""}))},os=function(){var e=as();return(0,s.useSelect)((function(t){var n=t(u.STORE_NAME),r=n.getPost,a=n.getUnscheduledPosts,o=t(l).isItemVisible,i=(0,c.trim)(e.toLowerCase()),s=a();return i?s.filter((function(e){var t=e.id,n=r(t);return-1!==((null==n?void 0:n.title)?n.title.toLowerCase():"").indexOf(i)||"".concat(t)===i})):s.filter((function(e){var t=e.id,n=r(t);return!!n&&o("post",n)}))}))},is=function(){var e=as();return(0,s.useSelect)((function(t){var n=t(l),r=n.areThereUnscheduledPostsToLoad,a=n.getLastLoadedPageInUnscheduled;return{isLoading:(0,n.isLoadingUnscheduledPosts)(e),isFirstPageLoaded:0<a(e),areTherePostsToLoad:r(e)}}))},ss=function(){var e=as(),t=(0,s.useDispatch)(l).loadUnscheduledPosts;return function(){return t(e)}},cs=function(){var e=(0,s.useDispatch)(l),t=e.unschedulePost,n=e.dragEnd;return function(e){var r=e.type,a=e.id;"post"===r&&t(a),n()}},us=function(e){var t=e.onChange,n=e.value,r=(0,s.useSelect)((function(e){return e(u.STORE_NAME).getCurrentUserId()}));return i.createElement("div",{className:"nelio-content-post-filters__author"},i.createElement("span",null,(0,Ua._x)("Author","text","nelio-content")),i.createElement(Ma.AuthorSearcher,{placeholder:(0,Ua._x)("Search author…","command","nelio-content"),value:n,onChange:t,hasAllAuthors:!0}),i.createElement("div",{className:"nelio-content-post-filters__right-action"},i.createElement(Cn.Button,{variant:"link",onClick:function(){return t(r)}},(0,Ua._x)("Show My Posts","command","nelio-content"))))},ls=function(e){var t=e.name,n=e.boldLabel,r=e.checked,a=e.label,o=e.onChange;return i.createElement("li",{className:"nelio-content-post-filters__post-type nelio-content-post-filters__post-type--".concat(t)},i.createElement(Cn.CheckboxControl,{label:n?i.createElement("strong",null,a):a,checked:r,onChange:o}))},ds=function(){return ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ds.apply(this,arguments)},fs=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},gs=function(){var e=hs(),t=e[0],n=e[1],r=ps();return i.createElement("div",{className:"nelio-content-post-filters__by-status"},i.createElement("div",null,(0,Ua._x)("Post Status","text","nelio-content")),i.createElement("ul",{className:"nelio-content-post-filters__statuses"},r.map((function(e){var r=e.label,a=e.value;return i.createElement("li",{key:"nelio-content-post-filters__category-".concat(a)},i.createElement(Cn.CheckboxControl,{label:r,checked:!t.includes(a),onChange:function(){return e=a,n((0,c.xor)(t,[e]));var e}}))}))))},ps=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME),n=t.getPostTypes,r=t.getPostStatuses,a=n()||[],o=(0,c.flatten)(a.map((function(e){var t=e.name;return r(t)}))),i=o.reduce((function(e,t){var n,r,a=t.slug,o=t.name;return ds(ds({},e),((n={})[a]=(0,c.uniq)(fs(fs([],null!==(r=e[a])&&void 0!==r?r:[],!0),[o],!1)),n))}),{});return(0,c.map)(i,(function(e,t){return{value:t,label:e.join(", ")}}))}))},hs=function(){return[(0,s.useSelect)((function(e){return e(l).getDisabledStatuses()})),(0,s.useDispatch)(l).setDisabledStatuses]},vs=function(){var e=ms(),t=e.disabledPostTypes,n=e.postAuthor,r=e.postTypes,a=ys(),o=a.togglePostType,s=a.setPostAuthor;return i.createElement("div",{className:"nelio-content-post-filters"},i.createElement(us,{value:n,onChange:s}),i.createElement(gs,null),i.createElement("div",{className:"nelio-content-post-filters__by-type"},i.createElement("div",null,(0,Ua._x)("Content Type","text","nelio-content")),i.createElement("ul",null,r.map((function(e){var n=e.name,r=e.labels.singular;return i.createElement(ls,{key:"nelio-content-post-filters__post-type-".concat(n),name:n,label:r,checked:!t.includes(n),onChange:function(){return o(n)}})})))))},ms=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getPostTypes,n=e(l),r=n.getDisabledPostTypes,a=n.getPostAuthorFilter;return{postTypes:t(),disabledPostTypes:r(),postAuthor:a()}}))},ys=function(){var e=ms().disabledPostTypes,t=(0,s.useDispatch)(l),n=t.setDisabledPostTypes;return{togglePostType:function(t){return n((r=e,a=t,(0,c.xor)(r,[a])));var r,a},setPostAuthor:t.setPostAuthorFilter}},Es=function(e){var t=e.checked,n=e.children,r=e.isPartialCheck,a=e.network,o=e.onChange;return i.createElement("li",{className:"nelio-content-social-filters__network-and-profiles",key:"nelio-content-social-filters__network-".concat(a)},i.createElement(Ma.PartialCheckboxControl,{label:i.createElement("strong",null,(0,hi.getNetworkLabel)("name",a)),checked:t,isPartialCheck:r,onChange:o}),i.createElement("ul",{className:"nelio-content-social-filters__profiles"},n))},bs=function(e){var t=e.label,n=e.checked,r=e.onChange;return i.createElement("li",null,i.createElement(Cn.CheckboxControl,{label:t,checked:n,onChange:r}))},Ss=(0,u.withProfileCheck)((function(){var e=Ts(),t=e.areAutomaticMessagesVisible,n=e.areFailedMessagesVisible,r=e.disabledProfilesByNetwork,a=e.networks,o=e.profilesByNetwork,s=_s(),c=s.showAutomaticMessages,u=s.showFailedMessages,l=s.toggleProfile,d=s.enableAllProfilesInNetwork,f=s.disableAllProfilesInNetwork;return i.createElement("div",{className:"nelio-content-social-filters"},i.createElement("ul",null,i.createElement("li",{key:"nelio-content-social-filters__profile-title",className:"nelio-content-social-filters__title"},i.createElement("strong",null,(0,Ua._x)("Profile Filters","text","nelio-content"))),a.map((function(e){var t=o[e]||[],n=r[e]||[];return i.createElement(Es,{key:"nelio-content-social-filters__network-".concat(e),checked:n.length!==t.length,isPartialCheck:!(0,j.isEmpty)(n),network:e,onChange:function(t){return t?d(e):f(e)}},1<t.length&&t.map((function(t){var r=t.id,a=t.displayName;return i.createElement(bs,{key:"nelio-content-social-filters__profile-".concat(r),label:a,checked:!n.includes(r),onChange:function(){return l(e,r)}})})))})),i.createElement("li",{key:"nelio-content-social-filters__additional-title",className:"nelio-content-social-filters__title"},i.createElement("strong",null,(0,Ua._x)("Additional Filters","text","nelio-content"))),i.createElement("li",{key:"nelio-content-social-filters__auto"},i.createElement(Cn.CheckboxControl,{label:(0,Ua._x)("Show automatic social messages","command","nelio-content"),checked:t,onChange:function(){return c(!t)}})),i.createElement("li",{key:"nelio-content-social-filters__failed"},i.createElement(Cn.CheckboxControl,{label:(0,Ua._x)("Always show failed social messages","command","nelio-content"),checked:n,onChange:function(){return u(!n)}}))))})),Ts=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getSocialProfiles,n=e(l),r=n.areAutomaticMessagesVisible,a=n.areFailedMessagesVisible,o=n.getDisabledSocialProfilesByNetwork,i=t(),s=(0,c.uniq)((0,c.map)(i,"network")),d={};s.forEach((function(e){d[e]=(0,c.filter)(i,{network:e})}));for(var f=o(),g={},p=(0,c.map)(i,"id"),h=0,v=s;h<v.length;h++){var m=v[h];g[m]=(0,c.filter)(f[m],(function(e){return p.includes(e)}))}return{areAutomaticMessagesVisible:r(),areFailedMessagesVisible:a(),networks:s,profilesByNetwork:d,disabledProfilesByNetwork:g}}))},_s=function(){var e=Ts(),t=e.profilesByNetwork,n=e.disabledProfilesByNetwork,r=(0,s.useDispatch)(l),a=r.setDisabledSocialProfilesInNetwork;return{showAutomaticMessages:r.showAutomaticMessages,showFailedMessages:r.showFailedMessages,toggleProfile:function(e,t){return a(e,(r=n[e],o=t,(0,c.xor)(null!=r?r:[],[o])));var r,o},enableAllProfilesInNetwork:function(e){return a(e,[])},disableAllProfilesInNetwork:function(e){return a(e,(0,c.map)(t[e],"id"))}}},ws=function(){var e=(0,s.useSelect)((function(e){return e(u.STORE_NAME).getCurrentUserId()})),t=(0,s.useSelect)((function(e){return e(l).areTasksVisible()})),n=(0,s.useSelect)((function(e){return e(l).getTaskAssigneeFilter()})),r=(0,s.useDispatch)(l).setTaskAssigneeFilter,a=(0,s.useDispatch)(l).toggleTasksVisibility;return i.createElement("div",{className:"nelio-content-task-filters"},i.createElement(Cn.CheckboxControl,{className:"nelio-content-task-filters__visibility",checked:t,onChange:a,label:(0,Ua._x)("Show tasks","command","nelio-content")}),t&&i.createElement("div",{className:"nelio-content-task-filters__assignee"},i.createElement("span",null,(0,Ua._x)("Assignee","text","nelio-content")),i.createElement(Ma.AuthorSearcher,{placeholder:(0,Ua._x)("Search assignee…","command","nelio-content"),value:n,onChange:r,hasAllAuthors:!0,allAuthorsLabel:(0,Ua._x)("All Assignees","text","nelio-content")}),i.createElement("div",{className:"nelio-content-task-filters__right-action"},i.createElement(Cn.Button,{variant:"link",onClick:function(){return r(e)}},(0,Ua._x)("Show My Tasks","command","nelio-content")))))},Os=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},Ds=function(){var e=(0,s.useSelect)((function(e){return e(l).getDisabledExternalCalendars()})),t=(0,s.useSelect)((function(e){return e(l).getExternalCalendars()})),n=(0,s.useSelect)((function(e){return e(l).getDisabledInternalEventTypes()})),r=Is(),a=(0,s.useDispatch)(l),o=a.setDisabledInternalEventTypes,u=a.setDisabledExternalCalendars;return i.createElement(i.Fragment,null,t.length?i.createElement("div",{className:"nelio-content-external-event-filters"},i.createElement("p",{className:"nelio-content-external-event-filters__title"},(0,Ua._x)("External calendars","text","nelio-content")),t.map((function(t){var n=t.name,r=t.url;return i.createElement(Cn.CheckboxControl,{key:r,label:(0,c.trim)(n)||ks(r),checked:!e.includes(r),onChange:function(){return function(t){return u(e.includes(t)?(0,c.without)(e,t):Os(Os([],e,!0),[t],!1))}(r)}})}))):i.createElement("div",{className:"nelio-content-external-event-filters"},(0,Ua._x)("Did you know you can now visualize external events in Nelio Content? Go to the plugin settings, click on the Calendars tab, and add your calendars!","user","nelio-content")),!!r.length&&i.createElement("div",{className:"nelio-content-internal-event-filters"},i.createElement("p",{className:"nelio-content-internal-event-filters__title"},(0,Ua._x)("Events from plugins","text","nelio-content")),r.map((function(e){var t=e.type,r=e.label;return i.createElement(Cn.CheckboxControl,{key:t,label:(0,c.trim)(r),checked:!n.includes(t),onChange:function(){return function(e){return o(n.includes(e)?(0,c.without)(n,e):Os(Os([],n,!0),[e],!1))}(t)}})}))))},ks=function(e){return void 0===e&&(e=""),e.replace(/^https?:\/\//,"").replace(/\/.*$/,"")},Is=function(){return(0,s.useSelect)((function(e){return e(u.STORE_NAME).getActivePlugins()})).reduce((function(e,t){switch(t){case"mailpoet/mailpoet":return Os(Os([],e,!0),[{type:j.MAILPOET_NEWSLETTER,label:(0,Ua._x)("MailPoet Newsletters","text","nelio-content")}],!1);case"the-events-calendar/the-events-calendar":return Os(Os([],e,!0),[{type:j.THE_EVENTS_CAL,label:(0,Ua._x)("The Events Calendar","text","nelio-content")}],!1);case"nelio-ab-testing/nelio-ab-testing":return Os(Os([],e,!0),[{type:j.NELIO_AB_TESTING,label:(0,Ua._x)("Nelio A/B Testing","text","nelio-content")}],!1);default:return e}}),[])},Ns=function(e){var t=e.className,n=(0,s.useSelect)((function(e){return e(l).getActiveTabInFilterPane()})),r=(0,s.useDispatch)(l).setActiveTabInFilterPane,a=[{name:"post",title:i.createElement(Cn.Dashicon,{icon:"admin-post"}),className:"nelio-content-calendar-filters__tab"},{name:"social",title:i.createElement(Cn.Dashicon,{icon:"share"}),className:"nelio-content-calendar-filters__tab"},{name:"task",title:i.createElement(Cn.Dashicon,{icon:"flag"}),className:"nelio-content-calendar-filters__tab"},{name:"event",title:i.createElement(Cn.Dashicon,{icon:"calendar-alt"}),className:"nelio-content-calendar-filters__tab"}];return i.createElement("div",{className:Mn()("nelio-content-calendar-filters",t)},i.createElement(Cn.TabPanel,{className:"nelio-content-calendar-filters__tab-panel",activeClass:"nelio-content-calendar-filters__tab--is-active",orientation:"horizontal",initialTabName:n,onSelect:r,tabs:a},(function(e){var t=e.name;return i.createElement(i.Fragment,null,"post"===t&&i.createElement(vs,null),"social"===t&&i.createElement(Ss,null),"task"===t&&i.createElement(ws,null),"event"===t&&i.createElement(Ds,null))})))},Ps=function(){var e=(0,s.useSelect)((function(e){return e(l).getRecurringAction()})),t=(0,s.useDispatch)(l),n=t.closeRecurringDialog,r=t.deleteSocialMessage,a=t.rescheduleSocialMessage;if(!e)return null;var o=e.type,c=As(o);return i.createElement(Cn.Modal,{title:c.title,isDismissible:!1,onRequestClose:function(){}},i.createElement("div",{className:"nelio-content-recurring-dialog-mode"},i.createElement(Cn.Button,{variant:"secondary",onClick:function(){switch(o){case"trash":r(e.props.id),n();break;case"reschedule":a(e.props.id,e.props.day,e.props.hour,"disable-recurrence"),n();break;default:(0,j.assertUnreachable)(o)}}},c.one),i.createElement(Cn.Button,{variant:"primary",onClick:function(){switch(o){case"trash":r(e.props.id,"following"),n();break;case"reschedule":a(e.props.id,e.props.day,e.props.hour),n();break;default:(0,j.assertUnreachable)(o)}}},c.following)))},As=function(e){switch(e){case"trash":return{title:(0,Ua._x)("Recurring Message Trash","text","nelio-content"),one:(0,Ua._x)("Trash This Message","command","nelio-content"),following:(0,Ua._x)("Trash This and Following Messages","command","nelio-content")};case"reschedule":return{title:(0,Ua._x)("Recurring Message Reschedule","text","nelio-content"),one:(0,Ua._x)("Update This Message","command","nelio-content"),following:(0,Ua._x)("Update This and Following Messages","command","nelio-content")}}},Cs=function(){var e=xs(),t=Ms(null==e?void 0:e.postId),n=t.post,r=t.status,a=Rs(e),o=a.assignee,c=a.assigner,u=(0,s.useDispatch)(l).openTaskViewerDialog,d=function(){return u()};return e?i.createElement(Ma.LoadingModal,{className:"nelio-content-calendar-task-viewer",isDismissible:!0,isLoading:"loading"===r,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,onRequestClose:d,title:(0,Ua._x)("Task Details","text","nelio-content")},i.createElement("ul",{className:"nelio-content-calendar-task-viewer__content"},i.createElement("li",null,i.createElement("strong",null,(0,Ua._x)("Task:","text","nelio-content"))," ".concat(e.task)),i.createElement("li",null,i.createElement("strong",null,(0,Ua._x)("Assignee:","text","nelio-content"))," ",o||(0,Ua._x)("Unknown user","text","nelio-content")),i.createElement("li",null,i.createElement("strong",null,(0,Ua._x)("Creator:","text","nelio-content"))," ",c||(0,Ua._x)("Unknown user","text","nelio-content")),"error"===r&&i.createElement("li",null,i.createElement("strong",null,(0,Ua._x)("Related Post:","text","nelio-content"))," ",(0,Ua._x)("Related post could not be loaded","text","nelio-content")),"loaded"===r&&i.createElement("li",null,i.createElement("strong",null,(0,Ua._x)("Related Post:","text","nelio-content"))," ",i.createElement(Cn.ExternalLink,{href:null==n?void 0:n.permalink},null==n?void 0:n.title))),i.createElement("div",{className:"nelio-content-calendar-task-viewer__actions"},i.createElement(Cn.Button,{variant:"secondary",onClick:d},(0,Ua._x)("Close","command","nelio-content")))):null},xs=function(){return(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getTask,n=(0,e(l).getTaskIdInTaskViewer)();return n?t(n):void 0}))},Ms=function(e){return(0,s.useSelect)((function(t){if(!e)return{status:"none"};if(t(u.STORE_NAME).wasPostNotFound(e))return{status:"error"};var n=t(u.STORE_NAME).getPost(e);return{post:n,status:n?"loaded":"loading"}}))},Rs=function(e){return{assignee:(0,u.useAuthorName)(null==e?void 0:e.assigneeId),assigner:(0,u.useAuthorName)(null==e?void 0:e.assignerId)}},Ls=function(){var e=(0,s.useSelect)((function(e){var t=e(u.STORE_NAME).getFirstDayOfWeek();return e(l).getFirstDay(t)})),t=(0,s.useSelect)((function(e){return e(l).getNumberOfVisibleDays()})),n=Us();return i.createElement(i.StrictMode,null,i.createElement(Cn.SlotFillProvider,null,i.createElement(js,null,i.createElement("div",{className:"nelio-content-calendar"},i.createElement(Zo,{className:"nelio-content-calendar__header"}),i.createElement(Ji,{className:Mn()({"nelio-content-calendar__grid":!0,"nelio-content-calendar__grid--has-sidebar":"none"!==n}),firstDay:e,numberOfDays:t}),"unscheduled-posts"===n&&i.createElement(rs,{className:"nelio-content-calendar__sidebar"}),"filters"===n&&i.createElement(Ns,{className:"nelio-content-calendar__sidebar"}))),i.createElement(mo,null),i.createElement(Ps,null),i.createElement(Ra.PostQuickEditor,null),i.createElement(La.SocialMessageEditor,null),i.createElement(ja.TaskEditor,null),i.createElement(Cs,null),i.createElement(Ma.ContextualHelp,{context:"editorial-calendar",component:function(){return null},autostart:!0,walkthrough:Fa}),i.createElement(Cn.Popover.Slot,null)))},js=function(e){var t=e.children;return i.createElement(ra,{backend:xa},t)},Us=function(){return(0,s.useSelect)((function(e){var t=e(l),n=t.getDraggingItem,r=t.getSidePane,a=n(),o=r();return"none"!==o&&a?"unscheduled-posts":o}))},Fs=function(){return Fs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Fs.apply(this,arguments)};function Hs(e,t){var n,r,a=(0,s.dispatch)(l),o=a.initCalendarSettings,d=a.loadPreviousFilters,f=a.loadItemsNow,g=a.loadUnscheduledPosts;o(Fs(Fs({},t),function(){var e={},t=(0,j.getValue)("calendarMode");void 0!==t&&(e=In(In({},e),{calendarMode:t}));var n=(0,j.getValue)("calendarSidePane");return void 0!==n&&(e=In(In({},e),{sidePane:n})),e}())),d(function(){var e;return null!==(e=(0,j.getValue)("calendarFilters"))&&void 0!==e?e:{}}()),function(e){var t=function(){var e=document.location.href,t=(0,It.getQueryArg)(e,"day");if("string"==typeof t&&/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(t))return t;var n=(0,It.getQueryArg)(e,"date");return"string"==typeof n&&/^[0-9]{4}-[0-9]{2}$/.test(n)?"".concat(n,"-01"):""}();t&&(0,s.dispatch)(l).setFocusDay(t);var n=e.getState().settings;kn(n.calendarMode,n.focusDay),e.subscribe((function(){var t=e.getState().settings;t.calendarMode===n.calendarMode&&t.focusDay===n.focusDay||(n=t,kn(t.calendarMode,t.focusDay))}))}(Dn),f(),g(),(0,s.dispatch)(u.STORE_NAME).loadInternalEvents(),n=(0,c.map)(t.externalCalendars,"url"),r=(0,s.dispatch)(u.STORE_NAME).loadExternalEvents,n.forEach((function(e){r(e)}));var p=document.getElementById(e);(0,i.render)(i.createElement(Ls,null),p),function(e){var t=e.getState();e.subscribe((function(){var n=e.getState();n.settings.calendarMode!==t.settings.calendarMode&&(0,j.setValue)("calendarMode",n.settings.calendarMode),n.settings.sidePane!==t.settings.sidePane&&(0,j.setValue)("calendarSidePane",n.settings.sidePane),n.filters!==t.filters&&(0,j.setValue)("calendarFilters",n.filters),t=n}))}(Dn),function(e){!function(e){var t=document.getElementById("collapse-button");t&&t.addEventListener("click",(0,c.debounce)((function(){return Nn(e)}),50))}(e),function(e){window.addEventListener("resize",(0,c.debounce)((function(){return Nn(e)}),250))}(e),function(e){var t=e.getState().settings.calendarMode;e.subscribe((function(){var n=e.getState().settings.calendarMode;n!==t&&(t=n,Nn(e))}))}(e),Nn(e)}(Dn)}})();var a=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var o in r)a[o]=r[o];r.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();