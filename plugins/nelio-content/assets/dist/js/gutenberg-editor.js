(()=>{var e={6006:(e,t,n)=>{var i=n(9196);function o(e){return i.createElement("svg",e,i.createElement("path",{d:"M 20 2.5 C 10.335017 2.5 2.5 10.335017 2.5 20 C 2.5 29.664983 10.335017\n\t37.5 20 37.5 C 25.532271 37.5 30.457175 34.925969 33.664062 30.917969 L\n\t30.693359 28.632812 C 28.172688 31.751359 24.322179 33.75 20 33.75 C\n\t12.406085 33.75 6.25 27.593915 6.25 20 C 6.25 12.406085 12.406085 6.25 20\n\t6.25 C 23.146297 6.25 26.035925 7.3186609 28.351562 9.0976562 L 19.722656\n\t17.726562 L 14.855469 12.859375 L 12.570312 15.144531 L 17.4375 20.011719 L\n\t19.722656 22.296875 L 22.007812 20.011719 L 30.675781 11.34375 L 33.335938\n\t8.6835938 C 32.983151 8.2683011 32.607346 7.8732045 32.214844 7.4960938 C\n\t31.832582 7.1222738 31.428655 6.7734428 31.013672 6.4355469 C 28.005188\n\t3.9859195 24.182336 2.5 20 2.5 z M 34.427734 12.097656 A 1.8855933 1.8855933\n\t0 0 0 32.542969 13.982422 A 1.8855933 1.8855933 0 0 0 34.427734 15.869141 A\n\t1.8855933 1.8855933 0 0 0 36.314453 13.982422 A 1.8855933 1.8855933 0 0 0\n\t34.427734 12.097656 z M 35.615234 18.115234 A 1.8855933 1.8855933 0 0 0\n\t33.728516 20 A 1.8855933 1.8855933 0 0 0 35.615234 21.884766 A 1.8855933\n\t1.8855933 0 0 0 37.5 20 A 1.8855933 1.8855933 0 0 0 35.615234 18.115234 z M\n\t34.40625 24.216797 A 1.8855933 1.8855933 0 0 0 32.521484 26.101562 A\n\t1.8855933 1.8855933 0 0 0 34.40625 27.986328 A 1.8855933 1.8855933 0 0 0\n\t36.292969 26.101562 A 1.8855933 1.8855933 0 0 0 34.40625 24.216797 z ",fill:"inherit"}))}o.defaultProps={version:"1.1",viewBox:"0 0 40 40",width:"20",height:"20"},e.exports=o,o.default=o},5779:(e,t)=>{"use strict";function n(e){return e}t.Sy=function(){return n}},9196:e=>{"use strict";e.exports=window.React}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{initPage:()=>qe});const e=window.wp.data,t=window.wp.editor,o=window.NelioContent.editPost,r=window.NelioContent.utils,l=window.wp.element,a=window.wp.apiFetch;var s=n.n(a);const u=window.lodash,c=window.NelioContent.data,d=window.NelioContent.socialMessageEditor,f=window.wp.domReady;var g=n.n(f),v=(0,n(5779).Sy)(),m=function(e){return!!e&&"function"==typeof e&&"ajaxPrefilter"in e},E=function(e){return!!e&&"object"==typeof e&&"data"in e},p=function(e){return!!e&&"object"==typeof e&&"action"in e};var y=function(){return y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},b=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function l(e){try{s(i.next(e))}catch(e){r(e)}}function a(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}s((i=i.apply(e,t||[])).next())}))},h=function(e,t){var n,i,o,r,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(l=0)),l;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,i=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function w(t){return b(this,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return[4,P(t.postId)];case 1:return n=i.sent(),[4,A(y(y({},n),{date:"none"!==n.date&&n.date,followers:t.attributes.followers,statistics:{engagement:{},pageviews:void 0}}))];case 2:return i.sent(),void 0===(a=t.settings.isClassicEditor)&&(a=!1),(0,(0,e.dispatch)(o.STORE_NAME).setEditorToClassic)(a),window.NelioContentTinyMCE={createMessage:S,getLinks:r.getLinks,isEmpty:r.isEmpty},l=t.settings.autoShareEndModes,(0,r.isEmpty)(l)||(0,(0,e.dispatch)(o.STORE_NAME).setAutoShareEndModes)(l),b=t.settings.shouldAuthorBeFollower,(0,(0,e.dispatch)(o.STORE_NAME).includeAuthorInFollowers)(b),function(t){var n=t.url,i=t.alt;n&&(0,(0,e.dispatch)(o.STORE_NAME).setExternalFeaturedImage)(n,i)}(t.attributes.externalFeatImage),function(t){var n=(0,e.dispatch)(o.STORE_NAME),i=n.receiveReferences,l=n.suggestReferences;i(t);var a=(0,u.filter)(t,{isSuggestion:!0});(0,r.isEmpty)(a)||l((0,u.map)(a,"url"))}(t.attributes.references),function(t){(0,(0,e.dispatch)(o.STORE_NAME).markQualityAnalysisAsFullyIntegrated)(!!t.isFullyIntegrated)}(f=t.settings.qualityAnalysis),function(t){if(!t.isYoastIntegrated){var n=(0,e.dispatch)(o.STORE_NAME).removeQualityCheckType;n("nelio-content/yoast-content"),n("nelio-content/yoast-seo")}}(f),function(t){var n=t.supportsFeatImage,i=t.canImageBeAutoSet;n?(0,(0,e.dispatch)(o.STORE_NAME).updateQualityCheckSettings)("nelio-content/featured-image",{canImageBeAutoSet:i}):(0,(0,e.dispatch)(o.STORE_NAME).removeQualityCheckType)("nelio-content/featured-image")}(f),(0,(0,e.select)(c.STORE_NAME).isMultiAuthor)()||(0,(0,e.dispatch)(o.STORE_NAME).removeQualityCheckType)("nelio-content/author"),function(e){var t=e.setCustomField,n=e.removeCustomField;g()((function(){var e=window.jQuery;m(e)&&e.ajaxPrefilter((function(e,i){if(E(e)&&"string"==typeof e.data&&E(i)&&p(i)){var o=new URLSearchParams(e.data);switch(i.action){case"add-meta":if(o.has("metavalue")){var r="#NONE#"===o.get("metakeyselect")?o.get("metakeyinput"):o.get("metakeyselect"),l=o.get("metavalue")||"";r&&t(v(r),l)}else{var a=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[key\]/.test(e)})).map((function(e){return o.get(e)}))[0],s=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[value\]/.test(e)})).map((function(e){return o.get(e)}))[0];a&&s&&t(v(a),s)}break;case"delete-meta":var u=o.get("id"),c=u?document.getElementById("meta-".concat(u,"-key")):null;(r=null==c?void 0:c.getAttribute("value"))&&n(v(r))}}}))}))}((0,e.dispatch)(o.STORE_NAME)),o.store.subscribe((function(){var t=(0,e.select)(o.STORE_NAME),n=t.getDate,i=t.getStatus,r=n(),l=i();r===s&&l===d||(s=r,d=l,(0,(0,e.dispatch)(o.STORE_NAME).updateDatesInPostRelatedItems)())})),[2]}var l,a,s,d,f,b}))}))}function S(t,n){if(t=(0,u.trim)(t),!(0,r.isEmpty)(t)){var i=function(t){if((0,r.isEmpty)(t))return!1;var n=(0,e.select)(c.STORE_NAME).getSocialProfilesByNetwork;if((0,r.isEmpty)(n("twitter")))return!1;for(var i=(0,e.select)(o.STORE_NAME).getReferenceByUrl,l=0,a=t;l<a.length;l++){var s=i(a[l]);if(s&&s.twitter)return s.twitter}return!1}(n);i&&(t="".concat(t," /cc ").concat(i)),t+=" {permalink}";var l=(0,e.select)(o.STORE_NAME).getPost;(0,(0,e.dispatch)(d.STORE_NAME).openNewSocialMessageEditor)({text:t},{context:"post",post:l(),disabledProfileIds:(0,o.getDisabledProfiles)()})}}function P(e){return b(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,s()({path:"/nelio-content/v1/post/".concat(e,"?aws")})];case 1:return[2,t.sent()]}}))}))}function A(t){return b(this,void 0,void 0,(function(){var n,i;return h(this,(function(r){switch(r.label){case 0:return n=(0,e.dispatch)(o.STORE_NAME),i=n.loadPostItems,(0,n.setPost)(t),[4,i()];case 1:return r.sent(),[2]}}))}))}const x=window.wp.plugins,T=window.NelioContent.taskEditor,M=window.wp.components,N=window.wp.editPost,_=window.wp.i18n;var O,R=n(6006),C=n.n(R),I=function(){return l.createElement(l.Fragment,null,l.createElement(N.PluginSidebarMoreMenuItem,{icon:l.createElement(C(),null),target:"nelio-content-default-sidebar"},(0,_._x)("Nelio Content Tools","text","nelio-content")),l.createElement(N.PluginSidebarMoreMenuItem,{icon:l.createElement(M.Dashicon,{icon:"share"}),target:"nelio-content-social-sidebar"},(0,_._x)("Nelio Content Social","text","nelio-content")))},k=null!==(O=null===N.store||void 0===N.store?void 0:N.store.name)&&void 0!==O?O:"core/edit-post",F=function(t){var n=t.isQualityFullyIntegrated,i=(0,e.useDispatch)(k).openGeneralSidebar,r=(0,e.useDispatch)(o.STORE_NAME).togglePanel;return l.createElement(l.Fragment,null,!!n&&l.createElement(N.PluginPostStatusInfo,null,l.createElement(o.QualityAnalysisSummary,{onClick:function(){r("post-quality-analysis",!0),i("nelio-content/nelio-content-default-sidebar")}})),l.createElement(N.PluginPostStatusInfo,null,l.createElement(o.SocialMediaSummary,null)))},B=function(){var e=(0,o.usePanelToggling)("post-quality-analysis"),t=e[0],n=e[1],i=l.createElement(o.QualityAnalysisSummary,{label:(0,_._x)("Quality Analysis","text","nelio-content")});return l.createElement(M.PanelBody,{initialOpen:t,opened:t,onToggle:n,title:i},l.createElement(o.QualityAnalysis,null))},j=function(){return l.createElement(N.PluginPrePublishPanel,null,l.createElement(B,null))};const Q=window.NelioContent.components;var D,L,q=function(){var e=U(),t=(0,o.usePanelToggling)("post-analytics"),n=t[0],i=t[1];return z()&&e?l.createElement(M.PanelBody,{initialOpen:n,opened:n,onToggle:i,title:(0,_._x)("Analytics","text","nelio-content")},l.createElement(Q.PostPageviewsAnalytics,{postId:e}),l.createElement(Q.PostEngagementAnalytics,{postId:e})):null},U=function(){return(0,e.useSelect)((function(e){return e(o.STORE_NAME).getPostId()}))},z=function(){return(0,e.useSelect)((function(e){var t=e(c.STORE_NAME).isAnalyticsEnabled,n=e(o.STORE_NAME).getPost();return t()&&"publish"===(null==n?void 0:n.status)}))},V=function(){var e=(0,o.usePanelToggling)("comments"),t=e[0],n=e[1];return l.createElement(M.PanelBody,{initialOpen:t,opened:t,onToggle:n,title:(0,_._x)("Editorial Comments","text","nelio-content")},l.createElement(o.EditorialComments,null))},G=function(){var e=(0,o.usePanelToggling)("tasks"),t=e[0],n=e[1];return l.createElement(M.PanelBody,{initialOpen:t,opened:t,onToggle:n,title:(0,_._x)("Editorial Tasks","text","nelio-content")},l.createElement(o.EditorialTasks,null))},H=function(e){var t=e.isVisible,n=(0,o.usePanelToggling)("external-featured-image"),i=n[0],r=n[1];return t?l.createElement(M.PanelBody,{initialOpen:i,opened:i,onToggle:r,title:(0,_._x)("External Featured Image","text","nelio-content")},l.createElement(o.ExternalFeaturedImage,null)):null},J=function(e){var t=e.isVisible,n=(0,o.usePanelToggling)("notifications"),i=n[0],r=n[1];return t?l.createElement(M.PanelBody,{initialOpen:i,opened:i,onToggle:r,title:(0,_._x)("Notifications","text","nelio-content")},l.createElement(o.Notifications,null)):null},W=function(){var e=(0,o.usePanelToggling)("references"),t=e[0],n=e[1];return l.createElement(M.PanelBody,{initialOpen:t,opened:t,onToggle:n,title:(0,_._x)("References","text","nelio-content")},l.createElement(o.References,null))},Y=function(){var e=(0,o.usePanelToggling)("social-media"),t=e[0],n=e[1];return l.createElement(M.PanelBody,{initialOpen:t,opened:t,onToggle:n,title:(0,_._x)("Social Media","text","nelio-content")},l.createElement(o.SocialMediaTools,null))},K=function(){var t=(0,e.useSelect)((function(e){return e(c.STORE_NAME).getToday()}));return(0,r.hasSubscriptionPromo)(t)?l.createElement("div",{style:{padding:"1em",display:"flex"}},l.createElement("div",{style:{textAlign:"center",width:"100%"}},l.createElement(Q.SubscribeWithCouponButton,null))):null},X=function(e){var t=e.areNotificationsEnabled,n=e.isExternalFeatImageEnabled;return l.createElement(N.PluginSidebar,{name:"nelio-content-default-sidebar",title:(0,_._x)("Nelio Content Tools","text","nelio-content")},l.createElement(K,null),l.createElement(B,null),l.createElement(q,null),l.createElement(Y,null),l.createElement(J,{isVisible:!!t}),l.createElement(G,null),l.createElement(V,null),l.createElement(W,null),l.createElement(H,{isVisible:!!n}))},Z=function(){return l.createElement(N.PluginSidebar,{name:"nelio-content-social-sidebar",title:(0,_._x)("Nelio Content Social","text","nelio-content"),icon:"share"},l.createElement(o.SocialMediaSidebar,null))},$=function(e){var t=e.areNotificationsEnabled,n=e.isExternalFeatImageEnabled,i=e.isQualityFullyIntegrated;return l.createElement(l.Fragment,null,l.createElement(I,null),l.createElement(F,{isQualityFullyIntegrated:i}),l.createElement(j,null),l.createElement(X,{areNotificationsEnabled:t,isExternalFeatImageEnabled:n}),l.createElement(Z,null),l.createElement(o.ReferenceEditor,null),l.createElement(d.SocialMessageEditor,null),l.createElement(T.TaskEditor,null))},ee=function(){return ee=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)},te=null!==(D=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==D?D:"core/editor",ne=null!==(L=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==L?L:"core/editor";const ie=window.NelioContent.date;var oe,re,le=null!==(oe=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==oe?oe:"core/editor";var ae=null!==(re=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==re?re:"core/editor";const se=window.wp.coreData;var ue,ce,de,fe,ge,ve,me,Ee,pe,ye=null!==(ue=null===se.store||void 0===se.store?void 0:se.store.name)&&void 0!==ue?ue:"core",be=null!==(ce=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==ce?ce:"core/editor",he=null!==(de=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==de?de:"core/editor",we=null!==(fe=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==fe?fe:"core/editor",Se=function(){return Se=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Se.apply(this,arguments)},Pe=null!==(ge=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==ge?ge:"core/editor",Ae=null!==(ve=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==ve?ve:"core/editor",xe=null!==(me=null===se.store||void 0===se.store?void 0:se.store.name)&&void 0!==me?me:"core",Te=null!==(Ee=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==Ee?Ee:"core/editor",Me=function(e){return"number"==typeof e},Ne=function(e){return!!e&&"object"==typeof e&&"id"in e&&"name"in e&&"slug"in e},_e=null!==(pe=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==pe?pe:"core/editor";function Oe(){var t=(0,e.dispatch)(o.STORE_NAME);!function(t){var n,i=t.setPostId,o=(0,e.select)(we),r=o.getEditedPostAttribute,l=o.isEditedPostNew;(0,e.subscribe)((function(){if(!l()){var e=r("id");n!==e&&(n=e,i(e))}}))}(t),function(t){var n,i=t.setStatus,o=(0,e.select)(Ae).getEditedPostAttribute;(0,e.subscribe)((function(){var e=o("status");n!==e&&(n=e,i(e))}))}(t),function(t){var n,i,r=t.setFeaturedImage,l=(0,e.select)(o.STORE_NAME).getExternalFeaturedImageUrl,a=(0,e.select)(be).getEditedPostAttribute,s=(0,e.select)(ye).getMedia;(0,e.subscribe)((function(){var e=l();if(e){if(0===n&&i===e)return;return i=e||!1,void r(n=0,e)}var t=a("featured_media"),o=t?s(t):void 0,u=(null==o?void 0:o.source_url)||!1;n===t&&i===u||(n=t,i=u,r(t,u))}))}(t),function(t){var n,i=t.setTitle,o=(0,e.select)(_e).getEditedPostAttribute,r=(0,u.debounce)(i,500);(0,e.subscribe)((function(){var e=o("title");n!==e&&(n=e,r(e))}))}(t),function(t){var n,i=t.setDate,o=(0,e.select)(le),r=o.isEditedPostDateFloating,l=o.getEditedPostAttribute;(0,e.subscribe)((function(){var e=function(e){if(e){var t=e.substring(0,10),n=e.substring(11,16);return(0,ie.wpifyDateTime)("c",t,n)}}(r()?"":l("date"));n!==e&&(n=e,i(e))}))}(t),function(t){var n,i=t.setContent,o=(0,e.select)(ne).getEditedPostAttribute,r=(0,u.debounce)(i,2500);(0,e.subscribe)((function(){var e=o("content");n!==e&&(n=e,r(e))}))}(t),function(t){var n,i=t.setExcerpt,o=(0,e.select)(ae).getEditedPostAttribute,r=(0,u.debounce)(i,500);(0,e.subscribe)((function(){var e=o("excerpt");n!==e&&(n=e,r(e))}))}(t),function(t){var n,i=t.setPermalink,o=(0,e.select)(he).getPermalink,l=(0,u.debounce)(i,500);(0,e.subscribe)((function(){var e,t=null!==(e=o())&&void 0!==e?e:"";n!==t&&(n=t,(0,r.isUrl)(t)&&l(t))}))}(t),function(t){var n,i,o=t.setAuthor,r=(0,e.select)(te).getEditedPostAttribute,l=(0,e.select)(c.STORE_NAME).getAuthor;(0,e.subscribe)((function(){var e,t=r("author"),a=l(t),s=null!==(e=null==a?void 0:a.name)&&void 0!==e?e:"";n===t&&i===s||(n=t,i=s,o(t,s))}))}(t),function(t){var n=t.setTerms,i=(0,e.select)(o.STORE_NAME).getPostType,r=(0,e.select)(Te).getEditedPostAttribute,l=void 0===r?function(){return[]}:r,a=(0,e.select)(xe),s=a.getTaxonomies,c=a.getEntityRecord,d="";(0,e.subscribe)((0,u.debounce)((function(){var e=(0,u.filter)(s({per_page:-1}),(function(e){var t;return e.visibility.public&&e.types.includes(null!==(t=i())&&void 0!==t?t:"")})).map((function(e){return e.slug})),t=e.map((function(e){var t=function(e){switch(e){case"category":return"categories";case"post_tag":return"tags";default:return e}}(e),n=l(t);return(0,u.castArray)(n).filter(Me).map((function(t){return c("taxonomy",e,t)})).filter(Ne).map((function(e){return{id:e.id,name:e.name,slug:e.slug}}))})),o=JSON.stringify(t);o!==d&&(d=o,e.forEach((function(e,i){var o=t[i];o&&n(e,o)})))}),500))}(t),function(t){var n=t.setPost,i=(0,e.select)(o.STORE_NAME).getPost,r=(0,e.select)(Pe),l=r.isSavingPost,a=r.isAutosavingPost,s=r.isPreviewingPost,u=l(),c=a(),d=s();(0,e.subscribe)((function(){var e=l(),t=a(),o=s(),r=u&&!e&&!c||c&&d&&!o;if(u=e,c=t,d=o,r){var f=i();P(f.id).then((function(e){n(Se(Se({},f),{customFields:e.customFields,customPlaceholders:e.customPlaceholders}))}))}}))}(t)}const Re=window.wp.blockEditor,Ce=window.wp.richText;var Ie="nelio-content/highlight";function ke(e){return!(0,r.isEmpty)(Fe(e))}function Fe(e){var t,n=(0,u.trim)(e.text.substring(null!==(t=e.start)&&void 0!==t?t:0,e.end));return(0,u.capitalize)(n[0])+n.substring(1)}function Be(e){var t,n,i=(0,u.find)(e,{type:"core/link"});return null!==(n=null===(t=null==i?void 0:i.attributes)||void 0===t?void 0:t.url)&&void 0!==n?n:""}var je,Qe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function l(e){try{s(i.next(e))}catch(e){r(e)}}function a(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}s((i=i.apply(e,t||[])).next())}))},De=function(e,t){var n,i,o,r,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(l=0)),l;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,i=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Le=null!==(je=null===t.store||void 0===t.store?void 0:t.store.name)&&void 0!==je?je:"core/editor";function qe(t){return Qe(this,void 0,void 0,(function(){return De(this,(function(n){switch(n.label){case 0:return a=function(t){var n=(0,(0,e.select)(Le).getEditedPostAttribute)("nelio_content");n&&((0,r.isEquivalent)(t,n)||(0,(0,e.select)(Le).getCurrentPost)().id&&(0,(0,e.dispatch)(Le).editPost)({nelio_content:t},{undoIgnore:!0}))},s={},o.store.subscribe((function(){var t=(0,e.select)(o.STORE_NAME),n=t.getPost,i=t.getSuggestedReferences,r=t.getExternalFeaturedImageUrl,l=t.getExternalFeaturedImageAlt,c=t.getAutomationSources,d=t.getAutoShareEndMode,f=t.isAutoShareEnabled,g=n(),v=(0,o.processHtml)(g.content).highlights,m={isAutoShareEnabled:f(),autoShareEndMode:d(),followers:g.followers,suggestedReferences:i(),efiUrl:r()||"",efiAlt:l(),automationSources:c(),highlights:v};(0,u.isEqual)(m,s)||a(m),s=m})),[4,w(t)];case 1:return n.sent(),i={areNotificationsEnabled:t.settings.dynamicSections.notifications,isExternalFeatImageEnabled:t.settings.dynamicSections.externalFeatImage,isQualityFullyIntegrated:t.settings.qualityAnalysis.isFullyIntegrated},(0,x.registerPlugin)("nelio-content",{icon:l.createElement(C(),null),render:function(){return l.createElement($,ee({},i))}}),function(e,t){var n=document.getElementById("nelio-content-social-media");if(n){var i=n.querySelector(".inside");i&&(0,l.render)(l.createElement(t,null),i)}}(0,o.SocialMediaMetabox),Oe(),[2]}var i,a,s}))}))}(0,Ce.registerFormatType)(Ie,{title:(0,_._x)("Social Media Highlight","text","nelio-content"),tagName:"ncshare",className:null,edit:function(e){var t=e.isActive,n=e.value,i=e.onChange;return l.createElement(Re.RichTextToolbarButton,{icon:l.createElement(C(),null),title:(0,_._x)("Social Media Highlight","text","nelio-content"),onClick:function(){return i((0,Ce.toggleFormat)(n,{type:Ie}))},isActive:t})}}),(0,Ce.registerFormatType)("nelio-content/share",{title:(0,_._x)("Share","command","nelio-content"),tagName:"span",className:"nc-share",edit:function(t){var n=t.value,i=(0,e.useSelect)((function(e){return e(c.STORE_NAME).getSocialProfileIds()})),a=(0,o.useDisabledProfiles)().length<i.length;return l.createElement(Re.RichTextToolbarButton,{icon:"share",title:(0,_._x)("Share","command","nelio-content"),isDisabled:!ke(n)||!a,onClick:function(){return S(Fe(n),function(e){var t,n=null!==(t=(0,u.slice)(e.formats,e.start,e.end))&&void 0!==t?t:[];return(0,u.uniq)((0,u.filter)((0,u.map)(n,Be))).filter(r.isUrl)}(n))}})}})})();var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var r in i)o[r]=i[r];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();