var webshipper={wp_url:webshipper_ajax_object.ajax_url,drop_points:[],address:{},drop_point:{},translate:function(e){return window.webshipper_lang[e]},select_drop_point:function(e){var p=webshipper.drop_points.find(function(p){return!!p.drop_point_id&&p.drop_point_id.toString()===e});if(webshipper.drop_point=p,webshipper.modal){webshipper.modal.close();var o=document.getElementsByClassName("webshipper-selected-drop-point");Array.prototype.forEach.call(o,function(e){e.classList.remove("webshipper-hidden")});var r=[{key:"webshipper-selected-name",value:webshipper.drop_point.name},{key:"webshipper-selected-address",value:webshipper.drop_point.address_1},{key:"webshipper-selected-zip",value:webshipper.drop_point.zip+" "+webshipper.drop_point.city}];r.forEach(function(e){elements=document.getElementsByClassName(e.key),Array.prototype.forEach.call(elements,function(p){p.innerHTML=e.value})})}var i=window.webshipper.drop_point,t=encodeURIComponent(JSON.stringify({drop_point_id:i.drop_point_id,address_1:i.address_1,zip:i.zip,city:i.city,country_code:i.country_code,name:i.name,routing_code:i.routing_code}));ws_drop_point_blobs=document.getElementsByName("ws_drop_point_blob"),Array.prototype.forEach.call(ws_drop_point_blobs,function(e){e.value=t})},search:function(e,p,o){jQuery.post(webshipper.wp_url,{action:"get_shops",address:p,zip:e},function(e){e.data&&e.data.drop_points?webshipper.drop_points=e.data.drop_points:window.webshipper.drop_points=[],void 0!==o&&o()},"json").fail(function(){webshipper.drop_points=[]})}};