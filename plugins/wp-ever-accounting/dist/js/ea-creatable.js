jQuery((function(t){t.fn.eaccounting_creatable=function(n){return this.each((function(){new t.eaccounting_creatable(this,n)}))};const n={option:t=>({id:t.id,text:t.name}),template:void 0,onReady:void 0,onSubmit:void 0};t.eaccounting_creatable=function(e,o){this.el=e,this.$el=t(e),this.options=t.extend({},n,o);const i=this;return this.handleSubmit=function(n){const e=eaccounting.get_values(t("form",n.$modal));if("function"==typeof i.options.onSubmit)return i.options.onSubmit(i.$el,e,n);t.post(ajaxurl,e).always((function(t){if(n.unblock(),t.success){const e=i.options.option(t.data.item);i.$el.eaccounting_select2({data:[e]}),i.$el.val(e.id).trigger("change"),n.close()}eaccounting.notice(t)}))},this.handleModal=function(n,e,o){n.preventDefault(),e.is(i.$el)&&t(o).ea_modal({onSubmit:i.handleSubmit,onReady(t){"function"==typeof i.options.onReady&&i.options.onReady(i.$el,t,i)}})},this.init=function(){t(document).on("ea_trigger_creatable",i.handleModal)},this.init(),this},t("#account_id,#customer_id,#vendor_id").eaccounting_creatable()}));