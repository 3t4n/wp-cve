function eaccounting_tooltips(t){jQuery(t).tooltip({tooltipClass:"ea-ui-tooltip",position:{my:"center top",at:"center bottom+10",collision:"flipfit"},hide:{duration:200},show:{duration:200}})}function eaccounting_get_currency(t){return!!eaccountingi10n.hasOwnProperty("currencies")&&eaccountingi10n.currencies.find((function(e){return e.code===t}))}function eaccounting_mask_amount(t,e){if("object"!=typeof e){if(!eaccountingi10n.hasOwnProperty("currencies"))return!1;if(!(e=eaccountingi10n.currencies.find((function(t){return t.code===t}))))return!1}jQuery(t).inputmask("decimal",{alias:"numeric",groupSeparator:e.thousand_separator,autoGroup:!0,digits:e.precision,radixPoint:e.decimal_separator,digitsOptional:!1,allowMinus:!1,prefix:e.symbol,placeholder:"0.000",rightAlign:0,autoUnmask:!0})}function eaccounting_block(t){jQuery(t).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function eaccounting_unblock(t){jQuery(t).unblock()}jQuery((function(t){eaccounting_tooltips(".ea-help-tip"),t(".ea-input-date").datepicker({dateFormat:"yy-mm-dd"}),eaccounting.mask_amount(".ea-input-price"),eaccounting.mask_amount("#opening_balance"),t(document.body).trigger("ea_select2_init"),t("#quantity").on("change keyup",(function(t){t.target.value=t.target.value.replace(/[^0-9.]/g,"")})),t(document.body).on("ea_modal_loaded",(function(){t(document.body).trigger("ea_select2_init")})),t(".ea-financial-start input").datepicker({dateFormat:"dd-mm"}),t("#eaccounting_settings[financial_year_start]").datepicker({dateFormat:"yy-mm-dd"}),t(document).on("click",(function(){t(".ea-dropdown").removeClass("open")})).on("click",".ea-dropdown-trigger",(function(e){e.preventDefault(),e.stopPropagation(),t(".ea-dropdown").removeClass("open"),t(this).closest(".ea-dropdown").toggleClass("open")}));let e=!1;t(".ea-attachment").on("click",".ea-attachment__upload",(function(n){n.preventDefault();const a=t(this),o=t(this).data("allowed-types").split(",");if(e)return e.open(),!1;e=wp.media({title:"Select or upload attchment",button:{text:"Select"},library:{type:"image"},multiple:!1,custom:"custom"}),e.on("select",(function(){const t=e.state().get("selection").first().toJSON(),n=t.subtype;if(!o.includes(n))return alert("Unsupported Media"),!1;a.closest(".ea-attachment").find(".ea-attachment__input").val(t.id).end().find(".ea-attachment__link").attr("href",t.url).end().find(".ea-attachment__image").attr("src",["jpeg","png","jpg"].includes(n)?t.url:t.icon).end().addClass("has--image")})),e.on("ready",(function(){e.uploader.options.uploader.params={type:"eaccounting_file"}})),e.open()})).on("click",".ea-attachment__remove",(function(e){e.preventDefault(),t(this).closest(".ea-attachment").find(".ea-attachment__input").val(0).end().find(".ea-attachment__link").attr("href","").end().find(".ea-attachment__image").attr("src","").end().removeClass("has--image")}))}));