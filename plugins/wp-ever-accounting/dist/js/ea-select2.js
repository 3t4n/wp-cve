jQuery((function(t){t.fn.eaccounting_select2=function(e){return this.each((function(){new t.eaccounting_select2(this,t.extend({},t(this).data(),e))}))},t.eaccounting_select2=function(e,n){this.el=e,this.$el=t(e),this.options=n,this.id=this.$el.attr("id");const s=this;return n.ajax_action&&(n.ajax={cache:!0,delay:500,url:n.url,method:"POST",dataType:"json",data:t=>({action:s.options.ajax_action,_wpnonce:s.options.nonce,search:t.term,page:t.page}),processResults(t){const e=s.options.map||"return {text: option.name, id:option.id}",n=new Function("option",e);return{results:t.data.results.map((function(t){return n(t)})),pagination:t.data.pagination}}}),this.$el.select2(n),this.options.modal_id&&this.$el.on("select2:open",(function(){const e=t(this).data("select2").$results;if(!e.siblings(".ea-select2-footer").length){const n=t('<a href="#" class="ea-select2-footer"><span class="dashicons dashicons-plus">&nbsp;</span>'+s.options.add_text+"</a>").on("click",(function(e){e.preventDefault(),s.$el.select2("close"),t(s.options.modal_id).ea_modal()}));e.closest(".select2-results").append(n)}})),this.$el},t(document.body).on("ea_select2_init",(function(){t(".ea-select2").filter(":not(.select2-hidden-accessible)").each((function(){t(this).eaccounting_select2()}))})),t(".ea-select2").eaccounting_select2()}));