!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,a){if(t){if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){function a(e,a){var n=a[e].availableDays;if(!(n.length<1)){var r=Object.keys(n),o=a[e].maxedDates,c=a[e].offDays;return[function(e){return!r.includes(e.getDay().toString())}].concat(t(o),t(c))}}function n(t){var n=JSON.parse(lpacDPSCalendarConfig),r={altInput:!0,altFormat:n.dateFormat,dateFormat:"Y-m-d",disable:a(t,n),locale:{firstDayOfWeek:n.firstDayOfWeek,weekdays:{shorthand:n.locale.weekdaysShorthand,longhand:n.locale.weekdaysLonghand},months:{shorthand:n.locale.monthsShorthand,longhand:n.locale.monthsLonghand}},onChange:function(a,n,r){var o=document.querySelector("#lpac_dps_".concat(t,"_time"));null!==o&&(o.length<1||function(t,a){n=".dps-time-field",e(n).addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),wp.ajax.post("lpac_dps_get_times",{selectedDate:t}).done((function(t){!function(t,a){"set_manually"===t?function(t){var a=document.querySelector("#lpac_dps_".concat(t,"_time")),n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("class","input-text form-control input"),n.setAttribute("name","lpac_dps_".concat(t,"_time")),n.setAttribute("id","lpac_dps_".concat(t,"_time")),a.replaceWith(n);var r=document.querySelector("#lpac_dps_".concat(t,"_time_field .woocommerce-input-wrapper"));r&&r.lastChild.classList.contains("flatpickr-mobile")&&r.removeChild(r.lastChild);var o=JSON.parse(lpacDPSGeneralConfig).time.timeFormat;e("#lpac_dps_".concat(t,"_time")).flatpickr({noCalendar:!0,enableTime:!0,dateFormat:"12hr"===o?"h:i K":"H:i",time_24hr:"24hr"===o}),document.querySelector("#lpac_dps_".concat(t,"_time")).addEventListener("change",(function(){jQuery(document.body).trigger("update_checkout")}))}(a):function(e,t){var a=document.querySelector("#lpac_dps_".concat(t,"_time"));if("SELECT"===a.tagName)a.innerHTML=e;else{var n=document.createElement("select");n.setAttribute("class","input-text form-control input"),n.setAttribute("name","lpac_dps_".concat(t,"_time")),n.setAttribute("id","lpac_dps_".concat(t,"_time")),n.innerHTML=e,a.replaceWith(n)}var r=document.querySelector("#lpac_dps_".concat(t,"_time_field  .woocommerce-input-wrapper"));r&&r.lastChild.classList.contains("flatpickr-mobile")&&r.removeChild(r.lastChild);document.querySelector("#lpac_dps_".concat(t,"_time")).addEventListener("change",(function(){jQuery(document.body).trigger("update_checkout")}))}(t,a)}(t,a),function(t){e(t).removeClass("processing").unblock({message:null,overlayCSS:{background:"#fff",opacity:.6}})}(".dps-time-field"),jQuery(document.body).trigger("update_checkout")})).fail((function(e){console.error(e),console.error(e.responseJSON)}));var n}({date:n,dayIndex:a[0].getDay(),orderType:t},t))}};return n[t].minDaysInFuture?r.minDate=(new Date).fp_incr(n[t].minDaysInFuture+1):r.minDate="today",n[t].maxDaysInFuture&&(r.maxDate=(new Date).fp_incr(n[t].maxDaysInFuture)),r}e(document).ready((function(){var t;e("#lpac_dps_delivery_date").flatpickr(n("delivery")),e("#lpac_dps_pickup_date").flatpickr(n("pickup")),t=JSON.parse(lpacDPSGeneralConfig).time.timeFormat,e("#lpac_dps_delivery_time").flatpickr({noCalendar:!0,enableTime:!0,dateFormat:"12hr"===t?"h:i K":"H:i",time_24hr:"24hr"===t}),e("#lpac_dps_pickup_time").flatpickr({noCalendar:!0,enableTime:!0,dateFormat:"12hr"===t?"h:i K":"H:i",time_24hr:"24hr"===t})}))}(jQuery)}();