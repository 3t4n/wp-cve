/* 
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.15
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 *
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){if("function"==typeof define&&define.amd&&define.amd.jQuery)define(["jquery"],e);else if("undefined"!=typeof module&&module.exports)e(require("jquery"));else e(window.apeQuer||window.jQuery)}(function(e){"use strict";function n(n){if(n&&void 0===n.allowPageScroll&&(void 0!==n.swipe||void 0!==n.swipeStatus))n.allowPageScroll=f;if(void 0!==n.click&&void 0===n.tap)n.tap=n.click;if(!n)n={};n=e.extend({},e.fn.swipe.defaults,n);return this.each(function(){var i=e(this),r=i.data(D);if(!r){r=new t(this,n);i.data(D,r)}})}function t(n,t){function P(n){if(!fe())if(!(e(n.target).closest(t.excludedElements,Ye).length>0)){var i,r=n.originalEvent?n.originalEvent:n,l=r.touches,u=l?l[0]:r;Ve=E;if(l)We=l.length;else if(!1!==t.preventDefaultEvents)n.preventDefault();Ue=0;je=null;Ne=null;Fe=null;He=0;Qe=0;_e=0;qe=1;Ce=0;Xe=we();oe();ce(0,u);if(!l||We===t.fingers||t.fingers===T||X()){Ge=Oe();if(2==We){ce(1,l[1]);Qe=_e=be(ze[0].start,ze[1].start)}if(t.swipeStatus||t.pinchStatus)i=j(r,Ve)}else i=!1;if(!1===i){j(r,Ve=x);return i}else{if(t.hold)en=setTimeout(e.proxy(function(){Ye.trigger("hold",[r.target]);if(t.hold)i=t.hold.call(Ye,r,r.target)},this),t.longTapThreshold);se(!0)}return null}}function L(e){var n=e.originalEvent?e.originalEvent:e;if(Ve!==m&&Ve!==x&&!ae()){var i,r=n.touches,l=pe(r?r[0]:n);Ze=Oe();if(r)We=r.length;if(t.hold)clearTimeout(en);Ve=y;if(2==We){if(0==Qe){ce(1,r[1]);Qe=_e=be(ze[0].start,ze[1].start)}else{pe(r[1]);_e=be(ze[0].end,ze[1].end);Fe=ye(ze[0].end,ze[1].end)}qe=Ee(Qe,_e);Ce=Math.abs(Qe-_e)}if(We===t.fingers||t.fingers===T||!r||X()){je=Se(l.start,l.end);C(e,Ne=Se(l.last,l.end));Ue=me(l.start,l.end);He=Te();de(je,Ue);i=j(n,Ve);if(!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var u=!0;if(t.triggerOnTouchLeave){var o=Me(this);u=De(l.end,o)}if(!t.triggerOnTouchEnd&&u)Ve=U(y);else if(t.triggerOnTouchLeave&&!u)Ve=U(m);if(Ve==x||Ve==m)j(n,Ve)}}else j(n,Ve=x);if(!1===i)j(n,Ve=x)}}function R(e){var n=e.originalEvent?e.originalEvent:e,i=n.touches;if(i)if(i.length&&!ae()){ue(n);return!0}else if(i.length&&ae())return!0;if(ae())We=Je;Ze=Oe();He=Te();if(Q()||!H())j(n,Ve=x);else if(t.triggerOnTouchEnd||0==t.triggerOnTouchEnd&&Ve===y){if(!1!==t.preventDefaultEvents)e.preventDefault();j(n,Ve=m)}else if(!t.triggerOnTouchEnd&&B())N(n,Ve=m,h);else if(Ve===y)j(n,Ve=x);se(!1);return null}function k(){We=0;Ze=0;Ge=0;Qe=0;_e=0;qe=1;oe();se(!1)}function A(e){var n=e.originalEvent?e.originalEvent:e;if(t.triggerOnTouchLeave)j(n,Ve=U(m))}function I(){Ye.unbind(Le,P);Ye.unbind(Ie,k);Ye.unbind(Re,L);Ye.unbind(ke,R);if(Ae)Ye.unbind(Ae,A);se(!1)}function U(e){var n=e,i=q(),r=H(),l=Q();if(!i||l)n=x;else if(r&&e==y&&(!t.triggerOnTouchEnd||t.triggerOnTouchLeave))n=m;else if(!r&&e==m&&t.triggerOnTouchLeave)n=x;return n}function j(e,n){var t,i=e.touches;if(z()||W())t=N(e,n,c);if((Y()||X())&&!1!==t)t=N(e,n,p);if(re()&&!1!==t)t=N(e,n,d);else if(le()&&!1!==t)t=N(e,n,g);else if(ie()&&!1!==t)t=N(e,n,h);if(n===x){if(W())t=N(e,n,c);if(X())t=N(e,n,p);k(e)}if(n===m)if(i){if(!i.length)k(e)}else k(e);return t}function N(n,f,s){var w;if(s==c){Ye.trigger("swipeStatus",[f,je||null,Ue||0,He||0,We,ze,Ne]);if(t.swipeStatus)if(!1===(w=t.swipeStatus.call(Ye,n,f,je||null,Ue||0,He||0,We,ze,Ne)))return!1;if(f==m&&V()){clearTimeout($e);clearTimeout(en);Ye.trigger("swipe",[je,Ue,He,We,ze,Ne]);if(t.swipe)if(!1===(w=t.swipe.call(Ye,n,je,Ue,He,We,ze,Ne)))return!1;switch(je){case i:Ye.trigger("swipeLeft",[je,Ue,He,We,ze,Ne]);if(t.swipeLeft)w=t.swipeLeft.call(Ye,n,je,Ue,He,We,ze,Ne);break;case r:Ye.trigger("swipeRight",[je,Ue,He,We,ze,Ne]);if(t.swipeRight)w=t.swipeRight.call(Ye,n,je,Ue,He,We,ze,Ne);break;case l:Ye.trigger("swipeUp",[je,Ue,He,We,ze,Ne]);if(t.swipeUp)w=t.swipeUp.call(Ye,n,je,Ue,He,We,ze,Ne);break;case u:Ye.trigger("swipeDown",[je,Ue,He,We,ze,Ne]);if(t.swipeDown)w=t.swipeDown.call(Ye,n,je,Ue,He,We,ze,Ne)}}}if(s==p){Ye.trigger("pinchStatus",[f,Fe||null,Ce||0,He||0,We,qe,ze]);if(t.pinchStatus)if(!1===(w=t.pinchStatus.call(Ye,n,f,Fe||null,Ce||0,He||0,We,qe,ze)))return!1;if(f==m&&F())switch(Fe){case o:Ye.trigger("pinchIn",[Fe||null,Ce||0,He||0,We,qe,ze]);if(t.pinchIn)w=t.pinchIn.call(Ye,n,Fe||null,Ce||0,He||0,We,qe,ze);break;case a:Ye.trigger("pinchOut",[Fe||null,Ce||0,He||0,We,qe,ze]);if(t.pinchOut)w=t.pinchOut.call(Ye,n,Fe||null,Ce||0,He||0,We,qe,ze)}}if(s==h){if(f===x||f===m){clearTimeout($e);clearTimeout(en);if(J()&&!ee()){Ke=Oe();$e=setTimeout(e.proxy(function(){Ke=null;Ye.trigger("tap",[n.target]);if(t.tap)w=t.tap.call(Ye,n,n.target)},this),t.doubleTapThreshold)}else{Ke=null;Ye.trigger("tap",[n.target]);if(t.tap)w=t.tap.call(Ye,n,n.target)}}}else if(s==d){if(f===x||f===m){clearTimeout($e);clearTimeout(en);Ke=null;Ye.trigger("doubletap",[n.target]);if(t.doubleTap)w=t.doubleTap.call(Ye,n,n.target)}}else if(s==g)if(f===x||f===m){clearTimeout($e);Ke=null;Ye.trigger("longtap",[n.target]);if(t.longTap)w=t.longTap.call(Ye,n,n.target)}return w}function H(){var e=!0;if(null!==t.threshold)e=Ue>=t.threshold;return e}function Q(){var e=!1;if(null!==t.cancelThreshold&&null!==je)e=ge(je)-Ue>=t.cancelThreshold;return e}function _(){if(null!==t.pinchThreshold)return Ce>=t.pinchThreshold;else return!0}function q(){var e;if(t.maxTimeThreshold)if(He>=t.maxTimeThreshold)e=!1;else e=!0;else e=!0;return e}function C(e,n){if(!1!==t.preventDefaultEvents)if(t.allowPageScroll===f)e.preventDefault();else{var o=t.allowPageScroll===s;switch(n){case i:if(t.swipeLeft&&o||!o&&t.allowPageScroll!=w)e.preventDefault();break;case r:if(t.swipeRight&&o||!o&&t.allowPageScroll!=w)e.preventDefault();break;case l:if(t.swipeUp&&o||!o&&t.allowPageScroll!=v)e.preventDefault();break;case u:if(t.swipeDown&&o||!o&&t.allowPageScroll!=v)e.preventDefault()}}}function F(){var e=G(),n=Z(),t=_();return e&&n&&t}function X(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function Y(){return!(!F()||!X())}function V(){var e=q(),n=H(),t=G(),i=Z();return!Q()&&i&&t&&n&&e}function W(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function z(){return!(!V()||!W())}function G(){return We===t.fingers||t.fingers===T||!S}function Z(){return 0!==ze[0].end.x}function B(){return!!t.tap}function J(){return!!t.doubleTap}function K(){return!!t.longTap}function $(){if(null==Ke)return!1;var e=Oe();return J()&&e-Ke<=t.doubleTapThreshold}function ee(){return $()}function ne(){return(1===We||!S)&&(isNaN(Ue)||Ue<t.threshold)}function te(){return He>t.longTapThreshold&&Ue<b}function ie(){return!(!ne()||!B())}function re(){return!(!$()||!J())}function le(){return!(!te()||!K())}function ue(e){Be=Oe();Je=e.touches.length+1}function oe(){Be=0;Je=0}function ae(){var e=!1;if(Be)if(Oe()-Be<=t.fingerReleaseThreshold)e=!0;return e}function fe(){return!(!0!==Ye.data(D+"_intouch"))}function se(e){if(Ye){if(!0===e){Ye.bind(Re,L);Ye.bind(ke,R);if(Ae)Ye.bind(Ae,A)}else{Ye.unbind(Re,L,!1);Ye.unbind(ke,R,!1);if(Ae)Ye.unbind(Ae,A,!1)}Ye.data(D+"_intouch",!0===e)}}function ce(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};t.start.x=t.last.x=t.end.x=n.pageX||n.clientX;t.start.y=t.last.y=t.end.y=n.pageY||n.clientY;ze[e]=t;return t}function pe(e){var n=void 0!==e.identifier?e.identifier:0,t=he(n);if(null===t)t=ce(n,e);t.last.x=t.end.x;t.last.y=t.end.y;t.end.x=e.pageX||e.clientX;t.end.y=e.pageY||e.clientY;return t}function he(e){return ze[e]||null}function de(e,n){n=Math.max(n,ge(e));Xe[e].distance=n}function ge(e){if(Xe[e])return Xe[e].distance}function we(){var e={};e[i]=ve(i);e[r]=ve(r);e[l]=ve(l);e[u]=ve(u);return e}function ve(e){return{direction:e,distance:0}}function Te(){return Ze-Ge}function be(e,n){var t=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+i*i))}function Ee(e,n){return(n/e*1).toFixed(2)}function ye(){if(qe<1)return a;else return o}function me(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}function xe(e,n){var t=e.x-n.x,i=n.y-e.y,r=Math.atan2(i,t),l=Math.round(180*r/Math.PI);if(l<0)l=360-Math.abs(l);return l}function Se(e,n){var t=xe(e,n);if(t<=45&&t>=0)return i;else if(t<=360&&t>=315)return i;else if(t>=135&&t<=225)return r;else if(t>45&&t<135)return u;else return l}function Oe(){return(new Date).getTime()}function Me(n){var t=(n=e(n)).offset();return{left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()}}function De(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}var t=e.extend({},t),Pe=S||M||!t.fallbackToMouseEvents,Le=Pe?M?O?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Re=Pe?M?O?"MSPointerMove":"pointermove":"touchmove":"mousemove",ke=Pe?M?O?"MSPointerUp":"pointerup":"touchend":"mouseup",Ae=Pe?M?"mouseleave":null:"mouseleave",Ie=M?O?"MSPointerCancel":"pointercancel":"touchcancel",Ue=0,je=null,Ne=null,He=0,Qe=0,_e=0,qe=1,Ce=0,Fe=0,Xe=null,Ye=e(n),Ve="start",We=0,ze={},Ge=0,Ze=0,Be=0,Je=0,Ke=0,$e=null,en=null;try{Ye.bind(Le,P);Ye.bind(Ie,k)}catch(n){e.error("events not supported "+Le+","+Ie+" on jQuery.swipe")}this.enable=function(){Ye.bind(Le,P);Ye.bind(Ie,k);return Ye};this.disable=function(){I();return Ye};this.destroy=function(){I();Ye.data(D,null);Ye=null};this.option=function(n,i){if("object"==typeof n)t=e.extend(t,n);else if(void 0!==t[n])if(void 0===i)return t[n];else t[n]=i;else if(!n)return t;else e.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}var i="left",r="right",l="up",u="down",o="in",a="out",f="none",s="auto",c="swipe",p="pinch",h="tap",d="doubletap",g="longtap",w="horizontal",v="vertical",T="all",b=10,E="start",y="move",m="end",x="cancel",S="ontouchstart"in window,O=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!S,M=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!S,D="TouchSwipe",P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(t){var i=e(this),r=i.data(D);if(r&&"string"==typeof t)if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));else e.error("Method "+t+" does not exist on jQuery.swipe");else if(r&&"object"==typeof t)r.option.apply(this,arguments);else if(!(r||"object"!=typeof t&&t))return n.apply(this,arguments);return i};e.fn.swipe.version="1.6.15";e.fn.swipe.defaults=P;e.fn.swipe.phases={PHASE_START:E,PHASE_MOVE:y,PHASE_END:m,PHASE_CANCEL:x};e.fn.swipe.directions={LEFT:i,RIGHT:r,UP:l,DOWN:u,IN:o,OUT:a};e.fn.swipe.pageScroll={NONE:f,HORIZONTAL:w,VERTICAL:v,AUTO:s};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:T}});