/*
 	stackgrid.adem.js - adwm.co    
	Licensed under the MIT license - http://opensource.org/licenses/MIT
	Copyright (C) 2015 Andrew Prasetya
*/
!function(e,t,a){var i=function(i,o){function n(e){e.find(F+", ."+D).find(R+":not([data-popupTrigger])").each(function(){var e=t(this),i=e.find("div[data-popup]").eq(0);e.attr("data-popupTrigger","yes");var o="mfp-image";if("iframe"==i.data("type"))o="mfp-iframe";else if("inline"==i.data("type"))o="mfp-inline";else if("ajax"==i.data("type"))o="mfp-ajax";else if("link"==i.data("type"))o="mfp-link";else if("blanklink"==i.data("type"))o="mfp-blanklink";var n=e.find(".wpape-lightbox").addBack(".wpape-lightbox");n.attr("data-mfp-src",i.data("popup")).addClass(o);if(i.attr("title")!=a)n.attr("mfp-title",i.attr("title"))})}function s(e,i){function o(e){var i=t(e.img),o=i.parents(".image-with-dimensions");if(o[0]!=a)if(e.isLoaded)i.fadeIn(400,function(){o.removeClass("image-with-dimensions")});else{o.removeClass("image-with-dimensions");i.hide();o.addClass("broken-image-here")}}e.find(F).find(R+":not([data-imageconverted])").each(function(){var o=t(this),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0),r=n.data("thumbnail");if(n[0]==a){n=s;r=s.data("popup")}if(0==i&&0==e.data("settings").waitForAllThumbsNoMatterWhat)if(n.data("width")==a&&n.data("height")==a);else return;o.attr("data-imageconverted","yes");var l=n.attr("title");if(l==a)l=r;var d=t('<img style="margin:auto;" alt="'+l+'" title="'+l+'" src="'+r+'" />');if(1==i){d.attr("data-dont-wait-for-me","yes");n.addClass("image-with-dimensions");if(e.data("settings").waitUntilThumbLoads)d.hide()}n.addClass("wpape-img-thumbnail-container").prepend(d)});if(1==i)e.find(".image-with-dimensions").imagesLoadedMB().always(function(e){for(index in e.images)o(e.images[index])}).progress(function(e,t){o(t)})}function r(e){e.find(F).each(function(){var i=t(this),o=i.find(R),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0);if(n[0]==a)n=s;var r=i.css("display");if("none"==r)i.css("margin-top",99999999999999).show();var l=2*e.data("settings").borderSize;o.width(n.width()-l);o.height(n.height()-l);if("none"==r)i.css("margin-top",0).hide()})}function l(e){e.find(F).find(R).each(function(){var i=t(this),o=i.find("div[data-thumbnail]").eq(0),n=i.find("div[data-popup]").eq(0);if(o[0]==a)o=n;var s=parseFloat(o.data("width")),r=parseFloat(o.data("height")),l=i.parents(F).width()-e.data("settings").horizontalSpaceBetweenBoxes,d=r*l/s;o.css("width",l);if(o.data("width")!=a||o.data("height")!=a)o.css("height",Math.floor(d))})}function d(e,i,o){var n,s=e.find(F);if("auto"==i)if(!1)n=100/o+"%";else n=Math.floor((e.width()-1)/o);else n=i;e.find(".wpape-imges-grid-sizer").css("width",n);s.each(function(e){var i=t(this),s=i.data("columns");if(s!=a&&parseInt(o)>=parseInt(s))if(!1)i.css("width",parseFloat(100/o)*s+"%");else i.css("width",n*parseInt(s));else if(!1)i.css("width",100/o+"%");else i.css("width",n)})}function f(){var t=e,a="inner";if(!("innerWidth"in e)){a="client";t=document.documentElement||document.body}return{width:t[a+"Width"],height:t[a+"Height"]}}function p(e){var t=!1;for(var a in e.data("settings").resolutions){var i=e.data("settings").resolutions[a];if(i.maxWidth>=f().width){d(e,i.columnWidth,i.columns);t=!0;break}}if(0==t)d(e,e.data("settings").columnWidth,e.data("settings").columns)}function c(e){var a=t('<div class="wpape-img-container"></div').css({"margin-left":e.data("settings").horizontalSpaceBetweenBoxes,"margin-bottom":e.data("settings").verticalSpaceBetweenBoxes});e.find(F+":not([data-wrapper-added])").attr("data-wrapper-added","yes").wrapInner(a)}function h(e){if(0!=e.data("settings").thumbnailOverlay){var i=e.find(F+":not([data-set-overlay-for-hover-effect])").attr("data-set-overlay-for-hover-effect","yes");i.find(".thumbnail-overlay").wrapInner("<div class='aligment'><div class='aligment'></div></div>");i.each(function(){var i=t(this),o=i.find(R),n=e.data("settings").overlayEffect;if(o.data("overlay-effect")!=a)n=o.data("overlay-effect");if("push-up"==n||"push-down"==n||"push-up-100%"==n||"push-down-100%"==n){var s=o.find(".wpape-img-thumbnail-container"),r=o.find(".thumbnail-overlay").css("position","relative");if("push-up-100%"==n||"push-down-100%"==n)r.outerHeight(s.outerHeight(!1));var l=r.outerHeight(!1),d=t('<div class="wrapper-for-some-effects"></div');if("push-up"==n||"push-up-100%"==n)r.appendTo(o);else if("push-down"==n||"push-down-100%"==n){r.prependTo(o);d.css("margin-top",-l)}o.wrapInner(d)}else if("reveal-top"==n||"reveal-top-100%"==n){i.addClass("position-reveal-effect");f=i.find(".thumbnail-overlay").css("top",0);if("reveal-top-100%"==n)f.css("height","100%")}else if("reveal-bottom"==n||"reveal-bottom-100%"==n){i.addClass("position-reveal-effect").addClass("position-bottom-reveal-effect");var f=i.find(".thumbnail-overlay").css("bottom",0);if("reveal-bottom-100%"==n)f.css("height","100%")}else if("direction"==n.substr(0,9))i.find(".thumbnail-overlay").css("height","100%");else if("fade"==n){var p=i.find(".thumbnail-overlay").hide();p.css({height:"100%",top:"0",left:"0"});p.find(".fa").css({scale:1.4})}})}}function m(e){e.find(F).each(function(){var i=t(this).find(R),o=e.data("settings").overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");if("direction"==o.substr(0,9))i.find(".thumbnail-overlay").hide()});e.eveMB("layout")}function u(){var e=_.find(F+", ."+D),t=k();e.filter(t).removeClass("hidden-wpape-imges-by-filter").addClass("visible-wpape-imges-by-filter");e.not(t).addClass("hidden-wpape-imges-by-filter").removeClass("visible-wpape-imges-by-filter")}function v(e,t){_.addClass("filtering-isotope");w(e,t);u();g()}function g(){if(x().length>0)T();else M();if(b());}function w(e,t){A[t]=e;_.eveMB({filter:y(A)})}function y(e){for(var t in e)if((o=e[t])==a)e[t]="*";var i="";for(var t in e){var o=e[t];if(""==i)i=t;else if(i.split(",").length<o.split(",").length)i=t}var n=e[i];for(var t in e)if(t!=i)for(var s=e[t].split(","),r=0;r<s.length;r++){for(var l=n.split(","),d=[],f=0;f<l.length;f++){if("*"==l[f]&&"*"==s[r])s[r]="";else{if("*"==s[r])s[r]="";if("*"==l[f])l[f]=""}d.push(l[f]+s[r])}n=d.join(",")}return n}function b(){var e=C().length;if(e<O.minBoxesPerFilter&&B().length>0){I(O.minBoxesPerFilter-e);return!0}return!1}function C(){var e=_.find(F),t=k();if("*"!=t)e=e.filter(t);return e}function x(){return C().not(".wpape-img-loaded")}function k(){var e=_.data("eveMB").options.filter;if(""==e||e==a)e="*";return e}function B(e){var t=_.find("."+D),i=k();if("*"!=i&&e==a)t=t.filter(i);return t}function T(){j.html(O.LoadingWord);j.removeClass("wpape-imges-load-more");j.addClass("wpape-imges-loading")}function L(){H++;T()}function S(){if(0==--H)M()}function M(){j.removeClass("wpape-imges-load-more");j.removeClass("wpape-imges-loading");j.removeClass("wpape-imges-no-more-entries");if(B().length>0){j.html(O.loadMoreWord);j.addClass("wpape-imges-load-more")}else{j.html(O.noMoreEntriesWord);j.addClass("wpape-imges-no-more-entries")}}function I(e,a){if(1!=j.hasClass("wpape-imges-no-more-entries")){L();var i=[];B(a).each(function(a){var o=t(this);if(a+1<=e){o.removeClass(D).addClass(q);o.hide();i.push(this)}});_.eveMB("insert",t(i),function(){S();_.eveMB("layout")})}}function E(e){if(e!=a){var i=_.find("."+q+", ."+D);if(""==e)i.addClass("search-match");else{i.removeClass("search-match");_.find(O.searchTarget).each(function(){var a=t(this),i=a.parents("."+q+", ."+D);if(-1!==a.text().toLowerCase().indexOf(e.toLowerCase()))i.addClass("search-match")})}setTimeout(function(){v(".search-match","search")},100)}}function W(e){var t=e.data("sort-ascending");if(t==a)t=!0;if(e.data("sort-toggle")&&1==e.data("sort-toggle"))e.data("sort-ascending",!t);return t}function z(){if("#!"!=location.hash.substr(0,2))return null;var e=location.href.split("#!")[1];return{hash:e,src:e}}function P(){var e=t.magnificPopup.instance;if(e){var a=z();if(!a&&e.isOpen)e.close();else if(a)if(e.isOpen&&e.currItem&&e.currItem.el.parents(".wpape-imges-container").attr("id")==a.id){if(e.currItem.el.attr("data-mfp-src")!=a.src){var i=null;t.each(e.items,function(e,o){if((o.parsed?o.el:t(o)).attr("data-mfp-src")==a.src){i=e;return!1}});if(null!==i)e.goTo(i)}}else _.filter('[id="'+a.id+'"]').find('.wpape-lightbox[data-mfp-src="'+a.src+'"]').trigger("click")}}var O=t.extend({},t.fn.collagePlus.defaults,o),_=t(i).addClass("wpape-imges-container"),F=".wpape-img",R=".wpape-img-image",q="wpape-img",D="wpape-img-hidden",U=LegModernizr.csstransitions?"transition":"animate",A={},H=0;if("default"==O.overlayEasing)O.overlayEasing="transition"==U?"_default":"swing";var j=t('<div class="wpape-imges-load-more "></div>').insertAfter(_);j.wrap('<div class="wpape_gallery_button  wpape_gallery_button_bottom"></div>');j.addClass(O.loadMoreClass);O.resolutions.sort(function(e,t){return e.maxWidth-t.maxWidth});_.data("settings",O);_.css({"margin-left":-O.horizontalSpaceBetweenBoxes});_.find(F).removeClass(q).addClass(D);var N=t(O.sortContainer).find(O.sort).filter(".selected"),Q=N.attr("data-sort-by"),X=W(N);_.append('<div class="wpape-imges-grid-sizer"></div>');_.eveMB({itemSelector:F,masonry:{columnWidth:".wpape-imges-grid-sizer"},getSortData:O.getSortData,sortBy:Q,sortAscending:X});t.extend(EveMB.prototype,{resize:function(){var e=t(this.element);p(e);l(e);r(e);m(e);M();if(this.isResizeBound&&this.needsResizeLayout())this.layout()}});t.extend(EveMB.prototype,{_setContainerMeasure:function(e,i){if(e!==a){var o=this.size;if(o.isBorderBox)e+=i?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth;e=Math.max(e,0);this.element.style[i?"width":"height"]=e+"px";var n=t(this.element);t.waypoints("refresh");n.addClass("lazy-load-ready");n.removeClass("filtering-isotope")}}});t.extend(EveMB.prototype,{insert:function(e,i){var o=this.addItems(e);if(o.length){var d,f,m=t(this.element),u=m.find("."+D)[0],v=o.length;for(d=0;d<v;d++){f=o[d];if(u!=a)this.element.insertBefore(f.element,u);else this.element.appendChild(f.element)}var g=function(){var e=this._filter(o);this._noTransition(function(){this.hide(e)});for(d=0;d<v;d++)o[d].isLayoutInstant=!0;this.arrange();for(d=0;d<v;d++)delete o[d].isLayoutInstant;this.reveal(e)},w=function(e){var a=t(e.img),i=a.parents("div[data-thumbnail], div[data-popup]");if(0==e.isLoaded){a.hide();i.addClass("broken-image-here")}},y=this;c(m);p(m);l(m);n(m);s(m,!1);m.find("img:not([data-dont-wait-for-me])").imagesLoadedMB().always(function(){if(0==O.waitForAllThumbsNoMatterWhat)s(m,!0);m.find(F).addClass("wpape-img-loaded");g.call(y);r(m);h(m);if("function"==typeof i)i();for(index in y.images){var e=y.images[index];w(e)}}).progress(function(e,t){w(t)})}}});I(O.boxesToLoadStart,!0);j.on("click",function(){I(O.boxesToLoad)});if(O.lazyLoad)_.waypoint(function(e){if(_.hasClass("lazy-load-ready"))if("down"==e&&0==_.hasClass("filtering-isotope")){_.removeClass("lazy-load-ready");I(O.boxesToLoad)}},{context:e,continuous:!0,enabled:!0,horizontal:!1,offset:"bottom-in-view",triggerOnce:!1});var Y=t(O.filterContainer);Y.find(O.filter).on("click",function(e){var i=t(this),o=i.parents(O.filterContainer);o.find(O.filter).removeClass(O.filterContainerSelectClass);i.addClass(O.filterContainerSelectClass);var n=i.attr("data-filter"),s="filter";if(o.data("id")!=a)s=o.data("id");v(n,s);e.preventDefault();if(!j.is(".wpape-imges-no-more-entries"))j.click()});Y.each(function(){var e=t(this),i=e.find(O.filter).filter(".selected");if(i[0]!=a){var o=i.attr("data-filter"),n="filter";if(e.data("id")!=a)n=e.data("id");w(o,n)}});g();E(t(O.search).val());t(O.search).on("keyup",function(){E(t(this).val())});t(O.sortContainer).find(O.sort).on("click",function(e){var a=t(this);a.parents(O.sortContainer).find(O.sort).removeClass("selected");a.addClass("selected");var i=a.attr("data-sort-by");_.eveMB({sortBy:i,sortAscending:W(a)});e.preventDefault()});_.on("mouseenter.hoverdir, mouseleave.hoverdir",R,function(e){if(0!=O.thumbnailOverlay){var i=t(this),o=O.overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");var n=e.type,s=i.find(".wpape-img-thumbnail-container"),r=i.find(".thumbnail-overlay"),l=r.outerHeight(!1);if("push-up"==o||"push-up-100%"==o){d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing);else d.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing)}else if("push-down"==o||"push-down-100%"==o){var d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else d.stop()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing)}else if("reveal-top"==o||"reveal-top-100%"==o)if("mouseenter"===n)s.stop().show()[U]({"margin-top":l},O.overlaySpeed,O.overlayEasing);else s.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else if("reveal-bottom"==o||"reveal-bottom-100%"==o)if("mouseenter"===n)s.stop().show()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing);else s.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else if("direction"==o.substr(0,9)){var f=G(i,{x:e.pageX,y:e.pageY});if("direction-top"==o)f=0;else if("direction-bottom"==o)f=2;else if("direction-right"==o)f=1;else if("direction-left"==o)f=3;var p=J(f,i);if("mouseenter"==n){r.css({left:p.from,top:p.to});r.stop().show().fadeTo(0,1,function(){t(this).stop()[U]({left:0,top:0},O.overlaySpeed,O.overlayEasing)})}else if("direction-aware-fade"==o)r.fadeOut(700);else r.stop()[U]({left:p.from,top:p.to},O.overlaySpeed,O.overlayEasing)}else if("fade"==o){if("mouseenter"==n){r.stop().fadeOut(0);r.fadeIn(O.overlaySpeed)}else{r.stop().fadeIn(0);r.fadeOut(O.overlaySpeed)}var c=r.find(".fa");if("mouseenter"==n){c.css({scale:1.4});c[U]({scale:1},200)}else{c.css({scale:1});c[U]({scale:1.4},200)}}}});var G=function(e,t){var a=e.width(),i=e.height(),o=(t.x-e.offset().left-a/2)*(a>i?i/a:1),n=(t.y-e.offset().top-i/2)*(i>a?a/i:1);return Math.round((Math.atan2(n,o)*(180/Math.PI)+180)/90+3)%4},J=function(e,t){var a,i;switch(e){case 0:if(!O.reverse)a=0,i=-t.height();else a=0,i=-t.height();break;case 1:if(!O.reverse)a=t.width(),i=0;else a=-t.width(),i=0;break;case 2:if(!O.reverse)a=0,i=t.height();else a=0,i=-t.height();break;case 3:if(!O.reverse)a=-t.width(),i=0;else a=t.width(),i=0}return{from:a,to:i}},K=".wpape-lightbox[data-mfp-src]";if(O.considerFilteringInPopup)K=F+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src], ."+D+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src]";if(O.showOnlyLoadedBoxesInPopup)K=F+":visible .wpape-lightbox[data-mfp-src]";if(O.magnificPopup){var V={delegate:K,type:"image",removalDelay:200,closeOnContentClick:!1,alignTop:O.alignTop,preload:O.preload,mainClass:"my-mfp-slide-bottom",gallery:{enabled:O.gallery},closeMarkup:'<button title="%title%" class="mfp-close"></button>',titleSrc:"title",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"}},markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar" style="margin-top:4px;"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},callbacks:{change:function(){var i=t(this.currItem.el);if(i.is(".mfp-link")){e.location.href=t(this.currItem).attr("src");return!1}if(i.is(".mfp-blanklink")){e.open(t(this.currItem).attr("src"));setTimeout(function(){t.magnificPopup.instance.close()},5);return!1}setTimeout(function(){var e="";if(i.attr("mfp-title")!=a&&!O.hideTitle)t(".mfp-title").html(i.attr("mfp-title"));else t(".mfp-title").html("");var o=i.attr("data-mfp-src");e="";if(O.hideSourceImage)e=e+' <a class="image-source-link" href="'+o+'" target="_blank"></a>';var n=location.href,s=(location.href.replace(location.hash,""),i.attr("mfp-title")),r=n;t(".mfp-img").attr("alt",s);var l="";if(O.twitter)l+="<div class='wpape-imges-twitter fab fa-twitter' data-url='"+r+"'  data-title='"+s+"' ></div>";if(O.facebook)l+="<div class='wpape-imges-facebook fab fa-facebook' data-url='"+r+"'></div>";if(O.googleplus)l+="<div class='wpape-imges-googleplus fab fa-google-plus'  data-src="+o+" data-url='"+r+"'></div>";l=l?"<div class='wpape-imges-social-container'>"+l+"</div>":"";var d=t(".mfp-title").html();t(".mfp-title").html(d+l+e)},5);if(O.deepLinking)location.hash="#!"+i.attr("data-mfp-src")},beforeOpen:function(){if(1==O.touch)t("body").swipe("enable");this.container.data("scrollTop",parseInt(t(e).scrollTop()))},open:function(){t("html, body").scrollTop(this.container.data("scrollTop"))},close:function(){if(1==O.touch)t("body").swipe("disable");if(O.deepLinking)e.location.hash="#!"}}};t.extend(V,O.lightboxOptions);_.magnificPopup(V)}if(O.deepLinking){var Z=z();if(Z)_.find('.wpape-lightbox[data-mfp-src="'+Z.src+'"]').trigger("click");if(e.addEventListener)e.addEventListener("hashchange",P,!1);else if(e.attachEvent)e.attachEvent("onhashchange",P)}var $=function(t){e.open(t,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)};t("body").on("click","div.wpape-imges-twitter",function(){var e=t(this),a=encodeURIComponent(e.data("url")),i=encodeURIComponent(e.data("title"));a="https://twitter.com/intent/tweet?url="+encodeURIComponent(e.data("url"))+"&text="+i;$(a)});t("body").on("click","div.wpape-imges-facebook",function(){var e=t(this),a=encodeURIComponent(e.data("url"));$(a="https://www.facebook.com/sharer/sharer.php?u="+a)});t("body").on("click","div.wpape-imges-googleplus",function(){var e=t(this),a=encodeURIComponent(e.data("url"));$(a="https://plus.google.com/share?url="+a)});return this};t.fn.collagePlus=function(a){return this.each(function(o,n){var s=t(this);if(s.data("collagePlus"))return s.data("collagePlus");var r=new i(this,a);s.data("collagePlus",r);t(".thumbnail-overlay a",this).click(function(a){a.preventDefault();var i=t(this).attr("href");if("_blank"==t(this).attr("target"))e.open(i,"_blank");else location.href=i;return!1})})};t.fn.collagePlus.defaults={boxesToLoadStart:8,boxesToLoad:4,minBoxesPerFilter:0,lazyLoad:!0,horizontalSpaceBetweenBoxes:15,verticalSpaceBetweenBoxes:15,columnWidth:"auto",columns:3,borderSize:0,resolutions:[{maxWidth:960,columnWidth:"auto",columns:3},{maxWidth:650,columnWidth:"auto",columns:2},{maxWidth:450,columnWidth:"auto",columns:1}],filterContainer:"#filter",filterContainerSelectClass:"active",filter:"a",search:"",searchTarget:".wpape-img-title",sortContainer:"",sort:"a",getSortData:{title:".wpape-img-title",text:".wpape-img-text"},waitUntilThumbLoads:!0,waitForAllThumbsNoMatterWhat:!1,thumbnailOverlay:!0,overlayEffect:"fade",overlaySpeed:200,overlayEasing:"default",showOnlyLoadedBoxesInPopup:!1,considerFilteringInPopup:!0,deepLinking:!1,gallery:!0,LoadingWord:"Loading...",loadMoreWord:"Load More",loadMoreClass:"",noMoreEntriesWord:"No More Entries",alignTop:!1,preload:[0,2],magnificPopup:!0,hideTitle:!1,hideCounter:!1,lightboxOptions:{},hideSourceImage:!1,twitter:!1,facebook:!1,googleplus:!1,touch:!1}}(window,window.apeQuer||window.jQuery);