/*!
 * imagesLoaded PACKAGED v3
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoadedMB=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function c(e){this.img=e}function f(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},s.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoadedMB=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),c.prototype=new t,c.prototype.check=function(){var e=v[this.img.src]||new f(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});

/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2012 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */

(function(k){k.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var d=document.createElement("div");var q={};function b(v){if(v in d.style){return v}var u=["Moz","Webkit","O","ms"];var r=v.charAt(0).toUpperCase()+v.substr(1);for(var t=0;t<u.length;++t){var s=u[t]+r;if(s in d.style){return s}}}function e(){d.style[q.transform]="";d.style[q.transform]="rotateY(90deg)";return d.style[q.transform]!==""}var a=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;q.transition=b("transition");q.transitionDelay=b("transitionDelay");q.transform=b("transform");q.transformOrigin=b("transformOrigin");q.filter=b("Filter");q.transform3d=e();var i={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var f=q.transitionEnd=i[q.transition]||null;for(var p in q){if(q.hasOwnProperty(p)&&typeof k.support[p]==="undefined"){k.support[p]=q[p]}}d=null;k.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};k.cssHooks["transit:transform"]={get:function(r){return k(r).data("transform")||new j()},set:function(s,r){var t=r;if(!(t instanceof j)){t=new j(t)}if(q.transform==="WebkitTransform"&&!a){s.style[q.transform]=t.toString(true)}else{s.style[q.transform]=t.toString()}k(s).data("transform",t)}};k.cssHooks.transform={set:k.cssHooks["transit:transform"].set};k.cssHooks.filter={get:function(r){return r.style[q.filter]},set:function(r,s){r.style[q.filter]=s}};if(k.fn.jquery<"1.8"){k.cssHooks.transformOrigin={get:function(r){return r.style[q.transformOrigin]},set:function(r,s){r.style[q.transformOrigin]=s}};k.cssHooks.transition={get:function(r){return r.style[q.transition]},set:function(r,s){r.style[q.transition]=s}}}n("scale");n("scaleX");n("scaleY");n("translate");n("rotate");n("rotateX");n("rotateY");n("rotate3d");n("perspective");n("skewX");n("skewY");n("x",true);n("y",true);function j(r){if(typeof r==="string"){this.parse(r)}return this}j.prototype={setFromString:function(t,s){var r=(typeof s==="string")?s.split(","):(s.constructor===Array)?s:[s];r.unshift(t);j.prototype.set.apply(this,r)},set:function(s){var r=Array.prototype.slice.apply(arguments,[1]);if(this.setter[s]){this.setter[s].apply(this,r)}else{this[s]=r.join(",")}},get:function(r){if(this.getter[r]){return this.getter[r].apply(this)}else{return this[r]||0}},setter:{rotate:function(r){this.rotate=o(r,"deg")},rotateX:function(r){this.rotateX=o(r,"deg")},rotateY:function(r){this.rotateY=o(r,"deg")},scale:function(r,s){if(s===undefined){s=r}this.scale=r+","+s},skewX:function(r){this.skewX=o(r,"deg")},skewY:function(r){this.skewY=o(r,"deg")},perspective:function(r){this.perspective=o(r,"px")},x:function(r){this.set("translate",r,null)},y:function(r){this.set("translate",null,r)},translate:function(r,s){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(r!==null&&r!==undefined){this._translateX=o(r,"px")}if(s!==null&&s!==undefined){this._translateY=o(s,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var r=(this.scale||"1,1").split(",");if(r[0]){r[0]=parseFloat(r[0])}if(r[1]){r[1]=parseFloat(r[1])}return(r[0]===r[1])?r[0]:r},rotate3d:function(){var t=(this.rotate3d||"0,0,0,0deg").split(",");for(var r=0;r<=3;++r){if(t[r]){t[r]=parseFloat(t[r])}}if(t[3]){t[3]=o(t[3],"deg")}return t}},parse:function(s){var r=this;s.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,v,u){r.setFromString(v,u)})},toString:function(t){var s=[];for(var r in this){if(this.hasOwnProperty(r)){if((!q.transform3d)&&((r==="rotateX")||(r==="rotateY")||(r==="perspective")||(r==="transformOrigin"))){continue}if(r[0]!=="_"){if(t&&(r==="scale")){s.push(r+"3d("+this[r]+",1)")}else{if(t&&(r==="translate")){s.push(r+"3d("+this[r]+",0)")}else{s.push(r+"("+this[r]+")")}}}}}return s.join(" ")}};function m(s,r,t){if(r===true){s.queue(t)}else{if(r){s.queue(r,t)}else{s.each(function(){t.call(this)})}}}function h(s){var r=[];k.each(s,function(t){t=k.camelCase(t);t=k.transit.propertyMap[t]||k.cssProps[t]||t;t=c(t);if(q[t]){t=c(q[t])}if(k.inArray(t,r)===-1){r.push(t)}});return r}function g(s,v,x,r){var t=h(s);if(k.cssEase[x]){x=k.cssEase[x]}var w=""+l(v)+" "+x;if(parseInt(r,10)>0){w+=" "+l(r)}var u=[];k.each(t,function(z,y){u.push(y+" "+w)});return u.join(", ")}k.fn.transition=k.fn.transit=function(A,t,z,D){var E=this;var v=0;var x=true;var r=jQuery.extend(true,{},A);if(typeof t==="function"){D=t;t=undefined}if(typeof t==="object"){z=t.easing;v=t.delay||0;x=typeof t.queue==="undefined"?true:t.queue;D=t.complete;t=t.duration}if(typeof z==="function"){D=z;z=undefined}if(typeof r.easing!=="undefined"){z=r.easing;delete r.easing}if(typeof r.duration!=="undefined"){t=r.duration;delete r.duration}if(typeof r.complete!=="undefined"){D=r.complete;delete r.complete}if(typeof r.queue!=="undefined"){x=r.queue;delete r.queue}if(typeof r.delay!=="undefined"){v=r.delay;delete r.delay}if(typeof t==="undefined"){t=k.fx.speeds._default}if(typeof z==="undefined"){z=k.cssEase._default}t=l(t);var F=g(r,t,z,v);var C=k.transit.enabled&&q.transition;var u=C?(parseInt(t,10)+parseInt(v,10)):0;if(u===0){var B=function(G){E.css(r);if(D){D.apply(E)}if(G){G()}};m(E,x,B);return E}var y={};var s=function(I){var H=false;var G=function(){if(H){E.unbind(f,G)}if(u>0){E.each(function(){this.style[q.transition]=(y[this]||null)})}if(typeof D==="function"){D.apply(E)}if(typeof I==="function"){I()}};if((u>0)&&(f)&&(k.transit.useTransitionEnd)){H=true;E.bind(f,G)}else{window.setTimeout(G,u)}E.each(function(){if(u>0){this.style[q.transition]=F}k(this).css(A)})};var w=function(G){this.offsetWidth;s(G)};m(E,x,w);return this};function n(s,r){if(!r){k.cssNumber[s]=true}k.transit.propertyMap[s]=q.transform;k.cssHooks[s]={get:function(v){var u=k(v).css("transit:transform");return u.get(s)},set:function(v,w){var u=k(v).css("transit:transform");u.setFromString(s,w);k(v).css({"transit:transform":u})}}}function c(r){return r.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})}function o(s,r){if((typeof s==="string")&&(!s.match(/^[\-0-9\.]+$/))){return s}else{return""+s+r}}function l(s){var r=s;if(typeof r==="string"&&(!r.match(/^[\-0-9\.]+/))){r=k.fx.speeds[r]||k.fx.speeds._default}return o(r,"ms")}k.transit.getTransitionValue=g})(jQuery);

/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
*/

jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*.3*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});


/*
jQuery Waypoints - v2
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,c,a,h,d,p,y,v,w,g,m;i=n(r);a=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;c={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[u]=this.id;c[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||a)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(a&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete c[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=this.element[w])!=null?o:[];i.push(this.id);this.element[w]=i}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=t[w];if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=c[i[0][u]];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t){this.each(function(){var e;e=l.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(c,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=c[n(t)[0][u]])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=c[n(t)[0][u]];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);


/* Modernizr 2 | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransitions-testprop-testallprops-domprefixes
 */
;window.LegModernizr=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(prefixes.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b){for(var d in a){var e=a[d];if(!z(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}function C(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+m.join(d+" ")+d).split(" ");return y(b,"string")||y(b,"undefined")?A(e,b):(e=(a+" "+n.join(d+" ")+d).split(" "),B(e,b,c))}var d="2.8.2",e={},f=b.documentElement,g="legmodernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l="Webkit Moz O ms",m=l.split(" "),n=l.toLowerCase().split(" "),o={},p={},q={},r=[],s=r.slice,t,u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=s.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(s.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(s.call(arguments)))};return e}),o.csstransitions=function(){return C("transition")};for(var D in o)v(o,D)&&(t=D.toLowerCase(),e[t]=o[D](),r.push((e[t]?"":"no-")+t));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._domPrefixes=n,e._cssomPrefixes=m,e.testProp=function(a){return A([a])},e.testAllProps=C,e}(this,this.document);
/*!
 * eventie v1.0.5
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */

(function(e){function n(){}function r(e){function r(t){if(t.prototype.option){return}t.prototype.option=function(t){if(!e.isPlainObject(t)){return}this.options=e.extend(true,this.options,t)}}function s(n,r){e.fn[n]=function(s){if(typeof s==="string"){var o=t.call(arguments,1);for(var u=0,a=this.length;u<a;u++){var f=this[u];var l=e.data(f,n);if(!l){i("cannot call methods on "+n+" prior to initialization; "+"attempted to call '"+s+"'");continue}if(!e.isFunction(l[s])||s.charAt(0)==="_"){i("no such method '"+s+"' for "+n+" instance");continue}var c=l[s].apply(l,o);if(c!==undefined){return c}}return this}else{return this.each(function(){var t=e.data(this,n);if(t){t.option(s);t._init()}else{t=new r(this,s);e.data(this,n,t)}})}}}if(!e){return}var i=typeof console==="undefined"?n:function(e){console.error(e)};e.bridget=function(e,t){r(t);s(e,t)};return e.bridget}var t=Array.prototype.slice;if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],r)}else{r(e.jQuery)}})(window);(function(e){function r(t){var n=e.event;n.target=n.target||n.srcElement||t;return n}var t=document.documentElement;var n=function(){};if(t.addEventListener){n=function(e,t,n){e.addEventListener(t,n,false)}}else if(t.attachEvent){n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)};e.attachEvent("on"+t,e[t+n])}}var i=function(){};if(t.removeEventListener){i=function(e,t,n){e.removeEventListener(t,n,false)}}else if(t.detachEvent){i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}}}var s={bind:n,unbind:i};if(typeof define==="function"&&define.amd){define("eventie/eventie",s)}else if(typeof exports==="object"){module.exports=s}else{e.eventie=s}})(this);(function(e){function r(e){if(typeof e!=="function"){return}if(r.isReady){e()}else{n.push(e)}}function i(e){var i=e.type==="readystatechange"&&t.readyState!=="complete";if(r.isReady||i){return}r.isReady=true;for(var s=0,o=n.length;s<o;s++){var u=n[s];u()}}function s(n){n.bind(t,"DOMContentLoaded",i);n.bind(t,"readystatechange",i);n.bind(e,"load",i);return r}var t=e.document;var n=[];r.isReady=false;if(typeof define==="function"&&define.amd){r.isReady=typeof requirejs==="function";define("doc-ready/doc-ready",["eventie/eventie"],s)}else{e.docReady=s(e.eventie)}})(this);(function(){function e(){}function i(e,t){var n=e.length;while(n--){if(e[n].listener===t){return n}}return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype;var n=this;var r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents();var r;var i;if(t instanceof RegExp){r={};for(i in n){if(n.hasOwnProperty(i)&&t.test(i)){r[i]=n[i]}}}else{r=n[t]||(n[t]=[])}return r};t.flattenListeners=function(t){var n=[];var r;for(r=0;r<t.length;r+=1){n.push(t[r].listener)}return n};t.getListenersAsObject=function(t){var n=this.getListeners(t);var r;if(n instanceof Array){r={};r[t]=n}return r||n};t.addListener=function(t,n){var r=this.getListenersAsObject(t);var s=typeof n==="object";var o;for(o in r){if(r.hasOwnProperty(o)&&i(r[o],n)===-1){r[o].push(s?n:{listener:n,once:false})}}return this};t.on=s("addListener");t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:true})};t.once=s("addOnceListener");t.defineEvent=function(t){this.getListeners(t);return this};t.defineEvents=function(t){for(var n=0;n<t.length;n+=1){this.defineEvent(t[n])}return this};t.removeListener=function(t,n){var r=this.getListenersAsObject(t);var s;var o;for(o in r){if(r.hasOwnProperty(o)){s=i(r[o],n);if(s!==-1){r[o].splice(s,1)}}}return this};t.off=s("removeListener");t.addListeners=function(t,n){return this.manipulateListeners(false,t,n)};t.removeListeners=function(t,n){return this.manipulateListeners(true,t,n)};t.manipulateListeners=function(t,n,r){var i;var s;var o=t?this.removeListener:this.addListener;var u=t?this.removeListeners:this.addListeners;if(typeof n==="object"&&!(n instanceof RegExp)){for(i in n){if(n.hasOwnProperty(i)&&(s=n[i])){if(typeof s==="function"){o.call(this,i,s)}else{u.call(this,i,s)}}}}else{i=r.length;while(i--){o.call(this,n,r[i])}}return this};t.removeEvent=function(t){var n=typeof t;var r=this._getEvents();var i;if(n==="string"){delete r[t]}else if(t instanceof RegExp){for(i in r){if(r.hasOwnProperty(i)&&t.test(i)){delete r[i]}}}else{delete this._events}return this};t.removeAllListeners=s("removeEvent");t.emitEvent=function(t,n){var r=this.getListenersAsObject(t);var i;var s;var o;var u;for(o in r){if(r.hasOwnProperty(o)){s=r[o].length;while(s--){i=r[o][s];if(i.once===true){this.removeListener(t,i.listener)}u=i.listener.apply(this,n||[]);if(u===this._getOnceReturnValue()){this.removeListener(t,i.listener)}}}}return this};t.trigger=s("emitEvent");t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)};t.setOnceReturnValue=function(t){this._onceReturnValue=t;return this};t._getOnceReturnValue=function(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};t._getEvents=function(){return this._events||(this._events={})};e.noConflict=function(){n.EventEmitter=r;return e};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return e})}else if(typeof module==="object"&&module.exports){module.exports=e}else{this.EventEmitter=e}}).call(this);(function(e){function r(e){if(!e){return}if(typeof n[e]==="string"){return e}e=e.charAt(0).toUpperCase()+e.slice(1);var r;for(var i=0,s=t.length;i<s;i++){r=t[i]+e;if(typeof n[r]==="string"){return r}}}var t="Webkit Moz ms Ms O".split(" ");var n=document.documentElement.style;if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return r})}else if(typeof exports==="object"){module.exports=r}else{e.getStyleProperty=r}})(window);(function(e,t){function i(e){var t=parseFloat(e);var n=e.indexOf("%")===-1&&!isNaN(t);return n&&t}function o(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0,n=s.length;t<n;t++){var r=s[t];e[r]=0}return e}function u(e){function a(e){if(typeof e==="string"){e=document.querySelector(e)}if(!e||typeof e!=="object"||!e.nodeType){return}var n=r(e);if(n.display==="none"){return o()}var a={};a.width=e.offsetWidth;a.height=e.offsetHeight;var l=a.isBorderBox=!!(t&&n[t]&&n[t]==="border-box");for(var c=0,h=s.length;c<h;c++){var p=s[c];var d=n[p];d=f(e,d);var v=parseFloat(d);a[p]=!isNaN(v)?v:0}var m=a.paddingLeft+a.paddingRight;var g=a.paddingTop+a.paddingBottom;var y=a.marginLeft+a.marginRight;var b=a.marginTop+a.marginBottom;var w=a.borderLeftWidth+a.borderRightWidth;var E=a.borderTopWidth+a.borderBottomWidth;var S=l&&u;var x=i(n.width);if(x!==false){a.width=x+(S?0:m+w)}var T=i(n.height);if(T!==false){a.height=T+(S?0:g+E)}a.innerWidth=a.width-(m+w);a.innerHeight=a.height-(g+E);a.outerWidth=a.width+y;a.outerHeight=a.height+b;return a}function f(e,t){if(n||t.indexOf("%")===-1){return t}var r=e.style;var i=r.left;var s=e.runtimeStyle;var o=s&&s.left;if(o){s.left=e.currentStyle.left}r.left=t;t=r.pixelLeft;r.left=i;if(o){s.left=o}return t}var t=e("boxSizing");var u;(function(){if(!t){return}var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style[t]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var s=r(e);u=i(s.width)===200;n.removeChild(e)})();return a}var n=e.getComputedStyle;var r=n?function(e){return n(e,null)}:function(e){return e.currentStyle};var s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],u)}else if(typeof exports==="object"){module.exports=u(require("get-style-property"))}else{e.getSize=u(e.getStyleProperty)}})(window);(function(e,t){function r(e,t){return e[n](t)}function i(e){if(e.parentNode){return}var t=document.createDocumentFragment();t.appendChild(e)}function s(e,t){i(e);var n=e.parentNode.querySelectorAll(t);for(var r=0,s=n.length;r<s;r++){if(n[r]===e){return true}}return false}function o(e,t){i(e);return r(e,t)}var n=function(){if(t.matchesSelector){return"matchesSelector"}var e=["webkit","moz","ms","o"];for(var n=0,r=e.length;n<r;n++){var i=e[n];var s=i+"MatchesSelector";if(t[s]){return s}}}();var u;if(n){var a=document.createElement("div");var f=r(a,"div");u=f?r:o}else{u=s}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return u})}else{window.matchesSelector=u}})(this,Element.prototype);(function(e){function r(e,t){for(var n in t){e[n]=t[n]}return e}function i(e){for(var t in e){return false}t=null;return true}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function o(e,t,o){function d(e,t){if(!e){return}this.element=e;this.layout=t;this.position={x:0,y:0};this._create()}var u=o("transition");var a=o("transform");var f=u&&a;var l=!!o("perspective");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u];var h=["transform","transition","transitionDuration","transitionProperty"];var p=function(){var e={};for(var t=0,n=h.length;t<n;t++){var r=h[t];var i=o(r);if(i&&i!==r){e[r]=i}}return e}();r(d.prototype,e.prototype);d.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};d.prototype.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};d.prototype.getSize=function(){this.size=t(this.element)};d.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=p[n]||n;t[r]=e[n]}};d.prototype.getPosition=function(){var e=n(this.element);var t=this.layout.options;var r=t.isOriginLeft;var i=t.isOriginTop;var s=parseInt(e[r?"left":"right"],10);var o=parseInt(e[i?"top":"bottom"],10);s=isNaN(s)?0:s;o=isNaN(o)?0:o;var u=this.layout.size;s-=r?u.paddingLeft:u.paddingRight;o-=i?u.paddingTop:u.paddingBottom;this.position.x=s;this.position.y=o};d.prototype.layoutPosition=function(){var e=this.layout.size;var t=this.layout.options;var n={};if(t.isOriginLeft){n.left=this.position.x+e.paddingLeft+"px";n.right=""}else{n.right=this.position.x+e.paddingRight+"px";n.left=""}if(t.isOriginTop){n.top=this.position.y+e.paddingTop+"px";n.bottom=""}else{n.bottom=this.position.y+e.paddingBottom+"px";n.top=""}this.css(n);this.emitEvent("layout",[this])};var v=l?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};d.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x;var r=this.position.y;var i=parseInt(e,10);var s=parseInt(t,10);var o=i===this.position.x&&s===this.position.y;this.setPosition(e,t);if(o&&!this.isTransitioning){this.layoutPosition();return}var u=e-n;var a=t-r;var f={};var l=this.layout.options;u=l.isOriginLeft?u:-u;a=l.isOriginTop?a:-a;f.transform=v(u,a);this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};d.prototype.goTo=function(e,t){this.setPosition(e,t);this.layoutPosition()};d.prototype.moveTo=f?d.prototype._transitionTo:d.prototype.goTo;d.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10);this.position.y=parseInt(t,10)};d.prototype._nonTransition=function(e){this.css(e.to);if(e.isCleaning){this._removeStyles(e.to)}for(var t in e.onTransitionEnd){e.onTransitionEnd[t].call(this)}};d.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var n in e.onTransitionEnd){t.onEnd[n]=e.onTransitionEnd[n]}for(n in e.to){t.ingProperties[n]=true;if(e.isCleaning){t.clean[n]=true}}if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to);this.css(e.to);this.isTransitioning=true};var m=a&&s(a)+",opacity";d.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(c,this,false)};d.prototype.transition=d.prototype[u?"_transition":"_nonTransition"];d.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)};d.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};d.prototype.ontransitionend=function(e){if(e.target!==this.element){return}var t=this._transn;var n=g[e.propertyName]||e.propertyName;delete t.ingProperties[n];if(i(t.ingProperties)){this.disableTransition()}if(n in t.clean){this.element.style[e.propertyName]="";delete t.clean[n]}if(n in t.onEnd){var r=t.onEnd[n];r.call(this);delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])};d.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(c,this,false);this.isTransitioning=false};d.prototype._removeStyles=function(e){var t={};for(var n in e){t[n]=""}this.css(t)};var y={transitionProperty:"",transitionDuration:""};d.prototype.removeTransitionStyles=function(){this.css(y)};d.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};d.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var e=this;this.on("transitionEnd",function(){e.removeElem();return true});this.hide()};d.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:true})};d.prototype.hide=function(){this.isHidden=true;this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"})}}}})};d.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return d}var t=e.getComputedStyle;var n=t?function(e){return t(e,null)}:function(e){return e.currentStyle};if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o)}else{e.Outlayer={};e.Outlayer.Item=o(e.EventEmitter,e.getSize,e.getStyleProperty)}})(window);(function(e){function s(e,t){for(var n in t){e[n]=t[n]}return e}function u(e){return o.call(e)==="[object Array]"}function a(e){var t=[];if(u(e)){t=e}else if(e&&typeof e.length==="number"){for(var n=0,r=e.length;n<r;n++){t.push(e[n])}}else{t.push(e)}return t}function c(e,t){var n=l(t,e);if(n!==-1){t.splice(n,1)}}function h(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function p(o,u,l,p,d,v){function y(e,r){if(typeof e==="string"){e=t.querySelector(e)}if(!e||!f(e)){if(n){n.error("Bad "+this.constructor.namespace+" element: "+e)}return}this.element=e;this.options=s({},this.constructor.defaults);this.option(r);var i=++m;this.element.outlayerGUID=i;g[i]=this;this._create();if(this.options.isInitLayout){this.layout()}}var m=0;var g={};y.namespace="outlayer";y.Item=v;y.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};s(y.prototype,l.prototype);y.prototype.option=function(e){s(this.options,e)};y.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);s(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};y.prototype._itemize=function(e){var t=this._filterFindItemElements(e);var n=this.constructor.Item;var r=[];for(var i=0,s=t.length;i<s;i++){var o=t[i];var u=new n(o,this);r.push(u)}return r};y.prototype._filterFindItemElements=function(e){e=a(e);var t=this.options.itemSelector;var n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];if(!f(s)){continue}if(t){if(d(s,t)){n.push(s)}var o=s.querySelectorAll(t);for(var u=0,l=o.length;u<l;u++){n.push(o[u])}}else{n.push(s)}}return n};y.prototype.getItemElements=function(){var e=[];for(var t=0,n=this.items.length;t<n;t++){e.push(this.items[t].element)}return e};y.prototype.layout=function(){this._resetLayout();this._manageStamps();var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e);this._isLayoutInited=true};y.prototype._init=y.prototype.layout;y.prototype._resetLayout=function(){this.getSize()};y.prototype.getSize=function(){this.size=p(this.element)};y.prototype._getMeasurement=function(e,t){var n=this.options[e];var r;if(!n){this[e]=0}else{if(typeof n==="string"){r=this.element.querySelector(n)}else if(f(n)){r=n}this[e]=r?p(r)[t]:n}};y.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e);this._layoutItems(e,t);this._postLayout()};y.prototype._getItemsForLayout=function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];if(!i.isIgnored){t.push(i)}}return t};y.prototype._layoutItems=function(e,t){function r(){n.emitEvent("layoutComplete",[n,e])}var n=this;if(!e||!e.length){r();return}this._itemsOn(e,"layout",r);var i=[];for(var s=0,o=e.length;s<o;s++){var u=e[s];var a=this._getItemLayoutPosition(u);a.item=u;a.isInstant=t||u.isLayoutInstant;i.push(a)}this._processLayoutQueue(i)};y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};y.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}};y.prototype._positionItem=function(e,t,n,r){if(r){e.goTo(t,n)}else{e.moveTo(t,n)}};y.prototype._postLayout=function(){this.resizeContainer()};y.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var e=this._getContainerSize();if(e){this._setContainerMeasure(e.width,true);this._setContainerMeasure(e.height,false)}};y.prototype._getContainerSize=i;y.prototype._setContainerMeasure=function(e,t){if(e===undefined){return}var n=this.size;if(n.isBorderBox){e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth}e=Math.max(e,0);this.element.style[t?"width":"height"]=e+"px"};y.prototype._itemsOn=function(e,t,n){function o(){r++;if(r===i){n.call(s)}return true}var r=0;var i=e.length;var s=this;for(var u=0,a=e.length;u<a;u++){var f=e[u];f.on(t,o)}};y.prototype.ignore=function(e){var t=this.getItem(e);if(t){t.isIgnored=true}};y.prototype.unignore=function(e){var t=this.getItem(e);if(t){delete t.isIgnored}};y.prototype.stamp=function(e){e=this._find(e);if(!e){return}this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var r=e[t];this.ignore(r)}};y.prototype.unstamp=function(e){e=this._find(e);if(!e){return}for(var t=0,n=e.length;t<n;t++){var r=e[t];c(r,this.stamps);this.unignore(r)}};y.prototype._find=function(e){if(!e){return}if(typeof e==="string"){e=this.element.querySelectorAll(e)}e=a(e);return e};y.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}};y.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect();var t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}};y.prototype._manageStamp=i;y.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect();var n=this._boundingRect;var r=p(e);var i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i};y.prototype.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};y.prototype.bindResize=function(){if(this.isResizeBound){return}o.bind(e,"resize",this);this.isResizeBound=true};y.prototype.unbindResize=function(){if(this.isResizeBound){o.unbind(e,"resize",this)}this.isResizeBound=false};y.prototype.onresize=function(){function t(){e.resize();delete e.resizeTimeout}if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var e=this;this.resizeTimeout=setTimeout(t,100)};y.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};y.prototype.needsResizeLayout=function(){var e=p(this.element);var t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth};y.prototype.addItems=function(e){var t=this._itemize(e);if(t.length){this.items=this.items.concat(t)}return t};y.prototype.appended=function(e){var t=this.addItems(e);if(!t.length){return}this.layoutItems(t,true);this.reveal(t)};y.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var n=this.items.slice(0);this.items=t.concat(n);this._resetLayout();this._manageStamps();this.layoutItems(t,true);this.reveal(t);this.layoutItems(n)};y.prototype.reveal=function(e){var t=e&&e.length;if(!t){return}for(var n=0;n<t;n++){var r=e[n];r.reveal()}};y.prototype.hide=function(e){var t=e&&e.length;if(!t){return}for(var n=0;n<t;n++){var r=e[n];r.hide()}};y.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var r=this.items[t];if(r.element===e){return r}}};y.prototype.getItems=function(e){if(!e||!e.length){return}var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];var s=this.getItem(i);if(s){t.push(s)}}return t};y.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(!t||!t.length){return}this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,r=t.length;n<r;n++){var i=t[n];i.remove();c(i,this.items)}};y.prototype.destroy=function(){var e=this.element.style;e.height="";e.position="";e.width="";for(var t=0,n=this.items.length;t<n;t++){var i=this.items[t];i.destroy()}this.unbindResize();delete this.element.outlayerGUID;if(r){r.removeData(this.element,this.constructor.namespace)}};y.data=function(e){var t=e&&e.outlayerGUID;return t&&g[t]};y.create=function(e,i){function o(){y.apply(this,arguments)}if(Object.create){o.prototype=Object.create(y.prototype)}else{s(o.prototype,y.prototype)}o.prototype.constructor=o;o.defaults=s({},y.defaults);s(o.defaults,i);o.prototype.settings={};o.namespace=e;o.data=y.data;o.Item=function(){v.apply(this,arguments)};o.Item.prototype=new v;u(function(){var i=h(e);var s=t.querySelectorAll(".js-"+i);var u="data-"+i+"-options";for(var a=0,f=s.length;a<f;a++){var l=s[a];var c=l.getAttribute(u);var p;try{p=c&&JSON.parse(c)}catch(d){if(n){n.error("Error parsing "+u+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+d)}continue}var v=new o(l,p);if(r){r.data(l,e,v)}}});if(r&&r.bridget){r.bridget(e,o)}return o};y.Item=v;return y}var t=e.document;var n=e.console;var r=e.jQuery;var i=function(){};var o=Object.prototype.toString;var f=typeof HTMLElement==="object"?function(t){return t instanceof HTMLElement}:function(t){return t&&typeof t==="object"&&t.nodeType===1&&typeof t.nodeName==="string"};var l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],p)}else{e.Outlayer=p(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}})(window);(function(e){function t(e){function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item;t.prototype._create=function(){this.id=this.layout.itemGUID++;e.Item.prototype._create.call(this);this.sortData={}};t.prototype.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var e=this.layout.options.getSortData;var t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}};return t}if(typeof define==="function"&&define.amd){define("eveMB/js/item",["outlayer/outlayer"],t)}else{e.EveMB=e.EveMB||{};e.EveMB.Item=t(e.Outlayer)}})(window);(function(e){function t(e,t){function n(e){this.eveMB=e;if(e){this.options=e.options[this.namespace];this.element=e.element;this.items=e.filteredItems;this.size=e.size}}(function(){function o(e){return function(){return t.prototype[e].apply(this.eveMB,arguments)}}var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var r=0,i=e.length;r<i;r++){var s=e[r];n.prototype[s]=o(s)}})();n.prototype.needsVerticalResizeLayout=function(){var t=e(this.eveMB.element);var n=this.eveMB.size&&t;return n&&t.innerHeight!==this.eveMB.size.innerHeight};n.prototype._getMeasurement=function(){this.eveMB._getMeasurement.apply(this,arguments)};n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};n.prototype.getSegmentSize=function(e,t){var n=e+t;var r="outer"+t;this._getMeasurement(n,r);if(this[n]){return}var i=this.getFirstItemSize();this[n]=i&&i[r]||this.eveMB.size["inner"+t]};n.prototype.getFirstItemSize=function(){var t=this.eveMB.filteredItems[0];return t&&t.element&&e(t.element)};n.prototype.layout=function(){this.eveMB.layout.apply(this.eveMB,arguments)};n.prototype.getSize=function(){this.eveMB.getSize();this.size=this.eveMB.size};n.modes={};n.create=function(e,t){function r(){n.apply(this,arguments)}r.prototype=new n;if(t){r.options=t}r.prototype.namespace=e;n.modes[e]=r;return r};return n}if(typeof define==="function"&&define.amd){define("eveMB/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t)}else{e.EveMB=e.EveMB||{};e.EveMB.LayoutMode=t(e.getSize,e.Outlayer)}})(window);(function(e){function n(e,n){var r=e.create("masonry");r.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var e=this.cols;this.colYs=[];while(e--){this.colYs.push(0)}this.maxY=0};r.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0];var t=e&&e.element;this.columnWidth=t&&n(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element;var t=n(e);this.containerWidth=t&&t.innerWidth};r.prototype._getItemLayoutPosition=function(e){e.getSize();var n=e.size.outerWidth%this.columnWidth;var r=n&&n<1?"round":"ceil";var i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);var s=this._getColGroup(i);var o=Math.min.apply(Math,s);var u=t(s,o);var a={x:this.columnWidth*u,y:o};var f=o+e.size.outerHeight;var l=this.cols+1-s.length;for(var c=0;c<l;c++){this.colYs[u+c]=f}return a};r.prototype._getColGroup=function(e){if(e<2){return this.colYs}var t=[];var n=this.cols+1-e;for(var r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t};r.prototype._manageStamp=function(e){var t=n(e);var r=this._getElementOffset(e);var i=this.options.isOriginLeft?r.left:r.right;var s=i+t.outerWidth;var o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1;u=Math.min(this.cols-1,u);var a=(this.options.isOriginTop?r.top:r.bottom)+t.outerHeight;for(var f=o;f<=u;f++){this.colYs[f]=Math.max(a,this.colYs[f])}};r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};if(this.options.isFitWidth){e.width=this._getContainerFitWidth()}return e};r.prototype._getContainerFitWidth=function(){var e=0;var t=this.cols;while(--t){if(this.colYs[t]!==0){break}e++}return(this.cols-e)*this.columnWidth-this.gutter};r.prototype.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!==this.containerWidth};return r}var t=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i===t){return n}}return-1};if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],n)}else{e.Masonry=n(e.Outlayer,e.getSize)}})(window);(function(e){function t(e,t){for(var n in t){e[n]=t[n]}return e}function n(e,n){var r=e.create("masonry");var i=r.prototype._getElementOffset;var s=r.prototype.layout;var o=r.prototype._getMeasurement;t(r.prototype,n.prototype);r.prototype._getElementOffset=i;r.prototype.layout=s;r.prototype._getMeasurement=o;var u=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.eveMB.filteredItems;u.call(this)};var a=r.prototype._manageStamp;r.prototype._manageStamp=function(){this.options.isOriginLeft=this.eveMB.options.isOriginLeft;this.options.isOriginTop=this.eveMB.options.isOriginTop;a.apply(this,arguments)};return r}if(typeof define==="function"&&define.amd){define("eveMB/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n)}else{n(e.EveMB.LayoutMode,e.Masonry)}})(window);(function(e){function t(e){var t=e.create("fitRows");t.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0};t.prototype._getItemLayoutPosition=function(e){e.getSize();if(this.x!==0&&e.size.outerWidth+this.x>this.eveMB.size.innerWidth){this.x=0;this.y=this.maxY}var t={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight);this.x+=e.size.outerWidth;return t};t.prototype._getContainerSize=function(){return{height:this.maxY}};return t}if(typeof define==="function"&&define.amd){define("eveMB/js/layout-modes/fit-rows",["../layout-mode"],t)}else{t(e.EveMB.LayoutMode)}})(window);(function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});t.prototype._resetLayout=function(){this.y=0};t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.eveMB.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment;var n=this.y;this.y+=e.size.outerHeight;return{x:t,y:n}};t.prototype._getContainerSize=function(){return{height:this.y}};return t}if(typeof define==="function"&&define.amd){define("eveMB/js/layout-modes/vertical",["../layout-mode"],t)}else{t(e.EveMB.LayoutMode)}})(window);(function(e){function n(e,t){for(var n in t){e[n]=t[n]}return e}function u(e){return o.call(e)==="[object Array]"}function f(e){var t=[];if(u(e)){t=e}else if(e&&typeof e.length==="number"){for(var n=0,r=e.length;n<r;n++){t.push(e[n])}}else{t.push(e)}return t}function l(e,t){var n=a(t,e);if(n!==-1){t.splice(n,1)}}function c(e,i,o,u,a){function p(e,t){return function(r,i){for(var s=0,o=e.length;s<o;s++){var u=e[s];var a=r.sortData[u];var f=i.sortData[u];if(a>f||a<f){var l=t[u]!==undefined?t[u]:t;var c=l?1:-1;return(a>f?1:-1)*c}}return 0}}var c=e.create("eveMB",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});c.Item=u;c.LayoutMode=a;c.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();e.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var t in a.modes){this._initLayoutMode(t)}};c.prototype.reloadItems=function(){this.itemGUID=0;e.prototype.reloadItems.call(this)};c.prototype._itemize=function(){var t=e.prototype._itemize.apply(this,arguments);for(var n=0,r=t.length;n<r;n++){var i=t[n];i.id=this.itemGUID++}this._updateItemsSortData(t);return t};c.prototype._initLayoutMode=function(e){var t=a.modes[e];var r=this.options[e]||{};this.options[e]=t.options?n(t.options,r):r;this.modes[e]=new t(this)};c.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};c.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,e);this._isLayoutInited=true};c.prototype.arrange=function(e){this.option(e);this._getIsInstant();this.filteredItems=this._filter(this.items);this._sort();this._layout()};c.prototype._init=c.prototype.arrange;c.prototype._getIsInstant=function(){var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this._isInstant=e;return e};c.prototype._filter=function(e){function c(){l.reveal(r);l.hide(i)}var t=this.options.filter;t=t||"*";var n=[];var r=[];var i=[];var s=this._getFilterTest(t);for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.isIgnored){continue}var f=s(a);if(f){n.push(a)}if(f&&a.isHidden){r.push(a)}else if(!f&&!a.isHidden){i.push(a)}}var l=this;if(this._isInstant){this._noTransition(c)}else{c()}return n};c.prototype._getFilterTest=function(e){if(t&&this.options.isJQueryFiltering){return function(n){return t(n.element).is(e)}}if(typeof e==="function"){return function(t){return e(t.element)}}return function(t){return o(t.element,e)}};c.prototype.updateSortData=function(e){this._getSorters();e=f(e);var t=this.getItems(e);t=t.length?t:this.items;this._updateItemsSortData(t)};c.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=h(n)}};c.prototype._updateItemsSortData=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.updateSortData()}};var h=function(){function e(e){if(typeof e!=="string"){return e}var n=r(e).split(" ");var i=n[0];var s=i.match(/^\[(.+)\]$/);var o=s&&s[1];var u=t(o,i);var a=c.sortDataParsers[n[1]];e=a?function(e){return e&&a(u(e))}:function(e){return e&&u(e)};return e}function t(e,t){var n;if(e){n=function(t){return t.getAttribute(e)}}else{n=function(e){var n=e.querySelector(t);return n&&s(n)}}return n}return e}();c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}};c.prototype._sort=function(){var e=this.options.sortBy;if(!e){return}var t=[].concat.apply(e,this.sortHistory);var n=p(t,this.options.sortAscending);this.filteredItems.sort(n);if(e!==this.sortHistory[0]){this.sortHistory.unshift(e)}};c.prototype._mode=function(){var e=this.options.layoutMode;var t=this.modes[e];if(!t){throw new Error("No layout mode: "+e)}t.options=this.options[e];return t};c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this);this._mode()._resetLayout()};c.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)};c.prototype._manageStamp=function(e){this._mode()._manageStamp(e)};c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};c.prototype.appended=function(e){var t=this.addItems(e);if(!t.length){return}var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)};c.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var n=this.items.slice(0);this.items=t.concat(n);this._resetLayout();this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n);this.filteredItems=r.concat(this.filteredItems)};c.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});this.layoutItems(t,true);this.reveal(t);return e};c.prototype.insert=function(e){var t=this.addItems(e);if(!t.length){return}var n,r;var i=t.length;for(n=0;n<i;n++){r=t[n];this.element.appendChild(r.element)}var s=this._filter(t);this._noTransition(function(){this.hide(s)});for(n=0;n<i;n++){t[n].isLayoutInstant=true}this.arrange();for(n=0;n<i;n++){delete t[n].isLayoutInstant}this.reveal(s)};var d=c.prototype.remove;c.prototype.remove=function(e){e=f(e);var t=this.getItems(e);d.call(this,e);if(!t||!t.length){return}for(var n=0,r=t.length;n<r;n++){var i=t[n];l(i,this.filteredItems)}};c.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);this.options.transitionDuration=t;return n};return c}var t=e.jQuery;var r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")};var i=document.documentElement;var s=i.textContent?function(e){return e.textContent}:function(e){return e.innerText};var o=Object.prototype.toString;var a=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","eveMB/js/item","eveMB/js/layout-mode","eveMB/js/layout-modes/masonry","eveMB/js/layout-modes/fit-rows","eveMB/js/layout-modes/vertical"],c)}else{e.EveMB=c(e.Outlayer,e.getSize,e.matchesSelector,e.EveMB.Item,e.EveMB.LayoutMode)}})(window)

/*
 	stackgrid.adem.js - adwm.co    
	Licensed under the MIT license - http://opensource.org/licenses/MIT
	Copyright (C) 2015 Andrew Prasetya
*/
!function(e,t,a){var i=function(i,o){function n(e){e.find(F+", ."+D).find(R+":not([data-popupTrigger])").each(function(){var e=t(this),i=e.find("div[data-popup]").eq(0);e.attr("data-popupTrigger","yes");var o="mfp-image";if("iframe"==i.data("type"))o="mfp-iframe";else if("inline"==i.data("type"))o="mfp-inline";else if("ajax"==i.data("type"))o="mfp-ajax";else if("link"==i.data("type"))o="mfp-link";else if("blanklink"==i.data("type"))o="mfp-blanklink";var n=e.find(".wpape-lightbox").addBack(".wpape-lightbox");n.attr("data-mfp-src",i.data("popup")).addClass(o);if(i.attr("title")!=a)n.attr("mfp-title",i.attr("title"))})}function s(e,i){function o(e){var i=t(e.img),o=i.parents(".image-with-dimensions");if(o[0]!=a)if(e.isLoaded)i.fadeIn(400,function(){o.removeClass("image-with-dimensions")});else{o.removeClass("image-with-dimensions");i.hide();o.addClass("broken-image-here")}}e.find(F).find(R+":not([data-imageconverted])").each(function(){var o=t(this),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0),r=n.data("thumbnail");if(n[0]==a){n=s;r=s.data("popup")}if(0==i&&0==e.data("settings").waitForAllThumbsNoMatterWhat)if(n.data("width")==a&&n.data("height")==a);else return;o.attr("data-imageconverted","yes");var l=n.attr("title");if(l==a)l=r;var d=t('<img style="margin:auto;" alt="'+l+'" title="'+l+'" src="'+r+'" />');if(1==i){d.attr("data-dont-wait-for-me","yes");n.addClass("image-with-dimensions");if(e.data("settings").waitUntilThumbLoads)d.hide()}n.addClass("wpape-img-thumbnail-container").prepend(d)});if(1==i)e.find(".image-with-dimensions").imagesLoadedMB().always(function(e){for(index in e.images)o(e.images[index])}).progress(function(e,t){o(t)})}function r(e){e.find(F).each(function(){var i=t(this),o=i.find(R),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0);if(n[0]==a)n=s;var r=i.css("display");if("none"==r)i.css("margin-top",99999999999999).show();var l=2*e.data("settings").borderSize;o.width(n.width()-l);o.height(n.height()-l);if("none"==r)i.css("margin-top",0).hide()})}function l(e){e.find(F).find(R).each(function(){var i=t(this),o=i.find("div[data-thumbnail]").eq(0),n=i.find("div[data-popup]").eq(0);if(o[0]==a)o=n;var s=parseFloat(o.data("width")),r=parseFloat(o.data("height")),l=i.parents(F).width()-e.data("settings").horizontalSpaceBetweenBoxes,d=r*l/s;o.css("width",l);if(o.data("width")!=a||o.data("height")!=a)o.css("height",Math.floor(d))})}function d(e,i,o){var n,s=e.find(F);if("auto"==i)if(!1)n=100/o+"%";else n=Math.floor((e.width()-1)/o);else n=i;e.find(".wpape-imges-grid-sizer").css("width",n);s.each(function(e){var i=t(this),s=i.data("columns");if(s!=a&&parseInt(o)>=parseInt(s))if(!1)i.css("width",parseFloat(100/o)*s+"%");else i.css("width",n*parseInt(s));else if(!1)i.css("width",100/o+"%");else i.css("width",n)})}function f(){var t=e,a="inner";if(!("innerWidth"in e)){a="client";t=document.documentElement||document.body}return{width:t[a+"Width"],height:t[a+"Height"]}}function p(e){var t=!1;for(var a in e.data("settings").resolutions){var i=e.data("settings").resolutions[a];if(i.maxWidth>=f().width){d(e,i.columnWidth,i.columns);t=!0;break}}if(0==t)d(e,e.data("settings").columnWidth,e.data("settings").columns)}function c(e){var a=t('<div class="wpape-img-container"></div').css({"margin-left":e.data("settings").horizontalSpaceBetweenBoxes,"margin-bottom":e.data("settings").verticalSpaceBetweenBoxes});e.find(F+":not([data-wrapper-added])").attr("data-wrapper-added","yes").wrapInner(a)}function h(e){if(0!=e.data("settings").thumbnailOverlay){var i=e.find(F+":not([data-set-overlay-for-hover-effect])").attr("data-set-overlay-for-hover-effect","yes");i.find(".thumbnail-overlay").wrapInner("<div class='aligment'><div class='aligment'></div></div>");i.each(function(){var i=t(this),o=i.find(R),n=e.data("settings").overlayEffect;if(o.data("overlay-effect")!=a)n=o.data("overlay-effect");if("push-up"==n||"push-down"==n||"push-up-100%"==n||"push-down-100%"==n){var s=o.find(".wpape-img-thumbnail-container"),r=o.find(".thumbnail-overlay").css("position","relative");if("push-up-100%"==n||"push-down-100%"==n)r.outerHeight(s.outerHeight(!1));var l=r.outerHeight(!1),d=t('<div class="wrapper-for-some-effects"></div');if("push-up"==n||"push-up-100%"==n)r.appendTo(o);else if("push-down"==n||"push-down-100%"==n){r.prependTo(o);d.css("margin-top",-l)}o.wrapInner(d)}else if("reveal-top"==n||"reveal-top-100%"==n){i.addClass("position-reveal-effect");f=i.find(".thumbnail-overlay").css("top",0);if("reveal-top-100%"==n)f.css("height","100%")}else if("reveal-bottom"==n||"reveal-bottom-100%"==n){i.addClass("position-reveal-effect").addClass("position-bottom-reveal-effect");var f=i.find(".thumbnail-overlay").css("bottom",0);if("reveal-bottom-100%"==n)f.css("height","100%")}else if("direction"==n.substr(0,9))i.find(".thumbnail-overlay").css("height","100%");else if("fade"==n){var p=i.find(".thumbnail-overlay").hide();p.css({height:"100%",top:"0",left:"0"});p.find(".fa").css({scale:1.4})}})}}function m(e){e.find(F).each(function(){var i=t(this).find(R),o=e.data("settings").overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");if("direction"==o.substr(0,9))i.find(".thumbnail-overlay").hide()});e.eveMB("layout")}function u(){var e=_.find(F+", ."+D),t=k();e.filter(t).removeClass("hidden-wpape-imges-by-filter").addClass("visible-wpape-imges-by-filter");e.not(t).addClass("hidden-wpape-imges-by-filter").removeClass("visible-wpape-imges-by-filter")}function v(e,t){_.addClass("filtering-isotope");w(e,t);u();g()}function g(){if(x().length>0)T();else M();if(b());}function w(e,t){A[t]=e;_.eveMB({filter:y(A)})}function y(e){for(var t in e)if((o=e[t])==a)e[t]="*";var i="";for(var t in e){var o=e[t];if(""==i)i=t;else if(i.split(",").length<o.split(",").length)i=t}var n=e[i];for(var t in e)if(t!=i)for(var s=e[t].split(","),r=0;r<s.length;r++){for(var l=n.split(","),d=[],f=0;f<l.length;f++){if("*"==l[f]&&"*"==s[r])s[r]="";else{if("*"==s[r])s[r]="";if("*"==l[f])l[f]=""}d.push(l[f]+s[r])}n=d.join(",")}return n}function b(){var e=C().length;if(e<O.minBoxesPerFilter&&B().length>0){I(O.minBoxesPerFilter-e);return!0}return!1}function C(){var e=_.find(F),t=k();if("*"!=t)e=e.filter(t);return e}function x(){return C().not(".wpape-img-loaded")}function k(){var e=_.data("eveMB").options.filter;if(""==e||e==a)e="*";return e}function B(e){var t=_.find("."+D),i=k();if("*"!=i&&e==a)t=t.filter(i);return t}function T(){j.html(O.LoadingWord);j.removeClass("wpape-imges-load-more");j.addClass("wpape-imges-loading")}function L(){H++;T()}function S(){if(0==--H)M()}function M(){j.removeClass("wpape-imges-load-more");j.removeClass("wpape-imges-loading");j.removeClass("wpape-imges-no-more-entries");if(B().length>0){j.html(O.loadMoreWord);j.addClass("wpape-imges-load-more")}else{j.html(O.noMoreEntriesWord);j.addClass("wpape-imges-no-more-entries")}}function I(e,a){if(1!=j.hasClass("wpape-imges-no-more-entries")){L();var i=[];B(a).each(function(a){var o=t(this);if(a+1<=e){o.removeClass(D).addClass(q);o.hide();i.push(this)}});_.eveMB("insert",t(i),function(){S();_.eveMB("layout")})}}function E(e){if(e!=a){var i=_.find("."+q+", ."+D);if(""==e)i.addClass("search-match");else{i.removeClass("search-match");_.find(O.searchTarget).each(function(){var a=t(this),i=a.parents("."+q+", ."+D);if(-1!==a.text().toLowerCase().indexOf(e.toLowerCase()))i.addClass("search-match")})}setTimeout(function(){v(".search-match","search")},100)}}function W(e){var t=e.data("sort-ascending");if(t==a)t=!0;if(e.data("sort-toggle")&&1==e.data("sort-toggle"))e.data("sort-ascending",!t);return t}function z(){if("#!"!=location.hash.substr(0,2))return null;var e=location.href.split("#!")[1];return{hash:e,src:e}}function P(){var e=t.magnificPopup.instance;if(e){var a=z();if(!a&&e.isOpen)e.close();else if(a)if(e.isOpen&&e.currItem&&e.currItem.el.parents(".wpape-imges-container").attr("id")==a.id){if(e.currItem.el.attr("data-mfp-src")!=a.src){var i=null;t.each(e.items,function(e,o){if((o.parsed?o.el:t(o)).attr("data-mfp-src")==a.src){i=e;return!1}});if(null!==i)e.goTo(i)}}else _.filter('[id="'+a.id+'"]').find('.wpape-lightbox[data-mfp-src="'+a.src+'"]').trigger("click")}}var O=t.extend({},t.fn.collagePlus.defaults,o),_=t(i).addClass("wpape-imges-container"),F=".wpape-img",R=".wpape-img-image",q="wpape-img",D="wpape-img-hidden",U=LegModernizr.csstransitions?"transition":"animate",A={},H=0;if("default"==O.overlayEasing)O.overlayEasing="transition"==U?"_default":"swing";var j=t('<div class="wpape-imges-load-more "></div>').insertAfter(_);j.wrap('<div class="wpape_gallery_button  wpape_gallery_button_bottom"></div>');j.addClass(O.loadMoreClass);O.resolutions.sort(function(e,t){return e.maxWidth-t.maxWidth});_.data("settings",O);_.css({"margin-left":-O.horizontalSpaceBetweenBoxes});_.find(F).removeClass(q).addClass(D);var N=t(O.sortContainer).find(O.sort).filter(".selected"),Q=N.attr("data-sort-by"),X=W(N);_.append('<div class="wpape-imges-grid-sizer"></div>');_.eveMB({itemSelector:F,masonry:{columnWidth:".wpape-imges-grid-sizer"},getSortData:O.getSortData,sortBy:Q,sortAscending:X});t.extend(EveMB.prototype,{resize:function(){var e=t(this.element);p(e);l(e);r(e);m(e);M();if(this.isResizeBound&&this.needsResizeLayout())this.layout()}});t.extend(EveMB.prototype,{_setContainerMeasure:function(e,i){if(e!==a){var o=this.size;if(o.isBorderBox)e+=i?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth;e=Math.max(e,0);this.element.style[i?"width":"height"]=e+"px";var n=t(this.element);t.waypoints("refresh");n.addClass("lazy-load-ready");n.removeClass("filtering-isotope")}}});t.extend(EveMB.prototype,{insert:function(e,i){var o=this.addItems(e);if(o.length){var d,f,m=t(this.element),u=m.find("."+D)[0],v=o.length;for(d=0;d<v;d++){f=o[d];if(u!=a)this.element.insertBefore(f.element,u);else this.element.appendChild(f.element)}var g=function(){var e=this._filter(o);this._noTransition(function(){this.hide(e)});for(d=0;d<v;d++)o[d].isLayoutInstant=!0;this.arrange();for(d=0;d<v;d++)delete o[d].isLayoutInstant;this.reveal(e)},w=function(e){var a=t(e.img),i=a.parents("div[data-thumbnail], div[data-popup]");if(0==e.isLoaded){a.hide();i.addClass("broken-image-here")}},y=this;c(m);p(m);l(m);n(m);s(m,!1);m.find("img:not([data-dont-wait-for-me])").imagesLoadedMB().always(function(){if(0==O.waitForAllThumbsNoMatterWhat)s(m,!0);m.find(F).addClass("wpape-img-loaded");g.call(y);r(m);h(m);if("function"==typeof i)i();for(index in y.images){var e=y.images[index];w(e)}}).progress(function(e,t){w(t)})}}});I(O.boxesToLoadStart,!0);j.on("click",function(){I(O.boxesToLoad)});if(O.lazyLoad)_.waypoint(function(e){if(_.hasClass("lazy-load-ready"))if("down"==e&&0==_.hasClass("filtering-isotope")){_.removeClass("lazy-load-ready");I(O.boxesToLoad)}},{context:e,continuous:!0,enabled:!0,horizontal:!1,offset:"bottom-in-view",triggerOnce:!1});var Y=t(O.filterContainer);Y.find(O.filter).on("click",function(e){var i=t(this),o=i.parents(O.filterContainer);o.find(O.filter).removeClass(O.filterContainerSelectClass);i.addClass(O.filterContainerSelectClass);var n=i.attr("data-filter"),s="filter";if(o.data("id")!=a)s=o.data("id");v(n,s);e.preventDefault();if(!j.is(".wpape-imges-no-more-entries"))j.click()});Y.each(function(){var e=t(this),i=e.find(O.filter).filter(".selected");if(i[0]!=a){var o=i.attr("data-filter"),n="filter";if(e.data("id")!=a)n=e.data("id");w(o,n)}});g();E(t(O.search).val());t(O.search).on("keyup",function(){E(t(this).val())});t(O.sortContainer).find(O.sort).on("click",function(e){var a=t(this);a.parents(O.sortContainer).find(O.sort).removeClass("selected");a.addClass("selected");var i=a.attr("data-sort-by");_.eveMB({sortBy:i,sortAscending:W(a)});e.preventDefault()});_.on("mouseenter.hoverdir, mouseleave.hoverdir",R,function(e){if(0!=O.thumbnailOverlay){var i=t(this),o=O.overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");var n=e.type,s=i.find(".wpape-img-thumbnail-container"),r=i.find(".thumbnail-overlay"),l=r.outerHeight(!1);if("push-up"==o||"push-up-100%"==o){d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing);else d.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing)}else if("push-down"==o||"push-down-100%"==o){var d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else d.stop()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing)}else if("reveal-top"==o||"reveal-top-100%"==o)if("mouseenter"===n)s.stop().show()[U]({"margin-top":l},O.overlaySpeed,O.overlayEasing);else s.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else if("reveal-bottom"==o||"reveal-bottom-100%"==o)if("mouseenter"===n)s.stop().show()[U]({"margin-top":-l},O.overlaySpeed,O.overlayEasing);else s.stop()[U]({"margin-top":0},O.overlaySpeed,O.overlayEasing);else if("direction"==o.substr(0,9)){var f=G(i,{x:e.pageX,y:e.pageY});if("direction-top"==o)f=0;else if("direction-bottom"==o)f=2;else if("direction-right"==o)f=1;else if("direction-left"==o)f=3;var p=J(f,i);if("mouseenter"==n){r.css({left:p.from,top:p.to});r.stop().show().fadeTo(0,1,function(){t(this).stop()[U]({left:0,top:0},O.overlaySpeed,O.overlayEasing)})}else if("direction-aware-fade"==o)r.fadeOut(700);else r.stop()[U]({left:p.from,top:p.to},O.overlaySpeed,O.overlayEasing)}else if("fade"==o){if("mouseenter"==n){r.stop().fadeOut(0);r.fadeIn(O.overlaySpeed)}else{r.stop().fadeIn(0);r.fadeOut(O.overlaySpeed)}var c=r.find(".fa");if("mouseenter"==n){c.css({scale:1.4});c[U]({scale:1},200)}else{c.css({scale:1});c[U]({scale:1.4},200)}}}});var G=function(e,t){var a=e.width(),i=e.height(),o=(t.x-e.offset().left-a/2)*(a>i?i/a:1),n=(t.y-e.offset().top-i/2)*(i>a?a/i:1);return Math.round((Math.atan2(n,o)*(180/Math.PI)+180)/90+3)%4},J=function(e,t){var a,i;switch(e){case 0:if(!O.reverse)a=0,i=-t.height();else a=0,i=-t.height();break;case 1:if(!O.reverse)a=t.width(),i=0;else a=-t.width(),i=0;break;case 2:if(!O.reverse)a=0,i=t.height();else a=0,i=-t.height();break;case 3:if(!O.reverse)a=-t.width(),i=0;else a=t.width(),i=0}return{from:a,to:i}},K=".wpape-lightbox[data-mfp-src]";if(O.considerFilteringInPopup)K=F+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src], ."+D+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src]";if(O.showOnlyLoadedBoxesInPopup)K=F+":visible .wpape-lightbox[data-mfp-src]";if(O.magnificPopup){var V={delegate:K,type:"image",removalDelay:200,closeOnContentClick:!1,alignTop:O.alignTop,preload:O.preload,mainClass:"my-mfp-slide-bottom",gallery:{enabled:O.gallery},closeMarkup:'<button title="%title%" class="mfp-close"></button>',titleSrc:"title",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"}},markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar" style="margin-top:4px;"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},callbacks:{change:function(){var i=t(this.currItem.el);if(i.is(".mfp-link")){e.location.href=t(this.currItem).attr("src");return!1}if(i.is(".mfp-blanklink")){e.open(t(this.currItem).attr("src"));setTimeout(function(){t.magnificPopup.instance.close()},5);return!1}setTimeout(function(){var e="";if(i.attr("mfp-title")!=a&&!O.hideTitle)t(".mfp-title").html(i.attr("mfp-title"));else t(".mfp-title").html("");var o=i.attr("data-mfp-src");e="";if(O.hideSourceImage)e=e+' <a class="image-source-link" href="'+o+'" target="_blank"></a>';var n=location.href,s=(location.href.replace(location.hash,""),i.attr("mfp-title")),r=n;t(".mfp-img").attr("alt",s);var l="";if(O.twitter)l+="<div class='wpape-imges-twitter fab fa-twitter' data-url='"+r+"'  data-title='"+s+"' ></div>";if(O.facebook)l+="<div class='wpape-imges-facebook fab fa-facebook' data-url='"+r+"'></div>";if(O.googleplus)l+="<div class='wpape-imges-googleplus fab fa-google-plus'  data-src="+o+" data-url='"+r+"'></div>";l=l?"<div class='wpape-imges-social-container'>"+l+"</div>":"";var d=t(".mfp-title").html();t(".mfp-title").html(d+l+e)},5);if(O.deepLinking)location.hash="#!"+i.attr("data-mfp-src")},beforeOpen:function(){if(1==O.touch)t("body").swipe("enable");this.container.data("scrollTop",parseInt(t(e).scrollTop()))},open:function(){t("html, body").scrollTop(this.container.data("scrollTop"))},close:function(){if(1==O.touch)t("body").swipe("disable");if(O.deepLinking)e.location.hash="#!"}}};t.extend(V,O.lightboxOptions);_.magnificPopup(V)}if(O.deepLinking){var Z=z();if(Z)_.find('.wpape-lightbox[data-mfp-src="'+Z.src+'"]').trigger("click");if(e.addEventListener)e.addEventListener("hashchange",P,!1);else if(e.attachEvent)e.attachEvent("onhashchange",P)}var $=function(t){e.open(t,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)};t("body").on("click","div.wpape-imges-twitter",function(){var e=t(this),a=encodeURIComponent(e.data("url")),i=encodeURIComponent(e.data("title"));a="https://twitter.com/intent/tweet?url="+encodeURIComponent(e.data("url"))+"&text="+i;$(a)});t("body").on("click","div.wpape-imges-facebook",function(){var e=t(this),a=encodeURIComponent(e.data("url"));$(a="https://www.facebook.com/sharer/sharer.php?u="+a)});t("body").on("click","div.wpape-imges-googleplus",function(){var e=t(this),a=encodeURIComponent(e.data("url"));$(a="https://plus.google.com/share?url="+a)});return this};t.fn.collagePlus=function(a){return this.each(function(o,n){var s=t(this);if(s.data("collagePlus"))return s.data("collagePlus");var r=new i(this,a);s.data("collagePlus",r);t(".thumbnail-overlay a",this).click(function(a){a.preventDefault();var i=t(this).attr("href");if("_blank"==t(this).attr("target"))e.open(i,"_blank");else location.href=i;return!1})})};t.fn.collagePlus.defaults={boxesToLoadStart:8,boxesToLoad:4,minBoxesPerFilter:0,lazyLoad:!0,horizontalSpaceBetweenBoxes:15,verticalSpaceBetweenBoxes:15,columnWidth:"auto",columns:3,borderSize:0,resolutions:[{maxWidth:960,columnWidth:"auto",columns:3},{maxWidth:650,columnWidth:"auto",columns:2},{maxWidth:450,columnWidth:"auto",columns:1}],filterContainer:"#filter",filterContainerSelectClass:"active",filter:"a",search:"",searchTarget:".wpape-img-title",sortContainer:"",sort:"a",getSortData:{title:".wpape-img-title",text:".wpape-img-text"},waitUntilThumbLoads:!0,waitForAllThumbsNoMatterWhat:!1,thumbnailOverlay:!0,overlayEffect:"fade",overlaySpeed:200,overlayEasing:"default",showOnlyLoadedBoxesInPopup:!1,considerFilteringInPopup:!0,deepLinking:!1,gallery:!0,LoadingWord:"Loading...",loadMoreWord:"Load More",loadMoreClass:"",noMoreEntriesWord:"No More Entries",alignTop:!1,preload:[0,2],magnificPopup:!0,hideTitle:!1,hideCounter:!1,lightboxOptions:{},hideSourceImage:!1,twitter:!1,facebook:!1,googleplus:!1,touch:!1}}(window,window.apeQuer||window.jQuery);
/*  
 * Ape Gallery			
 * Author:            	Wp Gallery Ape 
 * Author URI:        	https://wpape.net/
 * License:           	GPL-2.0+
 */

(function($){

	$('.wpape_gallery').on( "click", '.wpape-lightbox.mfp-link', function (event) {
		event.preventDefault();
		window.location.href = $(this).data('mfp-src');
	} );  

	$('.wpape_gallery').each( function(){
		
		var galleryID =$(this).data('options');

		var galleryBlock = $('#Block_'+galleryID);
		galleryBlock.css('display', 'block');
		
		var objectOptions = window[ galleryID ];
		var realOptions = $.extend({ },objectOptions);
		var gallery = $(this).collagePlus( realOptions );   
		var Gallery_Image = '0';

		if( realOptions.touch == 1 && (typeof $("body").swipe === "function") ) { 
			$("body").swipe({
		        swipeLeft: function(event, direction, distance, duration, fingerCount){ $(".mfp-arrow-left").magnificPopup("prev"); },
		        swipeRight: function(){ $(".mfp-arrow-right").magnificPopup("next"); },
		        threshold: 50
		    });
		    $("body").swipe("disable");
		}
		if( apeGalleryDelay != undefined && apeGalleryDelay > 0 ){
			setTimeout(function(){
				Gallery_Image = 1;
				gallery.eveMB('resize'); 
			}, apeGalleryDelay);
		}
	});
})( window.apeQuer || window.jQuery );