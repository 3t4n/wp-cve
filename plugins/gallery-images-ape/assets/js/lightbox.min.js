/*! Magnific Popup - v1.0.0 - 2015-01-03
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2015 Dmitry Semenov; */
!function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else e(window.apeQuer||window.jQuery||window.Zepto)}(function(e){var t,i,n,o,r,a,s=function(){},l=!!window.jQuery,f=e(window),c=function(e,i){t.ev.on("mfp"+e+".mfp",i)},p=function(t,i,n,o){var r=document.createElement("div");r.className="mfp-"+t;if(n)r.innerHTML=n;if(!o){r=e(r);if(i)r.appendTo(i)}else if(i)i.appendChild(r);return r},u=function(i,n){t.ev.triggerHandler("mfp"+i,n);if(t.st.callbacks){i=i.charAt(0).toLowerCase()+i.slice(1);if(t.st.callbacks[i])t.st.callbacks[i].apply(t,e.isArray(n)?n:[n])}},d=function(i){if(i!==a||!t.currTemplate.closeBtn){t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose));a=i}return t.currTemplate.closeBtn},m=function(){if(!e.magnificPopup.instance){(t=new s).init();e.magnificPopup.instance=t}},g=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};s.prototype={constructor:s,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7.");t.isIE8=-1!==i.indexOf("MSIE 8.");t.isLowIE=t.isIE7||t.isIE8;t.isAndroid=/android/gi.test(i);t.isIOS=/iphone|ipad|ipod/gi.test(i);t.supportsTransition=g();t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);n=e(document);t.popupsCache={}},open:function(i){var o;if(!1===i.isObj){t.items=i.items.toArray();t.index=0;var a,s=i.items;for(o=0;o<s.length;o++){if((a=s[o]).parsed)a=a.el[0];if(a===i.el[0]){t.index=o;break}}}else{t.items=e.isArray(i.items)?i.items:[i.items];t.index=i.index||0}if(!t.isOpen){t.types=[];r="";if(i.mainEl&&i.mainEl.length)t.ev=i.mainEl.eq(0);else t.ev=n;if(i.key){if(!t.popupsCache[i.key])t.popupsCache[i.key]={};t.currTemplate=t.popupsCache[i.key]}else t.currTemplate={};t.st=e.extend(!0,{},e.magnificPopup.defaults,i);t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos;if(t.st.modal){t.st.closeOnContentClick=!1;t.st.closeOnBgClick=!1;t.st.showCloseBtn=!1;t.st.enableEscapeKey=!1}if(!t.bgOverlay){t.bgOverlay=p("bg").on("click.mfp",function(){t.close()});t.wrap=p("wrap").attr("tabindex",-1).on("click.mfp",function(e){if(t._checkIfClose(e.target))t.close()});t.container=p("container",t.wrap)}t.contentContainer=p("content");if(t.st.preloader)t.preloader=p("preloader",t.container,t.st.tLoading);var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var m=l[o];m=m.charAt(0).toUpperCase()+m.slice(1);t["init"+m].call(t)}u("BeforeOpen");if(t.st.showCloseBtn)if(!t.st.closeBtnInside)t.wrap.append(d());else{c("MarkupParse",function(e,t,i,n){i.close_replaceWith=d(n.type)});r+=" mfp-close-btn-in"}if(t.st.alignTop)r+=" mfp-align-top";if(t.fixedContentPos)t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY});else t.wrap.css({top:f.scrollTop(),position:"absolute"});if(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)t.bgOverlay.css({height:n.height(),position:"absolute"});if(t.st.enableEscapeKey)n.on("keyup.mfp",function(e){if(27===e.keyCode)t.close()});f.on("resize.mfp",function(){t.updateSize()});if(!t.st.closeOnContentClick)r+=" mfp-auto-cursor";if(r)t.wrap.addClass(r);var g=t.wH=f.height(),h={};if(t.fixedContentPos)if(t._hasScrollBar(g)){var v=t._getScrollbarSize();if(v)h.marginRight=v}if(t.fixedContentPos)if(!t.isIE7)h.overflow="hidden";else e("body, html").css("overflow","hidden");var C=t.st.mainClass;if(t.isIE7)C+=" mfp-ie7";if(C)t._addClassToMFP(C);t.updateItemHTML();u("BuildControls");e("html").css(h);t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body));t._lastFocusedEl=document.activeElement;setTimeout(function(){if(t.content){t._addClassToMFP("mfp-ready");t._setFocus()}else t.bgOverlay.addClass("mfp-ready");n.on("focusin.mfp",t._onFocusIn)},16);t.isOpen=!0;t.updateSize(g);u("Open");return i}else t.updateItemHTML()},close:function(){if(t.isOpen){u("BeforeClose");t.isOpen=!1;if(t.st.removalDelay&&!t.isLowIE&&t.supportsTransition){t._addClassToMFP("mfp-removing");setTimeout(function(){t._close()},t.st.removalDelay)}else t._close()}},_close:function(){u("Close");var i="mfp-removing mfp-ready ";t.bgOverlay.detach();t.wrap.detach();t.container.empty();if(t.st.mainClass)i+=t.st.mainClass+" ";t._removeClassFromMFP(i);if(t.fixedContentPos){var o={marginRight:""};if(t.isIE7)e("body, html").css("overflow","");else o.overflow="";e("html").css(o)}n.off("keyup.mfp focusin.mfp");t.ev.off(".mfp");t.wrap.attr("class","mfp-wrap").removeAttr("style");t.bgOverlay.attr("class","mfp-bg");t.container.attr("class","mfp-container");if(t.st.showCloseBtn&&(!t.st.closeBtnInside||!0===t.currTemplate[t.currItem.type]))if(t.currTemplate.closeBtn)t.currTemplate.closeBtn.detach();if(t._lastFocusedEl)e(t._lastFocusedEl).focus();t.currItem=null;t.content=null;t.currTemplate=null;t.prevHeight=0;u("AfterClose")},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n);t.wH=n}else t.wH=e||f.height();if(!t.fixedContentPos)t.wrap.css("height",t.wH);u("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach();if(t.content)t.content.detach();if(!i.parsed)i=t.parseEl(t.index);var n=i.type;u("BeforeChange",[t.currItem?t.currItem.type:"",n]);t.currItem=i;if(!t.currTemplate[n]){var r=t.st[n]?t.st[n].markup:!1;u("FirstMarkupParse",r);if(r)t.currTemplate[n]=e(r);else t.currTemplate[n]=!0}if(o&&o!==i.type)t.container.removeClass("mfp-"+o+"-holder");var a=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(a,n);i.preloaded=!0;u("Change",i);o=i.type;t.container.prepend(t.contentContainer);u("AfterChange")},appendContent:function(e,i){t.content=e;if(e)if(t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]){if(!t.content.find(".mfp-close").length)t.content.append(d())}else t.content=e;else t.content="";u("BeforeAppend");t.container.addClass("mfp-"+i+"-holder");t.contentContainer.append(t.content)},parseEl:function(i){var n,o=t.items[i];if(o.tagName)o={el:e(o)};else{n=o.type;o={data:o,src:o.src}}if(o.el){for(var r=t.types,a=0;a<r.length;a++)if(o.el.hasClass("mfp-"+r[a])){n=r[a];break}o.src=o.el.attr("data-mfp-src");if(!o.src)o.src=o.el.attr("href")}o.type=n||t.st.type||"inline";o.index=i;o.parsed=!0;t.items[i]=o;u("ElementParse",o);return t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this;t._openClick(n,e,i)};if(!i)i={};var o="click.magnificPopup";i.mainEl=e;if(i.items){i.isObj=!0;e.off(o).on(o,n)}else{i.isObj=!1;if(i.delegate)e.off(o).on(o,i.delegate,n);else{i.items=e;e.off(o).on(o,n)}}},_openClick:function(i,n,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||2!==i.which&&!i.ctrlKey&&!i.metaKey){var r=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(f.width()<r)return!0;if(i.type){i.preventDefault();if(t.isOpen)i.stopPropagation()}o.el=e(i.mfpEl);if(o.delegate)o.items=n.find(o.delegate);t.open(o)}},updateStatus:function(e,n){if(t.preloader){if(i!==e)t.container.removeClass("mfp-s-"+i);if(!n&&"loading"===e)n=t.st.tLoading;var o={status:e,text:n};u("UpdateStatus",o);e=o.status;n=o.text;t.preloader.html(n);t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});t.container.addClass("mfp-s-"+e);i=e}},_checkIfClose:function(i){if(!e(i).hasClass("mfp-prevent-close")){var n=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(n&&o)return!0;else{if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i!==t.content[0]&&!e.contains(t.content[0],i)){if(o)if(e.contains(document,i))return!0}else if(n)return!0}return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e);t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e);t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||f.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){if(i.target!==t.wrap[0]&&!e.contains(t.wrap[0],i.target)){t._setFocus();return!1}},_parseMarkup:function(t,i,n){var o;if(n.data)i=e.extend(n.data,i);u("MarkupParse",[t,i,n]);e.each(i,function(e,i){if(void 0===i||!1===i)return!0;if((o=e.split("_")).length>1){var n=t.find(".mfp-"+o[0]);if(n.length>0){var r=o[1];if("replaceWith"===r){if(n[0]!==i[0])n.replaceWith(i)}else if("img"===r)if(n.is("img"))n.attr("src",i);else n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />');else n.attr(o[1],i)}}else t.find(".mfp-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(e);t.scrollbarSize=e.offsetWidth-e.clientWidth;document.body.removeChild(e)}return t.scrollbarSize}};e.magnificPopup={instance:null,proto:s.prototype,modules:[],open:function(t,i){m();if(!t)t={};else t=e.extend(!0,{},t);t.isObj=!0;t.index=i||0;return this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){if(i.options)e.magnificPopup.defaults[t]=i.options;e.extend(this.proto,i.proto);this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};e.fn.magnificPopup=function(i){m();var n=e(this);if("string"==typeof i){if("open"===i){var o,r=l?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;if(r.items)o=r.items[a];else{o=n;if(r.delegate)o=o.find(r.delegate);o=o.eq(a)}t._openClick({mfpEl:o},n,r)}else if(t.isOpen)t[i].apply(t,Array.prototype.slice.call(arguments,1))}else{i=e.extend(!0,{},i);if(l)n.data("magnificPopup",i);else n[0].magnificPopup=i;t.addGroup(n,i)}return n};var h,v,C,y=function(){if(C){v.after(C.addClass(h)).detach();C=null}};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline");c("Close.inline",function(){y()})},getInline:function(i,n){y();if(i.src){var o=t.st.inline,r=e(i.src);if(r.length){var a=r[0].parentNode;if(a&&a.tagName){if(!v){h=o.hiddenClass;v=p(h);h="mfp-"+h}C=r.after(v).detach().removeClass(h)}t.updateStatus("ready")}else{t.updateStatus("error",o.tNotFound);r=e("<div>")}i.inlineElement=r;return r}t.updateStatus("ready");t._parseMarkup(n,{},i);return n}}});var w,b=function(){if(w)e(document.body).removeClass(w)},I=function(){b();if(t.req)t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax");w=t.st.ajax.cursor;c("Close.ajax",I);c("BeforeChange.ajax",I)},getAjax:function(i){if(w)e(document.body).addClass(w);t.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,o,r){var a={data:n,xhr:r};u("ParseAjax",a);t.appendContent(e(a.data),"ajax");i.finished=!0;b();t._setFocus();setTimeout(function(){t.wrap.addClass("mfp-ready")},16);t.updateStatus("ready");u("AjaxContentAdded")},error:function(){b();i.finished=i.loadError=!0;t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);t.req=e.ajax(n);return""}}});var x,k=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n)if(e.isFunction(n))return n.call(t,i);else if(i.el)return i.el.attr(n)||"";return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,n=".image";t.types.push("image");c("Open"+n,function(){if("image"===t.currItem.type&&i.cursor)e(document.body).addClass(i.cursor)});c("Close"+n,function(){if(i.cursor)e(document.body).removeClass(i.cursor);f.off("resize.mfp")});c("Resize"+n,t.resizeImage);if(t.isLowIE)c("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img)if(t.st.image.verticalFit){var i=0;if(t.isLowIE)i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10);e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){if(e.img){e.hasSize=!0;if(x)clearInterval(x);e.isCheckingImgSize=!1;u("ImageHasSize",e);if(e.imgHidden){if(t.content)t.content.removeClass("mfp-loading");e.imgHidden=!1}}},findImageSize:function(e){var i=0,n=e.img[0],o=function(r){if(x)clearInterval(x);x=setInterval(function(){if(!(n.naturalWidth>0)){if(i>200)clearInterval(x);if(3===++i)o(10);else if(40===i)o(50);else if(100===i)o(500)}else t._onImageHasSize(e)},r)};o(1)},getImage:function(i,n){var o=0,r=function(){if(i)if(i.img[0].complete){i.img.off(".mfploader");if(i===t.currItem){t._onImageHasSize(i);t.updateStatus("ready")}i.hasSize=!0;i.loaded=!0;u("ImageLoadComplete")}else if(++o<200)setTimeout(r,100);else a()},a=function(){if(i){i.img.off(".mfploader");if(i===t.currItem){t._onImageHasSize(i);t.updateStatus("error",s.tError.replace("%url%",i.src))}i.hasSize=!0;i.loaded=!0;i.loadError=!0}},s=t.st.image,l=n.find(".mfp-img");if(l.length){var f=document.createElement("img");f.className="mfp-img";if(i.el&&i.el.find("img").length)f.alt=i.el.find("img").attr("alt");i.img=e(f).on("load.mfploader",r).on("error.mfploader",a);f.src=i.src;if(l.is("img"))i.img=i.img.clone();if((f=i.img[0]).naturalWidth>0)i.hasSize=!0;else if(!f.width)i.hasSize=!1}t._parseMarkup(n,{title:k(i),img_replaceWith:i.img},i);t.resizeImage();if(i.hasSize){if(x)clearInterval(x);if(i.loadError){n.addClass("mfp-loading");t.updateStatus("error",s.tError.replace("%url%",i.src))}else{n.removeClass("mfp-loading");t.updateStatus("ready")}return n}t.updateStatus("loading");i.loading=!0;if(!i.hasSize){i.imgHidden=!0;n.addClass("mfp-loading");t.findImageSize(i)}return n}}});var T,E=function(){if(void 0===T)T=void 0!==document.createElement("p").style.MozTransform;return T};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var o,r,a=i.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=n;t.css(o);return t},l=function(){t.content.css("visibility","visible")};c("BuildControls"+n,function(){if(t._allowZoom()){clearTimeout(o);t.content.css("visibility","hidden");if(!(e=t._getItemToZoom())){l();return}(r=s(e)).css(t._getOffset());t.wrap.append(r);o=setTimeout(function(){r.css(t._getOffset(!0));o=setTimeout(function(){l();setTimeout(function(){r.remove();e=r=null;u("ZoomAnimationEnded")},16)},a)},16)}});c("BeforeClose"+n,function(){if(t._allowZoom()){clearTimeout(o);t.st.removalDelay=a;if(!e){if(!(e=t._getItemToZoom()))return;r=s(e)}r.css(t._getOffset(!0));t.wrap.append(r);t.content.css("visibility","hidden");setTimeout(function(){r.css(t._getOffset())},16)}});c("Close"+n,function(){if(t._allowZoom()){l();if(r)r.remove();e=null}})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){if(t.currItem.hasSize)return t.currItem.img;else return!1},_getOffset:function(i){var n;if(i)n=t.currItem.img;else n=t.st.zoom.opener(t.currItem.el||t.currItem);var o=n.offset(),r=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:n.width(),height:(l?n.innerHeight():n[0].offsetHeight)-a-r};if(E())s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)";else{s.left=o.left;s.top=o.top}return s}}});var _=function(e){if(t.currTemplate.iframe){var i=t.currTemplate.iframe.find("iframe");if(i.length){if(!e)i[0].src="//about:blank";if(t.isIE8)i.css("display",e?"block":"none")}}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe");c("BeforeChange",function(e,t,i){if(t!==i)if("iframe"===t)_();else if("iframe"===i)_(!0)});c("Close.iframe",function(){_()})},getIframe:function(i,n){var o=i.src,r=t.st.iframe;e.each(r.patterns,function(){if(o.indexOf(this.index)>-1){if(this.id)if("string"==typeof this.id)o=o.substr(o.lastIndexOf(this.id)+this.id.length,o.length);else o=this.id.call(this,o);o=this.src.replace("%id%",o);return!1}});var a={};if(r.srcAction)a[r.srcAction]=o;t._parseMarkup(n,a,i);t.updateStatus("ready");return n}}});var P=function(e){var i=t.items.length;if(e>i-1)return e-i;else if(e<0)return i+e;return e},S=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,o=".mfp-gallery",a=Boolean(e.fn.mfpFastClick);t.direction=!0;if(!i||!i.enabled)return!1;r+=" mfp-gallery";c("Open"+o,function(){if(i.navigateByImgClick)t.wrap.on("click"+o,".mfp-img",function(){if(t.items.length>1){t.next();return!1}});n.on("keydown"+o,function(e){if(37===e.keyCode)t.prev();else if(39===e.keyCode)t.next()})});c("UpdateStatus"+o,function(e,i){if(i.text)i.text=S(i.text,t.currItem.index,t.items.length)});c("MarkupParse"+o,function(e,n,o,r){var a=t.items.length;o.counter=a>1?S(i.tCounter,r.index,a):""});c("BuildControls"+o,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,o=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),r=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),s=a?"mfpFastClick":"click";o[s](function(){t.prev()});r[s](function(){t.next()});if(t.isIE7){p("b",o[0],!1,!0);p("a",o[0],!1,!0);p("b",r[0],!1,!0);p("a",r[0],!1,!0)}t.container.append(o.add(r))}});c("Change"+o,function(){if(t._preloadTimeout)clearTimeout(t._preloadTimeout);t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages();t._preloadTimeout=null},16)});c("Close"+o,function(){n.off(o);t.wrap.off("click"+o);if(t.arrowLeft&&a)t.arrowLeft.add(t.arrowRight).destroyMfpFastClick();t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0;t.index=P(t.index+1);t.updateItemHTML()},prev:function(){t.direction=!1;t.index=P(t.index-1);t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index;t.index=e;t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){i=P(i);if(!t.items[i].preloaded){var n=t.items[i];if(!n.parsed)n=t.parseEl(i);u("LazyLoad",n);if("image"===n.type)n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0;n.loadError=!0;u("LazyLoadError",n)}).attr("src",n.src);n.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;if((i=!isNaN(i)?i:i())>1){c("ImageHasSize.retina",function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})});c("ElementParse.retina",function(t,n){n.src=e.replaceSrc(n,i)})}}}}});!function(){var t="ontouchstart"in window,i=function(){f.off("touchmove"+n+" touchend"+n)},n=".mfpFastClick";e.fn.mfpFastClick=function(o){return e(this).each(function(){var r,a=e(this);if(t){var s,l,c,p,u,d;a.on("touchstart"+n,function(e){p=!1;d=1;u=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];l=u.clientX;c=u.clientY;f.on("touchmove"+n,function(e){u=e.originalEvent?e.originalEvent.touches:e.touches;d=u.length;u=u[0];if(Math.abs(u.clientX-l)>10||Math.abs(u.clientY-c)>10){p=!0;i()}}).on("touchend"+n,function(e){i();if(!(p||d>1)){r=!0;e.preventDefault();clearTimeout(s);s=setTimeout(function(){r=!1},1e3);o()}})})}a.on("click"+n,function(){if(!r)o()})})};e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+n+" click"+n);if(t)f.off("touchmove"+n+" touchend"+n)}}();m()});