{"version":3,"file":"admin/image-upload.min.js","mappings":"AAOAA,OAAQC,UAAWC,OAAO,SAAUC,GAEnCA,EAAGF,UAAWG,GAAI,QAAS,+BAA+B,SAAUC,GACnEA,EAAMC,iBAEN,IAAIC,EAAaJ,EAAGK,MAAOC,QAAS,6BAEpCF,EAAWG,KAAM,kFAAmFC,YAAa,wBACjHJ,EAAWG,KAAM,sEAAuEE,SAAU,wBAGlGL,EAAWG,KAAM,8BAA+BG,IAAK,IACrDN,EAAWG,KAAM,+BAAgCG,IAAK,IAEtDN,EAAWG,KAAM,+BAAgCI,KAAM,OAAQ,WAIhEX,EAAGF,UAAWG,GAAI,QAAS,+BAA+B,SAAUC,GACnEA,EAAMC,iBAEN,IAAIS,EAAYZ,EAAGK,MAAOC,QAAS,6BAA8BC,KAAM,kCACnEM,EAAWb,EAAGK,MAAOC,QAAS,6BAA8BC,KAAM,8BAClEO,EAAmBC,GAAGC,MAAMC,OAAOH,iBAAmBC,GAAGC,QACzDE,EAAelB,EAAGK,MAEtBS,EAAiBb,GAAI,UAAU,WAC9B,IAAIkB,EAAmBL,EAAiBM,QAAQC,IAAI,aAAaC,QAAQC,SAGzEX,EAAUL,KAAM,OAAQiB,SAExBZ,EAAUa,QAAS,mBAAmD,IAA3BN,EAAiBO,WAAoE,IAArCP,EAAiBO,MAAMC,UAA4BR,EAAiBO,MAAMC,UAAUC,IAAMT,EAAiBO,MAAMG,KAAKD,IAAMT,EAAiBS,KAAQ,aAEhPhB,EAAUJ,YAAa,wBAEvBK,EAASH,IAAKS,EAAiBW,IAG/BZ,EAAaa,SAAStB,SAAU,2BAGjCK,EAAiBkB","sources":["webpack://embed-privacy/./assets/js/admin/image-upload.js"],"sourcesContent":["/**\n * Add support for image uploads.\n * \n * @author\tEpiphyt\n * @license\tGPL2\n * @package\tepiphyt\\Embed_Privacy\n */\njQuery( document ).ready( function( $ ) {\n\t// remove image\n\t$( document ).on( 'click', '.embed-privacy-remove-image', function( event ) {\n\t\tevent.preventDefault();\n\t\t\n\t\tvar image_item = $( this ).closest( '.embed-privacy-image-item' );\n\t\t\n\t\timage_item.find( '.embed-privacy-image-input-container, .embed-privacy-image-set-input-container' ).removeClass( 'embed-privacy-hidden' );\n\t\timage_item.find( '.embed-privacy-image-container, .embed-privacy-image-set-container' ).addClass( 'embed-privacy-hidden' );\n\t\t\n\t\t// reset value\n\t\timage_item.find( '.embed-privacy-image-input' ).val( '' );\n\t\timage_item.find( '.embed-privacy-upload-input' ).val( '' );\n\t\t// reset type\n\t\timage_item.find( '.embed-privacy-upload-input' ).attr( 'type', 'file' );\n\t} );\n\t\n\t// upload functionality single image\n\t$( document ).on( 'click', '.embed-privacy-image-upload', function( event ) {\n\t\tevent.preventDefault();\n\t\t\n\t\tvar container = $( this ).closest( '.embed-privacy-image-item' ).find( '.embed-privacy-image-container' );\n\t\tvar id_field = $( this ).closest( '.embed-privacy-image-item' ).find( '.embed-privacy-image-input' );\n\t\tvar meta_image_frame = wp.media.frames.meta_image_frame = wp.media();\n\t\tvar upload_field = $( this );\n\t\t\n\t\tmeta_image_frame.on( 'select', function() {\n\t\t\tvar media_attachment = meta_image_frame.state().get('selection').first().toJSON();\n\t\t\t\n\t\t\t// clear the image container\n\t\t\tcontainer.find( 'img' ).remove();\n\t\t\t// add uploaded/selected image\n\t\t\tcontainer.prepend( '<img src=\"' + ( typeof media_attachment.sizes !== 'undefined' ? typeof media_attachment.sizes.thumbnail !== 'undefined' ? media_attachment.sizes.thumbnail.url : media_attachment.sizes.full.url : media_attachment.url ) + '\" alt=\"\">' );\n\t\t\t// don't hide the container anymore\n\t\t\tcontainer.removeClass( 'embed-privacy-hidden' );\n\t\t\t// store attachment ID\n\t\t\tid_field.val( media_attachment.id );\n\t\t\t\n\t\t\t// hide upload field\n\t\t\tupload_field.parent().addClass( 'embed-privacy-hidden' );\n\t\t} );\n\t\t\n\t\tmeta_image_frame.open();\n\t} );\n} );\n"],"names":["jQuery","document","ready","$","on","event","preventDefault","image_item","this","closest","find","removeClass","addClass","val","attr","container","id_field","meta_image_frame","wp","media","frames","upload_field","media_attachment","state","get","first","toJSON","remove","prepend","sizes","thumbnail","url","full","id","parent","open"],"sourceRoot":""}