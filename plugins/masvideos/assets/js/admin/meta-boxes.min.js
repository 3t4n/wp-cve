jQuery(function(a){!function e(){a("#tiptip_holder").removeAttr("style"),a("#tiptip_arrow").removeAttr("style"),a(".tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})}(),a("#titlediv").find("#title").keyup(function(e){if("9"===(e.keyCode||e.which)&&0<a("#masvideos-coupon-description").length)return e.stopPropagation(),a("#masvideos-coupon-description").focus(),!1}),a(".masvideos-metaboxes-wrapper").on("click",".masvideos-metabox > h3",function(){a(this).parent(".masvideos-metabox").toggleClass("closed").toggleClass("open")}),a(document.body).on("masvideos-init-tabbed-panels",function(){a("ul.masvideos-tabs").show(),a("ul.masvideos-tabs a").click(function(e){e.preventDefault();var t=a(this).closest("div.panel-wrap");a("ul.masvideos-tabs li",t).removeClass("active"),a(this).parent().addClass("active"),a("div.panel",t).hide(),a(a(this).attr("href")).show()}),a("div.panel-wrap").each(function(){a(this).find("ul.masvideos-tabs li").eq(0).find("a").click()})}).trigger("masvideos-init-tabbed-panels"),a(document.body).on("masvideos-init-datepickers",function(){a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("masvideos-init-datepickers"),a(".masvideos-metaboxes-wrapper").on("click",".masvideos-metabox h3",function(e){a(e.target).filter(":input, option, .sort").length||a(this).next(".masvideos-metabox-content").stop().slideToggle()}).on("click",".expand_all",function(){return a(this).closest(".masvideos-metaboxes-wrapper").find(".masvideos-metabox > .masvideos-metabox-content").show(),!1}).on("click",".close_all",function(){return a(this).closest(".masvideos-metaboxes-wrapper").find(".masvideos-metabox > .masvideos-metabox-content").hide(),!1}),a(".masvideos-metabox.closed").each(function(){a(this).find(".masvideos-metabox-content").hide()}),a(".show_hide_select").on("change",function(){var e=a(this).val(),t=a(this).parents(".options_group");t.find(".hide").hide(),t.find(".show_if_"+e).show()}).change(),a(".upload_image_id").val()||a(".masvideos_remove_image_button").hide(),a(document).on("click",".masvideos_upload_image_button",function(e){var t=a(this),i=a(this).parent(".form-field").attr("id");if(void 0===o)var o;e.preventDefault(),o||(o=wp.media.frames.downloadable_file=wp.media({title:"Choose an image",button:{text:"Use image"},library:{type:["image"]},multiple:!1})).on("select",function(){attachment=o.state().get("selection").first().toJSON(),a("#"+i+" .upload_image_id").val(attachment.id),a("#"+i+" img.upload_image_preview").attr("src",attachment.url),a("#"+i+" .masvideos_remove_image_button").show(),t.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1)}),o.open()}),a(document).on("click",".masvideos_remove_image_button",function(e){var t=a(this),i=a(this).parent(".form-field").attr("id");return a("#"+i+" img.upload_image_preview").attr("src",a("#"+i+" img.upload_image_preview").data("placeholder-src")),a("#"+i+" .upload_image_id").val(""),a("#"+i+" .masvideos_remove_image_button").hide(),t.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1),!1}),a(".upload_video_id").val()||a(".masvideos_remove_video_button").hide(),a(document).on("click",".masvideos_upload_video_button",function(e){var t=a(this),i=a(this).parent(".form-field").attr("id");if(void 0===o)var o;e.preventDefault(),o||(o=wp.media.frames.downloadable_file=wp.media({title:"Choose an video",button:{text:"Use video"},library:{type:["video"]},multiple:!1})).on("select",function(){attachment=o.state().get("selection").first().toJSON(),a("#"+i+" .upload_video_id").val(attachment.id),a("#"+i+" .masvideos_remove_video_button").show(),t.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1)}),o.open()}),a(document).on("click",".masvideos_remove_video_button",function(e){var t=a(this),i=a(this).parent(".form-field").attr("id");return a("#"+i+" div.wp-video").remove(),a("#"+i+" .upload_video_id").val(""),a("#"+i+" .masvideos_remove_video_button").hide(),t.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1),!1})});