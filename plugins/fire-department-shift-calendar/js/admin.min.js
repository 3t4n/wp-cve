jQuery(function(){jQuery("input.color-picker").wpColorPicker({palettes:["#FFFFFF","#494949","#EA0D00","#1B1BF4","#3CA93C","#FFBA00","#F56200"],change:function(e,t){var r=t.color.toString(),i=jQuery(e.target).parents(".shift-color").prevAll(".shift-label").children("input").val();jQuery(".fd-shift-calendar .shift."+i).each(function(){jQuery(this).css("background",r)});var n=jQuery(this).iris("color",!0).toCSS("rgb");newColorRGB=n.replace(")",", 0.39)"),jQuery("style#current-ripple-color").length&&jQuery("style#current-ripple-color").remove(),jQuery("body").append('<style id="current-ripple-color">.fd-shift-calendar .shift.'+i+".current:before{border-color: "+newColorRGB+";}</style>")}}),jQuery("input.date-picker").datepicker({autoclose:!0,format:"mm/dd/yyyy",todayHighlight:!0,container:"#startdate"}),jQuery("body").on("click","#fd-shifts a.repeater-action.add",function(t){return t.preventDefault(),jQuery(this).parent().parent().find(".wp-color-result").hasClass("wp-picker-open")&&jQuery(this).parent().parent().find(".wp-color-result").trigger("click"),setTimeout(function(){jQuery("#fd-shifts .shift-definitions").length;var t=jQuery("#fd-shifts .shift-definitions:first").clone();t.find(".repeater-action.remove").removeClass("disabled"),t.find("input").each(function(){jQuery(this).val("")}),t.find("select").each(function(){jQuery(this).val("")}),t.find("input:radio").each(function(){jQuery(this).attr("checked",!1)}),t.find("input:checkbox").each(function(){jQuery(this).attr("checked",!1)}),t.find(".wp-picker-container").remove(),t.find(".shift-color").prepend('<input type="text" class="color-picker" placeholder="Color" name="fd_calendar_shifts[1][color]" value="" autocomplete="off">'),function(t){var r=jQuery("#fd-shifts .shift-definitions").length;t.find("input, label").each(function(){var t=jQuery(this);jQuery.each(e,function(e,i){var n=t.attr(i);n&&t.attr(i,n.replace(/fd_calendar_shifts\[\d+\]\[/,"fd_calendar_shifts["+(r+1)+"]["))})})}(t),jQuery("#fd-shifts .shift-definitions:last").after(t),jQuery("input.color-picker").wpColorPicker({palettes:["#FFFFFF","#494949","#EA0D00","#1B1BF4","#3CA93C","#FFBA00","#F56200"]})},100),!1}),jQuery("body").on("click","#fd-shifts a.repeater-action.remove",function(e){e.preventDefault();jQuery(".shift-definitions").length;return jQuery(this).parent().parent().parent().index()>1&&jQuery(this).parent().parent().parent().remove(),!1});var e=["for","id","name"];jQuery("body").on("click","#fd-schedule a.repeater-action.add",function(t){t.preventDefault();jQuery("#fd-schedule .schedule-inputs").length;var r=jQuery("#fd-schedule .schedule-inputs:first").clone();return r.find(".repeater-action.remove").removeClass("disabled"),r.find("input").each(function(){jQuery(this).val("")}),r.find("select").each(function(){jQuery(this).val("")}),r.find("input:radio").each(function(){jQuery(this).attr("checked",!1)}),r.find("input:checkbox").each(function(){jQuery(this).attr("checked",!1)}),function(t){var r=jQuery("#fd-schedule .schedule-inputs").length;t.find("input, label").each(function(){var t=jQuery(this);jQuery.each(e,function(e,i){var n=t.attr(i);n&&t.attr(i,n.replace(/fd_calendar_shift_schedule\[\d+\]\[/,"fd_calendar_shift_schedule["+(r+1)+"]["))})})}(r),jQuery("#fd-schedule .schedule-inputs:last").after(r),!1}),jQuery("body").on("click","#fd-schedule a.repeater-action.remove",function(e){e.preventDefault();jQuery("#fd-schedule .schedule-inputs").length;jQuery(this).parent().parent().parent().index()>1&&jQuery(this).parent().parent().parent().remove();var t="";return jQuery(".schedule-inputs").each(function(){var e=jQuery(this).find(".shift-schedule-crew-on").val(),r=jQuery(this).find(".shift-schedule-crew-off").val();t+=e+r}),jQuery("#schedule_pattern").val(t),!1});e=["for","id","name"];jQuery("#shift-rotation").on("change",function(){var e=jQuery(this).val();"custom"==e?(jQuery(".shift-schedule").removeClass("hidden"),jQuery(".schedule-pattern").addClass("hidden"),jQuery("input.shift-schedule-crew-on").trigger("input")):(jQuery(".shift-schedule").addClass("hidden"),jQuery(".schedule-pattern").removeClass("hidden"),jQuery("#schedule_pattern").val(e))}),jQuery("body").on("input focus","input.shift-schedule-crew-on, input.shift-schedule-crew-off",function(e){var t="";jQuery(".schedule-inputs").each(function(){var e=jQuery(this).find(".shift-schedule-time-on").val(),r=jQuery(this).find(".shift-schedule-time-off").val(),n=jQuery(this).find(".shift-schedule-crew-on").val(),u=jQuery(this).find(".shift-schedule-crew-off").val();if(e>24){var a=r/24;if(n.length<2){var c="";for(i=0;i<a;i++)c+=n;n=c}}if(r>24){a=r/24;if(u.length<2){var s="";for(i=0;i<a;i++)s+=u;u=s}}t+=n+u}),jQuery("#schedule_pattern").val(t)})});