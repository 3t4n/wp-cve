(()=>{var e={703:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},705:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);n&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},738:e=>{"use strict";e.exports=function(e){return e[1]}},804:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(738),o=r.n(n),a=r(705),i=r.n(a)()(o());i.push([e.id,"",""]);const c=i},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],c=0;c<e.length;c++){var l=e[c],s=n.base?l[0]+n.base:l[0],u=a[s]||0,d="".concat(s," ").concat(u);a[s]=u+1;var f=r(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=o(p,n);n.byIndex=c,t.splice(c,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=r(a[i]);t[c].references--}for(var l=n(e,o),s=0;s<a.length;s++){var u=r(a[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{canAddFolders:()=>j,folderHasChildren:()=>le,folderMatchesSearchTerms:()=>se,getChildFolders:()=>M,getFolderBeingEdited:()=>V,getFolderPanelContext:()=>Q,getFolderPanelError:()=>Z,getFolderUsingContextMenuId:()=>H,getFolders:()=>W,getFoldersFilteredBySearchTerms:()=>X,getNavigationError:()=>Y,getNotifications:()=>q,getOrganizationMode:()=>K,getPostIdsToMove:()=>J,getPostType:()=>ee,getScreenState:()=>te,getSearchTerms:()=>re,getSelectedFolder:()=>B,getSelectedFolderId:()=>G,getSelectedFolderIds:()=>z,getSortMode:()=>ne,getState:()=>U,getUserId:()=>oe,getWidth:()=>ae,includeChildren:()=>ue,isAjaxNavEnabled:()=>ge,isBreadcrumbsEnabled:()=>we,isDirty:()=>ie,isFolderDragging:()=>de,isFolderExpanded:()=>ce,isFolderPaneVisible:()=>he,isFolderPanelBusy:()=>fe,isFolderSelected:()=>pe,isNavigating:()=>Ee,isSearch:()=>me,isSearchEnabled:()=>ye,showItemCounts:()=>ve,syncUploadFolderDropdown:()=>be});var t={};r.r(t),r.d(t,{TYPES:()=>Me,addNotification:()=>Ge,deleteNotification:()=>Be,dismissNotification:()=>ze,expandFolder:()=>Ue,fetchFolders:()=>Ve,initInstance:()=>He,instanceAction:()=>yt,moveFolder:()=>pt,movePostsToFolder:()=>ht,saveScreenState:()=>Ze,setExpandedFolders:()=>We,setFolderBeingEditedId:()=>Xe,setFolderPanelContext:()=>ot,setFolderPanelError:()=>at,setFolderPanelMessage:()=>ct,setFolderUsingContextMenuId:()=>Qe,setFolders:()=>nt,setIsFolderDragging:()=>it,setIsFolderPaneVisible:()=>lt,setIsFolderPanelBusy:()=>st,setIsNavigating:()=>ut,setNavigationError:()=>$e,setOrganizationMode:()=>qe,setPostIdsToMove:()=>Ke,setSearchTerms:()=>tt,setSelectedFolderId:()=>Je,setSelectedFolderIds:()=>et,setSortMode:()=>rt,setWidth:()=>Ye,toggleExpanded:()=>dt,unassignFolders:()=>mt,updateSavedScreenState:()=>ft});var n={};r.r(n),r.d(n,{getChildFolders:()=>Nt,getFolders:()=>Ft,getScreenState:()=>Lt});const o=window.wp.element,a=window.wp.data,i=window.wp.dataControls;var c="wicked-folders/state",l="edit",s="delete",u="settings",d="/wicked-folders/v1/",f="organize",p="sort",h="bulk",m="alpha",y="custom";function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=lodash,E=w.isUndefined,b=w.find,_=function(e,t,r){if(-1==e.indexOf(t+"="))e+=-1==e.indexOf("?")?"?":"&",e+=t+"="+r;else{var n=new RegExp(t+"=([^&]*)","gi");e=e.replace(n,t+"="+r)}return!1!==r&&""!=r||(n=new RegExp(t+"=([^&]*)","gi"),e=(e=e.replace(n,"")).replace(/[&]*$/,"")),e},S=function(){return E(window.isRtl)?jQuery("body").hasClass("rtl"):window.isRtl},k=function e(t,r){if(void 0===r)return[];if(r.parent){var n=b(t,{id:r.parent});if(n)return[n].concat(v(e(t,n)))}return[]},x=function e(t,r){if(void 0===r)return[];var n=[];return t.filter((function(e){return e.parent==r.id})).forEach((function(r){n=[].concat(v(n),[r],v(e(t,r)))})),n},R=lodash,O=(R.isNaN,R.isArray),I=R.each,T=(R.find,function(e){var t=jQuery,r=O(e)?e:[e];I(r,(function(e){t('.wp-list-table tr[id="post-'+e+'"]').fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table tr[id="user-'+e+'"]').fadeOut(500,(function(){t(this).remove()}));var r=t('.wp-list-table.plugins .wicked-item[data-object-id="'+e+'"]').closest("tr").attr("data-slug");t('.wp-list-table.plugins tr[data-slug="'+r+'"]').fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table.toplevel_page_gf_edit_forms .wicked-item[data-object-id="'+e+'"]').closest("tr").fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table.gf_entries tr[data-id="'+e+'"]').fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table.tablepress-all-tables tr[data-wf-post-id="'+e+'"]').fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table.wc-orders-list-table-shop_order tr[id="order-'+e+'"]').fadeOut(500,(function(){t(this).remove()})),t('.wp-list-table .wicked-item[data-object-id="'+e+'"]').closest("tr").fadeOut(500,(function(){t(this).remove()}))}))}),F=function(e){return["Wicked_FoldersTerm_Folder","Wicked_Folders\\Term_Folder"].includes(e.type)},L=function(e){return["Wicked_FoldersTerm_Dynamic_Folder","Wicked_Folders\\Term_Dynamic_Folder"].includes(e.type)};function N(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=lodash,P=C.find,D=C.uniqBy,j=function(e,t){return e.instances[t].screenState.canAddFolders},M=function(e,t){var r=B(e,t),n=W(e,t);return x(n,r)},G=function(e,t){return e.instances[t].screenState.folder},B=function(e,t){return e.instances[t].folders.find((function(r){return r.id==e.instances[t].screenState.folder}))},z=function(e,t){return e.instances[t].screenState.selectedFolders},U=function(e,t){return e.instances[t]},V=function(e,t){return e.instances[t].folders.find((function(r){return r.id==e.instances[t].folderBeingEditedId}))},H=function(e,t){return e.instances[t].folderUsingContextMenuId},W=function(e,t){return N(e.instances[t].folders)},X=function(e,t){var r=W(e,t),n=re(e,t),o=[];return n?(r.filter((function(e){return-1!=e.name.toUpperCase().indexOf(n.toUpperCase())})).forEach((function(e){o=[].concat(N(o),[e]),k(r,e).forEach((function(e){P(o,{id:e.id})||(o=[].concat(N(o),[e]))}))})),o=D(o,"id")):r},Q=function(e,t){return e.instances[t].folderPanelContext},Z=function(e,t){return e.instances[t].screenState.folderPanelError},Y=function(e,t){return e.instances[t].screenState.navigationError},q=function(e,t){return e.notifications},K=function(e,t){return e.instances[t].organizationMode},J=function(e,t){return e.instances[t].postIdsToMove},ee=function(e,t){return e.instances[t].postType},te=function(e,t){return e.instances[t].screenState},re=function(e,t){return e.instances[t].searchTerms},ne=function(e,t){return e.instances[t].screenState.sortMode},oe=function(e,t){return e.instances[t].screenState.userId},ae=function(e,t){return e.instances[t].screenState.treePaneWidth},ie=function(e,t){return e.instances[t].screenState.isDirty},ce=function(e,t,r){return e.instances[t].screenState.expandedFolders.includes(r)},le=function(e,t,r){return e.instances[t].folders.filter((function(e){return e.parent==r})).length},se=function(e,t,r){var n=W(e,t),o=P(n,{id:r}),a=re(e,t);return-1!=o.name.toUpperCase().indexOf(a.toUpperCase())},ue=function(e,t){return e.instances[t].screenState.includeChildren},de=function(e,t){return e.instances[t].isFolderDragging},fe=function(e,t){return e.instances[t].screenState.isFolderPanelBusy},pe=function(e,t,r){return e.instances[t].screenState.folder==r},he=function(e,t){return e.instances[t].screenState.isFolderPaneVisible},me=function(e,t){return e.instances[t].searchTerms.trim().length>0},ye=function(e,t){return e.instances[t].screenState.enableSearch},ve=function(e,t){return e.instances[t].screenState.showItemCounts},ge=function(e,t){return e.instances[t].screenState.enableAjaxNav},we=function(e,t){return e.instances[t].screenState.enableBreadcrumbs},Ee=function(e,t){return e.instances[t].screenState.isNavigating},be=function(e,t){return e.instances[t].screenState.syncUploadFolderDropdown};const _e=window.wp.i18n;function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}var ke;function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(){Oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Se(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ie=Oe().mark(Ve),Te=Oe().mark(Ze),Fe=Oe().mark(pt),Le=Oe().mark(ht),Ne=Oe().mark(mt);function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ce=lodash,Pe=Ce.defaults,De=Ce.find,je=Ce.uniqueId,Me=(Ae(ke={ADD_NOTIFICATION:"ADD_NOTIFICATION",DELETE_NOTIFICATION:"DELETE_NOTIFICATION",DISMISS_NOTIFICATION:"DISMISS_NOTIFICATION",EXPAND_FOLDER:"EXPAND_FOLDER"},"EXPAND_FOLDER","EXPAND_FOLDER"),Ae(ke,"INIT_INSTANCE","INIT_INSTANCE"),Ae(ke,"SET_EXPANDED_FOLDERS","SET_EXPANDED_FOLDERS"),Ae(ke,"SET_FOLDERS","SET_FOLDERS"),Ae(ke,"SET_FOLDER_BEING_EDITED_ID","SET_FOLDER_BEING_EDITED_ID"),Ae(ke,"SET_FOLDER_USING_CONTEXT_MENU_ID","SET_FOLDER_USING_CONTEXT_MENU_ID"),Ae(ke,"SET_FOLDER_PANEL_CONTEXT","SET_FOLDER_PANEL_CONTEXT"),Ae(ke,"SET_FOLDER_PANEL_MESSAGE","SET_FOLDER_PANEL_MESSAGE"),Ae(ke,"SET_FOLDER_PANEL_ERROR","SET_FOLDER_PANEL_ERROR"),Ae(ke,"SET_IS_FOLDER_DRAGGING","SET_IS_FOLDER_DRAGGING"),Ae(ke,"SET_IS_FOLDER_PANE_VISIBLE","SET_IS_FOLDER_PANE_VISIBLE"),Ae(ke,"SET_IS_FOLDER_PANEL_BUSY","SET_IS_FOLDER_PANEL_BUSY"),Ae(ke,"SET_IS_NAVIGATING","SET_IS_NAVIGATING"),Ae(ke,"SET_NAVIGATION_ERROR","SET_NAVIGATION_ERROR"),Ae(ke,"SET_ORGANIZATION_MODE","SET_ORGANIZATION_MODE"),Ae(ke,"SET_POST_IDS_TO_MOVE","SET_POST_IDS_TO_MOVE"),Ae(ke,"SET_SELECTED_FOLDER_ID","SET_SELECTED_FOLDER_ID"),Ae(ke,"SET_SELECTED_FOLDER_IDS","SET_SELECTED_FOLDER_IDS"),Ae(ke,"SET_SEARCH_TERMS","SET_SEARCH_TERMS"),Ae(ke,"SET_SORT_MODE","SET_SORT_MODE"),Ae(ke,"SET_WIDTH","SET_WIDTH"),Ae(ke,"TOGGLE_EXPANDED","TOGGLE_EXPANDED"),Ae(ke,"UPDATE_SAVED_SCREEN_STATE","UPDATE_SAVED_SCREEN_STATE"),Ae(ke,"WITH_INSTANCE","WITH_INSTANCE"),ke),Ge=function(e){var t=Pe(e,{title:(0,_e.__)("Success","wicked-folders"),message:"",dismissible:!0,dismissed:!1,autoDismiss:!0,delay:3e3});return t.id=je(),t.autoDismiss&&setTimeout((function(){(0,a.dispatch)(c).dismissNotification(t.id)}),t.delay),{type:Me.ADD_NOTIFICATION,notification:t}},Be=function(e){return{type:Me.DELETE_NOTIFICATION,notificationId:e}},ze=function(e){return setTimeout((function(){(0,a.dispatch)(c).deleteNotification(e)}),500),{type:Me.DISMISS_NOTIFICATION,notificationId:e}},Ue=function(e){return{type:Me.EXPAND_FOLDER,folderId:e}};function Ve(e){var t,r,n;return Oe().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,(0,a.dispatch)(c).instanceAction(e,st,!0),t=(0,a.select)(c).getPostType(e),r=(0,a.select)(c).getSortMode(e),o.next=6,(0,i.apiFetch)({path:"/wicked-folders/v1/folders?post_type=".concat(t,"&sort_mode=").concat(r)});case 6:return n=o.sent,(0,a.dispatch)(c).instanceAction(e,st,!1),o.abrupt("return",{type:Me.WITH_INSTANCE,payload:{action:{type:Me.SET_FOLDERS,folders:n},instanceId:e}});case 11:o.prev=11,o.t0=o.catch(0),console.log("Error fetching folders: ".concat(o.t0.message));case 14:case"end":return o.stop()}}),Ie,null,[[0,11]])}var He=function(e,t){return{type:Me.INIT_INSTANCE,instanceId:e,postType:t}},We=function(e){return{type:Me.SET_EXPANDED_FOLDERS,folderIds:e}},Xe=function(e){return{type:Me.SET_FOLDER_BEING_EDITED_ID,folderId:e}},Qe=function(e){return{type:Me.SET_FOLDER_USING_CONTEXT_MENU_ID,folderId:e}};function Ze(e){var t;return Oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=(0,a.select)(c).getScreenState(e),r.prev=1,r.next=4,(0,i.apiFetch)({path:"/wicked-folders/v1/screen-state",method:"PUT",data:t});case 4:return t=(0,a.select)(c).getScreenState(e),r.abrupt("return",{type:Me.WITH_INSTANCE,payload:{action:{type:Me.UPDATE_SAVED_SCREEN_STATE,state:t},instanceId:e}});case 8:r.prev=8,r.t0=r.catch(1),console.log("Error while saving Wicked Folders state: ".concat(r.t0));case 11:return r.abrupt("return");case 12:case"end":return r.stop()}}),Te,null,[[1,8]])}var Ye=function(e){return{type:Me.SET_WIDTH,width:e}},$e=function(e){return{type:Me.SET_NAVIGATION_ERROR,error:e}},qe=function(e){return{type:Me.SET_ORGANIZATION_MODE,mode:e}},Ke=function(e){return{type:Me.SET_POST_IDS_TO_MOVE,postIds:e}},Je=function(e){return{type:Me.SET_SELECTED_FOLDER_ID,folderId:e}},et=function(e){return{type:Me.SET_SELECTED_FOLDER_IDS,folderIds:e}},tt=function(e){return{type:Me.SET_SEARCH_TERMS,s:e}},rt=function(e){return{type:Me.SET_SORT_MODE,mode:e}},nt=function(e){return{type:Me.SET_FOLDERS,folders:e}},ot=function(e){return{type:Me.SET_FOLDER_PANEL_CONTEXT,context:e}},at=function(e){return{type:Me.SET_FOLDER_PANEL_ERROR,error:e}},it=function(e){return{type:Me.SET_IS_FOLDER_DRAGGING,isDragging:e}},ct=function(e){return{type:Me.SET_FOLDER_PANEL_MESSAGE,message:e}},lt=function(e){return{type:Me.SET_IS_FOLDER_PANE_VISIBLE,isFolderPaneVisible:e}},st=function(e){return{type:Me.SET_IS_FOLDER_PANEL_BUSY,isBusy:e}},ut=function(e){return{type:Me.SET_IS_NAVIGATING,isNavigating:e}},dt=function(e){return{type:Me.TOGGLE_EXPANDED,folderId:e}},ft=function(e){return{type:Me.UPDATE_SAVED_SCREEN_STATE,state:e}};function pt(e,t,r){var n,o,l,s;return Oe().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,n=(0,a.select)(c).getFolders(e),o=De(n,{id:t}),u.next=5,(0,i.apiFetch)({path:"".concat(d,"folders/").concat(t),method:"PUT",data:Re(Re({},o),{},{parent:r})});case 5:return l=u.sent,s=n.map((function(e){return e.id==o.id?l:e})),u.abrupt("return",{type:Me.WITH_INSTANCE,payload:{action:{type:Me.SET_FOLDERS,folders:s},instanceId:e}});case 10:u.prev=10,u.t0=u.catch(0),console.log(u.t0.message);case 13:case"end":return u.stop()}}),Fe,null,[[0,10]])}function ht(e,t,r,n,o){var l,s,u;return Oe().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,l=(0,a.select)(c).getPostType(e),s=(0,a.select)(c).getSortMode(e),f.next=5,(0,i.apiFetch)({path:"".concat(d,"folders/").concat(r,"/assign"),method:"PUT",data:{post_type:l,post_ids:t,sort_mode:s,from_folder_id:n,copy:o}});case 5:return u=f.sent,Ke([]),f.abrupt("return",{type:Me.WITH_INSTANCE,payload:{action:{type:Me.SET_FOLDERS,folders:u},instanceId:e}});case 10:f.prev=10,f.t0=f.catch(0),console.log(f.t0.message);case 13:case"end":return f.stop()}}),Le,null,[[0,10]])}function mt(e,t){var r,n;return Oe().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,r=(0,a.select)(c).getPostType(e),o.next=4,(0,i.apiFetch)({path:"".concat(d,"folders/unassign"),method:"PUT",data:{post_type:r,post_ids:t}});case 4:return n=o.sent,Ke([]),o.abrupt("return",{type:Me.WITH_INSTANCE,payload:{action:{type:Me.SET_FOLDERS,folders:n},instanceId:e}});case 9:o.prev=9,o.t0=o.catch(0),console.log(o.t0.message);case 12:case"end":return o.stop()}}),Ne,null,[[0,9]])}var yt=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a=t.apply(null,n);return{type:Me.WITH_INSTANCE,payload:{action:a,instanceId:e}}};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(){bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==vt(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var _t=bt().mark(Ft),St=bt().mark(Lt),kt=bt().mark(Nt);function xt(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=lodash,It=Ot.forOwn,Tt=Ot.uniqBy;function Ft(e){var t,r,n;return bt().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=[],r=[],n=(0,a.select)(c).getPostType(e),!1!==wickedFoldersSettings.instances[e].folders){o.next=9;break}return o.next=6,(0,i.apiFetch)({path:"/wicked-folders/v1/folders?post_type=".concat(n)});case 6:t=o.sent,o.next=11;break;case 9:t=xt(wickedFoldersSettings.instances[e].folders),wickedFoldersSettings.instances[e].folders=!1;case 11:return It(t,(function(e){return r.push(e)})),o.abrupt("return",yt(e,nt,r));case 13:case"end":return o.stop()}}),_t)}function Lt(e){var t;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,r.prev=1,!1===wickedFoldersSettings.instances[e].state||(t=wt({},wickedFoldersSettings.instances[e].state)),r.abrupt("return",yt(e,ft,t));case 6:r.prev=6,r.t0=r.catch(1),(0,a.dispatch)(c).setError("Error while loading state: ".concat(r.t0.message));case 9:case"end":return r.stop()}}),St,null,[[1,6]])}function Nt(e,t){var r,n,o;return bt().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(r=(0,a.select)(c).getFolders(e),n=(0,a.select)(c).getPostType(e),!r.find((function(e){return e.id==t})).lazy){l.next=9;break}return l.next=6,(0,i.apiFetch)({path:"/wicked-folders/v1/folders/".concat(t,"/children?post_type=").concat(n)});case 6:o=l.sent,r=[].concat(xt(r),xt(o)),r=Tt(r,"id");case 9:return l.abrupt("return",yt(e,nt,r));case 10:case"end":return l.stop()}}),kt)}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt=lodash,zt=Bt.has,Ut=Bt.union,Vt=Me.ADD_NOTIFICATION,Ht=Me.DELETE_NOTIFICATION,Wt=Me.DISMISS_NOTIFICATION,Xt=Me.EXPAND_FOLDER,Qt=Me.INIT_INSTANCE,Zt=Me.SET_FOLDERS,Yt=Me.SET_FOLDER_BEING_EDITED_ID,$t=Me.SET_FOLDER_USING_CONTEXT_MENU_ID,qt=Me.SET_FOLDER_PANEL_CONTEXT,Kt=Me.SET_FOLDER_PANEL_ERROR,Jt=Me.SET_FOLDER_PANEL_MESSAGE,er=Me.SET_EXPANDED_FOLDERS,tr=Me.SET_IS_FOLDER_DRAGGING,rr=Me.SET_IS_FOLDER_PANE_VISIBLE,nr=Me.SET_IS_FOLDER_PANEL_BUSY,or=Me.SET_IS_NAVIGATING,ar=Me.SET_NAVIGATION_ERROR,ir=Me.SET_ORGANIZATION_MODE,cr=Me.SET_POST_IDS_TO_MOVE,lr=Me.SET_SEARCH_TERMS,sr=Me.SET_SELECTED_FOLDER_ID,ur=Me.SET_SELECTED_FOLDER_IDS,dr=Me.SET_SORT_MODE,fr=Me.SET_WIDTH,pr=Me.TOGGLE_EXPANDED,hr=Me.UPDATE_SAVED_SCREEN_STATE,mr=Me.WITH_INSTANCE,yr={instances:{},notifications:[]},vr={folders:[],folderPanelContext:!1,isFolderDragging:!1,postType:!1,postIdsToMove:[],organizationMode:f,searchTerms:"",folderBeingEditedId:!1,folderUsingContextMenuId:!1,screenState:{canAddFolders:!0,folder:!1,enableSearch:!1,enableBreadcrumbs:!1,expandedFolders:[],isFolderPaneVisible:!0,showItemCounts:!0,enableAjaxNav:!0,isDirty:!1,isFolderPanelBusy:!1,isNavigating:!1,navigationError:!1,folderPanelMessage:!1,folderPanelError:!1,screenId:!1,includeChildren:!1,treePaneWidth:292,userId:1,selectedFolders:[],sortMode:m,syncUploadFolderDropdown:!0}},gr=function(e,t){switch(t.type){case Xt:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{expandedFolders:Ut(Ct(e.screenState.expandedFolders),[t.folderId]),isDirty:!0})});case Yt:return Mt(Mt({},e),{},{folderBeingEditedId:t.folderId});case $t:return Mt(Mt({},e),{},{folderUsingContextMenuId:t.folderId});case ar:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{navigationError:t.error})});case ir:return Mt(Mt({},e),{},{organizationMode:t.mode});case cr:return Mt(Mt({},e),{},{postIdsToMove:t.postIds});case lr:return Mt(Mt({},e),{},{searchTerms:t.s});case sr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{folder:t.folderId,isDirty:!0})});case ur:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{selectedFolders:t.folderIds})});case dr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{sortMode:t.mode,isDirty:!0})});case Zt:return Mt(Mt({},e),{},{folders:t.folders});case qt:return Mt(Mt({},e),{},{folderPanelContext:t.context});case Kt:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{folderPanelError:t.error})});case Jt:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{folderPanelMessage:t.message})});case er:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{expandedFolders:t.folderIds,isDirty:!0})});case tr:return Mt(Mt({},e),{},{isFolderDragging:t.isDragging});case rr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{isFolderPaneVisible:t.isFolderPaneVisible,isDirty:!0})});case nr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{isFolderPanelBusy:t.isBusy})});case or:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{isNavigating:t.isNavigating})});case fr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{treePaneWidth:t.width,isDirty:!0})});case pr:return-1==e.screenState.expandedFolders.indexOf(t.folderId)?Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{expandedFolders:[].concat(Ct(e.screenState.expandedFolders),[t.folderId]),isDirty:!0})}):Mt(Mt({},e),{},{screenState:Mt(Mt({},e.screenState),{},{expandedFolders:Ct(e.screenState.expandedFolders.filter((function(e){return e!=t.folderId}))),isDirty:!0})});case hr:return Mt(Mt({},e),{},{screenState:Mt(Mt({},t.state),{},{isDirty:!1})});default:return e}};var wr=(0,o.createContext)(),Er=lodash,br=Er.forOwn,_r=Er.isFunction,Sr=function(e){var t=(0,o.useContext)(wr);return(0,a.useSelect)((function(r){return e.apply(null,[function(e){var n={},o=r(e);return br(o,(function(e,r){n[r]=function(){return e.apply(null,[t].concat(Array.prototype.slice.call(arguments)))}})),n}])}))},kr=function(e){var r=(0,o.useContext)(wr),n={},i=(0,a.useDispatch)(e);return br(t,(function(e,t){_r(e)&&(n[t]=function(){return i.instanceAction.apply(null,[r,e].concat(Array.prototype.slice.call(arguments)))})})),n},xr=r(379),Rr=r.n(xr),Or=r(795),Ir=r.n(Or),Tr=r(569),Fr=r.n(Tr),Lr=r(565),Nr=r.n(Lr),Ar=r(216),Cr=r.n(Ar),Pr=r(589),Dr=r.n(Pr),jr=r(804),Mr={};function Gr(){var e=(0,o.useRef)(),t=Sr((function(e){return{width:(0,e(c).getWidth)()}})).width,r=kr(c).setWidth;return(0,o.useEffect)((function(){var t=jQuery,n=t(e.current);n.resizable({resizeHeight:!1,handles:"e",minWidth:150,containment:t("#wpcontent"),resize:function(e,t){r(t.size.width)},stop:function(e,t){r(t.size.width)}}),S()&&n.resizable("disable")})),(0,o.useEffect)((function(){document.documentElement.style.setProperty("--wicked-folders-tree-pane-width",t+"px"),document.documentElement.style.setProperty("--wicked-folders-modal-tree-pane-width",t+"px")}),[t]),React.createElement("div",{className:"wicked-resizer ui-resizable",ref:e})}function Br(e){var t=e.children;return React.createElement("div",{className:"wicked-content"},t)}function zr(e){return e.hidden,React.createElement("h2",{className:"wicked-title"},(0,_e.__)("Folders","wicked-folders"))}Mr.styleTagTransform=Dr(),Mr.setAttributes=Nr(),Mr.insert=Fr().bind(null,"head"),Mr.domAPI=Ir(),Mr.insertStyleElement=Cr(),Rr()(jr.Z,Mr),jr.Z&&jr.Z.locals&&jr.Z.locals;const Ur=React.createElement("svg",{width:"7px",height:"13px",viewBox:"0 0 7 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(0.312500, 0.691360)",fill:"#2271B1",fillRule:"nonzero"},React.createElement("path",{d:"M0,10.8345095 C0,11.5305375 0.84152021,11.8791237 1.33365313,11.3869145 L6.3595048,6.36106287 C6.66460356,6.05600226 6.66460356,5.5613135 6.3595048,5.25625288 L1.33365313,0.230401217 C0.84152021,-0.26176985 0,0.0867782077 0,0.782806211 L0,10.8345095 Z"})))),Vr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},React.createElement("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})),Hr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"})),Wr=React.createElement("svg",{width:"28px",height:"30px",viewBox:"0 0 28 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(0.092416, 0.224615)",fill:"#2271B1",fillRule:"nonzero"},React.createElement("path",{d:"M27.4661321,18.0234622 L24.9700099,16.582025 C25.221951,15.222699 25.221951,13.8281253 24.9700099,12.4687993 L27.4661321,11.0273622 C27.7532064,10.8633115 27.8821238,10.52348 27.7883969,10.2070517 C27.1379735,8.12114202 26.0305886,6.23441632 24.583315,4.66411901 C24.3606707,4.42385088 23.9973789,4.36525727 23.716141,4.52936515 L21.2200189,5.97074508 C20.1712276,5.06838059 18.9641649,4.37115096 17.6575388,3.91413224 L17.6575388,1.03715165 C17.6575388,0.709050316 17.4290008,0.421918738 17.106736,0.351594961 C14.9563963,-0.128826867 12.7532422,-0.105423755 10.7083595,0.351594961 C10.3860946,0.421918738 10.1575567,0.709050316 10.1575567,1.03715165 L10.1575567,3.91996872 C8.85676709,4.38288113 7.6497616,5.08011076 6.59507662,5.97658155 L4.10484818,4.53520162 C3.8177166,4.37115096 3.46031847,4.42385088 3.23767419,4.66995548 C1.79040057,6.23441632 0.68295845,8.12114202 0.0325922641,10.2129454 C-0.0670283175,10.5293165 0.0677255421,10.869148 0.354857121,11.0332559 L2.85092203,12.4746358 C2.59898095,13.834019 2.59898095,15.2285355 2.85092203,16.5879187 L0.354857121,18.0292986 C0.0677255421,18.1933493 -0.0611918446,18.533238 0.0325922641,18.8496092 C0.68295845,20.935576 1.79040057,22.8222445 3.23767419,24.392599 C3.46031847,24.63281 3.82361029,24.6914036 4.10484818,24.5273529 L6.60091309,23.0859158 C7.6497616,23.9882802 8.85676709,24.6855671 10.1633932,25.1425858 L10.1633932,28.0254029 C10.1633932,28.3535042 10.3919311,28.6406358 10.714196,28.7109023 C12.8645929,29.1913814 15.0676898,29.1679783 17.1126297,28.7109023 C17.4348945,28.6406358 17.6633753,28.3535042 17.6633753,28.0254029 L17.6633753,25.1425858 C18.9641649,24.6796734 20.1712276,23.9824438 21.2259126,23.0859158 L23.7219775,24.5273529 C24.009109,24.6914036 24.3665072,24.6386464 24.5891515,24.392599 C26.0364251,22.8281382 27.1438672,20.9414125 27.7942334,18.8496092 C27.8821238,18.5273443 27.7532064,18.1875128 27.4661321,18.0234622 Z M13.9075477,19.212901 C11.3235924,19.212901 9.22005892,17.1093675 9.22005892,14.5254122 C9.22005892,11.9414569 11.3235924,9.83792336 13.9075477,9.83792336 C16.4915031,9.83792336 18.5950366,11.9414569 18.5950366,14.5254122 C18.5950366,17.1093675 16.4915031,19.212901 13.9075477,19.212901 Z"})))),Xr=React.createElement("svg",{width:"27px",height:"27px",viewBox:"0 0 27 27",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(0.000000, 0.625058)",fill:"#2271B1",fillRule:"nonzero"},React.createElement("path",{d:"M6.32810991,14.7655898 L19.9218275,14.7655898 C20.3085224,14.7655898 20.6249508,14.4491614 20.6249508,14.0624665 L20.6249508,12.1874709 C20.6249508,11.800776 20.3085224,11.4843476 19.9218275,11.4843476 L6.32810991,11.4843476 C5.94141497,11.4843476 5.62498659,11.800776 5.62498659,12.1874709 L5.62498659,14.0624665 C5.62498659,14.4491614 5.94141497,14.7655898 6.32810991,14.7655898 Z M26.2499374,2.81249329 C26.2499374,1.25976262 24.9901748,0 23.4374441,0 L2.81249329,0 C1.25976262,0 0,1.25976262 0,2.81249329 L0,23.4374441 C0,24.9901748 1.25976262,26.2499374 2.81249329,26.2499374 L23.4374441,26.2499374 C24.9901748,26.2499374 26.2499374,24.9901748 26.2499374,23.4374441 L26.2499374,2.81249329 Z M23.4374441,23.0858825 C23.4374441,23.2792299 23.2792299,23.4374441 23.0858825,23.4374441 L3.16405496,23.4374441 C2.97070749,23.4374441 2.81249329,23.2792299 2.81249329,23.0858825 L2.81249329,3.16405496 C2.81249329,2.97070749 2.97070749,2.81249329 3.16405496,2.81249329 L23.0858825,2.81249329 C23.2792299,2.81249329 23.4374441,2.97070749 23.4374441,3.16405496 L23.4374441,23.0858825 Z"})))),Qr=React.createElement("svg",{width:"30px",height:"31px",viewBox:"0 0 30 31",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(0.001406, 0.754469)",fill:"#2271B1",fillRule:"nonzero"},React.createElement("path",{d:"M29.1723759,8.32172317 C30.2739244,7.22017474 30.2739244,5.43896332 29.1723759,4.34325136 L25.6508656,0.821741052 C24.5493172,-0.273913684 22.7680485,-0.273913684 21.6723938,0.821741052 L18.971194,3.52294082 C18.6957926,3.79834223 18.6957926,4.24363078 18.971194,4.51903219 L25.4750848,11.0229229 C25.7504862,11.2983244 26.1957747,11.2983244 26.4711762,11.0229229 L29.1723759,8.32172317 Z M16.65091,5.8432249 L1.26419356,21.2299413 L0.0220547985,28.3490649 C-0.14788956,29.3099658 0.689987624,30.1420065 1.65094572,29.9779559 L8.77006937,28.7299234 L24.1567285,13.343207 C24.43213,13.0678056 24.43213,12.6225171 24.1567285,12.3471156 L17.6528378,5.8432249 C17.3715999,5.56782349 16.9263114,5.56782349 16.65091,5.8432249 Z M5.15483217,24.8392848 L7.96732547,24.8392848 L7.96732547,26.9662214 L4.1880376,27.6283178 L2.36579921,25.8060794 L3.02789556,22.0267915 L5.15483217,22.0267915 L5.15483217,24.8392848 Z"})))),Zr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},React.createElement("path",{d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z",fill:"#2271B1"})),Yr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z",fill:"#2271B1"})),$r=React.createElement("svg",{width:"34px",height:"23px",viewBox:"0 0 34 23",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(0.000000, 0.500054)",fill:"#2271B1",fillRule:"nonzero"},React.createElement("path",{d:"M33.5562287,13.3647791 C34.1031406,12.4272813 33.4269108,11.2499732 32.3415557,11.2499732 L8.90622877,11.2499732 C7.71724768,11.2499732 6.2661403,12.0834444 5.66704353,13.1104347 L1.42346996,20.3851405 C0.876615342,21.3226382 1.55284511,22.4999464 2.63820019,22.4999464 L26.0735272,22.4999464 L26.0735844,22.4999464 C27.2625082,22.4999464 28.7135584,21.6664751 29.312598,20.6394848 L33.5562287,13.3647791 Z M8.90622877,9.37497765 L28.1249329,9.37497765 L28.1249329,6.56248435 C28.1249329,5.00918148 26.8657425,3.74999106 25.3124397,3.74999106 L15.937462,3.74999106 L12.1874709,0 L2.81249329,0 C1.25919042,0 0,1.25919042 0,2.81249329 L0,19.1042063 L4.04747952,12.16567 C5.05158174,10.444311 6.91341659,9.37497765 8.90622877,9.37497765 Z"})))),qr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},React.createElement("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"#0073aa"})),Kr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},React.createElement("path",{fill:"#2271B1",d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})),Jr=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{fill:"#2271B1",d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"}));function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const tn=function(){var e,t,r=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],a=r[1],i=kr(c),d=i.setFolderPanelContext,p=i.setExpandedFolders,m=i.setFolderBeingEditedId,y=i.setOrganizationMode,v=i.setSelectedFolderIds,g=Sr((function(e){var t=e(c),r=t.getSelectedFolder,n=t.canAddFolders,o=t.getFolders,a=t.getOrganizationMode,i=t.getSelectedFolderIds;return{folder:r(),folders:o(),canAddFolders:n(),organizationMode:a(),selectedFolderIds:i()}})),w=g.folder,E=g.folders,b=g.canAddFolders,_=g.organizationMode,S=g.selectedFolderIds;return React.createElement("div",{className:"wicked-toolbar-container"},React.createElement("div",{className:"wicked-folder-pane-toolbar"},h==_?React.createElement("div",{className:"wicked-folder-pane-toolbar-bulk-buttons"},React.createElement("button",{type:"button",className:"button action",disabled:!S.length,onClick:function(){return d(s)}},(0,_e.__)("Delete Selected","wicked-folders")),React.createElement("button",{type:"button",className:"button action",onClick:function(){y(f),v([])}},(0,_e.__)("Cancel","wicked-folders"))):React.createElement("div",{className:"wicked-folder-pane-toolbar-buttons"},React.createElement("div",null,React.createElement("button",{type:"button",title:(0,_e.__)("Add New Folder","wicked-folders"),disabled:!b,onClick:function(){return d("add")}},qr,React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Add New Folder","wicked-folders")))),React.createElement("div",null,React.createElement("button",{type:"button",title:(0,_e.__)("Edit Folder","wicked-folders"),disabled:!w||!w.editable,onClick:function(){d(l),m(w.id)}},Qr,React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Edit Folder","wicked-folders")))),React.createElement("div",null,React.createElement("button",{type:"button",title:(0,_e.__)("Delete Folder","wicked-folders"),disabled:!w||!w.deletable,onClick:function(){return d(s)}},Kr,React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Delete Folder","wicked-folders")))),React.createElement("div",null,React.createElement("button",{type:"button",title:(0,_e.__)(n?"Collapse All":"Expand All","wicked-folders"),onClick:function(){if(n)p(["0"]),a(!1);else{var e=E.map((function(e){return e.id}));p(e),a(!0)}}},n?Xr:Zr,React.createElement("span",{className:"screen-reader-text"},(0,_e.__)(n?"Collapse All":"Expand All","wicked-folders")))),React.createElement("div",null,React.createElement("button",{type:"button",title:(0,_e.__)("Settings","wicked-folders"),onClick:function(){return d(u)}},Wr,React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Settings","wicked-folders")))))))};var rn=r(703),nn=r.n(rn);const on=window.wp.apiFetch;var an=r.n(on);const cn=window.wp.hooks;function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.wp.components;var sn=lodash.find;const un=function(e){var t=e.folder,r=Yr,n=(0,o.useContext)(wr),i=(0,o.useRef)(),l=(0,a.useDispatch)(c),s=l.addNotification,u=l.moveFolder,d=l.movePostsToFolder,m=l.unassignFolders,y=kr(c),v=y.toggleExpanded,g=y.setSelectedFolderId,w=y.setSelectedFolderIds,E=y.expandFolder,b=(y.setIsFolderDragging,y.setFolderUsingContextMenuId,Sr((function(e){return{allFolders:e(c).getFolders(),organizationMode:e(c).getOrganizationMode(),selectedFolder:e(c).getSelectedFolder(),selectedFolderIds:e(c).getSelectedFolderIds(),postIdsToMove:e(c).getPostIdsToMove(),postType:e(c).getPostType(),isExpanded:e(c).isFolderExpanded(t.id),showItemCounts:e(c).showItemCounts(),folderUsingContextMenuId:e(c).getFolderUsingContextMenuId()}}))),_=b.allFolders,S=b.organizationMode,k=b.selectedFolder,x=b.selectedFolderIds,R=b.postIdsToMove,O=b.postType,I=b.isExpanded,N=b.showItemCounts,A=(b.folderUsingContextMenuId,t.id,function(){g(t.id),E(t.id)});return(0,o.useEffect)((function(){var e=jQuery,r=e(i.current);return p!=S&&h!=S||!r.data("ui-droppable")||r.droppable("destroy"),f==S&&r.droppable({hoverClass:"wicked-drop-hover",tolerance:"pointer",accept:function(t){var r=!1,n=e(this).parents("li").eq(0).attr("data-folder-id"),o=sn(_,{id:n}),a=t.attr("data-folder-id"),i=sn(_,{id:a}),c=k;return(i||R)&&(r=!0),t.hasClass("wicked-folder-leaf")?(n==i.parent&&(r=!1),"unassigned_dynamic_folder"==n&&(r=!1),f!=S&&(r=!1),0!=n&&(o.editable&&i.editable||(r=!1))):(n==c.id&&(r=!1),0==n&&(r=!1),o.assignable||(r=!1)),r},drop:function(r,o){var a=e(this).parents("li").eq(0).attr("data-folder-id"),i=sn(_,{id:a}),c=k.id,l=k.assignable,f=r.shiftKey||!l,p="wf_"+O+"_folders",h=(f?(0,_e.__)("Copied","wicked-folders"):(0,_e.__)("Moved","wicked-folders"))+" "+(1==R.length?"item":R.length+" items")+" "+(0,_e.__)("to folder.","wicked-folders");if(R.length>0)if(L(i)&&(a=i.termId),L(k.type)&&(t.termId,function(e){throw new TypeError('"fromFolderId" is read-only')}()),0==a||"unassigned_dynamic_folder"==a){if(!confirm((0,_e.__)("This will unassign the selected item(s) from all folders.  Are you sure you want to continue?","wicked-folders")))return!1;F(k)||L(k)?T(R):R.forEach((function(t){e('.wp-list-table [id="post-'+t+'"] td.taxonomy-'+p).html('<span aria-hidden="true">—</span><span class="screen-reader-text">No categories</span>')})),s({message:(0,_e.sprintf)((0,_e._n)("Unassigned %d item","Unassigned %d items",R.length,"wicked-folders"),R.length)}),m(n,R),(0,cn.doAction)("wickedFolders.unassignFolders",R,c)}else"0"!=c||r.shiftKey?"unassigned_dynamic_folder"==c?T(R):f||T(R):T(R),d(n,R,a,c,f),s({message:h}),(0,cn.doAction)("wickedFolders.movePostsToFolder",R,a,c,f);else{var y=e(o.draggable).attr("data-folder-id");u(n,y,a)}}}),function(){r.data("ui-droppable")}}),[_,S]),I&&(r=$r),"dynamic_root"==t.id&&(r=Jr),React.createElement("div",{className:"wicked-folder-wrapper"},React.createElement("button",{className:"wicked-toggle",type:"button",onClick:function(){return v(t.id)}},React.createElement("span",{className:"screen-reader-text"},I?(0,_e.__)("Collapse","wicked-folders"):(0,_e.__)("Expand","wicked-folders")),Ur),React.createElement("div",{className:"wicked-folder",onClick:A,ref:i},h==S?React.createElement("span",{className:"wicked-select"},React.createElement("input",{type:"checkbox","aria-label":t.name,disabled:!t.deletable,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){e.stopPropagation();var r,n=function(e){if(Array.isArray(e))return ln(e)}(r=x)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ln(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e.target.checked?n.push(t):n.splice(n.indexOf(t),1),w(n)}(e,t.id)},checked:x.includes(t.id)})):React.createElement("span",{className:"wicked-icon"},r),React.createElement("button",{className:"wicked-folder-name",type:"button",onClick:A},t.name),N&&t.showItemCount&&React.createElement("span",{className:"wicked-count"},t.itemCount)))},dn=function(e){var t=e.folder,r=(0,o.useRef)(),n=kr(c).setIsFolderDragging,a=Sr((function(e){var r=e(c),n=r.isFolderExpanded,o=r.folderHasChildren,a=r.isFolderSelected,i=r.isSearch,l=r.folderMatchesSearchTerms,s=r.getFolders,u=r.getOrganizationMode;return{isSearch:i(),isExpanded:n(t.id),isSelected:a(t.id),hasChildren:o(t.id),isMatch:l(t.id),allFolders:s(),organizationMode:u()}})),i=a.allFolders,l=a.organizationMode,s=a.isExpanded,u=a.hasChildren,d=a.isSelected,h=a.isSearch,m=a.isMatch,y=nn()("wicked-tree-leaf","wicked-folder-leaf",{"wicked-expanded":s||h},{"has-children":u},{"wicked-selected":d},{"wicked-movable":t.movable},{editable:t.editable},{assignable:t.assignable},{"wicked-no-match":h&&!m});return(0,o.useEffect)((function(){var e=jQuery(r.current);return p==l&&e.data("ui-draggable")&&e.draggable("destroy"),t.movable&&f==l&&(e.draggable({revert:"invalid",helper:"clone",start:function(e,t){n(!0)},stop:function(e,t){n(!1)}}),S()&&e.draggable("option","cursorAt",{top:0,right:40})),function(){e.data("ui-draggable")}}),[i,l]),React.createElement("li",{className:y,"data-folder-id":t.id,ref:r},React.createElement(un,{folder:t}),s&&React.createElement(yn,{parent:t.id}))};function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function pn(){pn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==fn(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function hn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var mn=lodash.debounce;const yn=function(e){var t=e.parent,r=void 0===t?"root":t,n=(0,o.useRef)(null),a=kr(c),i=a.setFolders,l=a.setSortMode,s=Sr((function(e){var t=e(c).getSelectedFolderId();return{allFolders:e(c).getFolders(),organizationMode:e(c).getOrganizationMode(),selectedFolder:e(c).getSelectedFolder(),postIdsToMove:e(c).getPostIdsToMove(),postType:e(c).getPostType(),searchTerms:e(c).getSearchTerms(),isFolderDragging:e(c).isFolderDragging(),childFolders:e(c).getChildFolders(t)}})),u=(s.childFolders,s.allFolders),h=s.organizationMode,m=(s.selectedFolder,s.postIdsToMove),v=(s.postType,s.searchTerms,s.isFolderDragging);(0,o.useEffect)((function(){var e=jQuery,t=e(n.current);f==h&&t.data("ui-sortable")&&t.sortable("destroy"),"root"!=r&&p==h&&t.sortable({items:"> li",helper:"clone",stop:function(t,r){var n=r.item.parent().find("> li"),o=[],a=[];n.each((function(t,r){var n=e(r).attr("data-folder-id");o.push(n),a=u.map((function(e){return e.id==n&&(e.order=t),e}))})),e(r.sender).sortable("cancel"),g(o),l(y),i(a)}})}));var g=function(){var e,t=(e=pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an()({path:"".concat(d,"folders/sort"),method:"PUT",data:{folder_ids:t}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){hn(a,n,o,i,c,"next",e)}function c(e){hn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(_x){return t.apply(this,arguments)}}(),w=((0,o.useCallback)(mn((function(e){return g(e)}),500),[]),Sr((function(e){return{folders:e(c).getFoldersFilteredBySearchTerms().filter((function(e){return e.parent==r}))}}))).folders,E=nn()({"wicked-tree":"root"==r},{"highlight-editable":v},{"highlight-assignable":m.length>0});return React.createElement("ul",{className:E,ref:n},w.map((function(e){return React.createElement(dn,{folder:e,key:e.id})})))},vn=function(){return React.createElement("div",{className:"wicked-folder-tree"},React.createElement(yn,{parent:"root"}))};var gn=function e(t){var r=t.folders,n=t.depth,a=void 0===n?0:n,i=t.parent,c=void 0===i?0:i,l=r.filter((function(e){return e.parent==c}));return React.createElement(React.Fragment,null,l.map((function(t){return React.createElement(o.Fragment,{key:t.id},React.createElement("option",{value:t.id},function(e,t){var r="   ",n=0;if(t<1)return"";for(n=0;n<t-1;n++)r+="   ";return r}(0,a),t.name),React.createElement(e,{folders:r,parent:t.id,depth:a+1}))})))};const wn=function(e){var t=e.folders,r=e.parent,n=void 0===r?"0":r,o=e.selected,a=void 0!==o&&o,i=e.label,c=void 0!==i&&i,l=e.onChange,s=c||(0,_e.__)("Parent Folder","wicked-folders");return React.createElement(React.Fragment,null,React.createElement("label",{htmlFor:"wicked-folder-select",className:"screen-reader-text"},s,":"),React.createElement("select",{id:"wicked-folder-select",onChange:function(e){return l(e.target.value)},value:a},React.createElement("option",{value:"0"},s),React.createElement(gn,{folders:t,parent:n})))};function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function bn(){bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==En(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Sn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||xn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){if(e){if("string"==typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rn(e,t):void 0}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const On=function(){var e=(0,o.useRef)(),t=kn((0,o.useState)(""),2),r=t[0],n=t[1],i=(0,a.useDispatch)(c).addNotification,l=kr(c),s=l.setFolderPanelContext,u=(l.setFolderPanelMessage,l.setFolderPanelError),f=l.setIsFolderPanelBusy,p=l.setFolders,h=Sr((function(e){var t=e(c),r=t.getFolders,n=t.getPostType,o=t.isFolderPanelBusy,a=t.getFolderPanelError,i=t.getUserId,l=t.getSelectedFolderId,s=t.getSelectedFolder;return{folders:r(),postType:n(),isBusy:o(),error:a(),userId:i(),folderId:l(),folder:s()}})),m=h.folders,y=h.postType,v=h.isBusy,g=h.error,w=h.userId,E=h.folderId,b=h.folder,_=kn((0,o.useState)(F(b)&&b.editable?E:"0"),2),S=_[0],k=_[1],x=m?m.filter((function(e){return F(e)&&e.editable})):[];(0,o.useEffect)((function(){e.current.focus()}),[]);var R=function(){var t,o=(t=bn().mark((function t(){var o;return bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),u(!1),t.prev=2,t.next=5,an()({path:"".concat(d,"folders"),method:"POST",data:{name:r,parent:S,postType:y,ownerId:w}});case 5:o=t.sent,n(""),p([].concat(function(e){if(Array.isArray(e))return Rn(e)}(a=m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||xn(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o])),f(!1),i({message:(0,_e.__)("Successfully added new folder.","wicked-folders")}),e.current.focus(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),u(t.t0.message),f(!1);case 17:case"end":return t.stop()}var a}),t,null,[[2,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){Sn(a,n,o,i,c,"next",e)}function c(e){Sn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}(),O=function(){s(!1)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"wicked-header"},React.createElement("h2",null,(0,_e.__)("Add New Folder","wicked-folders")),React.createElement("button",{type:"button",className:"wicked-close",onClick:O},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Close","wicked-folders")),React.createElement("span",{className:"dashicons dashicons-no"}))),React.createElement("div",null,g&&React.createElement("div",{className:"wicked-messages wicked-errors"},g),React.createElement("div",{className:"wicked-folder-name"},React.createElement("label",{htmlFor:"wicked-folder-name",className:"screen-reader-text"},(0,_e.__)("Folder name","wicked-folders"),":"),React.createElement("input",{ref:e,id:"wicked-folder-name",type:"text",name:"wicked_folder_name",placeholder:(0,_e.__)("Folder name","wicked-folders"),value:r,onChange:function(e){return n(e.target.value)},onKeyUp:function(e){27==e.which&&O()},onKeyDown:function(e){13==e.which&&r.length>0&&R()}})),React.createElement("div",{className:"wicked-folder-parent"},React.createElement(wn,{folders:x,onChange:function(e){return k(e)},selected:S}))),React.createElement("div",{className:"wicked-footer"},React.createElement("button",{className:"button wicked-cancel",onClick:O,disabled:v},(0,_e.__)("Cancel","wicked-folders")),React.createElement("button",{className:"button-primary wicked-save",type:"submit",disabled:r.length<1||v,onClick:R},(0,_e.__)("Save","wicked-folders"))))};function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Tn(){Tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==In(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Fn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Nn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ln(a,n,o,i,c,"next",e)}function c(e){Ln(a,n,o,i,c,"throw",e)}i(void 0)}))}}function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?An(Object(r),!0).forEach((function(t){Pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){if(e){if("string"==typeof e)return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(e,t):void 0}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gn=lodash.get;const Bn=function(){var e=(0,o.useRef)(),t=(0,o.useRef)(),r=kr(c),n=r.setFolderPanelContext,i=(r.setFolderPanelMessage,r.setFolderPanelError),l=r.setIsFolderPanelBusy,s=r.setFolders,u=(0,a.useDispatch)(c).addNotification,f=Sr((function(e){var t=e(c),r=t.getFolders,n=t.getPostType,o=t.isFolderPanelBusy,a=t.getFolderPanelError,i=t.getUserId,l=t.getFolderBeingEdited;return{folders:r(),postType:n(),isBusy:o(),error:a(),userId:i(),folderBeingEdited:l()}})),p=f.folders,h=f.postType,m=f.error,y=f.folderBeingEdited,v=f.isBusy,g=Dn((0,o.useState)(y),2),w=g[0],E=g[1],b=Dn((0,o.useState)(!1),2),_=b[0],S=b[1],k=p?p.filter((function(e){return F(e)&&e.id!=w.id&&w.editable})):[];(0,o.useEffect)((function(){e.current.focus()}),[]),(0,o.useEffect)((function(){E(y)}),[y]),(0,o.useEffect)((function(){var e=jQuery,r=1,n="";return e(t.current).select2({width:"100%",ajax:{url:wickedFoldersSettings.restURL+"wp/v2/users",dataType:"json",cache:!0,data:function(e){return n!=e.term&&(n=e.term,r=1),{per_page:25,search:e.term,page:r,wf_include_users_without_posts:!0}},transport:function(t,n,o){var a=e.ajax(t);a.then((function(t,n,o){var a=!1;return(parseInt(o.getResponseHeader("X-WP-Total"))||0)>25*r&&(r++,a=!0),{results:e.map(t,(function(e){return{id:e.id,text:e.name}})),pagination:{more:a}}})).then(n),a.fail(o)}}}),e(t.current).on("select2:selecting",(function(e){var t=Gn(e,"params.args.data.id",!1),r=Gn(e,"params.args.data.text",!1);t&&E(Cn(Cn({},w),{},{ownerId:t,ownerName:r}))})),function(){e(t.current).off("select2:selecting"),e(t.current).select2("close"),e(t.current).select2("destroy")}}));var x=function(){var t=Nn(Tn().mark((function t(){var r,n;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),i(!1),t.prev=2,t.next=5,an()({path:"".concat(d,"folders/").concat(w.id),method:"PUT",data:w});case 5:r=t.sent,n=p.map((function(e){return e.id==w.id?r:e})),s(Fn(n)),l(!1),u({message:(0,_e.__)("Successfully saved folder.","wicked-folders")}),e.current.focus(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),i(t.t0.message),l(!1);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var e=Nn(Tn().mark((function e(){var t;return Tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),i(!1),e.prev=2,e.next=5,an()({path:"".concat(d,"folders/").concat(w.id,"?post_type=").concat(h,"&clone_children=").concat(_),method:"POST"});case 5:t=e.sent,s([].concat(Fn(p),Fn(t))),l(!1),u({message:(0,_e.__)("Successfully cloned folder.","wicked-folders")}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i(e.t0.message),l(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),O=function(){n(!1)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"wicked-header"},React.createElement("h2",null,(0,_e.__)("Edit Folder","wicked-folders")),React.createElement("button",{type:"button",className:"wicked-close",onClick:O},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Close","wicked-folders")),React.createElement("span",{className:"dashicons dashicons-no"}))),React.createElement("div",null,m&&React.createElement("div",{className:"wicked-messages wicked-errors"},m),React.createElement("div",{className:"wicked-folder-name"},React.createElement("label",{htmlFor:"wicked-folder-name",className:"screen-reader-text"},(0,_e.__)("Folder name","wicked-folders"),":"),React.createElement("input",{ref:e,id:"wicked-folder-name",type:"text",name:"wicked_folder_name",placeholder:(0,_e.__)("Folder name","wicked-folders"),value:w.name,onChange:function(e){return E(Cn(Cn({},w),{},{name:e.target.value}))},onKeyUp:function(e){27==e.which&&O()},onKeyDown:function(e){13==e.which&&w.name.length>0&&x()}})),React.createElement("div",{className:"wicked-folder-parent"},React.createElement(wn,{folders:k,onChange:function(e){return E(Cn(Cn({},w),{},{parent:e}))},selected:w.parent})),React.createElement("fieldset",null,React.createElement("legend",null,(0,_e.__)("Clone Folder","wicked-folders"),":",React.createElement("span",{className:"dashicons dashicons-editor-help",title:(0,_e.__)("Creates a copy of the currently selected folder containing the same items.","wicked-folders")})),React.createElement("p",null,React.createElement("label",null,React.createElement("input",{type:"checkbox",name:"wicked_clone_children",checked:_,onChange:function(){return S(!_)}}),(0,_e.__)("Clone child folders also","wicked-folders")),React.createElement("span",{className:"dashicons dashicons-editor-help",title:(0,_e.__)("If checked, descendant folders of the currently selected folder will also be cloned. Otherwise, only the currently selected folder will be cloned.")})),React.createElement("p",null,React.createElement("button",{className:"button wicked-clone-folder",type:"button",onClick:R},(0,_e.__)("Clone Folder","wicked-folders")))),React.createElement("p",{className:"wicked-folder-owner"},React.createElement("label",{htmlFor:"wicked-folder-owner-id"},(0,_e.__)("Owner","wicked-folders"),":"),React.createElement("select",{id:"wicked-folder-owner-id",name:"wicked_folder_owner_id",ref:t},w&&w.ownerId&&React.createElement("option",{value:w.ownerId,selected:"selected"},w.ownerName)))),React.createElement("div",{className:"wicked-footer"},React.createElement("button",{className:"button wicked-cancel",onClick:O},(0,_e.__)("Cancel","wicked-folders")),React.createElement("button",{className:"button-primary wicked-save",type:"submit",onClick:x,disabled:w.name.length<1||v},(0,_e.__)("Save","wicked-folders"))))};function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}function Un(){Un=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==zn(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){Xn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const Zn=function(){var e=(0,a.useDispatch)(c).addNotification,t=kr(c),r=t.setFolderPanelContext,n=(t.setFolderPanelMessage,t.setFolderPanelError),o=t.setIsFolderPanelBusy,i=t.setFolders,l=t.setSelectedFolderId,s=t.setSelectedFolderIds,u=Sr((function(e){var t=e(c),r=t.getFolders,n=t.getPostType,o=t.isFolderPanelBusy,a=t.getFolderPanelError,i=t.getSelectedFolderId,l=t.getSelectedFolder,s=t.getSelectedFolderIds;return{folders:r(),postType:n(),isBusy:o(),error:a(),folderId:i(),selectedFolder:l(),selectedFolerIds:s()}})),f=u.folders,p=u.postType,h=u.isBusy,m=u.error,y=u.folderId,v=u.selectedFolder,g=u.selectedFolerIds,w=function(){var t,r=(t=Un().mark((function t(){var r,a;return Un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(!0),n(!1),t.prev=2,!(g.length>0)){t.next=15;break}return t.next=6,an()({path:"".concat(d,"folders"),method:"DELETE",data:{post_type:p,folder_ids:g}});case 6:r=t.sent,g.includes(y)&&l("0"),o(!1),s([]),i(r),E(),e({message:(0,_e.__)("Successfully deleted folders.","wicked-folders")}),t.next=23;break;case 15:return t.next=17,an()({path:"".concat(d,"folders/").concat(y),method:"DELETE",data:Wn({},v)});case 17:a=f.map((function(e){return e.parent==y&&(e.parent=v.parent),e})),l(v.parent),o(!1),i(function(e){if(Array.isArray(e))return Vn(e)}(c=a.filter((function(e){return e.id!=y})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return Vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E(),e({message:(0,_e.__)("Successfully deleted folder.","wicked-folders")});case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(2),n(t.t0.message),o(!1);case 29:case"end":return t.stop()}var c}),t,null,[[2,25]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){Qn(a,n,o,i,c,"next",e)}function c(e){Qn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),E=function(){r(!1)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"wicked-header"},React.createElement("h2",null,(0,_e.__)(g.length>0?"Delete Folders":"Delete Folder","wicked-folders")),React.createElement("button",{type:"button",className:"wicked-close",onClick:E},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Close","wicked-folders")),React.createElement("span",{className:"dashicons dashicons-no"}))),React.createElement("div",null,m&&React.createElement("div",{className:"wicked-messages wicked-errors"},m),React.createElement("p",null,g.length>0?(0,_e.__)("Are you sure you want to delete the selected folders? Items in the folders will not be deleted.","wicked-folders"):(0,_e.__)("Are you sure you want to delete the selected folder? Sub folders will be assigned to the folder's parent. Items in the folder will not be deleted.","wicked-folders"))),React.createElement("div",{className:"wicked-footer"},React.createElement("button",{className:"button wicked-cancel",onClick:E,disabled:h},(0,_e.__)("Cancel","wicked-folders")),React.createElement("button",{className:"button-primary wicked-save",type:"submit",onClick:w},(0,_e.__)("Delete","wicked-folders"))))},Yn=function(){var e=(0,o.useContext)(wr),t=(0,a.useDispatch)(c).fetchFolders,r=kr(c),n=r.setFolderPanelContext,i=r.setOrganizationMode,l=r.setSortMode,s=Sr((function(e){var t=e(c),r=t.getOrganizationMode,n=t.getSortMode,o=t.isFolderPanelBusy;return{organizationMode:r(),sortMode:n(),isFolderPanelBusy:o()}})),u=s.organizationMode,d=s.sortMode,v=function(r){l(r),t(e)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"wicked-header"},React.createElement("h2",null,(0,_e.__)("Settings","wicked-folders")),React.createElement("button",{type:"button",className:"wicked-close",onClick:function(){n(!1)}},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Close","wicked-folders")),React.createElement("span",{className:"dashicons dashicons-no"}))),React.createElement("div",null,React.createElement("div",{className:"wicked-field"},React.createElement("div",{className:"wicked-field-label"},(0,_e.__)("Organization mode:","wicked-folders")," ",React.createElement("span",{className:"dashicons dashicons-editor-help",title:(0,_e.__)("Controls what happens when you drag and drop folders. Use 'Normal' to arrange your folder hierarchy by dragging and dropping folders into other folders. Use 'Sort' to change the order of the folders.","wicked-folders")})),React.createElement("div",{className:"wicked-field-options"},React.createElement("div",null,React.createElement("input",{type:"radio",id:"wicked-organization-mode-organize",name:"wicked_organization_mode",checked:f==u,onChange:function(){return i(f)}})," ",React.createElement("label",{htmlFor:"wicked-organization-mode-organize"},(0,_e.__)("Normal","wicked-folders"))),React.createElement("div",null,React.createElement("input",{type:"radio",id:"wicked-organization-mode-sort",name:"wicked_organization_mode",checked:p==u,onChange:function(){return i(p)}})," ",React.createElement("label",{htmlFor:"wicked-organization-mode-sort"},(0,_e.__)("Sort","wicked-folders"))),React.createElement("div",null,React.createElement("input",{type:"radio",id:"wicked-organization-mode-bulk-select",name:"wicked_organization_mode",checked:h==u,onChange:function(){i(h),n(!1)}})," ",React.createElement("label",{htmlFor:"wicked-organization-mode-bulk-select"},(0,_e.__)("Bulk select","wicked-folders"))))),React.createElement("div",{className:"wicked-field"},React.createElement("div",{className:"wicked-field-label"},(0,_e.__)("Folder sort order:","wicked-folders")," ",React.createElement("span",{className:"dashicons dashicons-editor-help",title:(0,_e.__)("Controls how your folders are sorted. Select 'Custom' to display the folders in the specific order you specify.","wicked-folders")})),React.createElement("div",{className:"wicked-field-options"},React.createElement("div",null,React.createElement("input",{type:"radio",id:"wicked-sort-mode-organize",name:"wicked_sort_mode",value:m,checked:m==d,onChange:function(){return v(m)}})," ",React.createElement("label",{htmlFor:"wicked-sort-mode-organize"},(0,_e.__)("Alphabetical","wicked-folders"))),React.createElement("div",null,React.createElement("input",{type:"radio",id:"wicked-sort-mode-sort",name:"wicked_sort_mode",value:y,checked:y==d,onChange:function(){return v(y)}})," ",React.createElement("label",{htmlFor:"wicked-sort-mode-sort"},(0,_e.__)("Custom","wicked-folders")))))))},$n=function(){var e=On,t=Sr((function(e){var t=e(c),r=t.getFolderPanelContext,n=t.isFolderPanelBusy;return{context:r(),isBusy:n()}})),r=t.context,n=t.isBusy,o=nn()("wicked-folder-pane-panel","wicked-folder-details",{"wicked-busy":n});return r?(l==r&&(e=Bn),s==r&&(e=Zn),u==r&&(e=Yn),React.createElement("div",{className:"wicked-folder-details-container"},React.createElement("div",{className:o},React.createElement(e,null)))):null},qn=function(){var e=(0,o.useRef)(null),t=Sr((function(e){return{navigationError:e(c).getNavigationError()}})).navigationError;return(0,o.useEffect)((function(){$=jQuery,t&&$("#wpbody").html("").html($(e.current).html())})),t?React.createElement("div",{className:"wicked-folder-navigation-error",ref:e},React.createElement("div",{id:"wicked-folder-navigation-error"},React.createElement("div",null,React.createElement("span",{className:"dashicons dashicons-warning"}),React.createElement("h1",null,(0,_e.__)("Something went wrong","wicked-folders")),React.createElement("p",null,(0,_e.__)("An error occurred while attempting to navigate to the folder.  Please refresh the page.","wicked-folders")),React.createElement("p",null,(0,_e.__)("If you continue to have trouble, disable the 'Don't reload page when navigating folders' option on the Wicked Folders settings page.","wicked-folders")),React.createElement("p",{className:"code wicked-error-text"},t)))):null};var Kn=function(e){var t=e.id,r=e.title,n=e.message,o=e.dismissible,i=void 0!==o&&o,l=e.dismissed,s=void 0!==l&&l,u=(0,a.useDispatch)(c).dismissNotification,d=nn()("wicked-folders-notification",{dismissed:s});return React.createElement("div",{className:d},React.createElement("div",{className:"icon"},Hr),React.createElement("div",{className:"wicked-notification-message"},React.createElement("div",{className:"wicked-notification-title"},r),n),i&&React.createElement("button",{className:"wicked-dismiss",type:"button",onClick:function(){return u(t)}},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Dismiss","wicked-folders")),Vr))};const Jn=function(){var e=(0,a.useSelect)((function(e){return{notifications:e(c).getNotifications()}})).notifications;return React.createElement("div",{className:"wicked-folders-notifications"},e.map((function(e,t){return React.createElement(Kn,{key:t,id:e.id,title:e.title,message:e.message,dismissible:e.dismissible,dismissed:e.dismissed})})))};function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var to=lodash.debounce;const ro=function(){var e,t,r=kr(c).setSearchTerms,n=Sr((function(e){return{searchTerms:e(c).getSearchTerms(),isSearchEnabled:e(c).isSearchEnabled()}})),a=n.searchTerms,i=n.isSearchEnabled,l=(e=(0,o.useState)(a),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],d=(0,o.useRef)(to(r,750));return i?React.createElement("div",{className:"wicked-folder-search-container"},React.createElement("div",{className:"wicked-folder-search"},React.createElement("label",{htmlFor:"wicked-folder-search-input",className:"screen-reader-text"},(0,_e.__)("Search folders","wicked-folders")),React.createElement("input",{id:"wicked-folder-search-input",name:"wicked_folder_search",type:"text",value:s,onChange:function(e){return t=e.target.value,u(t),void d.current(t);var t},placeholder:(0,_e.__)("Search folders...","wicked-folders")}))):null};var no=lodash.reverse,oo=function(e){var t=e.ancestors,r=e.folder,n=kr(c).setSelectedFolderId;return r?React.createElement("ul",{className:"wicked-folder-path"},t.map((function(e){return React.createElement("li",{key:e.id,"data-folder-id":e.id},React.createElement("button",{onClick:function(){return n(e.id)}},e.name))})),React.createElement("li",{"data-folder-id":r.id},r.name)):null};const ao=function(){var e=Sr((function(e){return{folder:e(c).getSelectedFolder(),folders:e(c).getFolders(),isBreadcrumbsEnabled:e(c).isBreadcrumbsEnabled()}})),t=e.folder,r=e.folders;if(!e.isBreadcrumbsEnabled)return null;if(0==jQuery("#wicked-folders-breadcrumbs").length)return null;var n=no(k(r,t));return(0,o.createPortal)(React.createElement(oo,{ancestors:n,folder:t}),jQuery("#wicked-folders-breadcrumbs .wicked-folders-container").get(0))},io=function(e){var t=e.count,r=void 0===t?1:t,n=e.enableCopy,o=void 0===n||n;return React.createElement("div",{className:"wicked-drag-details"},React.createElement("div",{className:"items"},React.createElement("div",{className:"title"},(0,_e.__)("Move","wicked-folders")," ",r," ",1==r?(0,_e.__)("Item","wicked-folders"):(0,_e.__)("Items","wicked-folders")),o?(0,_e.__)("Hold SHIFT key to copy items to folder","wicked-folders"):""))},co=function(){var e=kr(c).setIsFolderPaneVisible,t=Sr((function(e){return{width:e(c).getWidth(),isFolderPaneVisible:e(c).isFolderPaneVisible()}})),r=t.width,n=t.isFolderPaneVisible,a=nn()("wicked-folders-toggle",{expanded:n});return(0,o.useEffect)((function(){n?(document.documentElement.style.setProperty("--wicked-folders-tree-pane-width",r+"px"),document.documentElement.style.setProperty("--wicked-folders-modal-tree-pane-width",r+"px")):(document.documentElement.style.setProperty("--wicked-folders-tree-pane-width","0px"),document.documentElement.style.setProperty("--wicked-folders-modal-tree-pane-width","0px"))}),[n]),React.createElement("button",{className:a,title:"Toggle folders",onClick:function(){return e(!n)}},React.createElement("span",{className:"screen-reader-text"},(0,_e.__)("Toggle folders","wicked-folders")),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512"},React.createElement("path",{fill:"#8c8f94",d:"M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"})))};function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var so=lodash,uo=so.each,fo=so.debounce;so.forOwn;const po=function(){var e,t,r=(0,o.useContext)(wr),n=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],l=n[1],s=Sr((function(e){var t=e(c),r=t.getScreenState,n=t.getSelectedFolder,o=t.getSelectedFolderId,a=t.getNavigationError,i=t.getWidth,l=t.isAjaxNavEnabled,s=t.isBreadcrumbsEnabled,u=t.isDirty,d=t.isNavigating,f=t.isFolderPaneVisible,p=t.getPostIdsToMove;return{folder:n(),selectedFolderId:o(),isAjaxNavEnabled:l(),isBreadcrumbsEnabled:s(),isDirty:u(),isNavigating:d(),navigationError:a(),width:i(),isFolderPaneVisible:f(),postIdsToMove:p(),screenState:r()}})),u=s.folder,d=s.selectedFolderId,f=s.isAjaxNavEnabled,p=s.isNavigating,h=(s.navigationError,s.isDirty),m=(s.width,s.screenState,s.isBreadcrumbsEnabled),y=s.isFolderPaneVisible,v=s.postIdsToMove,g=(0,a.useDispatch)(c).saveScreenState,w=kr(c),E=w.setIsNavigating,b=w.setNavigationError,k=(w.setWidth,w.setPostIdsToMove),x=fo(g,500);(0,o.useEffect)((function(){jQuery(document).ajaxSuccess((function(e,t,r,n){r.hasOwnProperty("data")&&-1!=r.data.indexOf("action=inline-save")&&R()}))}),[]),(0,o.useEffect)((function(){h&&x(r)}),[h]),(0,o.useEffect)((function(){R()}),[v]),(0,o.useEffect)((function(){O()}),[m]),(0,o.useEffect)((function(){if(u)if(i){var e=jQuery,t="wicked_"+u.postType+"_folder_filter",r=document.location.href;-1!=r.indexOf("#")&&(r=r.substring(0,r.indexOf("#"))),r=_(r,t,u.id),r=_(r,"paged",1),r=_(r,"taxonomy",!1),r=_(r,"term",!1),r=_(r,"wf_"+u.postType+"_folders",!1),f?(E(!0),b(!1),e.ajax(r,{success:function(t){var r=wickedFoldersSettings.afterAjaxScripts.length,n=0;e("#wpbody-content").html(e(t).find("#wpbody-content").html()),R(),O(),window.inlineEditPost&&0==r&&window.inlineEditPost.init(),window.screenMeta&&window.screenMeta.init(),window.columns&&window.columns.init(),function(){var e=jQuery;e(".contextual-help-tabs").delegate("a","click",(function(t){var r,n=e(this);if(t.preventDefault(),n.is(".active a"))return!1;e(".contextual-help-tabs .active").removeClass("active"),n.parent("li").addClass("active"),r=e(n.attr("href")),e(".help-tab-content").not(r).removeClass("active").hide(),r.addClass("active").show()}))}(),function(){var e=jQuery,t=e(".wp-header-end");t.length||(t=e(".wrap h1, .wrap h2").first()),e("div.updated, div.error, div.notice").not(".inline, .below-h2").insertAfter(t)}(),window.gfPageLoaded=!0,jQuery(".gf_form_action_has_submenu").hover((function(){var e=jQuery(this).offset().left;jQuery(this).find(".gf_submenu").toggle().offset({left:e})}),(function(){jQuery(this).find(".gf_submenu").hide()})),uo(wickedFoldersSettings.afterAjaxScripts,(function(t){e.getScript(t,(function(){++n==r&&window.inlineEditPost&&window.inlineEditPost.init()}))})),e(window).scrollTop(0),E(!1),e("body").trigger("wickedfolders:ajaxNavigationDone")},error:function(t,r,n){e(window).scrollTop(0),b(n),window.console&&(console.warn((0,_e.__)("An error occurred while attempting to navigate to the folder.  Please see following console messages for more details.","wicked-folders")),console.log(t),console.log(r),console.log(n)),E(!1),e("body").trigger("wickedfolders:ajaxNavigationDone")}})):document.location=r}else l(!0)}),[null==u?void 0:u.id]);var R=function(){var e=jQuery,t={revert:"invalid",containment:"#wpwrap",helper:function(t){var r,n,a=[],i=e(t.currentTarget).parents("tr"),c=i.find('.check-column [type="checkbox"]'),l=e('<div id="wicked-drag-helper"></div>'),s=e(i).find(".wicked-item").attr("data-object-id");return c.prop("checked")||"on"==c.val()?a=I():a.push(s),l.appendTo(e("body")),r=React.createElement(io,{count:a.length,enableCopy:"unassigned_dynamic_folder"!=d}),n=document.getElementById("wicked-drag-helper"),o.createRoot?(0,o.createRoot)(n).render(r):(0,o.render)(r,n),k(a),l},stop:function(e,t){k([])}};e("body.post-type-shop_order .wp-list-table .column-wicked_move").click((function(e){return!1})),e(".wp-list-table tbody .wicked-move-multiple").draggable(t),e(".wp-list-table thead .wicked-move-multiple").draggable(t),S()&&e(".wp-list-table .wicked-move-multiple").draggable("option",{cursorAt:{top:10,right:10}})},O=function(){m&&jQuery("#wpbody-content .wp-list-table").before('<div id="wicked-folders-breadcrumbs" class="wicked-folders-breadcrumbs"><span class="wicked-folders-label">'+(0,_e.__)("Folder","wicked-folders")+':</span> <span class="wicked-folders-container"></span></div>')},I=function(){var e=jQuery,t=[];return e('.wp-list-table tbody [type="checkbox"]').each((function(r,n){var o=(n=e(n)).parents("tr").find(".wicked-item").attr("data-object-id");n.prop("checked")&&t.push(o)})),t};return y?React.createElement(React.Fragment,null,React.createElement(Gr,null),React.createElement(Br,null,React.createElement(zr,null),React.createElement(tn,null),React.createElement($n,null),React.createElement("div",{className:"wicked-folder-tree-container"},React.createElement(ro,null),React.createElement(vn,null)),p&&React.createElement("div",{className:"wicked-navigating-mask"}),React.createElement(qn,null),React.createElement(ao,null)),React.createElement(co,null),React.createElement(Jn,null)):React.createElement(React.Fragment,null,React.createElement(ao,null),React.createElement(co,null))};void 0===window.isWickedFoldersStoreRegistered&&((0,a.register)((0,a.createReduxStore)(c,{selectors:e,actions:t,resolvers:n,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:return Mt(Mt({},e),{},{notifications:[].concat(Ct(e.notifications),[t.notification])});case Ht:return Mt(Mt({},e),{},{notifications:Ct(e.notifications.filter((function(e){return e.id!=t.notificationId})))});case Wt:return Mt(Mt({},e),{},{notifications:Ct(e.notifications.map((function(e){return t.notificationId==e.id&&(e.dismissed=!0),e})))});case Qt:return zt(e,["instances",t.instanceId])?e:Mt(Mt({},e),{},{instances:Mt(Mt({},e.instances),{},Gt({},t.instanceId,Mt(Mt({},vr),{},{postType:t.postType})))});case mr:for(var r=t.payload,n=r.action,o=r.instanceId,a={},i=0,c=Object.entries(e.instances);i<c.length;i++){var l=At(c[i],2),s=l[0],u=l[1];a[s]=o==s?gr(u,n):u}return Mt(Mt({},e),{},{instances:a});default:return e}},controls:i.controls})),window.isWickedFoldersStoreRegistered=!0),document.addEventListener("DOMContentLoaded",(function(e){!function(e){var t=document.getElementById("wicked-folder-pane"),r=function(){var t="folderPane";return(0,a.useDispatch)(c).initInstance(t,wickedFoldersSettings.instances.folderPane.postType),React.createElement(wr.Provider,{value:t},React.createElement(e,null))};if(!t)return null;o.createRoot?(0,o.createRoot)(t).render(React.createElement(r,null)):(0,o.render)(React.createElement(r,null),t)}(po)}))})()})();