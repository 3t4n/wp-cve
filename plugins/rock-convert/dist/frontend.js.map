{"mappings":"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","sources":["assets/frontend/scripts/rock-convert-frontend.js"],"sourcesContent":["'use strict';\n\n/**\n * Send event data using GA\n *\n * @param {string} category\n * @param {string} action\n * @param {string} label\n *\n * @see https://developers.google.com/analytics/devguides/collection/analyticsjs/events\n */\nfunction trackGaEvent( category, action, label ) {\n\tga( 'send', {\n\t\thitType: 'event',\n\t\teventCategory: category,\n\t\teventAction: action,\n\t\teventLabel: label,\n\t} );\n}\n\n/**\n * Send event data using dataLayer\n *\n * @param {string} category\n * @param {string} action\n * @param {string} label\n */\nfunction trackDatalayerEvent( category, action, label ) {\n\twindow.dataLayer.push( {\n\t\tevent: 'gaEvent',\n\t\teventCategory: category,\n\t\teventAction: action,\n\t\teventLabel: label,\n\t} );\n}\n\n/**\n * Track event using Google DataLayer or Google Analytics (ga) script\n *\n * @param {string} label\n */\nfunction trackEvent( label ) {\n\tvar ga = window[ window[ 'GoogleAnalyticsObject' ] || 'ga' ];\n\tvar datalayer = window.dataLayer;\n\tvar category = 'RockConvertCTA';\n\tvar action = 'Click';\n\tvar fn = function ( _a, _b, _c ) {\n\t\tconsole.debug(\n\t\t\t'RockConvert: Google Analytics not configured -- Skipping event tracking'\n\t\t);\n\t};\n\n\tif ( datalayer ) {\n\t\tfn = trackDatalayerEvent;\n\t} else if ( ga && typeof ga === 'function' ) {\n\t\tfn = trackGaEvent;\n\t}\n\n\tfn( category, action, label );\n}\n\nfunction addEvent( obj, evt, fn ) {\n\tif ( obj.addEventListener ) {\n\t\tobj.addEventListener( evt, fn, false );\n\t} else if ( obj.attachEvent ) {\n\t\tobj.attachEvent( 'on' + evt, fn );\n\t}\n}\n\nfunction setCookie() {\n\tconst date = new Date();\n\tdate.setDate( date.getDate() + 1 );\n\tvar expires = 'expires=' + date.toUTCString();\n\tdocument.cookie =\n\t\t'rock-popupcookie' + '=' + '1' + ';' + expires + ';path=/';\n}\n\nfunction getCookie( username ) {\n\tlet name = username + '=';\n\tlet spli = document.cookie.split( ';' );\n\tfor ( var j = 0; j < spli.length; j++ ) {\n\t\tlet char = spli[ j ];\n\t\twhile ( char.charAt( 0 ) == ' ' ) {\n\t\t\tchar = char.substring( 1 );\n\t\t}\n\t\tif ( char.indexOf( name ) == 0 ) {\n\t\t\treturn char.substring( name.length, char.length );\n\t\t}\n\t}\n\treturn '';\n}\n\n( function ( $ ) {\n\t/**\n\t * Send POST request to track view endpoint\n\t *\n\t * @param {number} id\n\t */\n\tfunction trackRockConvertCtaView( id ) {\n\t\tvar tracking_view_url = rconvert_params.track_cta_view_path;\n\t\tjQuery.post( tracking_view_url + id );\n\t}\n\n\t/**\n\t * @param {object} settings\n\t */\n\tfunction showBar( settings ) {\n\t\tvar $btn = '';\n\n\t\tif ( settings.link && settings.btn ) {\n\t\t\tvar btn_styles =\n\t\t\t\t'background-color: ' +\n\t\t\t\tsettings.btn_color +\n\t\t\t\t' ; color: ' +\n\t\t\t\tsettings.btn_text_color +\n\t\t\t\t' ;';\n\t\t\t$btn =\n\t\t\t\t'<a href=\"' +\n\t\t\t\tsettings.link +\n\t\t\t\t'\" class=\"rconvert_announcement_bar__container__cta\" style=\"' +\n\t\t\t\tbtn_styles +\n\t\t\t\t'\">' +\n\t\t\t\tsettings.btn +\n\t\t\t\t'</a>';\n\t\t}\n\n\t\tvar $text =\n\t\t\t'<span style=\"color: ' +\n\t\t\tsettings.text_color +\n\t\t\t'\">' +\n\t\t\tsettings.text +\n\t\t\t'</span>';\n\n\t\tvar $annBar =\n\t\t\t'<div class=\"rconvert_announcement_bar rconvert_announcement_bar--' +\n\t\t\tsettings.position +\n\t\t\t'\" style=\"background-color: ' +\n\t\t\tsettings.bg_color +\n\t\t\t';\">' +\n\t\t\t'<div class=\"rconvert_announcement_bar__container\">' +\n\t\t\t$text +\n\t\t\t$btn +\n\t\t\t'</div>' +\n\t\t\t'</div>';\n\n\t\tjQuery( 'body' )\n\t\t\t.addClass( 'rc_announcement_bar--' + settings.position )\n\t\t\t.prepend( $annBar );\n\t}\n\n\t/**\n\t * Track clicks on CTAs\n\t */\n\t$( document ).on( 'click', '.rock-convert-cta-link', function () {\n\t\tvar tracking_url = rconvert_params.track_cta_click_path;\n\t\tvar ctaId = $( this ).data( 'cta-id' );\n\t\tvar title = $( this ).data( 'cta-title' );\n\t\tjQuery.post( tracking_url + ctaId );\n\t\ttrackEvent( title );\n\t} );\n\n\t/**\n\t * Send google analytics events on announcements bar click\n\t */\n\t$( document ).on(\n\t\t'click',\n\t\t'.rconvert_announcement_bar__container__cta',\n\t\tfunction () {\n\t\t\ttrackEvent( 'Barra anuncio' );\n\t\t}\n\t);\n\n\t/**\n\t * Send google analytics events on sidebar widget\n\t */\n\t$( document ).on( 'click', '.rock-convert-widget-cta a', function () {\n\t\ttrackEvent( 'Banner barra lateral' );\n\t} );\n\n\t$( document ).ready( function () {\n\t\tvar settings = JSON.parse( rconvert_params.announcements_bar_settings );\n\n\t\tif ( settings.activated === '1' ) {\n\t\t\tif (\n\t\t\t\tsettings.visibility === 'all' ||\n\t\t\t\t( settings.visibility === 'post' &&\n\t\t\t\t\tsettings.isSingle === true &&\n\t\t\t\t\tsettings.postType === 'post' )\n\t\t\t) {\n\t\t\t\tshowBar( settings );\n\t\t\t}\n\n\t\t\tif ( settings.visibility === 'exclude' ) {\n\t\t\t\tvar urls = settings.urls;\n\n\t\t\t\tif ( ! urls.includes( window.location.href ) ) {\n\t\t\t\t\tshowBar( settings );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar analytics_enabled =\n\t\t\trconvert_params && rconvert_params.analytics_enabled === '1';\n\t\tif ( analytics_enabled ) {\n\t\t\t$( '.rock-convert-cta-link' ).each( function ( index, value ) {\n\t\t\t\tvar ctaId = $( this ).data( 'cta-id' );\n\t\t\t\ttrackRockConvertCtaView( ctaId );\n\t\t\t} );\n\t\t}\n\t} );\n\n\t$( document ).on( 'click', '#btnClose', function () {\n\t\t$( '.convert-popup' ).slideUp();\n\t} );\n\n\t$( document ).on( 'click', '#btnEmail', function () {\n\t\t$( '.convert-popup' ).slideUp();\n\t} );\n\n\taddEvent( document, 'mouseout', function ( evt ) {\n\t\tif (\n\t\t\tevt.toElement == null &&\n\t\t\tevt.relatedTarget == null &&\n\t\t\tgetCookie( 'rock-popupcookie' ) == ''\n\t\t) {\n\t\t\t$( '.convert-popup' ).slideDown();\n\t\t\tsetCookie();\n\t\t}\n\t} );\n\n\tdocument.onkeydown = function ( evt ) {\n\t\tevt = evt || window.event;\n\t\tvar isEscape = false;\n\t\tif ( 'key' in evt ) {\n\t\t\tisEscape = evt.key === 'Escape' || evt.key === 'Esc';\n\t\t} else {\n\t\t\tisEscape = evt.keyCode === 27;\n\t\t}\n\t\tif ( isEscape ) {\n\t\t\t$( '.convert-popup' ).slideUp();\n\t\t}\n\t};\n} )( jQuery );\n"],"names":["$141bb6d53652791b$var$trackGaEvent","category","action","label","ga","hitType","eventCategory","eventAction","eventLabel","$141bb6d53652791b$var$trackDatalayerEvent","window","dataLayer","push","event","$141bb6d53652791b$var$trackEvent","ga1","fn","_a","_b","_c","console","debug","$","showBar","settings","$btn","link","btn","btn_styles","btn_color","btn_text_color","$text","text_color","text","$annBar","position","bg_color","jQuery","addClass","prepend","obj","evt","document","on","tracking_url","rconvert_params","track_cta_click_path","ctaId","this","data","title","post","ready","JSON","parse","announcements_bar_settings","activated","visibility","isSingle","postType","urls","includes","location","href","analytics_enabled","each","index","value","id","tracking_view_url","track_cta_view_path","slideUp","toElement","relatedTarget","username","name","spli","cookie","split","j","length","char","charAt","substring","indexOf","$141bb6d53652791b$var$getCookie","slideDown","date","Date","setDate","getDate","expires","toUTCString","$141bb6d53652791b$var$setCookie","addEventListener","attachEvent","onkeydown","key","keyCode"],"version":3,"file":"frontend.js.map"}