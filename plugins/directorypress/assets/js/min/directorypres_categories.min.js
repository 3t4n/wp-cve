!function(e){"use strict";e(function(){function t(t){if(t.is(":checked")&&"unlimited"!=package_categories.package_category_number_allowed&&e("input[name=tax_input\\[directorypress-category\\]\\[\\]]:checked").length>package_categories.package_category_number_allowed&&(alert(package_categories.package_categories_notice_number),e("#in-directorypress-category-"+t.val()).attr("checked",!1),e("#in-popular-directorypress-category-"+t.val()).attr("checked",!1),t.trigger("change")),!(t.is(":checked")&&package_categories.package_categories_array.length>0))return!0;if(-1!=e.inArray(t.val(),package_categories.package_categories_array))return!0;alert(package_categories.package_categories_notice_disallowed),e("#in-directorypress-category-"+t.val()).attr("checked",!1),e("#in-popular-directorypress-category-"+t.val()).attr("checked",!1),t.trigger("change")}package_categories.package_categories_array.length>0&&function t(){e("ul.directorypress-categorychecklist li").each(function(a){if(e(this).find(">ul>li").length>0){if(-1==e.inArray(e(this).find('>label>input[type="checkbox"]').val(),package_categories.package_categories_array)){e(this).find('>label>input[type="checkbox"]').attr("disabled","disabled");var l=!1;if(e(this).find('ul>li>label>input[type="checkbox"]').each(function(){if(-1!=e.inArray(e(this).val(),package_categories.package_categories_array))return l=!0,!1}),!l)return e(this).remove(),t(),!1}}else if(-1==e.inArray(e(this).find('>label>input[type="checkbox"]').val(),package_categories.package_categories_array))return e(this).remove(),t(),!1});e("ul.directorypress-categorychecklist ul.children").filter(function(){return""==e.trim(e(this).html())}).remove()}(),e("ul.directorypress-categorychecklist li").each(function(){e(this).children("ul").length>0?(e(this).addClass("parent"),e(this).prepend('<span class="directorypress-category-parent"></span>'),e(this).find('ul input[type="checkbox"]:checked').length>0&&e(this).find(".directorypress-category-parent").prepend('<span class="directorypress-category-has-checked"></span>')):e(this).prepend('<span class="directorypress-category-empty"></span>')}),e("ul.directorypress-categorychecklist li:not(.active) ul").each(function(){e(this).hide()}),e("ul.directorypress-categorychecklist li.parent > .directorypress-category-parent").click(function(){e(this).parent().toggleClass("active"),e(this).parent().children("ul").slideToggle("fast")}),e('ul.directorypress-categorychecklist li input[type="checkbox"]').change(function(){e("ul.directorypress-categorychecklist li").each(function(){e(this).children("ul").length>0&&(e(this).find('ul input[type="checkbox"]:checked').length>0?0==e(this).find(".directorypress-category-parent .directorypress-category-has-checked").length&&e(this).find(".directorypress-category-parent").prepend('<span class="directorypress-category-has-checked"></span>'):e(this).find(".directorypress-category-parent .directorypress-category-has-checked").remove())})}),e("input[name=tax_input\\[directorypress-category\\]\\[\\]]").change(function(){t(e(this))}),e("#directorypress-category-pop input[type=checkbox]").change(function(){t(e(this))}),e(".directorypress-expand-terms").click(function(){e("ul.directorypress-categorychecklist li.parent").each(function(){e(this).addClass("active"),e(this).children("ul").slideDown("fast")})}),e(".directorypress-collapse-terms").click(function(){e("ul.directorypress-categorychecklist li.parent").each(function(){e(this).removeClass("active"),e(this).children("ul").slideUp("fast")})})})}(jQuery);