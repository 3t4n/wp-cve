(()=>{"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var n=React.createElement("svg",{fillRule:"nonzero",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18"},React.createElement("g",null,React.createElement("path",{d:"M13.7104+8.56898L23.9931+8.56898L23.9931+15.4242L13.7104+15.4242L13.7104+8.56898ZM23.5647+0L13.7104+0L13.7104+6.85518L23.9931+6.85518L23.9931+0.428449C23.9931+0.191823+23.8013-1.03432e-08+23.5647+0ZM13.7104+23.9931L23.5647+23.9931C23.8013+23.9931+23.9931+23.8013+23.9931+23.5647L23.9931+17.138L13.7104+17.138L13.7104+23.9931ZM0.428449+23.9931L10.2828+23.9931L10.2828+13.7104L0+13.7104L0+23.5647C0+23.7995+0.193659+23.9931+0.428449+23.9931ZM10.2828+0L0.428449+0C0.191823+0-2.06865e-08+0.191823+0+0.428449L0+10.2828L10.2828+10.2828L10.2828+0Z"})));!function(t){var a,r=t.plugins.registerPlugin,o=t.i18n.__,c=t.element,s=c.Fragment,l=c.useState,m=(t.hooks.addFilter,t.components),p=m.Modal,u=(m.Button,t.editPost),i=u.PluginSidebarMoreMenuItem,d=u.PluginSidebar,y=u.PluginBlockSettingsMenuItem;function w(e,n){var a=new FormData;a.append("action","save_template_who"),a.append("title",e),a.append("post_id",t.data.select("core/editor").getCurrentPostId()),a.append("template_content",n),a.append("nonce",MYWP_DATA.nonce),fetch(MYWP_DATA.ajaxurl,{method:"POST",credentials:"same-origin",body:a}).then((function(e){return e.json()})).then((function(e){if(1===e.response){t.data.dispatch("core/notices").createNotice("success",o("Pattern saved","mywp-custom-patterns"),{type:"snackbar",isDismissible:!0,actions:[{url:window.location.href,label:o("Reload page","mywp-custom-patterns")}]});var n=document.getElementsByName("list_patterns")[0],a=document.createElement("option");a.value=e.id,a.text=e.title,a.dataset.content=e.content,n.add(a,null)}else t.data.dispatch("core/notices").createNotice("warning",o("Pattern not saved","mywp-custom-patterns"));document.getElementById("saveMyWPCustomPattern").disabled=!1})).catch((function(e){}))}function f(){document.getElementById("saveMyWPCustomPattern").disabled=!0;var e=document.getElementsByName("mywp_name_pattern")[0].value;return""===e?(document.querySelector(".mywp-custom-patterns__wrapper .mywp-error-field").style.display="block",void(document.getElementById("saveMyWPCustomPattern").disabled=!1)):(document.querySelector(".mywp-custom-patterns__wrapper .mywp-error-field").style.display="none",void 0!==document.getElementsByName("mywp_template_cat")[0]&&document.getElementsByName("mywp_template_cat")[0].value,w(e,t.data.select("core/editor").getEditedPostContent()),document.getElementById("saveMyWPCustomPattern").disabled=!1,!1)}function g(){if(confirm(o("Replace all you content by your custom pattern?","mywp-custom-patterns"))){var e=document.getElementsByName("list_patterns")[0],n=(e.value,e.selectedIndex),a=e.options[n].getAttribute("data-content");""!=a&&t.data.dispatch("core/editor").resetBlocks(t.blocks.parse(a))}return!1}r("mywp-custom-patterns-settings",{render:function(){var t=[];return t.push(React.createElement("option",{key:"0",disabled:!0,"data-content":"",value:""},o("Pattern name","mywp-custom-patterns"))),Object.entries(MYWP_DATA.template_list).forEach((function(n){var a=e(n,2),r=a[0],o=a[1];t.push(React.createElement("option",{key:r+1,"data-content":o.content,value:o.id},o.title))})),React.createElement(s,null,React.createElement(i,{target:"mywp-custom-patterns"},"MyWP Custom Patterns"),React.createElement(d,{name:"mywp-custom-patterns",title:o("MyWP Custom Patterns","mywp-custom-patterns")},React.createElement("div",{id:"mywp-custom-patterns__wrapper",className:"mywp-custom-patterns__wrapper"},React.createElement("div",{className:"mywp-custom-patterns__settings"},React.createElement("p",null,o("Save your current blocks patterns","mywp-custom-patterns")),React.createElement("div",{style:{display:"none"},className:"mywp-error-field"},o("Required field","mywp-custom-patterns")),React.createElement("input",{name:"mywp_name_pattern",type:"text",placeholder:o("Pattern name","mywp-custom-patterns")}),React.createElement("button",{onClick:f,className:"mywp-custom-patterns__button",id:"saveMyWPCustomPattern"},o("Save your pattern","mywp-custom-patterns"))),React.createElement("div",{className:"mywp-custom-patterns__settings"},React.createElement("p",null,React.createElement("strong",null,o("Load and replace all you content by your custom patterns","mywp-custom-patterns"))),React.createElement("select",{name:"list_patterns",id:"list_patterns",defaultValue:""},t),React.createElement("br",null),React.createElement("button",{onClick:g,className:"mywp-custom-patterns__button",id:"loadMyWPCustomPattern"},o("Load your pattern","mywp-custom-patterns"))))))},icon:n}),r("mywp-custom-patterns-settings-all-blocks",{render:function(){var r=e(l(!1),2),c=r[0],m=r[1];return a=function(){return m(!1)},React.createElement(s,null,React.createElement(y,{icon:n,label:o("Add to Block Patterns","mywp-custom-patterns"),onClick:function(){return m(!0)}}),c&&React.createElement(p,{title:o("Add to Block Patterns","mywp-custom-patterns"),onRequestClose:a,className:"mywp-modal-patterns",style:{width:"460px"}},React.createElement("input",{style:{width:"100%"},name:"mywp_name_pattern_single_block",type:"text",placeholder:o("Pattern name","mywp-custom-patterns")}),React.createElement("div",{style:{display:"none",color:"#c03",fontSize:"14px",marginBottom:"4px"},className:"mywp-error-field"},o("Required field","mywp-custom-patterns")),React.createElement("button",{className:"mywp-custom-patterns__button",onClick:function(e){!function(e){var n=document.getElementsByName("mywp_name_pattern_single_block")[0].value;if(document.querySelector(".mywp-modal-patterns .mywp-custom-patterns__button").disabled=!0,""===n)return document.querySelector(".mywp-modal-patterns .mywp-error-field").style.display="block",void(document.querySelector(".mywp-modal-patterns .mywp-custom-patterns__button").disabled=!1);document.querySelector(".mywp-modal-patterns .mywp-error-field").style.display="none",w(n,t.data.select("core/editor").getSelectedBlockCount()>1?Object(t.blocks.serialize)(t.data.select("core/editor").getMultiSelectedBlocks()):Object(t.blocks.serialize)(t.data.select("core/editor").getSelectedBlock())),a()}()}},o("Save your pattern","mywp-custom-patterns")),React.createElement("p",{style:{marginTop:"3em",background:"#ff9b0014",padding:"0.5em",fontWeight:"700"}},o("Note: after the pattern has been created, you'll need to reload the page to make the pattern visible in the inserter.","mywp-custom-patterns"))))},icon:n})}(window.wp)})();