"use strict";var _createClass=function(){function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(){var i;function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}i=null!=i?i:jQuery,window.PayPal_Here_Meta_Box_Order_Items=(_inherits(e,window.PayPal_Here_Meta_Box),_createClass(e,[{key:"bind_event_listeners",value:function(){var n=this;return i(document).ajaxSuccess(function(e,t,o,r){return n.handle_successful_ajax(e,t,o,r)})}},{key:"initialize",value:function(){return this.apply_modifications()}},{key:"apply_modifications",value:function(){return i("#woocommerce-order-items button.add-line-item").html(this.paypal_here.i18n.add_items_button_text),i("#woocommerce-order-items button.add-coupon").html(this.paypal_here.i18n.add_coupon_button_text),this.add_line_item_buttons()}},{key:"add_line_item_buttons",value:function(){var r=this;return i("#woocommerce-order-items table.woocommerce_order_items tr").each(function(e,t){var o;if(0===i(t).find(".paypal-here-order-item-buttons").length&&(o=[],0<i(t).find("td.wc-order-edit-line-item .edit-order-item").length&&o.push('<a class="edit-order-item button button-small">'+r.paypal_here.i18n.edit_item_button_text+"</a>"),0<i(t).find("td.wc-order-edit-line-item .delete-order-item").length&&o.push('<a class="delete-order-item button button-small">'+r.paypal_here.i18n.delete_item_button_text+"</a>"),0<o.length))return i(t).find("td.name").append('<div class="paypal-here-order-item-buttons">'+o.join("")+"</div>")})}},{key:"handle_successful_ajax",value:function(e,t,o,r){if(this.is_refresh_request(o))return this.apply_modifications()}},{key:"is_refresh_request",value:function(e){var t,o,r;if(!e||!e.data)return!1;for(t=0,o=(r=["woocommerce_add_coupon_discount","woocommerce_add_order_item","woocommerce_add_order_fee","woocommerce_add_order_tax","woocommerce_add_order_shipping","woocommerce_calc_line_taxes","woocommerce_delete_refund","woocommerce_load_order_items","woocommerce_refund_line_items","woocommerce_remove_order_coupon","woocommerce_remove_order_item","woocommerce_remove_order_tax","woocommerce_save_order_items"]).length;t<o;t++)if(0<=e.data.indexOf("action="+r[t]))return!0;return!1}}]),e)}.call(void 0);