!function(){"use strict";!function(e){var t,a;function o(){var t=e("#rtfm-fmp_layout input[name=fmp_layout]:checked").val(),a=e("#fmp_category_title_type").val();t&&(t.match(/^carousel/i),t.match(/^isotope/i),t.match(/^grid-by-cat/i)?(e("#rtfm_pagination").fadeOut(200),e("#rtfm_category_title").fadeIn(200),e("#fmp_category_style_holder").fadeIn(200),e("#fmp_border_color_holder").fadeIn(200),"default"===a?"grid-by-cat-free-2"===t?(e("#category_title_color > div").fadeIn(200),e("#fmp_category_style_holder p.description").fadeIn(200)):(e("#category_title_color > div").fadeOut(200),e("#fmp_category_style_holder p.description").fadeOut(200)):"type-3"===a?(e("#category_title_color > div").fadeIn(200),e("#fmp_category_style_holder p.description").fadeIn(200)):(e("#category_title_color > div").fadeOut(200),e("#fmp_category_style_holder p.description").fadeOut(200)),"grid-by-cat1"!==t&&"grid-by-cat2"!==t||e("#rtfm_category_title").fadeOut(200)):(e("#rtfm_pagination").fadeIn(200),e("#rtfm_category_title").fadeOut(200),e("#fmp_category_style_holder").fadeOut(200)),"grid-by-cat-free"===t||"grid-by-cat-free-2"===t?e("#fmp_border_color_holder").fadeIn(200):e("#fmp_border_color_holder").fadeOut(200))}function r(){e("#fmp_detail_page_link_holder input[name='fmp_detail_page_link']:checked").val()?(e("#fmp_detail_page_link_type_holder,#fmp_detail_page_target_holder").fadeIn(200),e("#fmp_detail_page_link_holder").find(".rt-field").removeClass("no-bottom-border")):(e("#fmp_detail_page_link_type_holder,#fmp_detail_page_target_holder").fadeOut(200),e("#fmp_detail_page_link_holder").find(".rt-field").addClass("no-bottom-border"))}function n(){e("#fmp_pagination_holder input[name='fmp_pagination']:checked").val()?(e("#fmp_pagination_type_holder,#fmp_posts_per_page_holder").fadeIn(200),e("#fmp_pagination_holder").find(".rt-field").removeClass("no-bottom-border"),"load_more"===e("#fmp_pagination_type").val()?e("#fmp_load_more_button_text_holder").fadeIn(200):e("#fmp_load_more_button_text_holder").fadeOut(200)):(e("#fmp_pagination_type_holder,#fmp_posts_per_page_holder,#fmp_load_more_button_text_holder").fadeOut(200),e("#fmp_pagination_holder").find(".rt-field").addClass("no-bottom-border"))}function i(){var t=e("#rtfm-fmp_layout_type input[name=fmp_layout_type]:checked").val(),a=".rtfm-radio-layout."+t;if(e("#rtfm-fmp_layout .rtfm-radio-layout").hide(),!t){var o=e("#rtfm-fmp_layout input[name=fmp_layout]:checked"),r=o.parent(".radio-image").attr("data-type");e("#rtfm-fmp_layout_type input[id="+r+"]").prop("checked",!0),a=".rtfm-radio-layout."+r,o.val()?e("#fmp_layout_holder").show():e("#fmp_layout_holder").hide()}e(a).fadeIn(200)}e(document).ready((function(){e("#settings-tabs .rt-tab-nav li:first-child a").trigger("click")})),e(".fmp-select2").length&&e("select.fmp-select2").select2({minimumResultsForSearch:1/0}),e(".fmp-color").length&&e(".fmp-color").wpColorPicker(),e(".rt-field-wrapper.rt-pro-field").on("click",".rt-field",(function(t){t.preventDefault(),e(".rtfm-pro-alert").fadeIn(200)})),e(".rtfm-pro-alert-close").on("click",(function(t){t.preventDefault(),e(".rtfm-pro-alert").fadeOut(200)})),e("#fmp_detail_page_link_holder").on("change","input[type='checkbox']",(function(){r()})),e("#fmp_pagination_holder").on("change","input[type='checkbox']",(function(){n()})),e("#rtfm-fmp_layout_type input[name=fmp_layout_type]").on("change",(function(){e("#fmp_layout_holder").show(),i(),r(),n(),o()})),e("#rtfm-fmp_layout_type input[name=fmp_layout_type], #rtfm-fmp_layout input[name=fmp_layout], #fmp_category_title_type").on("change",(function(){o()})),o(),r(),n(),a=".rtfm-radio-layout."+(t=e("#rtfm-fmp_layout input[name=fmp_layout]:checked").parent(".radio-image").attr("data-type")),e("#rtfm-fmp_layout .rtfm-radio-layout").hide(),e("#fmp_layout_holder").hide(),t&&(e("#rtfm-fmp_layout_type input[id="+t+"]").prop("checked",!0),e("#fmp_layout_holder").show(),e(a).show()),i(),e(".rt-tab-nav li").on("click","a",(function(t){t.preventDefault();var a,o,r=e(this).parents(".rt-tab-container"),n=r.children(".rt-tab-nav"),i=r.children(".rt-tab-content"),l=(o=(a=e(this)).attr("href")).replace("#","");i.hide(),n.find("li").removeClass("active"),a.parent().addClass("active"),r.find(o).show(),e("#_rtfm_last_active_tab").val(l)})),e("#fmp-settings-form").on("submit",(function(t){t.preventDefault();var a=e(this),o=a.serialize(),r=e("#fmp-saveButton"),n=a.next(".rt-response");n.hide(),RtFmAjaxCall(r,"fmpSettingsUpdate",o,(function(t){e("#fmp-settings-form").trigger("fmp_update_settings_form",t),t.error?(n.addClass("error").removeClass("success"),n.show("slow").text(t.msg)):(n.removeClass("error").addClass("success"),n.show("slow").text(t.msg))}))})),e("#fmp_source").on("click","input[type='radio']",(function(){var t=e(this),a=t.val();if(a){var o=e("#fmp_categories_holder select"),r=t.parents(".field");e.ajax({type:"POST",url:ajaxurl,data:{action:"fmp_sc_source_change",source:a},beforeSend:function(){r.append('<span class="fmp-loading fmp-animate-spin dashicons dashicons-update"></span>')},success:function(e){o.html(e.cat_list).val("").trigger("change"),r.find(".fmp-loading").remove()},error:function(e,t){r.find(".fmp-loading").remove(),0===e.status?alert("Not connect.\n Verify Network."):404==e.status?alert("Requested page not found. [404]"):500==e.status?alert("Internal Server Error [500]."):"parsererror"===t?alert("Requested JSON parse failed."):"timeout"===t?alert("Time out error."):"abort"===t?alert("Ajax request aborted."):alert("Uncaught Error.\n"+e.responseText)}})}})),window.RtFmAjaxCall=function(t,a,o,r){var n;a&&(n="action="+a),o&&(n=o+"&action="+a),o&&!a&&(n=o),n.search(fmp_var.nonceID)<0&&(n=n+"&"+fmp_var.nonceID+"="+fmp_var.nonce),e.ajax({type:"post",url:ajaxurl,data:n,beforeSend:function(){e("body").append(e("<div id='fmp-loading'><span class='fmp-loading'>Updating ...</span></div>"))},success:function(e){jQuery("#fmp-loading").remove(),r(e)}})}}(jQuery)}();