!function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(r){e(t,r,n[r])}))}return t}function r(e){if(Array.isArray(e))return e}function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function u(e,t){return r(e)||n(e)||c(e,t)||o()}var a="a an and at but by for in nor of on or so the to up yet".split(" ");function l(e,t){var r=t||{};if(!e)return"";var n=r.stopwords||a,o=r.keepSpaces;return e.split(/(\s+|[-‑–—,:;!?()])/).map((function(e,t,r){if(t%2)return/\s+/.test(e)?o?e:" ":e;var i=e.toLowerCase();return 0!==t&&t!==r.length-1&&n.includes(i)?i:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e)})).join("")}var s=wp.plugins.registerPlugin,f=wp.data,d=f.select,p=f.dispatch,v=f.useSelect,y=wp.element,m=y.useEffect,b=(y.useCallback,y.useRef),g=y.useState,h=y.createElement,w=(y.Fragment,wp.hooks.addFilter),E=wp.compose.createHigherOrderComponent,C=function(e){return l(e.replace(/wordpress/gi,"WordPress"))};s("capitalize-title",{render:function(){var e=u(g(d("core/editor").getEditedPostAttribute("title")),2)[1],t=u(g(0),2),r=t[0],n=t[1],o=v((function(e){var t,r;return{deviceType:(null===(t=e("core/edit-site"))||void 0===t?void 0:t.__experimentalGetPreviewDeviceType())||(null===(r=e("core/edit-post"))||void 0===r?void 0:r.__experimentalGetPreviewDeviceType())||e("stackable/device-type").getDeviceType()}}),[]).deviceType||"";return m((function(){var t,r,o=document.querySelector(".editor-post-title__input")||(null===(t=document.querySelector('iframe[name="editor-canvas"]'))||void 0===t||null===(r=t.contentDocument)||void 0===r?void 0:r.querySelector(".editor-post-title__input"));if(o){var i=function(){e((function(e){var t=d("core/editor").getEditedPostAttribute("title");if(e.toLowerCase()!==t.toLowerCase()){var r=C(t);return p("core/editor").editPost({title:r}),r}return e}))};return o.addEventListener("blur",i),function(){return o.removeEventListener("blur",i)}}setTimeout((function(){n((function(e){return e<100?e+1:e}))}),250)}),[o,r]),null}});var S=function(e){var t=document.createElement("div");return t.innerHTML=e,Array.from(t.childNodes).filter((function(e){return e.nodeType===Node.TEXT_NODE})).forEach((function(e){e.textContent=C(e.textContent)})),t.querySelectorAll("*").forEach((function(e){e.childNodes.forEach((function(e){e.nodeType===Node.TEXT_NODE&&(e.textContent=C(e.textContent))}))})),t.innerHTML};w("editor.BlockEdit","capitzalize-headings",E((function(e){return function(r){var n=r.name,o=r.isSelected,i=r.attributes,c=r.setAttributes,u=b("");return m((function(){""===u.current&&("core/heading"===n&&i.content?u.current=i.content:"stackable/heading"===n&&i.text&&(u.current=i.text))}),[]),m((function(){if(o)"core/heading"===n?u.current=i.content:"stackable/heading"===n&&(u.current=i.text);else if("core/heading"===n){if(u.current.toLowerCase()!==i.content.toLowerCase()){var e=S(i.content);c({content:e})}}else if("stackable/heading"===n&&u.current.toLowerCase()!==i.text.toLowerCase()){var t=S(i.text);c({text:t})}}),[o]),h(e,t({},r))}}),"withInspectorControl"))}();
//# sourceMappingURL=editor.js.map
