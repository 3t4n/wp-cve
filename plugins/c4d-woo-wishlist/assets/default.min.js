!function(r){"use strict";var c={prefix:"c4d-woo-wishlist"};"undefined"!=typeof c4d_woo_wishlist&&(c.cookieName=c.prefix+"-cookie",c.current=function(){var t=r.cookie(c.cookieName);return void 0!==t?t.split(",").filter(Number):[]},c.deleteUserMeta=function(t){r.get({url:c4d_woo_wishlist.ajax_url,data:{action:"c4d_woo_delete_user_meta",pid:t}}).done(function(t){})},c.cart=function(e){r.get({url:c4d_woo_wishlist.ajax_url,data:{action:"c4d_woo_wishlist_cart"}}).done(function(t){r(".c4d-woo-wishlist-cart__list").html(t),c.hideList(r(".c4d-woo-wishlist-cart__icon")),e&&e()})},c.hideList=function(t,e){e?r(".c4d-woo-wishlist-cart").removeClass("empty"):r(t).parents(".c4d-woo-wishlist-cart").find(".c4d-woo-wishlist-cart__list_items .item").length<=1?r(t).parents(".c4d-woo-wishlist-cart").addClass("empty"):r(t).parents(".c4d-woo-wishlist-cart").removeClass("empty")},r(document).ready(function(){var t=r.cookie(c.cookieName),a=r(".c4d-woo-wishlist-cart__icon .number");t=void 0!==t&&""!=t?t.split(",").filter(Number):[],c.cart(),r("body").on("click",".c4d-woo-wishlist-button",function(t){t.preventDefault();var e=this,i=r(e).attr("data-id"),o=c.current();return r.inArray(i,o)<0&&(o.push(i),r.cookie(c.cookieName,o,{expires:30,path:"/"}),a.html(parseInt(a.html())+1),a.addClass("add-new"),r(e).addClass("added"),c.hideList(e,!0),c.cart(function(){a.removeClass("add-new")})),!1}),r("body").on("click",".c4d-woo-wishlist-remove-item",function(t){t.preventDefault();var e=this,i=r(e).attr("data-id"),o=c.current(),s=r.inArray(i,o);o.splice(s,1),r.cookie(c.cookieName,o,{expires:30,path:"/"}),1<=parseInt(a.html())&&(a.html(parseInt(a.html())-1),r(".c4d-woo-wishlist-cart__list_header .number").html(parseInt(r(".c4d-woo-wishlist-cart__list_header .number").html())-1)),r('.c4d-woo-wishlist-button[data-id="'+i+'"]').removeClass("added"),r(e).parents(".item").addClass("remove"),setTimeout(function(){c.hideList(e),r(e).parents(".item").remove()},500),c.deleteUserMeta(i)}),r("body").on("click",".c4d-woo-wishlist-cart__list_items .add_to_cart_button",function(t){t.preventDefault(),r(this).hasClass(".product_type_variable")||(r(this).parents(".item").find(".c4d-woo-wishlist-remove-item").trigger("click"),window.location=r(this).attr("href"))})}))}(jQuery);