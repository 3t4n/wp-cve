!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";var r={iFrameURL:{type:"string",default:window.location.href.match(RESPONSIVE_IFRAME_CONSTANTS.URL_REGEX)[0]},iFrameWidth:{type:"number",default:1e3},iFrameHeight:{type:"number",default:600},wrapperWidth:{type:"number",default:100},scrollBarChecked:{type:"boolean",default:!0},borderChecked:{type:"boolean",default:!0},id:{type:"string"},wrapperClass:{type:"string",default:RESPONSIVE_IFRAME_CONSTANTS.WRAPPER_CLASS_NAME},useMaxWidth:{type:"boolean",default:!1},maxWidth:{type:"number",default:2e3},breakPoints:{type:"array",default:[]}};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,l,s=n(3),c=(n.n(s),n(4)),u=(n.n(c),n(5)),m=n(0),p=n(7),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),__=wp.i18n.__,f=wp.blocks.registerBlockType,h=wp.element.Fragment,b=wp.components.Placeholder,E=wp.element.Component;f("patrickp/responsive-iframes",{title:__("Responsive iframes"),icon:"desktop",category:"embed",keywords:[__("responsive-iframes"),__("iframe"),__("responsive")],attributes:m.a,edit:(l=o=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=t;return(0,n.props.setAttributes)({id:RESPONSIVE_IFRAME_CONSTANTS.ID_NAME.concat(i.index)}),i.index++,n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props.attributes,t="#".concat(e.id);jQuery(t).css({width:e.iFrameWidth,height:e.iFrameHeight,maxWidth:"none"}),this.scaleIframe()}},{key:"componentDidUpdate",value:function(){var e=this.props.attributes,t="#".concat(e.id);jQuery(t).css({width:e.iFrameWidth,height:e.iFrameHeight}),this.scaleIframe()}},{key:"scaleIframe",value:function(){var e=RESPONSIVE_IFRAME_CONSTANTS.DEFAULT_SCALE_VAL,t=e,n=void 0,r=void 0,a=this.props.attributes,i="#".concat(a.id),o=jQuery(i).parent().width(),l=jQuery(i).width(),s=jQuery(i).height();t=o/l,n=-1*s*(e-t),r=-1*l*(e-t),jQuery(i).css(this.buildCSS(t,n,r))}},{key:"buildCSS",value:function(e,t,n){var r="scale("+e+")";return{transform:r,"-ms-transform":r,"-moz-transform":r,"-o-transform":r,"-webkit-transform":r,"transform-origin":"0 0","-ms-transform-origin":"0 0","-moz-transform-origin":"0 0","-o-transform-origin":"0 0","-webkit-transform-origin":"0 0","margin-bottom":t,"margin-right":n}}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=(e.setAttributes,t.scrollBarChecked?"yes":"no"),r=t.borderChecked?{}:{border:"none"},a=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},i={marginLeft:"auto",marginRight:"auto"},o=t.className?t.wrapperClass+" "+t.className:t.wrapperClass,l=Object.assign(i,a),s=t.iFrameURL?wp.element.createElement("iframe",{id:t.id,style:r,class:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,scrolling:n,src:t.iFrameURL}):wp.element.createElement(b,null," ",wp.element.createElement("p",null,"Enter a url into the block settings to the right.")," ");return wp.element.createElement(h,null,wp.element.createElement(u.a,this.props),wp.element.createElement("div",{style:l,className:o},s))}}]),t}(E),o.index=0,l),save:function(e){var t=e.attributes,n=t.scrollBarChecked?"yes":"no",r=t.borderChecked?{}:{border:"none"},a=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},i={marginLeft:"auto",marginRight:"auto"},o=t.className?t.wrapperClass+" "+t.className:t.wrapperClass,l=JSON.stringify(t.breakPoints);t.useMaxWidth&&(a={maxWidth:t.maxWidth+"px"});var s=Object.assign(i,a),c=wp.element.createElement("iframe",{style:r,id:t.id,className:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,"data-break-points":l,"data-width-iframe":t.iFrameWidth,"data-height-iframe":t.iFrameHeight,scrolling:n,src:t.iFrameURL});return wp.element.createElement(h,null,wp.element.createElement("div",{style:s,className:o},c))},deprecated:[p.a]})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(6),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=wp.blockEditor,c=s.InspectorControls,u=s.InspectorAdvancedControls,m=wp.element.Component,p=wp.components,d=p.Panel,f=p.PanelBody,h=p.TextControl,b=p.CheckboxControl,E=p.RangeControl,w=p.Button,k={BREAKPOINTS:{BREAKPOINT_TITLE:"BreakPoint",BREAKPOINT_W:1e3,IFRAME_W:1e3}},y=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"addBreakPoint",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,r=JSON.parse(JSON.stringify(t.breakPoints)),a=new o.a.BreakPoint(k.BREAKPOINTS.BREAKPOINT_TITLE,k.BREAKPOINTS.BREAKPOINT_W,k.BREAKPOINTS.IFRAME_W);r.push(a),n({breakPoints:r})}},{key:"updateBreakPoint",value:function(e,t,n){var r=this.props,a=r.attributes,i=r.setAttributes,o=JSON.parse(JSON.stringify(a.breakPoints));o[n].breakPointW=e,o[n].siteW=t,i({breakPoints:o})}},{key:"updateBreakPointTitle",value:function(e,t){var n=this.props,r=n.attributes,a=n.setAttributes,i=JSON.parse(JSON.stringify(r.breakPoints));i[t].breakPointTitle=e,a({breakPoints:i})}},{key:"removeBreakPoint",value:function(e){var t=this.props,n=t.attributes,r=t.setAttributes,a=JSON.parse(JSON.stringify(n.breakPoints));a.splice(e,1),r({breakPoints:a})}},{key:"removeAllBreakPoints",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,r=t.breakPoints;r=[],n({breakPoints:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,r=t.setAttributes,a=n.breakPoints;return wp.element.createElement(c,null,wp.element.createElement(d,null,wp.element.createElement(f,{title:"Iframe Settings"},wp.element.createElement(h,{label:"Site Address",value:n.iFrameURL,onChange:function(e){r({iFrameURL:e})}}),wp.element.createElement(E,{label:"Site Width",min:0,max:3e3,value:n.iFrameWidth,onChange:function(e){r({iFrameWidth:e})}}),wp.element.createElement(E,{label:"Site Height",min:0,max:3e3,value:n.iFrameHeight,onChange:function(e){r({iFrameHeight:e})}}),wp.element.createElement("div",{className:RESPONSIVE_IFRAME_CONSTANTS.CHK_BX_CLASS},wp.element.createElement(b,{label:"Scroll Bar",checked:n.scrollBarChecked,onChange:function(){r({scrollBarChecked:!n.scrollBarChecked})}}),wp.element.createElement(b,{label:"Border",checked:n.borderChecked,onChange:function(){r({borderChecked:!n.borderChecked})}})),wp.element.createElement(E,{label:n.useMaxWidth?"Scale (Disabled by Advanced Setting MAX WIDTH)":"Scale",disabled:n.useMaxWidth,min:1,max:100,value:n.wrapperWidth,onChange:function(e){r({wrapperWidth:e})}})),wp.element.createElement(u,null,wp.element.createElement(f,{title:"BreakPoints",initialOpen:!1},wp.element.createElement(w,{className:"responsiveIframeButton",onClick:function(){e.addBreakPoint()}},"Add Break Point"),wp.element.createElement("ul",null,a.map(function(t,n){return wp.element.createElement(f,{title:""!==t.breakPointTitle?t.breakPointTitle:k.BREAKPOINTS.BREAKPOINT_TITLE,initialOpen:!1},wp.element.createElement("li",null,wp.element.createElement(h,{label:"Name",value:t.breakPointTitle,onChange:function(t){e.updateBreakPointTitle(t,n)}}),wp.element.createElement(E,{label:"BreakPoint Width",min:0,max:3e3,value:t.breakPointW,onChange:function(r){e.updateBreakPoint(r,t.siteW,n)}}),wp.element.createElement(E,{label:"Site Width",min:0,max:3e3,value:t.siteW,onChange:function(r){e.updateBreakPoint(t.breakPointW,r,n)}}),wp.element.createElement(w,{className:"responsiveIframeButtonRed",onClick:function(){e.removeBreakPoint(n)}},"Remove BreakPoint")))})),wp.element.createElement(w,{className:"responsiveIframeButtonRed",onClick:function(){e.removeAllBreakPoints()}},"Remove All BreakPoints")),wp.element.createElement(f,{title:"Other Options",initialOpen:!1},wp.element.createElement(b,{label:"UseMaxWidth(This will disable scaling)",checked:n.useMaxWidth,onChange:function(){r({useMaxWidth:!n.useMaxWidth})}}),wp.element.createElement(E,{disabled:!n.useMaxWidth,label:"Max-Width",min:1,max:3e3,value:n.maxWidth,onChange:function(e){r({maxWidth:e})}})))))}}]),t}(m);t.a=y},function(e,t,n){"use strict";var r={BreakPoint:function(e,t,n){this.breakPointTitle=e,this.breakPointW=t,this.siteW=n}};t.a=r},function(e,t,n){"use strict";var r=n(0),a=wp.element.Fragment,i={attributes:r.a,save:function(e){var t=e.attributes,n=t.scrollBarChecked?"yes":"no",r=t.borderChecked?{}:{border:"none"},i=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},o={marginLeft:"auto",marginRight:"auto"},l=t.className?t.wrapperClass+" "+t.className:t.wrapperClass;t.useMaxWidth&&(i={maxWidth:t.maxWidth+"px"});var s=Object.assign(o,i),c=wp.element.createElement("iframe",{style:r,id:t.id,className:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,"data-width-iframe":t.iFrameWidth,"data-height-iframe":t.iFrameHeight,scrolling:n,src:t.iFrameURL});return wp.element.createElement(a,null,wp.element.createElement("div",{style:s,className:l},c))}};t.a=i}]);