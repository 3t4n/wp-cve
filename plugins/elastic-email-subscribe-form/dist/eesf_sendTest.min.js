"use strict";!function(e){var s=function(){var s="Elastic Email - Send Test";setTimeout(function(){e.post("https://api.elasticemail.com/v2/channel/list?",{apikey:eesf_send_test_data.token,search:s},function(t){t.data[0]?function(s){e.post("https://api.elasticemail.com/v2/log/load?",{apikey:eesf_send_test_data.token,statuses:0,channelName:s,offset:1},function(s){if(e("#statusInfoLineTwo").removeClass("hide"),s.success)if(e("#recipientsStatus-ok").removeClass("hide"),e("#recipientsStatus-warning").addClass("hide"),e("#recipientsStatus").text(""),s.data.recipients[0]){if(s.data.recipients[0].status)switch(s.data.recipients[0].status){case"AbuseReport":case"Unsubscribed":case"Bounced":e("#recipientsStatus-ok").addClass("hide"),e("#recipientsStatus-warning").removeClass("hide"),e("#recipientsStatus").text(s.data.recipients[0].status);break;default:e("#recipientsStatus-ok").removeClass("hide"),e("#recipientsStatus-warning").addClass("hide"),e("#recipientsStatus").text(s.data.recipients[0].status)}else e("#recipientsStatus-ok").addClass("hide"),e("#recipientsStatus-warning").removeClass("hide"),e("#recipientsStatus").text("Please check your API key.");null!==s.data.recipients[0].contactlasterror?(e("#statusInfoLineThree").removeClass("hide"),e("#recipientsContactLastError-ok").addClass("hide"),e("#recipientsContactLastError-warning").removeClass("hide"),e("#recipientsContactLastError").text(s.data.recipients[0].contactlasterror)):(e("#statusInfoLineThree").removeClass("hide"),e("#recipientsContactLastError-ok").removeClass("hide"),e("#recipientsContactLastError-warning").addClass("hide"),e("#recipientsContactLastError").text(""))}else e("#recipientsStatus-ok").addClass("hide"),e("#recipientsStatus-warning").removeClass("hide"),e("#recipientsStatus").text("Please check your API key.");else s.error&&(e("#recipientsStatus-ok").addClass("hide"),e("#recipientsStatus-warning").removeClass("hide"),e("#recipientsStatus").text(s.error),e("#loader").addClass("hide"));e("#loader").addClass("hide")})}(s):(e("#statusInfoLineOne").removeClass("hide"),e("#sendStatus-ok").addClass("hide"),e("#sendStatus-warning").removeClass("hide"),e("#sendStatus").text("Channel not found. Please check your API key."))})},5e3)};e("#sendTest").click(function(){var t=e("#to").val(),a=e("#message").val();return e("#invalid_email").text("").addClass("hide"),e("#invalid_message").text("").addClass("hide"),e("#statusInfoLineOne").addClass("hide"),e("#statusInfoLineTwo").addClass("hide"),e("#statusInfoLineThree").addClass("hide"),e("#sendStatus-ok").addClass("hide"),e("#sendStatus-warning").addClass("hide"),e("#sendStatus").text(""),e("#recipientsStatus-ok").addClass("hide"),e("#recipientsStatus-warning").addClass("hide"),e("#recipientsStatus").text(""),e("#recipientsContactLastError").text(""),0==function(e){return!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}(t)?(e("#invalid_email").removeClass("hide").text("Invalid email"),!1):0==function(e){return""!==e}(a)?(e("#invalid_message").removeClass("hide").text("Invalid message"),!1):(e("#invalid_email").addClass("hide"),e("#invalid_message").addClass("hide"),function(t,a){var i="".concat(eesf_send_test_data.adminUrl,"admin-ajax.php?action=subscribe_send_test&hex=422f753b2d746e205b422e2068276f352143");e.post(i,{to:t,message:a},function(s){e("#loader").removeClass("hide"),e("#statusInfoLineOne").removeClass("hide"),s?(e("#sendStatus-ok").removeClass("hide"),e("#sendStatus-warning").addClass("hide")):(e("#sendStatus-ok").addClass("hide"),e("#sendStatus-warning").removeClass("hide"),e("#sendStatus").text("Send failed. Please check your account or API key."))}),setTimeout(function(){s()},1e4)}(t,a),!1)});e("#eeCleanErrorLog").click(function(){var s;s="".concat(eesf_send_test_data.adminUrl,"admin-ajax.php?action=clean_error_log&hex=222h753b5d796e205b422e2068274f351991"),e.post(s,{},function(e){e&&location.reload()})})}(jQuery);