(()=>{"use strict";var e,t={20:(e,t,l)=>{const a=window.wp.blocks,o=window.wp.element,n=window.wp.components,s=window.wp.data,r=window.wp.coreData,i=window.wp.i18n,c=window.wp.serverSideRender;var u=l.n(c);const b=window.wp.blockEditor,{InspectorControls:p}=wp.blockEditor,{ToggleControl:g,PanelBody:_,PanelRow:m,CheckboxControl:d,SelectControl:v,ColorPicker:h,Placeholder:C,Spinner:E}=wp.components,w=(0,s.withSelect)((e=>({taxonomies:e(r.store).getTaxonomies({per_page:-1}),postTypes:e(r.store).getPostTypes({per_page:-1})})))((function(e){function t(e){if(!["wp_block","wp_template","wp_template_part","wp_navigation","nav_menu_item"].includes(e.slug))return e}function l(e){if(!["nav_menu"].includes(e.slug))return e}e.attributes.__internalWidgetId?e.setAttributes({blockId:e.attributes.__internalWidgetId}):e.clientId?e.setAttributes({blockId:e.clientId}):e.setAttributes({blockId:"block-1"});const a=(0,b.useBlockProps)();return(0,o.createElement)("div",a,(0,o.createElement)(u(),{block:"collapsing/categories",attributes:e.attributes}),(0,o.createElement)(p,null,(0,o.createElement)(_,{title:(0,i.__)("Collapsing Category settings","collapsing-categories"),initialOpen:!0},(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Title","collapsing-categories"),autoComplete:"off",value:e.attributes.widgetTitle||"",onChange:t=>{e.setAttributes({widgetTitle:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Expanding shows"),value:e.attributes.showPosts,options:[{label:(0,i.__)("Sub-categories and posts"),value:"1"},{label:(0,i.__)("Just sub-categories"),value:"0"}],onChange:t=>{e.setAttributes({showPosts:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(g,{label:(0,i.__)("Show post count"),checked:e.attributes.showPostCount,onChange:t=>{e.setAttributes({showPostCount:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Sort categories by","collapsing-categories"),value:e.attributes.catSort,options:[{label:(0,i.__)("Name","collapsing-categories"),value:"catName"},{label:(0,i.__)("Id","collapsing-categories"),value:"catId"},{label:(0,i.__)("Slug","collapsing-categories"),value:"catSlug"},{label:(0,i.__)("Category Order","collapsing-categories"),value:"catOrder"},{label:(0,i.__)("Category Count","collapsing-categories"),value:"catCount"}],onChange:t=>{e.setAttributes({catSort:t})}}),(0,o.createElement)(v,{value:e.attributes.catSortOrder,options:[{label:(0,i.__)("Ascending","collapsing-categories"),value:"ASC"},{label:(0,i.__)("Descending","collapsing-categories"),value:"DESC"}],onChange:t=>{e.setAttributes({catSortOrder:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Sort posts by","collapsing-categories"),value:e.attributes.postSort,options:[{label:(0,i.__)("Title","collapsing-categories"),value:"postTitle"},{label:(0,i.__)("Id","collapsing-categories"),value:"postId"},{label:(0,i.__)("Comment count","collapsing-categories"),value:"postComment"},{label:(0,i.__)("Post date","collapsing-categories"),value:"postDate"},{label:(0,i.__)("Post order","collapsing-categories"),value:"postSortOrder"}],onChange:t=>{e.setAttributes({postSort:t})}}),(0,o.createElement)(v,{value:e.attributes.postSortOrder,options:[{label:(0,i.__)("Ascending","collapsing-categories"),value:"ASC"},{label:(0,i.__)("Descending","collapsing-categories"),value:"DESC"}],onChange:t=>{e.setAttributes({postSortOrder:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Expanding and collapsing characters"),value:e.attributes.expand,options:[{label:(0,i.__)("▶ ▼"),value:"0"},{label:(0,i.__)("+ —"),value:"1"},{label:(0,i.__)("[+] [—]"),value:"2"},{label:(0,i.__)("Images (1)"),value:"3"},{label:(0,i.__)("Images (2)"),value:"5"},{label:(0,i.__)("Custom"),value:"4"}],onChange:t=>{e.setAttributes({expand:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Custom expand","collapsing-categories"),autoComplete:"off",value:e.attributes.customExpand||"",onChange:t=>{e.setAttributes({customExpand:t})}}),(0,o.createElement)(n.TextControl,{label:(0,i.__)("Custom collapse","collapsing-categories"),autoComplete:"off",value:e.attributes.customCollapse||"",onChange:t=>{e.setAttributes({customCollapse:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Taxonomy type","collapsing-categories"),value:e.attributes.taxonomy,options:(()=>{const t={label:(0,i.__)("- Select -"),value:"",disabled:!0};let a=[];return e.taxonomies&&(a=e.taxonomies.filter(l).map((e=>({value:e.slug,label:e.name})))),[t,...a]})(),onChange:t=>{e.setAttributes({taxonomy:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Post type","collapsing-categories"),value:e.attributes.post_type,options:(()=>{const l={label:(0,i.__)("- Select -"),value:"",disabled:!0};let a=[];return e.postTypes&&(a=e.postTypes.filter(t).map((e=>({value:e.slug,label:e.name})))),[l,...a]})(),onChange:t=>{e.setAttributes({post_type:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Clicking on category/term name:"),value:e.attributes.linkToCat,options:[{label:(0,i.__)("Links to category archive"),value:"1"},{label:(0,i.__)("Expands to show sub-categories and/or posts"),value:"0"}],onChange:t=>{e.setAttributes({linkToCat:t}),console.log(e)}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Style"),value:e.attributes.style,options:[{label:(0,i.__)("Theme"),value:"theme"},{label:(0,i.__)("Kubrick"),value:"kubrick"},{label:(0,i.__)("Twenty Ten"),value:"twentyten"},{label:(0,i.__)("block left"),value:"block_left"},{label:(0,i.__)("block right"),value:"block_right"},{label:(0,i.__)("No arrows"),value:"no_arrows"}],onChange:t=>{e.setAttributes({style:t})}})))),(0,o.createElement)(p,{group:"advanced"},(0,o.createElement)(m,null,(0,o.createElement)(g,{label:(0,i.__)("Accordion style (only one expanded at a time)"),checked:e.attributes.accordion,onChange:t=>{e.setAttributes({accordion:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Link block title to url:","collapsing-categories"),autoComplete:"off",value:e.attributes.titleLink||"",onChange:t=>{e.setAttributes({titleLink:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)("Include RSS Link?"),value:e.attributes.catFeed,options:[{label:(0,i.__)("None"),value:"none"},{label:(0,i.__)("Text"),value:"text"},{label:(0,i.__)("Image"),value:"image"}],onChange:t=>{e.setAttributes({catFeed:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(d,{label:(0,i.__)("Exclude post X from categories A and B when A or B is excluded"),checked:e.attributes.excludeAll,onChange:t=>{e.setAttributes({excludeAll:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Exclude posts older than N days","collapsing-categories"),autoComplete:"off",value:e.attributes.olderThan||"",onChange:t=>{e.setAttributes({olderThan:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Truncate post title to N characters","collapsing-categories"),autoComplete:"off",value:e.attributes.postTitleLength||"",onChange:t=>{e.setAttributes({postTitleLength:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(v,{label:(0,i.__)(""),value:e.attributes.inExclude,options:[{label:(0,i.__)("Include"),value:"include"},{label:(0,i.__)("Exclude"),value:"exclude"}],onChange:t=>{e.setAttributes({inExclude:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("these categories/terms (input slugs separated by commas)","collapsing-categories"),autoComplete:"off",value:e.attributes.inExcludeCats||"",onChange:t=>{e.setAttributes({inExcludeCats:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Auto-expand these categories (input slugs, separated by commas):","collapsing-categories"),autoComplete:"off",value:e.attributes.defaultExpand||"",onChange:t=>{e.setAttributes({defaultExpand:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(d,{label:(0,i.__)("Show Post Date"),checked:e.attributes.showPostDate,onChange:t=>{e.setAttributes({showPostDate:t})}})),(0,o.createElement)(v,{value:e.attributes.postDateAppend,options:[{label:(0,i.__)("Before title"),value:"before"},{label:(0,i.__)("After title"),value:"after"}],onChange:t=>{e.setAttributes({postDateAppend:t})}}),(0,o.createElement)(m,null,(0,o.createElement)(n.TextControl,{label:(0,i.__)("Post Date Format","collapsing-categories"),autoComplete:"off",value:e.attributes.postDateFormat||"",onChange:t=>{e.setAttributes({postDateFormat:t})},help:(0,i.__)("<a href='http://php.net/date' target='_blank'> information about date formatting syntax</a>")})),(0,o.createElement)(m,null,(0,o.createElement)(d,{label:(0,i.__)("Show Top Level Categories"),checked:e.attributes.showTopLevel,onChange:t=>{e.setAttributes({showTopLevel:t})}})),(0,o.createElement)(m,null,(0,o.createElement)(d,{label:(0,i.__)("Show debugging information"),checked:e.attributes.debug,onChange:t=>{e.setAttributes({debug:t})}}))))}));window.wp.apiFetch,(0,a.registerBlockType)("collapsing/categories",{example:{},edit:w,save:function(e){let{attributes:t}=e;return null}})}},l={};function a(e){var o=l[e];if(void 0!==o)return o.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,l,o,n)=>{if(!l){var s=1/0;for(u=0;u<e.length;u++){for(var[l,o,n]=e[u],r=!0,i=0;i<l.length;i++)(!1&n||s>=n)&&Object.keys(a.O).every((e=>a.O[e](l[i])))?l.splice(i--,1):(r=!1,n<s&&(s=n));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,o,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var o,n,[s,r,i]=l,c=0;if(s.some((t=>0!==e[t]))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var u=i(a)}for(t&&t(l);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},l=globalThis.webpackChunkcollapsing_categories=globalThis.webpackChunkcollapsing_categories||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=a.O(void 0,[431],(()=>a(20)));o=a.O(o)})();