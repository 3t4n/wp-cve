!function(){var e,t={798:function(e,t,r){"use strict";var o=window.wp.element,n=window.wp.i18n,c=window.wp.blocks,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cusrev/reviews-grid","version":"1.0.0","title":"Reviews Grid","category":"widgets","icon":"screenoptions","description":"Display a grid with product and store reviews using a masonry layout.","attributes":{"count":{"type":"number","default":3},"count_shop_reviews":{"type":"number","default":1},"show_more":{"type":"number","default":0},"min_chars":{"type":"number","default":0},"show_products":{"type":"boolean","default":true},"product_links":{"type":"boolean","default":true},"shop_reviews":{"type":"boolean","default":false},"inactive_products":{"type":"boolean","default":false},"avatars":{"type":"string","default":"initials","enum":["initials","standard","false"]},"show_summary_bar":{"type":"boolean","default":false},"sort_by":{"type":"string","default":"date","enum":["date","rating","media"]},"sort":{"type":"string","default":"DESC","enum":["ASC","DESC","RAND"]},"categories":{"type":"array","default":[]},"products":{"type":"array","default":[]},"product_tags":{"type":"array","default":[]},"color_ex_brdr":{"type":"string","default":"#ebebeb"},"color_brdr":{"type":"string","default":"#ebebeb"},"color_ex_bcrd":{"type":"string","default":""},"color_bcrd":{"type":"string","default":"#ffffff"},"color_pr_bcrd":{"type":"string","default":"#f4f4f4"},"color_stars":{"type":"string","default":"#FFD707"}},"textdomain":"customer-reviews-woocommerce","editorScript":"file:./index.js","editorStyle":"file:./index.css"}'),s=window.wp.components,l=window.wp.serverSideRender,i=r.n(l);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u.apply(this,arguments)}var m=r(697),d=r.n(m),p=window.wp.compose,g=window.wp.url,h=window.wp.apiFetch,w=r.n(h),_=window.lodash;const b=e=>{let{selected:t=[],search:r="",queryArgs:o={}}=e;const n=(e=>{let{selected:t=[],search:r="",queryArgs:o={}}=e;const n={per_page:0,catalog_visibility:"any",search:r,orderby:"title",order:"asc"};return[(0,g.addQueryArgs)("/wc/store/v1/products",{...n,...o})]})({selected:t,search:r,queryArgs:o});return Promise.all(n.map((e=>w()({path:e})))).then((e=>(0,_.uniqBy)((0,_.flatten)(e),"id").map((e=>({...e,parent:0}))))).catch((e=>{throw e}))},f=e=>{let{selected:t=[],search:r}=e;const o=(e=>{let{selected:t=[],search:r}=e;return[(0,g.addQueryArgs)("wc/store/v1/products/tags",{per_page:0,orderby:"name",order:"asc",search:r})]})({selected:t,search:r});return Promise.all(o.map((e=>w()({path:e})))).then((e=>(0,_.uniqBy)((0,_.flatten)(e),"id")))},v=async e=>{if("function"==typeof e.json)try{const t=await e.json();return{message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}return{message:e.message,type:e.type||"general"}},y=(0,p.createHigherOrderComponent)((e=>class extends o.Component{constructor(){super(...arguments),this.state={error:null,loading:!1,categories:[]},this.loadCategories=this.loadCategories.bind(this)}componentDidMount(){this.loadCategories()}loadCategories(){this.setState({loading:!0}),w()({path:(0,g.addQueryArgs)("wc/store/v1/products/categories",{per_page:0})}).then((e=>{this.setState({categories:e,loading:!1,error:null})})).catch((async e=>{const t=await v(e);this.setState({categories:[],loading:!1,error:t})}))}render(){const{error:t,loading:r,categories:n}=this.state;return(0,o.createElement)(e,u({},this.props,{error:t,isLoading:r,categories:n}))}}),"withCategories");var C=y,E=r(184),k=r.n(E),S=r(683);function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const r=(0,_.groupBy)(e,"parent"),o=(0,_.keyBy)(t,"id"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.parent)return e.name?[e.name]:[];const t=n(o[e.parent]);return[...t,e.name]},c=e=>e.map((e=>{const t=r[e.id];return delete r[e.id],{...e,breadcrumbs:n(o[e.parent]),children:t&&t.length?c(t):[]}})),a=c(r[0]||[]);return delete r[0],(0,_.forEach)(r,(e=>{a.push(...c(e||[]))})),a}const R=e=>{let{countLabel:t,className:r,depth:n=0,controlId:c="",item:a,isSelected:s,isSingle:l,onSelect:i,search:m="",...d}=e;const p=!(0,_.isNil)(t)||!(0,_.isNil)(a.count),g=[r,"woocommerce-search-list__item"];g.push(`depth-${n}`),l&&g.push("is-radio-button"),p&&g.push("has-count");const h=a.breadcrumbs&&a.breadcrumbs.length,w=d.name||`search-list-item-${c}`,b=`${w}-${a.id}`;return(0,o.createElement)("label",{htmlFor:b,className:g.join(" ")},l?(0,o.createElement)("input",u({type:"radio",id:b,name:w,value:a.value,onChange:i(a),checked:s,className:"woocommerce-search-list__item-input"},d)):(0,o.createElement)("input",u({type:"checkbox",id:b,name:w,value:a.value,onChange:i(a),checked:s,className:"woocommerce-search-list__item-input"},d)),(0,o.createElement)("span",{className:"woocommerce-search-list__item-label"},h?(0,o.createElement)("span",{className:"woocommerce-search-list__item-prefix"},1===(f=a.breadcrumbs).length?(0,_.first)(f):2===f.length?(0,_.first)(f)+" › "+(0,_.last)(f):(0,_.first)(f)+" … "+(0,_.last)(f)):null,(0,o.createElement)("span",{className:"woocommerce-search-list__item-name"},function(e,t){if(!t)return e;const r=new RegExp((0,_.escapeRegExp)(t),"ig");return e.split(r).map(((e,r)=>0===r?e:(0,o.createElement)(o.Fragment,{key:r},(0,o.createElement)("strong",null,t),e)))}(a.name,m))),!!p&&(0,o.createElement)("span",{className:"woocommerce-search-list__item-count"},t||a.count));var f};R.propTypes={className:d().string,countLabel:d().node,controlId:d().node,depth:d().number,item:d().object,name:d().string,isSelected:d().bool,isSingle:d().bool,onSelect:d().func,search:d().string};var O=R,N=function(e){let{icon:t,size:r=24,...n}=e;return(0,o.cloneElement)(t,{width:r,height:r,...n})},P=window.wp.primitives,I=(0,o.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(P.Path,{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 12L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7626 15.8232 14.4697 15.5303L12 13.0607L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9393 12L8.46967 9.53033C8.17678 9.23744 8.17678 8.76256 8.46967 8.46967C8.76256 8.17678 9.23744 8.17678 9.53033 8.46967L12 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z"})),A=window.wp.htmlEntities;const T=e=>{let{id:t,instanceId:r,label:c,popoverContents:a,remove:l,screenReaderLabel:i,className:u}=e;const[m,d]=(0,o.useState)(!1);if(i=i||c,!c)return null;c=(0,A.decodeEntities)(c);const p=k()("woocommerce-tag",u,{"has-remove":!!l}),g=`woocommerce-tag__label-${r}`,h=(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",{className:"screen-reader-text"},i),(0,o.createElement)("span",{"aria-hidden":"true"},c));return(0,o.createElement)("span",{className:p},a?(0,o.createElement)(s.Button,{className:"woocommerce-tag__text",id:g,onClick:()=>d(!0)},h):(0,o.createElement)("span",{className:"woocommerce-tag__text",id:g},h),a&&m&&(0,o.createElement)(s.Popover,{onClose:()=>d(!1)},a),l&&(0,o.createElement)(s.Button,{className:"woocommerce-tag__remove",onClick:l(t),label:(0,n.sprintf)((0,n.__)("Remove %s","woocommerce-admin"),c),"aria-describedby":g},(0,o.createElement)(N,{icon:I,size:20,className:"clear-icon"})))};T.propTypes={id:d().oneOfType([d().number,d().string]),label:d().string.isRequired,popoverContents:d().node,remove:d().func,screenReaderLabel:d().string};var L=(0,p.withInstanceId)(T);const B={clear:(0,n.__)("Clear all selected items","woocommerce-admin"),noItems:(0,n.__)("No items found.","woocommerce-admin"),noResults:(0,n.__)("No results for %s","woocommerce-admin"),search:(0,n.__)("Search for items","woocommerce-admin"),selected:e=>(0,n.sprintf)(
/* translators: Number of items selected from list. */
(0,n._n)("%d item selected","%d items selected",e,"woocommerce-admin"),e),updated:(0,n.__)("Search results updated.","woocommerce-admin")},j=e=>{const[t,r]=(0,o.useState)(e.search||""),{isSingle:c,isLoading:a,onChange:l,selected:i,instanceId:u,messages:m,isCompact:d,debouncedSpeak:p,onSearch:g,className:h=""}=e,w={...B,...m};(0,o.useEffect)((()=>{"function"==typeof g&&g(t)}),[g,t]);const b=e=>()=>{c&&l([]);const t=(0,_.findIndex)(i,{id:e});l([...i.slice(0,t),...i.slice(t+1)])},f=e=>()=>{v(e)?b(e.id)():l(c?[e]:[...i,e])},v=e=>-1!==(0,_.findIndex)(i,{id:e.id}),y=e=>(0,o.createElement)(O,e),C=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=e.renderItem||y;return r?r.map((e=>(0,o.createElement)(o.Fragment,{key:e.id},(0,o.createElement)("li",null,a({item:e,isSelected:v(e),onSelect:f,isSingle:c,search:t,depth:n,controlId:u})),C(e.children,n+1)))):null};return(0,o.createElement)("div",{className:k()("woocommerce-search-list",h,{"is-compact":d})},(()=>{if(a||c||!i)return null;const e=i.length;return(0,o.createElement)("div",{className:"woocommerce-search-list__selected"},(0,o.createElement)("div",{className:"woocommerce-search-list__selected-header"},(0,o.createElement)("strong",null,w.selected(e)),e>0?(0,o.createElement)(s.Button,{isLink:!0,isDestructive:!0,onClick:()=>{l([])},"aria-label":w.clear},(0,n.__)("Clear all","woocommerce-admin")):null),e>0?(0,o.createElement)("ul",null,i.map(((e,t)=>(0,o.createElement)("li",{key:t},(0,o.createElement)(L,{label:e.name,id:e.id,remove:b}))))):null)})(),(0,o.createElement)("div",{className:"woocommerce-search-list__search"},(0,o.createElement)(s.TextControl,{label:w.search,type:"search",value:t,onChange:e=>r(e)})),(()=>{if(a)return(0,o.createElement)("div",{className:"woocommerce-search-list__list is-loading"},(0,o.createElement)(s.Spinner,null));const r=((t,r)=>{const{isHierarchical:o}=e;if(!r)return o?x(t):t;const n=new RegExp((0,_.escapeRegExp)(r),"i");p(w.updated);const c=t.map((e=>!!n.test(e.name)&&e)).filter(Boolean);return o?x(c,t):c})(e.list,t);return r.length?(0,o.createElement)("ul",{className:"woocommerce-search-list__list"},C(r)):(0,o.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},(0,o.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},(0,o.createElement)(S.Z,{role:"img","aria-hidden":"true",focusable:"false"})),(0,o.createElement)("span",{className:"woocommerce-search-list__not-found-text"},t?(0,n.sprintf)(w.noResults,t):w.noItems))})())};j.propTypes={className:d().string,isCompact:d().bool,isHierarchical:d().bool,isLoading:d().bool,isSingle:d().bool,list:d().arrayOf(d().shape({id:d().number,name:d().string})),messages:d().shape({clear:d().string,noItems:d().string,noResults:d().string,search:d().string,selected:d().func,updated:d().string}),onChange:d().func.isRequired,onSearch:d().func,renderItem:d().func,selected:d().array.isRequired,debouncedSpeak:d().func,instanceId:d().number};var $=(0,p.compose)([s.withSpokenMessages,p.withInstanceId])(j);const D=e=>{let{categories:t,error:r,isLoading:c,onChange:a,onOperatorChange:l,operator:i,selected:m,isCompact:d,isSingle:p,showReviewCount:g}=e;const h={clear:(0,n.__)("Clear all product categories","woo-gutenberg-products-block"),list:(0,n.__)("Product Categories","woo-gutenberg-products-block"),noItems:(0,n.__)("Your store doesn't have any product categories.","woo-gutenberg-products-block"),search:(0,n.__)("Search for product categories","woo-gutenberg-products-block"),selected:e=>(0,n.sprintf)(
/* translators: %d is the count of selected categories. */
(0,n._n)("%d category selected","%d categories selected",e,"woo-gutenberg-products-block"),e),updated:(0,n.__)("Category search results updated.","woo-gutenberg-products-block")};return r?(0,o.createElement)("div",{className:"wc-block-error-message"},r):(0,o.createElement)(o.Fragment,null,(0,o.createElement)($,{className:"woocommerce-product-categories2",list:t,isLoading:c,selected:m.map((e=>t.find((t=>t.id===e)))).filter(Boolean),onChange:a,renderItem:e=>{const{item:t,search:r,depth:c=0}=e,a=t.breadcrumbs.length?`${t.breadcrumbs.join(", ")}, ${t.name}`:t.name,s=g?(0,n.sprintf)(
/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,n._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",t.review_count,"woo-gutenberg-products-block"),a,t.review_count):(0,n.sprintf)(
/* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,n._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.count,"woo-gutenberg-products-block"),a,t.count),l=g?(0,n.sprintf)(
/* translators: %d is the count of reviews. */
(0,n._n)("%d review","%d reviews",t.review_count,"woo-gutenberg-products-block"),t.review_count):(0,n.sprintf)(
/* translators: %d is the count of products. */
(0,n._n)("%d product","%d products",t.count,"woo-gutenberg-products-block"),t.count);return(0,o.createElement)(O,u({className:k()("woocommerce-product-categories__item","has-count",{"is-searching":r.length>0,"is-skip-level":0===c&&0!==t.parent})},e,{countLabel:l,"aria-label":s}))},messages:h,isCompact:d,isHierarchical:!0,isSingle:p}),!!l&&(0,o.createElement)("div",{hidden:m.length<2},(0,o.createElement)(s.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,n.__)("Display products matching","woo-gutenberg-products-block"),help:(0,n.__)("Pick at least two categories to use this setting.","woo-gutenberg-products-block"),value:i,onChange:l,options:[{label:(0,n.__)("Any selected categories","woo-gutenberg-products-block"),value:"any"},{label:(0,n.__)("All selected categories","woo-gutenberg-products-block"),value:"all"}]})))};D.propTypes={onChange:d().func.isRequired,onOperatorChange:d().func,operator:d().oneOf(["all","any"]),selected:d().array.isRequired,isCompact:d().bool,isSingle:d().bool},D.defaultProps={operator:"any",isCompact:!1,isSingle:!1};var M=C(D),q=r(196);var F=window.wp.escapeHtml,z=e=>{let{error:t}=e;return(0,o.createElement)("div",{className:"wc-block-error-message"},(e=>{let{message:t,type:r}=e;return t?"general"===r?(0,o.createElement)("span",null,(0,n.__)("The following error was returned","woo-gutenberg-products-block"),(0,o.createElement)("br",null),(0,o.createElement)("code",null,(0,F.escapeHTML)(t))):"api"===r?(0,o.createElement)("span",null,(0,n.__)("The following error was returned from the API","woo-gutenberg-products-block"),(0,o.createElement)("br",null),(0,o.createElement)("code",null,(0,F.escapeHTML)(t))):t:(0,n.__)("An unknown error occurred which prevented the block from being updated.","woo-gutenberg-products-block")})(t))};const H=e=>{let{error:t,onChange:r,onSearch:c,selected:a,products:s,isLoading:l,isCompact:i}=e;const u={clear:(0,n.__)("Clear all products","woo-gutenberg-products-block"),list:(0,n.__)("Products","woo-gutenberg-products-block"),noItems:(0,n.__)("Your store doesn't have any products.","woo-gutenberg-products-block"),search:(0,n.__)("Search for products to display","woo-gutenberg-products-block"),selected:e=>(0,n.sprintf)(
/* translators: %d is the number of selected products. */
(0,n._n)("%d product selected","%d products selected",e,"woo-gutenberg-products-block"),e),updated:(0,n.__)("Product search results updated.","woo-gutenberg-products-block")};return t?(0,o.createElement)(z,{error:t}):(0,o.createElement)($,{className:"woocommerce-products",list:s.map((e=>{const t=e.sku?" ("+e.sku+")":"";return{...e,name:`${e.name}${t}`}})),isCompact:i,isLoading:l,selected:s.filter((e=>{let{id:t}=e;return a.includes(t)})),onSearch:c,onChange:r,messages:u})};H.propTypes={onChange:d().func.isRequired,onSearch:d().func,selected:d().array,products:d().array,isCompact:d().bool,isLoading:d().bool},H.defaultProps={selected:[],products:[],isCompact:!1,isLoading:!0};var G,Q=(G=H,e=>{let{selected:t,...r}=e;const[n,c]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),[l,i]=(0,o.useState)([]),m=async e=>{const t=await v(e);s(t),c(!1)},d=(0,o.useRef)(t);(0,o.useEffect)((()=>{b({selected:d.current}).then((e=>{i(e),c(!1)})).catch(m)}),[d]);const p=function(e,t,r){var o=this,n=(0,q.useRef)(null),c=(0,q.useRef)(0),a=(0,q.useRef)(null),s=(0,q.useRef)([]),l=(0,q.useRef)(),i=(0,q.useRef)(),u=(0,q.useRef)(e),m=(0,q.useRef)(!0);(0,q.useEffect)((function(){u.current=e}),[e]);var d=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var p=!!(r=r||{}).leading,g=!("trailing"in r)||!!r.trailing,h="maxWait"in r,w=h?Math.max(+r.maxWait||0,t):null;(0,q.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var _=(0,q.useMemo)((function(){var e=function(e){var t=s.current,r=l.current;return s.current=l.current=null,c.current=e,i.current=u.current.apply(r,t)},r=function(e,t){d&&cancelAnimationFrame(a.current),a.current=d?requestAnimationFrame(e):setTimeout(e,t)},_=function(e){if(!m.current)return!1;var r=e-n.current;return!n.current||r>=t||r<0||h&&e-c.current>=w},b=function(t){return a.current=null,g&&s.current?e(t):(s.current=l.current=null,i.current)},f=function e(){var o=Date.now();if(_(o))return b(o);if(m.current){var a=t-(o-n.current),s=h?Math.min(a,w-(o-c.current)):a;r(e,s)}},v=function(){var u=Date.now(),d=_(u);if(s.current=[].slice.call(arguments),l.current=o,n.current=u,d){if(!a.current&&m.current)return c.current=n.current,r(f,t),p?e(n.current):i.current;if(h)return r(f,t),e(n.current)}return a.current||r(f,t),i.current};return v.cancel=function(){a.current&&(d?cancelAnimationFrame(a.current):clearTimeout(a.current)),c.current=0,s.current=n.current=l.current=a.current=null},v.isPending=function(){return!!a.current},v.flush=function(){return a.current?b(Date.now()):i.current},v}),[p,h,t,w,g,d]);return _}((e=>{b({selected:t,search:e}).then((e=>{i(e),c(!1)})).catch(m)}),400),g=(0,o.useCallback)((e=>{c(!0),p(e)}),[c,p]);return(0,o.createElement)(G,u({},r,{selected:t,error:a,products:l,isLoading:n,onSearch:g}))});class W extends o.Component{constructor(){super(...arguments),this.state={list:[],loading:!0},this.renderItem=this.renderItem.bind(this),this.debouncedOnSearch=(0,_.debounce)(this.onSearch.bind(this),400)}componentDidMount(){const{selected:e}=this.props;f({selected:e}).then((e=>{this.setState({list:e,loading:!1})})).catch((()=>{this.setState({list:[],loading:!1})}))}onSearch(e){const{selected:t}=this.props;this.setState({loading:!0}),f({selected:t,search:e}).then((e=>{this.setState({list:e,loading:!1})})).catch((()=>{this.setState({list:[],loading:!1})}))}renderItem(e){const{item:t,search:r,depth:c=0}=e,a=t.breadcrumbs.length?`${t.breadcrumbs.join(", ")}, ${t.name}`:t.name;return(0,o.createElement)(O,u({className:k()("woocommerce-product-tags__item","has-count",{"is-searching":r.length>0,"is-skip-level":0===c&&0!==t.parent})},e,{"aria-label":(0,n.sprintf)(
/* translators: %1$d is the count of products, %2$s is the name of the tag. */
(0,n._n)("%1$d product tagged as %2$s","%1$d products tagged as %2$s",t.count,"woo-gutenberg-products-block"),t.count,a)}))}render(){const{list:e,loading:t}=this.state,{isCompact:r,onChange:c,onOperatorChange:a,operator:l,selected:i}=this.props,u={clear:(0,n.__)("Clear all product tags","woo-gutenberg-products-block"),list:(0,n.__)("Product Tags","woo-gutenberg-products-block"),noItems:(0,n.__)("Your store doesn't have any product tags.","woo-gutenberg-products-block"),search:(0,n.__)("Search for product tags","woo-gutenberg-products-block"),selected:e=>(0,n.sprintf)(
/* translators: %d is the count of selected tags. */
(0,n._n)("%d tag selected","%d tags selected",e,"woo-gutenberg-products-block"),e),updated:(0,n.__)("Tag search results updated.","woo-gutenberg-products-block")};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)($,{className:"woocommerce-product-tags",list:e,isLoading:t,selected:i.map((t=>e.find((e=>e.id===t)))).filter(Boolean),onChange:c,onSearch:this.debouncedOnSearch,renderItem:this.renderItem,messages:u,isCompact:r,isHierarchical:!0}),!!a&&(0,o.createElement)("div",{hidden:i.length<2},(0,o.createElement)(s.SelectControl,{className:"woocommerce-product-tags__operator",label:(0,n.__)("Display products matching","woo-gutenberg-products-block"),help:(0,n.__)("Pick at least two tags to use this setting.","woo-gutenberg-products-block"),value:l,onChange:a,options:[{label:(0,n.__)("Any selected tags","woo-gutenberg-products-block"),value:"any"},{label:(0,n.__)("All selected tags","woo-gutenberg-products-block"),value:"all"}]})))}}W.propTypes={onChange:d().func.isRequired,onOperatorChange:d().func,operator:d().oneOf(["all","any"]),selected:d().array.isRequired,isCompact:d().bool},W.defaultProps={isCompact:!1,operator:"any"};var Y=W,Z=e=>(0,o.createElement)(s.BaseControl,{id:e.instanceId||Math.random(),label:e.label||""},(0,o.createElement)(s.ColorPicker,{color:e.color,label:e.label,disableAlpha:e.disableAlpha,onChangeComplete:e.onChange})),V=window.wp.blockEditor;const{name:U}=a;function J(e){let{attributes:t,setAttributes:r}=e;return(0,o.useEffect)((()=>{let e=setInterval((function(){jQuery(".cr-reviews-grid-inner.cr-colcade-loaded").length?clearInterval(e):jQuery(".cr-reviews-grid-inner").length&&"function"==typeof crResizeAllGridItems&&crResizeAllGridItems()}),1e3)})),(0,o.createElement)("div",(0,V.useBlockProps)(),(0,o.createElement)(V.InspectorControls,{key:"setting"},(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Review Grid Settings","customer-reviews-woocommerce"),initialOpen:!0},(0,o.createElement)(s.RangeControl,{label:(0,n.__)("Number of Reviews","customer-reviews-woocommerce"),value:t.count,min:1,max:6,onChange:e=>r({count:e})}),(0,o.createElement)(s.RangeControl,{label:(0,n.__)("Number of Shop Reviews","customer-reviews-woocommerce"),value:t.count_shop_reviews,min:0,max:3,onChange:e=>r({count_shop_reviews:e})}),(0,o.createElement)(s.RangeControl,{label:(0,n.__)("Show More","customer-reviews-woocommerce"),value:t.show_more,min:0,max:10,onChange:e=>r({show_more:e})}),(0,o.createElement)(s.RangeControl,{label:(0,n.__)("Minimum Number of Characters in a Review (0 = Display All Reviews)","customer-reviews-woocommerce"),value:t.min_chars,min:0,max:9999,onChange:e=>r({min_chars:e})}),(0,o.createElement)(s.ToggleControl,{label:(0,n.__)("Show Products","customer-reviews-woocommerce"),checked:t.show_products,onChange:()=>r({show_products:!t.show_products})}),(0,o.createElement)(s.ToggleControl,{label:(0,n.__)("Product Links","customer-reviews-woocommerce"),checked:t.product_links,onChange:()=>r({product_links:!t.product_links})}),(0,o.createElement)(s.ToggleControl,{label:(0,n.__)("Shop Reviews","customer-reviews-woocommerce"),checked:t.shop_reviews,onChange:()=>r({shop_reviews:!t.shop_reviews})}),(0,o.createElement)(s.ToggleControl,{label:(0,n.__)("Inactive Products","customer-reviews-woocommerce"),checked:t.inactive_products,onChange:()=>r({inactive_products:!t.inactive_products})}),(0,o.createElement)(s.ToggleControl,{label:(0,n.__)("Show Rating Bars","customer-reviews-woocommerce"),checked:t.show_summary_bar,onChange:()=>r({show_summary_bar:!t.show_summary_bar})}),(0,o.createElement)(s.SelectControl,{label:(0,n.__)("Avatars","customer-reviews-woocommerce"),value:t.avatars,options:[{label:(0,n.__)("Initials","customer-reviews-woocommerce"),value:"initials"},{label:(0,n.__)("Standard","customer-reviews-woocommerce"),value:"standard"},{label:(0,n.__)("No avatars","customer-reviews-woocommerce"),value:"false"}],onChange:e=>r({avatars:e})}),(0,o.createElement)(s.SelectControl,{label:(0,n.__)("Sort By","customer-reviews-woocommerce"),value:t.sort_by,options:[{label:(0,n.__)("Date","customer-reviews-woocommerce"),value:"date"},{label:(0,n.__)("Rating","customer-reviews-woocommerce"),value:"rating"},{label:(0,n.__)("Media","customer-reviews-woocommerce"),value:"media"}],onChange:e=>r({sort_by:e})}),(0,o.createElement)(s.SelectControl,{label:(0,n.__)("Sort Order","customer-reviews-woocommerce"),value:t.sort,options:[{label:(0,n.__)("Ascending","customer-reviews-woocommerce"),value:"ASC"},{label:(0,n.__)("Descending","customer-reviews-woocommerce"),value:"DESC"},{label:(0,n.__)("Random","customer-reviews-woocommerce"),value:"RAND"}],onChange:e=>r({sort:e})})),(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Product Categories","customer-reviews-woocommerce"),initialOpen:!1},(0,o.createElement)("div",null,(0,n.__)("Select which product categories to show reviews for.","customer-reviews-woocommerce")),(0,o.createElement)(M,{selected:t.categories,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.map((e=>{let{id:t}=e;return t}));r({categories:t})},isCompact:!0})),(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Products","customer-reviews-woocommerce"),initialOpen:!1},(0,o.createElement)("div",null,(0,n.__)("Select which products to show reviews for.","customer-reviews-woocommerce")),(0,o.createElement)(Q,{selected:t.products,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.map((e=>{let{id:t}=e;return t}));r({products:t})}})),(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Product Tags","customer-reviews-woocommerce"),initialOpen:!1},(0,o.createElement)("div",null,(0,n.__)("Select which product tags to show reviews for.","customer-reviews-woocommerce")),(0,o.createElement)(Y,{selected:t.product_tags,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.map((e=>{let{id:t}=e;return t}));r({product_tags:t})}})),(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Colors","customer-reviews-woocommerce"),initialOpen:!1},(0,o.createElement)(Z,{color:t.color_ex_brdr,label:(0,n.__)("External Border","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_ex_brdr:e.hex})}}),(0,o.createElement)(Z,{color:t.color_brdr,label:(0,n.__)("Review Card Border","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_brdr:e.hex})}}),(0,o.createElement)(Z,{color:t.color_ex_bcrd,label:(0,n.__)("Background","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_ex_bcrd:e.hex})}}),(0,o.createElement)(Z,{color:t.color_bcrd,label:(0,n.__)("Review Card Background","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_bcrd:e.hex})}}),(0,o.createElement)(Z,{color:t.color_pr_bcrd,label:(0,n.__)("Product Area Background","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_pr_bcrd:e.hex})}}),(0,o.createElement)(Z,{color:t.color_stars,label:(0,n.__)("Stars","customer-reviews-woocommerce"),disableAlpha:!0,onChange:e=>{r({color_stars:e.hex})}}))),(0,o.createElement)(s.Disabled,null,(0,o.createElement)(i(),{block:U,attributes:t})))}const{name:K,description:X}=a;(0,c.registerBlockType)(K,{description:(0,n.__)(X,"customer-reviews-woocommerce"),edit:e=>(0,o.createElement)(J,e),save:()=>null})},184:function(e,t){var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)){if(r.length){var a=n.apply(null,r);a&&e.push(a)}}else if("object"===c)if(r.toString===Object.prototype.toString)for(var s in r)o.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},683:function(e,t,r){"use strict";t.Z=function(e){var t=e.size,r=void 0===t?24:t,o=e.onClick,s=(e.icon,e.className),l=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},c=Object.keys(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,c),i=["gridicon","gridicons-notice-outline",s,!!function(e){return 0==e%18}(r)&&"needs-offset",!1,!1].filter(Boolean).join(" ");return n.default.createElement("svg",a({className:i,height:r,width:r,onClick:o},l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),n.default.createElement("g",null,n.default.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 13h-2v2h2v-2zm-2-2h2l.5-6h-3l.5 6z"})))};var o,n=(o=r(196))&&o.__esModule?o:{default:o},c=["size","onClick","icon","className"];function a(){return a=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)}},703:function(e,t,r){"use strict";var o=r(414);function n(){}function c(){}c.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,c,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:n};return r.PropTypes=r,r}},697:function(e,t,r){e.exports=r(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},196:function(e){"use strict";e.exports=window.React}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var c=r[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=function(t,r,n,c){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],c=e[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&c||a>=c)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(s=!1,c<a&&(a=c));if(s){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[r,n,c]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={855:0,199:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,c,a=r[0],s=r[1],l=r[2],i=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var u=l(o)}for(t&&t(r);i<a.length;i++)c=a[i],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(u)},r=self.webpackChunkcustomer_reviews_woocommerce=self.webpackChunkcustomer_reviews_woocommerce||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=o.O(void 0,[199],(function(){return o(798)}));n=o.O(n)}();