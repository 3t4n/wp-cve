var j=jQuery.noConflict();function openpopup(product_id,logged_in,redirect_login,success_notice,ajax_loading,shop){j(".thwwac-add-btn").addClass("thwwac-disable-button"),j(".thwwac-browse-btn").addClass("thwwac-disable-button"),"yes"==logged_in&&j("#preloader"+product_id).css("display","inline-flex"),variation=!shop&&j('input[name="variation_id"]').val()?j('input[name="variation_id"]').val():null,j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"add_wishlist",product_id:product_id,logged_in:logged_in,variation_id:variation,addwishnonce:thwwac_var.addwishnonce},success:function(res){j(".thwwac-add-btn").removeClass("thwwac-disable-button"),j(".thwwac-browse-btn").removeClass("thwwac-disable-button"),"yes"==logged_in?(j("#thwwac_count").empty(),j("#preloader"+product_id).css("display","none"),"true"==res.show_count&&(j("#thwwac_count").length?j("#thwwac_count").append(res.count):j(".thwwac-counter-btn").append(res.count_with_element)),"true"==ajax_loading?(localStorage.setItem("th_process","wishlist"),"shop"==shop?("true"==success_notice&&show_popup(res.product_name),added_success(product_id)):("true"==success_notice&&show_popup(res.product_name),added_success_pdct(product_id))):location.reload()):"false"!=redirect_login?window.location.href=redirect_login:j("#loginmodal"+product_id).css("display","block")}})}function added_success(product_id){j("#browse"+product_id).show(),j("#add"+product_id).hide()}function added_success_pdct(product_id){j(".browse-btn-single"+product_id).show(),j(".th_add_btn_single"+product_id).hide()}function show_popup(product_name){j("#thwwc_modal").css("display","block"),j("#thwwc_product_name").empty(),j("#thwwc_product_name").append(product_name)}function closepopup(product_id){j("#thwwc_modal").css("display","none")}function closelogin(product_id){j("#preloader").css("display","none"),j("#loginmodal"+product_id).css("display","none")}function remove_success(product_id){j("#browse"+product_id).hide(),j("#add"+product_id).show(),j(".browse-btn-single"+product_id).hide(),j(".th_add_btn_single"+product_id).show()}function redirect_to_page(redirect_link){window.location.href=redirect_link}function thwwc_browse_action(btn_data){thwwac_var.remove_on_second_click?remove_from_wishlist_second_click(j(btn_data).data("product_id")):redirect_to_page(j(btn_data).data("redirect_link"))}function delete_confirmation(product_id){j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"get_product_details",pdctdetailsnonce:thwwac_var.pdctdetailsnonce,product_id:product_id},success:function(res){j("#thwwc-pdct-details").empty(),j("#thwwc-delete-confirm").show(),j("#thwwac-confirm-txt").show(),j("#thwwac-confirm-txt-all").hide(),j("#thwwc-pdct-details").append(res),j("#thwwc-delete-productid").val(product_id)}})}function close_confirm(product_id){j("#thwwc-delete-confirm").hide()}function addallcart(){j("#thwwac-wishlist-table button").attr("disabled",!0),j("#message").empty(),j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"add_all_to_cart",allcartnonce:thwwac_var.allcartnonce},success:function(res){"true"==res.redirect_checkout&&1==res.added?window.location.href=res.checkouturl:(window.scrollTo(0,200),location.reload())},complete:function(){j("#thwwac-wishlist-table button").attr("disabled",!1)}})}function wishlist_remove(){var product_id=j("#thwwc-delete-productid").val();j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"remove_wishlist",product_id:product_id,wishlist_page:!0,removewishnonce:thwwac_var.removewishnonce},success:function(response){location.reload(),window.scrollTo(0,200)}})}function remove_from_wishlist_second_click(product_id){j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"remove_wishlist",product_id:product_id,wishlist_page:!1,removewishnonce:thwwac_var.removewishnonce},success:function(response){remove_success(product_id),"true"==response.show_count&&(j("#thwwac_count").empty(),"true"==response.hide_zero&&0==response.count||j("#thwwac_count").append(response.count))}})}function addtocart_remove(product_id,remove){j("#thwwac-wishlist-table button").attr("disabled",!0),j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"add_to_cart_remove",product_id:product_id,remove:remove,cartremovenonce:thwwac_var.cartremovenonce},success:function(res){window.scrollTo(0,200),1!=res.extra_option&&"true"==res.redirect_checkout?window.location.href=res.checkouturl:location.reload()},complete:function(){j("#thwwac-wishlist-table button").attr("disabled",!1)}})}function select_all(){var checked=j("#select_all").prop("checked");j(".thwwac_case").each(function(){this.checked=checked})}function unselect_all(){j(".thwwac_case").length==j(".thwwac_case:checked").length?j("#select_all").prop("checked",!0):j("#select_all").removeAttr("checked")}function action(){var select=j("#action-type").val();"add to cart"==select?selected_to_cart(select):0<product_length().length?(j("#thwwc-delete-confirm").show(),j("#thwwc-pdct-details").empty(),j("#thwwac-confirm-txt").hide(),j("#thwwac-confirm-txt-all").show()):location.reload()}function selecttocart(){selected_to_cart("add to cart")}function selected_to_cart(select){j("#thwwac-wishlist-table button").attr("disabled",!0);var products=product_length();0<products.length?j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"multiple_action",products:products,select:select,multiactionnonce:thwwac_var.multiactionnonce},success:function(res){"true"==res.redirect_checkout&&1==res.added?window.location.href=res.checkouturl:(window.scrollTo(0,200),location.reload())},complete:function(){j("#thwwac-wishlist-table button").attr("disabled",!1)}}):location.reload()}function product_length(){var products=[];return j.each(j("input[name='thwwac_case']:checked"),function(){products.push(j(this).val())}),products.filter(function(el){return null!=el})}function show_icons(){j("#thwwc_share_icons").toggle("slide")}function copyclipboard(){var $tempInput,$body=document.getElementsByTagName("body")[0],secretInfo=(document.getElementById("btnCopy"),document.getElementById("secretInfo").textContent);url=secretInfo.replace(/\&amp;/g,"&"),$tempInput=document.createElement("INPUT"),$body.appendChild($tempInput),$tempInput.setAttribute("value",url),$tempInput.select(),document.execCommand("copy"),$body.removeChild($tempInput),document.getElementById("myTooltip").innerHTML="Copied"}function compare_add(product_id,popup){event.preventDefault(),j(".thwwc-compare-btn").addClass("thwwac-disable-button"),j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"add_compare",product_id:product_id,addcmpnonce:thwwac_var.addcmpnonce},success:function(res){j(".thwwc-compare-btn").removeClass("thwwac-disable-button"),j("#compare-popup").empty(),j("#compare-popup").append(res.items_html),j("#thwwac_is_page").val(0),localStorage.setItem("th_process_compare","compare"),1==popup&&(j("#main-header").css("z-index","0"),j(".fusion-header-wrapper").css("z-index","0"),j("#comparemodal").css("display","block"),j("body").css("overflow","hidden")),thwwac_compare_btn(product_id);for(var length=res.hide_default.fields.length,i=0;i<length;i++)j("."+res.hide_default.fields[i]).css("display","none")}})}function thwwac_compare_btn(product_id){j("#compare"+product_id).css("display","none"),j("#compare-btn"+product_id).css("display","none"),j("#compare-added"+product_id).css("display","block")}function openmodal(permalink){var marginTop,marginBottom;j("#added-msg").empty(),"false"==permalink?(event.preventDefault(),j(".fusion-header-wrapper").css("z-index","0"),j("#main-header").css("z-index","0"),j("#comparemodal").css("display","block"),marginTop=j(".thwwac-fixed-head h3").css("marginTop"),marginBottom=j(".thwwac-fixed-head h3").css("marginBottom"),(16.38<parseInt(marginTop)||16.38<parseInt(marginBottom))&&j(".thwwac-fixed-head h3").css("margin","auto"),j("body").css("overflow","hidden")):(event.preventDefault(),window.location.href=permalink)}function close_comparemodal(){"yes"==j('input[name="check_added_to_cart"]').val()?location.reload():(j("#comparemodal").css("display","none"),j("body").css("overflow-y","scroll"),j(".fusion-header-wrapper").css("z-index","10010"),j("#main-header").css("z-index","99999"))}function add_to_cart(product_id,current_page){event.preventDefault();current_page=j("#thwwac_is_page").val();j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"compare_addtocart",product_id:product_id,current_page:current_page,cmpcartnonce:thwwac_var.cmpcartnonce},success:function(res){window.scrollTo(0,200),1==current_page?location.reload():(j("#added-msg").empty(),j("#added-msg").css("height","0"),"out_of_stock"==res.stock_status?(j("#added-msg").css("height","40px"),j("#added-msg").append('<div class="woocommerce-error"><span>You cannot add that amount to the cart â€” we have '+res.cart_quantity+" in stock and you already have "+res.cart_quantity+' in your cart. </span><a href="'+res.carturl+'" class="button wc-forward">View cart</a></div>')):(j("#thwwc-view-cart"+product_id).show(),j("#compare-addcart-btn"+product_id).hide(),j("#check_added_to_cart").val("yes"),j(".woocommerce-mini-cart__total").remove(),j(".woocommerce-mini-cart__buttons").remove(),j("#site-header-cart .count").empty(),j("#site-header-cart .count").append(res.cart_count),j("a span.woocommerce-Price-amount").empty(),j("a span.woocommerce-Price-amount").append(res.cart_total),0==res.quantity?j(".woocommerce-mini-cart__empty-message").replaceWith(res.cart_contents):(j(".woocommerce-mini-cart").empty(),j(".woocommerce-mini-cart").append(res.cart_contents))))}})}function compare_remove(product_id){var hide="hide"==(hide=j('input[name="differences"]:checked').val())?"hide":"show";j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"remove_compare",product_id:product_id,remcmpnonce:thwwac_var.remcmpnonce},success:function(response){var obj=response,length=(j("#compare-btn"+product_id).css("display","block"),j("#added"+product_id).css("display","none"),j("#compare-added"+product_id).css("display","none"),0==obj.count?(j(".thwwac_hide_show").css("display","none"),j(".thwwac_hide_show_page").css("display","none"),j("#compare-popup").empty(),j("#compare-popup").append(obj.empty_compare),j("#compare_widget").empty(),j("#compare_widget").append(obj.empty_compare),j("#thwwc-compare-page").empty(),j("#thwwc-compare-page").append(obj.empty_compare)):(j("#thc_row"+product_id).css("display","none"),j("#compare_column"+product_id).css("display","none"),j(".thwwc_col_"+product_id).css("display","none")),obj.fields.length);if(1==obj.hide_by_default)for(var i=0;i<length;i++)j("."+obj.fields[i]).css("display","none");else if(0<obj.count)if("hide"==hide)for(i=0;i<length;i++)j("."+obj.fields[i]).css("display","none");else for(i=0;i<length;i++)j("."+obj.fields[i]).css("display","inline-flex")}})}function hide_show(){var hide="hide"==(hide=j('input[name="differences"]:checked').val())?"hide":"show";j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"hide_show",cmphsnonce:thwwac_var.cmphsnonce},success:function(response){var obj=response,length=obj.fields.length;if(0<obj.count)if("hide"==hide)for(var i=0;i<length;i++)j("."+obj.fields[i]).css("display","none");else for(i=0;i<length;i++)j("."+obj.fields[i]).css("display","inline-flex")}})}function grid_view(data){grid_list_active_class(data),j("#thwwac-wishlist").addClass("thwwc-wishlist-grid-view"),window.history.replaceState(null,null,"?thwwc_view=grid")}function list_view(data){grid_list_active_class(data),j("#thwwac-wishlist").removeClass("thwwc-wishlist-grid-view"),window.history.replaceState(null,null,"?thwwc_view=list")}function grid_list_active_class(data){j(".thwwc-listing").each(function(){j(this).addClass("thwwc-listing-inactive")}),j(data).removeClass("thwwc-listing-inactive")}j(document).ready(function(){j("#thwcc-filter-select").change(function(){var filter=j("#thwcc-filter-select"),filter={value:value=filter.val(),action:"filter_wishlisted_products",filternonce:thwwac_var.filternonce};return j.ajax({url:thwwac_var.ajaxurl,data:filter,type:"POST",success:function(data){data.success,j("#thwwc-resp-table-body").html(data.html)},error:function(){alert("error")}}),!1})}),j(document).ready(function(){j(".single_variation_wrap").on("show_variation",function(event,variation){j("a.thwwc-wish-btn").removeClass("thwwc_btn_disable"),j(".thwwac-wishlist-single").removeClass("thwwc_cursor_na"),j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"selected_variation_action",variationnonce:thwwac_var.variationnonce,variation:variation.variation_id},success:function(response){j("#"+response.show).show(),j("#"+response.hide).hide()}})}),j(".variations_form").on("woocommerce_variation_select_change",function(){j("a.thwwc-wish-btn").addClass("thwwc_btn_disable"),j(".thwwac-wishlist-single").addClass("thwwc_cursor_na")}),(0<j(".theme-Avada .product-buttons-container:has(.wishlist-btn)").length||0<j(".theme-Avada .product-buttons-container:has(.thwwac-browse-btn)").length||0<j(".theme-Avada .product-buttons-container:has(.thwwc-compare-btn)").length)&&j(".product-buttons-container").addClass("th_grid_display"),0!==j(".woocommerce-product-gallery").length&&(j(".thwwc-compare-btn.thwwc-bottom-right-thumb-variable-pdct").detach().appendTo(".woocommerce-product-gallery"),j(".added_btn.thwwc-bottom-right-thumb-variable-pdct").detach().appendTo(".woocommerce-product-gallery"));localStorage.getItem("th_process"),localStorage.getItem("th_process_compare");j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"update_on_back_press",backclicknonce:thwwac_var.backclicknonce},success:function(response){var obj=response,response=obj.all_products;if(j("#thwwac_count").empty(),null!=response)for(var i=0;i<obj.all_products.length;i++)added_success(obj.all_products[i]),added_success_pdct(obj.all_products[i]);"true"==obj.show_count&&j("#thwwac_count").append(obj.count)}}),j.ajax({type:"POST",url:thwwac_var.ajaxurl,data:{action:"update_compare_on_back",upcmpnonce:thwwac_var.upcmpnonce},success:function(response){var obj=response,response=obj.all_products;if(j("#compare-popup").empty(),j("#compare-popup").append(obj.items_html),null!=response)for(var i=0;i<obj.all_products.length;i++)thwwac_compare_btn(obj.all_products[i])}})});