jQuery(document).ready(function(a){var b=bc_framework_pointers_tour_l18n,c=[];a(document).on("guided_tour.setup_done",function(a,c){a.stopImmediatePropagation(),b.setPlugin(c)}),a(document).on("guided_tour.current_ready",function(a){a.stopImmediatePropagation(),b.openPointer()}),a.fn.guided_tour=function(d){b.js_pointers={},b.first_pointer=!1,b.current_pointer=!1,b.last_set_pointer=!1,b.last_pointer=!1,b.last_pointer_id=!1,b.visible_pointers=[],b.hasNext=function(a){return"string"==typeof a.next&&""!==a.next&&"undefined"!=typeof b.js_pointers[a.next].data&&"string"==typeof b.js_pointers[a.next].data.id},b.isVisible=function(c){return-1!==a.inArray(c.id,b.visible_pointers)},b.getPointerData=function(c){var d=a(c.anchor_id);if(c.target_id&&(d=a(c.target_id)),-1!==a.inArray(c.id,b.visible_pointers))return{target:d,data:c};for(d=!1;b.hasNext(c)&&!b.isVisible(c);)c=b.js_pointers[c.next].data,b.isVisible(c)&&(d=a(c.anchor_id));return b.isVisible(c)?{target:d,data:c}:{target:!1,data:!1}},b.setPlugin=function(d){"object"==typeof b.last_pointer&&(c.push(b.last_pointer_id),b.last_pointer.pointer("destroy"),b.last_pointer=!1),b.current_pointer=!1;var e=b.getPointerData(d);e.target&&e.data&&($target=e.target,d=e.data,$pointer=$target.pointer({content:d.title+d.content,position:{edge:d.edge,align:d.align},close:function(){b.hasNext(d)&&(b.js_pointers[d.next].data.bind?a(document).on(b.js_pointers[d.next].data.bind,function(){void 0!==b.js_pointers[d.next]&&b.setPlugin(b.js_pointers[d.next].data)}):b.setPlugin(b.js_pointers[d.next].data)),a.post(ajaxurl,{pointer:d.id,action:"dismiss-wp-pointer"})}}),b.current_pointer={pointer:$pointer,data:d,id:d.id},a(document).trigger("guided_tour.current_ready"))},b.openPointer=function(){var c=b.current_pointer.pointer;a("html, body").animate({scrollTop:c.offset().top-520},300,function(){b.last_pointer=c,b.last_pointer_id=b.current_pointer.data.id;var a=c.pointer("widget");a.addClass(b["class"]).addClass(b.current_pointer.data.id),b.setNext(a,b.current_pointer.data),c.pointer("open")})},b.setNext=function(a,d){if("object"==typeof a){var e=a.find(".wp-pointer-buttons").eq(0),f=e.find("a.close").eq(0);$button=f.clone(!0,!0).removeClass("close"),e.find("a.close").remove(),$button.addClass("button").addClass("button-primary"),has_next=!1,b.hasNext(d)?(has_next_data=b.getPointerData(b.js_pointers[d.next].data),has_next=has_next_data.target&&has_next_data.data,has_next=has_next||void 0!==b.js_pointers[d.next].data):c.push(b.last_pointer_id);var g=has_next?b.next_label:b.close_label;$button.html(g).appendTo(e).addClass(d.id)}},a(b.pointers).each(function(d,e){if(a().pointer&&-1===a.inArray(e.id,c)){b.js_pointers[e.id]={data:e};var f=a(e.anchor_id);e.target_id&&(f=a(e.target_id)),(f.length&&f.is(":visible")||e.bind)&&(b.visible_pointers.push(e.id),b.first_pointer||(b.first_pointer=e)),b.last_set_pointer=e,d===b.pointers.length-1&&b.first_pointer&&a(document).trigger("guided_tour.setup_done",b.first_pointer)}}),a(document).trigger("guided_tour.init")},a(document).guided_tour()});