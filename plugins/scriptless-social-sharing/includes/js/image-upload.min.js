!function(e,t,s){"use strict";var i,l={},r="scriptless-image-preview",a=".scriptless-delete",p=".scriptless-image-id";function n(e){var s;e.preventDefault(),i=t(this).prev(p),s||(s=wp.media.frames.file_frame=wp.media({id:"scriptless-uploader",title:[l.params.text],button:{text:[l.params.text]},filterable:"all",multiple:!1,library:{type:"image"}})).on("select",(function(){var e,p=s.state().get("selection").first().toJSON(),n=t(i).prevAll("."+r),c=t("<div />",{class:r}).append(t("<img/>",{style:"max-width:100%;",src:(e=p,e.sizes.medium?e.sizes.medium.url:e.url),alt:l.params.pinterest}));t(i).val(p.id),n.length&&n.remove(),t(i).before(c),t(a).show()})),s.open()}function c(){i=t(this).prevAll(p);var e=t(this).prevAll("."+r);t(i).val(""),t(e).remove(),t(a).hide()}l.upload=function(){t(".scriptless-upload").on("click.scriptless",n),t(a).on("click.delete",c)},l.params="undefined"==typeof scriptlessL10n?"":scriptlessL10n,void 0!==l.params&&l.upload()}(document,jQuery);