jQuery(function(i){function e(e){e.find(".social-icons-list").sortable({items:"li",cursor:"move",axis:"y",handle:"span.socicon",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,change:function(){i("div.widget[id*=themegrill_social_icons] .widget-control-save").trigger("change")}})}i(document.body).on("si-init-hidden-options",function(){i("input.show_label").change(function(){var e=i(this).parents(".widget-content").find(".social-icons-list");i(this).is(":checked")?e.removeClass("hide-icons-label"):e.addClass("hide-icons-label")}).change()}).trigger("si-init-hidden-options"),i(document.body).on("click",".social-icons-add-button button",function(e){e.preventDefault();var n=i(this).parents(".widget-content").find(".social-icons-list"),t=n.data("url-field-id"),o=n.data("url-field-name"),s=n.data("label-field-id"),l=n.data("label-field-name"),c=i(i.trim(i("#tmpl-social-icons-field").html()));c.find(".social-icons-field-url").attr("id",t).attr("name",o+"[]"),c.find(".social-icons-field-label").attr("id",s).attr("name",l+"[]"),n.append(c),n.last().find("input:first-child").trigger("focus"),i(this).parents(".widget-content").find(".social-icons-list:last input:first-child").trigger("focus")}),i(document.body).on("keyup",".social-icons-field-url",function(){var e,n=i(this),t=!1;(e=n.val().toLowerCase())&&(i.each(social_icons_admin_widgets.supported_url_icon,function(i,n){if(-1!==e.indexOf(i))return t=n,!0}),t||i.each(social_icons_admin_widgets.allowed_socicons,function(i,n){if(-1!==e.indexOf(n))return t=n,!0})),t?(i(".social-icons-add-button").find("button").removeAttr("disabled"),n.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-"+t)):(i(".social-icons-add-button").find("button").attr("disabled","disabled"),n.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle dashicons dashicons-plus"))}),i(document.body).on("panelsopen",function(n){var t=i(n.target);if(!t.has("social-icons-list"))return!1;t.addClass("widget-content"),e(t),i(document.body).trigger("si-init-hidden-options")}),i(document.body).on("click",".social-icons-field-remove",function(e){e.preventDefault(),i(this).parents(".social-icons-field").remove(),i("div.widget[id*=themegrill_social_icons] .widget-control-save").trigger("change")}),i(document.body).on("click","div.widget[id*=themegrill_social_icons] .widget-title, div.widget[id*=themegrill_social_icons] .widget-title-action",function(){i(this).parents("#available-widgets").length||e(i(this).parents(".widget[id*=themegrill_social_icons]"))}),i(document).on("widget-added widget-updated",function(n,t){t.is("[id*=themegrill_social_icons]")&&(n.preventDefault(),e(t)),i("input.show_label").change(function(){var e=i(this).parents(".widget-content").find(".social-icons-list");i(this).is(":checked")?e.removeClass("hide-icons-label"):e.addClass("hide-icons-label")});var o=i("input.show_label").parents(".widget-content").find(".social-icons-list");i("input.show_label").is(":checked")?o.removeClass("hide-icons-label"):o.addClass("hide-icons-label")})});