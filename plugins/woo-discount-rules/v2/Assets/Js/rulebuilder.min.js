var wdr_buildrule;!function(e){wdr_buildrule={wdr_clone_field:function(l){var d=e.extend({addFilterType:null,addFilterMethod:null,ruleAppendTo:null,addConditionType:null,addRemoveIcon:null,addDiscountElement:null,addDiscountType:null,newIndex:null},l),n=e(d.addRemoveIcon).html(),t=e(d.addFilterMethod).html();if(null===d.addDiscountElement&&null!==d.addFilterType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo){var i=e(d.addFilterType).html();i=i.replace(/{i}/g,d.newIndex),t=t.replace(/{i}/g,d.newIndex),e(d.ruleAppendTo).append('<div class="wdr-grid wdr-filter-group" data-index="'+d.newIndex+'">'+i+t+n+"</div>")}else if(null===d.addDiscountType&&null===d.addDiscountElement&&null===d.addFilterType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo&&null===d.addConditionType)t=t.replace(/{i}/g,d.newIndex),e(d.ruleAppendTo).append(t+n);else if(null===d.addDiscountElement&&null!==d.addConditionType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo){var o=e(d.addConditionType).html();let a="",r="";var u=e(d.addFilterMethod).html();u=u.replace(/{i}/g,d.newIndex),o&&"undefined"!=o?(o=o.replace(/{i}/g,d.newIndex),e(d.ruleAppendTo).append('<div class="'+r+' wdr-conditions-container wdr-condition-group" style="'+a+'" data-index="'+d.newIndex+'">'+o+u+n+"</div>")):(o="",a="display:none",r="promo_show_hide_"+d.newIndex,n="",e(d.ruleAppendTo+" [data-index='"+d.newIndex+"']").after('<div class="'+r+' wdr-conditions-container wdr-condition-group" style="'+a+'" data-index="'+d.newIndex+'">'+o+u+n+"</div>"))}else null==d.addDiscountType&&null!==d.addDiscountElement&&null!==d.addFilterMethod&&null!==d.ruleAppendTo?(t=t.replace(/{i}/g,d.newIndex),e(d.ruleAppendTo).append(t)):null!==d.addDiscountType&&null!==d.ruleAppendTo&&e(d.ruleAppendTo).html(t)},remove_wdr_field_group:function(l){var d=e.extend({parentRow:null,parentsRow:null,siblingElements:null,thisObject:null},l);null!==d.parentsRow&&null!==d.thisObject&&e(d.thisObject).parents(d.parentsRow).remove(),null!==d.parentRow&&null===d.siblingElements&&e(d.parentRow).siblings().remove()},re_index_ranges:function(){let l=1;e("#bulk_adjustment_sortable > .wdr-discount-group").each(function(d,n){let t=e(this).attr("data-index"),i=e(this).find("input"),o=e(this).find("select");o&&o.each(function(l,n){let i=e(this).attr("name");void 0!==i&&!1!==i&&e(this).attr("name",i.replace("["+t+"]","["+(d+1)+"]"))}),i&&i.each(function(l,n){let i=e(this).attr("name");void 0!==i&&!1!==i&&e(this).attr("name",i.replace("["+t+"]","["+(d+1)+"]"))}),e(this).attr("data-index",l++)})},show_hide_rule_block:function(l){var d=e.extend({showBlockId:null,hideBlockId:null,thisObject:null,discountTab:null,showTabId:null},l);null!==d.showBlockId&&null===d.hideBlockId&&e(d.showBlockId).show(),null!==d.showBlockId&&null!==d.hideBlockId&&(e(d.showBlockId).show(),e(d.hideBlockId).hide(),e(d.thisObject).siblings(".wdr-active").removeClass("wdr-active wdr-inactive").prop("disabled",!1).addClass("wdr-inactive"),e(d.thisObject).removeClass("wdr-inactive").addClass("wdr-active")),null!==d.showBlockId&&null!==d.hideBlockId&&(e(d.showBlockId).show(),e(d.hideBlockId).hide(),e(d.thisObject).siblings(".wdr-active").removeClass("wdr-active").prop("disabled",!1),e(d.thisObject).addClass("wdr-active"))}}}(jQuery);