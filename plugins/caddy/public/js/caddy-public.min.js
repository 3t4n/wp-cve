!function(c){"use strict";var t=c(".cc-window");function a(t=""){c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(a){var e=a.fragments;if(e&&c.each(e,function(t,a){c(t).replaceWith(a)}),new Tabby("[data-tabs]").toggle("#cc-cart"),"yes"==t&&c(".cc-window-wrapper").hide(),"move_to_cart"===t&&(c(".cc_cart_from_sfl").removeClass("cc_hide_btn"),c(".cc_cart_from_sfl").parent().find(".cc-loader").hide(),c(".cc-coupon .woocommerce-notices-wrapper").remove(),c(".cc-cart").removeAttr("hidden")),"no"===a.flatsome_product_redirect)return!1}})}jQuery(document).ready(function(n){setTimeout(function(){a()},200),n(".cc-nav ul li a").mousedown(function(){n(this).addClass("using-mouse")}),n("body").keydown(function(){n(".cc-nav ul li a").removeClass("using-mouse")});var s=new Tabby("[data-tabs]");n(document).mouseup(function(c){var a=n(".cc-window.visible, .cc-compass, #toast-container");!a.is(c.target)&&0===a.has(c.target).length&&t.hasClass("visible")&&(n(".cc-compass").toggleClass("cc-compass-open"),n("body").toggleClass("cc-window-open"),n(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible"),n("#toast-container").length>0&&n("#toast-container").animate({right:"25px"},"fast").toggleClass("cc-toast-open"))}),n(document).on("click",".cc-compass",function(){n(this).toggleClass("cc-compass-open"),n("body").toggleClass("cc-window-open"),t.hasClass("visible")?(n(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible")):(n(".cc-overlay").show(),s.toggle("#cc-cart"),t.animate({right:"0"},"slow").addClass("visible"))}),n(document).on("click",".ccicon-x",function(){n(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible"),n(".cc-compass").toggleClass("cc-compass-open"),n("body").toggleClass("cc-window-open")}),n(document).on("click",".cc-cart-product-list .cc-cart-product a.remove_from_cart_button",function(){var t,a,e,o;t=n(this),a=t.data("cart_item_key"),e=(t.data("product_name"),t.data("product_id")),o={nonce:cc_ajax_script.nonce,cart_item_key:a},c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_remove_item_from_cart"),data:o,complete:function(t){c(".single_add_to_cart_button, .add_to_cart_button").length>0&&c(".single_add_to_cart_button.added, .add_to_cart_button.added").each(function(){if(c("form.cart").length>0&&!c(this).hasClass("add_to_cart_button")){var t=c(this).closest("form.cart"),a=t.find("input[name=add-to-cart]").val()||c(this).val(),o=t.find("input[name=variation_id]").val()||0;0!==o&&(a=o)}else var a=c(this).data("product_id");a==e&&c(this).hasClass("added")&&c(this).removeClass("added")})},success:function(t){var a=t.fragments;a&&c.each(a,function(t,a){c(t).replaceWith(a)}),new Tabby("[data-tabs]").toggle("#cc-cart")}})}),n(document).on("click","a.remove_from_sfl_button",function(){var t,a,e;t=n(this),a=t.data("product_id"),e={nonce:cc_ajax_script.nonce,product_id:a},c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_remove_item_from_sfl"),data:e,beforeSend:function(t){c("#cc-saves").css("opacity","0.3")},complete:function(t){c("#cc-saves").css("opacity","1")},success:function(t){var a=t.fragments;a&&c.each(a,function(t,a){c(t).replaceWith(a)});var e=c("a.cc-sfl-btn.remove_from_sfl_button");e.has("i.ccicon-heart-filled")&&(e.find("i").removeClass("ccicon-heart-filled").addClass("ccicon-heart-empty"),e.find("span").text().length>0&&e.find("span").text("Save for later"),e.removeClass("remove_from_sfl_button").addClass("cc_add_product_to_sfl")),new Tabby("[data-tabs]").toggle("#cc-saves")}})}),n("body").on("added_to_cart",function(c,a,e,o){var s=n(".cc-compass-desk-notice").val(),i=n(".cc-compass-mobile-notice").val();cc_ajax_script.is_mobile&&!t.hasClass("visible")&&"mob_disable_notices"===i?setTimeout(function(){n(".cc-compass").trigger("click")},20):cc_ajax_script.is_mobile||t.hasClass("visible")||"desk_disable_notices"!==s&&"desk_notices_caddy_window"!==s&&""!==s||setTimeout(function(){n(".cc-compass").trigger("click")},20)}),n(document).on("click",".single_add_to_cart_button",function(c){if(c.preventDefault(),!n(this).hasClass("disabled")){if(n(this).hasClass("product_type_variable")||n(this).hasClass("product_type_bundle")||n(this).hasClass("product_type_external")){window.location=n(this).attr("href");return}var t=n(this),e=t.closest("form.cart").serializeArray(),o=!1;if(n.each(e,function(c,t){if(("productID"===t.name||"add-to-cart"===t.name)&&t.value)return o=!0,!1}),!o)var s=n(this).data("product_id");if(t.attr("name")&&"add-to-cart"==t.attr("name")&&t.attr("value"))var s=t.attr("value");return s&&e.push({name:"add-to-cart",value:s}),e.push({name:"action",value:"cc_add_to_cart"}),n(document.body).trigger("adding_to_cart",[t,e]),n.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_add_to_cart"),data:n.param(e),beforeSend:function(c){n("#cc-cart").css("opacity","0.3"),n(".cc-compass").find(".licon").hide(),n(".cc-compass").find(".cc-loader").show(),n("form.cart").length>0&&t.removeClass("added").addClass("loading")},success:function(c){c.error&&c.product_url?window.location.reload():t.hasClass("add_to_cart_button")||(a(),n(document.body).trigger("added_to_cart",[c.fragments,c.cart_hash,t]))},complete:function(c){n(".cc-compass").find(".cc-loader").hide(),n(".cc-compass").find(".licon").show(),n("form.cart").length>0&&t.addClass("added").removeClass("loading"),n("#cc-cart").css("opacity","1")}}),!1}}),n(document).on("click",".cc-pl-info .cc-pl-actions .cc-view-cart",function(){s.toggle("#cc-cart")}),n(document).on("click",".cc_item_quantity_update",function(){(function t(a){if(e){e=!1,c(".cc-notice").hide();var o=c(a).parents(".cc-cart-product-list"),n=c(o).find(".cc_item_quantity"),s=c(n).data("key"),i=c(n).data("product_id"),r=parseInt(c(n).val());"minus"==c(a).data("type")?r--:r++,r<1&&(r=1);var d={key:s,number:r,product_id:i,security:cc_ajax_script.nonce};c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_quantity_update"),data:d,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,o=t.qty_error_msg;a&&c.each(a,function(t,a){c(t).replaceWith(a)}),o&&(c(".cc-notice").addClass("cc-error").show().html(o),setTimeout(function(){c(".cc-notice").removeClass("cc-error").html("").hide()},2e3)),c(n).val(r),e=!0,new Tabby("[data-tabs]").toggle("#cc-cart")}})}})(n(this))}),n(document).on("click",".save_for_later_btn",function(){var t,a,e,o;t=n(this),a=t.data("product_id"),e=t.data("cart_item_key"),o={security:cc_ajax_script.nonce,product_id:a,cart_item_key:e},c.ajax({type:"post",dataType:"json",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_save_for_later"),data:o,beforeSend:function(a){c("#cc-cart").css("opacity","0.3"),t.addClass("cc_hide_btn"),t.parent().find(".cc-loader").show()},complete:function(a){t.removeClass("cc_hide_btn"),t.parent().find(".cc-loader").hide(),c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments;a&&c.each(a,function(t,a){c(t).replaceWith(a)}),new Tabby("[data-tabs]").toggle("#cc-saves")}})}),n(document).on("click",".cc_cart_from_sfl",function(){var t,e,o;t=n(this),e=t.data("product_id"),o={security:cc_ajax_script.nonce,product_id:e},c.ajax({type:"post",dataType:"json",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_move_to_cart"),data:o,beforeSend:function(c){t.addClass("cc_hide_btn"),t.parent().find(".cc-loader").show()},success:function(e){e.error?(t.removeClass("cc_hide_btn"),t.parent().find(".cc-loader").hide(),new Tabby("[data-tabs]").toggle("#cc-saves"),c(".cc-sfl-notice").show().html(e.error_message),setTimeout(function(){c(".cc-sfl-notice").html("").hide()},2e3)):a("move_to_cart")}})}),n(document).on("click",".cc_back_to_cart",function(){c(".cc-pl-info-container").hide(),c(".cc-window-wrapper").show()}),n(document).on("click",".added_to_cart.wc-forward, .woocommerce-error .button.wc-forward",function(c){c.preventDefault(),o()}),n(document).on("click",".cc_saved_items_list",function(){c(".cc-compass").toggleClass("cc-compass-open"),c("body").toggleClass("cc-window-open"),c(".cc-pl-info-container").hide(),c(".cc-window-wrapper").show(),c(".cc-overlay").show(),new Tabby("[data-tabs]").toggle("#cc-saves"),t.animate({right:"0"},"slow").addClass("visible")}),n(document).on("click",".cc_cart_items_list",function(){o()}),n(document).on("click",".cc-view-saved-items",function(){new Tabby("[data-tabs]").toggle("#cc-saves")}),n(".variations_form").length>0&&(n(".cc_add_product_to_sfl").addClass("disabled"),n(this).each(function(){n(this).on("found_variation",function(c,t){n(".cc_add_product_to_sfl").removeClass("disabled")}),n(this).on("reset_data",function(){n(".cc_add_product_to_sfl").addClass("disabled")})})),n(document).on("submit","#apply_coupon_form",function(t){var a,e;t.preventDefault(),a=c(".cc-coupon-form #cc_coupon_code").val(),e={nonce:cc_ajax_script.nonce,coupon_code:a},c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_apply_coupon_to_cart"),data:e,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,e=t.caddy_cart_subtotal;a&&c.each(a,function(t,a){c(t).replaceWith(a)}),c(".cc-total-amount").html(e),new Tabby("[data-tabs]").toggle("#cc-cart")}})}),n(document).on("click",".cc-applied-coupon .cc-remove-coupon",function(){var t,a,e;t=n(this),a=t.parent(".cc-applied-coupon").find(".cc_applied_code").text(),e={nonce:cc_ajax_script.nonce,coupon_code_to_remove:a},c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_remove_coupon_code"),data:e,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,e=t.free_shipping_title,o=t.free_shipping_meter,n=t.final_cart_subtotal;a&&c.each(a,function(t,a){c(t).replaceWith(a)}),c(".cc-fs-title").html(e),c(".cc-fs-meter").html(o),c(".cc-total-amount").html(n),new Tabby("[data-tabs]").toggle("#cc-cart")}})}),n(document).on("click",".cc-nav ul li a",function(){"cc-cart"===n(this).attr("data-id")&&n(".cc-pl-upsells-slider").resize()})}),c(window).on("load",function(){c(".cc-compass .cc-compass-count").show()});var e=!0;function o(){t.hasClass("visible")||c(".cc-compass").trigger("click")}}(jQuery);