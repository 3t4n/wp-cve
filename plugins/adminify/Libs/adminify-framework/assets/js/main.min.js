!function(i,e,n,a){"use strict";var t=t||{};function d(i){return null!==i&&""!==i&&(i=i.toString()).replace(/(<([^>]+)>)/ig,"")}t.funcs={},t.vars={onloaded:!1,$body:i("body"),$window:i(e),$document:i(n),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:i("body").hasClass("rtl")},t.helper={uid:function(i){return(i||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(i){return(i+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(e,n){var a=RegExp(t.helper.preg_quote(n+"[\\d+]"),"g");e.find(":radio").each(function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)}),e.each(function(e){i(this).find(":input").each(function(){this.name=this.name.replace(a,n+"["+e+"]"),this.orginal_checked&&(this.checked=!0)})})},debounce:function(i,e,n){var a;return function(){var t=this,d=arguments,r=function(){a=null,n||i.apply(t,d)},o=n&&!a;clearTimeout(a),a=setTimeout(r,e),o&&i.apply(t,d)}}},i.fn.adminify_clone=function(){for(var e=i.fn.clone.apply(this,arguments),n=this.find("select").add(this.filter("select")),a=e.find("select").add(e.filter("select")),t=0;t<n.length;++t)for(var d=0;d<n[t].options.length;++d)!0===n[t].options[d].selected&&(a[t].options[d].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),e},i.fn.adminify_expand_all=function(){return this.each(function(){i(this).on("click",function(e){e.preventDefault(),i(".adminify-wrapper").toggleClass("adminify-show-all"),i(".adminify-section").adminify_reload_script(),i(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})},i.fn.adminify_nav_options=function(){return this.each(function(){var n,a=i(this),t=i(e),d=i("#wpwrap"),r=a.find("a");t.on("hashchange adminify.hashchange",function(){var a,t=e.location.hash.replace("#tab=","")||r.first().attr("href").replace("#tab=",""),o=i('[data-tab-id="'+t+'"]');if(o.length){o.closest(".adminify-tab-item").addClass("adminify-tab-expanded").siblings().removeClass("adminify-tab-expanded"),o.next().is("ul")&&(t=(o=o.next().find("li").first().find("a")).data("tab-id")),r.removeClass("adminify-active"),o.addClass("adminify-active"),n&&n.addClass("hidden");var f=i('[data-section-id="'+t+'"]');f.removeClass("hidden"),f.adminify_reload_script(),i(".adminify-section-id").val(f.index()+1),n=f,d.hasClass("wp-responsive-open")&&(i("html, body").animate({scrollTop:f.offset().top-50},200),d.removeClass("wp-responsive-open"))}}).trigger("adminify.hashchange")})},i.fn.adminify_nav_metabox=function(){return this.each(function(){var e,n=i(this),t=n.find("a"),d=n.parent().find(".adminify-section");t.each(function(n){i(this).on("click",function(r){r.preventDefault();var o=i(this);t.removeClass("adminify-active"),o.addClass("adminify-active"),e!==a&&e.addClass("hidden");var f=d.eq(n);f.removeClass("hidden"),f.adminify_reload_script(),e=f})}),t.first().trigger("click")})},i.fn.adminify_page_templates=function(){this.length&&i(n).on("change",".editor-page-attributes__template select, #page_template",function(){var e=i(this).val()||"default";i(".adminify-page-templates").removeClass("adminify-metabox-show").addClass("adminify-metabox-hide"),i(".adminify-page-"+e.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("adminify-metabox-hide").addClass("adminify-metabox-show")})},i.fn.adminify_post_formats=function(){this.length&&i(n).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var e=i(this).val()||"default";e="0"===e?"default":e,i(".adminify-post-formats").removeClass("adminify-metabox-show").addClass("adminify-metabox-hide"),i(".adminify-post-format-"+e).removeClass("adminify-metabox-hide").addClass("adminify-metabox-show")})},i.fn.adminify_search=function(){return this.each(function(){i(this).find("input").on("change keyup",function(){var e=i(this).val(),n=i(".adminify-wrapper"),a=n.find(".adminify-section").find("> .adminify-field:not(.adminify-depend-on)"),t=a.find("> .adminify-title, .adminify-search-tags");e.length>3?(a.addClass("adminify-metabox-hide"),n.addClass("adminify-search-all"),t.each(function(){var n=i(this);if(n.text().match(RegExp(".*?"+e+".*?","i"))){var a=n.closest(".adminify-field");a.removeClass("adminify-metabox-hide"),a.parent().adminify_reload_script()}})):(a.removeClass("adminify-metabox-hide"),n.removeClass("adminify-search-all"))})})},i.fn.adminify_sticky=function(){return this.each(function(){var n=i(this),a=i(e),t=n.find(".adminify-header-inner"),d=parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")),r=0,o=!1,f=function(){var i=Math.max(32,n.offset().top-r),e=a.innerWidth();i<=32&&e>782?(t.css({width:n.outerWidth()-d}),n.css({height:n.outerHeight()}).addClass("adminify-sticky")):(t.removeAttr("style"),n.removeAttr("style").removeClass("adminify-sticky"))},l=function(){o||requestAnimationFrame(function(){f(),o=!1}),o=!0},s=function(){r=a.scrollTop(),l()};a.on("scroll resize",s),s()})},i.fn.adminify_dependency=function(){return this.each(function(){var e=i(this),n=e.children("[data-controller]");if(n.length){var a=i.adminify_deps.createRuleset(),d=i.adminify_deps.createRuleset(),r=[],o=[];n.each(function(){var e=i(this),n=e.data("controller").split("|"),t=e.data("condition").split("|"),f=e.data("value").toString().split("|"),l=!!e.data("depend-global"),s=l?d:a;i.each(n,function(i,n){var a=f[i]||"",d=t[i]||t[0];(s=s.createRule('[data-depend-id="'+n+'"]',d,a)).include(e),l?o.push(n):r.push(n)})}),r.length&&i.adminify_deps.enable(e,a,r),o.length&&i.adminify_deps.enable(t.vars.$body,d,o)}})},i.fn.adminify_field_accordion=function(){return this.each(function(){i(this).find(".adminify-accordion-title").on("click",function(){var e=i(this),n=e.find(".adminify-accordion-icon"),a=e.next();n.hasClass("fa-angle-right")?n.removeClass("fa-angle-right").addClass("fa-angle-down"):n.removeClass("fa-angle-down").addClass("fa-angle-right"),a.data("opened")||(a.adminify_reload_script(),a.data("opened",!0)),a.toggleClass("adminify-accordion-open")})})},i.fn.adminify_field_backup=function(){return this.each(function(){if(a!==e.wp.customize){var n=this,d=i(this),r=(i("body"),d.find(".adminify-import")),o=d.find(".adminify-reset");n.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each(function(i){i._dirty=!1}),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("adminify_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},o.on("click",function(i){i.preventDefault(),t.vars.is_confirm&&(n.notificationOverlay(),e.wp.ajax.post("adminify-reset",{unique:o.data("unique"),nonce:o.data("nonce")}).done(function(i){e.location.reload(!0)}).fail(function(i){alert(i.error),wp.customize.notifications.remove("adminify_field_backup_notification")}))}),r.on("click",function(i){i.preventDefault(),t.vars.is_confirm&&(n.notificationOverlay(),e.wp.ajax.post("adminify-import",{unique:r.data("unique"),nonce:r.data("nonce"),data:d.find(".adminify-import-data").val()}).done(function(i){e.location.reload(!0)}).fail(function(i){alert(i.error),wp.customize.notifications.remove("adminify_field_backup_notification")}))})}})},i.fn.adminify_field_background=function(){return this.each(function(){i(this).find(".adminify--background-image").adminify_reload_script()})},i.fn.adminify_field_code_editor=function(){return this.each(function(){if("function"==typeof CodeMirror){var e=i(this),n=e.find("textarea"),a=e.find(".CodeMirror"),d=n.data("editor");a.length&&a.remove();var r=setInterval(function(){if(e.is(":visible")){var a=CodeMirror.fromTextArea(n[0],d);if("default"!==d.theme&&-1===t.vars.code_themes.indexOf(d.theme)){var o=i("<link>");i("#adminify-codemirror-css").after(o),o.attr({rel:"stylesheet",id:"adminify-codemirror-"+d.theme+"-css",href:d.cdnURL+"/theme/"+d.theme+".min.css",type:"text/css",media:"all"}),t.vars.code_themes.push(d.theme)}CodeMirror.modeURL=d.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(a,d.mode),a.on("change",function(i,e){n.val(a.getValue()).trigger("change")}),clearInterval(r)}})}})},i.fn.adminify_field_date=function(){return this.each(function(){var e=i(this),n=e.find("input"),a=e.find(".adminify-date-settings").data("settings");a=i.extend({},a,{showAnim:"",beforeShow:function(e,n){i(n.dpDiv).addClass("adminify-datepicker-wrapper")},onClose:function(e,n){i(n.dpDiv).removeClass("adminify-datepicker-wrapper")}}),2===n.length&&(a=i.extend({},a,{onSelect:function(e){i(this),n.first();var t=n.first().attr("id")===i(this).attr("id")?"minDate":"maxDate",d=i.datepicker.parseDate(a.dateFormat,e);n.not(this).datepicker("option",t,d)}})),n.each(function(){var e=i(this);e.hasClass("hasDatepicker")&&e.removeAttr("id").removeClass("hasDatepicker"),e.datepicker(a)})})},i.fn.adminify_field_datetime=function(){return this.each(function(){var e=i(this),n=e.find("input"),a=e.find(".adminify-datetime-settings").data("settings");a=i.extend({},a,{onReady:function(e,n,a){i(a.calendarContainer).addClass("adminify-flatpickr")}}),2===n.length&&(a=i.extend({},a,{onChange:function(e,a,t){"from"===i(t.element).data("type")?n.last().get(0)._flatpickr.set("minDate",e[0]):n.first().get(0)._flatpickr.set("maxDate",e[0])}})),n.each(function(){i(this).flatpickr(a)})})},i.fn.adminify_field_fieldset=function(){return this.each(function(){i(this).find(".adminify-fieldset-content").adminify_reload_script()})},i.fn.adminify_field_gallery=function(){return this.each(function(){var n,a=i(this),t=a.find(".adminify-edit-gallery"),d=a.find(".adminify-clear-gallery"),r=a.find("ul"),o=a.find("input");a.find("img"),a.on("click",".adminify-button, .adminify-edit-gallery",function(a){var f=i(this),l=o.val(),s=f.hasClass("adminify-edit-gallery")?"edit":"add",c="add"!==s||l.length?"gallery-edit":"gallery";a.preventDefault(),void 0!==e.wp&&e.wp.media&&e.wp.media.gallery&&("gallery"===c?(n=e.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(n=e.wp.media.gallery.edit('[gallery ids="'+l+'"]'),"add"===s&&n.setState("gallery-library")),n.on("update",function(i){r.empty();var e=i.models.map(function(i){var e=i.toJSON(),n=e.sizes&&e.sizes.thumbnail&&e.sizes.thumbnail.url?e.sizes.thumbnail.url:e.url;return r.append('<li><img src="'+n+'"></li>'),e.id});o.val(e.join(",")).trigger("change"),d.removeClass("hidden"),t.removeClass("hidden")}))}),d.on("click",function(i){i.preventDefault(),r.empty(),o.val("").trigger("change"),d.addClass("hidden"),t.addClass("hidden")})})},i.fn.adminify_field_group=function(){return this.each(function(){var e=i(this),n=e.children(".adminify-fieldset"),a=n.length?n:e,d=a.children(".adminify-cloneable-wrapper"),r=a.children(".adminify-cloneable-hidden"),o=a.children(".adminify-cloneable-max"),f=a.children(".adminify-cloneable-min"),l=d.data("title-by"),s=d.data("title-by-prefix"),c=d.data("field-id"),m=Boolean(Number(d.data("title-number"))),h=parseInt(d.data("max")),y=parseInt(d.data("min"));d.hasClass("ui-accordion")&&d.find(".ui-accordion-header-icon").remove();var p=function(e){e.find(".adminify-cloneable-title-number").each(function(e){i(this).html(i(this).closest(".adminify-cloneable-item").index()+1+".")})};d.accordion({header:"> .adminify-cloneable-item > .adminify-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"adminify-cloneable-header-icon fas fa-angle-right",activeHeader:"adminify-cloneable-header-icon fas fa-angle-down"},activate:function(e,n){var a=n.newPanel,t=n.newHeader;if(a.length&&!a.data("opened")){var d=t.find(".adminify-cloneable-value"),r=[];i.each(l,function(i,e){r.push(a.find('[data-depend-id="'+e+'"]'))}),i.each(r,function(e,n){n.on("change keyup adminify.keyup",function(){var e=[];i.each(r,function(i,n){var a=n.val();a&&e.push(a)}),e.length&&d.text(e.join(s))}).trigger("adminify.keyup")}),a.adminify_reload_script(),a.data("opened",!0),a.data("retry",!1)}else a.data("retry")&&(a.adminify_reload_script_retry(),a.data("retry",!1))}}),d.sortable({axis:"y",handle:".adminify-cloneable-title,.adminify-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(i,e){d.accordion({active:!1}),d.sortable("refreshPositions"),e.item.children(".adminify-cloneable-content").data("retry",!0)},update:function(i,e){t.helper.name_nested_replace(d.children(".adminify-cloneable-item"),c),d.adminify_customizer_refresh(),m&&p(d)}}),a.children(".adminify-cloneable-add").on("click",function(i){i.preventDefault();var e=d.children(".adminify-cloneable-item").length;if(f.hide(),h&&e+1>h){o.show();return}var n=r.adminify_clone(!0);n.removeClass("adminify-cloneable-hidden"),n.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(c+"[0]",c+"["+e+"]")}),d.append(n),d.accordion("refresh"),d.accordion({active:e}),d.adminify_customizer_refresh(),d.adminify_customizer_listen({closest:!0}),m&&p(d)});var u=function(e){e.preventDefault();var n=d.children(".adminify-cloneable-item").length;if(f.hide(),h&&n+1>h){o.show();return}var a=i(this).parent().parent(),r=a.children(".adminify-cloneable-helper").adminify_clone(!0),l=a.children(".adminify-cloneable-title").adminify_clone(),s=a.children(".adminify-cloneable-content").adminify_clone(),y=i('<div class="adminify-cloneable-item" />');y.append(r),y.append(l),y.append(s),d.children().eq(a.index()).after(y),t.helper.name_nested_replace(d.children(".adminify-cloneable-item"),c),d.accordion("refresh"),d.adminify_customizer_refresh(),d.adminify_customizer_listen({closest:!0}),m&&p(d)};d.children(".adminify-cloneable-item").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-clone",u),a.children(".adminify-cloneable-hidden").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-clone",u);var v=function(e){e.preventDefault();var n=d.children(".adminify-cloneable-item").length;if(o.hide(),f.hide(),y&&n-1<y){f.show();return}i(this).closest(".adminify-cloneable-item").remove(),t.helper.name_nested_replace(d.children(".adminify-cloneable-item"),c),d.adminify_customizer_refresh(),m&&p(d)};d.children(".adminify-cloneable-item").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-remove",v),a.children(".adminify-cloneable-hidden").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-remove",v)})},i.fn.adminify_field_icon=function(){return this.each(function(){var n=i(this);n.on("click",".adminify-icon-add",function(a){a.preventDefault();var d=i(this),r=i("#adminify-modal-icon");r.removeClass("hidden"),t.vars.$icon_target=n,t.vars.icon_modal_loaded||(r.find(".adminify-modal-loading").show(),e.wp.ajax.post("adminify-get-icons",{nonce:d.data("nonce")}).done(function(e){r.find(".adminify-modal-loading").hide(),t.vars.icon_modal_loaded=!0;var n=r.find(".adminify-modal-load").html(e.content);n.on("click","i",function(e){e.preventDefault();var n=i(this).attr("title");t.vars.$icon_target.find(".adminify-icon-preview i").removeAttr("class").addClass(n),t.vars.$icon_target.find(".adminify-icon-preview").removeClass("hidden"),t.vars.$icon_target.find(".adminify-icon-remove").removeClass("hidden"),t.vars.$icon_target.find("input").val(n).trigger("change"),r.addClass("hidden")}),r.on("change keyup",".adminify-icon-search",function(){var e=i(this).val();n.find("i").each(function(){var n=i(this);0>n.attr("title").search(RegExp(e,"i"))?n.hide():n.show()})}),r.on("click",".adminify-modal-close, .adminify-modal-overlay",function(){r.addClass("hidden")})}).fail(function(i){r.find(".adminify-modal-loading").hide(),r.find(".adminify-modal-load").html(i.error),r.on("click",function(){r.addClass("hidden")})}))}),n.on("click",".adminify-icon-remove",function(e){e.preventDefault(),n.find(".adminify-icon-preview").addClass("hidden"),n.find("input").val("").trigger("change"),i(this).addClass("hidden")})})},i.fn.adminify_field_map=function(){return this.each(function(){if("undefined"!=typeof L){var e=i(this),n=e.find(".adminify--map-osm"),a=e.find(".adminify--map-search input"),t=e.find(".adminify--latitude"),d=e.find(".adminify--longitude"),r=e.find(".adminify--zoom"),o=n.data("map"),f=L.map(n.get(0),o);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f);var l=L.marker(o.center,{draggable:!0}).addTo(f),s=function(i){t.val(i.lat),d.val(i.lng),r.val(f.getZoom())};f.on("click",function(i){l.setLatLng(i.latlng),s(i.latlng)}),f.on("zoom",function(){s(l.getLatLng())}),l.on("drag",function(){s(l.getLatLng())}),a.length||(a=i('[data-depend-id="'+e.find(".adminify--address-field").data("address-field")+'"]'));var c={};a.autocomplete({source:function(e,n){var a=e.term;if(a in c){n(c[a]);return}i.get("https://nominatim.openstreetmap.org/search",{format:"json",q:a},function(i){var e;e=i.length?i.map(function(i){return{value:i.display_name,label:i.display_name,lat:i.lat,lon:i.lon}},"json"):[{value:"no-data",label:"No Results."}],c[a]=e,n(e)})},select:function(i,e){if("no-data"===e.item.value)return!1;var n=L.latLng(e.item.lat,e.item.lon);f.panTo(n),l.setLatLng(n),s(n)},create:function(e,n){i(this).autocomplete("widget").addClass("adminify-map-ui-autocomplate")}});var m=function(){var i=L.latLng(t.val(),d.val());f.panTo(i),l.setLatLng(i)};t.on("change",m),d.on("change",m)}})},i.fn.adminify_field_link=function(){return this.each(function(){var n=i(this),a=n.find(".adminify--link"),r=n.find(".adminify--add"),o=n.find(".adminify--edit"),f=n.find(".adminify--remove"),l=n.find(".adminify--result"),s=t.helper.uid("adminify-wplink-textarea-");r.on("click",function(i){i.preventDefault(),e.wpLink.open(s)}),o.on("click",function(e){e.preventDefault(),r.trigger("click"),i("#wp-link-url").val(d(n.find(".adminify--url").val())),i("#wp-link-text").val(d(n.find(".adminify--text").val())),i("#wp-link-target").prop("checked","_blank"===n.find(".adminify--target").val())}),f.on("click",function(i){i.preventDefault(),n.find(".adminify--url").val("").trigger("change"),n.find(".adminify--text").val(""),n.find(".adminify--target").val(""),r.removeClass("hidden"),o.addClass("hidden"),f.addClass("hidden"),l.parent().addClass("hidden")}),a.attr("id",s).on("change",function(){var a=e.wpLink.getAttrs(),t=d(a.href),s=d(i("#wp-link-text").val()),c=a.target?a.target:"";n.find(".adminify--url").val(t).trigger("change"),n.find(".adminify--text").val(s),n.find(".adminify--target").val(c),l.html('{url:"'+t+'", text:"'+s+'", target:"'+c+'"}'),r.addClass("hidden"),o.removeClass("hidden"),f.removeClass("hidden"),l.parent().removeClass("hidden")})})},i.fn.adminify_field_media=function(){return this.each(function(){var n,a=i(this),t=a.find(".adminify--button"),d=a.find(".adminify--remove"),r=t.data("library")&&t.data("library").split(",")||"",o=!!a.hasClass("adminify-assign-field-background")&&a.closest(".adminify-field-background").find(".adminify--auto-attributes");t.on("click",function(i){if(i.preventDefault(),void 0!==e.wp&&e.wp.media&&e.wp.media.gallery){if(n){n.open();return}(n=e.wp.media({library:{type:r}})).on("select",function(){var i,e=n.state().get("selection").first().attributes,f=t.data("preview-size")||"thumbnail";(!r.length||-1!==r.indexOf(e.subtype)||-1!==r.indexOf(e.type))&&(a.find(".adminify--id").val(e.id),a.find(".adminify--width").val(e.width),a.find(".adminify--height").val(e.height),a.find(".adminify--alt").val(e.alt),a.find(".adminify--title").val(e.title),a.find(".adminify--description").val(e.description),i=void 0!==e.sizes&&void 0!==e.sizes.thumbnail&&"thumbnail"===f?e.sizes.thumbnail.url:void 0!==e.sizes&&void 0!==e.sizes.full?e.sizes.full.url:"image"===e.type?e.url:e.icon,o&&o.removeClass("adminify--attributes-hidden"),d.removeClass("hidden"),a.find(".adminify--preview").removeClass("hidden"),a.find(".adminify--src").attr("src",i),a.find(".adminify--thumbnail").val(i),a.find(".adminify--url").val(e.url).trigger("change"))}),n.open()}}),d.on("click",function(i){i.preventDefault(),o&&o.addClass("adminify--attributes-hidden"),d.addClass("hidden"),a.find("input").val(""),a.find(".adminify--preview").addClass("hidden"),a.find(".adminify--url").trigger("change")})})},i.fn.adminify_field_repeater=function(){return this.each(function(){var e=i(this),n=e.children(".adminify-fieldset"),a=n.length?n:e,d=a.children(".adminify-repeater-wrapper"),r=a.children(".adminify-repeater-hidden"),o=a.children(".adminify-repeater-max"),f=a.children(".adminify-repeater-min"),l=d.data("field-id"),s=parseInt(d.data("max")),c=parseInt(d.data("min"));d.children(".adminify-repeater-item").children(".adminify-repeater-content").adminify_reload_script(),d.sortable({axis:"y",handle:".adminify-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(i,e){t.helper.name_nested_replace(d.children(".adminify-repeater-item"),l),d.adminify_customizer_refresh(),e.item.adminify_reload_script_retry()}}),a.children(".adminify-repeater-add").on("click",function(i){i.preventDefault();var e=d.children(".adminify-repeater-item").length;if(f.hide(),s&&e+1>s){o.show();return}var n=r.adminify_clone(!0);n.removeClass("adminify-repeater-hidden"),n.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(l+"[0]",l+"["+e+"]")}),d.append(n),n.children(".adminify-repeater-content").adminify_reload_script(),d.adminify_customizer_refresh(),d.adminify_customizer_listen({closest:!0})});var m=function(e){e.preventDefault();var n=d.children(".adminify-repeater-item").length;if(f.hide(),s&&n+1>s){o.show();return}var a=i(this).parent().parent().parent(),r=a.children(".adminify-repeater-content").adminify_clone(),c=a.children(".adminify-repeater-helper").adminify_clone(!0),m=i('<div class="adminify-repeater-item" />');m.append(r),m.append(c),d.children().eq(a.index()).after(m),m.children(".adminify-repeater-content").adminify_reload_script(),t.helper.name_nested_replace(d.children(".adminify-repeater-item"),l),d.adminify_customizer_refresh(),d.adminify_customizer_listen({closest:!0})};d.children(".adminify-repeater-item").children(".adminify-repeater-helper").on("click",".adminify-repeater-clone",m),a.children(".adminify-repeater-hidden").children(".adminify-repeater-helper").on("click",".adminify-repeater-clone",m);var h=function(e){e.preventDefault();var n=d.children(".adminify-repeater-item").length;if(o.hide(),f.hide(),c&&n-1<c){f.show();return}i(this).closest(".adminify-repeater-item").remove(),t.helper.name_nested_replace(d.children(".adminify-repeater-item"),l),d.adminify_customizer_refresh()};d.children(".adminify-repeater-item").children(".adminify-repeater-helper").on("click",".adminify-repeater-remove",h),a.children(".adminify-repeater-hidden").children(".adminify-repeater-helper").on("click",".adminify-repeater-remove",h)})},i.fn.adminify_field_slider=function(){return this.each(function(){var e=i(this),n=e.find("input"),a=e.find(".adminify-slider-ui"),t=n.data(),d=n.val()||0;a.hasClass("ui-slider")&&a.empty(),a.slider({range:"min",value:d,min:t.min||0,max:t.max||100,step:t.step||1,slide:function(i,e){n.val(e.value).trigger("change")}}),n.on("keyup",function(){a.slider("value",n.val())})})},i.fn.adminify_field_sortable=function(){return this.each(function(){var e=i(this).find(".adminify-sortable");e.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(i,n){e.adminify_customizer_refresh()}}),e.find(".adminify-sortable-content").adminify_reload_script()})},i.fn.adminify_field_sorter=function(){return this.each(function(){var e=i(this),n=e.find(".adminify-enabled"),a=e.find(".adminify-disabled"),t=!!a.length&&a;n.sortable({connectWith:t,placeholder:"ui-sortable-placeholder",update:function(i,n){var a=n.item.find("input");n.item.parent().hasClass("adminify-enabled")?a.attr("name",a.attr("name").replace("disabled","enabled")):a.attr("name",a.attr("name").replace("enabled","disabled")),e.adminify_customizer_refresh()}}),t&&t.sortable({connectWith:n,placeholder:"ui-sortable-placeholder",update:function(i,n){e.adminify_customizer_refresh()}})})},i.fn.adminify_field_spinner=function(){return this.each(function(){var e=i(this),n=e.find("input"),a=e.find(".ui-button"),t=n.data();a.length&&a.remove(),n.spinner({min:t.min||0,max:t.max||100,step:t.step||1,create:function(i,e){t.unit&&n.after('<span class="ui-button adminify--unit">'+t.unit+"</span>")},spin:function(i,e){n.val(e.value).trigger("change")}})})},i.fn.adminify_field_switcher=function(){return this.each(function(){var e=i(this).find(".adminify--switcher");e.on("click",function(){var i=0,n=e.find("input");e.hasClass("adminify--active")?e.removeClass("adminify--active"):(i=1,e.addClass("adminify--active")),n.val(i).trigger("change")})})},i.fn.adminify_field_tabbed=function(){return this.each(function(){var e=i(this),n=e.find(".adminify-tabbed-nav a"),a=e.find(".adminify-tabbed-content");a.eq(0).adminify_reload_script(),n.on("click",function(e){e.preventDefault();var n=i(this),t=n.index(),d=a.eq(t);n.addClass("adminify-tabbed-active").siblings().removeClass("adminify-tabbed-active"),d.adminify_reload_script(),d.removeClass("hidden").siblings().addClass("hidden")})})},i.fn.adminify_field_typography=function(){return this.each(function(){var e=this,n=i(this),a=[],d=adminify_typography_json.webfonts,r=adminify_typography_json.googlestyles,o=adminify_typography_json.defaultstyles;e.sanitize_subset=function(i){return i=(i=i.replace("-ext"," Extended")).charAt(0).toUpperCase()+i.slice(1)},e.sanitize_style=function(i){return r[i]?r[i]:i},e.load_google_font=function(i,e,n){i&&"object"==typeof WebFont&&(e=e?e.replace("normal",""):"",n=n?n.replace("normal",""):"",(e||n)&&(i=i+":"+e+n),-1===a.indexOf(i)&&WebFont.load({google:{families:[i]}}),a.push(i))},e.append_select_options=function(n,a,t,d,r){n.find("option").not(":first").remove();var o="";i.each(a,function(i,n){var a,f=n;a=r?t&&-1!==t.indexOf(n)?" selected":"":t&&t===n?" selected":"","subset"===d?f=e.sanitize_subset(n):"style"===d&&(f=e.sanitize_style(n)),o+='<option value="'+n+'"'+a+">"+f+"</option>"}),n.append(o).trigger("adminify.change").trigger("chosen:updated")},e.init=function(){var a=[],r=n.find(".adminify--typography"),f=n.find(".adminify--type"),l=n.find(".adminify--block-font-style"),s=r.data("unit"),c=r.data("line-height-unit"),m=r.data("exclude")?r.data("exclude").split(","):[];n.find(".adminify--chosen").length&&n.find("select").each(function(){var e=i(this),n=e.parent().find(".chosen-container");n.length&&n.remove(),e.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})});var h=n.find(".adminify--font-family"),y=h.val();h.find("option").not(":first-child").remove();var p="";i.each(d,function(e,n){(!m||-1===m.indexOf(e))&&(p+='<optgroup label="'+n.label+'">',i.each(n.fonts,function(i,n){var a=(n="object"==typeof n?i:n)===y?" selected":"";p+='<option value="'+n+'" data-type="'+e+'"'+a+">"+n+"</option>"}),p+="</optgroup>")}),h.append(p).trigger("chosen:updated");var u=n.find(".adminify--block-font-style");if(u.length){var v=n.find(".adminify--font-style-select"),g=v.val()?v.val().replace(/normal/g,""):"";v.on("change adminify.change",function(i){var e=v.val();!e&&a&&-1===a.indexOf("normal")&&(e=a[0]);var t=e&&"italic"!==e&&"normal"===e?"normal":"",d=e&&"italic"!==e&&"normal"!==e?e.replace("italic",""):t,r=e&&"italic"===e.substr(-6)?"italic":"";n.find(".adminify--font-weight").val(d),n.find(".adminify--font-style").val(r)});var b=n.find(".adminify--block-extra-styles");if(b.length)var C=n.find(".adminify--extra-styles"),w=C.val()}var k=n.find(".adminify--block-subset");if(k.length)var x=n.find(".adminify--subset"),$=x.val(),_=x.data("multiple")||!1;var z=n.find(".adminify--block-backup-font-family");h.on("change adminify.change",function(i){k.length&&k.addClass("hidden"),b.length&&b.addClass("hidden"),z.length&&z.addClass("hidden");var n=h.find(":selected"),t=n.val(),r=n.data("type");if(r&&t){if(("google"===r||"custom"===r)&&z.length&&z.removeClass("hidden"),u.length){var s=o;"google"===r&&d[r].fonts[t][0]?s=d[r].fonts[t][0]:"custom"===r&&d[r].fonts[t]&&(s=d[r].fonts[t]),a=s;var c=-1!==s.indexOf("normal")?"normal":s[0],m=g&&-1!==s.indexOf(g)?g:c;e.append_select_options(v,s,m,"style"),g=!1,u.removeClass("hidden"),"google"===r&&b.length&&s.length>1&&(e.append_select_options(C,s,w,"style",!0),w=!1,b.removeClass("hidden"))}if("google"===r&&k.length&&d[r].fonts[t][1]){var y=d[r].fonts[t][1],p=y.length<2&&"latin"!==y[0]?y[0]:"",D=$&&-1!==y.indexOf($)?$:p;D=_&&$?$:D,e.append_select_options(x,y,D,"subset",_),$=!1,k.removeClass("hidden")}}else l.find(":input").val(""),k.length&&(x.find("option").not(":first-child").remove(),x.trigger("chosen:updated")),u.length&&(v.find("option").not(":first-child").remove(),v.trigger("chosen:updated"));f.val(r)}).trigger("adminify.change");var D=n.find(".adminify--block-preview");if(D.length){var O=n.find(".adminify--preview");n.on("change",t.helper.debounce(function(i){D.removeClass("hidden");var a=h.val(),t=n.find(".adminify--font-weight").val(),d=n.find(".adminify--font-style").val(),r=n.find(".adminify--font-size").val(),o=n.find(".adminify--font-variant").val(),f=n.find(".adminify--line-height").val(),l=n.find(".adminify--text-align").val(),m=n.find(".adminify--text-transform").val(),y=n.find(".adminify--text-decoration").val(),p=n.find(".adminify--color").val(),u=n.find(".adminify--word-spacing").val(),v=n.find(".adminify--letter-spacing").val(),g=n.find(".adminify--custom-style").val();"google"===n.find(".adminify--type").val()&&e.load_google_font(a,t,d);var b={};a&&(b.fontFamily=a),t&&(b.fontWeight=t),d&&(b.fontStyle=d),o&&(b.fontVariant=o),r&&(b.fontSize=r+s),f&&(b.lineHeight=f+c),v&&(b.letterSpacing=v+s),u&&(b.wordSpacing=u+s),l&&(b.textAlign=l),m&&(b.textTransform=m),y&&(b.textDecoration=y),p&&(b.color=p),O.removeAttr("style"),g&&O.attr("style",g),O.css(b)},100)),D.on("click",function(){O.toggleClass("adminify--black-background");var i=D.find(".adminify--toggle");i.hasClass("fa-toggle-off")?i.removeClass("fa-toggle-off").addClass("fa-toggle-on"):i.removeClass("fa-toggle-on").addClass("fa-toggle-off")}),D.hasClass("hidden")||n.trigger("change")}},e.init()})},i.fn.adminify_field_upload=function(){return this.each(function(){var n,a=i(this),t=a.find("input"),d=a.find(".adminify--button"),r=a.find(".adminify--remove"),o=a.find(".adminify--preview"),f=a.find(".adminify--src"),l=d.data("library")&&d.data("library").split(",")||"";d.on("click",function(i){if(i.preventDefault(),void 0!==e.wp&&e.wp.media&&e.wp.media.gallery){if(n){n.open();return}(n=e.wp.media({library:{type:l}})).on("select",function(){var i=n.state().get("selection").first().attributes;(!l.length||-1!==l.indexOf(i.subtype)||-1!==l.indexOf(i.type))&&t.val(i.url).trigger("change")}),n.open()}}),r.on("click",function(i){i.preventDefault(),t.val("").trigger("change")}),t.on("change",function(e){var n=t.val();n?r.removeClass("hidden"):r.addClass("hidden"),o.length&&(-1!==i.inArray(n.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(o.removeClass("hidden"),f.attr("src",n)):o.addClass("hidden"))})})},i.fn.adminify_field_wp_editor=function(){return this.each(function(){if(void 0!==e.wp.editor&&void 0!==e.tinyMCEPreInit&&void 0!==e.tinyMCEPreInit.mceInit.adminify_wp_editor){var n=i(this),a=n.find(".adminify-wp-editor"),d=n.find("textarea");(n.find(".wp-editor-wrap").length||n.find(".mce-container").length)&&(a.empty(),a.append(d),d.css("display",""));var r=t.helper.uid("adminify-editor-");d.attr("id",r);var o={tinymce:e.tinyMCEPreInit.mceInit.adminify_wp_editor,quicktags:e.tinyMCEPreInit.qtInit.adminify_wp_editor},f=a.data("editor-settings"),l=wp.oldEditor?wp.oldEditor:wp.editor;l&&l.hasOwnProperty("autop")&&(wp.editor.autop=l.autop,wp.editor.removep=l.removep,wp.editor.initialize=l.initialize);var s=function(i){i.on("change keyup",function(){var e=f.wpautop?i.getContent():wp.editor.removep(i.getContent());d.val(e).trigger("change")})};o.tinymce=i.extend({},o.tinymce,{selector:"#"+r,setup:s}),!1===f.tinymce&&(o.tinymce=!1,a.addClass("adminify-no-tinymce")),!1===f.quicktags&&(o.quicktags=!1,a.addClass("adminify-no-quicktags"));var c=setInterval(function(){n.is(":visible")&&(e.wp.editor.initialize(r,o),clearInterval(c))});if(f.media_buttons&&e.adminify_media_buttons){var m=a.find(".wp-media-buttons");if(m.length)m.find(".adminify-shortcode-button").data("editor-id",r);else{var h=i(e.adminify_media_buttons);h.find(".adminify-shortcode-button").data("editor-id",r),a.prepend(h)}}}})},i.fn.adminify_confirm=function(){return this.each(function(){i(this).on("click",function(n){var a=i(this).data("confirm")||e.adminify_vars.i18n.confirm;if(!confirm(a))return n.preventDefault(),!1;t.vars.is_confirm=!0,t.vars.form_modified=!1})})},i.fn.serializeObject=function(){var e={};return i.each(this.serializeArray(),function(n,t){var d=t.name,r=t.value;e[d]=a===e[d]?r:i.isArray(e[d])?e[d].concat(r):[e[d],r]}),e},i.fn.adminify_save=function(){return this.each(function(){var n,a=i(this),d=i(".adminify-save"),r=i(".adminify-options"),o=!1;a.on("click",function(f){if(!o){var l=a.data("save"),s=a.val();d.attr("value",l),a.hasClass("adminify-save-ajax")?(f.preventDefault(),r.addClass("adminify-saving"),d.prop("disabled",!0),e.wp.ajax.post("adminify_"+r.data("unique")+"_ajax_save",{data:i("#adminify-form").serializeJSONADMINIFY()}).done(function(e){if(i(".adminify-error").remove(),Object.keys(e.errors).length){var a='<i class="adminify-label-error adminify-error">!</i>';i.each(e.errors,function(e,n){var t=i('[data-depend-id="'+e+'"]'),d=i('a[href="#tab='+t.closest(".adminify-section").data("section-id")+'"]'),r=d.closest(".adminify-tab-item");t.closest(".adminify-fieldset").append('<p class="adminify-error adminify-error-text">'+n+"</p>"),d.find(".adminify-error").length||d.append(a),r.find(".adminify-arrow .adminify-error").length||r.find(".adminify-arrow").append(a)})}r.removeClass("adminify-saving"),d.prop("disabled",!1).attr("value",s),o=!1,t.vars.form_modified=!1,t.vars.$form_warning.hide(),clearTimeout(n);var f=i(".adminify-form-success");f.empty().append(e.notice).fadeIn("fast",function(){n=setTimeout(function(){f.fadeOut("fast")},1e3)})}).fail(function(i){alert(i.error)})):t.vars.form_modified=!1}o=!0})})},i.fn.adminify_options=function(){return this.each(function(){var d=i(this),r=d.find(".adminify-content"),o=d.find(".adminify-form-success"),f=d.find(".adminify-form-warning"),l=d.find(".adminify-header .adminify-save");t.vars.$form_warning=f,f.length&&(e.onbeforeunload=function(){return!!t.vars.form_modified||a},r.on("change keypress",":input",function(){t.vars.form_modified||(o.hide(),f.fadeIn("fast"),t.vars.form_modified=!0)})),o.hasClass("adminify-form-show")&&setTimeout(function(){o.fadeOut("fast")},1e3),i(n).keydown(function(i){if((i.ctrlKey||i.metaKey)&&83===i.which)return l.trigger("click"),i.preventDefault(),!1})})},i.fn.adminify_taxonomy=function(){return this.each(function(){var e=i(this),n=e.parents("form");if("addtag"===n.attr("id")){var a=n.find("#submit"),t=e.find(".adminify-field").adminify_clone();a.on("click",function(){n.find(".form-required").hasClass("form-invalid")||(e.data("inited",!1),e.empty(),e.html(t),t=t.adminify_clone(),e.adminify_reload_script())})}})},i.fn.adminify_shortcode=function(){var d=this;return d.shortcode_parse=function(e,n){var a="";return i.each(e,function(e,t){a+="["+(n=n||e),i.each(t,function(i,e){"content"===i?(a+="]",a+=e,a+="[/"+n):a+=d.shortcode_tags(i,e)}),a+="]"}),a},d.shortcode_tags=function(e,n){var a="";return""!==n&&("object"!=typeof n||i.isArray(n)?a+=" "+e+'="'+n.toString()+'"':i.each(n,function(i,e){"background-image"===i&&(e=e.url?e.url:""),""!==e&&(a+=" "+i+'="'+e.toString()+'"')})),a},d.insertAtChars=function(i,e){var n=void 0!==i[0].name?i[0]:i;return n.value.length&&void 0!==n.selectionStart?(n.focus(),n.value.substring(0,n.selectionStart)+e+n.value.substring(n.selectionEnd,n.value.length)):(n.focus(),e)},d.send_to_editor=function(e,n){var a;if("undefined"!=typeof tinymce&&(a=tinymce.get(n)),a&&!a.isHidden())a.execCommand("mceInsertContent",!1,e);else{var t=i("#"+n);t.val(d.insertAtChars(t,e)).trigger("change")}},this.each(function(){var r,o,f,l,s,c,m,h,y,p=i(this),u=p.find(".adminify-modal-load"),v=(p.find(".adminify-modal-content"),p.find(".adminify-modal-insert")),g=p.find(".adminify-modal-loading"),b=p.find("select"),C=p.data("modal-id"),w=p.data("nonce");i(n).on("click",'.adminify-shortcode-button[data-modal-id="'+C+'"]',function(e){e.preventDefault(),r=(y=i(this)).data("editor-id")||!1,o=y.data("target-id")||!1,f=y.data("gutenberg-id")||!1,p.removeClass("hidden"),p.hasClass("adminify-shortcode-single")&&s===a&&b.trigger("change")}),b.on("change",function(){var n=i(this),a=n.find(":selected");l=n.val(),s=a.data("shortcode"),c=a.data("view")||"normal",m=a.data("group")||s,u.empty(),l?(g.show(),e.wp.ajax.post("adminify-get-shortcode-"+C,{shortcode_key:l,nonce:w}).done(function(e){g.hide();var n=i(e.content).appendTo(u);v.parent().removeClass("hidden"),h=n.find(".adminify--repeat-shortcode").adminify_clone(),n.adminify_reload_script(),n.find(".adminify-fields").adminify_reload_script()})):v.parent().addClass("hidden")}),v.on("click",function(n){if(n.preventDefault(),!(v.prop("disabled")||v.attr("disabled"))){var a="",t=p.find(".adminify-field:not(.adminify-depend-on)").find(":input:not(.ignore)").serializeObjectADMINIFY();switch(c){case"contents":var l=s?t[s]:t;i.each(l,function(i,e){var n=s||i;a+="["+n+"]"+e+"[/"+n+"]"});break;case"group":a+="["+s,i.each(t[s],function(i,e){a+=d.shortcode_tags(i,e)}),a+="]",a+=d.shortcode_parse(t[m],m),a+="[/"+s+"]";break;case"repeater":a+=d.shortcode_parse(t[m],m);break;default:a+=d.shortcode_parse(t)}if(a=""===a?"["+s+"]":a,f){var h=e.adminify_gutenberg_props.attributes.hasOwnProperty("shortcode")?e.adminify_gutenberg_props.attributes.shortcode:"";e.adminify_gutenberg_props.setAttributes({shortcode:h+a})}else if(r)d.send_to_editor(a,r);else{var u=o?i(o):y.parent().find("textarea");u.val(d.insertAtChars(u,a)).trigger("change")}p.addClass("hidden")}}),p.on("click",".adminify--repeat-button",function(i){i.preventDefault();var e=p.find(".adminify--repeatable"),n=h.adminify_clone(),a=n.find(".adminify-repeat-remove");n.appendTo(e),n.find(".adminify-fields").adminify_reload_script(),t.helper.name_nested_replace(p.find(".adminify--repeat-shortcode"),m),a.on("click",function(){n.remove(),t.helper.name_nested_replace(p.find(".adminify--repeat-shortcode"),m)})}),p.on("click",".adminify-modal-close, .adminify-modal-overlay",function(){p.addClass("hidden")})})},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var i=parseInt(this._color,10).toString(16);if(this.error)return"";if(i.length<6)for(var e=6-i.length-1;e>=0;e--)i="0"+i;return"#"+i}),t.funcs.parse_color=function(i){var e=i.replace(/\s+/g,""),n=-1!==e.indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100;return{value:e,transparent:n,rgba:n<100}},i.fn.adminify_color=function(){return this.each(function(){var n,a=i(this),d=t.funcs.parse_color(a.val()),r=!e.adminify_vars.color_palette.length||e.adminify_vars.color_palette;a.hasClass("wp-color-picker")&&a.closest(".wp-picker-container").after(a).remove(),a.wpColorPicker({palettes:r,change:function(i,e){var t=e.color.toString();n.removeClass("adminify--transparent-active"),n.find(".adminify--transparent-offset").css("background-color",t),a.val(t).trigger("change")},create:function(){n=a.closest(".wp-picker-container");var e=a.data("a8cIris"),r=i('<div class="adminify--transparent-wrap"><div class="adminify--transparent-slider"></div><div class="adminify--transparent-offset"></div><div class="adminify--transparent-text"></div><div class="adminify--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(n.find(".wp-picker-holder")),o=r.find(".adminify--transparent-slider"),f=r.find(".adminify--transparent-text"),l=r.find(".adminify--transparent-offset"),s=r.find(".adminify--transparent-button");"transparent"===a.val()&&n.addClass("adminify--transparent-active"),s.on("click",function(){"transparent"!==a.val()?(a.val("transparent").trigger("change").removeClass("iris-error"),n.addClass("adminify--transparent-active")):(a.val(e._color.toString()).trigger("change"),n.removeClass("adminify--transparent-active"))}),o.slider({value:d.transparent,step:1,min:0,max:100,slide:function(i,n){var t=parseFloat(n.value/100);e._color._alpha=t,a.wpColorPicker("color",e._color.toString()),f.text(1===t||0===t?"":t)},create:function(){var i=parseFloat(d.transparent/100);f.text(i<1?i:""),l.css("background-color",d.value),n.on("click",".wp-picker-clear",function(){e._color._alpha=1,f.text(""),o.slider("option","value",100),n.removeClass("adminify--transparent-active"),a.trigger("change")}),n.on("click",".wp-picker-default",function(){var i=t.funcs.parse_color(a.data("default-color")),d=parseFloat(i.transparent/100);e._color._alpha=d,f.text(d<1?d:""),o.slider("option","value",i.transparent),"transparent"===i.value&&(a.removeClass("iris-error"),n.addClass("adminify--transparent-active"))})}})}})})},i.fn.adminify_chosen=function(){return this.each(function(){var n=i(this),t=n.parent().find(".chosen-container"),d=n.hasClass("adminify-chosen-sortable")||!1,r=n.hasClass("adminify-chosen-ajax")||!1,o=n.attr("multiple")||!1,f=i.extend({allow_single_deselect:!0,disable_search_threshold:10,width:o?"100%":"auto",no_results_text:e.adminify_vars.i18n.no_results_text},n.data("chosen-settings"));if(t.length&&t.remove(),r){var l=i.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:e.adminify_vars.i18n.typing_text,searching_text:e.adminify_vars.i18n.searching_text,no_results_text:e.adminify_vars.i18n.no_results_text},n.data("chosen-settings"));n.ADMINIFYAjaxChosen(l)}else n.chosen(f);if(o){var s=n.parent().find(".adminify-hide-select"),c=s.val()||[];n.on("change",function(i,n){n&&n.selected?s.append('<option value="'+n.selected+'" selected="selected">'+n.selected+"</option>"):n&&n.deselected&&s.find('option[value="'+n.deselected+'"]').remove(),a!==e.wp.customize&&0===s.children().length&&s.data("customize-setting-link")&&e.wp.customize.control(s.data("customize-setting-link")).setting.set(""),s.trigger("change")}),n.ADMINIFYChosenOrder(c,!0)}if(d){var m=n.parent().find(".chosen-container").find(".chosen-choices");m.bind("mousedown",function(e){i(e.target).is("span")&&e.stopPropagation()}),m.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(i,e){e.placeholder.width(e.item.innerWidth()),e.placeholder.height(e.item.innerHeight())},update:function(e,a){var t="",d=n.data("chosen"),r=n.parent().find(".adminify-hide-select");m.find(".search-choice-close").each(function(){var e=i(this).data("option-array-index");i.each(d.results_data,function(i,n){n.array_index===e&&(t+='<option value="'+n.value+'" selected>'+n.value+"</option>")})}),r.children().remove(),r.append(t),r.trigger("change")}})}})},i.fn.adminify_checkbox=function(){return this.each(function(){var e=i(this),n=e.find(".adminify--input"),a=e.find(".adminify--checkbox");a.on("click",function(){n.val(Number(a.prop("checked"))).trigger("change")})})},i.fn.adminify_siblings=function(){return this.each(function(){var e=i(this),n=e.find(".adminify--sibling"),a=e.data("multiple")||!1;n.on("click",function(){var n=i(this);a?n.hasClass("adminify--active")?(n.removeClass("adminify--active"),n.find("input").prop("checked",!1).trigger("change")):(n.addClass("adminify--active"),n.find("input").prop("checked",!0).trigger("change")):(e.find("input").prop("checked",!1),n.find("input").prop("checked",!0).trigger("change"),n.addClass("adminify--active").siblings().removeClass("adminify--active"))})})},i.fn.adminify_help=function(){return this.each(function(){var e,n,d=i(this);d.on({mouseenter:function(){e=i('<div class="adminify-tooltip"></div>').html(d.find(".adminify-help-text").html()).appendTo("body"),n=t.vars.is_rtl?d.offset().left+24:d.offset().left-e.outerWidth(),e.css({top:d.offset().top-(e.outerHeight()/2-14),left:n})},mouseleave:function(){e!==a&&e.remove()}})})},i.fn.adminify_customizer_refresh=function(){return this.each(function(){var t=i(this),d=t.closest(".adminify-customize-complex");if(d.length){var r=d.data("unique-id");if(r===a)return;var o=d.find(":input"),f=d.data("option-id"),l=o.serializeObjectADMINIFY(),s=!i.isEmptyObject(l)&&l[r]&&l[r][f]?l[r][f]:"",c=e.wp.customize.control(r+"["+f+"]");c.setting._value=null,c.setting.set(s)}else t.find(":input").first().trigger("change");i(n).trigger("adminify-customizer-refresh",t)})},i.fn.adminify_customizer_listen=function(n){var t=i.extend({closest:!1},n);return this.each(function(){if(a!==e.wp.customize){var n=t.closest?i(this).closest(".adminify-customize-complex"):i(this),d=n.find(":input"),r=n.data("unique-id"),o=n.data("option-id");r!==a&&d.on("change keyup adminify.change",function(){var a=n.find(":input").serializeObjectADMINIFY(),t=!i.isEmptyObject(a)&&a[r]&&a[r][o]?a[r][o]:"";e.wp.customize.control(r+"["+o+"]").setting.set(t)})}})},i(n).on("expanded",".control-section",function(){var e=i(this);if(e.hasClass("open")&&!e.data("inited")){var n=e.find(".adminify-customize-field"),a=e.find(".adminify-customize-complex");n.length&&(e.adminify_dependency(),n.adminify_reload_script({dependency:!1}),a.adminify_customizer_listen()),e.data("inited",!0)}}),t.vars.$window.on("resize adminify.resize",t.helper.debounce(function(n){(navigator.userAgent.indexOf("AppleWebKit/")>-1?t.vars.$window.width():e.innerWidth)<=782&&!t.vars.onloaded&&(i(".adminify-section").adminify_reload_script(),t.vars.onloaded=!0)},200)).trigger("adminify.resize"),i.fn.adminify_widgets=function(){return this.each(function(){i(n).on("widget-added widget-updated",function(i,e){var n=e.find(".adminify-fields");n.length&&n.adminify_reload_script()}),i(n).on("click",".widget-top",function(e){var n=i(this).parent().find(".adminify-fields");n.length&&n.adminify_reload_script()}),i(".widgets-sortables, .control-section-sidebar").on("sortstop",function(i,e){e.item.find(".adminify-fields").adminify_reload_script_retry()})})},i.fn.adminify_nav_menu=function(){return this.each(function(){var e=i(this);e.on("click","a.item-edit",function(){i(this).closest("li.menu-item").find(".adminify-fields").adminify_reload_script()}),e.on("sortstop",function(i,e){e.item.find(".adminify-fields").adminify_reload_script_retry()})})},i.fn.adminify_reload_script_retry=function(){return this.each(function(){var e=i(this);e.data("inited")&&e.children(".adminify-field-wp_editor").adminify_field_wp_editor()})},i.fn.adminify_reload_script=function(e){var a=i.extend({dependency:!0},e);return this.each(function(){var e=i(this);e.data("inited")||(e.children(".adminify-field-accordion").adminify_field_accordion(),e.children(".adminify-field-backup").adminify_field_backup(),e.children(".adminify-field-background").adminify_field_background(),e.children(".adminify-field-code_editor").adminify_field_code_editor(),e.children(".adminify-field-date").adminify_field_date(),e.children(".adminify-field-datetime").adminify_field_datetime(),e.children(".adminify-field-fieldset").adminify_field_fieldset(),e.children(".adminify-field-gallery").adminify_field_gallery(),e.children(".adminify-field-group").adminify_field_group(),e.children(".adminify-field-icon").adminify_field_icon(),e.children(".adminify-field-link").adminify_field_link(),e.children(".adminify-field-media").adminify_field_media(),e.children(".adminify-field-map").adminify_field_map(),e.children(".adminify-field-repeater").adminify_field_repeater(),e.children(".adminify-field-slider").adminify_field_slider(),e.children(".adminify-field-sortable").adminify_field_sortable(),e.children(".adminify-field-sorter").adminify_field_sorter(),e.children(".adminify-field-spinner").adminify_field_spinner(),e.children(".adminify-field-switcher").adminify_field_switcher(),e.children(".adminify-field-tabbed").adminify_field_tabbed(),e.children(".adminify-field-typography").adminify_field_typography(),e.children(".adminify-field-upload").adminify_field_upload(),e.children(".adminify-field-wp_editor").adminify_field_wp_editor(),e.children(".adminify-field-border").find(".adminify-color").adminify_color(),e.children(".adminify-field-background").find(".adminify-color").adminify_color(),e.children(".adminify-field-color").find(".adminify-color").adminify_color(),e.children(".adminify-field-color_group").find(".adminify-color").adminify_color(),e.children(".adminify-field-link_color").find(".adminify-color").adminify_color(),e.children(".adminify-field-typography").find(".adminify-color").adminify_color(),e.children(".adminify-field-select").find(".adminify-chosen").adminify_chosen(),e.children(".adminify-field-checkbox").find(".adminify-checkbox").adminify_checkbox(),e.children(".adminify-field-button_set").find(".adminify-siblings").adminify_siblings(),e.children(".adminify-field-image_select").find(".adminify-siblings").adminify_siblings(),e.children(".adminify-field-palette").find(".adminify-siblings").adminify_siblings(),e.children(".adminify-field").find(".adminify-help").adminify_help(),a.dependency&&e.adminify_dependency(),e.data("inited",!0),i(n).trigger("adminify-reload-script",e))})},i(n).ready(function(){i(".adminify-save").adminify_save(),i(".adminify-options").adminify_options(),i(".adminify-sticky-header").adminify_sticky(),i(".adminify-nav-options").adminify_nav_options(),i(".adminify-nav-metabox").adminify_nav_metabox(),i(".adminify-taxonomy").adminify_taxonomy(),i(".adminify-page-templates").adminify_page_templates(),i(".adminify-post-formats").adminify_post_formats(),i(".adminify-shortcode").adminify_shortcode(),i(".adminify-search").adminify_search(),i(".adminify-confirm").adminify_confirm(),i(".adminify-expand-all").adminify_expand_all(),i(".adminify-onload").adminify_reload_script(),i("#widgets-editor").adminify_widgets(),i("#widgets-right").adminify_widgets(),i("#menu-to-edit").adminify_nav_menu()})}(jQuery,window,document);