/*! this file is a auto generated on 2022-07-26 */
!function(n,t){const e={clicked:!1,init:function(){this.setup(),this.bindEvents()},setup:function(){this.document=n(t),this.signup="#paypal_signup",this.vendor_email="#paypal_email",this.paypal_btn="#paypal_connect_button",this.disconnect_paypal="#disconnect_paypal"},bindEvents:function(){this.document.on("click",this.signup,this.generateSignupLink.bind(this)),this.document.on("click",this.disconnect_paypal,this.disconnectPaypal.bind(this))},generateSignupLink:function(a){if(!this.clicked){a.preventDefault(),n(this.signup).addClass("disabled");a={action:"wcfm_paypal_marketplace_connect",vendor_email:n(this.vendor_email).val(),_nonce:wcfm_paypal_frontend_l10n.connect_nonce};let e=this;n.ajax({type:"POST",url:wcfm_paypal_frontend_l10n.ajaxurl,data:a,dataType:"json",beforeSend:function(){n("#wcfm_settings_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}}).done(function(a){a&&(n(".wcfm-message").html("").removeClass("wcfm-success").removeClass("wcfm-error").slideUp(),wcfm_notification_sound.play(),a.success?(n("#wcfm_settings_form .wcfm-message").html('<span class="wcicon-status-completed"></span>'+a.data.message).addClass("wcfm-success").slideDown(),e.loadPartnerJs(),e.createPaypalButton(a.data.url),a.data.reload?window.location.href=a.data.url:n(e.paypal_btn).show()):n("#wcfm_settings_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+a.data.message).addClass("wcfm-error").slideDown(),wcfmMessageHide(),n("#wcfm_settings_form").unblock())})}},loadPartnerJs:function(){var a,e,n,s;e="script",n="paypal-js",s=(a=t).getElementsByTagName(e)[0],a.getElementById(n)||((a=a.createElement(e)).id=n,a.async=!0,a.src="https://www.paypal.com/webapps/merchantboarding/js/lib/lightbox/partner.js",s.parentNode.insertBefore(a,s))},createPaypalButton:function(a){n(this.paypal_btn).append('<a data-paypal-button="true" class="button wcfm_ele paymode_field paymode_paypal_marketplace" href="'+a+'&displayMode=minibrowser" target="PPFrame">'+wcfm_paypal_frontend_l10n.paypal_btn_txt+"</a>").hide()},disconnectPaypal:function(a){a.preventDefault();a={action:"wcfm_paypal_marketplace_disconnect",_nonce:wcfm_paypal_frontend_l10n.disconnect_nonce};n.ajax({type:"POST",url:wcfm_paypal_frontend_l10n.ajaxurl,data:a,dataType:"json",beforeSend:function(){n("#wcfm_settings_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}}).done(function(a){a&&(n(".wcfm-message").html("").removeClass("wcfm-success").removeClass("wcfm-error").slideUp(),wcfm_notification_sound.play(),a.success?(n("#wcfm_settings_form .wcfm-message").html('<span class="wcicon-status-completed"></span>'+a.data.message).addClass("wcfm-success").slideDown(),a.data.url&&(window.location.href=a.data.url)):n("#wcfm_settings_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+a.data.message).addClass("wcfm-error").slideDown(),wcfmMessageHide(),n("#wcfm_settings_form").unblock())})}};n(t).ready(function(a){e.init()})}(jQuery,document);