(()=>{var e={93:(e,t,r)=>{var n=r(8196);e.exports=n},5362:(e,t,r)=>{var n=r(3383);e.exports=n},991:(e,t,r)=>{r(7690);var n=r(5703);e.exports=n("Array").includes},4900:(e,t,r)=>{r(186);var n=r(5703);e.exports=n("Array").slice},7700:(e,t,r)=>{r(3381);var n=r(5703);e.exports=n("Function").bind},6246:(e,t,r)=>{var n=r(7046),o=r(7700),a=Function.prototype;e.exports=function(e){var t=e.bind;return e===a||n(a,e)&&t===a.bind?o:t}},8557:(e,t,r)=>{var n=r(7046),o=r(991),a=r(1631),i=Array.prototype,c=String.prototype;e.exports=function(e){var t=e.includes;return e===i||n(i,e)&&t===i.includes?o:"string"==typeof e||e===c||n(c,e)&&t===c.includes?a:t}},9601:(e,t,r)=>{var n=r(7046),o=r(4900),a=Array.prototype;e.exports=function(e){var t=e.slice;return e===a||n(a,e)&&t===a.slice?o:t}},4426:(e,t,r)=>{r(2619);var n=r(4058),o=r(9730);n.JSON||(n.JSON={stringify:JSON.stringify}),e.exports=function(e,t,r){return o(n.JSON.stringify,null,arguments)}},5999:(e,t,r)=>{r(9221);var n=r(4058);e.exports=n.Object.assign},1631:(e,t,r)=>{r(1035);var n=r(5703);e.exports=n("String").includes},9097:(e,t,r)=>{var n=r(93);e.exports=n},6936:(e,t,r)=>{var n=r(5362);e.exports=n},4883:(e,t,r)=>{var n=r(7475),o=r(9826),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not a function")}},8479:e=>{e.exports=function(){}},6059:(e,t,r)=>{var n=r(941),o=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not an object")}},1692:(e,t,r)=>{var n=r(4529),o=r(9413),a=r(623),i=function(e){return function(t,r,i){var c,u=n(t),s=a(u),p=o(i,s);if(e&&r!=r){for(;s>p;)if((c=u[p++])!=c)return!0}else for(;s>p;p++)if((e||p in u)&&u[p]===r)return e||p||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},568:(e,t,r)=>{var n=r(5981),o=r(9813),a=r(3385),i=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3765:(e,t,r)=>{var n=r(5329);e.exports=n([].slice)},2532:(e,t,r)=>{var n=r(5329),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},9697:(e,t,r)=>{var n=r(2885),o=r(7475),a=r(2532),i=r(9813)("toStringTag"),c=Object,u="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=c(e),i))?r:u?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},7772:(e,t,r)=>{var n=r(9813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},2029:(e,t,r)=>{var n=r(5746),o=r(5988),a=r(1887);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:(e,t,r)=>{"use strict";var n=r(3894),o=r(5988),a=r(1887);e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},5609:(e,t,r)=>{var n=r(1899),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5746:(e,t,r)=>{var n=r(5981);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6616:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},1333:(e,t,r)=>{var n=r(1899),o=r(941),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},2861:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3385:(e,t,r)=>{var n,o,a=r(1899),i=r(2861),c=a.process,u=a.Deno,s=c&&c.versions||u&&u.version,p=s&&s.v8;p&&(o=(n=p.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},5703:(e,t,r)=>{var n=r(4058);e.exports=function(e){return n[e+"Prototype"]}},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6887:(e,t,r)=>{"use strict";var n=r(1899),o=r(9730),a=r(7484),i=r(7475),c=r(9677).f,u=r(7252),s=r(4058),p=r(6843),l=r(2029),f=r(953),d=function(e){var t=function(r,n,a){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,a)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,o,v,m,y,g,h,b,x,w=e.target,_=e.global,S=e.stat,E=e.proto,O=_?n:S?n[w]:(n[w]||{}).prototype,z=_?s:s[w]||l(s,w,{})[w],j=z.prototype;for(m in t)o=!(r=u(_?m:w+(S?".":"#")+m,e.forced))&&O&&f(O,m),g=z[m],o&&(h=e.dontCallGetSet?(x=c(O,m))&&x.value:O[m]),y=o&&h?h:t[m],o&&typeof g==typeof y||(b=e.bind&&o?p(y,n):e.wrap&&o?d(y):E&&i(y)?a(y):y,(e.sham||y&&y.sham||g&&g.sham)&&l(b,"sham",!0),l(z,m,b),E&&(f(s,v=w+"Prototype")||l(s,v,{}),l(s[v],m,y),e.real&&j&&(r||!j[m])&&l(j,m,y)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:(e,t,r)=>{var n=r(8285),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(a):function(){return i.apply(a,arguments)})},6843:(e,t,r)=>{var n=r(7484),o=r(4883),a=r(8285),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,r)=>{var n=r(5981);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8308:(e,t,r)=>{"use strict";var n=r(5329),o=r(4883),a=r(941),i=r(953),c=r(3765),u=r(8285),s=Function,p=n([].concat),l=n([].join),f={};e.exports=u?s.bind:function(e){var t=o(this),r=t.prototype,n=c(arguments,1),u=function(){var r=p(n,c(arguments));return this instanceof u?function(e,t,r){if(!i(f,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";f[t]=s("C,a","return new C("+l(n,",")+")")}return f[t](e,r)}(t,r.length,r):t.apply(e,r)};return a(r)&&(u.prototype=r),u}},8834:(e,t,r)=>{var n=r(8285),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},7484:(e,t,r)=>{var n=r(2532),o=r(5329);e.exports=function(e){if("Function"===n(e))return o(e)}},5329:(e,t,r)=>{var n=r(8285),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);e.exports=n?i:function(e){return function(){return a.apply(e,arguments)}}},626:(e,t,r)=>{var n=r(4058),o=r(1899),a=r(7475),i=function(e){return a(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},3323:(e,t,r)=>{var n=r(5329),o=r(1052),a=r(7475),i=r(2532),c=r(5803),u=n([].push);e.exports=function(e){if(a(e))return e;if(o(e)){for(var t=e.length,r=[],n=0;n<t;n++){var s=e[n];"string"==typeof s?u(r,s):"number"!=typeof s&&"Number"!=i(s)&&"String"!=i(s)||u(r,c(s))}var p=r.length,l=!0;return function(e,t){if(l)return l=!1,t;if(o(this))return t;for(var n=0;n<p;n++)if(r[n]===e)return t}}}},4229:(e,t,r)=>{var n=r(4883),o=r(2119);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},1899:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},953:(e,t,r)=>{var n=r(5329),o=r(9678),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},7748:e=>{e.exports={}},2840:(e,t,r)=>{var n=r(5746),o=r(5981),a=r(1333);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,r)=>{var n=r(5329),o=r(5981),a=r(2532),i=Object,c=n("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):i(e)}:i},1302:(e,t,r)=>{var n=r(5329),o=r(7475),a=r(3030),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},1052:(e,t,r)=>{var n=r(2532);e.exports=Array.isArray||function(e){return"Array"==n(e)}},7475:(e,t,r)=>{var n=r(6616),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4284:(e,t,r)=>{var n=r(5329),o=r(5981),a=r(7475),i=r(9697),c=r(626),u=r(1302),s=function(){},p=[],l=c("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=n(f.exec),v=!f.exec(s),m=function(e){if(!a(e))return!1;try{return l(s,p,e),!0}catch(e){return!1}},y=function(e){if(!a(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!d(f,u(e))}catch(e){return!0}};y.sham=!0,e.exports=!l||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?y:m},7252:(e,t,r)=>{var n=r(5981),o=r(7475),a=/#|\.prototype\./,i=function(e,t){var r=u[c(e)];return r==p||r!=s&&(o(t)?n(t):!!t)},c=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=i.data={},s=i.NATIVE="N",p=i.POLYFILL="P";e.exports=i},2119:e=>{e.exports=function(e){return null==e}},941:(e,t,r)=>{var n=r(7475),o=r(6616),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},2529:e=>{e.exports=!0},685:(e,t,r)=>{var n=r(941),o=r(2532),a=r(9813)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},6664:(e,t,r)=>{var n=r(626),o=r(7475),a=r(7046),i=r(2302),c=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&a(t.prototype,c(e))}},623:(e,t,r)=>{var n=r(3057);e.exports=function(e){return n(e.length)}},5331:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},344:(e,t,r)=>{var n=r(685),o=TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},4420:(e,t,r)=>{"use strict";var n=r(5746),o=r(5329),a=r(8834),i=r(5981),c=r(4771),u=r(7857),s=r(6760),p=r(9678),l=r(7026),f=Object.assign,d=Object.defineProperty,v=o([].concat);e.exports=!f||i((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||c(f({},t)).join("")!=o}))?function(e,t){for(var r=p(e),o=arguments.length,i=1,f=u.f,d=s.f;o>i;)for(var m,y=l(arguments[i++]),g=f?v(c(y),f(y)):c(y),h=g.length,b=0;h>b;)m=g[b++],n&&!a(d,y,m)||(r[m]=y[m]);return r}:f},5988:(e,t,r)=>{var n=r(5746),o=r(2840),a=r(3937),i=r(6059),c=r(3894),u=TypeError,s=Object.defineProperty,p=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",d="writable";t.f=n?a?function(e,t,r){if(i(e),t=c(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=p(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:l in r?r[l]:n[l],writable:!1})}return s(e,t,r)}:s:function(e,t,r){if(i(e),t=c(t),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:(e,t,r)=>{var n=r(5746),o=r(8834),a=r(6760),i=r(1887),c=r(4529),u=r(3894),s=r(953),p=r(2840),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=c(e),t=u(t),p)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o(a.f,e,t),e[t])}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},7046:(e,t,r)=>{var n=r(5329);e.exports=n({}.isPrototypeOf)},5629:(e,t,r)=>{var n=r(5329),o=r(953),a=r(4529),i=r(1692).indexOf,c=r(7748),u=n([].push);e.exports=function(e,t){var r,n=a(e),s=0,p=[];for(r in n)!o(c,r)&&o(n,r)&&u(p,r);for(;t.length>s;)o(n,r=t[s++])&&(~i(p,r)||u(p,r));return p}},4771:(e,t,r)=>{var n=r(5629),o=r(6759);e.exports=Object.keys||function(e){return n(e,o)}},6760:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},9811:(e,t,r)=>{var n=r(8834),o=r(7475),a=r(941),i=TypeError;e.exports=function(e,t){var r,c;if("string"===t&&o(r=e.toString)&&!a(c=n(r,e)))return c;if(o(r=e.valueOf)&&!a(c=n(r,e)))return c;if("string"!==t&&o(r=e.toString)&&!a(c=n(r,e)))return c;throw i("Can't convert object to primitive value")}},4058:e=>{e.exports={}},8219:(e,t,r)=>{var n=r(2119),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},3030:(e,t,r)=>{var n=r(1899),o=r(5609),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},8726:(e,t,r)=>{var n=r(2529),o=r(3030);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},3405:(e,t,r)=>{var n=r(3385),o=r(5981),a=r(1899).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9413:(e,t,r)=>{var n=r(2435),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},4529:(e,t,r)=>{var n=r(7026),o=r(8219);e.exports=function(e){return n(o(e))}},2435:(e,t,r)=>{var n=r(5331);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3057:(e,t,r)=>{var n=r(2435),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},9678:(e,t,r)=>{var n=r(8219),o=Object;e.exports=function(e){return o(n(e))}},6935:(e,t,r)=>{var n=r(8834),o=r(941),a=r(6664),i=r(4229),c=r(9811),u=r(9813),s=TypeError,p=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,u=i(e,p);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||a(r))return r;throw s("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},3894:(e,t,r)=>{var n=r(6935),o=r(6664);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},2885:(e,t,r)=>{var n={};n[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(n)},5803:(e,t,r)=>{var n=r(9697),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9418:(e,t,r)=>{var n=r(5329),o=0,a=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},2302:(e,t,r)=>{var n=r(3405);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,r)=>{var n=r(5746),o=r(5981);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:(e,t,r)=>{var n=r(1899),o=r(8726),a=r(953),i=r(9418),c=r(3405),u=r(2302),s=n.Symbol,p=o("wks"),l=u?s.for||s:s&&s.withoutSetter||i;e.exports=function(e){return a(p,e)||(p[e]=c&&a(s,e)?s[e]:l("Symbol."+e)),p[e]}},7690:(e,t,r)=>{"use strict";var n=r(6887),o=r(1692).includes,a=r(5981),i=r(8479);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},186:(e,t,r)=>{"use strict";var n=r(6887),o=r(1052),a=r(4284),i=r(941),c=r(9413),u=r(623),s=r(4529),p=r(5449),l=r(9813),f=r(568),d=r(3765),v=f("slice"),m=l("species"),y=Array,g=Math.max;n({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var r,n,l,f=s(this),v=u(f),h=c(e,v),b=c(void 0===t?v:t,v);if(o(f)&&(r=f.constructor,(a(r)&&(r===y||o(r.prototype))||i(r)&&null===(r=r[m]))&&(r=void 0),r===y||void 0===r))return d(f,h,b);for(n=new(void 0===r?y:r)(g(b-h,0)),l=0;h<b;h++,l++)h in f&&p(n,l,f[h]);return n.length=l,n}})},3381:(e,t,r)=>{var n=r(6887),o=r(8308);n({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},2619:(e,t,r)=>{var n=r(6887),o=r(626),a=r(9730),i=r(8834),c=r(5329),u=r(5981),s=r(7475),p=r(6664),l=r(3765),f=r(3323),d=r(3405),v=String,m=o("JSON","stringify"),y=c(/./.exec),g=c("".charAt),h=c("".charCodeAt),b=c("".replace),x=c(1..toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,E=!d||u((function(){var e=o("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),O=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),z=function(e,t){var r=l(arguments),n=f(t);if(s(n)||void 0!==e&&!p(e))return r[1]=function(e,t){if(s(n)&&(t=i(n,this,v(e),t)),!p(t))return t},a(m,null,r)},j=function(e,t,r){var n=g(r,t-1),o=g(r,t+1);return y(_,e)&&!y(S,o)||y(S,e)&&!y(_,n)?"\\u"+x(h(e,0),16):e};m&&n({target:"JSON",stat:!0,arity:3,forced:E||O},{stringify:function(e,t,r){var n=l(arguments),o=a(E?z:m,null,n);return O&&"string"==typeof o?b(o,w,j):o}})},9221:(e,t,r)=>{var n=r(6887),o=r(4420);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},1035:(e,t,r)=>{"use strict";var n=r(6887),o=r(5329),a=r(344),i=r(8219),c=r(5803),u=r(7772),s=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(c(i(this)),c(a(e)),arguments.length>1?arguments[1]:void 0)}})},8196:(e,t,r)=>{var n=r(6246);e.exports=n},3778:(e,t,r)=>{var n=r(8557);e.exports=n},2073:(e,t,r)=>{var n=r(9601);e.exports=n},8933:(e,t,r)=>{var n=r(4426);e.exports=n},3383:(e,t,r)=>{var n=r(5999);e.exports=n},8118:(e,t,r)=>{e.exports=r(3778)},4278:(e,t,r)=>{e.exports=r(2073)},5627:(e,t,r)=>{r(8933)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,n=window.wp.htmlEntities,o=window.React;var a=r.n(o);const i="amazon_payments_advanced_express";var c=r(8118),u=r.n(c);const s=t=>{let{label:r,...n}=t;const{PaymentMethodLabel:o}=n.components;return(0,e.createElement)(o,{text:r})},p=t=>{let{RenderedComponent:r,...n}=t;const[o,a]=(0,e.useState)("");return(0,e.useEffect)((()=>{if(o)throw new Error(o)}),[o]),(0,e.createElement)(r,n)},l=t=>{let{settings:r,...n}=t;const{amazonPayPreviewUrl:o}=r;return(0,e.createElement)("img",{style:{width:"auto"},src:o,alt:""})},f=(e,t)=>{const r=document.getElementById(t+"-"+e);return!!r&&(r&&r.getAttribute("aria-label")?r.getAttribute("aria-label"):"")},d=(e,t)=>{let{cartTotals:r}=e,{allowedCurrencies:n}=t;return!(n&&n.length>0)||u()(n).call(n,r.currency_code)};var v=r(6936),m=r(9097);function y(){var e;return y=v?m(e=v).call(e):function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}var g=r(4278),h=r.n(g);r(5627);const b=(e,t,r)=>{r=r||amazon_payments_advanced.estimated_order_amount;let n={merchantId:amazon_payments_advanced.merchant_id,ledgerCurrency:amazon_payments_advanced.ledger_currency,sandbox:"1"===amazon_payments_advanced.sandbox,placement:amazon_payments_advanced.placement,buttonColor:amazon_payments_advanced.button_color,estimatedOrderAmount:r,checkoutLanguage:""!==amazon_payments_advanced.button_language?amazon_payments_advanced.button_language.replace("-","_"):void 0};return"express"===e?(n.productType=amazon_payments_advanced.action,n.createCheckoutSessionConfig=amazon_payments_advanced.create_checkout_session_config):n.productType=void 0!==t.payloadJSON.addressDetails?"PayAndShip":"PayOnly",n},x=(e,t)=>{var r=document.getElementById(e);0!==r.length&&r.getAttribute("data-wc_apa_change_bind")!==t&&(r.setAttribute("data-wc_apa_change_bind",t),r.addEventListener("click",(function(e){e.preventDefault()})),amazon.Pay.bindChangeAction("#"+r.getAttribute("id"),{amazonCheckoutSessionId:amazon_payments_advanced.checkout_session_id,changeAction:t}))},w=t=>{const r=_(t);return(0,e.useEffect)((()=>{((e,t,r,n)=>{let o=null;const a=document.querySelectorAll(e);for(const e of a){const a="#"+e.getAttribute("id"),i=b(t,r,n);o=amazon.Pay.renderButton(a,i)}})("#pay_with_amazon_express","express",null,r)}),[]),(0,e.createElement)("div",{id:"pay_with_amazon_express"})},_=e=>{const{billing:t}=e,{currency:r}=t,n=String(t.cartTotal.value),o=n.length,a=r.minorUnit,i=h()(n).call(n,0,o-a)+"."+h()(n).call(n,o-a);return o<a?null:{amount:i,currencyCode:r.code}},S=t=>{const r=_(t),n=r?`${r.amount}${r.currencyCode}`:"0",[o,a]=(0,e.useState)(n);return(0,e.useEffect)((()=>{a(n)}),[n]),(0,e.createElement)(w,y({key:o},t))},E=(e=>{const t=wc.wcSettings.getSetting(e,null);if(!t)throw new Error("Amazon Pay initialization data is not available");return t})(i+"_data"),O=()=>((0,e.useEffect)((()=>{x("amazon_change_payment_method","changePayment")}),[]),(0,e.createElement)("a",{href:"#",className:"wc-apa-widget-change",id:"amazon_change_payment_method"},E.hasPaymentPreferences?(0,t.__)("Change","woocommerce-gateway-amazon-payments-advanced"):(0,t.__)("Select","woocommerce-gateway-amazon-payments-advanced"))),z=r=>{const{shippingAddress:o,setShippingAddress:i}=r.shippingData,{billingData:c}=r.billing,{amazonBilling:u,amazonShipping:s}=E.amazonAddress;return(0,e.useEffect)((()=>{const e=r.eventRegistration.onCheckoutValidation((async()=>{for(const e in s){if(s[e]===o[e])continue;const r=f(e,"shipping");if(!1!==r)return{errorMessage:(0,t.sprintf)((0,t.__)('We were expecting "%1$s" but we received "%2$s" instead for the Shipping field "%3$s". Please make any changes to your Shipping details through Amazon."',"woocommerce-gateway-amazon-payments-advanced"),s[e],o[e],r)}}return!0}));return()=>e()}),[r.eventRegistration.onCheckoutValidation,c,o,u,s,r.emitResponse.noticeContexts.PAYMENTS,r.emitResponse.responseTypes.ERROR,r.emitResponse.responseTypes.SUCCESS]),(0,e.createElement)(a().Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)(O,null),(0,t.__)("Payment Method","woocommerce-gateway-amazon-payments-advanced")),(0,e.createElement)("div",{className:"payment_method_display"},(0,e.createElement)("span",{className:"wc-apa-amazon-logo"}),(0,n.decodeEntities)(E.selectedPaymentMethod)))},j=t=>(0,e.createElement)(a().Fragment,null,(0,e.createElement)(z,t)),P=()=>((0,e.useEffect)((()=>{x("amazon_change_shipping_address","changeAddress")}),[]),(0,e.createElement)("a",{href:"#",className:"wc-apa-widget-change",id:"amazon_change_shipping_address"},(0,t.__)("Change","woocommerce-gateway-amazon-payments-advanced"))),A=()=>(0,e.createElement)("div",{className:"woocommerce-info info amazon-pay-first-order"},(0,n.decodeEntities)(E.logoutMessage)," "," ",(0,e.createElement)("a",{href:E.logoutUrl},(0,n.decodeEntities)((0,t.__)("Log out &raquo;","woocommerce-gateway-amazon-payments-advanced")))),C={metadata:{name:"amazon-payments-advanced/change-address",parent:["woocommerce/checkout-shipping-address-block"]},component:()=>(0,e.createElement)(P,null)},k={metadata:{name:"amazon-payments-advanced/log-out-banner",parent:["woocommerce/checkout-fields-block"]},component:()=>(0,e.createElement)(A,null)},{registerExpressPaymentMethod:F,registerPaymentMethod:T,registerPaymentMethodExtensionCallbacks:M}=wc.wcBlocksRegistry,{registerCheckoutBlock:D}=wc.blocksCheckout;if(E.loggedIn){var N;const r=(0,n.decodeEntities)(E.title)||(0,t.__)("Amazon Pay","woocommerce-gateway-amazon-payments-advanced");if(E.allOtherGateways){let e={};for(const t in E.allOtherGateways)e[E.allOtherGateways[t]]=()=>!1;M("amazon_payments_advanced",e)}D(C),D(k),T({name:"amazon_payments_advanced",label:(0,e.createElement)(s,{label:r}),placeOrderButtonLabel:(0,t.__)("Proceed to Amazon","woocommerce-gateway-amazon-payments-advanced"),content:(0,e.createElement)(p,{RenderedComponent:j}),edit:(0,e.createElement)(p,{RenderedComponent:j}),canMakePayment:e=>d(e,E),ariaLabel:r,supports:{features:null!==(N=null==E?void 0:E.supports)&&void 0!==N?N:[]}})}else{var R;const t={name:i,content:(0,e.createElement)(p,{RenderedComponent:S}),edit:(0,e.createElement)(l,{settings:E}),canMakePayment:e=>d(e,E),supports:{features:null!==(R=null==E?void 0:E.supports)&&void 0!==R?R:[]}};"yes"!==E.hide_button_mode&&F(t)}})()})();