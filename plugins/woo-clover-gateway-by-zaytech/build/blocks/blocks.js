!function(e){var t={};function r(c){if(t[c])return t[c].exports;var a=t[c]={i:c,l:!1,exports:{}};return e[c].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(c,a,function(t){return e[t]}.bind(null,a));return c},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wc.wcBlocksRegistry},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){e.exports=window.wc.wcSettings},function(e,t,r){"use strict";r.r(t);var c=r(0),a=r(1),o=r(2),n=r(3),s=r(4);const l=Object(s.getSetting)("woocci_zaytech_data",{}),i=Object(a.__)("Zaytech Clover Integration","woo-gutenberg-products-block"),m=Object(n.decodeEntities)(l.title)||i,d=e=>{const{eventRegistration:t,emitResponse:r}=e,{onPaymentSetup:a}=t;return Object(c.useEffect)(()=>{const e=a(async()=>{try{let e=await(async()=>new Promise((e,t)=>{woocci_params.recaptcha_site_key?grecaptcha.ready((function(){try{grecaptcha.execute(woocci_params.recaptcha_site_key,{action:"createOrder"}).then(t=>{e(t)})}catch(e){t(e.message)}})):e("")}))().then(e=>e).catch(e=>{throw new Error(e)});return{type:r.responseTypes.SUCCESS,meta:{paymentMethodData:{"soo-recaptcha-token":e}}}}catch(e){return{type:r.responseTypes.ERROR,message:e.message}}});return()=>{e()}},[r.responseTypes.ERROR,r.responseTypes.SUCCESS,a]),Object(n.decodeEntities)(l.description||"")},u=e=>{const{eventRegistration:t,emitResponse:r}=e,{onPaymentSetup:o}=t;return Object(c.useEffect)(()=>{window.woocci_gateway.mountElements();const e=o(async()=>{try{let e=await(async()=>await window.clover.createToken().then(e=>{if(!e.token)throw new Error((t=e).errors.CARD_NUMBER?t.errors.CARD_NUMBER:t.errors.CARD_DATE?t.errors.CARD_DATE:t.errors.CARD_CVV||t.errors.CARD_CVV?t.errors.CARD_CVV:t.errors.CARD_POSTAL_CODE?t.errors.CARD_POSTAL_CODE:"Double check your card details");var t;return e}))(),t=await(async()=>new Promise((e,t)=>{woocci_params.recaptcha_site_key?grecaptcha.ready((function(){try{grecaptcha.execute(woocci_params.recaptcha_site_key,{action:"createOrder"}).then(t=>{e(t)})}catch(e){t(e.message)}})):e("")}))().then(e=>e).catch(e=>{throw new Error(e)});return{type:r.responseTypes.SUCCESS,meta:{paymentMethodData:{"soo-recaptcha-token":t,"clover-source":e.token,"clover-card":JSON.stringify(e.card)}}}}catch(e){return{type:r.responseTypes.ERROR,message:e.message}}});return()=>{e()}},[r.responseTypes.ERROR,r.responseTypes.SUCCESS,o]),Object(c.createElement)("div",null,Object(c.createElement)("fieldset",{id:"wc-woocci_zaytech-cc-form",className:"wc-credit-card-form wc-payment-form"},Object(c.createElement)("input",{type:"hidden",value:"use_inline_form"}),Object(c.createElement)("div",{className:"form-row form-row-wide moo-no-margin-buttom"},Object(c.createElement)("label",{htmlFor:"clover-card-element"},Object(a.__)("Card Number","zaytech_woocci"),Object(c.createElement)("span",{className:"required"},"*")),Object(c.createElement)("div",{className:"clover-card-group"},Object(c.createElement)("div",{id:"clover-card-element",className:"wc-clover-elements-field"}))),Object(c.createElement)("div",{className:"form-row form-row-first moo-no-margin-buttom"},Object(c.createElement)("label",{htmlFor:"clover-exp-element"},Object(a.__)("Expiry Date","zaytech_woocci"),Object(c.createElement)("span",{className:"required"},"*")),Object(c.createElement)("div",{id:"clover-exp-element",className:"wc-clover-elements-field"})),Object(c.createElement)("div",{className:"form-row form-row-last moo-no-margin-buttom"},Object(c.createElement)("label",{htmlFor:"clover-cvc-element"},Object(a.__)("Card Code (CVC)","zaytech_woocci"),Object(c.createElement)("span",{className:"required"},"*")),Object(c.createElement)("div",{id:"clover-cvc-element",className:"wc-clover-elements-field"})),(()=>{if(woocci_params.show_street_address&&"1"===woocci_params.show_street_address)return Object(c.createElement)("div",{className:"form-row form-row-wide moo-no-margin-buttom"},Object(c.createElement)("label",{htmlFor:"clover-address-element"},Object(a.__)("Street Address","zaytech_woocci"),Object(c.createElement)("span",{className:"required"},"*")),Object(c.createElement)("div",{id:"clover-address-element",className:"wc-clover-elements-field"}))})(),Object(c.createElement)("div",{className:"form-row form-row-wide moo-no-margin-buttom"},Object(c.createElement)("label",{htmlFor:"clover-zip-element"},Object(a.__)("Zip code","zaytech_woocci"),Object(c.createElement)("span",{className:"required"},"*")),Object(c.createElement)("div",{id:"clover-zip-element",className:"wc-clover-elements-field"})),Object(c.createElement)("div",{className:"clear"}),Object(c.createElement)("div",{className:"clover-errors",role:"alert"}),Object(c.createElement)("div",{className:"clover-footer"}),Object(c.createElement)("br",null),Object(c.createElement)("div",{className:"clear"})))},p=e=>{const{PaymentMethodLabel:t}=e.components;return Object(c.createElement)(t,{text:m})},b={name:"woocci_zaytech",label:Object(c.createElement)(p,null),content:Object(c.createElement)(u,null),edit:Object(c.createElement)(u,null),canMakePayment:()=>!0,ariaLabel:m,supports:{features:l.supports}},w={name:"woocci_zaytech",label:Object(c.createElement)(p,null),content:Object(c.createElement)(d,null),edit:Object(c.createElement)(d,null),canMakePayment:()=>!0,ariaLabel:m,supports:{features:l.supports}};"undefined"!=typeof woocci_params&&("1"!==woocci_params.inline_form?Object(o.registerPaymentMethod)(w):Object(o.registerPaymentMethod)(b))}]);