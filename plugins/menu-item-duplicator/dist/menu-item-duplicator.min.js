!function(s){var l,d="js-menu-item-duplicator-duplicate";function e(e,t){i(t)}function f(e){var t=e.getItemData(),i=e.find(".menu-item-data-db-id").val(),n=e.find("#edit-menu-item-target-"+i);return t["menu-item-description"]=e.find("#edit-menu-item-description-"+i).val(),t["menu-item-target"]=n.is(":checked")?n.val():"",t}function t(){for(var e,t=s(this).closest("li"),i=f(t),c=i["menu-item-db-id"],n={"-1":i},p=1,d=[],a=(d.push({relativeDepth:0,description:i["menu-item-description"]}),i["menu-item-db-id"]=0,i["menu-item-parent-id"]=0,t),r=[c],m=1;(a=a.next()).length;){for(var u=f(a),o=r.length-1;0<=o;o--){if(u["menu-item-parent-id"]===r[o]){p++,e=u["menu-item-db-id"],u["menu-item-db-id"]=0,u["menu-item-parent-id"]=0,d.push({relativeDepth:m}),n[(-1*p).toString()]=u,m++,r.push(e);break}r.pop(),m--}if(!r.length)break}l.addItemToMenu(n,function(e){var e=s(e),n=0;e.hideAdvancedMenuItemFields().appendTo(l.targetList),l.refreshKeyboardAccessibility(),l.refreshAdvancedAccessibility(),e.each(function(e){var t=s(this),i=t.prop("tagName");if(!i||"LI"!==i.toUpperCase())return!0;i=d[n],n++,i.description&&t.find(".edit-menu-item-description").val(i.description),0<i.relativeDepth&&t.shiftHorizontally(i.relativeDepth)}),s(document).trigger("menu-item-added",[e])})}function i(e){e.each(function(){var e=s(this),t=s('<a href="#"></a>'),i=e.find(".meta-sep").clone(),n=e.find(".menu-item-actions");if(e.find("."+d).length)return!0;t.addClass(d),t.text(menuItemDuplicator.labels.duplicate),n.append(i),n.append(t)})}s(document).ready(function(){l=wpNavMenu,i(s(".menu-item")),s(document).on("menu-item-added",e),s("#post-body-content").on("click","."+d,t)})}(jQuery);