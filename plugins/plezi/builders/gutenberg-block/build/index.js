!function(){"use strict";var t,e={906:function(){var t=window.wp.element,e=window.wp.blocks,r=window.wp.i18n;function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},i.apply(this,arguments)}var o=window.wp.blockEditor,n=window.wp.components;const{Component:s}=wp.element,{Spinner:l}=wp.components;(0,e.registerBlockType)("create-block/plezi-form",{title:(0,r.__)("Plezi form","plezi-for-wordpress"),icon:(0,t.createElement)("svg",{width:"78",height:"24",viewBox:"0 0 78 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M16.5037 2.05118C15.6633 1.64958 14.682 2.65118 15.0965 3.49118C15.1988 3.67183 15.3674 3.8079 15.5683 3.87198L19.4572 5.08318L24.1473 6.50718L24.1325 6.54078C14.9589 3.87838 5.08409 1.90558 2.00273 1.45118C1.95599 1.44683 1.90889 1.45409 1.86579 1.4723C1.8227 1.4905 1.78502 1.51905 1.75625 1.55529C1.72748 1.59153 1.70856 1.63428 1.70124 1.67958C1.69393 1.72488 1.69846 1.77125 1.71442 1.81438L5.29214 9.99038C5.49003 10.3683 5.79625 10.6819 6.17347 10.8928L13.5566 13.9328C13.9175 14.0837 14.2997 14.1803 14.6902 14.2192H14.741C15.0539 14.2192 18.168 14.1776 18.9855 14.2016C18.9855 14.2016 13.5107 14.4848 8.80925 15.3856C8.35876 15.504 8.08355 15.8448 8.26047 16.2032L9.57099 19.1152C9.60049 19.1783 9.64288 19.2348 9.69556 19.2813C9.74824 19.3278 9.81009 19.3633 9.87733 19.3856C9.87733 19.3856 13.3617 20.336 15.4847 21.176C15.4864 21.1773 15.4878 21.179 15.4888 21.181C15.4897 21.1829 15.4902 21.185 15.4902 21.1872C15.4902 21.1893 15.4897 21.1914 15.4888 21.1934C15.4878 21.1953 15.4864 21.197 15.4847 21.1984C15.4847 21.1984 15.0195 21.0736 14.5706 21.0016C14.3137 20.9586 14.0531 20.9399 13.7925 20.9456L12.518 22.1728C12.5055 22.1843 12.4963 22.1989 12.4914 22.215C12.4866 22.2311 12.4862 22.2482 12.4904 22.2645C12.4946 22.2808 12.5031 22.2958 12.5152 22.3078C12.5272 22.3198 12.5424 22.3284 12.559 22.3328C13.2114 22.4086 13.8726 22.3613 14.5067 22.1936C15.0362 22.0571 15.5208 21.7898 15.9139 21.4176L16.8722 20.3568C16.9022 20.3244 16.9221 20.2843 16.9297 20.2412C16.9372 20.1982 16.9321 20.1539 16.9148 20.1136C16.4807 19.2384 14.7443 18.5696 13.709 18.5328L11.0879 18.8704C14.1365 18.08 16.9296 17.6 16.9296 17.6C19.7144 17.12 19.911 16.7328 21.1888 14.9088L21.6802 14.1936C21.6885 14.1832 21.6944 14.1712 21.6977 14.1585C21.7009 14.1457 21.7014 14.1324 21.6991 14.1195C21.6968 14.1065 21.6917 14.0942 21.6842 14.0832C21.6767 14.0723 21.667 14.063 21.6556 14.056L13.8761 10.664C13.4453 10.4531 12.9831 10.31 12.5066 10.24L8.05079 10.0416C8.05079 10.0416 11.6138 9.84478 15.9434 9.95998C18.8921 10.0384 21.6966 10.2272 23.1808 10.3392C23.5292 10.3542 23.8754 10.2789 24.1844 10.1209C24.4934 9.96302 24.7541 9.72809 24.9401 9.43998L26.3571 7.33598C26.3665 7.32371 26.3732 7.30966 26.3767 7.29474C26.3803 7.27981 26.3806 7.26433 26.3776 7.24928C26.3747 7.23424 26.3686 7.21995 26.3597 7.20733C26.3508 7.19471 26.3394 7.18403 26.326 7.17598L16.5037 2.05118Z",fill:"#002D4F"}),(0,t.createElement)("path",{d:"M49.9007 7.18078C49.1799 4.33917 46.5622 2.07037 41.1759 2.07037C32.4511 2.07037 27.2811 7.90078 27.3597 11.6704C27.3974 13.4736 28.7522 14.944 30.8785 14.944C31.8319 14.944 32.8934 14.5728 32.8934 13.8784C27.8283 13.8784 33.4127 3.84317 41.5658 3.84317C45.422 3.83997 47.2027 6.55998 47.2027 9.19998C47.2027 13.2496 42.3357 16.9408 36.8201 17.0544C39.9866 13.0384 42.9943 7.91198 44.0279 6.09438C44.0669 6.02577 44.0861 5.94808 44.0833 5.86966C44.0805 5.79123 44.0559 5.71503 44.0121 5.64924C43.9683 5.58344 43.907 5.53054 43.8348 5.49621C43.7625 5.46188 43.6821 5.44742 43.602 5.45438C38.3517 5.95358 36.0469 11.4656 30.5279 21.9344C30.5049 21.9776 30.4951 22.0265 30.4997 22.075C30.5042 22.1236 30.523 22.1698 30.5537 22.2083C30.5844 22.2467 30.6258 22.2757 30.673 22.2918C30.7201 22.308 30.771 22.3105 30.8195 22.2992C32.2578 21.9792 34.0254 20.3792 35.8061 18.2912C36.8559 18.5254 37.9302 18.6387 39.007 18.6288C41.5969 18.6288 43.7577 18.0272 45.4662 17.0288C45.9986 14.576 47.1585 11.68 48.7098 9.03198C49.0047 8.54078 49.4044 7.88478 49.9007 7.18078Z",fill:"#002D4F"}),(0,t.createElement)("path",{d:"M75.1038 17.5712C75.1038 17.5712 73.9292 20.5792 72.5892 20.5792C70.9511 20.5792 74.8237 13.7152 74.8237 12.8304C74.8237 12.496 74.7401 12.2016 72.6744 12.2016C72.4008 12.2016 72.1928 12.2128 72.1928 12.2128C72.1928 12.2128 68.561 20.2784 65.3126 20.2784C64.6032 20.2784 63.7956 19.76 62.9897 19.392C63.8904 18.7835 64.7461 18.1136 65.5501 17.3872C69.7126 13.7216 70.4646 13.3776 70.4646 12.2272H64.2854C63.1027 12.2272 62.3754 13.0992 62.2574 14.2512C62.2531 14.2937 62.2579 14.3366 62.2715 14.3771C62.2852 14.4177 62.3074 14.455 62.3367 14.4866C62.3661 14.5183 62.4018 14.5436 62.4418 14.5609C62.4817 14.5782 62.525 14.5872 62.5687 14.5872H66.0956C65.3502 15.152 63.8907 16.2624 62.3279 17.4672L62.2525 17.5264L61.9413 17.7648C61.0059 18.4656 58.5798 20.1648 57.017 20.1648C55.6098 20.1648 55.156 19.536 55.2314 18.6768C55.602 18.922 56.0386 19.0545 56.4862 19.0576C59.2956 19.0576 61.096 16.0336 61.1582 13.9808C61.1893 12.9392 60.2884 12.2352 59.1924 12.2352C57.1857 12.2352 55.4673 13.568 54.3796 15.2752C53.3852 16.4992 50.7117 19.6208 49.3619 19.6208C48.4036 19.6208 48.5428 18.1072 49.2652 16.0688C52.363 15.3984 58.4176 10.2608 58.4176 5.3488C58.4176 3.9776 57.7623 3.2688 56.7876 3.2688C55.3723 3.2688 53.8914 4.1392 52.4973 5.5088C51.7217 6.27683 51.0172 7.11049 50.3923 8C48.5445 10.616 47.0521 13.8864 46.3919 16.64C46.2773 17.12 46.1872 17.5888 46.1249 18.0336C45.776 20.5392 46.3166 22.3536 48.2004 22.3536C49.9516 22.3536 51.8617 20.1808 53.205 18.264C52.8774 20.4496 53.7407 22.392 56.4256 22.392C57.08 22.3689 57.7187 22.1904 58.2865 21.872L58.4684 22.1632C58.4953 22.1992 58.5295 22.2293 58.569 22.2516C58.6085 22.2739 58.6523 22.2879 58.6976 22.2927C58.7429 22.2975 58.7888 22.2931 58.8323 22.2796C58.8757 22.2661 58.9158 22.2439 58.95 22.2144C60.8552 20.6512 62.5113 22.392 64.6245 22.392C66.5182 22.392 68.3563 20.5696 69.8257 18.52C69.2654 20.8336 69.5275 22.4416 71.5867 22.4416C74.324 22.4416 75.8967 18.8608 75.8967 18.2512C75.8967 17.6416 75.1038 17.5712 75.1038 17.5712ZM56.6926 5.4528C57.6149 5.4528 56.6173 7.9952 54.7006 10.5408C53.2591 12.4608 51.326 14.1392 49.9074 14.424C51.6864 10.3824 54.9496 5.4528 56.6926 5.4528ZM58.9238 13.88C59.9591 13.88 57.1988 18.2848 55.4083 17.88C56.057 16.0848 58.1489 13.88 58.9238 13.88Z",fill:"#002D4F"}),(0,t.createElement)("path",{d:"M75.3987 7.32477C74.5797 6.97117 73.5263 7.52477 73.0627 8.55997C72.5992 9.59517 72.8989 10.72 73.718 11.0736C74.5371 11.4272 75.5904 10.8736 76.054 9.83837C76.5176 8.80317 76.2244 7.67997 75.3987 7.32477Z",fill:"#D91378"})),description:(0,r.__)("Choose a Plezi form","plezi-for-wordpress"),category:"plezi",edit:class extends s{constructor(t){super(t),this.props=t,this.state={list:[],loading:!0}}componentDidMount(){this.runApiFetch()}componentDidUpdate(t){if(this.props.attributes.plezi_form&&this.props.attributes.plezi_form.length>0){const t=document.createElement("script");t.src=`https://brain.plezi.co/api/v1/web_forms/scripts?content_web_form_id=${this.props.attributes.plezi_form}`,t.async=!0,document.body.appendChild(t)}}runApiFetch(){wp.apiFetch({path:"plz/v2/configuration/get-forms-list",method:"POST",data:{args:"sort_by=created_at&sort_dir=desc&page=1&per_page=20",filters:{sort_by:"created_at",sort_dir:"desc",page:"1",per_page:"20"},default:!0}}).then((t=>{const e=[];t.list.map(((t,r)=>{e[r]={},e[r].value=t.id,e[r].label=t.attributes.custom_title})),this.setState({list:e,loading:!1})}))}render(e){return(0,t.createElement)("div",i({},e,{class:"plz-gutenberg"}),this.state.loading?(0,t.createElement)(l,null):(0,t.createElement)("div",null,(0,t.createElement)(n.SelectControl,{label:(0,r.__)("Choose a Plezi form","plezi-for-wordpress"),value:this.props.attributes.plezi_form,onChange:t=>{this.props.setAttributes({plezi_form:t})},options:this.state.list}),(0,t.createElement)("div",null,this.props.attributes.plezi_form&&this.props.attributes.plezi_form.length>0&&(0,t.createElement)("div",null,(0,t.createElement)("form",{formid:this.props.attributes.plezi_form,id:`plz-form-${this.props.attributes.plezi_form}`}),(0,t.createElement)("script",{src:`https://brain.plezi.co/api/v1/web_forms/scripts?content_web_form_id=${this.props.attributes.plezi_form}`})))))}},save:function(e){const r=o.useBlockProps.save();return(0,t.createElement)("div",i({},r,{class:"plz-gutenberg"}),e.attributes.plezi_form&&e.attributes.plezi_form.length>0&&(0,t.createElement)("div",null,(0,t.createElement)("form",{formid:e.attributes.plezi_form,id:`plz-form-${e.attributes.plezi_form}`}),(0,t.createElement)("script",{async:!0,src:`https://brain.plezi.co/api/v1/web_forms/scripts?content_web_form_id=${e.attributes.plezi_form}`})))},attributes:{plezi_form:{type:"string",source:"attribute",selector:"form",attribute:"formid"}},example:{attributes:{plezi_form:"123456789"}}})}},r={};function i(t){var o=r[t];if(void 0!==o)return o.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,i),n.exports}i.m=e,t=[],i.O=function(e,r,o,n){if(!r){var s=1/0;for(a=0;a<t.length;a++){r=t[a][0],o=t[a][1],n=t[a][2];for(var l=!0,p=0;p<r.length;p++)(!1&n||s>=n)&&Object.keys(i.O).every((function(t){return i.O[t](r[p])}))?r.splice(p--,1):(l=!1,n<s&&(s=n));if(l){t.splice(a--,1);var C=o();void 0!==C&&(e=C)}}return e}n=n||0;for(var a=t.length;a>0&&t[a-1][2]>n;a--)t[a]=t[a-1];t[a]=[r,o,n]},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={826:0,431:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,n,s=r[0],l=r[1],p=r[2],C=0;if(s.some((function(e){return 0!==t[e]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(p)var a=p(i)}for(e&&e(r);C<s.length;C++)n=s[C],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(a)},r=self.webpackChunkplz_gutenberg_block=self.webpackChunkplz_gutenberg_block||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var o=i.O(void 0,[431],(function(){return i(906)}));o=i.O(o)}();