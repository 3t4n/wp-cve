<?php

/**
 * Dojo for WooCommerce Template
 *
 * @package    Dojo_For_WooCommerce
 * @subpackage Dojo_For_WooCommerce/templates
 * @author     Dojo
 * @link       http://dojo.tech/
 */

/**
 * Exit if accessed directly
 */
if (!defined('ABSPATH')) {
	exit();
}

if (!empty($error_message)) {
	echo '<div class="notice notice-error"><p>' . esc_html($error_message) . '</p></div>';
}
echo '<div id="dojo_diagnostic_messages"></div>';
?>
<svg width="73px" height="32px" viewBox="0 0 73 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="max-width:73px;max-height: 32px;" reserveaspectratio="xMinYMin none">
	<title>Dojo</title>
	<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
		<g id="Header" transform="translate(-80.000000, -22.000000)" fill="#262626">
			<path d="M127.230822,29.0095321 L127.230822,44.8571699 L127.228945,44.857 L127.226632,45.0782852 C127.101225,49.363888 124.174005,52.9391141 120.231189,53.999935 L120.230818,49.0517119 C121.686353,48.2013585 122.665635,46.6119543 122.665635,44.7915457 L122.665595,29.0095321 L127.230822,29.0095321 Z M98.8846365,22 L98.8846365,38.4687967 C98.8846365,43.6902675 94.6571667,47.923106 89.4423183,47.923106 C84.2274699,47.923106 80,43.6902675 80,38.4687967 C80,33.2473259 84.2274699,29.0144875 89.4423183,29.0144875 C91.2255567,29.0144875 92.8933384,29.5094441 94.3161065,30.3696359 L94.3157729,22 L98.8846365,22 Z M150.711618,43.6154088 C151.890535,43.6154088 152.846235,44.5711098 152.846235,45.7500266 C152.846235,46.9289435 151.890535,47.8846444 150.711618,47.8846444 C149.532701,47.8846444 148.577,46.9289435 148.577,45.7500266 C148.577,44.5711098 149.532701,43.6154088 150.711618,43.6154088 Z M139.134682,29.0000078 C144.34953,29.0000078 148.577,33.2274777 148.577,38.4423261 C148.577,43.6571745 144.34953,47.8846444 139.134682,47.8846444 C133.919833,47.8846444 129.692363,43.6571745 129.692363,38.4423261 C129.692363,33.2274777 133.919833,29.0000078 139.134682,29.0000078 Z M110.788496,29.0000078 C116.003344,29.0000078 120.230814,33.2274777 120.230814,38.4423261 C120.230814,43.6571745 116.003344,47.8846444 110.788496,47.8846444 C105.573648,47.8846444 101.346178,43.6571745 101.346178,38.4423261 C101.346178,33.2274777 105.573648,29.0000078 110.788496,29.0000078 Z M150.711618,44.1490633 C149.82743,44.1490633 149.110654,44.865839 149.110654,45.7500266 C149.110654,46.6342142 149.82743,47.3509899 150.711618,47.3509899 C151.595805,47.3509899 152.312581,46.6342142 152.312581,45.7500266 C152.312581,44.865839 151.595805,44.1490633 150.711618,44.1490633 Z M150.787549,44.7437068 L150.916706,44.7499643 C151.081083,44.7666509 151.214137,44.8167107 151.315867,44.9001438 C151.443029,45.0044351 151.50661,45.1526386 151.50661,45.3447542 C151.50661,45.4783203 151.474591,45.5903877 151.410553,45.6809565 C151.346514,45.7715253 151.25686,45.8369361 151.141591,45.8771888 L151.141591,45.8771888 L151.539544,46.5770385 L151.54572,46.5928195 L151.54572,46.5928195 L151.547778,46.6072281 C151.547778,46.6236952 151.541832,46.6374177 151.529939,46.6483958 C151.518046,46.6593738 151.504781,46.6648628 151.490143,46.6648628 L151.490143,46.6648628 L151.237649,46.6648628 L151.198539,46.6597169 L151.198539,46.6597169 L151.169036,46.644279 C151.152569,46.6305564 151.137931,46.6127171 151.125124,46.5907611 L151.125124,46.5907611 L150.773827,45.9403125 L150.397829,45.9403125 L150.397829,46.5989946 L150.393026,46.6243813 L150.393026,46.6243813 L150.378617,46.6456512 C150.36581,46.658459 150.349343,46.6648628 150.329216,46.6648628 L150.329216,46.6648628 L150.076721,46.6648628 L150.051335,46.6600599 L150.051335,46.6600599 L150.030065,46.6456512 C150.017257,46.6328435 150.010853,46.6172913 150.010853,46.5989946 L150.010853,46.5989946 L150.010853,44.8123195 L150.015313,44.7848744 L150.015313,44.7848744 L150.028692,44.7629184 C150.040585,44.7501107 150.056595,44.7437068 150.076721,44.7437068 L150.076721,44.7437068 L150.787549,44.7437068 Z M150.779316,45.0510918 L150.397829,45.0510918 L150.397829,45.6274386 L150.779316,45.6274386 C150.889096,45.6274386 150.971431,45.6031954 151.026321,45.5547091 C151.081212,45.5062228 151.108657,45.435323 151.108657,45.3420097 C151.108657,45.2486964 151.081212,45.1768817 151.026321,45.1265658 C150.971431,45.0762498 150.889096,45.0510918 150.779316,45.0510918 L150.779316,45.0510918 Z M89.4423183,33.5891533 C86.7507836,33.5891533 84.5688637,35.7738441 84.5688637,38.4687967 C84.5688637,41.1637494 86.7507836,43.3484402 89.4423183,43.3484402 C92.1338529,43.3484402 94.3157729,41.1637494 94.3157729,38.4687967 C94.3157729,35.7738441 92.1338529,33.5891533 89.4423183,33.5891533 Z M139.134682,33.5688715 C136.443147,33.5688715 134.261227,35.7507915 134.261227,38.4423261 C134.261227,41.1338608 136.443147,43.3157807 139.134682,43.3157807 C141.826216,43.3157807 144.008136,41.1338608 144.008136,38.4423261 C144.008136,35.7507915 141.826216,33.5688715 139.134682,33.5688715 Z M110.788496,33.5688715 C108.096961,33.5688715 105.915041,35.7507915 105.915041,38.4423261 C105.915041,41.1338608 108.096961,43.3157807 110.788496,43.3157807 C113.480031,43.3157807 115.661951,41.1338608 115.661951,38.4423261 C115.661951,35.7507915 113.480031,33.5688715 110.788496,33.5688715 Z M124.948209,22 C126.208861,22 127.230822,23.0233504 127.230822,24.285717 C127.230822,25.5480836 126.208861,26.571434 124.948209,26.571434 C123.687556,26.571434 122.665595,25.5480836 122.665595,24.285717 C122.665595,23.0233504 123.687556,22 124.948209,22 Z" id="Combined-Shape-Copy-87"></path>
		</g>
	</g>
</svg>
<?php
echo '<h2>' . esc_html($title) . '</h2>';
echo wp_kses_post(wpautop($description));
?>
<table class="form-table">
	<?php $this_->generate_settings_html(); ?>
</table>
<script type="text/javascript">
	let dojo_plugin_version_text = document.createTextNode('<?php echo esc_html($plugin_version); ?>');
	let wrap_wc_divs = document.getElementsByClassName('wrap woocommerce');
	let wrap_wc_div = wrap_wc_divs[0];
	if (wrap_wc_div.tagName === 'DIV') {
		wrap_wc_div.appendChild(dojo_plugin_version_text);
	}
	if (typeof jQuery !== 'undefined') {
		jQuery(function() {
			jQuery.get(
				"<?php echo $admin_info_url; ?>", {},
				function(result) {
					jQuery.each(result, function(name, data) {
						if (data.hasOwnProperty("text") && data.hasOwnProperty("class")) {
							let div_id = "dojo_diagnostic_message_" + name;
							jQuery("<div>").attr("id", div_id).appendTo("#dojo_diagnostic_messages");
							jQuery("<p>").html(data.text).appendTo("#" + div_id);
							jQuery("#" + div_id).addClass(data.class);
						}
					});
				}
			);
		});
	} else {
		let err_text = document.createTextNode("jQuery not found. Please enable jQuery.");
		let err_para = document.createElement("p");
		let err_div = document.createElement("div");
		err_para.appendChild(err_text);
		err_div.appendChild(err_para);
		err_div.className = "<?php echo esc_html($this_::ERROR_CLASS_NAME); ?>";
		document.getElementById("dojo_diagnostic_messages").appendChild(err_div);
	}
</script>