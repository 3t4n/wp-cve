"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[265],{6811:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(2982),r=a(4942),l=a(885),s=a(7294),i=a(874),o=a(6732),_=a(3972),c=a(3089),u=a(2382),d=a(9250);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=s.lazy((function(){return a.e(826).then(a.bind(a,7406))})),g=s.lazy((function(){return a.e(235).then(a.bind(a,6589))})),b=s.lazy((function(){return a.e(872).then(a.bind(a,5453))})),w=s.lazy((function(){return a.e(439).then(a.bind(a,2112))})),h=s.lazy((function(){return a.e(542).then(a.bind(a,7754))}));const y=function(){var e=(0,s.useContext)(_.jZ),t=(0,d.UO)().active,a=(0,s.useContext)(_.ko),r=a.CommonState,p=a.setCommonState,y=a.appState,v=a.setSaveSettingsValue,k=s.useState(e?"License":"General Settings"),E=(0,l.Z)(k,2),x=E[0],S=E[1],C=s.useState("Products"),D=(0,l.Z)(C,2),O=D[0],Z=D[1],j=s.useState([]),F=(0,l.Z)(j,2),N=F[0],P=F[1],H=s.useState({}),L=(0,l.Z)(H,2),z=L[0],R=L[1],Y=s.useState(!1),B=(0,l.Z)(Y,2),M=B[0],A=B[1],G=s.useContext(_.Gr),V=s.useState({loading:!0,data:{wlr_earning_status:["processing","completed"],wlr_removing_status:[],wlr_point_rounding_type:"round",wlr_my_account_label_icon_position:"no",wlr_point_label:"points",wlr_point_singular_label:"point",product_message_display_position:"before_add_to_cart",wlr_is_cart_earn_message_enable:"yes",wlr_cart_earn_point_display:"before",wlr_cart_earn_points_message:"Complete your order and earn {wlr_cart_points} {wlr_points_label} & rewards for a discount on a future purchase",wlr_is_cart_redeem_message_enable:"yes",wlr_cart_redeem_point_display:"before",wlr_cart_redeem_points_message:"You have {wlr_redeem_cart_points} {wlr_points_label} earned choose your rewards {wlr_reward_link}",wlr_is_checkout_earn_message_enable:"yes",wlr_checkout_earn_points_message:"Complete your order and earn {wlr_cart_points} {wlr_points_label} & rewards for a discount on a future purchase",wlr_is_checkout_redeem_message_enable:"yes",wlr_checkout_redeem_points_message:"You have {wlr_redeem_cart_points} {wlr_points_label} earned choose your rewards {wlr_reward_link}",wlr_is_thank_you_message_enable:"yes",wlr_thank_you_message:"You have earned {wlr_earned_points} {wlr_points_label} for this order. You have a total of {wlr_total_points}.",wlr_thank_you_position:"before",license_key:"",reward_code_prefix:"WLR-",wlr_referral_prefix:"REF-",earn_cart_text_color:"#9CC21D",earn_cart_border_color:"#9CC21D",earn_cart_background_color:"#ffffff",redeem_cart_text_color:"#9CC21D",redeem_cart_border_color:"#9CC21D",redeem_cart_background_color:"#ffffff",is_campaign_display:"yes",is_transaction_display:"yes",is_reward_display:"no",is_campaign_point_display:"yes",is_sent_email_display:"yes",user_action_list:["signin"],allow_auto_generate_coupon:"yes",individual_use_coupon:"no",earn_message_icon:"",redeem_message_icon:"",redeem_point_icon:"",available_point_icon:"",used_reward_icon:"",redeem_button_text:"Redeem Now",apply_coupon_button_text:"Apply Coupon",redeem_button_color:"#4F47EB",redeem_button_text_color:"#ffffff",apply_coupon_border_color:"#FF8E3D",apply_coupon_button_text_color:"#ffffff",apply_coupon_button_color:"#4F47EB",apply_coupon_background:"#FFF8F3",theme_color:"#4F47EB",heading_color:"#1D2327",border_color:"#CFCFCF",background_color:"#ffffff",button_text_color:"#ffffff",pagination_limit:10,is_revert_enabled:"no",debug_mode:"no",is_earn_point_after_discount:"no",reward_plural_label:"rewards",reward_singular_label:"reward",birthday_display_place:["do_not_show"],user_display_conditions:[],is_one_time_birthdate_edit:"no",is_campaign_level_batch_display:"no",tax_calculation_type:"inherit"}}),Q=(0,l.Z)(V,2),U=Q[0],W=Q[1],q=s.useState(!1),I=(0,l.Z)(q,2),J=I[0],K=I[1];s.useEffect((function(){"Emails"===t&&S(G.settings.email.name)}),[]);var T,X,$=[{label:G.settings.license.name,subtitle:null,click:function(){return S(G.settings.license.name)},id:"wpl_licence_id"},{label:G.settings.earn_point.name,subtitle:null,click:function(){return S(G.settings.earn_point.name)},id:"wpl_general_id"},{label:G.settings.display_message.name,subtitle:G.settings.display_message.description,click:function(){return S(G.settings.display_message.name)},id:"wpl_display_message_id"},{label:G.settings.pages.name,subtitle:null,click:function(){return S(G.settings.pages.name)},id:"wpl_custom_page_id"},{label:G.settings.email.name,subtitle:null,click:function(){return S(G.settings.email.name)},id:"wpl_email_setting_id"}],ee=function(e){var t=e.tab,a=x===t.label;return s.createElement("div",{className:" flex bg-white px-7 pt-5 pb-3 items-center \n      cursor-pointer border-b-2  ".concat(a?"border-primary":"border-transparent"," "),onClick:t.click,id:t.id},s.createElement("h4",{className:" font-medium antialiased text-16px  ".concat(a?"text-primary":"text-dark"," ")},t.label))},te=function(){var e={wlr_nonce:y.local.settings.wlr_setting_nonce,action:"wlr_get_settings"};W((function(e){return m(m({},e),{},{loading:!0})})),(0,o.j0)(e).then((function(e){var t=(0,c.R3)(e.data);if(!0===t.success&&null!==t.data&&t.data!=={}){var a=m(m({},U.data),t.data);W(m(m({},U),{},{data:a,loading:!1})),K(t.data.license_key_valid)}else!1===t.success&&null!==t.data&&(alertify.error(t.data.message),W(m(m({},U),{},{loading:!1})))}))};return s.useEffect((function(){te()}),[]),s.useEffect((function(){A(!1)}),[x]),s.createElement("div",{className:"w-full h-full  rounded-b-xl bg-white flex flex-col  py-5 px-8 "},s.createElement("div",{className:"flex items-center justify-between w-full"},s.createElement("h4",{className:"text-dark tracking-wider font-bold uppercase "},G.settings.name),s.createElement("div",{className:"flex items-center space-x-3 "},s.createElement(i.Z,{icon:s.createElement("i",{className:"text-md text-white leading-0 antialiased wlr wlrf-save color-important "}),bgColor:"bg-primary",textStyle:"text-white font-medium text-sm_14_l_20",padding:"px-5 py-3",outline:!0,disabled:M,outlineStyle:"border-primary-light",click:function(e){var t,a;e.preventDefault(),t={wlr_nonce:y.local.settings.wlr_setting_nonce,action:"wlr_save_settings",option_key:"wlr_settings"},a=m({},U.data),Object.keys(a).map((function(e){return"oauth_signature"!==e&&(t[e]=a[e]),e})),A(!0),W((function(e){return m(m({},e),{},{loading:!0})})),(0,o.j0)(t).then((function(e){var t=(0,c.R3)(e.data);(0,c.Pu)(r,p,U.data.pagination_limit),!0===t.success&&null!==t.data&&t.data!=={}?(alertify.success(t.message),K(!0),P([])):!1===t.success&&null!==t.data&&(R(t.data),(0,c.il)(t.data,{setErrorList:P}),t.message&&(alertify.success(t.message),v(10*Math.random())),t.field_error&&(0,c.il)(t.field_error),"License key invalid"==t.data.message&&K(!1)),A(!1),W((function(e){return m(m({},e),{},{loading:!1})}))}))}},G.common.save_changes))),s.createElement("div",{className:"flex  w-full   border-b border-light_border "},e?$.map((function(e){return s.createElement(ee,{tab:e,key:e.label})})):(T=$,X=[],(0,n.Z)(T).map((function(e){["License"].includes(e.label)||X.push(e)})),X).map((function(e){return s.createElement(ee,{tab:e,key:e.label})}))),U.loading?s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5",width:"w-74_% 2xl:w-7/12 "}):s.createElement(_.QN.Provider,{value:{valid:J,State:U,setState:W,localState:y,setValid:K,errorList:N,errors:z,setErrors:R,activeDisplayMessage:O,setActiveDisplayMessage:Z}},s.createElement("div",{className:" w-74_% 2xl:w-7/12 "},function(){switch(x){case G.settings.license.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(f,null));case G.settings.earn_point.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(g,null));case G.settings.display_message.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(b,null));case G.settings.pages.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(w,null));case G.settings.email.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.Z,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(h,{getSettings:te,SetDisableSave:A}))}}())))}}}]);