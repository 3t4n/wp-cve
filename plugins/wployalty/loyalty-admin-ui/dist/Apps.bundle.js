"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[207],{5586:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(4942),r=a(885),c=a(7294),s=a(3972),l=a(6732),i=a(4753),p=a(2382),u=a(3007),o=a(3089);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=c.lazy((function(){return a.e(530).then(a.bind(a,5910))}));const v=function(){var e=c.useContext(s.Gr),t=c.useState(!0),a=(0,r.Z)(t,2),n=a[0],f=a[1],v=c.useContext(s.ko).appState,h=c.useState(""),g=(0,r.Z)(h,2),y=(g[0],g[1]),w=c.useState({apps:[],search:""}),b=(0,r.Z)(w,2),O=b[0],j=b[1],_=["1",1,"true",!0],E=function(e){var t={wlr_nonce:v.local.common.wlr_apps_nonce,action:"wlr_get_apps",search:(null==e?void 0:e.search)||O.search};f(!0),(0,l.j0)(t).then((function(e){var t=(0,o.R3)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?j(d(d({},O),{},{apps:t.data.items})):!1===t.success&&null!==t.data&&alertify.error(t.data.message),f(!1)}))};c.useEffect((function(){E()}),[]);var k=function(e,t){var a={wlr_nonce:v.local.common.wlr_apps_nonce,plugin:e};a.action=_.includes(t)?"wlr_deactivate_plugin":"wlr_activate_plugin",f(!0),(0,l.j0)(a).then((function(t){var a=(0,o.R3)(t.data);!0===a.success&&null!==a.data&&a.data!=={}?(Object.keys(O.apps).map((function(t){var a=O.apps[t];a.plugin===e&&(a.is_active=_.includes(a.is_active)?0:1),O.apps[t]=a})),alertify.success(a.data.message)):!1===a.success&&null!==a.data&&alertify.error(a.data.message),E(),f(!1)}))},x=function(){y(O.search);var e={search:O.search};E(e)};return c.createElement("div",{className:"w-full h-full rounded-b-md flex flex-col px-8 py-5 bg-white  space-y-5"},c.createElement("div",{className:"w-full flex items-center justify-between"},c.createElement(i.Z,{title:e.apps.name}),c.createElement("div",{className:"flex items-center space-x-3"},c.createElement(u.Z,{placeHolder:e.apps.search_apps,value:O.value,onChange:function(e){j(d(d({},O),{},{search:e.target.value}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),x())},click:function(e){e.preventDefault(),x()}}))),c.createElement("div",{className:"flex  justify-start  space-y-2  w-full gap-4 "},n?c.createElement(p.Z,{height:"h-113.5",dataHeight:"h-59.8",listData:1}):Object.keys(O.apps).length>0?c.createElement("div",{className:" grid grid-cols-3  gap-3 w-full"},Object.keys(O.apps).map((function(e,t){var a=O.apps[e];return c.createElement(c.Suspense,{key:t,fallback:c.createElement("div",null)},c.createElement(m,{key:t,app:a,index:t,actived_app:_,toggleActivatePlugin:k}))}))):c.createElement("div",{className:"flex items-center justify-center p-3 w-full text-sm h-149 "},"No apps found in search")))}}}]);