"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[532],{6493:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(7294),r=a(9250),n=a(1401),c=a(874);const i=function(e){var t=e.icon,a=e.title,i=e.description,s=e.button1,o=e.button2,m=e.createButton,d=void 0!==m&&m,u=e.button_1,p=e.to,f=e.isPro,x=(0,r.s0)();return l.createElement("div",{className:"w-full  h-120 flex flex-col  justify-center items-center gap-y-2 2xl:gap-y-4 bg-white"},l.createElement("div",null,t),l.createElement("h2",{className:" text-dark font-bold"},a),l.createElement("p",{className:"text-light text-base font-normal  text-center tracking-wide max-w-xl "},i),l.createElement("div",{className:"flex items-center justify-center gap-2 2xl:gap-3"},s&&l.createElement(c.Z,{padding:"px-3 2xl:px-5 py-2 2xl:py-3",bgColor:"bg-white",outline:!0,textStyle:"text-primary font-medium text-xs 2xl:text-sm_14_l_20",outlineStyle:"border-primary_border",others:"hover:shadow-none",click:function(e){e.preventDefault(),f?x(u):window.open(n.t6)}},s),d&&l.createElement(c.Z,{padding:"px-3 2xl:px-5 py-2 2xl:py-3",bgColor:"bg-primary",outline:!1,textStyle:"text-white font-medium text-xs 2xl:text-sm_14_l_20",others:"hover:shadow-none",click:function(e){e.preventDefault(),x(p)}},o)))}},1554:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(7294),r=a(3972);const n=function(e){var t=e.setActive,a=e.activeState,r=e.setActiveState,n=e.right,c=e.activeLabels;return l.createElement("div",{className:"flex   flex-col border rounded-lg bg-white w-55 text-light border-light_border z-10 absolute ".concat(n," top-13 overflow-hidden")},c.map((function(e,n){return l.createElement("p",{key:n,onClick:function(){!function(e){t(!1),r({value:e.value,label:e.label})}(e)},className:"flex items-center  px-4 py-2 justify-between ".concat(e.value===a.value?"bg-primary_extra_light text-primary":"bg-white text-dark "," hover:bg-primary_extra_light cursor-pointer hover:bg-opacity-50")},e.label,e.value===a.value&&l.createElement("span",{className:"flex items-center"},l.createElement("i",{className:" wlr wlrf-tick color-important font-medium  text-lg 2xl:text-xl leading-0 cursor-pointer "})))})))},c=function(e){var t=e.icon,a=e.active,c=e.setActive,i=e.activeState,s=e.setActiveState,o=e.activeLabels,m=e.width,d=void 0===m?"w-36":m,u=e.title,p=e.closeOtherDropDown,f=l.useContext(r.Gr);return l.createElement("div",{className:"relative flex items-center border justify-between  ".concat(d," rounded-lg border-light_border p-1.5 cursor-pointer "),onClick:function(){p(),c(!a)}},l.createElement("div",{className:"flex items-center justify-start space-x-2 text-10px xl:text-xs 2xl:text-sm_14_l_20 "},l.createElement("p",{className:"font-medium text-light"},u||f.common.filter),l.createElement("p",{className:"text-dark font-semibold"},i.label)),l.createElement("div",null,t),a&&l.createElement(n,{active:a,setActive:c,activeState:i,setActiveState:s,right:"right-0",activeLabels:o,width:"w-40"}))}},2304:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(7294),r=[{value:5},{value:10},{value:20},{value:50},{value:100}];const n=function(e){e.editlimit;var t=e.setEditLimit,a=e.limitFilter,n=e.setLimitFilter,c=e.right,i=void 0===c?0:c;return[5,10,20,50,100].includes(a.value),l.createElement("div",{className:"absolute flex  flex-col border rounded-lg bg-white w-23  text-light border-light_border z-10  ".concat(i,"  bottom-14 overflow-hidden")},r.map((function(e,r){return l.createElement("p",{key:r,onClick:function(){return function(e){t(!1),n({value:e.value})}(e)},className:"flex items-center  px-4 py-2 justify-between ".concat(e.value==a.value?"bg-primary_extra_light text-primary":"bg-white text-dark "," hover:bg-primary_extra_light cursor-pointer hover:bg-opacity-50")},e.value,e.value==a.value&&l.createElement("span",{className:"flex items-center"},l.createElement("i",{className:" wlr wlrf-tick color-important font-medium  text-lg 2xl:text-xl leading-0 cursor-pointer "})))})))},c=function(e){var t=e.editLimit,a=e.setEditLimit,r=e.limitFilter,c=e.setLimitFilter,i=e.closeOtherDropDown;return l.createElement("div",{className:"relative flex items-center border justify-between h-12 w-23 px-4 py-2 space-x-3 rounded-lg border-light_border   cursor-pointer ",onClick:function(){i(),a(!t)}},l.createElement("div",{className:"text-dark font-medium text-sm_14_l_20"},r.value),l.createElement("div",null,l.createElement("i",{className:"text-xl ml-2 text-light leading-0 antialiased wlr wlrf-updown color-important "})),t&&l.createElement(n,{editLimit:t,setEditLimit:a,limitFilter:r,setLimitFilter:c,right:"right-0"}))}},2363:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(5861),r=a(4942),n=a(2982),c=a(885),i=a(4687),s=a.n(i),o=a(7294),m=a(874),d=a(6732),u=a(9250),p=a(8085),f=a(3972),x=a(3007),v=a(6493),w=a(4753),g=a(1489),_=a(1554),h=a(2304),b=a(3089),y=a(1257);a(4215);const E=function(e){var t=e.AllCheck,a=e.AllCheckList,l=e.setAllCheck,r=e.State,n=e.active,c=e.setActive,i=e.activeState,s=e.setActiveState,m=e.setSortActive,d=e.CommonState,u=(0,o.useContext)(f.Gr),p=(0,o.useContext)(f.jZ),x=function(e){var t=e.children,a=e.span,l=e.others,r=void 0===l?null:l;return o.createElement("p",{className:"grid ".concat(a," items-center  absoulute mt-1 whitespace-nowrap text-light text-10px 2xl:text-12px font-bold uppercase leading-3 2xl:leading-4  ").concat(r)},t)};return o.createElement("div",{className:"grid grid-cols-12 gap-3  w-full min-w-full  py-4 self-center",style:{minWidth:"1024px"}},o.createElement(y.Z,{checked:t&&a.length===r.items.length,click:function(){return l(!t)}}),o.createElement((function(e){var t=e.children,a=e.span,l=e.others,r=void 0===l?null:l;return o.createElement("div",{className:"flex items-center justify-start space-x-2  ".concat(a," ")},o.createElement("div",{onClick:function(){m(!1),(0,b.c3)(n,c,u.common.name_desc,u.common.name_asc,"name_desc","name_asc",s,d,"rewards")},className:"flex items-center justify-start space-x-2 cursor-pointer"},o.createElement("p",{className:"grid  ".concat(a,"  absoulute mt-1 whitespace-nowrap text-light text-10px 2xl:text-12px font-bold uppercase leading-3 2xl:leading-4  ").concat(r)},t),o.createElement("span",{className:"text-light flex items-center"},["name_asc","name_desc"].includes(i.value)?o.createElement("i",{className:" color-important wlr wlrf-".concat("name_asc"===i.value?"sort-asc":"sort-desc"," text-sm  transition-all duration-300 ")}):o.createElement("i",{className:" color-important wlr wlrf-sort text-sm  transition-all duration-300  "}))))}),{span:"col-span-4"},u.rewards.title_description),o.createElement(x,{span:"col-span-2"},u.rewards.reward_type),o.createElement((function(e){var t=e.children,a=e.span,l=e.others,r=void 0===l?null:l;return o.createElement("div",{className:"flex flex-col justify-center gap-y-1 "},o.createElement("p",{className:"grid ".concat(a,"  absoulute mt-1  text-light text-10px 2xl:text-12px font-bold uppercase leading-3 2xl:leading-4  ").concat(r)},t))}),{span:"col-span-1"},u.rewards.reward_used_campaign_header_text),o.createElement((function(e){var t=e.children,a=e.span,l=e.others,r=void 0===l?null:l;return o.createElement("div",{className:"flex items-center justify-start space-x-2  ".concat(a," w-16 2xl:w-[72px]")},o.createElement("div",{onClick:function(){m(!1),(0,b.c3)(n,c,u.common.active_desc,u.common.active_asc,"active_desc","active_asc",s,d,"rewards")},className:"flex items-center justify-start space-x-2 cursor-pointer"},o.createElement("p",{className:"grid ".concat(a,"  absoulute mt-1 text-light text-10px 2xl:text-12px font-bold uppercase leading-3 2xl:leading-4  ").concat(r)},t),o.createElement("span",{className:"text-light flex items-center"},["active_asc","active_desc"].includes(i.value)?o.createElement("i",{className:" color-important wlr wlrf-".concat("active_asc"===i.value?"sort-asc":"sort-desc"," text-sm  transition-all duration-300 ")}):o.createElement("i",{className:" color-important wlr wlrf-sort text-sm  transition-all duration-300  "}))))}),{span:"col-span-1"},u.rewards.enable_disable),o.createElement(x,{span:"col-span-1"},u.levels.created_on_label),o.createElement(x,{span:"col-span-2 mr-10 ".concat(p?"justify-end":"justify-center")},u.common.actions))};var N=a(9902),C=a(2382);const S=function(e){e.showCampaignList;var t=e.campaign,a=(0,u.s0)(),l=o.useContext(f.jZ);return o.createElement("div",{className:"bg-primary_extra_light flex w-full items-center justify-between px-4 py-3 \n            rounded-md border border-light_border"},o.createElement("div",{className:"flex items-center 2xl:gap-x-2 gap-x-1 w-[70%]"},""==t.icon?o.createElement("i",{className:"wlr wlrf-".concat(t.action_type,"  text-primary 2xl:text-lg text-md ")}):o.createElement("img",{className:"w-8 h-8 object-fit p-1  ",src:t.icon,alt:"campaign_image"}),o.createElement("p",{title:t.name,className:"2xl:text-sm font-medium overflow-ellipsis overflow-hidden text-dark text-xs w-full whitespace-nowrap"},t.name)),o.createElement("p",{className:"text-primary text-xs 2xl:text-sm cursor-pointer hover:underline font-medium whitespace-nowrap",onClick:l?function(){return a("/edit_earn_campaign/".concat(t.action_type,"/").concat(t.id))}:function(){return a("/earn_campaign")}},"View campaign"))};var k=a(1731);const Z=function(e){var t=e.showCampaignList,a=e.usedRewardCampaignList,l=e.loading;return o.createElement("div",{className:"flex flex-col h-[73%] w-full overflow-y-auto gap-y-2 2xl:p-3 p-2.5"},l?o.createElement(k.Z,null):a.map((function(e){return o.createElement(S,{key:e.id,showCampaignList:t,campaign:e})})),o.createElement("div",{className:"absolute  bottom-0 left-0 w-full flex items-center py-3 px-7 justify-end space-x-4 border-t border-t-light_border"},o.createElement(m.Z,{click:function(e){e.preventDefault(),t.set(!1)},bgColor:"bg-white",textStyle:"text-light text-xs 2xl:text-sm",outline:!0,outlineStyle:"border-light_border "},"Close")))};var j=a(616);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=o.lazy((function(){return a.e(62).then(a.bind(a,9449))}));const A=function(){var e=(0,u.s0)(),t=o.useContext(f.ko),a=t.CommonState,r=t.setCommonState,i=t.appState,y=a.rewards,S=y.sort,k=y.status,L=y.limit,A=y.search,P=!1,R=o.useState({items:[],pageCount:1}),F=(0,c.Z)(R,2),G=F[0],z=F[1],H=o.useState([]),B=(0,c.Z)(H,2),M=B[0],T=B[1],K=o.useState(""),U=(0,c.Z)(K,2),V=U[0],W=U[1],q=o.useState(!1),I=(0,c.Z)(q,2),J=I[0],Q=I[1],X=o.useState(!0),Y=(0,c.Z)(X,2),$=Y[0],ee=Y[1],te=o.useState(!0),ae=(0,c.Z)(te,2),le=ae[0],re=ae[1],ne=o.useState(!1),ce=(0,c.Z)(ne,2),ie=ce[0],se=ce[1],oe=o.useState(!1),me=(0,c.Z)(oe,2),de=me[0],ue=me[1],pe=o.useState([]),fe=(0,c.Z)(pe,2),xe=fe[0],ve=fe[1],we=o.useContext(f.jZ),ge=o.useContext(f.Gr),_e=o.useState(!1),he=(0,c.Z)(_e,2),be=he[0],ye=he[1],Ee=o.useState(!1),Ne=(0,c.Z)(Ee,2),Ce=Ne[0],Se=Ne[1],ke=o.useState(!1),Ze=(0,c.Z)(ke,2),je=Ze[0],Le=Ze[1],De=[{value:"all",label:ge.common.active_all},{value:"active",label:ge.common.active},{value:"in_active",label:ge.common.inactive}],Oe=[{value:"id_asc",label:ge.common.id_asc},{value:"id_desc",label:ge.common.id_desc},{value:"name_asc",label:ge.common.name_asc},{value:"name_desc",label:ge.common.name_desc},{value:"active_asc",label:ge.common.active_asc},{value:"active_desc",label:ge.common.active_desc}],Ae=function(e){var t=(0,n.Z)(xe);t.includes(e)?(t.splice(t.indexOf(e),1),ve(t)):ve([].concat((0,n.Z)(t),[e]))};o.useLayoutEffect((function(){var e=[];de?(G.items.map((function(t){return e.push(t.id)})),ve(e)):ve([])}),[de]),o.useEffect((function(){0!==G.items.length&&G.items.length===xe.length&&ue(!0)}),[xe]);var Pe=function(e){var t={wlr_nonce:i.local.rewards.wlr_reward_nonce,action:"wlr_get_rewards",limit:L.value,offset:void 0!==(null==e?void 0:e.offset)?e.offset:y.offset,condition_field:k.value,sorting_field:S.value,search:(null==e?void 0:e.search)||A};ee(!0),(0,d.j0)(t).then((function(e){var t=(0,b.R3)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?(z((function(e){return D(D({},G),{},{items:t.data.items,pageCount:Math.ceil(t.data.total_count/t.data.limit)})})),ee(!1)):!1===t.success&&null!==t.data&&(alertify.error(t.data.message),W(A)),ee(!1)}))};o.useEffect((function(){P=!0,Pe()}),[]),o.useEffect((function(){if(!P){var e=D({},a);e.rewards.offset=0,r(e),Pe()}}),[L,k,S]);var Re=function(e){ee(!0);var t={wlr_nonce:i.local.rewards.wlr_reward_nonce,action:"wlr_delete_reward",id:e};(0,d.j0)(t).then((function(e){var t=(0,b.R3)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?alertify.success(t.data.message):!1===t.success&&null!==t.data&&alertify.error(t.data.message),Pe()}))},Fe=function(e,t){var a={wlr_nonce:i.local.rewards.wlr_reward_nonce,action:"wlr_toggle_reward_active",id:e};a.active="1"==t?"0":"1",(0,d.j0)(a).then((function(t){ee(!0);var a=(0,b.R3)(t.data);if(!0===a.success&&null!==a.data&&a.data!=={}){var l=(0,n.Z)(G.items);l.map((function(t){t.id===e&&(t.active="0"===t.active?"1":"0")})),z(D(D({},G),{},{items:l})),alertify.success(a.data.message)}else!1===a.success&&null!==a.data&&alertify.error(a.data.message);ee(!1)}))},Ge=function(e){var t={wlr_nonce:i.local.rewards.wlr_reward_nonce,action:"wlr_bulk_action_rewards",selected_list:xe,action_mode:e};(0,d.j0)(t).then((function(e){var t=(0,b.R3)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?(alertify.success(t.data.message),ve([])):!1===t.success&&null!==t.data&&alertify.error(t.data.message),ue(!1),Pe()}))},ze=function(){var e=D({},a);e.rewards.offset=0,r(e),W(A),Pe({search:A,offset:0})},He=function(){var e=(0,l.Z)(s().mark((function e(t){var a,l,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!ie),a={action:"wlr_get_reward_campaigns",id:t,wlr_nonce:i.local.rewards.wlr_reward_nonce},re(!0),e.next=5,(0,d.j0)(a);case 5:l=e.sent,!0===(r=(0,b.R3)(l.data)).success&&null!==r.data&&r.data!=={}?(T(r.data),re(!1)):!1===r.success&&null!==r.data&&alertify.error(r.data.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(e){var t={wlr_nonce:i.local.rewards.wlr_reward_nonce,action:"wlr_duplicate_reward",reward_id:e};(0,d.j0)(t).then((function(e){var t=(0,b.R3)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?(Pe(),alertify.success(t.data.message)):!1===t.success&&null!==t.data&&(ee(!1),alertify.error(t.data.message))}))};return o.createElement("div",{className:"bg-white  w-full h-full rounded-b-xl flex flex-col items-start py-5 px-8 space-y-4"},o.createElement("div",{className:"flex items-center justify-between w-full"},o.createElement(w.Z,{title:ge.rewards.name}),o.createElement("div",{className:"flex items-center space-x-3 relative h-11"},xe.length>0?o.createElement("div",{className:"flex items-center w-full space-x-3"},we&&o.createElement(m.Z,{id:"deactivate_rewards",icon:o.createElement("i",{className:"text-md leading-0 antialiased wlr wlrf-deactivate text-light color-important "}),bgColor:"bg-white",textStyle:"text-light font-medium text-sm_14_l_20",padding:"px-5 py-2.5",outline:!0,outlineStyle:"border-light_border",click:function(e){e.preventDefault(),Ge("deactivate")}},ge.common.deactivate),we&&o.createElement(m.Z,{id:"activate_rewards",icon:o.createElement("i",{className:"text-md leading-0 antialiased wlr wlrf-activate text-primary color-important "}),bgColor:"bg-primar",textStyle:"text-primary font-medium text-sm_14_l_20",padding:"px-5 py-2.5",outline:!0,outlineStyle:"border-primary",click:function(e){e.preventDefault(),Ge("activate")}},ge.common.activate),o.createElement(m.Z,{icon:o.createElement("i",{className:"text-md leading-0 antialiased wlr wlrf-delete color-important "}),bgColor:"bg-white",textStyle:"text-redd font-medium text-sm_14_l_20",padding:"px-5 py-2.5",outline:!0,outlineStyle:"border-redd",click:function(e){e.preventDefault(),(0,g.Gr)(Ge,ge.rewards.delete_multi_alert_message,ge.rewards.delete_ok,ge.rewards.delete_cancel,ge.rewards.delete_reward)}},ge.common.delete)):o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(x.Z,{placeHolder:ge.rewards.search,value:A,onChange:function(e){var t=D({},a);t.rewards.search=e.target.value,r(t)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),ze())},click:function(e){e.preventDefault(),ze(),ye(!1),Se(!1),Q(!1)},onfocus:function(e){ye(!1),Se(!1),Q(!1)},others:"w-32.5 xl:w-37.5 2xl:w-45"}),o.createElement(_.Z,{active:be,setActive:ye,activeState:k,setActiveState:function(e){var t=D({},a);t.rewards.status={value:e.value,label:e.label},r(t)},activeLabels:De,icon:o.createElement("i",{className:"2xl:text-xl xl:text-md text-sm ml-1 2xl:ml-2 text-light leading-0 antialiased wlr wlrf-filter color-important  "}),width:"w-32 xl:w-34 2xl:w-36",closeOtherDropDown:function(){Q(!1),Se(!1)}}),o.createElement(_.Z,{active:Ce,setActive:Se,State:G,setState:z,activeState:S,setActiveState:function(e){var t=D({},a);t.rewards.sort={value:e.value,label:e.label},r(t)},activeLabels:Oe,title:ge.common.sort_by,width:"w-41 xl:w-41.5 2xl:w-44",icon:o.createElement("i",{className:"2xl:text-xl xl:text-md text-sm ml-1 2xl:ml-2 text-light leading-0 antialiased wlr wlrf-filter color-important "}),closeOtherDropDown:function(){Q(!1),ye(!1)}}),o.createElement(m.Z,{icon:o.createElement("i",{className:"2xl:text-md xl:text-sm text-xs text-white leading-0 antialiased wlr wlrf-rewards color-important "}),bgColor:"bg-primary",padding:"xl:px-3 2xl:px-5 px-2.5 py-3",textStyle:"text-white font-medium text-sm_14_l_20",click:function(t){t.preventDefault(),e("/add_new_reward")}},ge.rewards.create_new_reward)))),o.createElement("div",{className:"w-full flex flex-col",onClick:function(){ye(!1),Se(!1),Q(!1)}},o.createElement(E,{AllCheck:de,AllCheckList:xe,setAllCheck:ue,State:G,active:je,setActive:Le,activeState:S,setActiveState:r,setSortActive:Se,CommonState:a}),$?o.createElement(C.Z,{dataHeight:"h-22",height:"h-118",listData:L.value}):G.items.length>0?o.createElement("div",{className:"w-full h-full flex flex-col items-center space-y-2  ",style:{minHeight:"482px"}},G.items.map((function(e){return o.createElement(o.Suspense,{key:e.id,fallback:o.createElement(N.Z,{height:"h-22"})},o.createElement(O,{item:e,reward_type:e.reward_type,delete_to:Re,key:e.id,enable_disable_toggle:Fe,RewardType:e.reward_type_name,rewardTitle:e.name,reward_description:e.description,active:"1"===e.active,edit_to:"edit_reward/".concat(e.discount_type,"/").concat(e.id),AllCheckList:xe,AddCheck:Ae,handleShowUsedRewardCampaignList:He,showCampaignList:{value:ie,set:se},duplicateReward:Be}))}))):o.createElement(v.Z,{icon:o.createElement("i",{className:"text-6xl 2xl:text-8xl text-primary  wlr wlrf-reward-empty color-important "}),title:["in_active","active"].includes(k.value)||V?ge.common.no_record_found:ge.rewards.empty_title,description:!["in_active","active"].includes(k.value)&&!V&&ge.rewards.empty_supporting_text,button2:ge.rewards.create_new_reward,createButton:!["in_active","active"].includes(k.value)&&!V,to:"/add_new_reward"})),o.createElement("div",{className:"flex items-center justify-end  w-full py-3"},o.createElement(h.Z,{editLimit:J,setEditLimit:Q,limitFilter:L,setLimitFilter:function(e){var t=D({},a);t.rewards.limit={value:e.value},r(t)},closeOtherDropDown:function(){ye(!1),Se(!1)}}),G.pageCount>1&&o.createElement(p.Z,{handlePageClick:function(e){var t=e.selected,l=Math.ceil(t*L.value),n=D({},a);n.rewards.offset=l,r(n),Pe()},pageCount:G.pageCount,limit:!0,forcePage:y.offset/y.limit.value,loading:$})),ie&&o.createElement(j.Z,{title:ge.earn_campaign.name,open:ie,setOpen:se,width:"w-1/4",height:"h-1/2"},o.createElement(Z,{loading:le,showCampaignList:{value:ie,set:se},usedRewardCampaignList:M,setOpen:se})))}}}]);