import{r as o,R as a,d as g}from"../../common/reactLib.deb836f9.js";import{aB as f,aI as m}from"../../common/antd.25e006f0.js";import"../../common/redux.cb701b1a.js";function h(){import.meta.url,import("_").catch(()=>1);async function*e(){}}axios.CancelToken;const p=axios.create({baseURL:wpApiSettings.root,timeout:0,headers:{"X-WP-Nonce":wpApiSettings.nonce,"X-ACFW-Context":"frontend"}});function x(){const[e,s]=o.useState([]),[c,i]=o.useState(!0),[r,l]=o.useState(1),[d,u]=o.useState(0);return o.useEffect(()=>{i(!0),(async()=>{const n=await p.get("store-credits/v1/entries/current-user",{params:{page:r,currency:acfwStoreCredits.currency}});s(n.data),i(!1),u(n.headers["x-total"])})()},[r]),{entries:e,loading:c,currentPage:r,total:d,setCurrentPage:l}}function y(e){return e.type==="increase"?"+":"-"}const S=()=>{const{labels:e}=acfwStoreCredits,{entries:s,loading:c,currentPage:i,total:r,setCurrentPage:l}=x(),d=[{title:e.date,dataIndex:"date",key:"date"},{title:e.activity,dataIndex:"activity",key:"activity"},{title:e.amount,dataIndex:"amount",key:"amount",render:(t,n)=>"".concat(y(n)).concat(t)},{title:e.related,dataIndex:"rel_label",key:"rel_label",render:(t,n)=>n.rel_link?a.createElement("a",{href:n.rel_link,target:"_blank"},t):t}],u=t=>{l(t)};return a.createElement("div",{className:"acfw-store-credit-history"},a.createElement(f,{loading:c,columns:d,dataSource:s,pagination:!1}),0<r&&a.createElement(m,{defaultCurrent:i,current:i,hideOnSinglePage:!0,disabled:!s||!s.length,total:r,pageSize:10,showSizeChanger:!1,onChange:u}))},C=()=>a.createElement(S,null);g.render(a.createElement(C,null),document.querySelector("#acfwf_store_credits_app"));export{h as __vite_legacy_guard};
