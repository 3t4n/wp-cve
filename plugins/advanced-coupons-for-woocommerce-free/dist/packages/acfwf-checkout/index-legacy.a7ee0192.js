System.register(["../../common/index-legacy.1e4d52e6.js"],(function(o,c){"use strict";return{setters:[null],execute:function(){var o=document.createElement("style");o.textContent='.acfw-checkout-ui-block{margin-bottom:2.5em}.acfw-checkout-ui-block .acfw-accordion{border-bottom:1px solid #ebebeb}.acfw-checkout-ui-block .acfw-accordion:last-child{border-bottom:0}.acfw-checkout-ui-block .acfw-accordion h3{padding:.7em 1.2em;margin:0;background:#f5f5f5;font-size:1em;font-weight:400;cursor:pointer}.acfw-checkout-ui-block .acfw-accordion h3 .caret{position:relative;top:-2px;margin-left:5px}.acfw-checkout-ui-block .acfw-accordion h3 .caret img{display:inline-block;transition:transform .5s ease;transform:rotate(-90deg)}.acfw-checkout-ui-block .acfw-accordion .acfw-accordion-inner{overflow:hidden;background:#fcfcfc;max-height:0;transition:max-height .5s ease}.acfw-checkout-ui-block .acfw-accordion .acfw-accordion-inner .acfw-accordion-content{padding:1em 1.2em}.acfw-checkout-ui-block .acfw-accordion.show h3 .caret img{transform:rotate(0)}.acfw-checkout-ui-block .acfw-accordion .acfw-accordion-content{font-size:.9em}.acfw-checkout-ui-block .acfw-accordion .acfw-accordion-content p{margin-bottom:.5em}.acfw-checkout-ui-block .acfw-accordion .acfw-accordion-content p.acfw-store-credit-instructions{margin-bottom:.2em}.acfw-checkout-form-button-field{margin:0}.acfw-checkout-form-button-field:after{content:"";display:table;clear:both}.acfw-checkout-form-button-field .form-row-last label{display:none}.acfw-checkout-form-button-field .form-row-last .button{width:100%}body #wfacp-e-form .wfacp_main_form.woocommerce .wfacp-form-control-wrapper.acfw-store-credits-redeem-form-field .woocommerce-info{padding-bottom:0!important}body #wfacp-e-form .wfacp_main_form.woocommerce .wfacp-form-control-wrapper.acfw-store-credits-redeem-form-field .acfw-checkout-form-button-field{padding-top:1em}\n',document.head.appendChild(o);var c=jQuery;function e(){var o=c("#acfw-checkout-ui-block").find(".acfw-accordion"),e=c(this).parent(),t=e.hasClass("show");o.removeClass("show"),t?e.removeClass("show"):e.addClass("show"),a.call(this)}function a(){c(".acfw-checkout-ui-block").find(".acfw-accordion").each((function(){var o,e,a=c(this),t=a.find(".acfw-accordion-content"),r=a.find(".acfw-accordion-inner"),n=2*parseInt(getComputedStyle(t[0]).fontSize)+10,i=null!==(o=t.height())&&void 0!==o?o:0;i=(null!==(e=r.height())&&void 0!==e?e:0)-n>0?0:i+n,a.hasClass("show")||(i=0),r.css({maxHeight:i})}))}var t=jQuery;function r(){t(".woocommerce form.woocommerce-checkout").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function n(){t(".woocommerce-error, .woocommerce-message").remove(),t(".woocommerce form.woocommerce-checkout").removeClass("processing").unblock()}var i=jQuery;function f(){i(document.body).on("click",".acfw-redeem-store-credit-form-field .button",d)}function d(){var o,c=i(this).closest(".acfw-redeem-store-credit-form-field"),e=c.find("input.input-text"),a=(o=e.val())?parseFloat(o.replace(acfwfCheckout.thousand_separator,"").replace(acfwfCheckout.decimal_separator,".")):0;c.find("p.invalid-message").remove(),i(".woocommerce-NoticeGroup-updateOrderReview").remove(),function(o){o=o.toString();var c=new RegExp("[^-0-9%\\.]+","gi"),e=new RegExp('[^\\.}"]',"gi"),a=o.replace(c,"");return 1<a.replace(e,"").length&&(a=a.replace(e,"")),parseFloat(o)===parseFloat(a)}(a)?(r(),i.post(wc_checkout_params.ajax_url,{action:"acfwf_redeem_store_credits",amount:a,wpnonce:acfwfCheckout.redeem_nonce},(function(o){n(),e.val(""),i(document.body).trigger("update_checkout",{update_shipping_method:!1})}))):c.append("<p class='invalid-message'>".concat(acfwfCheckout.enter_valid_price,"</p>"))}jQuery((function(o){t("body").on("acfw-blockCheckout",r),t("body").on("acfw-unblockCheckout",n),c(".acfw-checkout-ui-block").on("click",".acfw-accordion > h3",e),f()}))}}}));
