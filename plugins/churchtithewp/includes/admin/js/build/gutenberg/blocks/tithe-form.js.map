{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./includes/admin/js/src/gutenberg/blocks/tithe-form/tithe-form.js","webpack:///./includes/admin/js/src/gutenberg/blocks/tithe-form/boilerplate.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AttributeReciever","props","_this","_classCallCheck","this","_getPrototypeOf","keypress_delay","onChangeHandler","_assertThisInitialized","React","Component","new_state","_this2","use_typing_delay","arguments","length","undefined","Promise","resolve","reject","setState","clearTimeout","setTimeout","changeAttributes","then","createElement","className","Church_Tithe_WP_Form","id","form_number","editing_mode","editing_parent_component","all_current_visual_states","payment","frontend_nonces","church_tithe_wp_js_vars","unique_settings","attributes","dynamic_settings","church_tithe_wp_gutenberg_vars","church_tithe_wp_dynamic_settings","__","wp","i18n","registerBlockType","blocks","Icon","editor","RichText","_React$createElement","_defineProperty","version","xmlns","title","icon","category","church_tithe_wp_block_default_json","edit","temp_json","JSON","parse","json","postData","FormData","append","create_form_nonce","fetch","create_form_endpoint","method","credentials","body","response","status","console","log","data","success","form_id","catch","err","tithe_form_id","setAttributes","stringify","tithe_form","subscribe","this_block","select","getBlock","clientId","save"],"mappings":"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","file":"includes/admin/js/build/gutenberg/blocks/tithe-form.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*\n* Church Tithe WP\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: January 11, 2018\n*/\n\n// This component acts as an in-between, from our actual custom react component(s), to Gutenberg blocks.\n// It recieves a JS object, which it passes to the block's attributes.\n// From there, the attributes are saved to the block.\nclass AttributeReciever extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\n\t\tthis.keypress_delay = null;\n\t\tthis.onChangeHandler = this.onChangeHandler.bind( this );\n\t}\n\n\tonChangeHandler( new_state, use_typing_delay = false ) {\n\n\t\treturn new Promise( (resolve, reject) => {\n\n\t\t\t// Temporarily store the value in the state of this component while we wait for the typing to stop.\n\t\t\tthis.setState( new_state, () => {\n\n\t\t\t\tif ( use_typing_delay ) {\n\t\t\t\t\t// Set up a delay which waits to save the tithe until .5 seconds after they stop typing.\n\t\t\t\t\tif( this.keypress_delay ) {\n\t\t\t\t\t\t// Clear the keypress delay if the user just typed\n\t\t\t\t\t\tclearTimeout( this.keypress_delay );\n\t\t\t\t\t\tthis.keypress_delay = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// (Re)-Set up the save_note_with_tithe to fire in 500ms\n\t\t\t\t\tthis.keypress_delay = setTimeout( () => {\n\t\t\t\t\t\tclearTimeout( this.keypress_delay );\n\n\t\t\t\t\t\t// Update the attributes of the the Gutenberg Block.\n\t\t\t\t\t\tthis.props.changeAttributes( new_state ).then( () => {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}, 1000);\n\t\t\t\t} else {\n\t\t\t\t\t// Update the attributes of the the Gutenberg Block.\n\t\t\t\t\tthis.props.changeAttributes( new_state ).then( () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t});\n\t\t});\n\n\t};\n\n\trender() {\n\n\t\tvar form_number = 1;\n\n\t\treturn (\n\t\t\t<span className=\"church-tithe-wp-element\">\n\t\t\t\t<Church_Tithe_WP_Form\n\t\t\t\t\tkey={ 'church_tithe_wp_button_element_' + form_number }\n\t\t\t\t\tid={ 'church_tithe_wp_button_element_' + form_number }\n\t\t\t\t\tform_number={ form_number }\n\t\t\t\t\tediting_mode={ true }\n\t\t\t\t\tediting_parent_component={ this }\n\t\t\t\t\tall_current_visual_states={\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpayment: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfrontend_nonces={ church_tithe_wp_js_vars.frontend_nonces }\n\t\t\t\t\tunique_settings={ this.props.attributes }\n\t\t\t\t\tdynamic_settings={ church_tithe_wp_gutenberg_vars.church_tithe_wp_dynamic_settings }\n\t\t\t\t/>\n\t\t\t</span>\n\t\t);\n\n\t};\n}\n\nexport default AttributeReciever;\n","/*\n* Church Tithe WP\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: January 11, 2018\n*/\n\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst RichText = wp.editor.RichText;\nimport AttributeReciever from './tithe-form.js'\n\nclass Icon extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 1000 1000\" enableBackground=\"new 0 0 1000 1000\" fill=\"#f9b429\">\n\t\t\t<path d=\"M797.669,371.752l-19.702-55.833c-1.521-4.297-2.181-8.854-1.938-13.406l0.018-0.334l-0.125-44.222h12.02\n\t\t\tc6.924,0,12.537-5.613,12.537-12.537c0-6.924-5.613-12.538-12.537-12.538h-12.09l-0.086-30.089h12.176\n\t\t\tc6.924,0,12.537-5.613,12.537-12.537s-5.613-12.537-12.537-12.537h-12.245l-0.099-34.784c-0.064-14.734-12.012-26.653-26.746-26.681\n\t\t\tH251.158c-14.733,0.03-26.68,11.948-26.746,26.681l-0.099,34.784h-12.253c-6.924,0-12.538,5.613-12.538,12.537\n\t\t\ts5.613,12.537,12.538,12.537l0,0h12.174l-0.085,30.089h-12.089c-6.924,0-12.538,5.613-12.538,12.538\n\t\t\tc0,6.924,5.613,12.537,12.538,12.537l0,0h12.019l-0.124,44.222l0.017,0.334c0.242,4.553-0.417,9.11-1.939,13.408l-19.702,55.832\n\t\t\tc-23.033,65.168-34.787,133.787-34.756,202.907v171.176c0.085,76.13,61.78,137.825,137.91,137.91h389.031\n\t\t\tc76.13-0.085,137.824-61.78,137.91-137.91V574.659C832.456,505.539,820.702,436.921,797.669,371.752z M249.478,143.005\n\t\t\tc0.007-0.92,0.751-1.665,1.672-1.671h497.692c0.921,0.006,1.666,0.751,1.672,1.671l0.099,34.714H249.379L249.478,143.005z\n\t\t\tM249.311,202.793h501.38l0.085,30.089H249.224L249.311,202.793z M807.351,745.842c-0.069,62.288-50.547,112.766-112.835,112.835\n\t\t\tH305.485c-62.289-0.069-112.766-50.547-112.836-112.835V574.666c-0.029-66.277,11.241-132.073,33.326-194.562l19.702-55.823\n\t\t\tc2.577-7.275,3.716-14.982,3.355-22.693l0.122-43.629h501.692l0.124,43.629c-0.362,7.71,0.776,15.417,3.354,22.693l19.702,55.823\n\t\t\tc22.084,62.489,33.354,128.285,33.325,194.562V745.842z\"/>\n\t\t\t<path d=\"M500,390.853L500,390.853c-79.742-0.001-144.387,64.643-144.388,144.384c0,0.002,0,0.003,0,0.004l0,0\n\t\t\tc0,79.742,64.643,144.387,144.384,144.388c0.002,0,0.003,0,0.004,0l0,0c79.743,0.001,144.388-64.642,144.388-144.385\n\t\t\tc0-0.001,0-0.002,0-0.003l0,0c0.001-79.742-64.642-144.387-144.385-144.388C500.003,390.853,500.001,390.853,500,390.853z\n\t\t\tM518.89,618.042c-5.441,2.061-6.411,4.122-6.37,7.663c0.018,0.275,0.042,0.555,0.071,0.835c0.081,0.744,0.146,1.737,0.168,2.811\n\t\t\tc0.261,4.611-0.229,7.92-1.462,9.724c-3.593,5.267-7.729,6.466-10.568,6.547h-0.194c-4.691,0-10.85-4.636-12.088-9.148\n\t\t\tc-0.59-2.147-1.07-4.024-1.493-5.684c-2.565-10.029-2.718-10.622-13.707-16.676l-0.265-0.167\n\t\t\tc-12.098-8.125-19.371-19.925-21.617-35.071c-0.185-1.218-0.291-2.446-0.319-3.678c-0.722-11.382,6.261-14.181,10.497-14.84\n\t\t\tc11.959-1.823,13.875,9.811,14.516,13.642c2.46,14.76,12.35,22.93,26.451,21.912c12.242-1.132,21.583-11.443,21.501-23.738\n\t\t\tc-0.408-12.92-9.737-21.837-24.349-23.149c-23.975-2.152-41.046-15.179-46.838-35.737c-1.253-4.433-1.898-9.015-1.921-13.622\n\t\t\tc-0.771-20.113,11.306-38.5,30.071-45.782c5.39-2.111,6.353-4.199,6.302-7.784c-0.019-0.276-0.042-0.561-0.071-0.852\n\t\t\tc-0.079-0.76-0.129-1.672-0.154-2.595c-0.08-1.409-0.09-3.297-0.025-4.603c-0.064-3.077,0.818-6.101,2.531-8.659\n\t\t\tc2.297-3.51,7.476-4.513,9.891-4.539c2.807,0.095,5.439,1.381,7.24,3.535c2.578,2.721,4.103,6.271,4.302,10.014\n\t\t\tc0.057,0.507,0.062,1.02,0.017,1.528c-0.092,0.983-0.126,1.972-0.104,2.96c0.426,6.077,3.644,9.545,12.74,13.573\n\t\t\tc13.743,6.083,22.35,18.723,24.894,36.57c0.183,1.247,0.286,2.503,0.312,3.763c0.747,11.339-6.256,14.119-10.496,14.753\n\t\t\tc-11.822,1.759-13.894-9.863-14.568-13.685c-2.435-13.759-10.514-21.541-22.748-21.909c-13.453-0.431-24.263,9.07-25.195,22.046\n\t\t\tc-0.05,0.71-0.055,1.408-0.047,2.104c0.689,11.812,9.842,21.383,21.611,22.601c1.422,0.183,2.854,0.309,4.286,0.438\n\t\t\tc2.701,0.19,5.39,0.541,8.051,1.048c21.062,4.197,36.924,21.644,39.101,43.01c0.134,1.348,0.208,2.725,0.228,4.21\n\t\t\tC550.058,591.817,537.914,610.583,518.89,618.042L518.89,618.042z\"/>\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nregisterBlockType( 'churchtithewp/tithe-form', {\n\ttitle: __( 'Church Tithe WP - Payment Form' ),\n\ticon: <Icon />,\n\tcategory: 'common',\n\n\t// Note that these values are only used when the block is first added. Otherwise, these are ignored and the block pulls from the post_content.\n\tattributes: church_tithe_wp_gutenberg_vars.church_tithe_wp_block_default_json,\n\n\t// This function is passed into the context, which makes it available in all child components.\n\t// This allows any child component to update the \"state\", aka \"attributes\" in Gutenberg. Attributes are saved....where?\n\tedit( props ) {\n\n\t\t// We will store the unique attibutes for this block in a custom table.\n\t\t// So right now, we will simply create a row in the custom table for this block's attributes, and populate it with the attributes when the block is viewed.\n\t\t// That takes place in the server side render function (church_tithe_wp_tithe_form_block_server_side_render)\n\t\tvar temp_json = JSON.parse( props.attributes.json );\n\t\tif ( ! temp_json.id ) {\n\n\t\t\tchurch_tithe_wp_create_and_get_form_id().then( ( tithe_form_id ) => {\n\n\t\t\t\ttemp_json.id = tithe_form_id;\n\n\t\t\t\tprops.setAttributes( {\n\t\t\t\t\tjson: JSON.stringify( temp_json ),\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\tconst changeAttributes = (attributes) => {\n\n\t\t\treturn new Promise( (resolve, reject) => {\n\n\t\t\t\t// Update the attributes, then resolve the promise\n\t\t\t\tprops.setAttributes( {\n\t\t\t\t\tjson: JSON.stringify( attributes ),\n\t\t\t\t} );\n\n\t\t\t\t// Listen for changes to this block\n\t\t\t\twp.data.subscribe( () => {\n\n\t\t\t\t\t// Get the updated state of this block\n\t\t\t\t\tconst this_block = wp.data.select( 'core/block-editor' ).getBlock( props.clientId );\n\n\t\t\t\t\tif ( this_block && this_block.attributes ) {\n\t\t\t\t\t\t// console.log( 'saving props...' );\n\t\t\t\t\t\t// console.log( JSON.parse( this_block.attributes.json ) );\n\t\t\t\t\t\tresolve( this_block.attributes );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t\t<AttributeReciever\n\t\t\t\t\tattributes={ JSON.parse( props.attributes.json ) }\n\t\t\t\t\tchangeAttributes={ changeAttributes }\n\t\t\t\t/>\n\t\t);\n\t},\n\n\tsave( props ) {\n\t\treturn null;\n\t}\n\n} );\n\n// This will send a fetch call to the server to generate a row in the forms table.\nfunction church_tithe_wp_create_and_get_form_id() {\n\n\treturn new Promise( (resolve, reject) => {\n\n\t\tvar postData = new FormData();\n\t\tpostData.append('action', 'church_tithe_wp_create_form' );\n\t\tpostData.append('church_tithe_wp_create_form_nonce', church_tithe_wp_gutenberg_vars.create_form_nonce);\n\n\t\tfetch( church_tithe_wp_gutenberg_vars.create_form_endpoint, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' + response.status);\n\t\t\t\t\treject('unable_to_create_form');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\tresolve( data.form_id );\n\t\t\t\t\t\t\treturn data.form_id;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('Looks like there was a problem: ' + data);\n\t\t\t\t\t\t\treject('unable_to_create_form');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t).catch(\n\t\t\t\t\tfunction( err ) {\n\t\t\t\t\t\tconsole.log('Fetch Error: ', err);\n\t\t\t\t\t\treject('unable_to_create_form');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error: ', err);\n\t\t\t\treject('unable_to_create_form');\n\t\t\t\treturn;\n\t\t\t}\n\t\t);\n\n\t} );\n\n}\n"],"sourceRoot":""}