!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.MP_WP_Admin_Welcome_View=function(_React$Component){function MP_WP_Admin_Welcome_View(e){return _classCallCheck(this,MP_WP_Admin_Welcome_View),_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Welcome_View).call(this,e))}return _inherits(MP_WP_Admin_Welcome_View,_React$Component),_createClass(MP_WP_Admin_Welcome_View,[{key:"render_sections",value:function render_sections(sections){var mapper=[];for(var section_key in sections)if(sections[section_key]){var DynamicReactComponent=eval(sections[section_key].react_component);mapper.push(React.createElement("div",{key:section_key,className:"mpwpadmin-welcome-section-container mpwpadmin-welcome-section-"+section_key+"-container"},React.createElement("h4",null,sections[section_key].visual_name),React.createElement("p",null,sections[section_key].description),React.createElement(DynamicReactComponent,{main_component:this.props.main_component,section_info:sections[section_key]})))}return mapper.map((function(e,t){return e}))}},{key:"render_breadcrumbs",value:function(){var e=this.props.the_breadcrumbs,t=[];for(var n in e){if(n==this.props.view_slug){t.push(React.createElement("span",{key:n},e[n]));break}t.push(React.createElement("span",{key:n},e[n]," > "))}return t.map((function(e,t){return e}))}},{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-settings-view"+this.props.current_view_class},React.createElement("div",{className:"mpwpadmin-breadcrumb"},React.createElement("h2",null,this.render_breadcrumbs())),this.render_sections(this.props.view_info.sections))}}]),MP_WP_Admin_Welcome_View}(React.Component),window.MP_WP_Admin_Instruction=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-instruction"},this.props.section_info.instruction)}}]),t}()},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.MP_WP_Admin_Health_Check_View=function(_React$Component){function MP_WP_Admin_Health_Check_View(e){var t;return _classCallCheck(this,MP_WP_Admin_Health_Check_View),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Health_Check_View).call(this,e))).state={lightbox_open:!1,title:null,body:null},t}return _inherits(MP_WP_Admin_Health_Check_View,_React$Component),_createClass(MP_WP_Admin_Health_Check_View,[{key:"componentDidMount",value:function(){var e=this;this.setState({total_unhealthy_checks:this.props.section_info.total_unhealthy_checks},(function(){e.state.total_unhealthy_checks!==e.props.main_component.state.total_unhealthy_checks&&e.props.main_component.setState({total_unhealthy_checks:e.state.total_unhealthy_checks})}))}},{key:"componentDidUpdate",value:function(){this.state.total_unhealthy_checks!==this.props.main_component.state.total_unhealthy_checks&&this.props.main_component.setState({total_unhealthy_checks:this.state.total_unhealthy_checks})}},{key:"set_lightbox_for_health_check",value:function(e,t){var n=this;return new Promise((function(t,i){n.props.main_component.set_all_current_visual_states(!1,_defineProperty({},e,{})).then((function(){t()}))}))}},{key:"reset_lightbox_for_health_check",value:function(e,t,n){var i=this;this.setState(_defineProperty({},e+"_fixing_it_again",!0),(function(){i.setState(_defineProperty({},e+"_fixing_it_again",!1),(function(){i.set_lightbox_for_health_check(e+t,n)}))}))}},{key:"render_lightbox",value:function render_lightbox(health_checks,health_check_key,suffix){var wizard_steps=this.props.section_info.wizard_step_vars,next_wizard_step=this.get_next_wizard_step_key(wizard_steps,health_check_key);if(health_checks[health_check_key].react_component)var DynamicReactComponent=eval(health_checks[health_check_key].react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:health_checks,health_check_key:health_check_key,slug_suffix:suffix,this_lightbox_slug:health_check_key+suffix,next_lightbox_slug:next_wizard_step?next_wizard_step+"_wizard_step":null,fixing_it_again:this.state[health_check_key+"_fixing_it_again"]});else var dynamic_react_component=null;return React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:health_check_key+suffix,mode:"custom_react_component",custom_react_component:dynamic_react_component})}},{key:"get_next_wizard_step_key",value:function(e,t){var n=!1;for(var i in e){if(n)return i;t==i&&(n=!0)}}},{key:"render_wizard_steps",value:function(e){var t=[];for(var n in e)e[n].is_wizard_step&&t.push(React.createElement("div",{key:n,className:"mpwpadmin-wizard-step-container mpwpadmin-wizard-step-"+n+"-container"},this.render_lightbox(e,n,"_wizard_step")));return t.map((function(e,t){return e}))}},{key:"render_unhealthy_icon",value:function(e,t){var n="dashicons-no-alt";return e[t].unhealthy.health_check_icon&&(n=e[t].unhealthy.health_check_icon),React.createElement("span",{className:"dashicons "+n})}},{key:"render_health_checks",value:function(e){var t=this,n=[];for(var i in e)e[i].is_healthy&&e[i].is_health_check?n.push(React.createElement("div",{key:i,className:"mpwpadmin-health-check-container mpwpadmin-health-check-"+i+"-container"},React.createElement("div",{className:"mpwpadmin-health-check-icon-container"},React.createElement("span",{className:"dashicons dashicons-yes"})),React.createElement("div",{className:"mpwpadmin-health-check-description-container"},React.createElement("div",{className:"mpwpadmin-health-check-description-text-container"},e[i].healthy.instruction),function(){if(e[i].healthy.fix_it_again_button_text)return React.createElement("div",{className:"mpwpadmin-health-check-description-action-container"},React.createElement("button",{onClick:t.reset_lightbox_for_health_check.bind(t,i,"_health_check"),className:"button"},e[i].healthy.fix_it_again_button_text))}()),this.render_lightbox(e,i,"_health_check"))):e[i].is_health_check&&n.push(React.createElement("div",{key:i,className:"mpwpadmin-health-check-container mpwpadmin-health-check-"+i+"-container"},React.createElement("div",{className:"mpwpadmin-health-check-icon-container"},this.render_unhealthy_icon(e,i)),React.createElement("div",{className:"mpwpadmin-health-check-description-container"},React.createElement("div",{className:"mpwpadmin-health-check-description-text-container"},e[i].unhealthy.instruction),React.createElement("div",{className:"mpwpadmin-health-check-description-action-container"},React.createElement("button",{onClick:this.set_lightbox_for_health_check.bind(this,i+"_health_check"),className:"button"},e[i].unhealthy.fix_it_button_text))),this.render_lightbox(e,i,"_health_check")));return n.map((function(e,t){return e}))}},{key:"render_breadcrumbs",value:function(){var e=this.props.the_breadcrumbs,t=[];for(var n in e){if(n==this.props.view_slug){t.push(React.createElement("span",{key:n},e[n]));break}t.push(React.createElement("span",{key:n},e[n]," > "))}return t.map((function(e,t){return e}))}},{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-settings-view"},React.createElement("div",{className:"mpwpadmin-breadcrumb"},React.createElement("h2",null,this.render_breadcrumbs())),this.render_health_checks(this.props.section_info.health_check_vars),this.render_wizard_steps(this.props.section_info.wizard_step_vars))}}]),MP_WP_Admin_Health_Check_View}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_Checkbox_Field=function(_React$Component){function MP_WP_Admin_Checkbox_Field(e){var t;return _classCallCheck(this,MP_WP_Admin_Checkbox_Field),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Checkbox_Field).call(this,e))).state={props_loaded:!1,input_value:"",saved_status:"saved",in_initial_state:!0,validated:window[t.props.props.client_validation_callback_function](t.props.props.default_value),lightbox_open:!1,error_code:null},t.input_delay=null,t.get_input_field_class=t.get_input_field_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_class=t.get_input_instruction_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_message=t.get_input_instruction_message.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_state=t.set_state.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin_Checkbox_Field,_React$Component),_createClass(MP_WP_Admin_Checkbox_Field,[{key:"componentDidMount",value:function(){"true"==this.props.props.saved_value||"false"==this.props.props.saved_value?this.setState({props_loaded:!0,input_value:"true"==this.props.props.saved_value}):this.setState({props_loaded:!0,input_value:"true"==this.props.props.default_value})}},{key:"set_state",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"save_value_to_server",value:function(e){this.setState({saved_status:"saving"});var t=new FormData;t.append("mpwpadmin_relation_id",this.props.relation_id),t.append("mpwpadmin_setting_id",this.props.id),t.append("mpwpadmin_setting_value",e),t.append("mpwpadmin_validation_callback",this.props.props.server_validation_callback_function),t.append("mpwpadmin_nonce",this.props.props.nonce);var n=this;fetch(this.props.props.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?(n.setState({saved_status:"saved",validated:!0,error_code:null}),n.props.update_context&&n.props.update_context(e).then((function(e){console.log(e)}))):(console.log(e),n.setState({saved_status:"unsaved",validated:!1,error_code:e.error_code}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.state.in_initial_state?"empty_initial":this.state.input_value||this.state.in_initial_state?this.state.input_value&&this.state.validated?"success":this.state.input_value&&!this.state.validated&&this.state.error_code?this.state.error_code:"success":"empty_not_initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error"}return""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("success"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-success";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-error";if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-initial"}return" mpwpadmin-input-initial"}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e])return this.props.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(window[this.props.props.client_validation_callback_function](e.target.checked))t=!0;else var t=!1;var n=this.state.input_value,i=e.target.checked;if(this.setState({in_initial_state:!1,input_value:e.target.checked,saved_status:"typing",validated:t}),n==i)return!1;this.input_delay&&(clearTimeout(this.input_delay),this.input_delay=null);var s=this;this.input_delay=setTimeout((function(){clearTimeout(this.input_delay),s.save_value_to_server(i)}),500)}},{key:"render_field",value:function(){var e=this;if(!this.state.props_loaded)return"";if(this.props.props.replace_input_field_with)return this.props.props.replace_input_field_with;var t={type:"checkbox"};return this.props.class_name?t.className=this.props.class_name+this.get_input_field_class():t.className=this.get_input_field_class(),this.props.props.name&&(t.name=this.props.props.name),t.onChange=this.handle_input_change.bind(this),t.checked=this.state.input_value,this.props.props.placeholder&&(t.placeholder=this.props.props.placeholder),this.props.props.step&&(t.step=this.props.props.step),this.props.props.min&&(t.min=this.props.props.min),this.props.props.max&&(t.max=this.props.props.step),this.props.props.disabled&&(t.disabled=this.props.props.disabled),React.createElement("div",{className:"mpwpwadmin-checkbox-container"},React.createElement("label",null,React.createElement("input",t),React.createElement("span",null,function(){if(e.props.props.selected_text&&e.props.props.unselected_text)return e.state.input_value?e.props.props.selected_text:e.props.props.unselected_text}())),React.createElement("div",{className:"mpwpadmin-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("span",{className:"mpwpadmin-input-top-right-area"},this.render_help_button(),React.createElement("span",{className:"mpwpadmin-input-saved-status "+this.state.saved_status},this.state.saved_status)))}},{key:"render_help_button",value:function(){return this.props.props.help_text?React.createElement(React.Fragment,null,React.createElement("span",{className:"mpwpadmin-input-help-link",onClick:this.toggle_help_lightbox.bind(this)},"help!"),React.createElement("span",{className:"mpwpadmin-input-separator"}," | ")):""}},{key:"toggle_help_lightbox",value:function(){this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"render",value:function render(){if(this.props.props.help_text)if(this.props.props.help_text.react_component)var DynamicReactComponent=eval(this.props.props.help_text.react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:this.props.props.help_text.component_data}),help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body,mode:dynamic_react_component?"custom_react_component":"default",custom_react_component:dynamic_react_component});else var help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body});else var help_lightbox_output=null;return React.createElement("div",{className:"mpwpadmin-input-component-container"},this.render_field(),help_lightbox_output)}}]),MP_WP_Admin_Checkbox_Field}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_File_Upload_Field=function(_React$Component){function MP_WP_Admin_File_Upload_Field(e){var t;return _classCallCheck(this,MP_WP_Admin_File_Upload_Field),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_File_Upload_Field).call(this,e))).state={props_loaded:!1,input_value:"",saved_status:"saved",in_initial_state:!0,validated:window[t.props.props.client_validation_callback_function](t.props.props.default_value),lightbox_open:!1,error_code:null,file_preview:!1,use_wp_media_dialog:!0},t.input_delay=null,t.get_input_field_class=t.get_input_field_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_class=t.get_input_instruction_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_message=t.get_input_instruction_message.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_state=t.set_state.bind(_assertThisInitialized(_assertThisInitialized(t))),t.fileInput=React.createRef(),t}return _inherits(MP_WP_Admin_File_Upload_Field,_React$Component),_createClass(MP_WP_Admin_File_Upload_Field,[{key:"componentDidMount",value:function(){this.props.props.saved_value?this.setState({props_loaded:!0,file_preview:this.props.props.saved_value,input_value:this.props.props.saved_value}):this.setState({props_loaded:!0})}},{key:"set_state",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"save_value_to_server",value:function(e){this.setState({saved_status:"saving"});var t=new FormData;t.append("mpwpadmin_relation_id",this.props.relation_id),t.append("mpwpadmin_setting_id",this.props.id),t.append("mpwpadmin_setting_value",e),t.append("mpwpadmin_validation_callback",this.props.props.server_validation_callback_function),t.append("mpwpadmin_nonce",this.props.props.nonce);var n=this;fetch(this.props.props.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?(n.setState({saved_status:"saved",validated:!0,error_code:null,unique_instruction_message:null}),n.props.update_context&&n.props.update_context(e).then((function(e){}))):(console.log(e),e.unique_instruction_message?n.setState({saved_status:"unsaved",validated:!1,error_code:e.error_code,unique_instruction_message:e.details}):n.setState({saved_status:"unsaved",validated:e.error_code,error_code:"error"}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.state.in_initial_state?"empty_initial":this.state.input_value||this.state.in_initial_state?this.state.input_value&&this.state.validated?"success":this.state.input_value&&!this.state.validated?this.state.error_code:"error":"empty_not_initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error"}return""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("success"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-success";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-error";if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-initial"}return" mpwpadmin-input-initial"}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();return this.state.unique_instruction_message?this.state.unique_instruction_message:this.props.props.instruction_codes[e]?this.props.props.instruction_codes[e].instruction_message:void 0}},{key:"remove_file",value:function(e){this.setState({validated:!0,input_value:"",error_code:null,file_preview:!1}),this.save_value_to_server("")}},{key:"handle_input_change",value:function(e){var t=this,n=this.fileInput.current.files[0];if(!n)return!1;if(!window[this.props.props.client_validation_callback_function](n))return this.setState({validated:!1,input_value:n,saved_status:"unsaved",error_code:"not_an_image",file_preview:!1}),!1;var i=!0;if(n)var s=URL.createObjectURL(n);else s="";this.setState({in_initial_state:!1,input_value:n,saved_status:"typing",validated:i,file_preview:s}),this.input_delay&&(clearTimeout(this.input_delay),this.input_delay=null),this.input_delay=setTimeout((function(){clearTimeout(t.input_delay),t.save_value_to_server(n)}),500)}},{key:"render_field",value:function(){var e=this;if(!this.state.props_loaded)return"";if(this.props.props.replace_input_field_with)return this.props.props.replace_input_field_with;var t={};if(this.state.use_wp_media_dialog)var n="mpwpadmin-wp-media-dialog-input";else n="";return this.props.class_name?t.className=this.props.class_name+this.get_input_field_class()+" "+n:t.className=this.get_input_field_class(),this.props.props.name&&(t.name=this.props.props.name),t.onChange=this.handle_input_change.bind(this),this.state.use_wp_media_dialog?(t.type="text",t.value=this.state.input_value):t.type="file",t.ref=this.fileInput,t.title=" ",this.props.props.placeholder&&(t.placeholder=this.props.props.placeholder),this.props.props.step&&(t.step=this.props.props.step),this.props.props.min&&(t.min=this.props.props.min),this.props.props.max&&(t.max=this.props.props.step),this.props.props.disabled&&(t.disabled=this.props.props.disabled),React.createElement(React.Fragment,null,function(){if(e.state.file_preview)return React.createElement("div",{className:"mpwpadmin-file-preview-container",style:{backgroundImage:"url("+e.state.file_preview+")"}})}(),React.createElement("input",t),React.createElement("div",{className:"mpwpadmin-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("span",{className:"mpwpadmin-input-top-right-area"},this.render_help_button(),React.createElement("span",{className:"mpwpadmin-input-saved-status "+this.state.saved_status},this.state.saved_status)))}},{key:"render_help_button",value:function(){return this.props.props.help_text?React.createElement(React.Fragment,null,React.createElement("span",{className:"mpwpadmin-input-help-link",onClick:this.toggle_help_lightbox.bind(this)},"help!"),React.createElement("span",{className:"mpwpadmin-input-separator"}," | ")):""}},{key:"wp_open_media_dialog",value:function(){var e=wp.media({title:"Select an item",button:{text:"Use Item"},multithele:!1}),t=this;e.on("select",(function(){e.state().get("selection").map((function(e){(e=e.toJSON()).url.split(".").pop();if(!window[t.props.props.client_validation_callback_function](e.url))return t.setState({validated:!1,input_value:e.url,saved_status:"unsaved",error_code:"invalid_image",file_preview:!1}),!1;t.setState({validated:!0,input_value:e.url,error_code:null,file_preview:e.url},(function(){t.save_value_to_server(e.url)}))}))})),e.open()}},{key:"toggle_help_lightbox",value:function(){this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"render_file_upload_control_buttons",value:function(){var e=this;return React.createElement("div",{className:"mpwpadmin-file-upload-control-button-container"},function(){if(e.state.use_wp_media_dialog)return React.createElement("button",{className:"mpwpadmin-file-upload-upload-button button",onClick:e.wp_open_media_dialog.bind(e)},e.props.props.upload_file_text)}(),function(){if(e.state.file_preview)return React.createElement("button",{className:"mpwpadmin-file-upload-remove-button button",onClick:e.remove_file.bind(e)},e.props.props.remove_file_text)}())}},{key:"render",value:function render(){var _this5=this;if(this.props.props.help_text)if(this.props.props.help_text.react_component)var DynamicReactComponent=eval(this.props.props.help_text.react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:this.props.props.help_text.component_data}),help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body,mode:dynamic_react_component?"custom_react_component":"default",custom_react_component:dynamic_react_component});else var help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body});else var help_lightbox_output=null;return React.createElement("div",{className:"mpwpadmin-input-component-container mpwpadmin-file-upload-component-container"+(_this5.state.file_preview?" mpwpadmin-has-file-preview":"")},React.createElement("div",{className:"mpwpadmin-input-label-container"},React.createElement("label",null,this.render_field())),this.render_file_upload_control_buttons(),help_lightbox_output)}}]),MP_WP_Admin_File_Upload_Field}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_Input_Field=function(_React$Component){function MP_WP_Admin_Input_Field(e){var t;return _classCallCheck(this,MP_WP_Admin_Input_Field),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Input_Field).call(this,e))).state={props_loaded:!1,input_value:"",saved_status:"saved",in_initial_state:!0,validated:window[t.props.props.client_validation_callback_function](t.props.props.default_value),lightbox_open:!1,error_code:null},t.input_delay=null,t.get_input_field_class=t.get_input_field_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_class=t.get_input_instruction_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_message=t.get_input_instruction_message.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_state=t.set_state.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin_Input_Field,_React$Component),_createClass(MP_WP_Admin_Input_Field,[{key:"componentDidMount",value:function(){this.props.props.saved_value?this.setState({props_loaded:!0,input_value:this.props.props.saved_value}):this.setState({props_loaded:!0,input_value:this.props.props.default_value})}},{key:"set_state",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"save_value_to_server",value:function(e){this.setState({saved_status:"saving"});var t=new FormData;t.append("mpwpadmin_relation_id",this.props.relation_id),t.append("mpwpadmin_setting_id",this.props.id),t.append("mpwpadmin_setting_value",e),t.append("mpwpadmin_validation_callback",this.props.props.server_validation_callback_function),t.append("mpwpadmin_nonce",this.props.props.nonce);var n=this;fetch(this.props.props.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?(n.setState({saved_status:"saved",validated:!0,error_code:null}),n.props.update_context&&n.props.update_context(e)):(console.log(e),n.setState({saved_status:"unsaved",validated:!1,error_code:e.error_code}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.state.in_initial_state?"empty_initial":this.state.input_value||this.state.in_initial_state?this.state.input_value&&this.state.validated?"success":this.state.input_value&&!this.state.validated?this.state.error_code:"error":"empty_not_initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error"}return""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("success"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-success";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-error";if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-initial"}return" mpwpadmin-input-initial"}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e])return this.props.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(window[this.props.props.client_validation_callback_function](e.target.value))t=!0;else var t=!1;var n=this.state.input_value,i=e.target.value;if(i=i||this.props.props.default_value,this.setState({in_initial_state:!1,input_value:e.target.value,saved_status:"typing",validated:t}),n==i)return!1;this.input_delay&&(clearTimeout(this.input_delay),this.input_delay=null);var s=this;this.input_delay=setTimeout((function(){clearTimeout(this.input_delay),s.save_value_to_server(i)}),500)}},{key:"render_field",value:function(){if(!this.state.props_loaded)return"";if(this.props.props.replace_input_field_with)return this.props.props.replace_input_field_with;var e={};return this.props.props.type&&(e.type=this.props.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.props.name&&(e.name=this.props.props.name),e.onChange=this.handle_input_change.bind(this),e.value=this.state.input_value,this.props.props.placeholder&&(e.placeholder=this.props.props.placeholder),this.props.props.step&&(e.step=this.props.props.step),this.props.props.min&&(e.min=this.props.props.min),this.props.props.max&&(e.max=this.props.props.step),this.props.props.disabled&&(e.disabled=this.props.props.disabled),React.createElement(React.Fragment,null,React.createElement("input",e),React.createElement("div",{className:"mpwpadmin-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("span",{className:"mpwpadmin-input-top-right-area"},this.render_help_button(),React.createElement("span",{className:"mpwpadmin-input-saved-status "+this.state.saved_status},this.state.saved_status)))}},{key:"render_help_button",value:function(){return this.props.props.help_text?React.createElement(React.Fragment,null,React.createElement("span",{className:"mpwpadmin-input-help-link",onClick:this.toggle_help_lightbox.bind(this)},"help!"),React.createElement("span",{className:"mpwpadmin-input-separator"}," | ")):""}},{key:"toggle_help_lightbox",value:function(){this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"render",value:function render(){if(this.props.props.help_text)if(this.props.props.help_text.react_component)var DynamicReactComponent=eval(this.props.props.help_text.react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:this.props.props.help_text.component_data}),help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body,mode:dynamic_react_component?"custom_react_component":"default",custom_react_component:dynamic_react_component});else var help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body});else var help_lightbox_output=null;return React.createElement("div",{className:"mpwpadmin-input-component-container"},React.createElement("label",null,this.render_field()),help_lightbox_output)}}]),MP_WP_Admin_Input_Field}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_List_View=function(_React$Component){function MP_WP_Admin_List_View(e){var t;return _classCallCheck(this,MP_WP_Admin_List_View),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_List_View).call(this,e))).state={current_view:"list_view",map_of_visual_states:null,rows:null,columns:null,current_page:1,total_items:1,items_per_page:1,search_term:"",current_single_item:null},t.get_single_item_from_server=t.get_single_item_from_server.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin_List_View,_React$Component),_createClass(MP_WP_Admin_List_View,[{key:"componentDidMount",value:function(){var e=this;this.setState({map_of_visual_states:_defineProperty({},this.props.view_slug,{variable:{}}),total_items:this.props.view_info.total_items,items_per_page:this.props.view_info.items_per_page,rows:this.props.view_info.rows,columns:this.props.view_info.columns},(function(){e.get_rows_from_server()}))}},{key:"componentDidUpdate",value:function(){if(mpwpadmin_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:"list_view",parent_not_in_view:"none"},name_of_visual_state_variable:"current_view"}),Object.keys(this.props.main_component.state.all_current_visual_states)[0]&&this.props.main_component.state.all_current_visual_states[this.props.view_slug]&&Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug])[0]){var e=Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug])[0];if(Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug][e])[0]){var t=Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug][e])[0];(!this.state.current_single_item||this.state.current_single_item&&this.state.current_single_item.id&&t!==this.state.current_single_item.id.value)&&this.get_single_item_from_server(t)}}}},{key:"get_rows_from_server",value:function(){if(this.state.items_per_page)e=this.state.items_per_page;else var e=20;var t=new FormData;t.append("mpwpadmin_list_view_id",this.props.view_slug),t.append("mpwpadmin_list_view_search_term",this.state.search_term),t.append("mpwpadmin_list_view_page_id",this.state.current_page),t.append("mpwpadmin_items_per_page",e),t.append("mpwpadmin_list_view_items_per_page",this.state.items_per_page),t.append("mpwpadmin_nonce",this.props.view_info.nonce);var n=this;fetch(this.props.view_info.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?n.setState({columns:e.columns,rows:e.rows,total_items:e.total_items}):(console.log(e),n.setState({rows:"Unable to fetch rows..."}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"handle_page_number_change",value:function(e){this.setState({current_page:e.target.value,rows:null,columns:null},(function(){this.get_rows_from_server()}))}},{key:"get_single_item_from_server",value:function(e){var t=new FormData;t.append("mpwpadmin_list_view_id",this.props.view_slug),t.append("mpwpadmin_list_view_item_id",e),t.append("mpwpadmin_nonce",this.props.view_info.nonce);var n=this;fetch(this.props.view_info.server_api_endpoint_url_single_item,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success&&e.current_single_item?n.setState({current_single_item:e.current_single_item}):n.setState({current_single_item:"none_found"})})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"handle_items_per_page_change",value:function(e){this.setState({current_page:1,items_per_page:e.target.value},(function(){this.get_rows_from_server()}))}},{key:"handle_search_change",value:function(e){this.setState({search_term:e.target.value,current_page:1,rows:null,columns:null},(function(){this.get_rows_from_server()}))}},{key:"handle_single_row_click",value:function(e,t){var n=this;this.props.main_component.set_all_current_visual_states(_defineProperty({},this.props.view_slug,{single_data_view:_defineProperty({},e.id.value,{})})).then((function(){n.setState({current_single_item:e})}))}},{key:"handle_list_view_button_click",value:function(){this.props.main_component.set_all_current_visual_states(_defineProperty({},this.props.view_slug,{list_view:{}}))}},{key:"get_total_pages",value:function(){return Math.ceil(this.state.total_items/this.state.items_per_page)}},{key:"render_breadcrumbs",value:function(){var e=this.props.the_breadcrumbs,t=[];for(var n in e){if(n==this.props.view_slug){t.push(React.createElement("span",{key:n},e[n]));break}t.push(React.createElement("span",{key:n},e[n]," > "))}return t.map((function(e,t){return e}))}},{key:"render_columns",value:function(e){if(!e)return!1;var t=[];for(var n in e)t.push(React.createElement("div",{key:n,scope:"col",className:"mpwpadmin-list-view-column"},React.createElement("span",null,e[n])));return t}},{key:"render_rows",value:function render_rows(rows,columns){var _this4=this,mapper=[],td_mapper=[];if(!rows||0==this.state.total_items){var first=!0;for(var key in columns)td_mapper.push(first?(first=!1,React.createElement("div",{key:key,className:"mpwpadmin-list-view-cell"},"None Found")):(first=!1,React.createElement("div",{key:key,className:"mpwpadmin-list-view-cell"},"")));return mapper.push(React.createElement("div",{key:"none_found",className:"mpwpadmin-list-view-row"},td_mapper)),mapper}for(var row in rows){for(var key in columns)td_mapper.push(function(){if(rows[row][key].show_in_list_view)return React.createElement("div",{key:key,className:"mpwpadmin-list-view-cell"},React.createElement("button",{onClick:_this4.handle_single_row_click.bind(_this4,rows[row])},function(){return rows[row][key].value_format_function?eval(rows[row][key].value_format_function)(rows[row][key]):rows[row][key].value}()))}());mapper.push(React.createElement("div",{key:row,className:"mpwpadmin-list-view-table-row"},td_mapper)),td_mapper=[]}return mapper}},{key:"render_search",value:function(){return React.createElement("div",{className:"mpwpwadmin-list-view-search"},React.createElement("span",null,this.props.view_info.strings.uppercase_search),React.createElement("input",{type:"text",value:this.state.search_term,onChange:this.handle_search_change.bind(this)}))}},{key:"render_pagination",value:function(){return React.createElement("div",{className:"mpwpwadmin-list-view-pagination-controls"},React.createElement("div",{className:"mpwpwadmin-list-view-items-per-page"},React.createElement("span",null,this.props.view_info.strings.uppercase_items+" "+this.props.view_info.strings.lowercase_per+" "+this.props.view_info.strings.lowercase_page),React.createElement("input",{type:"number",min:1,onChange:this.handle_items_per_page_change.bind(this),value:this.state.items_per_page})),React.createElement("div",{className:"mpwpwadmin-list-view-pagination"},React.createElement("span",null,this.props.view_info.strings.uppercase_page),React.createElement("input",{type:"number",min:1,max:this.get_total_pages(),onChange:this.handle_page_number_change.bind(this),value:this.state.current_page}),React.createElement("span",null," "+this.props.view_info.strings.lowercase_of+" "+this.get_total_pages())))}},{key:"render_list_table",value:function(){return this.state.columns&&this.state.rows?React.createElement("div",{className:"mpwpadmin-list-view-table"},React.createElement("div",{className:"mpwpadmin-list-view-table-header"},React.createElement("div",{className:"mpwpadmin-list-view-table-row"},this.render_columns(this.state.columns))),React.createElement("div",{className:"mpwpadmin-list-view-table-body"},this.render_rows(this.state.rows,this.state.columns))):React.createElement(MP_WP_Admin_Spinner,null)}},{key:"render_single_data_view",value:function render_single_data_view(){var _this5=this;if("single_data_view"!==this.state.current_view)return"";var single_item=this.state.current_single_item;if("none_found"===single_item||!1===single_item)return"No item found";if(null===single_item)return React.createElement(MP_WP_Admin_Spinner,null);if(this.props.view_info.react_component_single_item_view){var DynamicReactComponent=eval(this.props.view_info.react_component_single_item_view);return React.createElement("div",{hidden:"single_data_view"!=_this5.state.current_view,className:"mpwpadmin-single-data-view"},React.createElement(DynamicReactComponent,{main_component:this.props.main_component,current_single_item:this.state.current_single_item,view_info:this.props.view_info,get_single_item_from_server:this.get_single_item_from_server}))}return React.createElement("div",{hidden:"single_data_view"!=_this5.state.current_view,className:"mpwpadmin-single-data-view"},React.createElement("div",{className:"mpwpwadmin-list-view-single-data-item-controls"},React.createElement("button",{onClick:this.handle_list_view_button_click.bind(this)},this.props.view_info.strings.back_to_list_view)),React.createElement("div",{className:"mpwpadmin-single-data"},function(){var e=[],t=_this5.state.current_single_item;for(var n in t)e.push(React.createElement("div",{className:"mpwpadmin-list-view-single-data-item",key:n},t[n].show_in_single_data_view?React.createElement(React.Fragment,null,React.createElement("div",{className:"mpwpadmin-list-view-single-data-item-title"},t[n].title),React.createElement("div",{className:"mpwpadmin-list-view-single-data-item-value"},t[n].value)):""));return e}()))}},{key:"render_list_view",value:function(){var e=this;return React.createElement("div",{hidden:"list_view"!=e.state.current_view,className:"mpwpadmin-list-view"},React.createElement("div",{className:"mpwpadmin-list-view-controls"},this.render_search(),this.render_pagination()),this.render_list_table(),React.createElement("div",{className:"mpwpadmin-list-view-controls"},this.render_search(),this.render_pagination()))}},{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-list-view"+this.props.current_view_class},React.createElement("div",{className:"mpwpadmin-breadcrumb"},React.createElement("h2",null,this.render_breadcrumbs())),React.createElement("div",{className:"mpwpadmin-list-view-content-area"},this.render_single_data_view(),this.render_list_view()))}}]),MP_WP_Admin_List_View}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_Select_Field=function(_React$Component){function MP_WP_Admin_Select_Field(e){var t;return _classCallCheck(this,MP_WP_Admin_Select_Field),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Select_Field).call(this,e))).state={props_loaded:!1,input_value:"",saved_status:"saved",in_initial_state:!0,validated:window[t.props.props.client_validation_callback_function](t.props.props.default_value),lightbox_open:!1,matching_values:t.props.props.initially_available_values,error_code:null,options_hidden:!0},t.input_delay=null,t.get_input_field_class=t.get_input_field_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_class=t.get_input_instruction_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_message=t.get_input_instruction_message.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_state=t.set_state.bind(_assertThisInitialized(_assertThisInitialized(t))),t.find_matching_available_values=t.find_matching_available_values.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin_Select_Field,_React$Component),_createClass(MP_WP_Admin_Select_Field,[{key:"componentDidMount",value:function(){this.props.props.saved_value?this.setState({props_loaded:!0,input_value:this.props.props.saved_value,available_values:this.props.props.initially_available_values}):this.setState({props_loaded:!0,input_value:this.props.props.default_value,available_values:this.props.props.initially_available_values})}},{key:"set_state",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"save_value_to_server",value:function(e){this.setState({saved_status:"saving"});var t=new FormData;t.append("mpwpadmin_relation_id",this.props.relation_id),t.append("mpwpadmin_setting_id",this.props.id),t.append("mpwpadmin_setting_value",e),t.append("mpwpadmin_validation_callback",this.props.props.server_validation_callback_function),t.append("mpwpadmin_nonce",this.props.props.nonce);var n=this;fetch(this.props.props.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?n.setState({saved_status:"saved",options_hidden:!0,validated:!0,error_code:null}):n.setState({saved_status:"unsaved",validated:!1,error_code:e.error_code})})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"find_matching_available_values",value:function(e){this.setState({fetching_status:"fetching"});var t=JSON.stringify({action:this.props.props.fetch_options_function,mpwpadmin_search_term:e,mpwpadmin_fetch_options_nonce:this.props.props.nonce}),n=this;fetch(this.props.ajaxurl+"?"+this.props.props.fetch_options_function,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?n.setState({matching_values:e.matching_values,fetching_status:"success"}):n.setState({matching_values:null,fetching_status:"unfetched"})})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.state.in_initial_state?"empty_initial":this.state.input_value||this.state.in_initial_state?this.state.input_value&&this.state.validated?"success":this.state.input_value&&!this.state.validated?this.state.error_code:"error":"empty_not_initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error"}return""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("success"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-success";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-error";if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-initial"}return" mpwpadmin-input-initial"}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e])return this.props.props.instruction_codes[e].instruction_message}},{key:"toggle_options",value:function(e){this.state.options_hidden?this.setState({options_hidden:!1}):this.setState({options_hidden:!0})}},{key:"handle_input_change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state.input_value;if(e)var i=e;else i=t.target.value;if(window[this.props.props.client_validation_callback_function](i))s=!0;else var s=!1;if(e||this.find_matching_available_values(i),this.setState({in_initial_state:!1,input_value:i,saved_status:"typing",validated:s}),n==i)return!1;this.input_delay&&(clearTimeout(this.input_delay),this.input_delay=null);var a=this;this.input_delay=setTimeout((function(){clearTimeout(this.input_delay),a.save_value_to_server(i)}),500)}},{key:"handle_keypress",value:function(e){this.setState({options_hidden:!1})}},{key:"handle_option_click",value:function(e,t){this.setState({options_hidden:!0},(function(){this.handle_input_change(e)}))}},{key:"render_options",value:function(){var e=this.state.matching_values;return e?React.createElement("div",{className:"mpwpadmin-select-field-options"},React.createElement("button",{className:"button",onClick:this.toggle_options.bind(this)},"Show options"),React.createElement("ul",{hidden:this.state.options_hidden},this.render_each_option(e))):React.createElement("p",null,this.props.props.no_matching_values_text)}},{key:"render_each_option",value:function(e){var t=[];for(var n in e)t.push(React.createElement("li",{key:n,value:n},React.createElement("button",{onClick:this.handle_option_click.bind(this,n)},n)));return t.map((function(e,t){return e}))}},{key:"render_field",value:function(){if(!this.state.props_loaded)return"";if(this.props.props.replace_input_field_with)return this.props.props.replace_input_field_with;var e={};return this.props.props.type&&(e.type=this.props.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.props.name&&(e.name=this.props.props.name),this.props.props.placeholder&&(e.placeholder=this.props.props.placeholder),e.onChange=this.handle_input_change.bind(this,null),e.onKeyPress=this.handle_keypress.bind(this),e.value=this.state.input_value,this.props.props.step&&(e.step=this.props.props.step),this.props.props.min&&(e.min=this.props.props.min),this.props.props.max&&(e.max=this.props.props.step),this.props.props.disabled&&(e.disabled=this.props.props.disabled),React.createElement(React.Fragment,null,React.createElement("input",_extends({type:"text"},e)),this.render_options(),React.createElement("div",{className:"mpwpadmin-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("span",{className:"mpwpadmin-input-top-right-area"},this.render_help_button(),React.createElement("span",{className:"mpwpadmin-input-saved-status "+this.state.saved_status},this.state.saved_status)))}},{key:"render_help_button",value:function(){return this.props.props.help_text?React.createElement(React.Fragment,null,React.createElement("span",{className:"mpwpadmin-input-help-link",onClick:this.toggle_help_lightbox.bind(this)},"help!"),React.createElement("span",{className:"mpwpadmin-input-separator"}," | ")):""}},{key:"toggle_help_lightbox",value:function(){this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"render",value:function render(){if(this.props.props.help_text)if(this.props.props.help_text.react_component)var DynamicReactComponent=eval(this.props.props.help_text.react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:this.props.props.help_text.component_data}),help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body,mode:dynamic_react_component?"custom_react_component":"default",custom_react_component:dynamic_react_component});else var help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body});else var help_lightbox_output=null;return React.createElement("div",{className:"mpwpadmin-input-component-container mpwpadmin-select-container"},React.createElement("label",null,this.render_field()),help_lightbox_output)}}]),MP_WP_Admin_Select_Field}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.MP_WP_Admin_Settings_View=function(_React$Component){function MP_WP_Admin_Settings_View(e){return _classCallCheck(this,MP_WP_Admin_Settings_View),_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_Settings_View).call(this,e))}return _inherits(MP_WP_Admin_Settings_View,_React$Component),_createClass(MP_WP_Admin_Settings_View,[{key:"render_settings",value:function render_settings(settings){var doing_sub_setting=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mapper=[];for(var key in settings)if(settings[key].settings)mapper.push(React.createElement("div",{key:key,className:"mpwpadmin-setting-container mpwpadmin-setting-"+key+"-container"},React.createElement("h2",null,settings[key].visual_name),this.render_settings(settings[key].settings,!0)));else{var DynamicReactComponent=eval(settings[key].react_component);mapper.push(React.createElement("div",{key:key,className:"mpwpadmin-setting-container mpwpadmin-setting-"+key+"-container"},React.createElement(DynamicReactComponent,{main_component:this.props.main_component,id:key,slug:key,props:settings[key],class_name:"mpwpadmin-setting mpwpadmin-setting-"+key,context_id:null})))}return doing_sub_setting?mapper:mapper.map((function(e,t){return e}))}},{key:"render_breadcrumbs",value:function(){var e=this.props.the_breadcrumbs,t=[];for(var n in e){if(n==this.props.view_slug){t.push(React.createElement("span",{key:n},e[n]));break}t.push(React.createElement("span",{key:n},e[n]," > "))}return t.map((function(e,t){return e}))}},{key:"render",value:function(){return this.props.main_component.state.refresh_sections?"":React.createElement("div",{className:"mpwpadmin-settings-view"+this.props.current_view_class},React.createElement("div",{className:"mpwpadmin-breadcrumb"},React.createElement("h2",null,this.render_breadcrumbs())),this.render_settings(this.props.view_info.settings))}}]),MP_WP_Admin_Settings_View}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.MP_WP_Admin_TextArea_Field=function(_React$Component){function MP_WP_Admin_TextArea_Field(e){var t;return _classCallCheck(this,MP_WP_Admin_TextArea_Field),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin_TextArea_Field).call(this,e))).state={props_loaded:!1,input_value:"",saved_status:"saved",in_initial_state:!0,validated:window[t.props.props.client_validation_callback_function](t.props.props.default_value),lightbox_open:!1,error_code:null},t.input_delay=null,t.get_input_field_class=t.get_input_field_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_class=t.get_input_instruction_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.get_input_instruction_message=t.get_input_instruction_message.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_state=t.set_state.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin_TextArea_Field,_React$Component),_createClass(MP_WP_Admin_TextArea_Field,[{key:"componentDidMount",value:function(){this.props.props.saved_value?this.setState({props_loaded:!0,input_value:this.props.props.saved_value}):this.setState({props_loaded:!0,input_value:this.props.props.default_value})}},{key:"set_state",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"save_value_to_server",value:function(e){this.setState({saved_status:"saving"});var t=new FormData;t.append("mpwpadmin_relation_id",this.props.relation_id),t.append("mpwpadmin_setting_id",this.props.id),t.append("mpwpadmin_setting_value",e),t.append("mpwpadmin_validation_callback",this.props.props.server_validation_callback_function),t.append("mpwpadmin_nonce",this.props.props.nonce);var n=this;fetch(this.props.props.server_api_endpoint_url,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:t}).then((function(e){200===e.status?e.json().then((function(e){e.success?(n.setState({saved_status:"saved",validated:!0,error_code:null}),n.props.update_context&&n.props.update_context(e).then((function(e){console.log(e)}))):(console.log(e),n.setState({saved_status:"unsaved",validated:!1,error_code:e.error_code}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.state.in_initial_state?"empty_initial":this.state.input_value||this.state.in_initial_state?this.state.input_value&&this.state.validated?"success":this.state.input_value&&!this.state.validated?this.state.error_code:"error":"empty_not_initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-instruction-error"}return""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e]){if("success"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-success";if("error"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-error";if("initial"==this.props.props.instruction_codes[e].instruction_type)return" mpwpadmin-input-initial"}return" mpwpadmin-input-initial"}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.props.instruction_codes[e])return this.props.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(window[this.props.props.client_validation_callback_function](e.target.value))t=!0;else var t=!1;var n=this.state.input_value,i=e.target.value;if(i=i||this.props.props.default_value,this.setState({in_initial_state:!1,input_value:e.target.value,saved_status:"typing",validated:t}),n==i)return!1;this.input_delay&&(clearTimeout(this.input_delay),this.input_delay=null);var s=this;this.input_delay=setTimeout((function(){clearTimeout(this.input_delay),s.save_value_to_server(i)}),500)}},{key:"render_field",value:function(){if(!this.state.props_loaded)return"";if(this.props.props.replace_input_field_with)return this.props.props.replace_input_field_with;var e={};return this.props.props.type&&(e.type=this.props.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.props.name&&(e.name=this.props.props.name),e.onChange=this.handle_input_change.bind(this),e.value=this.state.input_value,this.props.props.placeholder&&(e.placeholder=this.props.props.placeholder),this.props.props.step&&(e.step=this.props.props.step),this.props.props.min&&(e.min=this.props.props.min),this.props.props.max&&(e.max=this.props.props.step),this.props.props.disabled&&(e.disabled=this.props.props.disabled),React.createElement(React.Fragment,null,React.createElement("textarea",e),React.createElement("div",{className:"mpwpadmin-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("span",{className:"mpwpadmin-input-top-right-area"},this.render_help_button(),React.createElement("span",{className:"mpwpadmin-input-saved-status "+this.state.saved_status},this.state.saved_status)))}},{key:"render_help_button",value:function(){return this.props.props.help_text?React.createElement(React.Fragment,null,React.createElement("span",{className:"mpwpadmin-input-help-link",onClick:this.toggle_help_lightbox.bind(this)},"help!"),React.createElement("span",{className:"mpwpadmin-input-separator"}," | ")):""}},{key:"toggle_help_lightbox",value:function(){this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"render",value:function render(){if(this.props.props.help_text)if(this.props.props.help_text.react_component)var DynamicReactComponent=eval(this.props.props.help_text.react_component),dynamic_react_component=React.createElement(DynamicReactComponent,{main_component:this.props.main_component,data:this.props.props.help_text.component_data}),help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body,mode:dynamic_react_component?"custom_react_component":"default",custom_react_component:dynamic_react_component});else var help_lightbox_output=React.createElement(MP_WP_Admin_Lightbox,{main_component:this.props.main_component,slug:this.props.slug,title:this.props.props.help_text.title,body:this.props.props.help_text.body});else var help_lightbox_output=null;return React.createElement("div",{className:"mpwpadmin-input-component-container"},React.createElement("label",null,this.render_field()),help_lightbox_output)}}]),MP_WP_Admin_TextArea_Field}(React.Component)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mpwpadmin_visual_state_should_become(e,t,n,i){for(var s in t)n=e[s]?void 0!==t[s]&&"object"===_typeof(t[s])&&0!==Object.keys(t[s]).length?mpwpadmin_visual_state_should_become(e[s],t[s],n,i):s:"variable"===s&&Object.keys(e)[0]?Object.keys(e)[0]:i;return n}function mpwpadmin_get_default_map_of_visual_states(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in e){if(void 0!==e[s]&&"object"===_typeof(e[s])&&0!==Object.keys(e[s]).length){if(i){var a={};a[s]={},n[i]=mpwpadmin_get_default_map_of_visual_states(e[s],t,a,s)}else n[s]={},n=mpwpadmin_get_default_map_of_visual_states(e[s],t,n,s);return n}return"variable"===s||0===Object.keys(e[s]).length?(n[i][t]={},n):(n[i][s]={},n)}}window.mp_wp_admin_admin_lightbox_vars={title:null,description:null},window.MP_WP_Admin=function(_React$Component){function MP_WP_Admin(e){var t;return _classCallCheck(this,MP_WP_Admin),(t=_possibleConstructorReturn(this,_getPrototypeOf(MP_WP_Admin).call(this,e))).state={all_initial_visual_states:t.props.data.general_config.all_current_visual_states,all_current_visual_states:t.props.data.general_config.all_current_visual_states,lightbox_initial_visual_state:t.props.data.general_config.lightbox_visual_state,lightbox_visual_state:t.props.data.general_config.lightbox_visual_state,single_page_app_base_url:t.props.data.general_config.base_url,dom_node:null,refresh_sections:!1},t.get_current_view_class=t.get_current_view_class.bind(_assertThisInitialized(_assertThisInitialized(t))),t.set_all_current_visual_states=t.set_all_current_visual_states.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MP_WP_Admin,_React$Component),_createClass(MP_WP_Admin,[{key:"componentDidMount",value:function(){var e=this;this.setState({data:this.props.data},(function(){e.setState({all_initial_visual_states:e.state.data.general_config.all_current_visual_states,all_current_visual_states:e.state.data.general_config.all_current_visual_states,lightbox_initial_visual_state:e.state.data.general_config.lightbox_visual_state,lightbox_visual_state:e.state.data.general_config.lightbox_visual_state},(function(){e.set_all_current_visual_states(e.state.all_initial_visual_states,e.state.lightbox_visual_state)}))})),window.addEventListener("popstate",(function(t){e.on_web_history_change(t,e)}))}},{key:"componentDidUpdate",value:function(){this.maybe_refresh_parent_dom_node()}},{key:"refresh_mpwpadmin",value:function(){var e=this;return new Promise((function(t,n){var i=e,s=new FormData;s.append("mpwpadmin_refresh_nonce",e.state.data.general_config.mpwpadmin_refresh_nonce),fetch(e.state.data.general_config.server_endpoint_url_refresh_mpwpadmin,{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{},body:s}).then((function(e){if(200!==e.status)return console.log("Looks like there was a problem. Status Code: "+e.status),void n();e.json().then((function(e){e.success?JSON.stringify(e.data)==JSON.stringify(i.state.data)?t():i.setState({data:e.data},(function(){i.setState({refresh_sections:!0},(function(){i.setState({refresh_sections:!1},(function(){t()}))}))})):n()}))})).catch((function(e){console.log("Fetch Error :-S",e),n()}))}))}},{key:"maybe_refresh_parent_dom_node",value:function(){this.state.dom_node!==ReactDOM.findDOMNode(this).parentNode&&this.setState({dom_node:ReactDOM.findDOMNode(this).parentNode})}},{key:"build_new_url_path",value:function(e,t,n){for(var i in n+=1,e)t=this.build_new_url_path(e[i],t+"&mpwpadmin"+n+"="+i,n);return t}},{key:"set_all_current_visual_states",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,s){t||(t=e.state.all_current_visual_states),n||(n=e.state.lightbox_visual_state),e.setState({all_current_visual_states:t,lightbox_visual_state:n},(function(){var n;700>screen.width&&e.state.dom_node.scrollIntoView(!0,{behavior:"smooth"});var i=e.state.data.general_config.base_url+e.build_new_url_path(e.state.all_current_visual_states,"",0);Object.keys(e.state.lightbox_visual_state)[0]&&(i=i+"&mpwpadmin_lightbox="+Object.keys(e.state.lightbox_visual_state)[0]),history.pushState((_defineProperty(n={},e.state.data.general_config.app_slug+"_visual_state",e.state.all_current_visual_states),_defineProperty(n,e.state.data.general_config.app_slug+"_lightbox_visual_state",e.state.lightbox_visual_state),n),t,i)}))}))}},{key:"on_web_history_change",value:function(e,t){var n=e.state;null==n?t.setState({all_current_visual_states:t.state.all_initial_visual_states,lightbox_visual_state:t.state.initial_lightbox_visual_state}):t.setState({all_current_visual_states:n[this.state.data.general_config.app_slug+"_visual_state"],lightbox_visual_state:n[this.state.data.general_config.app_slug+"_lightbox_visual_state"]})}},{key:"get_current_view_class",value:function(e){return Object.keys(this.state.all_current_visual_states)[0]==e?" mpwpadmin-current-view":" mpwpadmin-hidden-view"}},{key:"get_current_button_class",value:function(e){return Object.keys(this.state.all_current_visual_states)[0]==e?" mpwpadmin-current-tab":""}},{key:"render_left_side_navigation_buttons",value:function(){Object.keys(this.state.all_current_visual_states)[0];var e=[];for(var t in this.state.data.views)e.push(React.createElement(MP_WP_Admin_View_Button,{key:t,main_component:this,view_slug:t,view_info:this.state.data.views[t],is_top_level:!0}));return e.map((function(e,t){return e}))}},{key:"render_actual_views",value:function render_actual_views(views){var doing_sub_tabs=arguments.length>1&&void 0!==arguments[1]&&arguments[1],breadcrumbs=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],current_visual_state=Object.keys(this.state.all_current_visual_states)[0],mapper=[];for(var key in views){var DynamicReactComponent=eval(views[key].react_component);breadcrumbs[key]=views[key].visual_name,mapper.push(React.createElement(DynamicReactComponent,{key:key,main_component:this,view_slug:key,view_info:views[key],current_view_class:this.get_current_view_class(key),the_breadcrumbs:breadcrumbs}));var sub_tabs=views[key].sub_tabs;sub_tabs?(mapper.push(this.render_actual_views(sub_tabs,!0,breadcrumbs)),breadcrumbs=[]):breadcrumbs=[]}return doing_sub_tabs?mapper:mapper.map((function(e,t){return e}))}},{key:"render",value:function(){if(!this.state.data||!this.state.all_current_visual_states)return"";var e=Object.keys(this.state.all_current_visual_states)[0];return React.createElement("div",{className:"mpwpadmin-container mpwpadmin-current-view-is-"+e},React.createElement("div",{className:"mpwpadmin-left-side-navigation"},React.createElement("ul",null,this.render_left_side_navigation_buttons())),React.createElement("div",{className:"mpwpadmin-current-view-container"},this.render_actual_views(this.state.data.views)),React.createElement(MP_WP_Admin_Lightbox,null))}}]),MP_WP_Admin}(React.Component),window.MP_WP_Admin_View_Button=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render_submenu",value:function(){var e=this.props.view_info.sub_tabs;if(!e)return!1;var n=[];for(var i in e){var s=!!e[i]&&e[i];n.push(React.createElement(t,{key:i,main_component:this.props.main_component,view_slug:i,view_info:s,is_top_level:!1}))}return n.map((function(e,t){return e}))}},{key:"handle_button_click",value:function(e,t){this.props.main_component.set_all_current_visual_states(_defineProperty({},this.props.view_slug,{}))}},{key:"render",value:function(){return this.props.is_top_level?React.createElement("li",{className:"mpwpadmin-left-tab-button"+this.props.main_component.get_current_button_class(this.props.view_slug)},React.createElement("button",{onClick:this.handle_button_click.bind(this,_defineProperty({},this.props.view_slug,{}))},React.createElement("span",{className:"mpwpadmin-left-tab-text"},this.props.view_info.visual_name)),React.createElement("ul",null,this.render_submenu())):React.createElement("li",{className:"mpwpadmin-left-tab-button-subtab"+this.props.main_component.get_current_button_class(this.props.view_slug)},React.createElement("button",{onClick:this.handle_button_click.bind(this,_defineProperty({},this.props.view_slug,{}))},React.createElement("i",{className:"mpwpadmin-left-tab-arrow"}),React.createElement("span",{className:"mpwpadmin-left-tab-text"},this.props.view_info.visual_name)),React.createElement("ul",null,this.render_submenu()))}}]),t}(),window.MP_WP_Admin_Lightbox=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).state={has_mounted:!1,lightbox_open:!1},n.handle_key_press=n.handle_key_press.bind(_assertThisInitialized(_assertThisInitialized(n))),n.toggle_lightbox=n.toggle_lightbox.bind(_assertThisInitialized(_assertThisInitialized(n))),n}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){this.handle_open_status_based_on_url()}},{key:"componentDidUpdate",value:function(){this.state.lightbox_open?(this.state.has_mounted||this.setState({has_mounted:!0}),document.addEventListener("keydown",this.handle_key_press,!1)):document.removeEventListener("keydown",this.handle_key_press,!1),this.handle_open_status_based_on_url()}},{key:"handle_open_status_based_on_url",value:function(){this.props.main_component&&this.props.main_component.state.lightbox_visual_state&&(this.props.slug==Object.keys(this.props.main_component.state.lightbox_visual_state)[0]?this.state.lightbox_open||this.setState({lightbox_open:!0}):this.state.lightbox_open&&this.setState({lightbox_open:!1}))}},{key:"get_lightbox_visible_class",value:function(){return this.state.lightbox_open?" mpwpadmin-lightbox-open":" mpwpadmin-lightbox-closed"}},{key:"toggle_lightbox",value:function(e){e.lightbox_open?this.props.main_component.set_all_current_visual_states(!1,{}):this.props.main_component.set_all_current_visual_states(!1,_defineProperty({},this.props.slug,{}))}},{key:"handle_key_press",value:function(e){27===e.keyCode&&this.toggle_lightbox(this.state)}},{key:"handle_close_button_click",value:function(){this.props.main_component.set_all_current_visual_states(!1,{})}},{key:"render_close_button",value:function(){return React.createElement("div",{className:"mpwpadmin-close-btn","aria-label":"Close",onClick:this.handle_close_button_click.bind(this)},React.createElement("span",{className:"dashicons dashicons-no"}))}},{key:"render_icon",value:function(){if(this.props.main_component&&this.props.main_component.state.data.general_config.default_icon)return React.createElement("div",{className:"mpwpadmin-lightbox-icon-container"},React.createElement("div",{className:"mpwpadmin-lightbox-icon"},React.createElement("img",{src:this.props.main_component.state.data.general_config.default_icon})))}},{key:"render_title",value:function(){return this.props.title?this.props.title:""}},{key:"render_body",value:function(){return React.createElement(React.Fragment,null,this.render_icon(),React.createElement("h2",{className:"mpwpadmin-lightbox-input-title"},this.render_title()),React.createElement("div",{className:"mpwpadmin-lightbox-input-description"},this.props.body))}},{key:"render_component",value:function(){return this.props.custom_react_component}},{key:"render_based_on_mode",value:function(){return"custom_react_component"==this.props.mode?this.render_component():this.render_body()}},{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-lightbox-background mpwpadmin-lightbox"+this.get_lightbox_visible_class()},React.createElement("div",{className:"mpwpadmin-lightbox-outside-click-to-close",onClick:this.toggle_lightbox.bind(null,this.state)}),React.createElement("div",{className:"mpwpadmin-lightbox-relative"},React.createElement("div",{className:"mpwpadmin-lightbox-absolute"},React.createElement("div",{className:"mpwpadmin-lightbox-inner"},this.render_close_button(),this.render_based_on_mode()))))}}]),t}(),window.MP_WP_Admin_Spinner=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"mpwpadmin-spinner"},React.createElement("div",{className:"mpwpadmin-double-bounce1"}),React.createElement("div",{className:"mpwpadmin-double-bounce2"}))}}]),t}(),window.mpwpadmin_set_visual_state_of_component=function(e){return new Promise((function(t,n){if(!e.component)throw new Error('The function "mpwpadmin_set_visual_state_of_component" is missing required variables');if(!e.component.props.main_component.state.all_current_visual_states)throw new Error("A visual states object is required.");if(!e.component.state.map_of_visual_states)throw new Error('The component must have a map of the view states stored in the state with the key "map_of_visual_states"');var i=mpwpadmin_get_default_map_of_visual_states(e.component.state.map_of_visual_states,e.default_visual_state);for(var s in e.component.props.main_component.state.all_current_visual_states){if(!i[s]){parent_component_is_in_view=!1;break}parent_component_is_in_view=!0}if(parent_component_is_in_view)a=mpwpadmin_visual_state_should_become(e.component.props.main_component.state.all_current_visual_states,e.component.state.map_of_visual_states,!1,e.default_visual_states.parent_in_view);else var a=e.default_visual_states.parent_not_in_view;e.component.state[e.name_of_visual_state_variable]!=a?a?e.component.setState(_defineProperty({},e.name_of_visual_state_variable,a),(function(){t(a)})):e.component.setState(_defineProperty({},e.name_of_visual_state_variable,e.default_visual_states.parent_not_in_view),(function(){t(e.default_visual_states.parent_not_in_view)})):t(a)}))}}]);
//# sourceMappingURL=mpwpadmin.js.map