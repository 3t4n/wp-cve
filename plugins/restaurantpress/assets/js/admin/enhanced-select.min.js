jQuery(function(a){function r(){return{language:{errorLoading:function(){return rp_enhanced_select_params.i18n_searching},inputTooLong:function(e){var n=e.input.length-e.maximum;return 1===n?rp_enhanced_select_params.i18n_input_too_long_1:rp_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",n)},inputTooShort:function(e){var n=e.minimum-e.input.length;return 1===n?rp_enhanced_select_params.i18n_input_too_short_1:rp_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",n)},loadingMore:function(){return rp_enhanced_select_params.i18n_load_more},maximumSelected:function(e){return 1===e.maximum?rp_enhanced_select_params.i18n_selection_too_long_1:rp_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",e.maximum)},noResults:function(){return rp_enhanced_select_params.i18n_no_matches},searching:function(){return rp_enhanced_select_params.i18n_searching}}}}try{a(document.body).on("rp-enhanced-select-init",function(){a(":input.rp-enhanced-select").filter(":not(.enhanced)").each(function(){var e=a.extend({minimumResultsForSearch:10,allowClear:!!a(this).data("allow_clear"),placeholder:a(this).data("placeholder")},r());a(this).select2(e).addClass("enhanced")}),a(":input.rp-enhanced-select-nostd").filter(":not(.enhanced)").each(function(){var e=a.extend({minimumResultsForSearch:10,allowClear:!0,placeholder:a(this).data("placeholder")},r());a(this).select2(e).addClass("enhanced")}),a(":input.rp-category-search").filter(":not(.enhanced)").each(function(){var e=a.extend({allowClear:!!a(this).data("allow_clear"),placeholder:a(this).data("placeholder"),minimumInputLength:a(this).data("minimum_input_length")?a(this).data("minimum_input_length"):3,escapeMarkup:function(e){return e},ajax:{url:rp_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(e){return{term:e.term,action:"restaurantpress_json_search_categories",security:rp_enhanced_select_params.search_categories_nonce}},processResults:function(e){var t=[];return e&&a.each(e,function(e,n){t.push({id:n.term_id,text:n.formatted_name})}),{results:t}},cache:!0}},r());if(a(this).selectWoo(e).addClass("enhanced"),a(this).data("sortable")){var t=a(this),n=a(this).next(".select2-container").find("ul.select2-selection__rendered");n.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:!0,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){a(n.find(".select2-selection__choice").get().reverse()).each(function(){var e=a(this).data("data").id,n=t.find('option[value="'+e+'"]')[0];t.prepend(n)})}})}})}).trigger("rp-enhanced-select-init"),a("html").on("click",function(e){this===e.target&&a(".rp-enhanced-select, :input.rp-category-search").filter(".select2-hidden-accessible").selectWoo("close")})}catch(e){window.console.log(e)}});