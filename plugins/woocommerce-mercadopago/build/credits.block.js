(()=>{"use strict";const e=window.React,t=window.wp.element,c=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,o=window.wc.wcSettings,s="mercadopago_blocks_update_cart",a=({title:t,description:c,linkText:n,linkSrc:o})=>(0,e.createElement)("div",{className:"mp-checkout-pro-test-mode"},(0,e.createElement)("test-mode",{title:t,description:c,"link-text":n,"link-src":o})),i=({text:t,src:c,alt:n})=>(0,e.createElement)("div",{className:"mp-checkout-pro-redirect"},(0,e.createElement)("checkout-redirect-v2",{text:t,src:c,alt:n})),r=({title:t,items:c,titleAlign:n="center",listMode:o="image"})=>(0,e.createElement)("checkout-benefits",{title:t,"title-align":n,items:c,"list-mode":o}),l=({description:t,linkText:c,linkSrc:n,checkoutClass:o="pro"})=>(0,e.createElement)("div",{className:`mp-checkout-${o}-terms-and-conditions`},(0,e.createElement)("terms-and-conditions",{description:t,"link-text":c,"link-src":n})),m=(e,t,c)=>{const n={name:e,message:t,target:c,plugin:{version:wc_mercadopago_custom_checkout_params.plugin_version},platform:{name:"woocommerce",uri:window.location.href,version:wc_mercadopago_custom_checkout_params.platform_version,location:`${wc_mercadopago_custom_checkout_params.location}_${wc_mercadopago_custom_checkout_params.theme}`}};navigator.sendBeacon("https://api.mercadopago.com/v1/plugins/melidata/errors",JSON.stringify(n))};var d;const p="mp_checkout_blocks",_="woo-mercado-pago-credits",u=(0,o.getSetting)("woo-mercado-pago-credits_data",{}),k=(0,n.decodeEntities)(u.title)||"Checkout Creditss",E=c=>{(e=>{const{extensionCartUpdate:c}=wc.blocksCheckout,{eventRegistration:n,emitResponse:o}=e,{onPaymentSetup:a,onCheckoutSuccess:i,onCheckoutFail:r}=n;(0,t.useEffect)((()=>{((e,t)=>{e({namespace:s,data:{action:"add",gateway:t}})})(c,_);const e=a((()=>({type:o.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:s,data:{action:"remove",gateway:t}})})(c,_),e())}),[a]),(0,t.useEffect)((()=>{const e=i((async e=>{const t=e.processingResponse;return m("MP_CREDITS_BLOCKS_SUCCESS",t.paymentStatus,p),{type:o.responseTypes.SUCCESS}}));return()=>e()}),[i]),(0,t.useEffect)((()=>{const e=r((e=>{const t=e.processingResponse;return m("MP_CREDITS_BLOCKS_ERROR",t.paymentStatus,p),{type:o.responseTypes.FAIL,messageContext:o.noticeContexts.PAYMENTS}}));return()=>e()}),[r])})(c);const{test_mode_title:n,test_mode_description:o,test_mode_link_text:d,test_mode_link_src:k,checkout_benefits_title:E,checkout_benefits_items:g,checkout_redirect_text:h,checkout_redirect_src:w,checkout_redirect_alt:S,terms_and_conditions_description:C,terms_and_conditions_link_text:v,terms_and_conditions_link_src:y,test_mode:f}=u.params;return(0,e.createElement)("div",{className:"mp-checkout-container"},(0,e.createElement)("div",{className:"mp-checkout-pro-container"},(0,e.createElement)("div",{className:"mp-checkout-pro-content"},f?(0,e.createElement)(a,{title:n,description:o,linkText:d,linkSrc:k}):null,(0,e.createElement)(r,{title:E,items:g,titleAlign:"left",listMode:"count"}),(0,e.createElement)(i,{text:h,src:w,alt:S}))),(0,e.createElement)(l,{description:C,linkText:v,linkSrc:y}))},g={name:_,label:(0,e.createElement)((t=>{const{PaymentMethodLabel:c}=t.components,o=(0,n.decodeEntities)(u?.params?.fee_title||""),s=`${k} ${o}`;return(0,e.createElement)(c,{text:s})}),null),content:(0,e.createElement)(E,null),edit:(0,e.createElement)(E,null),canMakePayment:()=>!0,ariaLabel:k,supports:{features:null!==(d=u?.supports)&&void 0!==d?d:[]}};(0,c.registerPaymentMethod)(g)})();