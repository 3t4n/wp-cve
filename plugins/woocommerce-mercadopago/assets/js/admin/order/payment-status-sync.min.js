!function(){let e=!0;function t(t,s){const a=document.createElement("div"),c=document.getElementById("mp-payment-status-container"),m=document.getElementById("mp-payment-status-content"),r="error"===s;if(a.className=r?"mp-alert mp-alert-danger mp-text-center mp-card-body":"mp-alert mp-alert-success mp-text-center mp-card-body",a.appendChild(document.createTextNode(t)),c.insertBefore(a,m),r)return o(!1),setTimeout(n,3e3,s),void(e=!0);location.reload()}function n(){document.querySelector(".mp-alert").remove()}function o(e){const t=document.querySelector("#mp-sync-payment-status-button span"),n=document.querySelector(".mp-status-sync-metabox-small-loader");t&&n&&(e?(t.style.display="none",n.style.display="block"):(t.style.display="block",n.style.display="none"))}window.addEventListener("load",(()=>{const n=document.getElementById("mp-sync-payment-status-button");n&&(n.onclick=()=>(o(!0),void(e&&(e=!1,jQuery.post(ajaxurl,{action:"mp_sync_payment_status",nonce:mp_payment_status_sync_params.nonce,order_id:mp_payment_status_sync_params.order_id},(function(){})).done((function(e){t(e.data,!1===e.success?"error":"success")})).fail((function(e){t(e.responseJSON.data,"error")}))))));const s=document.getElementById("woocommerce-order-data"),a=document.getElementById("mp_payment_status_sync"),c=document.querySelector("#mp_payment_status_sync > div.postbox-header > h2");s&&a&&(s.after(a),c.style.fontFamily='"Lato", sans-serif',c.style.fontSize="18px")}))}();