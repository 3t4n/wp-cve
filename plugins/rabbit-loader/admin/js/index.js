!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RLAdmin=t():e.RLAdmin=t()}(this,(()=>(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var t="disabled";function o(e,o){var a=jQuery(e).html();return jQuery(e).html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> '.concat(o)).attr(t,t).data("otext",a)}function a(e){var o=jQuery(e).data("otext");return jQuery(e).html(o).removeAttr(t)}let n,r,i,l,d,c=Object,s=c.getPrototypeOf,p=document,u={isConnected:1},f={},g=s(u),m=s(s),b=(e,t,o,a)=>(e??(setTimeout(o,a),new Set)).add(t),h=(e,t,o)=>{let a=i;i=t;try{return e(o)}catch(e){return console.error(e),o}finally{i=a}},_=e=>e.filter((e=>e._dom?.isConnected)),v=e=>d=b(d,e,(()=>{for(let e of d)e._bindings=_(e._bindings),e._listeners=_(e._listeners);d=n}),1e3),y={get val(){return i?.add(this),this._val},get oldVal(){return i?.add(this),this._oldVal},set val(e){let t=this;if(e!==t._val){t._val=e;let o=[...t._listeners=_(t._listeners)];for(let e of o)S(e.f,e.s,e._dom),e._dom=n;t._bindings.length?r=b(r,t,C):t._oldVal=e}}},w=e=>({__proto__:y,_val:e,_oldVal:e,_bindings:[],_listeners:[]}),x=e=>s(e??0)===y,M=(e,t)=>{let o=new Set,a={f:e},n=l;l=[];let r=h(e,o,t);r=(r??p).nodeType?r:new Text(r);for(let e of o)v(e),e._bindings.push(a);for(let e of l)e._dom=r;return l=n,a._dom=r},S=(e,t=w(),o)=>{let a=new Set,n={f:e,s:t};n._dom=o??l?.push(n)??u,t.val=h(e,a);for(let e of a)v(e),e._listeners.push(n);return t},j=(e,...t)=>{for(let o of t.flat(1/0)){let t=s(o??0),a=t===y?M((()=>o.val)):t===m?M(o):o;a!=n&&e.append(a)}return e},z=e=>new Proxy(((t,...o)=>{let[a,...r]=s(o[0]??0)===g?o:[{},...o],i=e?p.createElementNS(e,t):p.createElement(t);for(let[e,o]of c.entries(a)){let a=t=>t?c.getOwnPropertyDescriptor(t,e)??a(s(t)):n,r=t+","+e,l=f[r]??(f[r]=a(s(i))?.set??0),d=l?l.bind(i):i.setAttribute.bind(i,e),p=s(o??0);p===y?M((()=>(d(o.val),i))):p!==m||e.startsWith("on")&&!o._isBindingFunc?d(o):M((()=>(d(o()),i)))}return j(i,...r)}),{get:(e,t)=>e.bind(n,t)}),P=(e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),C=()=>{let e=[...r].filter((e=>e._val!==e._oldVal));r=n;for(let t of new Set(e.flatMap((e=>e._bindings=_(e._bindings)))))P(t._dom,M(t.f,t._dom)),t._dom=n;for(let t of e)t._oldVal=t._val};const T={add:j,_:e=>(e._isBindingFunc=1,e),tags:z(),tagsNS:z,state:w,val:e=>x(e)?e.val:e,oldVal:e=>x(e)?e.oldVal:e,derive:S,hydrate:(e,t)=>P(e,M(t,e))};var k="rabbitloader_common_msg_modal",E=T.tags.div,A=E({id:"".concat(k),style:"position: fixed; top: 50px; left: 50%; background-color: #ffffff; border-radius: 4px; box-shadow: 0px 0px 120px #000; min-width: 400px; margin-left: -200px; text-align:center; z-index: 99999999999;"}),D=E({id:"".concat("rabbitloader_common_msg_body"),style:"padding: 20px;"}),I=E({id:"rabbitloader_common_msg_footer",style:"text-align: center; color: #0811fb; cursor: pointer; padding: 10px; background-color: #f4f4f4; border-radius: 4px;",onclick:function(){A.style.display="none"}},"Close");function L(){document.getElementById(k)?A.style.display="block":T.add(document.body,T.add(A,D,I))}function O(e){A.style.width=e+"px",A.style.marginLeft=-1*e/2+"px"}function V(e,t){L();var o=t?"0px":"20px";D.style.padding=o,D.innerHTML=e,O(400)}function B(e){var t='<iframe src="https://www.youtube.com/embed/'.concat(e,'" width="560px" height="315px" style="max-width:100%" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>');L(),D.style.padding="0px",D.innerHTML=t,O(560)}function Q(e,t,n){var r=t?"<h2>'Me' mode on</h2><br>Me mode is for testing and debugging. Regular visitors will continue to see the original webpages without any affect of RabbitLoader. Only you can access the RabbitLoader optimized pages by appending \"?rltest=1\" to  URLs.":"<h2>'Everyone' mode on</h2><br>Use it if, you are ready to show the optimized pages to everyone. ";e&&o("#".concat(e),"Enabling Me Mode...");var i=new FormData;i.append("action","rabbitloader_mode_change"),i.append("private_mode",t?1:0),i.append("rl_nonce",rabbitloader_local_vars.rl_nonce),fetch(ajaxurl,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(t){console.log(t),t&&t.result?(V(r),n(!0)):(V("Settings could not be saved"),n(!1)),e&&a("#".concat(e))}))}var W=T.tags,H=W.div,R=W.h5,F=W.h6,Y=W.img,G=W.small,N=W.span;function U(){var e=document.getElementById("rl_crash_course_videos");if(e){var t=H({class:"row"},R({class:"mb-3"},"Crash Courses"));[["rJdgdkiADB4","Verification"],["QGAuLgOjCu0","Purging Cache"],["ol4nuYuYTeM","Me Mode"],["lC0vWlugHJ4","Image Settings"],["z6fuEHr6lYs","CSS Settings"],["QxwaDxtRw-I","Delegate Access"],["uBPMn2mvnrs","Linking Cloudflare"]].forEach((function(e){var o,a,n,r,i;T.add(t,(o=e[1],a=e[0],n="https://img.youtube.com/vi/".concat(a,"/mqdefault.jpg"),H({class:"col-sm-12 col-md-6 col-lg-4 mb-4 text-secondary text-center rl-div-video rl-cp",onclick:function(){return B(a)}},F({class:"mb-3"},o),Y({loading:"lazy",src:n,alt:"-"}),((r=T.tagsNS("http://www.w3.org/2000/svg")).circle,i=r.path,(0,r.svg)({width:"16",height:"16",fill:"currentColor",class:"bi bi-play-circle rl-video-play ",viewBox:"0 0 16 16"},i({d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),i({d:"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445"}))))))})),T.add(e,H({class:"row mb-4"},H({class:"col"},H({class:"bg-white rounded p-4"},t))))}}function q(){var e=document.querySelectorAll("primer");e&&e.forEach((function(e){var t=e.dataset.videoId,o=e.dataset.align,a=e.dataset.duration,n=a<=100?" "+a+" seconds primer":" "+Math.round(a/60)+" min primer",r=H({class:"col-12 mt-2 "+("center"==o?"text-center":""),onclick:function(){return B(t)}},G({class:"text-secondary rl-cp "},N({class:"dashicons dashicons-video-alt3 mt-1"}),n));T.add(e,r)}))}function J(e){e.preventDefault();var t=jQuery(e.currentTarget);o(t,"Purging...");var n=rabbitloader_local_vars.post_id?rabbitloader_local_vars.post_id:"",r=new FormData;r.append("action","rabbitloader_ajax_purge"),r.append("post_id",n),r.append("rl_nonce",rabbitloader_local_vars.rl_nonce),fetch(rabbitloader_local_vars.admin_ajax,{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){e&&e.result?V(n?"Purge completed for page - ".concat(document.title):"Purge completed"):V("Purge failed. Please reload the page and try again."),a(t)}))}return function(){var e=window.document,t=/p/.test(e.readyState),o=!1,a=window.rabbitloader_local_vars,n="getAttribute",r="localStorage",i="preventDefault",l="click",d=window.jQuery,c="rabbitloader_ajax_";function s(t){var o=e.getElementById(t);if(o){var a={percent:o[n]("data-percent")||15,size:o[n]("data-size")||150,lineWidth:o[n]("data-line")||10,rotate:o[n]("data-rotate")||0,ocolor:o[n]("data-ocolor")||"#f0fff7",icolor:o[n]("data-icolor")||"#0cce6b",fsize:o[n]("data-fsize")||"60px"},r=e.createElement("canvas"),i=e.createElement("span");i.textContent=a.percent,i.style.lineHeight=a.size+"px",i.style.width=a.size+"px",i.style.fontSize=a.fsize,i.style.color=a.icolor,"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(r);var l=r.getContext("2d");r.width=r.height=a.size,o.style.width=a.size+"px",o.style.height=a.size+"px",o.appendChild(i),o.appendChild(r),l.translate(a.size/2,a.size/2),l.rotate((a.rotate/180-.5)*Math.PI);var d=(a.size-a.lineWidth)/2,c=function(e,t,o){o=Math.min(Math.max(0,o||1),1),l.beginPath(),l.arc(0,0,d,0,2*Math.PI*o,!1),l.strokeStyle=e,l.lineCap="round",l.lineWidth=t,l.stroke()};a.percent=parseFloat(a.percent),c(a.ocolor,a.lineWidth,1),c(a.icolor,a.lineWidth,a.percent/100)}}function p(){var e=c+"cron",t=window[r].getItem(e),o=Date.now();if(!(t&&(o-new Date(t))/1e3<180)){window[r].setItem(e,o);var n=new FormData;n.append("action",e),n.append("rl_nonce",a.rl_nonce),fetch(a.admin_ajax,{method:"POST",body:n})}}function u(e){var t=d(e.target).attr("title-html");t||(t=d(e.target).attr("title")),t&&V(t)}function f(e){var t=!d(e.target).is(":checked");V("Updating..."),Q("",t,(function(){}))}function g(){o||(o=!0,s("score_circle_best"),s("warming_progress_bar"),d(".rabbitloader_purge_page").on(l,J),d("#rabbitloader_purge_all").on(l,J),window.setTimeout(p,1e3),window.setInterval(p,1e3*(Math.floor(301*Math.random())+300)),d(e).on(l,".tpopup",u),d(e).on("change","#rl_chk_public",f),d(e).on("click","#rl_me_learn_more",(function(){B("ol4nuYuYTeM")})),function(){var e="rabbit-loader",t='tr[data-slug="'.concat(e,'"] #deactivate-').concat(e);if(0!=d(t).length){var o=d(t).attr("href"),a="".concat(e,"-me-mode-popup"),n="".concat(e,"-en"),r="".concat(e,"-de"),c='<div id="'.concat(a,'" style="display: none; position: absolute; white-space: normal; max-width: 350px; width: 350px; background: #fcf9e8; z-index: 10001; border: 4px solid #dba617; box-shadow: rgba(0, 0, 0, 0.6) 0px 0px 30px 0px; left: -10px; text-align: center; padding:20px;"><p class="">').concat(rl_de_popup.pop_msg,'</p><div style="margin-top:25px;"><a id="').concat(r,'" class="button button-secondary alignleft" href="#">').concat(rl_de_popup.btn_de,'</a><button id="').concat(n,'" class="button button-primary alignright">').concat(rl_de_popup.btn_en,"</button></div></div>");d(t).parent().append(c),d(t).on(l,(function(e){e[i](),d("#"+a).show();var t=d(window).scrollTop()+d(window).height();d("#"+a).offset().top+d("#"+a).outerHeight(!0)>t&&d("html,body").animate({scrollTop:d("#"+a).offset().top-(d(window).height()-d("#"+a).outerHeight(!0)-10)},200),d("#".concat(r)).attr("href",o)})),d("#".concat(n)).on(l,(function(e){e[i](),e.stopPropagation(),d(t).unbind(l),Q(n,!0,(function(e){e&&d("#"+a).hide()}))}))}}(),U(),q())}t?g():window.addEventListener("load",g)}(),e})()));
//# sourceMappingURL=index.js.map