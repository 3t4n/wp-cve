{"version":3,"sources":["../../src/js/ui.js"],"names":[],"mappings":"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","file":"ui.js","sourcesContent":["/**\n * UI\n */\n(function( $ )\n{\n\t\"use strict\";\n\n\twindow.wdc = window.wdc || {};\n\n\tfunction UI( elem, options )\n\t{\n\t\tthis.$elem   = $( elem );\n\t\tthis.options = $.extend( {}, UI.defaultOptions, options );\n\t\n\t\tthis.$submit    = this.$elem.find( ':input[type=\"submit\"]' );\t\n\t\tthis.fieldItems = {};\n\t\tthis.isLoaded   = false;\n\t\tthis.isSaved    = false;\n\n\t\tthis.setSaved( 'saved' );\n\n\t\tvar _this = this;\n\n\t\tthis.$elem.on( 'click', '.wdc-add-condition-group', function( event )\n\t\t{\n\t\t\tvar $group = _this.createConditionGroup();\n\n\t\t\tvar $condition = _this.createCondition( { group : $group.data( 'id' ) } );\n\n\t\t\t$group.find( '.wdc-conditions' ).append( $condition );\n\n\t\t\t_this.$elem.find( '.wdc-condition-groups' ).append( $group );\n\t\t});\n\n\t\tthis.$elem.on( 'click', '.wdc-add-condition', function( event )\n\t\t{\n\t\t\tvar $condition = $( this ).closest( '.wdc-condition' );\n\t\t\tvar $group     = $condition.closest( '.wdc-condition-group' );\n\n\t\t\tvar $newCondition = _this.createCondition( { group : $group.data( 'id' ) } );\n\n\t\t\t$newCondition.insertAfter( $condition );\n\t\t});\n\n\t\tthis.$elem.on( 'click', '.wdc-remove-condition', function( event )\n\t\t{\n\t\t\tvar $condition = $( this ).closest( '.wdc-condition' );\n\t\t\tvar $group     = $condition.closest( '.wdc-condition-group' );\n\n\t\t\t$condition.remove();\n\n\t\t\tif ( 0 == $group.find( '.wdc-condition' ).length ) \n\t\t\t{\n\t\t\t\t$group.remove();\n\t\t\t}\n\t\t});\n\n\t\tthis.$elem.on( 'change', '.wdc-type', function( event )\n\t\t{\n\t\t\tvar $condition = $( this ).closest( '.wdc-condition' );\n\n\t\t\t_this.updateConditionFields( $condition );\n\t\t});\n\n\t\tthis.$elem.on( 'change', '.wdc-type, .wdc-operator, .wdc-value', function( event )\n\t\t{\n\t\t\t_this.setSaved( 'save' );\n\t\t});\n\n\t\tthis.$elem.on( 'submit', 'form', function( event )\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\t_this.setSaved( 'saving' );\n\n\t\t\t$.post( ajaxurl, $( this ).serialize(), function( response )\n\t\t\t{\n\t\t\t\tconsole.log( response );\n\n\t\t\t\t_this.setSaved( 'saved' );\n\t\t\t});\n\t\t});\n\n\t\tthis.$elem.on( 'DOMNodeInserted DOMNodeRemoved', function( event )\n\t\t{\n\t\t\tvar $elem = $( event.target );\n\n\t\t\tif ( _this.$elem.find( '.wdc-condition' ).length ) \n\t\t\t{\n\t\t\t\t_this.$elem.addClass( 'wdc-has-conditions' );\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t_this.$elem.removeClass( 'wdc-has-conditions' );\n\t\t\t}\n\n\t\t\tif ( _this.isLoaded && ( $elem.is( '.wdc-condition-group' ) || $elem.is( '.wdc-condition' ) ) ) \n\t\t\t{\n\t\t\t\t_this.setSaved( 'save' );\n\t\t\t}\n\t\t});\n\n\t\tthis.preload();\n\t}\n\n\tUI.defaultOptions = \n\t{\n\t\twidget    : '',\n\t\tnonceName : '',\n\t\tnonce     : '',\n\t};\n\n\tUI.generateId = function()\n\t{\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function( c ) \n\t\t{\n    \t\tvar r = Math.random() * 16 | 0, v = c == 'x' ? r : ( r & 0x3 | 0x8 );\n    \t\t\n    \t\treturn v.toString( 16 );\n  \t\t});\n\t};\n\n\tUI.populateSelectField = function( $select, items )\n\t{\n\t\t$select.empty();\n\n\t\t$.each( items, function( i, item )\n\t\t{\n\t\t\titem = $.extend( \n\t\t\t{\n\t\t\t\tid       : '',\n\t\t\t\ttext     : '',\n\t\t\t\tselected : false,\n\t\t\t}, item );\n\n\t\t\tif ( typeof item.children !== 'undefined' ) \n\t\t\t{\n\t\t\t\tvar $group = $( '<optgroup></optgroup>' );\n\n\t\t\t\t$group.attr( 'label', item.text );\n\n\t\t\t\tUI.populateSelectField( $group, item.children );\n\n\t\t\t\t$select.append( $group );\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar $option = $( '<option></option>' );\n\n\t\t\t\t$option\n\t\t\t\t\t.val( item.id )\n\t\t\t\t\t.text( item.text )\n\t\t\t\t\t.prop( 'selected', item.selected ? true : false );\n\n\t\t\t\t$select.append( $option );\n\t\t\t}\n\n\t\t});\n\t};\n\n\tUI.setSelected = function( $select, selected )\n\t{\n\t\t$select.find( 'option' ).filter( function()\n\t\t{\n\t\t\treturn selected == $( this ).val();\n\n\t\t}).prop( 'selected', true );\n\t};\n\n\tUI.prototype.trigger = function() \n\t{\n\t\targuments[0] = 'wdc.' + arguments[0];\n\n\t\tthis.$elem.trigger.apply( this.$elem, arguments );\n\t};\n\n\tUI.prototype.on = function() \n\t{\n\t\targuments[0] = 'wdc.' + arguments[0];\n\t\t\n\t\tthis.$elem.on.apply( this.$elem, arguments );\n\t};\n\n\tUI.prototype.createConditionGroup = function( data ) \n\t{\n\t\tdata = $.extend(\n\t\t{\n\t\t\tid : UI.generateId(),\n\t\t}, data );\n\n\t\tvar $elem = $( wp.template( 'wdc-condition-group' )(\n\t\t{\n\t\t\tid : data.id,\n\t\t}));\n\n\t\treturn $elem;\n\t};\n\n\tUI.prototype.createCondition = function( data ) \n\t{\n\t\tdata = $.extend(\n\t\t{\n\t\t\tid       : UI.generateId(),\n\t\t\ttype    : '',\n\t\t\toperator : '',\n\t\t\tvalue    : '',\n\t\t\tgroup    : '',\n\t\t}, data );\n\n\t\tvar $elem = $( wp.template( 'wdc-condition' )(\n\t\t{\n\t\t\tid    : data.id,\n\t\t\tgroup : data.group,\n\t\t}));\n\n\t\tUI.setSelected( $elem.find( '.wdc-type' ), data.type );\n\n\t\tthis.updateConditionFields( $elem,\n\t\t{\n\t\t\toperator : data.operator,\n\t\t\tvalue    : data.value,\n\t\t});\n\n\t\treturn $elem;\n\t};\n\n\tUI.prototype.updateConditionFields = function( $condition, selected ) \n\t{\n\t\tselected = $.extend( {}, selected );\n\n\t\tvar $type    = $condition.find( '.wdc-type' );\n\t\tvar $operator = $condition.find( '.wdc-operator' );\n\t\tvar $value    = $condition.find( '.wdc-value' );\n\n\t\t// Disable fields\n\t\t$operator.prop( 'disabled', true );\n\t\t$value.prop( 'disabled', true );\n\n\t\t// Load field items\n\t\tthis.getConditionFieldItems( $condition, function( items )\n\t\t{\n\t\t\titems = $.extend( {}, items );\n\n\t\t\t// Populate fields\n\t\t\tUI.populateSelectField( $operator, items.operator );\n\t\t\tUI.populateSelectField( $value, items.value );\n\n\t\t\t// Set selected\n\t\t\tif ( typeof selected.operator !== 'undefined' ) UI.setSelected( $operator, selected.operator );\n\t\t\tif ( typeof selected.value    !== 'undefined' ) UI.setSelected( $value, selected.value );\n\n\t\t\t// Enable fields\n\t\t\t$operator.prop( 'disabled', false );\n\t\t\t$value.prop( 'disabled', false );\n\t\t});\n\t};\n\n\tUI.prototype.getConditionFieldItems = function( $condition, callback ) \n\t{\n\t\tvar type = $condition.find( '.wdc-type' ).val();\n\n\t\t// Check if already loaded\n\n\t\tif ( typeof this.fieldItems[ type ] !== 'undefined' ) \n\t\t{\n\t\t\t// Callback\n\t\t\tcallback( this.fieldItems[ type ] );\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Load field items\n\n\t\tvar _this = this;\n\n\t\tvar data = this.prepareAjax( \n\t\t{\n\t\t\taction : 'wdc_ui_get_condition_field_items',\n\t\t\ttype  : type,\n\t\t});\n\n\t\t$.post( ajaxurl, data, function( items )\n\t\t{\n\t\t\tconsole.log( items );\n\n\t\t\t// Save items\n\t\t\t_this.fieldItems[ type ] = $.extend( {}, items );\n\n\t\t\t// Callback\n\t\t\tcallback( _this.fieldItems[ type ] );\n\t\t});\n\t};\n\n\tUI.prototype.preload = function() \n\t{\n\t\tvar _this = this;\n\n\t\tthis.$elem.addClass( 'wdc-loading' );\n\n\t\tvar data = this.prepareAjax( \n\t\t{\n\t\t\taction : 'wdc_ui_preload',\n\t\t\twidget : this.options.widget,\n\t\t});\n\n\t\t$.post( ajaxurl, data, function( response )\n\t\t{\n\t\t\tconsole.log( response );\n\n\t\t\t_this.fieldItems = $.extend( {}, response.fieldItems );\n\n\t\t\t$.each( response.conditions, function( groupId, conditions )\n\t\t\t{\n\t\t\t\tvar $group = _this.createConditionGroup( { id : groupId } );\n\n\t\t\t\t$.each( conditions, function( conditionId, condition )\n\t\t\t\t{\n\t\t\t\t\tvar $condition = _this.createCondition( \n\t\t\t\t\t{ \n\t\t\t\t\t\tid       : conditionId,\n\t\t\t\t\t\ttype    : condition.type,\n\t\t\t\t\t\toperator : condition.operator,\n\t\t\t\t\t\tvalue    : condition.value,\n\t\t\t\t\t\tgroup    : groupId,\n\t\t\t\t\t});\n\n\t\t\t\t\t$group.find( '.wdc-conditions' ).append( $condition );\n\t\t\t\t});\n\n\t\t\t\t_this.$elem.find( '.wdc-condition-groups' ).append( $group );\n\t\t\t});\n\n\t\t\t_this.$elem.removeClass( 'wdc-loading' );\n\n\t\t\t_this.isLoaded = true;\n\n\t\t\t_this.trigger( 'preloadComplete' );\n\t\t});\n\t};\n\n\tUI.prototype.setSaved = function( state ) \n\t{\n\t\t// Backup submit text\n\t\tif ( typeof this.$submit.data( 'save' ) === 'undefined' ) \n\t\t{\n\t\t\tthis.$submit.data( 'save', this.$submit.text() );\n\t\t}\n\n\t\tthis.isSaved = false;\n\n\t\tswitch ( state )\n\t\t{\n\t\t\tcase 'save' :\n\n\t\t\t\tthis.$submit\n\t\t\t\t\t.text( this.$submit.data( 'save' ) )\n\t\t\t\t\t.prop( 'disabled', false )\n\t\t\t\t\t\t.siblings( '.spinner' )\n\t\t\t\t\t\t\t.removeClass( 'is-active' );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'saved' :\n\n\t\t\t\tthis.$submit\n\t\t\t\t\t.text( this.$submit.data( 'saved' ) )\n\t\t\t\t\t.prop( 'disabled', true )\n\t\t\t\t\t\t.siblings( '.spinner' )\n\t\t\t\t\t\t\t.removeClass( 'is-active' );\n\n\t\t\t\tthis.isSaved = true;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'saving' :\n\n\t\t\t\tthis.$submit\n\t\t\t\t\t.text( this.$submit.data( 'save' ) )\n\t\t\t\t\t.prop( 'disabled', true )\n\t\t\t\t\t\t.siblings( '.spinner' )\n\t\t\t\t\t\t\t.addClass( 'is-active' );\n\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tUI.prototype.prepareAjax = function( data ) \n\t{\n\t\tdata = $.extend( {}, data );\n\n\t\tif ( this.options.nonceName ) \n\t\t{\n\t\t\tdata[ this.options.nonceName ] = this.options.nonce;\n\t\t}\n\n\t\treturn data;\n\t};\n\t\n\twindow.wdc.ui = UI;\n\n})( jQuery );\n\n/**\n * Open UI\n */\n(function( $ )\n{\n\t\"use strict\";\n\n\t$( document.body ).on( 'click', '.wdc-open-ui', function( event )\n\t{\n\t\tvar $button  = $( this );\n\t\tvar $spinner = $button.siblings( '.spinner' );\n\n\t\t$spinner.addClass( 'wdc-is-active' );\n\t\t\n\t\t// Get content\n\t\tvar content = wp.template( 'wdc-ui' )(\n\t\t{\n\t\t\twidget : $button.data( 'widget' ),\n\t\t});\n\n\t\t// Instantiate\n\t\tvar ui = new wdc.ui( content, \n\t\t{\n\t\t\twidget    : $button.data( 'widget' ),\n\t\t\tnonceName : $button.data( 'noncename' ),\n\t\t\tnonce     : $button.data( 'nonce' ),\n\t\t});\n\n\t\t// Preload complete\n\t\tui.on( 'preloadComplete', function( event )\n\t\t{\n\t\t\t$spinner.removeClass( 'wdc-is-active' );\n\n\t\t\t// Open content inside modal\n\t\t\t$.featherlight( ui.$elem, \n\t\t\t{\n\t\t\t\tnamespace    : 'wdc-modal',\n\t\t\t\tpersist      : true,\n\t\t\t\tcloseOnClick : false,\n\t\t\t\tcloseOnEsc   : true,\n\t\t\t\t\n\t\t\t\tafterContent : function()\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t},\n\n\t\t\t\tbeforeClose : function()\n\t\t\t\t{\n\t\t\t\t\t// Unsaved data confirmation\n\t\t\t\t\tif ( ! ui.isSaved && wdc.messages.notSaved ) \n\t\t\t\t\t{\n\t\t\t\t\t\treturn window.confirm( wdc.messages.notSaved );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t});\n\t\n})( jQuery );\n"]}