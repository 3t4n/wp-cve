{"version":3,"file":"./cart-checkout-blocks/index.js","mappings":"iKAAA,MAAMA,EAAe,CACpBC,UAAe,EACfC,eAAe,EACfC,WAAe,CAAC,EAChBC,SAAe,CAAC,GAGJC,EAAUC,IAAU,IAAAC,EAAA,MAAM,IACnCP,KACoD,QAAvDO,EAAKD,IAAc,2CAAoC,IAAAC,EAAAA,EAAI,CAAC,EAC5D,EAEYC,EAAgBF,IAC5B,MAAM,SAAEL,EAAQ,cAAEC,EAAa,WAAEC,GAAeE,EAASC,GACzD,OAAOL,GAAYC,EAAgBC,EAAa,CAAC,CAAC,EAGtCM,EAAcH,IAC1B,MAAM,cAAEJ,EAAa,SAAEE,GAAaC,EAASC,GAC7C,OAAOJ,EAAgBE,EAAW,CAAC,CAAC,EAGxBM,EAA2BA,CAAEC,EAAUC,KACnD,MAAM,UAAEC,GAAiCD,GACnC,WAAEN,EAAYQ,IAAKC,GAAgBJ,GACnC,cAAET,GAAgB,GAAiBG,EAASC,GAElD,IAAMJ,EACL,OAAO,EAGR,MAAM,gBAAEc,EAAkB,IAAOR,EAAeF,GAShD,OAP+BU,EAAgBC,KAAKH,GAAOD,EAAUK,MAAMC,GAAKA,EAAEL,MAAQA,MAAQM,OAAQC,SAC9DD,QAAQE,IACnD,MAAM,SAAEC,GAAW,GAAUd,EAAaa,GAAMhB,YAChD,OAAQiB,CAAQ,IAEkCN,KAAKE,GAAKA,EAAEL,MAEjCU,QAAUT,CAAW,C,kBCxCpDU,EAAOC,QAAUC,OAAW,GAAkB,c,GCC1CC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,CAAC,GAOX,OAHAO,EAAoBH,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,OACf,CCrBAG,EAAoBK,EAAI,SAAST,GAChC,IAAIU,EAASV,GAAUA,EAAOW,WAC7B,WAAa,OAAOX,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAI,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAN,EAAoBQ,EAAI,SAASX,EAASa,GACzC,IAAI,IAAIzB,KAAOyB,EACXV,EAAoBW,EAAED,EAAYzB,KAASe,EAAoBW,EAAEd,EAASZ,IAC5E2B,OAAOC,eAAehB,EAASZ,EAAK,CAAE6B,YAAY,EAAMC,IAAKL,EAAWzB,IAG3E,ECPAe,EAAoBW,EAAI,SAASK,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,E,mBCGtGI,EAAAA,EAAAA,yBAAyB,mCAAoC,CAC5DC,cAAoBA,CAAEC,EAAO9C,EAAY+C,KACxC,MAAM,SAAEpD,GAAW,EAAK,cAAEC,GAAgB,IAAcG,EAAAA,EAAAA,IAASC,IAC3D,cAAEgD,GAAgB,IAAgC9C,EAAAA,EAAAA,IAAeF,IACjE,SAAEiB,GAAW,EAAK,kBAAEgC,GAAoB,IAAU9C,EAAAA,EAAAA,IAAaH,IAC/D,KAAEM,EAAI,SAAED,GAA0C0C,EAExD,MAAO,CACND,EACEnD,EAAW,sBAAwB,GACnCC,EAAgB,4BAA8B,GAC9CoD,EAAgB,4BAA8B,GAC9C/B,EAAW,sBAAwB,GACnCgC,EAAoB,gCAAkC,IACtD7C,EAAAA,EAAAA,IAA0BC,EAAUC,GAAS,yCAA2C,IACzFQ,OAAQC,SAAUmC,KAAM,IAAK,EAEhCC,mBAAoBA,CAAEL,EAAO9C,KAC5B,MAAM,cAAEJ,GAAgB,IAAUG,EAAAA,EAAAA,IAASC,GAC3C,OAAOJ,GAAwBkD,CAAK,EAErCM,SAAoBA,CAAEN,EAAO9C,KAC5B,MAAM,cAAEqD,GAAgB,EAAK,KAAEC,EAAO,KAAOnD,EAAAA,EAAAA,IAAaH,GAC1D,OAAOqD,EAAgBC,EAAOR,CAAK,G","sources":["webpack://yith-woocommerce-product-bundles/./assets/js/src/cart-checkout-blocks/utils.js","webpack://yith-woocommerce-product-bundles/external window [\"wc\",\"blocksCheckout\"]","webpack://yith-woocommerce-product-bundles/webpack/bootstrap","webpack://yith-woocommerce-product-bundles/webpack/runtime/compat get default export","webpack://yith-woocommerce-product-bundles/webpack/runtime/define property getters","webpack://yith-woocommerce-product-bundles/webpack/runtime/hasOwnProperty shorthand","webpack://yith-woocommerce-product-bundles/./assets/js/src/cart-checkout-blocks/index.js"],"sourcesContent":["const DEFAULT_DATA = {\n\tisBundle     : false,\n\tisBundledItem: false,\n\tbundleData   : {},\n\titemData     : {}\n}\n\nexport const getData = extensions => ( {\n\t...DEFAULT_DATA,\n\t...( extensions?.[ 'yith-woocommerce-product-bundles' ] ?? {} )\n} );\n\nexport const getBundleData = extensions => {\n\tconst { isBundle, isBundledItem, bundleData } = getData( extensions );\n\treturn isBundle || isBundledItem ? bundleData : {};\n};\n\nexport const getItemData = extensions => {\n\tconst { isBundledItem, itemData } = getData( extensions );\n\treturn isBundledItem ? itemData : {};\n};\n\nexport const isLastVisibleBundledItem = ( cartItem, cart ) => {\n\tconst { cartItems }                    = cart;\n\tconst { extensions, key: cartItemKey } = cartItem;\n\tconst { isBundledItem = false }        = getData( extensions );\n\n\tif ( !isBundledItem ) {\n\t\treturn false;\n\t}\n\n\tconst { bundledItemKeys = [] } = getBundleData( extensions );\n\n\tconst bundledItems           = bundledItemKeys.map( key => cartItems.find( _ => _.key === key ) ).filter( Boolean );\n\tconst visibleBundledItems    = bundledItems.filter( item => {\n\t\tconst { isHidden = false } = getItemData( item?.extensions );\n\t\treturn !isHidden;\n\t} );\n\tconst visibleBundledItemKeys = visibleBundledItems.map( _ => _.key );\n\n\treturn visibleBundledItemKeys.pop() === cartItemKey;\n}","module.exports = window[\"wc\"][\"blocksCheckout\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import { registerCheckoutFilters }                                       from '@woocommerce/blocks-checkout';\nimport { getBundleData, getData, getItemData, isLastVisibleBundledItem } from './utils';\n\nregisterCheckoutFilters( 'yith-woocommerce-product-bundles', {\n\tcartItemClass     : ( value, extensions, arg ) => {\n\t\tconst { isBundle = false, isBundledItem = false }     = getData( extensions );\n\t\tconst { hasFixedPrice = false }                       = getBundleData( extensions );\n\t\tconst { isHidden = false, isThumbnailHidden = false } = getItemData( extensions );\n\t\tconst { cart, cartItem }                              = arg;\n\n\t\treturn [\n\t\t\tvalue,\n\t\t\t!!isBundle ? 'yith-wcpb-is-bundle' : '',\n\t\t\t!!isBundledItem ? 'yith-wcpb-is-bundled-item' : '',\n\t\t\t!!hasFixedPrice ? 'yith-wcpb-has-fixed-price' : '',\n\t\t\t!!isHidden ? 'yith-wcpb-is-hidden' : '',\n\t\t\t!!isThumbnailHidden ? 'yith-wcpb-is-thumbnail-hidden' : '',\n\t\t\t!!isLastVisibleBundledItem( cartItem, cart ) ? 'yith-wcpb-is-last-visible-bundled-item' : ''\n\t\t].filter( Boolean ).join( ' ' );\n\t},\n\tshowRemoveItemLink: ( value, extensions ) => {\n\t\tconst { isBundledItem = false } = getData( extensions );\n\t\treturn isBundledItem ? false : value;\n\t},\n\titemName          : ( value, extensions ) => {\n\t\tconst { hasCustomName = false, name = '' } = getItemData( extensions );\n\t\treturn hasCustomName ? name : value;\n\t}\n} );"],"names":["DEFAULT_DATA","isBundle","isBundledItem","bundleData","itemData","getData","extensions","_extensions$yithWooc","getBundleData","getItemData","isLastVisibleBundledItem","cartItem","cart","cartItems","key","cartItemKey","bundledItemKeys","map","find","_","filter","Boolean","item","isHidden","pop","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","registerCheckoutFilters","cartItemClass","value","arg","hasFixedPrice","isThumbnailHidden","join","showRemoveItemLink","itemName","hasCustomName","name"],"sourceRoot":""}