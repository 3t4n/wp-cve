!function(){"undefined"!=typeof ajax_object.ajaxurl&&"undefined"!=typeof tinymce&&(tinymce.create("tinymce.plugins.resads_button_plugin",{init:function(t,e){t.addButton("resads",{title:"Adspots",cmd:"resads_command",image:e+"/adspot-button.png"}),t.addCommand("resads_command",function(){function e(){var t=[];return jQuery.ajax({url:ajax_object.ajaxurl,type:"post",async:!1,data:{action:"resads_get_adspots"},success:function(e){"undefined"!=typeof e["return"]&&(t=e["return"])}}),t}function n(t){if("object"==typeof t)for(var e=[],n=0;n<t.length;n++)"undefined"!=typeof t[n].adspot_name&&"undefined"!=typeof t[n].adspot_id&&(e[n]={text:t[n].adspot_name,value:t[n].adspot_id});return e}t.windowManager.open({title:"ResAds Adspots",body:[{type:"listbox",name:"adspot",label:"Adspot",values:n(e())}],onsubmit:function(e){if("undefined"!=typeof e.data.adspot){var n='[resads_adspot id="'+e.data.adspot+'"]';t.execCommand("mceInsertContent",0,n)}}})})},getInfo:function(){return{longname:"ResAds Adspots",author:"web-mv.de",version:"1"}}}),tinymce.PluginManager.add("resads_button_plugin",tinymce.plugins.resads_button_plugin))}();
