// Generated by CoffeeScript 1.4.0
(function(){var e;e=function(){function e(){var e,t,n,r;switch(pagenow){case"wp_resume_position_page_wp_resume_options":jQuery("#wp_resume_help, #wp_resume_clearfix, #multiple, .underHood").hide(),jQuery("#wp_resume_help_toggle").click(this.toggleHelp),jQuery("#toggleMultiple").click(this.toggleMultiple),jQuery("#toggleHood").click(this.toggleHood),jQuery("#user").change(jQuery(".button-primary").click),jQuery("#add_contact_field").click(this.addContactField),jQuery(".button-primary").click(this.submitOptions),this.addContactField(),this.makeSortable();break;case"wp_resume_position":jQuery("#publish").click(this.validatePosition),r=["wp_resume_section","wp_resume_organization"];for(t=0,n=r.length;t<n;t++)e=r[t],this.addTaxonomyBoxEvents(e);break;case"edit-wp_resume_organization":jQuery("#parent, #tag-slug").parent().hide(),jQuery("#tag-name").siblings("p").text(wp_resume.orgName),jQuery("#tag-description").attr("rows","1").siblings("label").text("Location").siblings("p").text(wp_resume.orgLoc);break;case"edit-wp_resume_section":jQuery("#parent").parent().hide(),jQuery("#tag-description, #tag-slug").parent().hide()}}return e.prototype.toggleHelp=function(){return jQuery("#wp_resume_help, #wp_resume_clearfix").toggle("fast"),jQuery(this).text()===wp_resume.more?jQuery(this).text(wp_resume.less):jQuery(this).text(wp_resume.more),!1},e.prototype.validatePosition=function(e){if(jQuery("input:radio[name=wp_resume_section]:checked").val()!=="")return;return e.preventDefault(),e.stopPropagation(),alert(wp_resume.missingTaxMsg),jQuery("#ajax-loading").hide(),setTimeout("jQuery('#publish').removeClass('button-primary-disabled')",1),!1},e.prototype.toggleMultiple=function(){return jQuery("#multiple").toggle("fast"),jQuery(this).text()===wp_resume.yes?jQuery(this).text(wp_resume.no):jQuery(this).text(wp_resume.yes),!1},e.prototype.toggleHood=function(){return jQuery(".underHood").toggle("fast"),jQuery(this).text()===wp_resume.hideAdv?jQuery(this).text(wp_resume.showAdv):jQuery(this).text(wp_resume.hideAdv),!1},e.prototype.addContactField=function(){return jQuery("#contact_info").append(jQuery(".contact_info_blank").html()),jQuery(".contact_info_row:last").fadeIn(),!1},e.prototype.addTaxonomyBoxEvents=function(e){return jQuery("#add_"+e+"_toggle").live("click",function(){var e;return e=jQuery(this).attr("id").replace("_toggle","").replace("add_",""),jQuery("#add_"+e+"_div").toggle()}),jQuery("#add_"+e+"_button").live("click",function(e){var t;return t=jQuery(this).attr("id").replace("_button","").replace("add_",""),jQuery("#"+t+"-ajax-loading").show(),jQuery.post("admin-ajax.php?action=add_"+t,jQuery("#new_"+t+", #new_"+t+"_location, #_ajax_nonce-add-"+t+", #post_ID").serialize(),function(e){return jQuery("#"+t+"div .inside").html(e)}),e.preventDefault()})},e.prototype.makeSortable=function(){return jQuery("#sections, .positions, .organizations").sortable({axis:"y",containment:"parent",opacity:.5,update:function(){},placeholder:"placeholder",forcePlaceholderSize:"true"}),jQuery("#sections").disableSelection()},e.prototype.submitOptions=function(){return jQuery(".section").each(function(e,t){return jQuery("#wp_resume_form").append('<input type="hidden" name="wp_resume_options[order]['+jQuery(this).attr("id")+']" value="'+e+'">')}),jQuery(".position").each(function(e,t){return jQuery("#wp_resume_form").append('<input type="hidden" name="wp_resume_options[position_order]['+jQuery(this).attr("id")+']" value="'+e+'">')})},e}(),jQuery(document).ready(function(){return window.resume=new e})}).call(this);