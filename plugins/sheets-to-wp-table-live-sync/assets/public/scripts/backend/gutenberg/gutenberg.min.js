(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=React;var n,l,a,o,r,i,s,c,_,u,p,d,f,h,m,b,g,v,y=e.n(t);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},w.apply(this,arguments)}const E=function(e){return t.createElement("svg",w({width:30,height:30,viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=t.createElement("path",{d:"M128 0H0v128h128V0Z",fill:"url(#logo_30_30_svg__a)"})),l||(l=t.createElement("mask",{id:"logo_30_30_svg__b","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),a||(a=t.createElement("g",{mask:"url(#logo_30_30_svg__b)"},t.createElement("path",{d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2l-13.1-9.4-9.3-13.1Z",fill:"#0F9D58"}))),o||(o=t.createElement("mask",{id:"logo_30_30_svg__c","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),r||(r=t.createElement("g",{mask:"url(#logo_30_30_svg__c)"},t.createElement("path",{d:"M47 66v27.2h30V66H47Zm13.1 23.4h-9.4v-4.7h9.4v4.7Zm0-7.5h-9.4v-4.7h9.4v4.7Zm0-7.5h-9.4v-4.7h9.4v4.7Zm13.1 15h-9.4v-4.7h9.4v4.7Zm0-7.5h-9.4v-4.7h9.4v4.7Zm0-7.5h-9.4v-4.7h9.4v4.7Z",fill:"#F1F1F1"}))),i||(i=t.createElement("mask",{id:"logo_30_30_svg__d","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),s||(s=t.createElement("g",{mask:"url(#logo_30_30_svg__d)"},t.createElement("path",{d:"M71.1 46.6 92 67.4V48.2l-20.9-1.6Z",fill:"url(#logo_30_30_svg__e)"}))),c||(c=t.createElement("mask",{id:"logo_30_30_svg__f","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),_||(_=t.createElement("g",{mask:"url(#logo_30_30_svg__f)"},t.createElement("path",{d:"M69.425 25.742v16.9c0 3.1 2.5 5.6 5.6 5.6h16.9l-22.5-22.5Z",fill:"#87CEAC"}))),u||(u=t.createElement("mask",{id:"logo_30_30_svg__g","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),p||(p=t.createElement("g",{mask:"url(#logo_30_30_svg__g)"},t.createElement("path",{opacity:.2,d:"M37.6 25.7c-3.1 0-5.6 2.5-5.6 5.6v.5c0-3.1 2.5-5.6 5.6-5.6h31.9v-.5H37.6Z",fill:"#fff"}))),d||(d=t.createElement("mask",{id:"logo_30_30_svg__h","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),f||(f=t.createElement("g",{mask:"url(#logo_30_30_svg__h)"},t.createElement("path",{opacity:.2,d:"M86.3 107.7H37.6c-3.1 0-5.6-2.5-5.6-5.6v.5c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6v-.5c.1 3.1-2.5 5.6-5.6 5.6Z",fill:"#263238"}))),h||(h=t.createElement("mask",{id:"logo_30_30_svg__i","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:32,y:25,width:60,height:84},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.5 25.7H37.6c-3.1 0-5.6 2.5-5.6 5.6v71.2c0 3.1 2.5 5.6 5.6 5.6h48.7c3.1 0 5.6-2.5 5.6-5.6V48.2L69.5 25.7Z",fill:"#fff"}))),m||(m=t.createElement("g",{mask:"url(#logo_30_30_svg__i)"},t.createElement("path",{opacity:.1,d:"M75.1 48.2c-3.1 0-5.6-2.5-5.6-5.6v.4c0 3.1 2.5 5.6 5.6 5.6H92v-.5H75.1v.1Z",fill:"#263238"}))),b||(b=t.createElement("path",{d:"M91 18.9c2.3 0 4.6.5 6.8 1.4 1 .4 2 1 3 1.6.9.6 1.8 1.3 2.6 2.1s1.5 1.7 2.1 2.6c.6.9 1.2 1.9 1.6 3 .9 2.1 1.4 4.4 1.4 6.8 0 2.3-.5 4.6-1.4 6.8-.4 1-1 2-1.6 3-.6.9-1.3 1.8-2.1 2.6s-1.7 1.5-2.6 2.1c-.9.6-1.9 1.2-3 1.6-2.1.9-4.4 1.4-6.8 1.4-2.3 0-4.6-.5-6.8-1.4-1-.4-2-1-3-1.6-.9-.6-1.8-1.3-2.6-2.1s-1.5-1.7-2.1-2.6C75.9 45 75.4 44 75 43c-.9-2.1-1.4-4.4-1.4-6.8 0-2.3.5-4.6 1.4-6.8.4-1 1-2 1.6-3 .6-.9 1.3-1.8 2.1-2.6s1.7-1.5 2.6-2.1c.9-.6 1.9-1.2 3-1.6 2-.8 4.3-1.2 6.7-1.2Zm0-1.2c-10.2 0-18.5 8.3-18.5 18.5S80.8 54.7 91 54.7s18.5-8.3 18.5-18.5-8.3-18.5-18.5-18.5Z",fill:"#fff"})),g||(g=t.createElement("path",{d:"M75.6 36.2c0 6.1 3.5 11.4 8.7 13.9L76.9 30c-.9 1.9-1.3 4-1.3 6.2Zm25.8-.7c0-1.9-.7-3.2-1.3-4.2-.8-1.3-1.5-2.3-1.5-3.6 0-1.4 1.1-2.7 2.6-2.7h.2c-2.7-2.5-6.4-4-10.4-4-5.4 0-10.1 2.8-12.9 6.9h1c1.6 0 4.1-.2 4.1-.2.8 0 .9 1.2.1 1.3 0 0-.8.1-1.8.1l5.6 16.7 3.4-10.1-2.4-6.7c-.8 0-1.6-.1-1.6-.1-.8 0-.7-1.3.1-1.3 0 0 2.5.2 4.1.2 1.6 0 4.1-.2 4.1-.2.8 0 .9 1.2.1 1.3 0 0-.8.1-1.8.1l5.6 16.6 1.6-5c.7-2.3 1.1-3.8 1.1-5.1Zm-10.2 2.1L86.6 51c1.4.4 2.8.6 4.4.6 1.8 0 3.5-.3 5.1-.9 0-.1-.1-.1-.1-.2l-4.8-12.9Zm13.3-8.8c.1.5.1 1 .1 1.6 0 1.6-.3 3.3-1.2 5.5l-4.7 13.6c4.6-2.7 7.7-7.6 7.7-13.3 0-2.6-.7-5.2-1.9-7.4Z",fill:"#fff"})),v||(v=t.createElement("defs",null,t.createElement("linearGradient",{id:"logo_30_30_svg__a",x1:97.336,y1:110.105,x2:9.358,y2:-11.572,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{stopColor:"#08CF68"}),t.createElement("stop",{offset:1,stopColor:"#E2FFBC"})),t.createElement("linearGradient",{id:"logo_30_30_svg__e",x1:81.522,y1:48.36,x2:81.522,y2:67.419,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{stopColor:"#263238",stopOpacity:.2}),t.createElement("stop",{offset:1,stopColor:"#263238",stopOpacity:.02})))))};var k=jQuery.noConflict();function S(e,t,n,l){!function(e){"info"==e.type?e.icon="announcement":"success"==e.type?e.icon="checkmark":"error"==e.type?e.icon="remove":"warning"==e.type&&(e.icon="warning circle");var t="drop";"top-right"==e.position?t="fly left":"top-center"==e.position?t="fly down":"top-left"==e.position?t="fly right":"bottom-right"==e.position?t="fly left":"bottom-center"==e.position?t="fly up":"bottom-left"==e.position&&(t="fly right");var n="";k(window).width()<425&&(n="mini");var l="ui-alerts."+e.position;k("body > ."+l).length||k("body").append('<div class="ui-alerts '+e.position+'"></div>');var a=k('<div class="ui icon floating '+n+" message "+e.type+'" id="alert"> <i class="'+e.icon+' icon"></i> <i class="close icon" id="alertclose"></i> <div class="content"> <div class="header">'+e.title+"</div> <p>"+e.description+"</p> </div> </div>");k("."+l).prepend(a),a.transition("pulse"),k("#alertclose").on("click",(function(){k(this).closest("#alert").transition({animation:t,onComplete:function(){a.remove()}})}));var o=0;function r(){o=setTimeout((function(){a.transition({animation:t,duration:"2s",onComplete:function(){a.remove()}})}),1e3*e.time)}k(a).mouseenter((function(){clearTimeout(o)})).mouseleave((function(){r()})),r()}({title:e,description:t,type:n,time:l,position:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom-right"})}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var T,M,L=wp.element,P=L.useEffect,j=L.useRef,H=L.useState,Z=wp.blockEditor.InspectorControls,R=wp.components,U=R.Panel,V=R.PanelBody,F=(R.PanelRow,R.SelectControl),I=(R.ToggleControl,jQuery.noConflict());function D(e){return e.table_settings.importStyles?"default-style":e.table_settings.tableStyle}(0,wp.blocks.registerBlockType)("gswpts/google-sheets-to-wp-tables",{title:"Sheets To WP Table Live Sync",description:"Display Google Spreadsheet data to WordPress table in just a few clicks and keep the data always synced. Organize and display all your spreadsheet data in your WordPress quickly and effortlessly.",category:"common",example:{},icon:function(){return React.createElement("div",null,React.createElement(E,null))},keywords:["spreadsheet","google","table"],attributes:{sortcode_id:{type:"integer",default:null},block_init:{type:"boolean",default:!1},initializer_button_action:{type:"string",default:""},show_choose_table:{type:"boolean",default:!1},btn_text:{type:"string",default:"Create"},req_type:{type:"string",default:"fetch"},init_table_name:{type:"string",default:"GSWPTS Table"},sheet_url:{type:"string",default:""},is_table_saved_to_db:{type:"boolean",default:!1},table_selection:{type:"string",default:"no_selection"},innerHTML:{type:"string",default:"<h4>Choose table from block settings</h4>"},saved_tables:{type:"object",default:gswpts_gutenberg_block.table_details},table_name:{type:"string",default:""},show_settings:{type:"boolean",default:!1},table_settings:{type:"object",default:(T={table_title:!1,default_rows_per_page:10,show_info_block:!0,responsive_table:!1,show_x_entries:!0,pagination:!0,swap_filter_inputs:!1,swap_bottom_options:!1,allow_sorting:!0,search_bar:!0,table_export:[],vertical_scroll:null,cell_format:"expanded",table_cache:!1,table_style:"default-style",hide_column:[],hide_rows:[],hide_cell:[],table_styles:!1},M="table_cache",!1,M in T?Object.defineProperty(T,M,{value:false,enumerable:!0,configurable:!0,writable:!0}):T[M]=false,T)},tableColumns:{type:"object",default:null}},edit:function(e){var t,n,l=e.attributes,a=e.setAttributes,o=(t=H(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,o=[],r=!0,i=!1;try{for(n=n.call(e);!(r=(l=n.next()).done)&&(o.push(l.value),!t||o.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1];P((function(){l.sortcode_id&&(a({table_selection:l.sortcode_id}),a({show_choose_table:!0}),a({initializer_button_action:"choose_table"}),_(l.sortcode_id))}),[]);var s=j(null),c=j(null);function _(e){var t,n;"number"==typeof parseInt(e)?I.ajax({url:gswpts_gutenberg_block.admin_ajax,data:{action:"gswpts_sheet_fetch",id:parseInt(e),nonce:null===(t=window)||void 0===t||null===(n=t.gswpts_gutenberg_block)||void 0===n?void 0:n.fetch_nonce},type:"POST",beforeSend:function(){a({show_settings:!1}),a({table_name:""}),a({innerHTML:p})},success:function(e){"invalid_action"!=e.data.type&&"invalid_request"!=e.data.response_type||(a({innerHTML:e.data.output}),a({show_settings:!1}),a({table_name:""}),S("Error &#128683;",e.data.output,"error",4)),"no_table_found"==e.data.type&&(a({innerHTML:e.data.message}),a({show_settings:!1}),S("Error &#128683;","<b>No table found.</b>","error",3)),e.success&&(a({innerHTML:e.data.output}),a({show_settings:!0}),S("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3))},error:function(e){S("Error &#128683;","<b>Something went wrong</b>","error",3),a({innerHTML:""}),a({btn_text:"Create"})},complete:function(t){if(JSON.parse(t.responseText).success){var n=JSON.parse(t.responseText).data.table_settings,o=JSON.parse(t.responseText).data.name,r='<"#filtering_input"'.concat(n.show_x_entries?"l":"").concat(n.search_bar?"f":"",'>rt<"#bottom_options"').concat(n.show_info_block?"i":"","p>"),i=n.default_rows_per_page,c=n.allow_sorting,_=n.vertical_scroll,u=n.cell_format,p=n.redirection_type,f=n.hide_column;a({table_name:o}),setTimeout((function(){var t,o;m()&&(function(e,t){var n;switch(n=I(null==t?"#"+s.current.id+" table th, td":"#"+t+" table th, td"),e){case"wrap":I.each(n,(function(e,t){I(t).removeClass("clip_style"),I(t).removeClass("expanded_style"),I(t).addClass("wrap_style")}));break;case"clip":I.each(n,(function(e,t){I(t).removeClass("wrap_style"),I(t).removeClass("expanded_style"),I(t).addClass("clip_style")}));break;case"expand":I.each(n,(function(e,t){I(t).removeClass("clip_style"),I(t).removeClass("wrap_style"),I(t).addClass("expanded_style")}))}}(u,e),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(t=I(null==n?"#"+s.current.id+" table a":"#"+n+" table a")).length&&I.each(t,(function(t,n){I(n).attr("target",e)}))}(p,e)),I("#"+e+" #create_tables").DataTable(d(i,c,r,_,f)),t=n,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l.table_settings),o.show_title=t.show_title,o.defaultRowsPerPage=t.default_rows_per_page,o.showInfoBlock=t.show_info_block,o.showXEntries=t.show_x_entries,o.swapFilterInputs=t.swap_filter_inputs,o.swapBottomOptions=t.swap_bottom_options,o.allowSorting=t.allow_sorting,o.searchBar=t.search_bar,m()&&(t.responsive_style&&(o.responsive_style=t.responsive_style),t.vertical_scroll&&(o.verticalScroll=t.vertical_scroll),t.cell_format&&(o.cellFormat=t.cell_format),t.redirection_type&&(o.redirectionType=t.redirection_type),o.tableCache=t.table_cache,t.redirection_type&&(o.tableStyle=t.table_style),t.hide_column&&(o.hideColumn=t.hide_column),o.importStyles=t.import_styles),a({table_settings:o});var h,b,g,v=n.swap_filter_inputs;n.swap_bottom_options,b=v,g=null==(h=e)?s.current.id:h,b?(I("#"+g+" #filtering_input").css("flex-direction","row-reverse"),I("#"+g+" #create_tables_length").css({"margin-right":"0","margin-left":"auto"}),I("#"+g+" #create_tables_filter").css({"margin-left":"0","margin-right":"auto"})):(I("#"+g+" #filtering_input").css("flex-direction","row"),I("#"+g+" #create_tables_length").css({"margin-right":"auto","margin-left":"0"}),I("#"+g+" #create_tables_filter").css({"margin-left":"auto","margin-right":"0"}))}),700)}}}):a({innerHTML:"<h4>Choose saved table from block settings</h4>"})}var u,p='\n                <div class="ui segment gswpts_table_loader">\n                            <div class="ui active inverted dimmer">\n                                <div class="ui large text loader">Loading</div>\n                            </div>\n                            <p></p>\n                            <p></p>\n                            <p></p>\n                    </div>\n                ';function d(e,t,n,l,a){var o={dom:n,order:[],responsive:!0,lengthMenu:[[1,5,10,15],[1,5,10,15]],pageLength:parseInt(e),lengthChange:!0,ordering:t,destroy:!0,scrollX:!0};return m()&&(o.lengthMenu=[[1,5,10,15,25,50,100,-1],[1,5,10,15,25,50,100,"All"]],"default"!=l&&(o.scrollY="".concat(l,"px"))),"desktop"==(screen.width>740?"desktop":"mobile")?null!=a&&a.desktopValues&&(o.columnDefs=f(a.desktopValues)):null!=a&&a.mobileValues&&(o.columnDefs=f(a.mobileValues)),o}function f(e){return[{targets:h(e),visible:!1,searchable:!1}]}function h(e){return e?e.map((function(e){return parseInt(e)})):[]}function m(){return!!gswpts_gutenberg_block.isProActive}return[y().createElement(Z,{style:"margin-top: 40px"},y().createElement(U,{header:"Sheets To WP Table Live Sync"},l.show_choose_table?y().createElement(V,{title:"Choose Table",icon:"media-text",initialOpen:!0},y().createElement(F,{label:"Select Table",value:l.table_selection,onChange:function(e){a({table_selection:e}),a({sortcode_id:"string"==typeof e?parseInt(e):null}),_(e)},options:(u=[{value:"no_selection",label:"Select a table"}],l.saved_tables&&l.saved_tables.forEach((function(e){u.push({value:parseInt(e.id),label:e.table_name})})),u)})):y().createElement(y().Fragment,null),(l.show_settings,y().createElement(y().Fragment,null)))),y().createElement("div",{class:"gswpts_create_table_container gswpts_create_table_container gswpts_".concat(D(l)),id:l.sortcode_id,style:{marginRight:"0"}}," ",l.block_init?"choose_table"==l.initializer_button_action?y().createElement("div",{id:"spreadsheet_container",dangerouslySetInnerHTML:{__html:l.innerHTML}}):y().createElement(y().Fragment,null,0==l.is_table_saved_to_db?y().createElement("div",{class:"create_table_input"},y().createElement("div",null,y().createElement("div",{class:"ui icon input"},y().createElement("input",{required:!0,type:"text",name:"table_name",placeholder:"Table Name",value:l.init_table_name,onChange:function(e){a({init_table_name:e.target.value})}})," "),y().createElement("div",{class:"ui icon input"},y().createElement("input",{required:!0,type:"text",name:"file_input",placeholder:"Enter the google spreadsheet public url.",value:l.sheet_url,ref:c,onChange:function(e){a({sheet_url:e.target.value})}})," ",y().createElement("i",{class:"file icon"}," ")," "),y().createElement("button",{class:"ui violet button",type:"button",id:"fetch_save_btn",onClick:function(e){!function(e){var t,n;if(!m()){var o=function(e){if(e&&""!=e){var t=null;return(t=e.match(/gid=(\w+)/))&&(t=t[1])||null}}(e);if(o>0)return i(!0),!1;i(!1)}I.ajax({url:gswpts_gutenberg_block.admin_ajax,data:{action:"swptls_create_table",name:l.init_table_name,settings:JSON.stringify(l.table_settings),sheet_url:e,context:"block",nonce:null===(t=window)||void 0===t||null===(n=t.gswpts_gutenberg_block)||void 0===n?void 0:n.nonce},type:"POST",beforeSend:function(){a({show_settings:!1}),"save"!=l.req_type&&(a({innerHTML:p}),a({btn_text:"Create"})),a({req_type:"fetch"})},success:function(e){e.success||(S("Error &#128683;",e.data.message,"error",4),a({req_type:"fetch"}),a({btn_text:"Create"}),a({show_settings:!1}),a({innerHTML:e.data.output}),"empty_field"==e.data.type&&S("Warning &#9888;&#65039;",e.data.output,"warning",3)),e.success&&(a({sortcode_id:e.data.id}),a({req_type:"save"}),a({btn_text:"Save Table"}),a({innerHTML:e.data.output}),a({show_settings:!0}))},complete:function(e){if(JSON.parse(e.responseText).success){var t=x({table_title:!1,default_rows_per_page:10,show_info_block:!0,responsive_table:!1,show_x_entries:!0,swap_filter_inputs:!1,swap_bottom_options:!1,allow_sorting:!0,search_bar:!0,table_export:[],vertical_scroll:null,cell_format:"expanded",table_cache:!1,table_style:"default-style",hide_column:[],hide_rows:[],hide_cell:[],table_styles:!1},"table_cache",!1),n=t.default_rows_per_page,l=t.allow_sorting,o=t.vertical_scroll,r="#".concat(s.current.id," #create_tables");a({is_table_saved_to_db:!0}),setTimeout((function(){I(r).DataTable(d(n,l,'<"#filtering_input"lf>rt<"#bottom_options"ip>',o)),S("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3)}),300),setTimeout((function(){m()||S("Warning &#9888;&#65039;","<b>Live sync is limited to 50 rows.<br/><a target='blank' href='https://go.wppool.dev/DoC'>Upgrade to Pro</a> for showing full google sheet.</b>","warning",10)}),700)}},error:function(e){S("Error &#128683;","<b>Something went wrong</b>","error",3),a({show_settings:!1}),a({innerHTML:"<b>Something went wrong</b>"})}})}(l.sheet_url)}}," ",l.btn_text," ")),r&&y().createElement("p",{className:"swptls-grid-not-supported-error"},"On free plan tables can be created from the first sheet tab only. ",y().createElement("span",{onClick:function(){WPPOOL.Popup("sheets_to_wp_table_live_sync").show()}},"Get Pro")," to create table from any tab of your Google SpreadSheet.")):y().createElement(y().Fragment,null),y().createElement("div",{ref:s,id:"spreadsheet_container",dangerouslySetInnerHTML:{__html:l.innerHTML}})," "):y().createElement("div",{class:"block_initializer"},y().createElement("button",{id:"create_button",class:"positive ui button",onClick:function(e){a({block_init:!0}),a({initializer_button_action:"create_new"}),a({innerHTML:""})}},"Create New Â  ",y().createElement("i",{class:"plus icon"}," ")," "),y().createElement("button",{class:"ui violet button",type:"button",onClick:function(e){a({block_init:!0}),a({initializer_button_action:"choose_table"}),a({show_choose_table:!0})}},"Choose Table"," ")))]},save:function(e){var t=e.attributes.sortcode_id;return React.createElement(React.Fragment,null,"[gswpts_table id = ",t,"] ")}})})();
//# sourceMappingURL=gutenberg.min.js.map