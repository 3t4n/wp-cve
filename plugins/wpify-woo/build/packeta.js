!function(){var e=function(e){if(e){window.localStorage.setItem("packetaSelectedPoint",JSON.stringify(e)),n(e),t(e);var o=new CustomEvent("wpify_woo_packeta_point_selected",{point:e});document.body.dispatchEvent(o)}else document.getElementById("packeta-point-info"),document.getElementsByClassName("wpify-woo-packeta__shipping-method")[0].classList.remove("wpify-woo-packeta__shipping-method--selected"),a();jQuery("body").trigger("update_checkout")};jQuery("body").on("updated_checkout",(function(){var e=window.localStorage.getItem("packetaSelectedPoint");if(e&&document.getElementById("packeta-point-id")){var a=JSON.parse(e);n(a),t(a)}}));var t=function(e){document.getElementById("packeta-point-info").getElementsByClassName("packeta-point-info__details")[0].innerText=e.name+"\n"+e.zip+" "+e.city,document.getElementsByClassName("wpify-woo-packeta__shipping-method")[0].classList.add("wpify-woo-packeta__shipping-method--selected");var t=new CustomEvent("wpify_woo_packeta_point_details_added",{point:e});document.body.dispatchEvent(t)},n=function(e){document.getElementById("packeta-point-id").value=e.id,document.getElementById("packeta-point-name").value=e.place,document.getElementById("packeta-point-street").value=e.street,document.getElementById("packeta-point-city").value=e.city,document.getElementById("packeta-point-postcode").value=e.zip,document.getElementById("packeta-point-url").value=e.url},a=function(){document.getElementById("packeta-point-id").value="",document.getElementById("packeta-point-name").value="",document.getElementById("packeta-point-street").value="",document.getElementById("packeta-point-city").value="",document.getElementById("packeta-point-postcode").value="",document.getElementById("packeta-point-url").value=""};document.addEventListener("click",(function(t){if(t.target&&t.target.classList.contains("zasilkovna-open-widget")){t.preventDefault();var n="";document.getElementById("shipping_country")&&(n=document.getElementById("shipping_country").value),document.getElementById("ship-to-different-address-checkbox")&&(n&&document.getElementById("ship-to-different-address-checkbox").checked||(n=document.getElementById("billing_country").value));var a={country:n.toLowerCase(),language:wpifyWooPacketa.language};Packeta.Widget.pick(packeta.apiKey,e,a)}}))}();