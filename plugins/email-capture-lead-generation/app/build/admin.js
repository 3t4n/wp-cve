!function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=7)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t,a){var l=a(8),n=a(9),r=a(10),c=a(12);e.exports=function(e,t){return l(e)||n(e,t)||r(e,t)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.domReady},function(e,t,a){e.exports=a(13)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,n,r=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return r}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){var l=a(11);e.exports=function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a(6),r=a.n(n),c=a(5),i=a.n(c),o=a(3),s=a.n(o),u=a(2),m=a(1),p=a(4),d=a.n(p);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){var t=e.settingsData,a=t.formTitle,n=t.formDescription,r=t.displayFirstName,c=t.displayLastName,i=t.buttonLabel,o=t.templateType,s=Object(l.createElement)(l.Fragment,null,a||n?Object(l.createElement)("header",{className:"email-capture__header"},a?Object(l.createElement)("h2",null,a):null,n?Object(l.createElement)("h5",null,n):null):null),p={};return p.classic=Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"email-capture email-capture--bg-primary"},s,Object(l.createElement)("form",null,Object(l.createElement)("div",{className:"email-capture__ele"},"yes"==r?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("First Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your firstname.","email-capture-lead-generation"))):null,"yes"==c?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Last Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your lastname.","email-capture-lead-generation"))):null,Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Email","email-capture-lead-generation")),Object(l.createElement)("input",{type:"email"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter email address.","email-capture-lead-generation"))),Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset email-capture__ele__fieldset--btn-wrap"},Object(l.createElement)("legend",null," "),Object(l.createElement)("button",{type:"button",disabled:!0},i)))))),p.standard=Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"email-capture email-capture--full-width email-capture--bg-secondary"},s,Object(l.createElement)("form",null,Object(l.createElement)("div",{className:"email-capture__ele"},"yes"==r?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("First Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your firstname.","email-capture-lead-generation"))):null,"yes"==c?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Last Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your lastname.","email-capture-lead-generation"))):null,Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Email","email-capture-lead-generation")),Object(l.createElement)("input",{type:"email"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter email address.","email-capture-lead-generation"))),Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset email-capture__ele__fieldset--btn-wrap"},Object(l.createElement)("legend",null," "),Object(l.createElement)("button",{type:"button",disabled:!0},i)))))),p.aurora=Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"email-capture email-capture--center email-capture--bg-secondary"},Object(l.createElement)("div",{className:"box-border"},s,Object(l.createElement)("form",null,Object(l.createElement)("div",{className:"email-capture__ele email-capture__ele--no-space"},"yes"==r?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("First Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your firstname.","email-capture-lead-generation"))):null,"yes"==c?Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Last Name","email-capture-lead-generation")),Object(l.createElement)("input",{type:"text"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter your lastname.","email-capture-lead-generation"))):null,Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset"},Object(l.createElement)("legend",null,Object(m.__)("Email","email-capture-lead-generation")),Object(l.createElement)("input",{type:"email",placeholder:"Your email address"}),Object(l.createElement)("div",{className:"error-msg"},Object(m.__)("Please enter email address.","email-capture-lead-generation"))),Object(l.createElement)("fieldset",{className:"email-capture__ele__fieldset email-capture__ele__fieldset--btn-wrap"},Object(l.createElement)("legend",null," "),Object(l.createElement)("button",{type:"button",disabled:!0},i))))))),void 0!==p[o]?Object(l.createElement)(u.PanelBody,{className:"eclg-form-template admin-panel main__cnt",title:Object(m.__)("Template Demo","email-capture-lead-generation")},p[o]):""},_=function(e){var t=e.settingsData,a=t.displayFirstName,n=t.displayLastName,r=t.buttonLabel,c=(t.templateType,Object(l.useState)(!1)),i=s()(c,2),o=i[0],p=i[1],d='[eclg_capture firstname="'.concat(a,'" lastname="').concat(n,'"  button_text="').concat(r,'"]');return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(u.PanelBody,{title:Object(m.__)("Shortcode","email-capture-lead-generation")},Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(l.createElement)("code",null,d)),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.ClipboardButton,{isSecondary:!0,text:d,onCopy:function(){return p(!0)},onFinishCopy:function(){return p(!1)}},o?Object(m.__)("Shortcode Copied!","email-capture-lead-generation"):Object(m.__)("Copy Shortcode","email-capture-lead-generation"))))))},g=function(){var e=eclg_data.eclg_options.eclg_settings,t=Object(l.useState)({}),a=s()(t,2),n=a[0],r=a[1],c=Object(l.useState)(!0),i=s()(c,2),o=i[0],p=i[1],b=Object(l.useState)(!1),g=s()(b,2),f=g[0],y=g[1];Object(l.useEffect)((function(){var t;t=void 0!==e&&Object.keys(e).length>0?e:{formTitle:"Subscribe Us",formDescription:"",displayFirstName:"yes",displayLastName:"yes",buttonLabel:Object(m.__)("Submit","email-capture-lead-generation"),templateType:"default"},r(t),p(!1)}),[]);var E=n.formTitle,v=n.formDescription,w=n.displayFirstName,h=n.displayLastName,N=n.buttonLabel,P=n.templateType;return Object(l.createElement)("div",{className:"eclg-fields-container"},Object(l.createElement)("div",{className:"eclg-fields-left"},Object(l.createElement)(u.Panel,{header:Object(m.__)("Shortcode and Settings","email-capture-lead-generation")},o?Object(l.createElement)(u.Spinner,null):Object(l.createElement)(l.Fragment,null,Object(l.createElement)(_,{settingsData:n}),Object(l.createElement)(j,{settingsData:n}),Object(l.createElement)(u.PanelBody,{title:Object(m.__)("Settings","email-capture-lead-generation")},Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Subscription form type","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.SelectControl,{options:[{label:Object(m.__)("Default","email-capture-lead-generation"),value:"default"},{label:Object(m.__)("Classic","email-capture-lead-generation"),value:"classic"},{label:Object(m.__)("Standard","email-capture-lead-generation"),value:"standard"},{label:Object(m.__)("Aurora","email-capture-lead-generation"),value:"aurora"}],value:P||"default",onChange:function(e){r(O(O({},n),{},{templateType:e}))}}))),void 0!==P&&"default"!==P?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Form title","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.TextControl,{value:E||"",onChange:function(e){r(O(O({},n),{},{formTitle:e}))}}))),Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Form description","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.TextControl,{value:v||"",onChange:function(e){r(O(O({},n),{},{formDescription:e}))}})))):null,Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Display first name field in subscription form?","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.ToggleControl,{checked:"yes"==w,onChange:function(){var e="yes"==w?"no":"yes";r(O(O({},n),{},{displayFirstName:e}))}}))),Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Display last name field in subscription form?","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.ToggleControl,{checked:"yes"==h,onChange:function(){var e="yes"==h?"no":"yes";r(O(O({},n),{},{displayLastName:e}))}}))),Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Subscription form button label","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.TextControl,{value:N||"",onChange:function(e){r(O(O({},n),{},{buttonLabel:e}))}}))))))),Object(l.createElement)("div",{className:"eclg-fields-right"},Object(l.createElement)(u.Panel,{header:""},Object(l.createElement)(u.PanelBody,{title:Object(m.__)("Save Settings","email-capture-lead-generation")},Object(l.createElement)(u.PanelRow,null,Object(l.createElement)(u.Button,{isBusy:f,disabled:f||o,onClick:function(){return function(){y(!0);var e=new FormData;e.append("eclg_settings[formTitle]",E),e.append("eclg_settings[formDescription]",v),e.append("eclg_settings[displayFirstName]",w),e.append("eclg_settings[displayLastName]",h),e.append("eclg_settings[buttonLabel]",N),e.append("eclg_settings[templateType]",P),e.append("eclg_doing_ajax","yes"),d()({url:"".concat(ajaxurl,"?action=eclg_save_data"),method:"post",body:e}).then((function(e){y(!1)}))}()},className:"eclg-save-button",isPrimary:!0},f?Object(m.__)("Saving","email-capture-lead-generation"):Object(m.__)("Save","email-capture-lead-generation")))))))};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=function(){var e=eclg_data.eclg_options,t=e.eclg_integration,a=e.lists_options,n=[{label:Object(m.__)("Select One","email-capture-lead-generation"),value:null,disabled:!0},{label:"MailChimp",value:"mailchimp"},{label:"ActiveCampaign",value:"activecampaign"}],r=[{label:Object(m.__)("Click Refresh","email-capture-lead-generation"),value:null,disabled:!0}],c=Object(l.useState)(!0),i=s()(c,2),o=i[0],p=i[1],b=Object(l.useState)(r),O=s()(b,2),j=O[0],_=O[1],g=Object(l.useState)({}),f=s()(g,2),E=f[0],v=f[1],w=Object(l.useState)(!1),h=s()(w,2),N=h[0],P=h[1],x=Object(l.useState)(!1),S=s()(x,2),C=S[0],D=S[1];Object(l.useEffect)((function(){var e;e=y(y({},{useOwnList:"yes",selectedProvider:null,apiKeys:{},listIDs:{}}),t),v(e),_(a),p(!1)}),[]);var F=E.useOwnList,T=E.selectedProvider,L=E.apiKeys,R=E.listIDs,k="";null!==T&&void 0!==n&&n.filter((function(e){e.value==T&&(k=e.label)}));var B,K,M=null!==k?k+" "+Object(m.__)("configurations","email-capture-lead-generation"):null,I=void 0!==L&&void 0!==L[T]?L[T]:"";B=void 0!==I&&void 0!==I.url?I.url:"",K=void 0!==I&&void 0!==I.key?I.key:"";var A=void 0!==j&&void 0!==j[T]?j[T]:r,U=void 0!==R&&void 0!==R[T]?R[T]:"";return Object(l.createElement)("div",{className:"eclg-fields-container"},Object(l.createElement)("div",{className:"eclg-fields-left"},Object(l.createElement)(u.Panel,{header:Object(m.__)("Integration and Newsletters","email-capture-lead-generation")},o?Object(l.createElement)(u.Spinner,null):Object(l.createElement)(l.Fragment,null,Object(l.createElement)(u.PanelBody,{title:Object(m.__)("Listing Providers","email-capture-lead-generation")},Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Use default own list","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.ToggleControl,{checked:"yes"==F,onChange:function(){var e="yes"==F?"no":"yes";v(y(y({},E),{},{useOwnList:e}))}}))),"no"==F&&Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Select your provider","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.SelectControl,{options:n,value:T||"",onChange:function(e){v(y(y({},E),{},{selectedProvider:e}))}})))),"no"==F&&null!==T?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(u.PanelBody,{title:M},"mailchimp"!==T&&Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("URL","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.TextControl,{value:B||"",readOnly:"mailchimp"==T&&!0,onChange:function(e){var t={};void 0===(t=E.apiKeys)[T]&&(t[T]={}),t[T].url=e,v(y(y({},E),{},{apiKeys:t}))}}))),Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Key","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper"},Object(l.createElement)(u.TextControl,{value:K||"",onChange:function(e){if("mailchimp"==T){var t="",a="";if(void 0!==e&&""!==e&&(a=e.split("-")[1])&&(t="https://".concat(a,".api.mailchimp.com")),t){var l={};void 0===(l=E.apiKeys)[T]&&(l[T]={}),l[T].url=t,v(y(y({},E),{},{apiKeys:l}))}}var n={};void 0===(n=E.apiKeys)[T]&&(n[T]={}),n[T].key=e,v(y(y({},E),{},{apiKeys:n}))}}))),Object(l.createElement)(u.PanelRow,null,Object(l.createElement)("label",null,Object(m.__)("Lists","email-capture-lead-generation")),Object(l.createElement)("div",{className:"email-capture-lead-generation-field-wrapper lists-wrapper"},N?Object(l.createElement)(u.Spinner,null):Object(l.createElement)(l.Fragment,null,Object(l.createElement)(u.SelectControl,{options:A,value:U||"",onChange:function(e){var t={};(t=E.listIDs)[T]=e,v(y(y({},E),{},{listIDs:t}))}}),Object(l.createElement)(u.Button,{isSecondary:!0,onClick:function(){return function(){P(!0);var e=new FormData;"yes"!==F&&null!==T&&(e.append("eclg_integration[selectedProvider]",T),e.append("eclg_integration[apiKeys][".concat(T,"][url]"),B),e.append("eclg_integration[apiKeys][".concat(T,"][key]"),K)),e.append("eclg_fetching_lists","yes"),d()({url:"".concat(ajaxurl,"?action=eclg_header_auth"),method:"post",body:e}).then((function(e){if(void 0!==e.success&&!0===e.success){var t=e.data;_(y(y({},j),t))}P(!1)}))}()}},Object(m.__)("Refresh","email-capture-lead-generation"))))))):null))),Object(l.createElement)("div",{className:"eclg-fields-right"},Object(l.createElement)(u.Panel,{header:""},Object(l.createElement)(u.PanelBody,{title:Object(m.__)("Save Settings","email-capture-lead-generation")},Object(l.createElement)(u.PanelRow,null,Object(l.createElement)(u.Button,{isBusy:C,disabled:C||o||"no"==F&&null==T,onClick:function(){return function(){D(!0);var e=new FormData;e.append("eclg_integration[useOwnList]",F),"yes"!==F&&null!==T&&(e.append("eclg_integration[selectedProvider]",T),e.append("eclg_integration[apiKeys][".concat(T,"][url]"),B),e.append("eclg_integration[apiKeys][".concat(T,"][key]"),K),e.append("eclg_integration[listIDs][".concat(T,"]"),R[T])),e.append("eclg_doing_ajax","yes"),d()({url:"".concat(ajaxurl,"?action=eclg_save_data"),method:"post",body:e}).then((function(e){D(!1)}))}()},className:"eclg-save-button",isPrimary:!0},C?Object(m.__)("Saving","email-capture-lead-generation"):Object(m.__)("Save","email-capture-lead-generation")))))))},v=document.getElementById("eclg-settings"),w=document.getElementById("eclg-integration");null!=v&&r()((function(){Object(l.render)(Object(l.createElement)(g,null),v)})),null!=w&&r()((function(){Object(l.render)(Object(l.createElement)(E,null),w)}))}]);