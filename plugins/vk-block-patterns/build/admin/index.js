(()=>{"use strict";var e,t={149:(e,t,n)=>{const a=window.React,r=window.wp.i18n,l=window.wp.element,o=window.wp.components,s=window.wp.api;var i=n.n(s);(0,l.render)((0,a.createElement)((()=>{const e="1"===vkpOptions.showPatternsLink,t="1"===vkpOptions.disableCorePattern,n="1"===vkpOptions.disablePluginPattern,s="1"===vkpOptions.savePluginData,[c,p]=(0,l.useState)({role:vkpOptions.role,showPatternsLink:e,VWSMail:vkpOptions.VWSMail,disableCorePattern:t,disablePluginPattern:n,savePluginData:s}),k=vkpOptions.ajaxUrl,u=e=>{p(e)},[v,b]=(0,l.useState)(!1),[m,d]=(0,l.useState)(""),[_,h]=(0,l.useState)(!1),[g,E]=(0,l.useState)(""),[P,f]=(0,l.useState)(!1),S=()=>{h(!0);const e=new XMLHttpRequest;e.open("POST",k,!0),e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e.send(`action=clear_patterns_cache&vbp_clear_patterns_cache_nonce=${vkpOptions.nonce}`),h(!1),E(!0)},w=(0,r.getLocaleData)()[""].lang,C=vkpOptions.adminUrl+"edit.php?post_type=vk-block-patterns",y=vkpOptions.template;return(0,l.useEffect)((()=>{m&&setTimeout((()=>{d()}),3e3)}),[m]),(0,l.useEffect)((()=>{g&&setTimeout((()=>{E()}),3e3)}),[g]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",null,(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"role-setting"},(0,r.__)("Role Setting","vk-block-patterns")),(0,a.createElement)("p",null,(0,r.__)("User permission to register patterns in VK Block Patterns","vk-block-patterns")," ","[ ",(0,a.createElement)("a",{href:C},"VK Block Patterns")," ]"),(0,a.createElement)(o.SelectControl,{value:c.role,onChange:e=>{u({...c,role:e})},options:[{label:(0,r.__)("Contributor or higher","vk-block-patterns"),value:"contributor"},{label:(0,r.__)("Author or higher","vk-block-patterns"),value:"author"},{label:(0,r.__)("Editor or higher","vk-block-patterns"),value:"editor"},{label:(0,r.__)("Administrator only","vk-block-patterns"),value:"administrator"}]})),(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"default-patterns-setting"},(0,r.__)("Default Pattern Setting","vk-block-patterns")),(0,a.createElement)(o.ToggleControl,{label:(0,r.__)("Disable WordPress Core Patterns","vk-block-patterns"),checked:c.disableCorePattern,onChange:e=>{u({...c,disableCorePattern:e})}}),(0,a.createElement)(o.ToggleControl,{label:(0,r.__)("Disable default patterns of this plugin","vk-block-patterns"),checked:c.disablePluginPattern,onChange:e=>{u({...c,disablePluginPattern:e})}}),"ja_JP"===w&&""!==c.VWSMail&&"x-t9"===y&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(o.ToggleControl,{label:(0,r.__)("Disable X-T9 patterns","vk-block-patterns"),checked:c.disableXT9Pattern,onChange:e=>{u({...c,disableXT9Pattern:e})}}))),"ja_JP"===w&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h3",{id:"pattern-library-setting"},(0,r.__)("VK Pattern Library Setting","vk-block-patterns")),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,"アカウント連携"),(0,a.createElement)("p",null,(0,a.createElement)("a",{href:"https://vws.vektor-inc.co.jp/vektor-passport?ref=vkbp-admin",target:"_blank",rel:"noreferrer"},"Vektor Passport")," ","あるいは Lightning G3 Pro Pack のライセンスをお持ちのユーザーは"," ",(0,a.createElement)("a",{href:"https://patterns.vektor-inc.co.jp/",target:"_blank",rel:"noreferrer"},"VK Pattern Library")," ","でお気に入りに登録したパターンをエディター上で直接呼び出す事ができます。"),(0,a.createElement)("p",null,"お気に入り登録・連携を利用するには VK Pattern Library のユーザーアカウントを発行する必要があります。",(0,a.createElement)("br",null),"["," ",(0,a.createElement)("a",{href:"https://patterns.vektor-inc.co.jp/about/about-favorite/",target:"_blank",rel:"noreferrer"},(0,r.__)("Click here for more information on Favorites","vk-block-patterns"))," ","]"),(0,a.createElement)(o.TextControl,{type:"email",className:"vws-mail-address",label:"VK Pattern Library のアカウントのメールアドレス",value:c.VWSMail,onChange:e=>{u({...c,VWSMail:e}),f(!0)}})),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,(0,r.__)("Editor Setting","vk-block-patterns")),(0,a.createElement)(o.ToggleControl,{label:(0,r.__)("Show VK Pattern Library link in editor toolbar","vk-block-patterns"),checked:c.showPatternsLink,onChange:e=>{u({...c,showPatternsLink:e})}})),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,(0,r.__)("Uninstall Setting","vk-block-patterns")),(0,a.createElement)(o.ToggleControl,{label:(0,r.__)("When Uninstall This Plugin, Save Data of This Plugin","vk-block-patterns"),checked:c.savePluginData,onChange:e=>{u({...c,savePluginData:e})}})),(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"cache-setting"},(0,r.__)("Patterns data cache setting","vk-block-patterns")),(0,a.createElement)("p",null,(0,r.__)("If the VK Pattern Library data is old, please try clearing the cache.","vk-block-patterns")),(0,a.createElement)(o.Button,{isSecondary:!0,onClick:S,isBusy:_},(0,r.__)("Clear Cache","vk-block-patterns")),_&&(0,a.createElement)(o.Spinner,null),!0===g&&(0,a.createElement)("div",null,(0,a.createElement)(o.Snackbar,null,(0,r.__)("Cache cleared","vk-block-patterns")," ")))),(0,a.createElement)(o.Button,{isPrimary:!0,onClick:()=>{b(!0),i().loadPromise.then((()=>{const e=new(i().models.Settings)({vk_block_patterns_options:c}).save();e.success((()=>{setTimeout((()=>{b(!1),d(!0)}),600),!0===P&&(S(),location.reload())})),e.error((()=>{setTimeout((()=>{b(!1),d(!1)}),600)}))}))},isBusy:v},(0,r.__)("Save setting","vk-block-patterns")),v&&(0,a.createElement)(o.Spinner,null),!0===m&&(0,a.createElement)("div",null,(0,a.createElement)(o.Snackbar,null,(0,r.__)("Save Success","vk-block-patterns")," ")),!1===m&&(0,a.createElement)("div",null,(0,a.createElement)(o.Snackbar,null,(0,r.__)("Failed to save.","vk-block-patterns")," "))))}),null),document.getElementById("vk_block_patterns_admin"))}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,r,l)=>{if(!n){var o=1/0;for(p=0;p<e.length;p++){for(var[n,r,l]=e[p],s=!0,i=0;i<n.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[n,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={846:0,966:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[o,s,i]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var p=i(a)}for(t&&t(n);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(p)},n=globalThis.webpackChunkvk_block_patterns=globalThis.webpackChunkvk_block_patterns||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[966],(()=>a(149)));r=a.O(r)})();