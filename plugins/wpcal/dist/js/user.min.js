(function(e){function t(t){for(var i,s,_=t[0],c=t[1],r=t[2],u=0,d=[];u<_.length;u++)s=_[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,_=1;_<n.length;_++){var c=n[_];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={user:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="http://localhost:8080/";var _=window["wpcalMainWebpackJsonp"]=window["wpcalMainWebpackJsonp"]||[],c=_.push.bind(_);_.push=t,_=_.slice();for(var r=0;r<_.length;r++)t(_[r]);var l=c;a.push([2,"chunk-vendors","chunk-common"]),n()})({"0351":function(e,t,n){"use strict";n("bf36")},"093b":function(e,t,n){},"0a1f":function(e,t,n){"use strict";n("093b")},2:function(e,t,n){e.exports=n("70e2")},"4c7b":function(e,t,n){"use strict";n("eb9c")},"4f2a":function(e,t,n){},"6ed8":function(e,t,n){"use strict";n("4f2a")},"70e2":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");window.__wpcal_client_end="user";var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.main_cont_class],style:e.user_app_custom_styles,attrs:{id:"wpcal_user_app"}},[n("IconFillSVG"),n("router-view")],1)},a=[],s=n("d1ff"),_=n("93fb"),c={components:{IconFillSVG:_["a"]},computed:{main_cont_class:function(){var e=this.$store.getters.get_app_cont_width;return!e||e<700?"narrow":e>=700&&e<1e3?"extended":e>=1e3?"wide":"narrow"},branding_styles:function(){var e={},t=this.$store.getters.get_general_settings;return t.hasOwnProperty("branding_color")&&t.branding_color&&(e["--accentClrRGB"]=Object(s["m"])(t.branding_color)),e},user_app_custom_styles:function(){var e=this.branding_styles,t=this.get_css_varaibles(),n=Object.assign({},e,t);return n}},methods:{handle_router_request:function(){var e=Object(s["l"])("wpcal_r");e&&"/"!=e&&"/booking"!=e?this.$router.push(e):this.$router.push("/booking")},get_css_varaibles:function(){var e={};return e["--wpcal-content-today"]="'"+this._x("TODAY","Date picker today date highlight","wpcal")+"'",e},may_apply_branding_font:function(){var e=this;setTimeout((function(){var t=e.$store.getters.get_general_settings;if(e._isEmpty(t))e.may_apply_branding_font();else if(t.hasOwnProperty("branding_font")&&t.branding_font){var n=document.createElement("style");n.type="text/css",n.innerHTML=":root{--font-family:"+t.branding_font+"; --font-family-med:"+t.branding_font+"; --font-family-med-weight:bold;}",document.body.appendChild(n)}}),50)}},created:function(){var e=this;this.$store.dispatch("init"),this.handle_router_request(),window.addEventListener("popstate",(function(t){e.handle_router_request()})),this.may_apply_branding_font()}},r=c,l=(n("4c7b"),n("2877")),u=Object(l["a"])(r,o,a,!1,null,"1e699641",null),d=u.exports,p=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("25f0"),n("8c4f")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},f=[],g=(n("b0c0"),{methods:{check_and_route:function(){"user_home"==this.$route.name&&"undefined"!==typeof wpcal_booking_service_id&&wpcal_booking_service_id&&this.$router.push("booking")}},mounted:function(){this.check_and_route()}}),h=g,m=Object(l["a"])(h,b,f,!1,null,null,null),v=m.exports,k=n("eb8b"),w=n("e0f2"),y=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("div",{attrs:{id:"wpcal-widget"}},[i("div",{staticClass:"widget-main state-confirmation cf"},[i("div",{staticClass:"event-preset"},[i("img",{attrs:{src:t.service_admin_details.profile_picture}}),i("div",{staticClass:"inviter-name"},[t._v(" "+t._s(t.service_admin_details.display_name)+" ")]),i("div",{staticClass:"confimation-confirmed"},[t._v(" "+t._s(t.__("Hello","wpcal"))+" "+t._s(t._f("wpcal_get_firstname")(t.booking_details.invitee_name))+","),i("br"),t._v(" "+t._s(t.booking_status_txt)+" ")]),i("div",{staticClass:"event-type-name",class:(e={},e["clr-"+t.service_details.color]=!0,e)},[t._v(" "+t._s(t.service_details.name)+" ")]),"-5"==t.booking_details.status&&t.redirect_text?i("div",[t._v(" "+t._s(t.redirect_text)+" ")]):t._e(),"1"==t.booking_details.status?i("div",[i("div",{staticClass:"event-type-duration",domProps:{innerHTML:t._s(t.$options.filters.wpcal_unix_to_from_to_time_full_date_day_tz(t.booking_details.booking_from_time,t.booking_details.booking_to_time,t.tz,t.time_format)+".")}}),i("LocationAdvanced",{attrs:{type:"display_user_after_booking_location",location_details:t.booking_details.location,service_admin_details:t.service_admin_details}})],1):t._e(),("booking_view_confirmed"==t.$route.name||"booking_view_rescheduled"==t.$route.name)&&1==t.booking_details.status&&t.booking_details.is_invitee_notify_by_email&&t.booking_details.is_invitee_notify_by_calendar?i("div",{staticClass:"txt-h4 confimation-via"},[i("span",{domProps:{innerHTML:t._s(t.Tsprintf(t.__("A booking confimation has been sent to %s your email address -","wpcal"),"<br />"))}}),i("span",{staticStyle:{"font-weight":"500"}},[t._v(t._s(" "+t.booking_details.invitee_email))])]):"booking_view_confirmed"!=t.$route.name&&"booking_view_rescheduled"!=t.$route.name||1!=t.booking_details.status||!t.booking_details.is_invitee_notify_by_calendar||t.booking_details.is_invitee_notify_by_email?1!=t.booking_details.status||t.booking_details.is_invitee_notify_by_calendar?t._e():i("div",{staticClass:"txt-h4 confimation-via"},[i("a",{staticStyle:{color:"#567bf3","text-decoration":"underline"},attrs:{href:t.booking_details.add_event_to_google_calendar_url,target:"_blank"}},[t._v(t._s(t.__("Add to","wpcal"))+" Google Calendar")]),t._v("→ "),i("a",{staticStyle:{color:"#567bf3","text-decoration":"underline"},attrs:{href:t.booking_details.download_ics_url,target:"_blank"}},[t._v(t._s(t.__("Add to","wpcal"))+" iCal/Outlook ")]),t._v("→ ")]):i("div",{staticClass:"txt-h4 confimation-via"},[i("span",{domProps:{innerHTML:t._s(t.Tsprintf(t.__("A calendar invitation has been sent to %s your email address -","wpcal"),"<br />"))}}),i("span",{staticStyle:{"font-weight":"500"}},[t._v(t._s(" "+t.booking_details.invitee_email))])]),"booking_view"!=t.$route.name&&"booking_view_cancel"!=t.$route.name||t.is_booking_slot_time_passed?t._e():i("div",{staticStyle:{"margin-top":"20px"}},[t.can_show_rechedule_option?i("a",{staticClass:"btn",staticStyle:{"text-decoration":"underline"},attrs:{href:"?wpcal_r="+encodeURIComponent("/booking/reschedule/"+t.booking_unique_link)},on:{click:function(e){return t.on_click_if_same_page_target_router_push(e,"/booking/reschedule/"+t.booking_unique_link)}}},[t._v(t._s(t.__("Reschedule","wpcal")))]):t._e(),t.can_show_cancel_option?i("a",{staticClass:"btn cancel pointer",staticStyle:{"text-decoration":"underline"},on:{click:function(e){return t.show_cancel_confirmation(t.booking_details)}}},[t._v(" "+t._s(t.__("Cancel","wpcal"))+" ")]):t._e()]),t._isEmpty(t.booking_details.invitee_question_answers)?t._e():i("div",[i("div",[t.show_question_answers?t._e():i("a",{staticClass:"btn pointer",staticStyle:{"text-decoration":"underline"},on:{click:function(e){t.show_question_answers=!0}}},[t._v(t._s(t.__("Show submitted form","wpcal")))]),t.show_question_answers?i("a",{staticClass:"btn pointer",staticStyle:{"text-decoration":"underline"},on:{click:function(e){t.show_question_answers=!1}}},[t._v(t._s(t.__("Hide submitted form","wpcal")))]):t._e()]),t.show_question_answers?i("div",{staticClass:"event-survey"},t._l(t.booking_details.invitee_question_answers,(function(e,n){return i("div",{key:n,staticClass:"wpc-form-row"},[i("div",{staticClass:"txt-h5 pre",staticStyle:{color:"#7c7d9c","margin-bottom":"5px"}},[t._v(t._s(e.question))]),""==e.answer?i("div",{staticClass:"pre",staticStyle:{"margin-bottom":"10px","font-size":"13px","font-style":"italic"}},[t._v(" ("+t._s(t.__("Not entered","wpcal"))+") ")]):i("div",{staticClass:"pre b",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(e.answer))])])})),0):t._e()])])]),i("BookingBottomPoweredBy")],1),i("BookingCancelModal",{attrs:{booking_details:t.booking_details,cancel_booking_btn_is_enabled:t.cancel_booking_btn_is_enabled},on:{"cancel-booking":function(e){return t.cancel_booking(e)}},model:{value:t.cancel_reason,callback:function(e){t.cancel_reason=e},expression:"cancel_reason"}})],1)},x=[],q=n("2f7b"),$=n("a046"),j=n("81cb"),C=n("bc3a"),O=n.n(C),S={components:{LocationAdvanced:q["a"],BookingBottomPoweredBy:j["a"],BookingCancelModal:$["a"]},data:function(){return{service_details:{},service_admin_details:{},booking_details:{},booking_unique_link:"",cancel_reason:"",redirect_text:"",cancel_booking_btn_is_enabled:!0,show_question_answers:!1}},computed:{booking_status_txt:function(){var e="";return this.booking_details.hasOwnProperty("status")?"1"==this.booking_details.status?(e=this.__("our meeting is confirmed!","wpcal"),"booking_view_rescheduled"===this.$route.name&&(e=this.__("our meeting is rescheduled successfully!","wpcal"))):"-1"==this.booking_details.status||"-2"==this.booking_details.status?(e=this.__("our meeting is cancelled!","wpcal"),"booking_view_cancelled"===this.$route.name&&(e=this.__("our meeting is cancelled successfully!","wpcal"))):e="-5"==this.booking_details.status?this.__("our meeting is rescheduled!","wpcal"):this.__("Technical error with meeting status.","wpcal"):e="...",e},is_booking_slot_time_passed:function(){var e=Math.round((new Date).getTime()/1e3);return this.booking_details&&this.booking_details.booking_to_time<e},can_show_rechedule_option:function(){return this.booking_details&&"1"==this.booking_details.status&&!this.is_booking_slot_time_passed},can_show_cancel_option:function(){return this.booking_details&&"1"==this.booking_details.status&&!this.is_booking_slot_time_passed}},methods:{load_booking_view:function(){var e=this;this.booking_unique_link=this.$route.params.unique_link;var t="view_booking",n={};n[t]={unique_link:this.booking_unique_link};var i={action:"wpcal_process_user_ajax_request",wpcal_request:n};O.a.post(window.wpcal_ajax.ajax_url,i).then((function(n){"success"==n.data[t].status&&(e.booking_details=n.data[t].booking_data,e.service_details=n.data[t].service_data,e.service_admin_details=n.data[t].service_admin_data,e.may_redirect_to_new_booking(),"booking_view_cancel"===e.$route.name&&e.$nextTick((function(){e.can_show_cancel_option&&e.show_cancel_confirmation()})))})).catch((function(e){console.log(e)}))},may_redirect_to_new_booking:function(){var e=this;"-5"==this.booking_details.status&&this.booking_details.rescheduled_booking_unique_link&&(this.redirect_text=this.__("Redirecting to new booking...","wpcal"),setTimeout((function(){e.$router.push("/booking/view/"+e.booking_details.rescheduled_booking_unique_link)}),2e3))},show_cancel_confirmation:function(){this.$modal.show("booking_cancel_confirm_modal")},cancel_booking:function(e){var t=this;this.cancel_booking_btn_is_enabled=!1;var n={},i="cancel_booking";n[i]={booking_unique_link:e.unique_link,cancel_reason:this.cancel_reason};var o={action:"wpcal_process_user_ajax_request",wpcal_request:n};O.a.post(window.wpcal_ajax.ajax_url,o).then((function(n){if(t.notify_single_action_result(n.data[i],{dont_notify_success:!0}),"success"==n.data[i].status){var o=new CustomEvent("wpcal_booking_cancelled",{detail:{booking_details:{unique_link:e.unique_link}}});document.dispatchEvent(o),t.$modal.hide("booking_cancel_confirm_modal"),t.$router.push("/booking/view/"+e.unique_link+"/cancelled")}})).catch((function(e){console.log(e)})).then((function(){t.$store.dispatch("run_booking_background_tasks_by_unique_link",{unique_link:e.unique_link}),t.cancel_booking_btn_is_enabled=!0}))}},watch:{"$route.name":function(){Object.assign(this.$data,this.$options.data.apply(this)),this.load_booking_view()},"$route.params.unique_link":function(){Object.assign(this.$data,this.$options.data.apply(this)),this.load_booking_view()}},mounted:function(){this.load_booking_view()}},T=S,P=(n("6ed8"),n("0a1f"),n("0351"),Object(l["a"])(T,y,x,!1,null,"52347f1a",null)),E=P.exports;i["default"].use(p["a"]);var M=[{path:"/",name:"user_home",component:v},{path:"/booking",name:"booking",children:[{path:"reschedule/:unique_link/",name:"booking_reschedule"},{path:"schedule_again/:unique_link/",name:"booking_schedule_again"},{path:"confirm",name:"booking_confirm",components:{step2:w["a"]}}],component:k["a"]},{path:"/booking/view/:unique_link",name:"booking_view",component:E,children:[{path:"confirmed",name:"booking_view_confirmed"},{path:"rescheduled",name:"booking_view_rescheduled"},{path:"cancelled",name:"booking_view_cancelled"},{path:"cancel",name:"booking_view_cancel"}]}],B=new p["a"]({mode:"abstract",routes:M});B.afterEach((function(e,t){var n=function(e){var t=e.fullPath,n=window.location.href,i=new URL(n);i.searchParams.set("wpcal_r",t),"/"!=t&&"/booking"!=t||i.searchParams.delete("wpcal_r");var o=i.toString(),a=Object(s["l"])("wpcal_r");a!=t&&window.history.pushState(null,"",o)};n(e)}));var L=B,A=n("2f62"),H=n("cdab");i["default"].use(A["a"]);var R=new A["a"].Store({strict:!0,modules:{common:H["a"]},state:{client_end:"user"}}),D=(n("399f"),n("1619"),n("751a"),n("1881")),G=n.n(D),W=n("404b"),z=n.n(W),I=n("1dce"),V=n.n(I),F=n("7f53"),J=n("2242"),U=n("e399"),N=n.n(U);n("2068");n.p=window.__wpcal_dist_url,i["default"].use(G.a,{dialog:!0}),i["default"].component("v-date-picker",z.a),i["default"].use(V.a),i["default"].use(F["a"],J["a"]);var Y={timeout:5e3,position:"topRight",drag:!1};i["default"].use(N.a,Y),i["default"].config.productionTip=!1,i["default"].prototype.__=s["c"],i["default"].prototype._x=s["g"],i["default"].prototype._n=s["e"],i["default"].prototype._nx=s["f"],i["default"].prototype.T__=s["c"],i["default"].prototype.T_x=s["g"],i["default"].prototype.T_n=s["e"],i["default"].prototype.T_nx=s["f"],i["default"].prototype.Tsprintf=s["b"];var K=null,Q=new Event("wpcal_load_booking_widget"),X=!1,Z=!1;document.addEventListener("wpcal_load_booking_widget",(function(){Object(s["j"])("event fired received: wpcal_load_booking_widget");var e=document.querySelector("#wpcal_user_app.loading-indicator-initial");if(e){if(!1===Z&&!1===X&&e.closest(".elementor-location-popup")&&!e.closest(".elementor-popup-modal"))return console.log("WPCal - Delaying check for elementor workaround"),void setTimeout((function(){X=!0,document.dispatchEvent(Q)}),600);K&&(K.$destroy(),K=null),K||(Object(s["j"])("Triggering wpcal vue instance"),Z=!0,K=new i["default"]({router:L,store:R,render:function(e){return e(d)}}).$mount("#wpcal_user_app"))}}));try{setTimeout((function(){Object(s["j"])("WPCal dispatch event after Vue load"),document.dispatchEvent(Q)}),10)}catch(ee){}},bf36:function(e,t,n){},eb9c:function(e,t,n){}});
//# sourceMappingURL=user.min.js.map