(function(t){function e(e){for(var a,o,_=e[0],r=e[1],l=e[2],d=0,u=[];d<_.length;d++)o=_[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);c&&c(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,_=1;_<i.length;_++){var r=i[_];0!==s[r]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={admin:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="http://localhost:8080/";var _=window["wpcalMainWebpackJsonp"]=window["wpcalMainWebpackJsonp"]||[],r=_.push.bind(_);_.push=e,_=_.slice();for(var l=0;l<_.length;l++)e(_[l]);var c=r;n.push([0,"chunk-vendors","chunk-common"]),i()})({0:function(t,e,i){t.exports=i("ad9c")},"005e":function(t,e,i){"use strict";i("84ed")},"03d0":function(t,e,i){"use strict";i("4a53")},"056a":function(t,e,i){"use strict";i("1dd7")},"07f5":function(t,e,i){"use strict";i("7deb")},1400:function(t,e,i){"use strict";i("2db2")},"1dd7":function(t,e,i){},"1ee9":function(t,e,i){"use strict";i("5ac6")},"23d3":function(t,e,i){},"27c6":function(t,e,i){},"27d6":function(t,e,i){},"2cd5":function(t,e,i){},"2db2":function(t,e,i){},3133:function(t,e,i){"use strict";i("9195")},3404:function(t,e,i){},"361c":function(t,e,i){"use strict";i("27d6")},3833:function(t,e,i){},"38ac":function(t,e,i){},"3a8c":function(t,e,i){},"3f23":function(t,e,i){"use strict";i("f663")},"401c":function(t,e,i){"use strict";i("a712")},4477:function(t,e,i){"use strict";i("5122")},4543:function(t,e,i){},4753:function(t,e,i){"use strict";i("27c6")},"4a53":function(t,e,i){},"4d8e":function(t,e,i){"use strict";i("6e16")},"4fc3":function(t,e,i){"use strict";i("ede4")},5122:function(t,e,i){},"524c":function(t,e,i){"use strict";i("94a4")},5366:function(t,e,i){},5536:function(t,e,i){"use strict";i("5fbe")},"59fb":function(t,e,i){"use strict";i("8c72")},"5ac6":function(t,e,i){},"5bcd":function(t,e,i){"use strict";i("e7fa")},"5f56":function(t,e,i){},"5fbe":function(t,e,i){},6806:function(t,e,i){},"6e16":function(t,e,i){},"71c3":function(t,e,i){"use strict";i("ce1a")},"7ab7":function(t,e,i){"use strict";i("ba0b")},"7deb":function(t,e,i){},"7f09":function(t,e,i){"use strict";i("38ac")},"84ed":function(t,e,i){},"88a5":function(t,e,i){},"8c72":function(t,e,i){},"8d79":function(t,e,i){"use strict";i("3833")},9195:function(t,e,i){},"94a4":function(t,e,i){},a1e2:function(t,e,i){"use strict";i("c937")},a712:function(t,e,i){},a817:function(t,e,i){"use strict";i("c8ed")},ad9c:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");window.__wpcal_client_end="admin";var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.main_styles,attrs:{id:"wpcal_admin_app"}},[i("IconFillSVG"),t.is_settings_loaded||!t.is_admin_end_access_granted?i("router-view"):t._e(),i("OnBoardingCheckList"),i("PricingCompareModal"),i("v-dialog",{staticStyle:{"z-index":"10001"},on:{"before-closed":function(e){return t.event_bus.$emit("dialog-before-closed",e)}}})],1)},n=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",["settings_calendars"==t.display_in&&t.is_show_todo_notice("add_calendar_account")?i("div",{staticClass:"ob-checklist-inline-cont"},[t._v(" You can, optionally, connect your Google Calendar account to sync your events. "),i("a",{staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){return t.dismiss_todo("add_calendar_account")}}},[t._v(" Dismiss ")])]):t._e(),"settings_integrations"==t.display_in&&t.is_show_todo_notice("add_meeting_app")?i("div",{staticClass:"ob-checklist-inline-cont"},[t._v(" Connect your meeting app accounts to use them as locations. When you invitees book with you, we'll email them the meeting links. "),i("a",{staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){return t.dismiss_todo("add_meeting_app")}}},[t._v(" Dismiss ")])]):t._e(),"settings_admins"==t.display_in&&t.is_show_todo_notice("add_wpcal_admin")?i("div",{staticClass:"ob-checklist-inline-cont"},[t._v(" Add your teammates to manage their own/others event types and bookings. "),i("a",{staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){return t.dismiss_todo("add_wpcal_admin")}}},[t._v(" Dismiss ")])]):t._e(),"admin_all"==t.display_in&&t.is_show_onboarding_checklist?i("div",{staticClass:"ob-checklist-cont"},[i("div",{staticClass:"ob-checklist-close-cont"},[i("button",{on:{click:t.show_dismiss_confirm}})]),i("div",{staticClass:"hdr"},[i("div",{staticClass:"ln1"},[t._v(t._s(t.T__("Let's get you started...")))])]),i("ul",[i("li",{class:[t.todo_class("create_or_edit_service")]},[i("router-link",{attrs:{to:"/event-type/add"}},[t._v(t._s(t.T__("Create")))]),t._v(" or "),i("router-link",{attrs:{to:"/event-types"}},[t._v(t._s(t.T__("Edit")))]),t._v(" an Event Type ")],1),i("li",{class:[t.todo_class("add_calendar_account")]},[i("router-link",{attrs:{to:"/settings/calendars"}},[t._v(t._s(t.T__("Connect calendar account"))+" ")])],1),i("li",{class:[t.todo_class("add_meeting_app")]},[i("router-link",{attrs:{to:"/settings/integrations"}},[t._v(t._s(t.T__("Connect meeting app account"))+" ")])],1),i("li",{class:[t.todo_class("test_booking")]},[i("span",{staticClass:"pseudo-a",on:{click:t.show_test_booking_steps}},[t._v(t._s(t.T__("Test a booking")))])]),i("li",{class:[t.todo_class("add_wpcal_admin")]},[i("router-link",{attrs:{to:"/settings/admins"}},[t._v(t._s(t.T__("Add your teammates")))])],1)])]):t._e(),"admin_all"==t.display_in&&t.is_show_onboarding_checklist?i("div",{staticStyle:{height:"250px"}}):t._e()])},_=[],r=(i("b0c0"),i("bc3a")),l=i.n(r),c={name:"OnBoardingCheckList",props:{display_in:{type:String,default:"admin_all"}},computed:{is_show_onboarding_checklist:function(){var t,e;return null!==this.$store.getters.get_license_info&&(!this._isEmpty(this.$store.getters.get_license_info)&&(!!this.onboarding_checklist_notice&&(null===(t=this.onboarding_checklist_notice)||void 0===t||!t.status||"dismissed"!=this.onboarding_checklist_notice.status&&"completed"!=(null===(e=this.onboarding_checklist_details)||void 0===e?void 0:e.status))))},onboarding_checklist_notice:function(){var t=this.$store.getters.get_current_admin_notices;return null!=t&&(!(null===t||void 0===t||!t.onboarding_checklist)&&(null===t||void 0===t?void 0:t.onboarding_checklist))},onboarding_checklist_details:function(){var t,e=null===(t=this.onboarding_checklist_notice)||void 0===t?void 0:t.details;return e}},methods:{todo_class:function(t){var e,i;return"completed"==(null===(e=this.onboarding_checklist_details)||void 0===e?void 0:e[t])||"dismissed"==(null===(i=this.onboarding_checklist_details)||void 0===i?void 0:i[t])?"completed":this.onboarding_checklist_details.hasOwnProperty(t)?"":"hide"},is_show_todo_notice:function(t){var e,i,a;return!!this.is_show_onboarding_checklist&&(!(null===(e=this.onboarding_checklist_details)||void 0===e||!e[t])&&("completed"!=(null===(i=this.onboarding_checklist_details)||void 0===i?void 0:i[t])&&"dismissed"!=(null===(a=this.onboarding_checklist_details)||void 0===a?void 0:a[t])))},dismiss_todo:function(t){var e=this,i={},a="update_admin_notices",s=this.clone_deep(this.onboarding_checklist_notice);s.details[t]="dismissed",i[a]={onboarding_checklist:s};var n="get_admin_notices";i[n]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,o).then((function(t){e.notify_single_action_result(t.data[a],{success_msg:e.T__("Successfully dismissed.")}),"success"===t.data[n].status&&t.data[n].hasOwnProperty("current_admin_notices")&&e.$store.commit("set_store_by_obj",{current_admin_notices:t.data[n].current_admin_notices})})).catch((function(t){console.log(t)}))},dismiss_onboarding:function(){var t=this,e={},i="update_admin_notices",a=this.clone_deep(this.onboarding_checklist_notice);a.status="dismissed",e[i]={onboarding_checklist:a};var s="get_admin_notices";e[s]="dummy__";var n={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:t.T__("Successfully dismissed.")}),"success"===e.data[s].status&&e.data[s].hasOwnProperty("current_admin_notices")&&t.$store.commit("set_store_by_obj",{current_admin_notices:e.data[s].current_admin_notices})})).catch((function(t){console.log(t)}))},update_notices_silently:function(){var t=this,e={},i="get_admin_notices";e[i]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){"success"===e.data[i].status&&e.data[i].hasOwnProperty("current_admin_notices")&&t.$store.commit("set_store_by_obj",{current_admin_notices:e.data[i].current_admin_notices})})).catch((function(t){console.log(t)}))},check_and_may_update_notices:function(t){this.is_show_todo_notice(t)&&this.update_notices_silently()},show_dismiss_confirm:function(){var t=this;this.$modal.show("dialog",{title:this.T__("Do you want to dismiss get you started list?"),text:"",buttons:[{title:this.T__("Yes, Dismiss."),class:"vue-dialog-button",handler:function(){t.dismiss_onboarding(),t.$modal.hide("dialog")}},{title:"No, don't.",handler:function(){t.$modal.hide("dialog")}}]})},show_test_booking_steps:function(){var t=this;this.$modal.show("dialog",{title:this.T__("Do a test booking?"),text:'<ol> <li>Choose a desired event type or create one.</li> <li>Click on "View Booking Page" of desired event type.</li> <li>Complete the booking steps by choosing the date & time and filling out the form.</li> <li>You can find the booking in the admin end WPCal &#62; Bookings section.</li> </ol>',buttons:[{title:this.T__("Okay"),class:"vue-dialog-button",handler:function(){"service_list"!==t.$route.name&&t.$router.push("/event-types"),t.$modal.hide("dialog")},default:!0}]})}},mounted:function(){var t=this;this.event_bus.$on("may_update_onboarding_checklist_notice",(function(e){t.check_and_may_update_notices(e)}))}},d=c,u=(i("3133"),i("2877")),m=Object(u["a"])(d,o,_,!1,null,"7e87c989",null),p=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"pricing_compare_modal",width:"700px",height:"auto",scrollable:!0,adaptive:!0}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){t.$modal.hide("pricing_compare_modal"),this.highlight_feature=""}}})]),i("PricingStrongerTogether",{attrs:{highlight_feature:t.highlight_feature}})],1)],1)},f=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"covid-consent-cont-table-plus"},[t._m(0),i("table",[t._m(1),t._m(2),i("tr",{class:{highlight:"services"==t.highlight_feature}},[i("td",[t._v("Number of active Event Types")]),i("td",[t._v("1 active event type")]),i("td",[t._v("Unlimited")]),i("td",[t._v("Unlimited")])]),t._m(3),i("tr",{class:{highlight:"wpcal_admins"==t.highlight_feature}},[i("td",[t._v("Number of WP admins who can create an event type")]),i("td",[t._v("1 admin per site")]),i("td",[t._v("Upto 10 admins per site")]),i("td",[t._v("Unlimited")])]),i("tr",{class:{highlight:"calendars"==t.highlight_feature}},[i("td",[t._v("Number of connected calendar accounts")]),i("td",[t._v("1 calendar account per admin")]),i("td",[t._v("Unlimited calendar accounts per admin")]),i("td",[t._v("Unlimited calendar accounts per admin")])]),t._m(4),t._m(5),i("tr",{class:{highlight:"questions"==t.highlight_feature}},[i("td",[t._v("Additional questions")]),i("td",[t._v("1")]),i("td",[t._v(" Unlimited ")]),i("td",[t._v(" Unlimited ")])]),i("tr",{class:{highlight:"email_features"==t.highlight_feature}},[i("td",[t._v(" Send email notifications from your own server ")]),i("td"),t._m(6),t._m(7)]),i("tr",{class:{highlight:"email_features"==t.highlight_feature}},[i("td",[t._v(" Email customization in PHP ")]),i("td"),t._m(8),t._m(9)]),i("tr",{class:{highlight:"branding_customization"==t.highlight_feature}},[i("td",[t._v(" Brand customization ")]),i("td"),i("td",[t._v(" Pro only ")]),t._m(10)])]),t._m(11)])},g=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"center",display:"flex",width:"100%"}},[i("div",{staticStyle:{"padding-right":"20px","padding-top":"10px"}},[t._v("ðŸš¨")]),i("div",{staticStyle:{flex:"1"}},[t._v(" To help you schedule meetings remotely, we are offering "),i("strong",[t._v("all paid features 100% FREE")]),t._v(" exclusively for use during the COVID-19 crisis. ")]),i("div",{staticStyle:{"padding-left":"20px","padding-top":"10px"}},[t._v("ðŸš¨")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td"),i("td",[t._v("Free forever")]),i("td",[t._v("Plus & Pro plans")]),i("td",[t._v(" Stronger, Together! Plan "),i("div",{staticStyle:{"background-color":"#fff200","font-size":"11px","font-weight":"normal","margin-top":"5px"}},[t._v(" All paid features 100% Free during Covid-19 crisis ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("Number of websites you can use the plugin on")]),i("td",[t._v("Unlimited")]),i("td",[t._v("Upto 5 sites")]),i("td",[t._v("Unlimited")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("Unlimited event scheduling by invitees")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{attrs:{x:""}},[i("td",[t._v("Google Calendar integration")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("Zoom, GoToMeeting, Google Meet integrations")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("span",{staticClass:"check"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("span",{staticClass:"check"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("span",{staticClass:"check"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("span",{staticClass:"check"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("span",{staticClass:"check"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"right"}},[i("a",{attrs:{href:"https://wpcal.io/?utm_source=wpcal_plugin&utm_medium=stronger_together_dialog#pricing",target:"_blank"}},[t._v("See Pricing for more Premium features â†—")])])}],b={props:{highlight_feature:{type:String,default:""}}},y=b,w=(i("361c"),Object(u["a"])(y,h,g,!1,null,"69d67168",null)),x=w.exports,k={components:{PricingStrongerTogether:x},data:function(){return{highlight_feature:""}},mounted:function(){var t=this;this.event_bus.$on("show-pricing-compare-modal",(function(e){t.highlight_feature=e,t.$modal.show("pricing_compare_modal")}))}},T=k,$=Object(u["a"])(T,v,f,!1,null,null,null),C=$.exports,S=i("93fb"),q={components:{OnBoardingCheckList:p,PricingCompareModal:C,IconFillSVG:S["a"]},computed:{is_settings_loaded:function(){return!this._isEmpty(this.$store.getters.get_general_settings)},is_admin_end_access_granted:function(){return this.$store.getters.get_is_admin_end_access_granted},main_styles:function(){var t={},e=this.$store.getters.get_general_settings;return e.hasOwnProperty("hide_premium_info_badges")&&"0"==e.hide_premium_info_badges&&(t["--hidePremiumInfoBadge"]="block"),t}},methods:{check_and_handle_license_info:function(){null!==this.$store.getters.get_license_info&&this._isEmpty(this.$store.getters.get_license_info)&&this.$router.push("/settings/account/login")}},watch:{"$store.getters.get_license_info":function(){this.check_and_handle_license_info()},is_admin_end_access_granted:function(t){t||this.$router.push("/non_wpcal_admin")}},created:function(){this.$store.dispatch("init")}},O=q,j=(i("eec2"),i("07f5"),i("4fc3"),Object(u["a"])(O,s,n,!1,null,null,null)),P=j.exports,A=i("1da1"),E=i("b85c"),z=(i("96cf"),i("ac1f"),i("1276"),i("8c4f")),N=(i("7db0"),i("d3b7"),i("2f62")),I=i("5c8a"),M=i("cdab");a["default"].use(N["a"]);var L=new N["a"].Store({strict:!0,modules:{common:M["a"]},state:{client_end:"admin",store:{license_info:null,current_admin_details:{},current_admin_notices:null,managed_active_admins_details:[],wpcal_site_urls:{},is_admin_end_access_granted:!0}},mutations:{set_license_info:function(t,e){t.store.license_info=e},set_managed_active_admins_details:function(t,e){t.store.managed_active_admins_details=e},set_store_by_obj:function(t,e){for(var i in e)t.store.hasOwnProperty(i)&&(t.store[i]=e[i])}},getters:{get_license_info:function(t){return t.store.license_info},get_current_admin_details:function(t){return t.store.current_admin_details},get_current_admin_notices:function(t){return t.store.current_admin_notices},get_managed_active_admins_details:function(t){return t.store.managed_active_admins_details},get_managed_active_admins_for_host_filter:function(t){var e=Object(I["a"])(t.store.managed_active_admins_details);if(Array.isArray(e)){var i={admin_user_id:"0",admin_type:"administrator",status:"1",name:"All",firstname:"",display_name:"All",user_email:"All"};e.unshift(i)}return e},get_admin_details:function(t){return function(e){var i={},a=Object(I["a"])(t.store.managed_active_admins_details),s=a.find((function(t){return t.admin_user_id==e}));return s||i}},get_wpcal_site_urls:function(t){return t.store.wpcal_site_urls},get_is_admin_end_access_granted:function(t){return t.store.is_admin_end_access_granted}},actions:{load_managed_active_admins_details:function(t){var e={},i="get_managed_active_admins_details_for_current_admin";e[i]="dummy__";var a={action:t.getters.get_ajax_main_action,wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){var a;"success"===e.data[i].status&&null!==(a=e.data[i])&&void 0!==a&&a.managed_active_admins_details&&t.commit("set_managed_active_admins_details",e.data[i].managed_active_admins_details)})).catch((function(t){console.log(t)}))}}}),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.T__("Event Types")))]),i("router-link",{staticClass:"page-title-action",attrs:{to:"/event-type/add"}},[t._v(t._s(t.T__("+ Create New Event Type")))]),i("PremiumInfoBadge",{staticStyle:{margin:"-6px 0 0 10px"},attrs:{highlight_feature:"services"}},[i("em",[t._v("Free: 1 active event type"),i("br"),t._v("Plus: Unlimited")])]),i("AdminHeaderRight")],1),i("div",{staticStyle:{display:"flex"}},[i("div",[i("div",{},[i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"et-filter-cont"},[i("div",{staticStyle:{color:"#7c7d9c","font-size":"11px","align-self":"center",padding:"0 7px"}},[t._v(" FILTER BY ")]),i("ul",{staticClass:"filters-bar"},[i("li",{staticClass:"bf-host"},[i("span",{staticClass:"bf-label",staticStyle:{"margin-right":"-35px"}},[t._v("Host")]),t._isEmpty(t.$store.getters.get_managed_active_admins_for_host_filter)?t._e():i("TypeToSelect",{staticClass:"no-border",attrs:{options:t.$store.getters.get_managed_active_admins_for_host_filter,label_field:"name",value_field:"admin_user_id"},on:{"changed-form-selected":function(e){return t.load_page()}},model:{value:t.filter_options.filter_by_admin_id,callback:function(e){t.$set(t.filter_options,"filter_by_admin_id",e)},expression:"filter_options.filter_by_admin_id"}})],1)])])]),i("div",{staticClass:"service-list-cont"},[t._isEmpty(t.grouped_service_list)&&t.first_time_service_list_loaded?i("div",{staticClass:"mbox",staticStyle:{"margin-left":"10px",display:"inline"}},[t._v(" There are no event types available. "),i("router-link",{attrs:{to:"/event-type/add"}},[t._v("Create a new event type")]),t._v(" now. ")],1):t._e(),t._l(t.grouped_service_list,(function(e,a){return i("div",{key:a,staticClass:"service-list-group"},[i("div",{staticClass:"service-list-group-admin-profile"},[t.$store.getters.get_admin_details(e.admin_user_id).profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.$store.getters.get_admin_details(e.admin_user_id).profile_picture,width:"30",title:t.$store.getters.get_admin_details(e.admin_user_id).display_name}}):t._e(),t._v(" "+t._s(0!=e.admin_user_id?t.$store.getters.get_admin_details(e.admin_user_id).name:"Other")+" ")]),i("div",{staticClass:"service-list-singles-cont"},t._l(e.services,(function(e,a){var s;return i("div",{key:a,staticClass:"service-list-single",class:(s={},s["clr-"+e.color]=!0,s.inactive=-1==e.status,s.private=1==e.is_manage_private,s["del-alert"]=t.show_delete_highlight("delete_highlight_service_id",e.id),s)},[i("h4",[i("a",{attrs:{href:"#/event-type/edit/"+e.id}},[1==e.is_manage_private?i("i"):t._e(),t._v(t._s(e.name))])]),i("div",{staticClass:"et-edit-link"},[i("a",{attrs:{href:"#/event-type/edit/"+e.id}},[t._v(t._s(t.T__("EDIT")))])]),i("OverflowMenu",{attrs:{menu_id:e.id},model:{value:t.service_overflow_menu_details,callback:function(e){t.service_overflow_menu_details=e},expression:"service_overflow_menu_details"}},[i("a",{staticClass:"menu-item del-hl",staticStyle:{color:"rgb(232, 70, 83)"},on:{click:function(i){return t.may_show_service_status_change_dialog(-2,e)},mouseover:function(i){return t.set_mouseover_on_delete("delete_highlight_service_id",e.id,!0)},mouseleave:function(i){return t.set_mouseover_on_delete("delete_highlight_service_id",e.id,!1)}}},[t._v(t._s(t.T__("Delete this Event Type")))]),i("div",{staticClass:"menu-item",staticStyle:{display:"flex !important"}},[i("span",{staticStyle:{color:"#7c7d9c !important","font-size":"13px"}},[t._v(t._s(t.T__("On/Off")))]),t.service_overflow_menu_details.open_menu_id!=e.id||1!=e.status&&-1!=e.status?t._e():i("OnOffSlider",{staticStyle:{"margin-left":"auto"},attrs:{name:e.id,true_value:"1",false_value:"-1"},on:{"prop-slider-value-changed":function(i){return t.may_show_service_status_change_dialog(i,e)}},model:{value:e.status,callback:function(i){t.$set(e,"status",i)},expression:"service.status"}})],1)]),i("div",{staticClass:"et-meta"},[t._v(" "+t._s(t._f("mins_to_str")(e.duration))+", "+t._s(t._f("relationship_type_str")(e.relationship_type))+" ")]),e.post_details.link?i("div",{staticStyle:{display:"flex","margin-top":"auto"}},[i("a",{staticClass:"view-booking-page",attrs:{href:e.post_details.link,target:"_blank"}},[t._v(t._s(t.T__("View Booking Page")))]),i("div",{staticStyle:{"margin-left":"auto"}},[t.$store.getters.get_admin_details(e.admin_user_id).profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.$store.getters.get_admin_details(e.admin_user_id).profile_picture,width:"30",title:t.$store.getters.get_admin_details(e.admin_user_id).display_name}}):t._e()])]):t._e()],1)})),0)])}))],2)]),t._m(0)])]),t.sample_real_service_details&&t.sample_real_service_details.name?i("AlertAdminToUpdateProfile",{attrs:{service_details:t.sample_real_service_details}}):t._e()],1)},W=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"help-column"},[i("div",[i("div",[t._v("Help docs")]),i("ul",[i("li",[i("a",{attrs:{href:"https://help.wpcal.io/en/article/where-to-find-the-event-type-booking-widget-shortcode-and-how-to-use-it-1fuyala/?utm_source=wpcal_plugin&utm_medium=admin_header",target:"_blank"}},[t._v("How to integrate booking widget with front end?")])]),i("li",[i("a",{attrs:{href:"https://help.wpcal.io/en/article/how-to-set-different-sizes-for-the-booking-widget-1cf6s2v/?utm_source=wpcal_plugin&utm_medium=admin_header",target:"_blank"}},[t._v("How to set different sizes of booking widget?")])]),i("li",[i("a",{attrs:{href:"https://help.wpcal.io/?utm_source=wpcal_plugin&utm_medium=admin_et_list",target:"_blank"}},[t._v("More help docs.")])])])])])}],B=(i("99af"),i("c740"),i("4e82"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.slider_value,expression:"slider_value"}],staticClass:"slider-checkbox",attrs:{type:"checkbox",id:"slider_"+t.name,"true-value":t.true_value,"false-value":t.false_value,disabled:t.disabled},domProps:{checked:Array.isArray(t.slider_value)?t._i(t.slider_value,null)>-1:t._q(t.slider_value,t.true_value)},on:{change:function(e){var i=t.slider_value,a=e.target,s=a.checked?t.true_value:t.false_value;if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&(t.slider_value=i.concat([n])):o>-1&&(t.slider_value=i.slice(0,o).concat(i.slice(o+1)))}else t.slider_value=s}}}),i("label",{staticClass:"slider-label",attrs:{for:"slider_"+t.name}},[i("span",{staticClass:"slider-inner"}),i("span",{staticClass:"slider-circle"})])])}),R=[],Y={name:"OnOffSlider",model:{prop:"prop_slider_value",event:"prop-slider-value-changed"},props:{prop_slider_value:{type:String},name:{type:String},true_value:{},false_value:{},disabled:{type:Boolean,default:!1}},computed:{slider_value:{get:function(){return this.prop_slider_value},set:function(t){this.$emit("prop-slider-value-changed",t)}}}},H=Y,F=(i("005e"),Object(u["a"])(H,B,R,!1,null,"27868b2f",null)),U=F.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"ttf_container",staticClass:"ttf-cont",style:{width:t.cont_elem_width}},[i("v-select",{ref:"ttf_select",staticClass:"ttf-v-selector",attrs:{label:t.label_field,options:t.options,value:t.form_selected,clearable:!1,appendToBody:!0,"calculate-position":t.with_popper,reduce:function(e){return e[t.value_field]},disabled:t.disabled,"filter-by":t.filterBy},on:{input:function(e){return t.check_and_set_tz(e)},open:t.update_cont_width,close:t.update_cont_width},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,i){return{key:i,fn:function(e){return[t._t(i,null,null,e)]}}}))],null,!0)})],1)},V=[],Z=i("4a7a"),Q=i.n(Z),J=(i("6dfc"),i("39c3")),K={name:"TypeToSelect",components:{vSelect:Q.a},model:{prop:"form_selected",event:"changed-form-selected"},props:{form_selected:{},label_field:{type:String,default:"label"},value_field:{type:String,default:"id"},options:{type:Array},disabled:{type:Boolean,default:!1},filterBy:{default:void 0}},data:function(){return{cont_elem_width:"auto",last_cont_elem_width:""}},methods:{check_and_set_tz:function(t){this.$emit("changed-form-selected",t)},with_popper:function(t,e,i){var a=i.width;t.style.width=a,t.style["z-index"]=99e3,t.classList.add("wpcal-v-select-body-dropdown");var s=Object(J["a"])(e.$refs.toggle,t,{modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn:function(t){var i=t.state;e.$el.classList.toggle("drop-up","top"===i.placement)}},{name:"preventOverflow",options:{boundary:this.$refs.ttf_container,padding:-1}}]});return function(){return s.destroy()}},update_cont_width:function(){var t=this;this.$refs.ttf_select.$data.open?this.cont_elem_width=this.last_cont_elem_width?this.last_cont_elem_width+"px":"auto":(this.cont_elem_width="auto",this.$nextTick((function(){t.last_cont_elem_width=t.$refs["ttf_container"].clientWidth})))}},mounted:function(){var t=this;this.$nextTick((function(){t.last_cont_elem_width=t.$refs["ttf_container"].clientWidth}))},watch:{options:function(){var t=this;this.$nextTick((function(){t.last_cont_elem_width=t.$refs["ttf_container"].clientWidth}))}}},X=K,tt=(i("4d8e"),Object(u["a"])(X,G,V,!1,null,null,null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"overflow-options-cont",style:{"z-index":t.overflow_menu_details.open_menu_id==t.menu_id?"1":""},attrs:{id:"overflow_options_cont_id_"+t.menu_id}},[i("a",{staticClass:"overflow-btn",attrs:{id:"overflow_icon_"+t.menu_id},on:{click:function(e){return t.toggle_menu(t.menu_id)}}}),i("div",{staticClass:"popper-cont",class:{hidden:t.overflow_menu_details.open_menu_id!=t.menu_id},attrs:{id:"overflow_menu_"+t.menu_id}},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),i("span",{staticClass:"overflow-options"},[t._t("default")],2)])])},at=[],st=(i("a9e3"),{name:"OverflowMenu",model:{prop:"overflow_menu_details",event:"overflow-menu-details-changed"},props:{menu_id:{type:[Number,String]},overflow_menu_details:{type:Object},popper_position:{type:String,default:"bottom-end"}},data:function(){return{}},methods:{may_destroy_popper:function(){this.overflow_menu_details.popper_instance&&(this.overflow_menu_details.popper_instance.destroy(),this.overflow_menu_details.popper_instance=null)},toggle_menu:function(t){var e=this;this.overflow_menu_details.open_menu_id=this.overflow_menu_details.open_menu_id==t?null:t,this.$nextTick((function(){if(e.overflow_menu_details.open_menu_id){var i=document.querySelector("#overflow_icon_"+t),a=document.querySelector("#overflow_menu_"+t);e.overflow_menu_details.popper_instance=Object(J["a"])(i,a,{placement:e.popper_position,modifiers:[{name:"offset",options:{offset:[0,5]}}]}),e.on_click_outside("#overflow_options_cont_id_"+t,(function(){e.overflow_menu_details.open_menu_id==t&&(e.overflow_menu_details.open_menu_id=null)}))}}))}},watch:{"overflow_menu_details.open_menu_id":function(t){null==t&&this.may_destroy_popper()}}}),nt=st,ot=(i("ef4c"),Object(u["a"])(nt,it,at,!1,null,"3a345ca8",null)),_t=ot.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_current_admin_profile_needs_an_update?i("div",[i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"alert_admin_to_update_profile_modal",width:"600px",height:"auto",adaptive:!0}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("alert_admin_to_update_profile_modal")}}})]),i("div",{staticStyle:{"text-align":"center",padding:"20px"}},[i("div",{staticStyle:{"font-size":"16px","font-weight":"500"}},[t._v(" "+t._s(t.T__("Booking Widget Info Preview"))+" ")]),i("div",{staticClass:"gravatar-name-onboarding"},[i("img",{attrs:{src:t.admin_details.profile_picture,width:"75"}}),i("div",{staticClass:"display-name"},[t._v(t._s(t.admin_details.display_name))]),t.service_details.name?i("div",{staticClass:"event-type-name"},[t._v(" "+t._s(t.service_details.name)+" ")]):t._e(),t.service_details.duration?i("div",{staticClass:"event-type-duration"},[t._v(" "+t._s(t._f("mins_to_str")(t.service_details.duration))+" ")]):t._e()]),i("div",{staticStyle:{"font-size":"16px","margin-bottom":"20px","line-height":"1.6em"}},[t._v(" "+t._s(t.T__("Want to change your Avatar or Display name?"))+" "),i("br"),t._v(" "+t._s(t.T__("Go to"))+" "),i("router-link",{staticStyle:{"font-size":"16px"},attrs:{to:"/settings/profile"}},[t._v(t._s(t.T__("Settings â€º Profile"))+" ")])],1),i("a",{on:{click:t.dismiss_notice}},[t._v(t._s(t.T__("Nope, everything looks good")))])])]),i("a",{staticStyle:{display:"none"},on:{click:t.check_and_show_alert_to_admin}},[t._v("Lorem ipsum... Admin profile check")])],1):t._e()},lt=[],ct={props:{service_details:{}},computed:{is_current_admin_profile_needs_an_update:function(){if(this._isEmpty(this.admin_details))return!1;var t=this.admin_details;if(!t.id)return!1;var e=this.$store.getters.get_current_admin_notices;return null!=e&&(!e.hasOwnProperty("alert_admin_to_update_profile_for_name_v2")||!e.alert_admin_to_update_profile_for_name_v2.hasOwnProperty("status")||"dismissed"!=e.alert_admin_to_update_profile_for_name_v2.status)},admin_details:function(){return this.$store.getters.get_current_admin_details}},methods:{show_alert_admin_to_update_profile_modal:function(){this.$modal.show("alert_admin_to_update_profile_modal")},check_and_show_alert_to_admin:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("get_settings_and_defaults",{background_call:!0});case 2:t.is_current_admin_profile_needs_an_update&&t.show_alert_admin_to_update_profile_modal();case 3:case"end":return e.stop()}}),e)})))()},dismiss_notice:function(){var t=this;this.$modal.hide("alert_admin_to_update_profile_modal");var e={},i="update_admin_notices";e[i]={alert_admin_to_update_profile_for_name_v2:{status:"dismissed"}};var a="get_admin_notices";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:t.T__("Successfully dismissed.")}),"success"===e.data[a].status&&e.data[a].hasOwnProperty("current_admin_notices")&&t.$store.commit("set_store_by_obj",{current_admin_notices:e.data[a].current_admin_notices})})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;setTimeout((function(){return t.check_and_show_alert_to_admin()}),1e3)}},dt=ct,ut=(i("3f23"),Object(u["a"])(dt,rt,lt,!1,null,"14402081",null)),mt=ut.exports,pt={data:function(){return{last_confirmed_action:null}},methods:{may_show_service_status_change_dialog:function(t,e){var i=this,a=[1,-1,-2,"1","-1","-2"];if(-1!=a.indexOf(t)){this.last_confirmed_action=null,"ServiceList"==this.$options.name&&1!=t&&(this.service_overflow_menu_details.open_menu_id=null);var s="<ul class='bull'><li>"+this.T__("Existing bookings will NOT be affected.")+"</li><li>"+this.T__("New booking and rescheduling will NOT be allowed.")+"</li><li>"+this.T__("Cancellation will be allowed.")+"</li></ul>",n=(this.T__("turn on"),this.T__("Turn On")),o="",_="";if(-1==t)this.T__("turn off"),n=this.T__("Yes, turn off."),o=s+'<span class="wpcal_fix_service_disable_attempt"></span>',_="Turn off "+e.name+"?";else if(-2==t)"delete",n=this.T__("Yes, delete."),o=s,_="Delete "+e.name+"?";else if(1==t)return void this.change_service_status(t,e);this.$modal.show("dialog",{title:_,text:o,buttons:[{title:n,class:-1==t||-2==t?"vue-dialog-button dialog-red-btn":"",handler:function(){i.change_service_status(t,e),i.last_confirmed_action=-1==t?"disable":null,i.$modal.hide("dialog")}},{title:this.T__("No, don't."),default:!0,handler:function(){i.load_page(),i.$modal.hide("dialog")}}]})}},change_service_status:function(t,e){var i=this,a={},s="update_service_status_of_current_admin";a[s]={service_id:e.id,status:t};var n="get_managed_services_for_current_admin";"ServiceList"==this.$options.name&&(a[n]=this.filter_options);var o="edit_service";"ServiceForm"==this.$options.name&&(a[o]={service_id:this.service_id});var _={action:"wpcal_process_admin_ajax_request",wpcal_request:a};l.a.post(window.wpcal_ajax.ajax_url,_).then((function(t){i.notify_single_action_result(t.data[s],{dont_notify_success:!0}),"ServiceList"==i.$options.name&&(i.notify_single_action_result(t.data[n],{dont_notify_success:!0}),t.data&&t.data[n].hasOwnProperty("service_list")&&(i.service_list=t.data[n].service_list)),"ServiceForm"==i.$options.name&&t.data&&t.data[o].hasOwnProperty("service_data")&&(i.form=t.data[o].service_data,i.saved_form=i.clone_deep(i.form))})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.event_bus.$on("dialog-before-closed",(function(e){null!==e&&void 0!==e&&e.ref&&e.ref.querySelector(".wpcal_fix_service_disable_attempt")&&("ServiceList"==t.$options.name&&"disable"!=t.last_confirmed_action?t.service_list=t.clone_deep(t.saved_service_list):"ServiceForm"==t.$options.name&&(t.form=t.clone_deep(t.saved_form)))}))}},vt={name:"ServiceList",mixins:[pt],components:{OnOffSlider:U,TypeToSelect:et,AlertAdminToUpdateProfile:mt,OverflowMenu:_t},data:function(){return{document_title:this.T__("Event Types"),service_list:{},saved_service_list:{},filter_options:{filter_by_admin_id:this.$store.getters.get_current_admin_details.id},first_time_service_list_loaded:!1,service_overflow_menu_details:{open_menu_id:null,popper_instance:null},delete_highlight_service_id:null}},computed:{grouped_service_list:function(){var t,e=[],i=[],a=[],s=this.$store.getters.get_managed_active_admins_details,n=Object(E["a"])(s);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.push({admin_user_id:o.admin_user_id,services:[]})}}catch(p){n.e(p)}finally{n.f()}var _,r=Object(E["a"])(this.service_list_final);try{var l=function(){var t=_.value,i=e.findIndex((function(e){return e.admin_user_id==t.admin_user_id}));if(-1==i)return a.push(t),"continue";e[i].services.push(t)};for(r.s();!(_=r.n()).done;)l()}catch(p){r.e(p)}finally{r.f()}var c=this.clone_deep(e);e=[];var d,u=Object(E["a"])(c);try{for(u.s();!(d=u.n()).done;){var m=d.value;this._isEmpty(m.services)||e.push(m)}}catch(p){u.e(p)}finally{u.f()}return a.length&&(i[0]={admin_user_id:0,services:this.clone_deep(a)},e=e.concat(i)),e},service_list_final:function(){if(!Array.isArray(this.service_list)||!this.service_list.length)return[];var t=this.clone_deep(this.service_list);return t.sort((function(t,e){return e.id-t.id})),t},sample_real_service_details:function(){var t=null;if(Array.isArray(this.service_list_final)&&this.service_list_final.length){for(var e in this.service_list_final)if("1"==this.service_list_final[e].status){t=this.clone_deep(this.service_list_final[e]);break}t||(t=this.clone_deep(this.service_list_final[0]))}return t}},methods:{load_page:function(){var t=this,e="get_managed_services_for_current_admin",i={};i[e]=this.filter_options;var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){t.notify_single_action_result(i.data[e],{dont_notify_success:!0}),i.data&&i.data[e].hasOwnProperty("service_list")&&(t.service_list=i.data[e].service_list,t.saved_service_list=t.clone_deep(t.service_list),t.first_time_service_list_loaded=!0)})).catch((function(t){console.log(t)}))}},mounted:function(){this.load_page(),this.$store.dispatch("load_managed_active_admins_details")}},ft=vt,ht=(i("a817"),Object(u["a"])(ft,D,W,!1,null,"06620e8e",null)),gt=ht.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.page_title))]),i("AdminHeaderRight")],1),i("div",{class:{"create-event-type":"add"==t.view,"edit-event-type":"edit"==t.view}},[i("div",{staticClass:"steps-main",class:{"step-last":"add"==t.view&&t.tabs_flow.steps[2].form}},["add"==t.view?i("div",[i("div",{staticClass:"validation_errors_cont"}),i("ServiceFormStep1",{attrs:{$v:t.$v,step:t.tabs_flow.steps[0],view:t.view,form:t.form},on:{"validate-may-navigate-or-submit":function(e){return t.validate_may_navigate_or_submit(e)},"set-active-step-and-toggle":t.set_active_step_and_toggle}}),i("ServiceFormStep2",{attrs:{$v:t.$v,step:t.tabs_flow.steps[1],view:t.view,form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"validate-may-navigate-or-submit":function(e){return t.validate_may_navigate_or_submit(e)},"set-active-step-and-toggle":t.set_active_step_and_toggle}}),i("ServiceFormStep3",{attrs:{$v:t.$v,step:t.tabs_flow.steps[2],view:t.view,form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"validate-may-navigate-or-submit":function(e){return t.validate_may_navigate_or_submit(e)}}})],1):t._e(),"edit"==t.view?i("div",[i("div",{staticClass:"validation_errors_cont"})]):t._e(),"edit"==t.view?i("ServiceFormEditView",{attrs:{$v:t.$v,view:t.view,service_id:t.service_id,form:t.form,saved_form:t.saved_form,edit_view:t.edit_view,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"submit-form":function(e){return t.validate_may_navigate_or_submit(e)},"save-questions":function(e){return t.form_submit()},"edit-view-toggle-steps":function(e){return t.edit_view_toggle_steps(e)},"change-service-status":function(e){return t.may_show_service_status_change_dialog(e,{id:t.service_id,name:t.saved_form.name})}}}):t._e()],1)]),"edit"==t.view?i("AdminInfoLine",{attrs:{timezone:t.saved_form.timezone,info_slugs:"edit"==t.view?["booking_default_reminder_email","timings_in_timezone","conflict_resolution_for_host"]:[]}}):t._e()],1)},yt=[],wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active"},[i("div",{staticClass:"step-title"},[t._v(t._s(t.T__("Select Participant Type")))]),i("div",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[i("form-row",{attrs:{validator:t.$v.form.relationship_type}},[i("ul",{staticClass:"selector block"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.relationship_type,expression:"form.relationship_type"}],attrs:{type:"radio",id:"one-on-one",name:"participant-type",value:"1to1"},domProps:{checked:t._q(t.form.relationship_type,"1to1")},on:{change:function(e){return t.$set(t.form,"relationship_type","1to1")}}}),i("label",{attrs:{for:"one-on-one"}},[i("div",{staticClass:"txt-h4"},[t._v(t._s(t.T__("One-on-One")))]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Allow invitees to book individual slots with you."))+" ")])])]),i("li",{staticClass:"disabled"},[i("input",{attrs:{type:"radio",name:"participant-type",id:"invitee-group",disabled:""}}),i("label",{attrs:{for:"invitee-group"}},[i("div",{staticClass:"txt-h4"},[t._v(" "+t._s(t.T__("Group"))),i("em",{staticClass:"coming-soon"},[t._v("COMING SOON")])]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Allow multiple invitees to book the same slot. Useful for tours, webinars, classes, workshops, etc."))+" ")])])]),i("li",{staticClass:"disabled"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.relationship_type,expression:"form.relationship_type"}],attrs:{type:"radio",id:"collective",name:"participant-type",value:"collective",disabled:""},domProps:{checked:t._q(t.form.relationship_type,"collective")},on:{change:function(e){return t.$set(t.form,"relationship_type","collective")}}}),i("label",{attrs:{for:"collective"}},[i("div",{staticClass:"txt-h4"},[t._v(" "+t._s(t.T__("Collective"))),i("span",[t._v("TEAM")]),i("em",{staticClass:"coming-soon"},[t._v("COMING SOON")])]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Allow invitees to book slots when all assigned hosts are available."))+" ")])])]),i("li",{staticClass:"disabled"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.relationship_type,expression:"form.relationship_type"}],attrs:{type:"radio",id:"round_robin",name:"participant-type",value:"round_robin",disabled:""},domProps:{checked:t._q(t.form.relationship_type,"round_robin")},on:{change:function(e){return t.$set(t.form,"relationship_type","round_robin")}}}),i("label",{attrs:{for:"round_robin"}},[i("div",{staticClass:"txt-h4"},[t._v(" "+t._s(t.T__("Round Robin"))),i("span",[t._v("TEAM")]),i("em",{staticClass:"coming-soon"},[t._v("COMING SOON")])]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Assign slots to available hosts, cyclically."))+" ")])])])])]),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button"},on:{click:function(e){return t.$emit("validate-may-navigate-or-submit",1)}}},[t._v(" "+t._s(t.T__("Continue"))+" ")])])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.summary,expression:"step.summary"}],staticClass:"step-single summary"},[i("div",{staticClass:"step-title"},[i("span",[t._v(t._s(t.T__("Participant type")))]),i("a",{on:{click:function(e){return t.$emit("set-active-step-and-toggle",1)}}},[t._v(t._s(t.T__("EDIT")))])]),i("div",{staticClass:"step-summary-content"},[t._v(t._s(t.T__("One-on-One")))])])])},xt=[],kt={name:"ServiceFormStep1",props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},$v:{}},mounted:function(){"add"==this.view&&(this.$props.step.summary=!0)}},Tt=kt,$t=(i("401c"),Object(u["a"])(Tt,wt,xt,!1,null,"5ecf4cde",null)),Ct=$t.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.upcoming,expression:"step.upcoming"}],staticClass:"step-single upcoming"},[i("div",{staticClass:"step-title"},[t._v(t._s(t.T__("Event type details")))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active",attrs:{id:"service_form_step"+t.step.id}},[i("div",{staticClass:"step-title"},[t._v(t._s(t.T__("Event Type Details")))]),i("div",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[i("form-row",{attrs:{validator:t.$v.form.name}},[i("label",{attrs:{for:"form_name"}},[t._v(" "+t._s(t.T__("Event type name"))+" "),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("The event type name will be visible to your invitees. Enter something that will guide them through the booking process. Eg. Consultation call with John."))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],ref:"service_name",attrs:{id:"form_name",type:"text"},domProps:{value:t.form.name},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.form.is_manage_private}},[i("label",[t._v(" "+t._s(t.T__("Privately-managed event type"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/what-is-a-privately-managed-event-type-how-to-use-it-724zbj/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}})]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Only you will be able to view and manage this event type and its bookings. It will be not be visible to other admins."))+" ")]),i("div",{staticClass:"private-et-slider-cont",class:{private_event_disabled:t.is_disable_manage_private},staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(t.T__("Will this event type be privately managed?"))+" "),i("span",{staticStyle:{"margin-left":"auto"},on:{click:t.may_show_manage_private_not_changeable_error}},[i("OnOffSlider",{staticStyle:{"margin-left":"auto"},attrs:{name:"service_private",true_value:"1",false_value:"0",disabled:t.is_disable_manage_private},model:{value:t.form.is_manage_private,callback:function(e){t.$set(t.form,"is_manage_private",e)},expression:"form.is_manage_private"}})],1)]),t.is_current_admin_is_host?t._e():i("div",[t._v(" "+t._s(t.T__("You cannot set another admin's event type as privately managed."))+" ")])]),i("form-row",{attrs:{validator:t.$v.form.service_admin_user_ids}},[i("label",[t._v(" "+t._s(t.T__("Host"))+" "),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("This event type will be assigned to the admin you select below. The same admin's profile will be used while displaying the event type."))+" ")]),i("div",{staticClass:"et-create-host-selector",staticStyle:{"margin-bottom":"5px"},on:{click:t.may_show_host_selector_not_changeable_error}},[i("HostSelector1ToN",{attrs:{max_host:1,disabled:t.is_disable_host_selector},model:{value:t.form.service_admin_user_ids,callback:function(e){t.$set(t.form,"service_admin_user_ids",e)},expression:"form.service_admin_user_ids"}})],1),t.is_disable_host_selector?i("div",[t._v(" "+t._s(t.T__("You cannot change the host for your privately managed event types."))+" ")]):t._e(),i("div",{staticStyle:{"margin-top":"5px"}},[i("router-link",{attrs:{to:"/settings/admins"}},[t._v("Add new host to WPCal")])],1)]),"add"==t.view?i("div",{staticClass:"wpc-form-row"},[i("label",{staticStyle:{cursor:"default"},attrs:{for:"form_unique_link"}},[t._v(" "+t._s(t.T__("Event type booking page"))+" ")]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("A page will be created and the booking widget will be added to it. You can manage it after creating this event type."))+" ")])]):t._e(),i("form-row",[i("label",[t._v(" "+t._s(t.T__("Location (online & offline)"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/how-to-setup-meeting-locations-online-offline-for-event-types-7b10qh/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}}),i("em",[t._v(t._s(t.T__("optional")))])]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Use this to specify how and where both parties will connect at the scheduled time. This will be displayed in the booking screen."))+" ")]),i("AdminLocationSelector",{attrs:{form:t.form},model:{value:t.form.locations,callback:function(e){t.$set(t.form,"locations",e)},expression:"form.locations"}})],1),i("form-row",{attrs:{validator:t.$v.form.descr}},[i("label",{attrs:{for:"form_descr"}},[t._v(" "+t._s(t.T__("Description/Instructions"))+" "),i("em",[t._v(t._s(t.T__("optional")))])]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Use this to provide a short description of your event. This will be displayed in the booking screen."))+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.descr,expression:"form.descr"}],attrs:{id:"form_descr"},domProps:{value:t.form.descr},on:{input:function(e){e.target.composing||t.$set(t.form,"descr",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.form.color}},[i("label",[t._v(" "+t._s(t.T__("Event type color"))+" "),i("em",[t._v(t._s(t.T__("required")))])]),i("ColorSelector",{attrs:{form:t.form,color_prop:"color"}})],1),i("div",{staticClass:"wpc-form-row"},["add"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button"},on:{click:function(e){return t.$emit("validate-may-navigate-or-submit",2)}}},[t._v(" "+t._s(t.T__("Continue"))+" ")]):"edit"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("submit-form",2)}}},[t._v(" "+t._s(t.T__("Save"))+" ")]):t._e(),"edit"==t.view?i("button",{staticClass:"wpc-btn tert-link sm mt10 center",attrs:{type:"button"},on:{click:function(e){return t.$emit("edit-view-toggle-steps")}}},[t._v(" "+t._s(t.T__("Cancel"))+" ")]):t._e()])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.summary,expression:"step.summary"}],staticClass:"step-single summary"},[i("div",{staticClass:"step-title"},[i("span",[t._v(t._s(t.T__("Event type details")))]),i("a",{on:{click:function(e){return t.$emit("set-active-step-and-toggle",2)}}},[t._v(t._s(t.T__("EDIT")))])]),i("div",{staticClass:"step-summary-content"},[i("div",[t._v(t._s(t.form.name))]),t.form.locations.length?i("div",[i("span",{staticStyle:{display:"flex"},domProps:{innerHTML:t._f("locations_summary")(t.form.locations)}})]):t._e()])])])},qt=[],Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"event-type-colors"},t._l(t.colors,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form[t.color_prop],expression:"form[color_prop]"}],attrs:{type:"radio",id:"clr-"+a,name:"event-type-clr"},domProps:{value:e,checked:t._q(t.form[t.color_prop],e)},on:{change:function(i){return t.$set(t.form,t.color_prop,e)}}}),i("label",{class:"clr-"+e,attrs:{for:"clr-"+a}})])})),0)])},jt=[],Pt={props:{form:{},color_prop:{}},data:function(){return{colors:["chill","sunflower","nephritis","carrot","belize","alizarin","wisteria","prunus","midnightblue","concrete"]}}},At=Pt,Et=(i("4477"),Object(u["a"])(At,Ot,jt,!1,null,"13a331cc",null)),zt=Et.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"wpc-form-row",staticStyle:{"margin-bottom":"0"}},[i("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.selected_locations.length>1?t.selected_locations_drag_drop_options:{},expression:"\n        selected_locations.length > 1\n          ? selected_locations_drag_drop_options\n          : {}\n      ",arg:"options"}],key:t.selected_locations.length>1?100:0,staticClass:"mbox cal-accs",staticStyle:{"margin-bottom":"0"}},[i("div",{staticClass:"set-locations-cont",on:{reordered:t.reorder_selected_locations}},t._l(t.selected_locations,(function(e,a){var s;return i("div",{key:a,staticClass:"set-locations-single",class:(s={},s["location_"+e.type]=!0,s["del-alert"]=t.show_delete_alert(a),s),attrs:{"data-id":a}},[i("div",{class:{"reorder-handle":t.selected_locations.length>1}}),i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("location_name_by_type")(e.type))+" "),t.is_having_edit_options(e)?i("a",{staticStyle:{"margin-right":"30px","margin-left":"auto"},on:{click:function(i){return t.may_show_popup_form(e,"edit",a)}}},[t._v(t._s(t.T__("EDIT")))]):t._e()]),i("div",{staticClass:"icon-delete",on:{click:function(e){t.remove_from_selected_locations(a),t.set_mouseover(a,!1)},mouseover:function(e){return t.set_mouseover(a,!0)},mouseleave:function(e){return t.set_mouseover(a,!1)}}}),!1!==t.is_tp_service_account_connected(e.type)?i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.get_meta_data_for_location(e))+" ")]):t._e(),!1===t.is_tp_service_account_connected(e.type)?i("div",{staticClass:"txt-help",staticStyle:{"margin-top":"5px",color:"#ea1919"}},[t._v(" "+t._s(t.tp_service_not_connected_text(e))+" "),i("span",{domProps:{innerHTML:t._s(t.tp_service_not_connected_to_do_content(e))}})]):t._e()])})),0),t.selected_locations.length?i("span",{staticClass:"txt-help",staticStyle:{"padding-top":"0","padding-bottom":"5px"}},[t._v(t._s(t.T__("You can give more location options from which your invitees can choose one.")))]):t._e(),t.show_add_location_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",attrs:{disabled:!t.enable_add_new_location,title:t.enable_add_new_location?"":this.T__("You can add only upto 10 locations.")},on:{click:function(e){t.show_add_location_list=!0}}},[t._v(" "+t._s(t.T__("+ Add Location"))+" ")]),t.show_add_location_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v(t._s(t.T__("Add a Location")))]),i("ul",{staticClass:"selector block compact location"},t._l(t.all_locations_final,(function(e,a){return i("li",{key:a},[i("label",{class:"location_"+e.type,on:{click:function(i){return t.add_to_selected_locations(e)}}},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("location_name_by_type")(e.type))+" ")]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t._f("location_short_descr_by_type")(e.type))+" ")])])])})),0)]):t._e()])]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"location_advance_modal",adaptive:!0,height:"auto",width:"360px"},on:{"before-close":t.location_advance_modal_on_before_close}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("location_advance_modal")}}})]),i("div",{staticClass:"mbox bg-light shadow mb0"},[i("div",{staticStyle:{"font-size":"16px","text-align":"center","margin-bottom":"10px",padding:"5px 0"}},[t._v(" "+t._s(t._f("location_name_by_type")(t.current_popup_location.type))+" ")]),t.current_popup_location.form?i("div",[t.current_popup_location.form.hasOwnProperty("who_calls")?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.who_calls}},[i("ul",{staticClass:"selector block mt10 "},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.who_calls,expression:"current_popup_location.form.who_calls"}],attrs:{type:"radio",id:"who_calls_admin",name:"who_calls",value:"admin"},domProps:{checked:t._q(t.current_popup_location.form.who_calls,"admin")},on:{change:function(e){return t.$set(t.current_popup_location.form,"who_calls","admin")}}}),i("label",{attrs:{for:"who_calls_admin"}},[i("div",{staticClass:"txt-h5"},[t._v(t._s(t.T__("I will call my invitee")))]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" "+t._s(t.T__("We'll ask your inviteeâ€™s phone number before scheduling."))+" ")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.who_calls,expression:"current_popup_location.form.who_calls"}],attrs:{type:"radio",id:"who_calls_invitee",name:"who_calls",value:"invitee"},domProps:{checked:t._q(t.current_popup_location.form.who_calls,"invitee")},on:{focus:function(e){return t.ref_focus("location_txt")},click:function(e){return t.ref_focus("location_txt")},change:function(e){return t.$set(t.current_popup_location.form,"who_calls","invitee")}}}),i("label",{attrs:{for:"who_calls_invitee"}},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t.T__("My invitee should call me"))+" ")]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" "+t._s(t.T__("We'll provide your number after the call has been scheduled."))+" ")])])])])]):t._e(),t.popup_show_location_field?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.location},scopedSlots:t._u([{key:"after",fn:function(){return[i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.location_help_txt)+" ")])]},proxy:!0}],null,!1,1695413433)},[i("label",{staticStyle:{"font-size":"14px"},attrs:{for:"location_txt"}},[t._v(t._s(t.location_feild_label))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.location,expression:"current_popup_location.form.location"}],ref:"location_txt",attrs:{type:"text",id:"location_txt",maxlength:t.get_maxlength_from_validation(t.$v.current_popup_location.form.location)},domProps:{value:t.current_popup_location.form.location},on:{change:function(e){return t.$v.current_popup_location.form.location.$touch()},input:function(e){e.target.composing||t.$set(t.current_popup_location.form,"location",e.target.value)}}}),"phone"!=t.current_popup_location.type?i("CharLeft",{attrs:{maxlength:t.get_maxlength_from_validation(t.$v.current_popup_location.form.location),input_text:t.current_popup_location.form.location}}):t._e()],1):t._e(),t.current_popup_location.form.hasOwnProperty("location_extra")?i("span",[i("div",{staticClass:"wpc-form-row"},[t.show_location_extra_field?t._e():i("a",{on:{click:function(e){t.show_location_extra_field=!0,t.ref_focus("location_extra")}}},[t._v(" "+t._s(t.T__("+ Add additional info"))+" ")])]),t.show_location_extra_field?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.location_extra}},[i("label",{staticStyle:{"font-size":"14px"},attrs:{for:"location_extra"}},[t._v(t._s(t.T__("Location additional info")))]),i("span",{staticClass:"txt-help",staticStyle:{"padding-top":"0","padding-bottom":"5px"}},[t._v(" "+t._s(t.location_extra_help_txt)+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.location_extra,expression:"current_popup_location.form.location_extra"}],ref:"location_extra",attrs:{type:"text",id:"location_extra",maxlength:t.get_maxlength_from_validation(t.$v.current_popup_location.form.location_extra)},domProps:{value:t.current_popup_location.form.location_extra},on:{change:function(e){return t.$v.current_popup_location.form.location_extra.$touch()},input:function(e){e.target.composing||t.$set(t.current_popup_location.form,"location_extra",e.target.value)}}}),t._v(" "),i("CharLeft",{attrs:{maxlength:t.get_maxlength_from_validation(t.$v.current_popup_location.form.location_extra),input_text:t.current_popup_location.form.location_extra}})],1):t._e()],1):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.save_current_popup_location}},[t._v(" "+t._s("add"==t.current_popup_location_action?"Add Location":"Update")+" ")])],1):t._e()])])],1)},It=[],Mt=(i("a434"),i("d8c5")),Lt=i("b5ae"),Dt=i("d1ff"),Wt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{data:function(){return{tp_locations:{},is_tp_locations_loaded:!1,tp_locations_refresh_interval_instance:null}},computed:{is_tp_service_account_connected:function(){var t=this;return function(e){return"zoom_meeting"!==e&&"gotomeeting_meeting"!==e&&"googlemeet_meeting"!==e?null:!t.is_tp_locations_loaded||!!t.tp_locations.hasOwnProperty(e)&&t.tp_locations[e].is_connected}},googlemeet_meeting_is_account_connected:function(){return this.tp_locations.hasOwnProperty("googlemeet_meeting")?this.tp_locations["googlemeet_meeting"].is_connected_and_active:null},googlemeet_meeting_account_email:function(){return this.tp_locations&&this.tp_locations.googlemeet_meeting&&this.tp_locations.googlemeet_meeting.account_email?this.tp_locations.googlemeet_meeting.account_email:""}},methods:{load_tp_locations_by_admin:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={},s="";if(t)s="get_tp_locations_details_for_current_admin",a[s]="dummy__";else{if(t||!this.tp_locations_required_admin_user_id)return;s="get_tp_locations_details_by_admin",a[s]={admin_user_id:this.tp_locations_required_admin_user_id}}var n={action:"wpcal_process_admin_ajax_request",wpcal_request:a},o={};i&&(o={params:{_remove_options_before_call:{background_call:!0}}}),l.a.post(window.wpcal_ajax.ajax_url,n,o).then((function(t){t.data&&t.data[s].hasOwnProperty("tp_locations")&&(e.tp_locations=t.data[s].tp_locations),e.is_tp_locations_loaded=!0})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;setTimeout((function(){t.load_tp_locations_by_admin();var e=setInterval((function(){document.hasFocus()&&t.load_tp_locations_by_admin(!0)}),5e3);t.$store.commit("set_tp_locations_refresh_interval_instance",e)}),100)},beforeDestroy:function(){clearInterval(this.$store.getters.get_tp_locations_refresh_interval_instance),this.$store.commit("set_tp_locations_refresh_interval_instance",null)}}},Bt=i("84af"),Rt={mixins:[Wt(!1)],components:{CharLeft:Bt["a"]},directives:{dragAndDrop:Mt["VueDraggableDirective"]},model:{prop:"locations",event:"locations-value-changed"},props:{locations:{type:Array},form:{type:Object,required:!0}},data:function(){return{all_locations:[{type:"physical",limit:-1,count:0,show:!0,form:{location:"",location_extra:""}},{type:"phone",limit:1,count:0,show:!0,form:{who_calls:"admin",location:""}},{type:"googlemeet_meeting",limit:1,count:0,show:!0},{type:"zoom_meeting",limit:1,count:0,show:!0},{type:"gotomeeting_meeting",limit:1,count:0,show:!0},{type:"custom",limit:-1,count:0,show:!0,form:{location:"",location_extra:""}},{type:"ask_invitee",limit:1,count:0,show:!0,form:{location:"",location_extra:""}}],show_add_location_list:!1,current_popup_location:{},current_popup_location_action:"",current_popup_location_index:null,show_location_extra_field:!1,selected_locations_drag_drop_options:{dropzoneSelector:".set-locations-cont",draggableSelector:".set-locations-single",handlerSelector:".reorder-handle",reactivityEnabled:!0,multipleDropzonesItemsDraggingEnabled:!1,showDropzoneAreas:!0},delete_alert_index:null}},validations:{current_popup_location:{type:{required:Lt["required"]},form:{required:Object(Lt["requiredIf"])((function(){var t=["physical","phone","custom","ask_invitee"];return-1!==t.indexOf(this.current_popup_location.type)})),who_calls:{required:Object(Lt["requiredIf"])((function(){return"phone"===this.current_popup_location.type})),who_calls_in_array:Object(Dt["o"])(["admin","invitee"])},location:{required:Object(Lt["requiredIf"])((function(){var t=["physical","custom"];return-1!==t.indexOf(this.current_popup_location.type)||"phone"===this.current_popup_location.type&&"invitee"===this.current_popup_location.form.who_calls})),max_char_length_500:Object(Lt["maxLength"])(500)},location_extra:{max_char_length_500:Object(Lt["maxLength"])(500)}}}},computed:{selected_locations:{get:function(){return this.locations},set:function(t){this.$emit("locations-value-changed",t)}},all_locations_with_stats:function(){var t,e=this.clone_deep(this.all_locations),i=Object(E["a"])(this.selected_locations);try{var a=function(){var i=t.value,a=e.findIndex((function(t){return t.type===i.type}));-1!=a&&(e[a].count++,e[a].limit>-1&&e[a].limit<=e[a].count?e[a].show=!1:e[a].show=!0)};for(i.s();!(t=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return e},all_locations_final:function(){var t=[];for(var e in this.all_locations_with_stats)this.all_locations_with_stats[e].show&&t.push(this.all_locations_with_stats[e]);return t},enable_add_new_location:function(){return this.selected_locations.length<10},location_feild_label:function(){var t=this.T__("Location");return"custom"==this.current_popup_location.type?t=this.T__("Enter a location of your choice"):"phone"==this.current_popup_location.type&&(t=this.T__("Enter your phone number")),t},popup_show_location_field:function(){var t=!1;return("physical"==this.current_popup_location.type||"custom"==this.current_popup_location.type||"phone"==this.current_popup_location.type&&this.current_popup_location.form&&"invitee"==this.current_popup_location.form.who_calls)&&(t=!0),t},location_help_txt:function(){return"phone"==this.current_popup_location.type?this.T__("Please enter phone number with country code. E.g.")+" +1 555 555 1234":""},location_extra_help_txt:function(){return"physical"==this.current_popup_location.type||"custom"==this.current_popup_location.type?this.T__("This will be shown to the invitee AFTER the booking is confirmed."):"ask_invitee"==this.current_popup_location.type?this.T__("You can use this to guide the invitee. The text you enter here will be displayed below the location text field."):""},tp_locations_required_admin_user_id:function(){return this.form.service_admin_user_ids[0]},is_current_admin_is_this_service_host:function(){return this.$store.getters.get_current_admin_details.id==this.form.service_admin_user_ids[0]},tp_service_not_connected_text:function(){var t=this;return function(e){return t.is_current_admin_is_this_service_host?t.Tsprintf(t.T__("%s is not connected. Until you do, it will not be displayed to your invitees."),t.$options.filters.location_name_by_type(e.type)):t.Tsprintf(t.T__("%s is not connected. Until the host connects it, it will not be displayed to your invitees."),t.$options.filters.location_name_by_type(e.type))}},tp_service_not_connected_to_do_content:function(){var t=this;return function(e){if("googlemeet_meeting"==e.type)return t.is_current_admin_is_this_service_host?t.Tsprintf(t.T__("Go to %1$sCalendar settings%2$s connect a calendar account (if not done already), and set &quot;Add Bookings to...&quot; calendar."),'<a href="admin.php?page=wpcal_admin#/settings/calendars" target="_blank" style="text-decoration:underline;">',"</a>"):t.Tsprintf(t.T__("%1$sLearn more.%2$s"),'<a href="https://help.wpcal.io/en/article/how-do-i-connect-my-google-meet-with-wpcalio-hrh77h/?utm_source=wpcal_plugin&utm_medium=contextual" target="_blank">',"</a>");if(t.is_current_admin_is_this_service_host)return t.Tsprintf(t.T__("Go to the %1$sIntegrations%2$s page to connect it now."),'<a href="admin.php?page=wpcal_admin#/settings/integrations" target="_blank" style="text-decoration:underline">',"</a>");var i="https://help.wpcal.io/en/article/how-to-connect-use-meeting-apps-bwour0/";return"zoom_meeting"==e.type&&(i="https://help.wpcal.io/en/category/integrations-zoom-1dfihfm/"),t.Tsprintf(t.T__("%1$sLearn more.%2$s"),'<a href="'+i+'?utm_source=wpcal_plugin&utm_medium=contextual" target="_blank">',"</a>")}}},methods:{add_to_selected_locations:function(t){var e={};e.type=t.type,t.hasOwnProperty("form")&&t.form&&(e.form=this.clone_deep(t.form)),this.may_show_popup_form(e,"add"),this.show_add_location_list=!1},remove_from_selected_locations:function(t){this.show_add_location_list=!1,this.selected_locations.splice(t,1)},may_show_popup_form:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t=this.clone_deep(t),"add"!=e&&"edit"!=e||"edit"==e&&isNaN(i)||(this.is_having_edit_options(t)?(this.$v["current_popup_location"].$reset(),this.current_popup_location=t,this.current_popup_location_action=e,this.current_popup_location_index=i,this.current_popup_location.form&&this.current_popup_location.form.hasOwnProperty("location_extra")&&this.current_popup_location.form.location_extra&&(this.show_location_extra_field=!0),this.$modal.show("location_advance_modal"),"physical"!=this.current_popup_location.type&&"custom"!=this.current_popup_location.type||this.ref_focus("location_txt")):"add"==e?this.selected_locations.push(t):"edit"==e&&(this.selected_locations[i]=t))},save_current_popup_location:function(){var t=this.current_popup_location_action,e=this.current_popup_location_index;this.$v["current_popup_location"].$touch(),this.$v.current_popup_location.$anyError||("add"==t?this.selected_locations.push(this.current_popup_location):"edit"==t&&(this.selected_locations[e]=this.current_popup_location),this.$modal.hide("location_advance_modal"))},is_having_edit_options:function(t){return!(!t.hasOwnProperty("form")||!t.form)},reset_current_popup_location:function(){this.current_popup_location={},this.current_popup_location_action="",this.current_popup_location_index=null,this.show_location_extra_field=!1},location_advance_modal_on_before_close:function(){this.reset_current_popup_location()},get_meta_data_for_location:function(t){if(!this.is_having_edit_options(t))return this.$options.filters.location_short_descr_by_type(t.type);var e="";return"phone"===t.type&&t.form.hasOwnProperty("who_calls")&&t.form.who_calls&&(e+="admin"==t.form.who_calls?this.T__("I will call my invitee"):this.T__("My invitee should call me at "),"invitee"==t.form.who_calls&&t.form.hasOwnProperty("location")&&t.form.location&&(e+=t.form.location)),"phone"!==t.type&&t.form&&t.form.hasOwnProperty("location")&&t.form.location&&(e+=t.form.location),t.form&&t.form.hasOwnProperty("location_extra")&&t.form.location_extra&&(e+=" "+this.T__("(more info)")),e||this.$options.filters.location_short_descr_by_type(t.type)},reorder_selected_locations:function(t){var e=t.detail.ids[0],i=t.detail.index,a=this.selected_locations.splice(e,1),s=e<i?i-1:i;this.selected_locations.splice(s,0,a[0])},show_delete_alert:function(t){return this.delete_alert_index===t},set_mouseover:function(t,e){this.delete_alert_index=e?t:null}}},Yt=Rt,Ht=Object(u["a"])(Yt,Nt,It,!1,null,null,null),Ft=Ht.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._isEmpty(t.$store.getters.get_managed_active_admins_details)?t._e():i("div",t._l(t.selected_host,(function(e,a){return i("TypeToSelect",{key:a,staticClass:"white",attrs:{options:t.$store.getters.get_managed_active_admins_details,label_field:"name",value_field:"admin_user_id",disabled:t.disabled,"filter-by":t.dropdown_filter},scopedSlots:t._u([{key:"selected-option",fn:function(e){return[i("div",{staticClass:"profile-details"},[e.profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.profile_picture,width:"30"}}):t._e(),i("div",[i("div",{staticClass:"txt-h5"},[t._v(t._s(e.name))]),i("div",{staticClass:"txt-help"},[t._v(t._s(e.email))])])])]}},{key:"option",fn:function(e){return[i("div",{staticClass:"profile-details"},[e.profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.profile_picture,width:"30"}}):t._e(),i("div",[i("div",{staticClass:"txt-h5"},[t._v(t._s(e.name))]),i("div",{staticClass:"txt-help"},[t._v(t._s(e.email))])])])]}}],null,!0),model:{value:t.selected_host[a],callback:function(e){t.$set(t.selected_host,a,e)},expression:"selected_host[index]"}})})),1)},Gt=[],Vt={name:"HostSelector1ToN",components:{TypeToSelect:et},model:{prop:"selected_host",event:"changed-selected-host"},props:{selected_host:{type:Array},max_host:{type:Number},disabled:{type:Boolean,default:!1}},methods:{dropdown_filter:function(t,e,i){var a=i.toLowerCase();return(e||"").toLowerCase().indexOf(a)>-1||t.email.toLowerCase().indexOf(a)>-1}}},Zt=Vt,Qt=(i("056a"),Object(u["a"])(Zt,Ut,Gt,!1,null,null,null)),Jt=Qt.exports,Kt=i("32e8"),Xt={name:"ServiceFormStep2",components:{ColorSelector:zt,AdminLocationSelector:Ft,HostSelector1ToN:Jt,OnOffSlider:U},props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},saved_form:{type:Object},create_or_update_btn_is_enabled:{},$v:{}},data:function(){return{}},computed:{is_disable_manage_private:function(){return"0"==this.form.is_manage_private&&!this.is_current_admin_is_host},is_current_admin_is_host:function(){return-1!=this.form.service_admin_user_ids.indexOf(this.$store.getters.get_current_admin_details.id)},is_disable_host_selector:function(){return this.is_current_admin_is_host&&1==this.form.is_manage_private}},methods:{auto_focus_form_element:function(){var t=this;"add"==this.view&&!this.form.name&&this.$refs.service_name&&setTimeout((function(){t.$refs.service_name.focus()}),50)},may_show_host_selector_not_changeable_error:function(){this.is_disable_host_selector&&this.$modal.show("dialog",{title:this.T__("Heads up!"),text:this.T__("You cannot change the host for your privately managed event types."),buttons:[{title:this.T__("Okay"),default:!0}]})},may_show_manage_private_not_changeable_error:function(){this.is_disable_manage_private&&this.$modal.show("dialog",{title:this.T__("Heads up!"),text:this.T__("You cannot set another admin's event type as privately managed."),buttons:[{title:this.T__("Okay"),default:!0}]})},may_show_on_change_host_selector_info:function(){var t=this;if(console.log("may_show_on_change_host_selector_info"),"edit"==this.view&&!Object(Kt["a"])(this.saved_form.service_admin_user_ids,this.form.service_admin_user_ids)){var e="<ul class='bull'><li>"+this.T__("Existing bookings will NOT be affected.")+"</li><li>"+this.T__("For existing bookings, the host will not be changed. So, the old host's email, calendar apps and meeting apps will be used.")+"</li><li>"+this.T__("New and rescheduled bookings will be assigned to the new host. So, emails related to it will be sent to the new host. Also, the new host's email, calendar apps and meeting apps will be used.")+"</li></ul>";this.$modal.show("dialog",{title:this.T__("Change the host?"),text:this.Tsprintf(this.T__("Here's what will happen -"+e)),buttons:[{title:this.T__("Yes, change the host.")},{title:this.T__("No, don't."),handler:function(){t.form.service_admin_user_ids=t.clone_deep(t.saved_form.service_admin_user_ids),t.$modal.hide("dialog")}}]})}}},watch:{"step.form":function(t){t&&this.auto_focus_form_element()},"form.service_admin_user_ids":function(){this.may_show_on_change_host_selector_info()}},mounted:function(){"add"==this.view&&(this.$props.step.summary=!0)}},te=Xt,ee=(i("5bcd"),i("ff75"),Object(u["a"])(te,St,qt,!1,null,"1edd344c",null)),ie=ee.exports,ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.upcoming,expression:"step.upcoming"}],staticClass:"step-single upcoming"},[i("div",{staticClass:"step-title"},[t._v(" "+t._s(t.T__("Event type duration & timings"))+" ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active",attrs:{id:"service_form_step"+t.step.id}},[i("div",{staticClass:"step-title"},[t._v(" "+t._s(t.T__("Event Type Duration & Timings"))+" ")]),i("div",{staticClass:"form"},[i("form-row",{attrs:{validator:t.$v.form.duration}},[i("label",[t._v(t._s(t.T__("Event duration")))]),i("span",{staticClass:"txt-help pt0"},[t._v(t._s(t.T__("Define how long the event will last.")))]),i("InlineRadioSelector",{attrs:{element_settings:t.event_duration_element_setting,form:t.form,$v:t.$v}})],1),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.date_range_type}},[i("label",[t._v(t._s(t.T__("When can this event be booked?")))]),i("span",{staticClass:"txt-help pt0"},[t._v(t._s(t.T__("Select a time range within which this event can be booked.")))]),i("ul",{staticClass:"selector block mt10"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"days-into-future",name:"event-can-be-booked",value:"relative"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"relative")},on:{change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","relative")}}}),i("label",{attrs:{for:"days-into-future"}},[i("div",{staticClass:"txt-h5"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.show_relative_date_range,expression:"show_relative_date_range"}],staticStyle:{width:"50px",height:"33px","text-align":"center",margin:"-9px 7px -7px 0px"},attrs:{type:"number"},domProps:{value:t.show_relative_date_range},on:{blur:function(e){return t.$v.form.default_availability_details.date_misc.$touch()},focus:function(e){t.form.default_availability_details.date_range_type="relative"},input:function(e){e.target.composing||(t.show_relative_date_range=e.target.value)}}}),t._v(t._s(t.T__("rolling days into the future"))+" ")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"within-date-range",name:"event-can-be-booked",value:"from_to"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"from_to")},on:{focus:function(e){"from_to"!==t.form.default_availability_details.date_range_type&&t.ref_click("default_availability_details_from_date_input")},change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","from_to")}}}),i("label",{attrs:{for:"__unknown__"},on:{click:function(e){t.form.default_availability_details.date_range_type="from_to"}}},[i("div",{staticClass:"txt-h5"},[t._v(t._s(t.T__("Within a date range")))]),i("div",{staticClass:"date-range-selector cf"},[i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help"},[t._v(t._s(t.T__("FROM")))]),i("v-date-picker",{attrs:{locale:this.$store.getters.get_site_locale_intl,popover:{visibility:"click"},masks:{input:["YYYY-MM-DD"]}},model:{value:t.default_availability_details_from_date_obj,callback:function(e){t.default_availability_details_from_date_obj=e},expression:"default_availability_details_from_date_obj"}},[i("input",{ref:"default_availability_details_from_date_input",attrs:{type:"text",readonly:"",placeholder:"M d, YYYY"},domProps:{value:t.$options.filters.wpcal_format_date_style1(t.default_availability_details_from_date)}})])],1)]),i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help"},[t._v(t._s(t.T__("TO")))]),i("v-date-picker",{attrs:{locale:this.$store.getters.get_site_locale_intl,popover:{visibility:"click"},masks:{input:["YYYY-MM-DD"]},"min-date":t.default_availability_details_from_date_obj},model:{value:t.default_availability_details_to_date_obj,callback:function(e){t.default_availability_details_to_date_obj=e},expression:"default_availability_details_to_date_obj"}},[i("input",{ref:"default_availability_details_to_date_input",attrs:{type:"text",readonly:"",placeholder:"M d, YYYY"},domProps:{value:t.$options.filters.wpcal_format_date_style1(t.default_availability_details_to_date)}})])],1)])])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"indefinitely",name:"event-can-be-booked",value:"infinite"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"infinite")},on:{change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","infinite")}}}),i("label",{attrs:{for:"indefinitely"}},[i("div",{staticClass:"txt-h5"},[t._v(t._s(t.T__("Indefinitely")))]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Invitees can book slots indefinitely into the future"))+" ")])])])]),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.date_misc}}),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.from_date}}),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.to_date}})],1),i("form-row",[i("label",[t._v(t._s(t.T__("Availability for this event type")))]),i("span",{staticClass:"txt-help pt0"},[t._v(t._s(t.T__("Set your availability specifically for this event type.")))]),i("div",{staticClass:"mbox mt10"},[i("form-row",{staticStyle:{display:"block","margin-bottom":"-10px"},attrs:{validator:t.$v.form.default_availability_details.periods}},[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Available hours"))+" ")]),i("TimeRange1ToN",{staticClass:"time-range-selector",attrs:{$v:t.$v.form.default_availability_details.periods},model:{value:t.form.default_availability_details.periods,callback:function(e){t.$set(t.form.default_availability_details,"periods",e)},expression:"form.default_availability_details.periods"}})],1),i("hr"),i("form-row",{staticStyle:{"margin-bottom":"-10px",display:"block"},attrs:{validator:t.$v.form.default_availability_details.day_index_list}},[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Available days"))+" ")]),i("WeekDaysSelector",{model:{value:t.form.default_availability_details.day_index_list,callback:function(e){t.$set(t.form.default_availability_details,"day_index_list",e)},expression:"form.default_availability_details.day_index_list"}})],1),"edit"==t.view?i("button",{staticClass:"wpc-btn secondary md mt20",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.$emit("may-show-service-availability-modal")}}},[t._v(" "+t._s(t.T__("Set custom hours for specific days/dates"))+" ")]):t._e(),"add"==t.view?i("span",[t._v("More availability customization once event type is created.")]):t._e(),i("hr"),i("form-row",{staticStyle:{"margin-bottom":"-20px",display:"block"},attrs:{validator:t.$v.form.timezone}},[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Time zone"))+" ")]),i("TimeZoneSelector",{attrs:{use_as:"form_tz"},model:{value:t.form.timezone,callback:function(e){t.$set(t.form,"timezone",e)},expression:"form.timezone"}})],1)],1)]),i("form-row",{attrs:{validator:t.$v.form.display_start_time_every}},[i("label",[t._v(" "+t._s(t.T__("Show start times every:"))+" "),i("a",{staticClass:"icon-q-mark",staticStyle:{float:"right"},attrs:{href:"https://help.wpcal.io/en/article/event-type-availability-options-show-start-times-every-minimum-scheduling-notice-and-event-buffers-17lvw88/?utm_source=wpcal_plugin&utm_medium=contextual#1-how-show-start-times-every-works",target:"_blank"}})]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Show your available hours in blocks of:"))+" ")]),i("InlineRadioSelector",{attrs:{element_settings:t.display_start_time_every_element_setting,form:t.form,$v:t.$v}})],1),i("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){t.show_advance_options=!t.show_advance_options}}},[t._v(t._s(t.show_advance_options_txt))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_advance_options,expression:"show_advance_options"}]},[i("ul",{staticClass:"mbox avail-advanced-options"},[i("li",[i("form-row",{attrs:{validator:t.$v.form.max_booking_per_day}},[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Max bookings per day"))+" ")]),i("div",{staticClass:"txt-help",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Limit the number of bookings for this event type per day. Leave blank for no limit."))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max_booking_per_day,expression:"form.max_booking_per_day"}],attrs:{type:"text",placeholder:"No limit"},domProps:{value:t.form.max_booking_per_day},on:{blur:function(e){return t.$v.form.max_booking_per_day.$touch()},input:function(e){e.target.composing||t.$set(t.form,"max_booking_per_day",e.target.value)}}})])],1),i("li",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Minimum Scheduling Notice"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/event-type-availability-options-show-start-times-every-minimum-scheduling-notice-and-event-buffers-17lvw88/?utm_source=wpcal_plugin&utm_medium=contextual#1-how-minimum-scheduling-notice-works",target:"_blank"}})]),i("div",{staticClass:"custom-radio-cont"},[i("label",{staticStyle:{"font-size":"13px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"-1px"},attrs:{type:"radio",name:"min_schedule_notice_type",value:"none"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"none")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","none")}}}),t._v(" "+t._s(t.T__("None"))+" ")]),i("label",{staticStyle:{"font-size":"13px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"-1px","margin-bottom":"20px"},attrs:{type:"radio",name:"min_schedule_notice_type",value:"units"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"units")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","units")}}}),t._v(" "+t._s(t.T__("Prevent booking of slots less than"))+" "),i("div",{staticStyle:{"padding-left":"22px","padding-top":"4px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.time_units,expression:"form.min_schedule_notice.time_units"}],staticStyle:{width:"78px",padding:"3px 5px","margin-top":"-8px","font-size":"13px"},attrs:{type:"number"},domProps:{value:t.form.min_schedule_notice.time_units},on:{focus:function(e){t.form.min_schedule_notice.type="units"},blur:function(e){return t.$v.form.min_schedule_notice.time_units.$touch()},input:function(e){e.target.composing||t.$set(t.form.min_schedule_notice,"time_units",e.target.value)}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.time_units_in,expression:"form.min_schedule_notice.time_units_in"}],staticStyle:{width:"auto","margin-top":"-3px"},on:{focus:function(e){t.form.min_schedule_notice.type="units"},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.min_schedule_notice,"time_units_in",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"mins"}},[t._v(t._s(t.T__("mins")))]),i("option",{attrs:{value:"hrs",selected:""}},[t._v(t._s(t.T__("hrs")))]),i("option",{attrs:{value:"days"}},[t._v(t._s(t.T__("days")))])]),t._v(" "+t._s(t.T_x("away.","Prevent booking of slots less than _ away"))+" ")]),i("form-row",{attrs:{validator:t.$v.form.min_schedule_notice.time_units}})],1),i("label",{staticStyle:{"font-size":"13px","margin-bottom":"1px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"-1px","margin-bottom":"20px"},attrs:{type:"radio",name:"min_schedule_notice_type",id:"min_schedule_notice_type_time_days_before",value:"time_days_before"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"time_days_before")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","time_days_before")}}}),t._v(" "+t._s(t.T__("Prevent all bookings after"))+" ")]),i("div",{staticClass:"prevent-bookings-after-timepicker",staticStyle:{display:"flex","align-items":"center"}},[i("TimePicker",{on:{"time-picker-opened":function(e){t.form.min_schedule_notice.type="time_days_before"}},model:{value:t.form.min_schedule_notice.days_before_time,callback:function(e){t.$set(t.form.min_schedule_notice,"days_before_time",e)},expression:"form.min_schedule_notice.days_before_time"}}),i("span",{staticStyle:{"margin-left":"3px"}},["HH:mm"==t.time_format?i("span",[t._v("hrs")]):t._e(),t._v(",")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.days_before,expression:"form.min_schedule_notice.days_before"}],staticStyle:{width:"auto","margin-left":"5px"},on:{focus:function(e){t.form.min_schedule_notice.type="time_days_before"},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.min_schedule_notice,"days_before",e.target.multiple?i:i[0])}}},t._l([0,1,2,3,4,5,6,7],(function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0),i("label",{staticStyle:{"font-size":"13px","padding-left":"3px"},attrs:{for:"min_schedule_notice_type_time_days_before"}},[t._v(" "+t._s(t.T_n("day before.","days before.",t.form.min_schedule_notice.days_before))+" ")])],1),i("form-row",{attrs:{validator:t.$v.form.min_schedule_notice.days_before_time}})],1)]),i("li",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Event Buffers"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/event-type-availability-options-show-start-times-every-minimum-scheduling-notice-and-event-buffers-17lvw88/?utm_source=wpcal_plugin&utm_medium=contextual#1-how-event-buffers-works",target:"_blank"}})]),i("div",{staticClass:"txt-help",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Set aside preparation, rest or travel time before or after events. For example, if you define a 5-minute buffer before your events, we will make sure you have 5 minutes of free time before your scheduled events."))+" ")]),i("div",{staticClass:"col-main cf"},[i("div",{staticClass:"col50"},[i("div",{staticClass:"label txt-help",staticStyle:{"padding-bottom":"5px"}},[t._v(" "+t._s(t.T__("BEFORE EVENT"))+" ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.event_buffer_before,expression:"form.event_buffer_before"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"event_buffer_before",e.target.multiple?i:i[0])},function(e){return t.$v.form.event_buffer_before.$touch()}]}},t._l(t.event_buffer_before_element_setting.options,(function(e,a){return i("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),i("div",{staticClass:"col50"},[i("div",{staticClass:"label txt-help",staticStyle:{"padding-bottom":"5px"}},[t._v(" "+t._s(t.T__("AFTER EVENT"))+" ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.event_buffer_after,expression:"form.event_buffer_after"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"event_buffer_after",e.target.multiple?i:i[0])},function(e){return t.$v.form.event_buffer_after.$touch()}]}},[t._v("> "),t._l(t.event_buffer_after_element_setting.options,(function(e,a){return i("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.text))])}))],2)])]),i("form-row",{attrs:{validator:t.$v.form.event_buffer_before}}),i("form-row",{attrs:{validator:t.$v.form.event_buffer_after}})],1)])]),i("div",{staticClass:"wpc-form-row"},["add"==t.view?i("button",{staticClass:"wpc-btn primary lg",staticStyle:{margin:"10px 0"},attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("validate-may-navigate-or-submit",3)}}},[t._v(" "+t._s(t.T__("Create Event Type"))+" ")]):"edit"==t.view?i("button",{staticClass:"wpc-btn primary lg",staticStyle:{margin:"10px 0"},attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("submit-form",3)}}},[t._v(" "+t._s(t.T__("Save"))+" ")]):t._e(),"edit"==t.view?i("button",{staticClass:"wpc-btn tert-link sm mt10 center",attrs:{type:"button"},on:{click:function(e){return t.$emit("edit-view-toggle-steps")}}},[t._v(" "+t._s(t.T__("Cancel"))+" ")]):t._e(),"add"==t.view?i("div",{staticClass:"txt-help mt10",staticStyle:{"padding-bottom":"10px"}},[t._v(" "+t._s(t.T__("You can configure your event type further after creating it."))+" ")]):t._e()])],1)])])},se=[],ne=(i("5319"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"selector inline time mt10 with-custom",class:t.element_settings.style_class},[t._l(t.element_settings.options,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form[t.element_settings.name],expression:"form[element_settings.name]"}],attrs:{type:"radio",id:"duration-"+t.element_settings.name+"-"+e.value+"-min",name:t.element_settings.name},domProps:{value:e.value,checked:t._q(t.form[t.element_settings.name],e.value)},on:{change:[function(i){return t.$set(t.form,t.element_settings.name,e.value)},t.load_custom_value]}}),i("label",{attrs:{for:"duration-"+t.element_settings.name+"-"+e.value+"-min"}},[t._v(" "+t._s(e.text)+" "),i("span",[t._v(t._s(t.T__("min")))])])])})),t.element_settings.custom_option?i("li",{staticClass:"custom-duration"},[i("input",{attrs:{type:"radio",name:t.element_settings.name},domProps:{checked:t.custom_checked}}),i("label",{attrs:{for:"custom-duration--"+t.element_settings.name}},[i("input",{attrs:{type:"number",id:"custom-duration--"+t.element_settings.name,placeholder:!0===t.custom_value_focus?"":"-"},domProps:{value:t.get_custom_value},on:{focus:t.custom_value_on_focus,blur:function(e){t.custom_value_focus=!1,t.$v&&t.$v.form[t.element_settings.name]&&t.$v.form[t.element_settings.name].$touch()},input:t.debounce_set_custom_value}}),i("span",[t._v(t._s(t.T__("custom min")))])])]):t._e()],2)])}),oe=[],_e=i("85b1"),re=i("1c8f"),le={name:"InlineRadioSelector",props:{element_settings:{type:Object,required:!0},form:{type:Object,required:!0},$v:{}},data:function(){return{custom_value:"",custom_value_focus:!1}},computed:{get_custom_value:function(){return isNaN(this.custom_value)?"":this.custom_value},custom_checked:function(){return""!==this.custom_value}},methods:{set_custom_value:function(t){this.custom_value=parseInt(t.target.value),this.form[this.element_settings.name]=this.custom_value,this.load_custom_value()},debounce_set_custom_value:Object(_e["a"])((function(t){this.set_custom_value(t)}),500),custom_value_on_focus:function(t){this.custom_value_focus=!0,this.set_custom_value(t)},load_custom_value:function(){-1==Object(re["a"])(this.element_settings.options,{value:parseInt(this.form[this.element_settings.name])})?this.custom_value=this.form[this.element_settings.name]:this.custom_value=""}},created:function(){this.load_custom_value()}},ce=le,de=(i("03d0"),Object(u["a"])(ce,ne,oe,!1,null,"32d5feb0",null)),ue=de.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.value,(function(e,a){return i("div",{key:a,staticStyle:{"margin-bottom":"5px"}},[i("div",{staticClass:"date-range-selector cf",class:{multiple:t.value.length>1,"del-alert":t.show_delete_alert(a)}},[i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help",class:{"has-error":t.$v&&t.$v.$each&&t.$v.$each.$iter[a].from_time.$dirty&&t.$v.$each.$iter[a].from_time.$error}},[t._v(" "+t._s(t.T__("FROM"))+" ")]),i("TimePicker",{model:{value:e.from_time,callback:function(i){t.$set(e,"from_time",i)},expression:"period.from_time"}})],1)]),t.value.length>1?i("div",{staticClass:"icon-delete",on:{click:function(e){t.value.splice(a,1),t.set_mouseover(a,!1)},mouseover:function(e){return t.set_mouseover(a,!0)},mouseleave:function(e){return t.set_mouseover(a,!1)}}}):t._e(),i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help",class:{"has-error":t.$v&&t.$v.$each&&t.$v.$each.$iter[a].to_time.$dirty&&t.$v.$each.$iter[a].to_time.$error}},[t._v(" "+t._s(t.T__("TO"))+" ")]),i("TimePicker",{model:{value:e.to_time,callback:function(i){t.$set(e,"to_time",i)},expression:"period.to_time"}})],1)])]),t.$v&&t.$v.$each&&t.$v.$each.$iter[a]?i("form-row",{attrs:{validator:t.$v.$each.$iter[a].from_time}}):t._e(),t.$v&&t.$v.$each&&t.$v.$each.$iter[a]?i("form-row",{attrs:{validator:t.$v.$each.$iter[a].to_time}}):t._e()],1)})),t.can_show_add_period?i("a",{on:{click:t.add_new_range}},[t._v(t._s(t.T__("+ Add another period")))]):t._e()],2)},pe=[],ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("vue-timepicker",{attrs:{format:t.time_format,"hide-clear-button":"","auto-scroll":"","advanced-keyboard":"","minute-interval":t.minute_interval},on:{change:t.handle_picker_change,open:function(e){return t.$emit("time-picker-opened")}},model:{value:t.time_data,callback:function(e){t.time_data=e},expression:"time_data"}})],1)},fe=[],he=(i("a15b"),i("b166")),ge=i("fea2"),be={name:"TimePicker",components:{VueTimepicker:ge["a"]},model:{prop:"time",event:"time-changed"},props:{time:{type:String}},computed:{time_data:{get:function(){var t=this.time,e={HH:"",hh:"",mm:"",a:""};if(this.$store.getters.get_general_settings,t){if("::00"==t||"::"==t)return e;var i=t.split(":");i[0]=i[0]?i[0]:"00",i[1]=i[1]?i[1]:"00",i[2]=i[2]?i[2]:"00",t=i.join(":");var a=this.date_parse("2000-01-01 "+t);e={HH:Object(he["a"])(a,"HH"),hh:Object(he["a"])(a,"hh"),mm:Object(he["a"])(a,"mm"),a:Object(he["a"])(a,"a").toLocaleLowerCase()}}return e},set:function(t){}},time_format:function(){var t="HH:mm",e=this.$store.getters.get_general_settings;return e&&e.hasOwnProperty("time_format")&&"12hrs"===e.time_format&&(t="hh:mm a"),t},minute_interval:function(){var t,e=5;return null!==(t=this.time_data)&&void 0!==t&&t.mm?(e=this.time_data.mm%5?1:e,e):e}},methods:{handle_picker_change:function(t){var e=t.data,i=e.HH+":"+e.mm+":00";this.$emit("time-changed",i)}}},ye=be,we=Object(u["a"])(ye,ve,fe,!1,null,null,null),xe=we.exports,ke={name:"TimeRange1ToN",components:{TimePicker:xe},props:{$v:{},value:{type:Array,required:!0},hide_add_period_on_no_periods:{default:"0"},disable_multiple:{type:Boolean,default:!1}},data:function(){return{delete_alert_index:null}},computed:{hide_add_period_on_no_periods_check:function(){return"1"==this.hide_add_period_on_no_periods&&0==this.value.length},can_show_add_period:function(){return!1===this.disable_multiple&&!this.hide_add_period_on_no_periods_check}},methods:{add_new_range:function(){var t={from_time:"",to_time:""};this.value.push(t)},show_delete_alert:function(t){return this.delete_alert_index===t},set_mouseover:function(t,e){this.delete_alert_index=e?t:null}}},Te=ke,$e=(i("4753"),Object(u["a"])(Te,me,pe,!1,null,null,null)),Ce=$e.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"selector block apply-multiple-days"},t._l(t.weekdays,(function(e,a){return i("li",{key:a,attrs:{title:e.full_day}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_days,expression:"selected_days"}],attrs:{type:"checkbox",id:"multiple-"+e.index,name:"apply-multiple-days"},domProps:{value:e.index,checked:Array.isArray(t.selected_days)?t._i(t.selected_days,e.index)>-1:t.selected_days},on:{change:[function(i){var a=t.selected_days,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e.index,_=t._i(a,o);s.checked?_<0&&(t.selected_days=a.concat([o])):_>-1&&(t.selected_days=a.slice(0,_).concat(a.slice(_+1)))}else t.selected_days=n},function(e){return t.$emit("change-prop-selected-days",t.selected_days)}]}}),i("label",{attrs:{for:"multiple-"+e.index}},[t._v(t._s(e.mini_day))])])})),0)])},qe=[],Oe={model:{prop:"prop_selected_days",event:"change-prop-selected-days"},props:{prop_selected_days:{type:Array}},data:function(){return{weekdays:Dt["A"],selected_days:[]}},watch:{prop_selected_days:function(t){this.selected_days=t}},mounted:function(){this.selected_days=this.prop_selected_days}},je=Oe,Pe=(i("e98d"),Object(u["a"])(je,Se,qe,!1,null,"48cce514",null)),Ae=Pe.exports,Ee=i("e268"),ze={name:"ServiceFormStep3",props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},create_or_update_btn_is_enabled:{},$v:{}},components:{InlineRadioSelector:ue,TimeRange1ToN:Ce,WeekDaysSelector:Ae,TimeZoneSelector:Ee["a"],TimePicker:xe},data:function(){return{show_advance_options:!1,event_duration_element_setting:{name:"duration",options:[{value:15,text:15},{value:30,text:30},{value:45,text:45},{value:60,text:60}],custom_option:!0,style_class:[]},display_start_time_every_element_setting:{name:"display_start_time_every",options:[{value:15,text:15},{value:30,text:30},{value:45,text:45},{value:60,text:60}],custom_option:!0,style_class:[]},event_buffer_before_element_setting:{name:"event_buffer_before",options:[{value:0,text:"0 "+this.T_x("min","mintue")},{value:5,text:"5 "+this.T_x("min","mintue")},{value:10,text:"10 "+this.T_x("min","mintue")},{value:15,text:"15 "+this.T_x("min","mintue")},{value:30,text:"30 "+this.T_x("min","mintue")},{value:45,text:"45 "+this.T_x("min","mintue")},{value:60,text:"1 "+this.T_x("hr","hour")},{value:90,text:"1 "+this.T_x("hr","hour")+" 30 "+this.T_x("min","mintue")},{value:120,text:"2 "+this.T_x("hr","hour")},{value:150,text:"2 hr 30 "+this.T_x("min","mintue")},{value:180,text:"3 "+this.T_x("hr","hour")}],selected_value:30},event_buffer_after_element_setting:{name:"event_buffer_after",options:[{value:0,text:"0 "+this.T_x("min","mintue")},{value:5,text:"5 "+this.T_x("min","mintue")},{value:10,text:"10 "+this.T_x("min","mintue")},{value:15,text:"15 "+this.T_x("min","mintue")},{value:30,text:"30 "+this.T_x("min","mintue")},{value:45,text:"45 "+this.T_x("min","mintue")},{value:60,text:"1 "+this.T_x("hr","hour")},{value:90,text:"1 "+this.T_x("hr","hour")+" 30 "+this.T_x("min","mintue")},{value:120,text:"2 "+this.T_x("hr","hour")},{value:150,text:"2 "+this.T_x("hr","hour")+" 30 "+this.T_x("min","mintue")},{value:180,text:"3 "+this.T_x("hr","hour")}],selected_value:30}}},computed:{show_advance_options_txt:function(){return this.show_advance_options?this.T__("- Hide Advanced options"):this.T__("+ Show Advanced options")},show_relative_date_range:{get:function(){var t=this.form.default_availability_details.date_misc;if("relative"===this.form.default_availability_details.date_range_type&&t){var e=t.replace(/^\+((\d)*)D$/gm,(function(t,e){return e}));return e}return""},set:function(t){t=t.trim(),t.length>0?this.form.default_availability_details.date_misc="+"+t+"D":this.form.default_availability_details.date_misc=""}},default_availability_details_from_date_obj:{get:function(){if(this.default_availability_details_from_date){var t=this.date_parse(this.default_availability_details_from_date);return t}return""},set:function(t){"from_to"==this.form.default_availability_details.date_range_type&&(this.form.default_availability_details.from_date=this.$options.filters.wpcal_format_std_date(t))}},default_availability_details_to_date_obj:{get:function(){if(this.default_availability_details_to_date){var t=this.date_parse(this.default_availability_details_to_date);return t}return""},set:function(t){"from_to"==this.form.default_availability_details.date_range_type&&(this.form.default_availability_details.to_date=this.$options.filters.wpcal_format_std_date(t))}},default_availability_details_from_date:{get:function(){return"from_to"==this.form.default_availability_details.date_range_type?this.form.default_availability_details.from_date:""},set:Object(_e["a"])((function(t){this.form.default_availability_details.from_date=t}),1500)},default_availability_details_to_date:{get:function(){return"from_to"==this.form.default_availability_details.date_range_type?this.form.default_availability_details.to_date:""},set:Object(_e["a"])((function(t){this.form.default_availability_details.to_date=t}),1500)}},mounted:function(){var t=this;this.$root.$on("show-advance-options",(function(){t.show_advance_options=!0}))}},Ne=ze,Ie=(i("71c3"),Object(u["a"])(Ne,ae,se,!1,null,"20ee7b70",null)),Me=Ie.exports,Le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-cont"},[i("div",{staticClass:"col"},[t.edit_view.step2.summary?i("div",{staticClass:"mbox"},[i("div",{staticStyle:{float:"right",display:"flex"}},[1==t.form.status||-1==t.form.status?i("OnOffSlider",{staticStyle:{"margin-left":"auto","margin-right":"10px"},attrs:{name:t.form.id,true_value:"1",false_value:"-1"},on:{"prop-slider-value-changed":function(e){return t.$emit("change-service-status",e)}},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}):t._e(),i("a",{on:{click:function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step2)}}},[t._v(t._s(t.T__("EDIT")))])],1),i("div",{staticClass:"txt-h4"},[t._v(t._s(t.T__("Event type details")))]),i("div",{staticClass:"form-step-meta"},[i("div",{staticStyle:{"font-size":"14px","padding-top":"10px","margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Event type name:"))+" "),i("span",{staticClass:"et-name-edit-view",class:{private:1==t.saved_form.is_manage_private}},[1==t.saved_form.is_manage_private?i("i"):t._e(),t._v(t._s(t.saved_form.name))])]),i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Invitee type:"))+" "+t._s(t._f("relationship_type_str")(t.saved_form.relationship_type))+" ")]),i("div",{staticStyle:{"padding-bottom":"10px",display:"flex"}},[t._v(" "+t._s(t.T__("Location:"))+" "),t.saved_form.locations.length?i("span",{staticStyle:{display:"flex",padding:"0 5px"},domProps:{innerHTML:t._f("locations_summary")(t.saved_form.locations)}}):t._e(),t.saved_form.locations.length?t._e():i("span",{staticStyle:{display:"flex",padding:"0 5px"}},[t._v(" "+t._s(t.T__("Not set")))])]),i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Short code:"))+" "),i("input",{staticClass:"shortCode",attrs:{onClick:"this.select();",type:"text",spellcheck:"false"},domProps:{value:"[wpcal id="+t.service_id+"]"}}),t.$store.getters.get_admin_details(t.saved_form.service_admin_user_ids[0]).profile_picture?i("img",{staticClass:"serviceEditViewOwnerPic",staticStyle:{"border-radius":"50%",float:"right"},attrs:{src:t.$store.getters.get_admin_details(t.saved_form.service_admin_user_ids[0]).profile_picture,width:"30",title:t.$store.getters.get_admin_details(t.saved_form.service_admin_user_ids[0]).display_name}}):t._e()]),i("div",[t._v(t._s(t.saved_form.descr))]),i("hr"),i("div",{staticStyle:{display:"flex"}},[t.saved_form.post_id?i("div",[i("a",{attrs:{href:"post.php?post="+t.saved_form.post_id+"&action=edit",target:"_blank"}},[t._v(t._s(t.T__("Edit Booking Page"))+" "),i("span",{staticStyle:{"font-size":"11px","font-weight":"600"}},[t._v("â†—")])])]):t._e(),t.saved_form.post_details.link?i("div",{staticStyle:{"margin-left":"auto","margin-right":"12px"}},[i("a",{attrs:{href:t.saved_form.post_details.link,target:"_blank"}},[t._v(t._s(t.T__("View Booking Page"))+" "),i("span",{staticStyle:{"font-size":"11px","font-weight":"600"}},[t._v("â†—")])])]):t._e()])])]):t._e(),t.edit_view.step2.form?i("ServiceFormStep2",{attrs:{$v:t.$v,view:t.view,step:{id:2,upcoming:!1,summary:!1,form:!0},form:t.form,saved_form:t.saved_form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"submit-form":function(e){return t.$emit("submit-form",e)},"edit-view-toggle-steps":function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step2)}}}):t._e(),t.edit_view.step3.summary?i("div",{staticClass:"mbox"},[i("div",{staticStyle:{float:"right"}},[i("a",{on:{click:function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step3)}}},[t._v(t._s(t.T__("EDIT")))])]),i("div",{staticClass:"txt-h4"},[t._v(t._s(t.T__("Event type duration & timings")))]),i("div",{staticClass:"form-step-meta mt10"},[i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Date range:"))+" "+t._s(t.service_date_range_summary)+" ")]),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("div",[t._v(" "+t._s(t.T__("Event duration:"))+" "+t._s(t._f("mins_to_str")(t.saved_form.duration))+" ")]),i("div",[t._v(" "+t._s(t.T__("Show start times every:"))+" "+t._s(t._f("mins_to_str")(t.saved_form.display_start_time_every))+" ")])]),i("div",{staticStyle:{"text-decoration":"underline"}},[t._v(" "+t._s(t.T__("Availability for this event type"))+" ")]),i("div",[t._v(" "+t._s(t.T__("Available hours:"))+" "),i("div",{staticStyle:{display:"inline-grid"}},t._l(t.saved_form.default_availability_details.periods,(function(e,a){return i("div",{key:a},[t._v(" "+t._s(t._f("wpcal_format_time_only")(e.from_time,t.time_format))+" - "+t._s(t._f("wpcal_format_time_only")(e.to_time,t.time_format))+" ")])})),0)]),i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Available days:"))+" "),i("span",[t._v(" "+t._s(t._f("wpcal_format_weekdays_summary")(t.saved_form.default_availability_details.day_index_list))+" ")])]),i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.T__("Time zone:"))+" "),i("span",[t._v(" "+t._s(t._f("wpcal_format_tz")(t.saved_form.timezone))+" ")])]),i("div",[i("div",{staticStyle:{"text-decoration":"underline"}},[t._v(" "+t._s(t.T__("Advanced settings"))+" ")]),i("div",[t._v(" "+t._s(t.T__("Max bookings per day"))+": "+t._s(t.saved_form.max_booking_per_day?t.saved_form.max_booking_per_day:"No limit")+" ")]),i("div",[t._v(" "+t._s(t.T__("Minimum Scheduling Notice"))+": "),"none"==t.saved_form.min_schedule_notice.type?i("span",[t._v(t._s(t.T__("None")))]):t._e(),"units"==t.saved_form.min_schedule_notice.type?i("span",[t._v(" "+t._s(t.Tsprintf(t.T__("Prevent booking of slots less than %1$s %2$s away."),this.saved_form.min_schedule_notice.time_units,this.saved_form.min_schedule_notice.time_units_in))+" ")]):t._e(),"time_days_before"==t.saved_form.min_schedule_notice.type?i("span",[t._v(" "+t._s(t.Tsprintf(t.T_n("Prevent all bookings after %1$s %2$s day before.","Prevent all bookings after %1$s %2$s days before.",this.saved_form.min_schedule_notice.days_before),this.$options.filters.wpcal_format_time_only(this.saved_form.min_schedule_notice.days_before_time,t.time_format)+("HH:mm"==t.time_format?" "+t.T__("hrs"):""),this.saved_form.min_schedule_notice.days_before))+" ")]):t._e()]),i("div",[t._v(" "+t._s(t.T__("Event buffers"))+": "),t.saved_form.event_buffer_before||t.saved_form.event_buffer_after?t._e():i("span",[t._v(" "+t._s(t.T__("None"))+" ")]),t.saved_form.event_buffer_before?i("span",[t._v(t._s(t.Tsprintf(t.T__("%1$s before event"),this.$options.filters.mins_to_str(this.saved_form.event_buffer_before))))]):t._e(),t.saved_form.event_buffer_before&&t.saved_form.event_buffer_after?i("span",[t._v(" & ")]):t._e(),t.saved_form.event_buffer_after?i("span",[t._v(t._s(t.Tsprintf(t.T__("%1$s after event"),this.$options.filters.mins_to_str(this.saved_form.event_buffer_after))))]):t._e()])])]),i("button",{staticClass:"wpc-btn secondary md mt20",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.show_service_availability_modal}},[t._v(" "+t._s(t.T__("Set custom hours for specific days/dates"))+" ")]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"service_availability_modal",width:"950px",height:"80%",adaptive:!0},on:{"before-close":t.service_availability_modal_before_close}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("service_availability_modal")}}})]),i("ServiceAvailabilityCal",{ref:"service_availability_modal_contents",attrs:{timezone:t.saved_form.timezone}})],1)],1):t._e(),t.edit_view.step3.form?i("ServiceFormStep3",{staticStyle:{"margin-top":"20px"},attrs:{$v:t.$v,view:t.view,step:{id:3,upcoming:!1,summary:!1,form:!0},form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"submit-form":function(e){return t.$emit("submit-form",e)},"edit-view-toggle-steps":function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step3)},"may-show-service-availability-modal":t.may_show_service_availability_modal}}):t._e(),t.edit_view.step5.summary?i("div",{staticClass:"mbox"},[i("div",{staticStyle:{float:"right",display:"flex"}},[i("a",{on:{click:function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step5)}}},[t._v(t._s(t.T__("EDIT")))])]),i("div",{staticClass:"txt-h4"},[t._v(" "+t._s(t.T__("Event type notification"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/what-are-event-type-notification-options-how-does-it-work-how-to-change-it-13cie5k/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}})]),i("div",{staticClass:"form-step-meta mt10"},[i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(t.T__("Invitee notification type:"))+" "+t._s("calendar_invitation"==t.saved_form.invitee_notify_by?"Calendar Invitation":"Email")+" ")]),"calendar_invitation"==t.saved_form.invitee_notify_by?i("div",{staticClass:"txt-help"},[t._v(" A calendar invitation will be sent directly from the calendar app eg. Google Calendar. If the 'Add bookings to...' calendar is not set, it will fallback to email."),i("a",{attrs:{href:"https://help.wpcal.io/en/article/what-are-event-type-notification-options-how-does-it-work-how-to-change-it-13cie5k/?utm_source=wpcal_plugin&utm_medium=contextual#1-what-are-event-type-notification-options-for-invitee-and-how-does-it-work",target:"_blank"}},[t._v("Learn more")]),t._v(". ")]):t._e(),"email"==t.saved_form.invitee_notify_by?i("div",{staticClass:"txt-help"},[t._v(" An email notification with the details of their booking will be sent to the invitees. ")]):t._e()])]):t._e(),t.edit_view.step5.form?i("ServiceFormStep5",{staticStyle:{"margin-top":"20px"},attrs:{$v:t.$v,view:t.view,step:{id:5,upcoming:!1,summary:!1,form:!0},form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{"submit-form":function(e){return t.$emit("submit-form",e)},"edit-view-toggle-steps":function(e){return t.$emit("edit-view-toggle-steps",t.edit_view.step5)}}}):t._e(),i("div",{staticClass:"mbox"},[i("div",{staticClass:"form-step-meta",domProps:{innerHTML:t._s(t.Tsprintf(t.T__("New booking, rescheduling and cancellation notifications will be sent to %1$s %3$s %2$s (host's WP admin email)."),'<span style="color:#131336">',"</span>",t.$store.getters.get_admin_details(t.saved_form.service_admin_user_ids[0]).email))}})])],1),i("div",{staticClass:"col"},[i("div",{staticStyle:{"font-size":"16px","font-weight":"500",margin:"0px 0 10px",display:"flex"}},[t._v(" "+t._s(t.T__("Additional Options"))+" "),i("PremiumInfoBadge",{staticStyle:{margin:"-10px 0 0 10px"},attrs:{highlight_feature:"questions"}},[i("em",[t._v("Free: 1 question"),i("br"),t._v("Plus: Unlimited")])])],1),i("ServiceInviteeQuestions",{on:{"save-questions":function(e){return t.$emit("save-questions",e)}},model:{value:t.form.invitee_questions,callback:function(e){t.$set(t.form,"invitee_questions",e)},expression:"form.invitee_questions"}})],1),t.saved_form.name?i("AlertAdminToUpdateProfile",{attrs:{service_details:t.saved_form}}):t._e()],1)},De=[],We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active",attrs:{id:"service_form_step"+t.step.id}},[i("div",{staticClass:"step-title"},[t._v(t._s(t.T__("Event Type Notification")))]),i("div",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[i("form-row",{attrs:{validator:t.$v.form.name}},[i("label",{attrs:{for:"form_name"}},[t._v(" "+t._s(t.T__("Invitee notification type"))),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/what-are-event-type-notification-options-how-does-it-work-how-to-change-it-13cie5k/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}}),i("em",[t._v(t._s(t.T__("required")))])]),i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Select how the booking notification and reminder emails will be sent "))+" ")]),i("ul",{staticClass:"selector block"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.invitee_notify_by,expression:"form.invitee_notify_by"}],attrs:{id:"form_invitee_notify_by_cal",name:"form_invitee_notify_by",type:"radio",value:"calendar_invitation"},domProps:{checked:t._q(t.form.invitee_notify_by,"calendar_invitation")},on:{change:function(e){return t.$set(t.form,"invitee_notify_by","calendar_invitation")}}}),i("label",{attrs:{for:"form_invitee_notify_by_cal"}},[i("div",{staticClass:"txt-h4"},[t._v(t._s(t.T__("Calendar invitation")))]),i("div",{staticClass:"txt-help"},[t._v(" A calendar invitation will be sent directly from the calendar app eg. Google Calendar. If the 'Add bookings to...' calendar is not set, it will fallback to email. "),i("a",{attrs:{href:"https://help.wpcal.io/en/article/what-are-event-type-notification-options-how-does-it-work-how-to-change-it-13cie5k/?utm_source=wpcal_plugin&utm_medium=contextual#1-what-are-event-type-notification-options-for-invitee-and-how-does-it-work",target:"_blank"}},[t._v("Learn more")]),t._v(". ")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.invitee_notify_by,expression:"form.invitee_notify_by"}],attrs:{id:"form_invitee_notify_by_email",name:"form_invitee_notify_by",type:"radio",value:"email"},domProps:{checked:t._q(t.form.invitee_notify_by,"email")},on:{change:function(e){return t.$set(t.form,"invitee_notify_by","email")}}}),i("label",{attrs:{for:"form_invitee_notify_by_email"}},[i("div",{staticClass:"txt-h4"},[t._v(t._s(t.T__("Email")))]),i("div",{staticClass:"txt-help"},[t._v(" An email notification with the details of their booking will be sent to the invitees. ")])])])])]),i("div",{staticClass:"wpc-form-row"},["edit"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("submit-form",5)}}},[t._v(" "+t._s(t.T__("Save"))+" ")]):t._e(),"edit"==t.view?i("button",{staticClass:"wpc-btn tert-link sm mt10 center",attrs:{type:"button"},on:{click:function(e){return t.$emit("edit-view-toggle-steps")}}},[t._v(" "+t._s(t.T__("Cancel"))+" ")]):t._e()])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.summary,expression:"step.summary"}],staticClass:"step-single summary"},[i("div",{staticClass:"step-title"},[i("span",[t._v(t._s(t.T__("Event Type Notification")))]),i("a",{on:{click:function(e){return t.$emit("set-active-step-and-toggle",5)}}},[t._v(t._s(t.T__("EDIT")))])]),i("div",{staticClass:"step-summary-content"})])])},Be=[],Re={name:"ServiceFormStep5",components:{},props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},create_or_update_btn_is_enabled:{},$v:{}},data:function(){return{}},methods:{},watch:{},mounted:function(){}},Ye=Re,He=Object(u["a"])(Ye,We,Be,!1,null,null,null),Fe=He.exports,Ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[null!=t.events?i("vue-cal",{ref:"vuecal",staticClass:"vuecal--blue-theme",staticStyle:{"align-self":"stretch"},attrs:{"default-view":"month","hide-view-selector":"",events:t.events,"disable-views":["years","year","week","day"],time:!1,"min-date":t.cal_min_date,"max-date":t.cal_max_date,"events-on-month-view":!0,"on-event-click":t.cal_event_trigger_show_edit_date_availability},on:{"cell-click":function(e){return t.cal_cell_trigger_show_edit_date_availability("cell-click",e)},"view-change":t.process_calendar_month_move_event}}):t._e(),null==t.events&&(t.show_expired_msg||t.show_error_unable_fetch)?i("div",{staticStyle:{height:"100%"}},[t.show_expired_msg?i("h3",{staticClass:"error_in_popup"},[t._v(" This event type does not have any active or future schedule to customise."),i("br"),t._v(" Please check the date range of the event type. ")]):t.show_error_unable_fetch?i("h3",{staticClass:"error_in_popup"},[t._v(" Unable to fetch the schedule. If you think this is an error, please "),i("a",{attrs:{href:"https://wpcal.io/support/?utm_source=wpcal_plugin&utm_medium="}},[t._v("contact support")]),t._v(". ")]):t._e()]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_edit_date_availability_popup,expression:"show_edit_date_availability_popup"}],staticClass:"popper-cont",staticStyle:{"z-index":"10000",width:"360px"},attrs:{id:"edit_date_availability"}},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_edit_date_availability,expression:"show_edit_date_availability"}],staticClass:"mbox bg-light shadow edit-availability"},[i("div",{staticClass:"txt-h4 bold center mb20 mt10"},[t._v(" "+t._s(t.T__("Edit Availability"))+" ")]),t.current_customizing_availability_date_details&&0==t.current_customizing_availability_date_details.is_available?i("div",[i("div",{staticClass:"unavailable"},[t._v(t._s(t.T__("Unavailable")))]),i("button",{staticClass:"wpc-btn secondary sm mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_available_use_previous_periods")}}},[t._v(" "+t._s(t.Tsprintf(t.T__("Set as available on %s"),t.apply_to_this_date))+" ")])]):t._e(),t.current_customizing_availability_date_details?i("TimeRange1ToN",{attrs:{hide_add_period_on_no_periods:"1"},model:{value:t.current_customizing_availability_date_details.periods,callback:function(e){t.$set(t.current_customizing_availability_date_details,"periods",e)},expression:"current_customizing_availability_date_details.periods"}}):t._e(),t.current_customizing_availability_date_details&&1==t.current_customizing_availability_date_details.is_available?i("button",{staticClass:"wpc-btn secondary sm mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_unavailable")}}},[t._v(" "+t._s(t.Tsprintf(t.T__("Set as unavailable on %s"),t.apply_to_this_date))+" ")]):t._e(),t.current_customizing_availability_date_details?i("span",[i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_date_only")}}},[t._v(" "+t._s(t.Tsprintf(t.T__("Apply to %s only"),t.apply_to_this_date))+" ")]),i("button",{staticClass:"wpc-btn primary md mt10 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_from_this_date")}}},[t._v(" "+t._s(t.Tsprintf(t.T__("Apply to all %1$s from %2$s"),t.apply_to_all_days,t.apply_from_this_date))+" ")]),i("button",{staticClass:"wpc-btn secondary-link md mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:t.show_apply_to_multiple_dates_by_date}},[t._v(" "+t._s(t.T__("Apply to multiple..."))+" ")])]):t._e(),i("button",{staticClass:"wpc-btn tert-link sm mt20 center",on:{click:t.close_edit_date_availability_popup_by_date}},[t._v(" "+t._s(t.T__("Cancel"))+" ")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_apply_to_multiple_dates,expression:"show_apply_to_multiple_dates"}],staticClass:"mbox bg-light shadow edit-availability",staticStyle:{"z-index":"10001"},attrs:{id:"apply_to_multiple_dates"}},[i("div",{staticClass:"txt-h4 center mb20 mt10"},[i("div",{staticClass:"icon-back",on:{click:t.back_to_show_edit_date_availability}}),t._v(" "+t._s(t.T__("Apply to multiple..."))+" ")]),i("ul",{staticClass:"selector apply-multiple inline time mt10 mb10"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.popup_edit_availability_form.apply_multiple_dates_days,expression:"popup_edit_availability_form.apply_multiple_dates_days"}],attrs:{type:"radio",id:"multiple-dates",name:"apply_multiple_dates_days",value:"dates"},domProps:{checked:t._q(t.popup_edit_availability_form.apply_multiple_dates_days,"dates")},on:{change:function(e){return t.$set(t.popup_edit_availability_form,"apply_multiple_dates_days","dates")}}}),i("label",{attrs:{for:"multiple-dates"}},[t._v(t._s(t.T__("dates")))])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.popup_edit_availability_form.apply_multiple_dates_days,expression:"popup_edit_availability_form.apply_multiple_dates_days"}],attrs:{type:"radio",id:"repeating-days",name:"apply_multiple_dates_days",value:"days"},domProps:{checked:t._q(t.popup_edit_availability_form.apply_multiple_dates_days,"days")},on:{change:function(e){return t.$set(t.popup_edit_availability_form,"apply_multiple_dates_days","days")}}}),i("label",{attrs:{for:"repeating-days"}},[t._v(t._s(t.T__("repeating days of the week")))])])]),"dates"===t.popup_edit_availability_form.apply_multiple_dates_days?i("div",[i("v-date-picker",{ref:"multiple_dates_picker",staticStyle:{width:"100%"},attrs:{mode:"multiple","is-inline":"",locale:this.$store.getters.get_site_locale_intl,value:"current_customizing_availability_date","min-date":t.apply_multipe_date_picker_min_date,"max-date":t.apply_multipe_date_picker_max_date},on:{dayclick:t.log},model:{value:t.popup_edit_availability_form.selected_dates,callback:function(e){t.$set(t.popup_edit_availability_form,"selected_dates",e)},expression:"popup_edit_availability_form.selected_dates"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dates_selected_meta_txt,expression:"dates_selected_meta_txt"}],staticStyle:{"text-align":"center","padding-top":"5px"}},[t._v(" "+t._s(t.Tsprintf(t.T__("%1$s selected"),t.dates_selected_meta_txt))+" â€¢ "),i("a",{on:{click:function(e){t.popup_edit_availability_form.selected_dates=[]}}},[t._v(t._s(t.T__("Clear")))])]),i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("apply_to_selected_dates")}}},[t._v(" "+t._s(t.T__("Apply"))+" ")])],1):t._e(),"days"===t.popup_edit_availability_form.apply_multiple_dates_days?i("div",[i("WeekDaysSelector",{model:{value:t.popup_edit_availability_form.apply_multiple_days,callback:function(e){t.$set(t.popup_edit_availability_form,"apply_multiple_days",e)},expression:"popup_edit_availability_form.apply_multiple_days"}}),i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("apply_to_selected_days")}}},[t._v(" Apply to selected day(s) from "+t._s(t.apply_from_this_date)+" ")])],1):t._e(),i("button",{staticClass:"wpc-btn tert-link sm mt20 center",on:{click:t.back_to_show_edit_date_availability}},[t._v(" "+t._s(t.T__("Cancel"))+" ")])])]),i("div",{staticStyle:{padding:"10px","margin-top":"-35px"}},[i("AdminInfoLine",{staticStyle:{margin:"0",width:"max-content"},attrs:{info_slug:"timings_in_timezone",timezone:t.timezone}}),i("a",{staticStyle:{float:"right","margin-top":"-25px"},attrs:{href:"https://help.wpcal.io/en/article/how-to-customise-availability-for-event-type-one-or-more-days-qfc8ez/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}},[t._v("Learn more about advance customization")])],1)],1)},Ge=[],Ve=i("53ca"),Ze=i("7fa7"),Qe=i.n(Ze),Je=(i("b55b"),i("ce69")),Ke={components:{VueCal:Qe.a,TimeRange1ToN:Ce,WeekDaysSelector:Ae},props:{timezone:{type:String}},data:function(){return{service_availability_data:null,events:null,show_edit_date_availability_popup:!1,show_edit_date_availability:!1,show_apply_to_multiple_dates:!1,current_customizing_availability_date:null,current_customizing_availability_date_formatted:null,current_customizing_availability_date_details:null,popup_instance:null,popup_edit_availability_form:{apply_multiple_dates_days:"dates",apply_multiple_days:[],selected_dates:[]},can_load_availability_for_calendar_month_move_event:!1,current_calendar_month:{},current_date_popup_action_btns_is_enabled:!0,show_expired_msg:!1,show_error_unable_fetch:!1}},computed:{cal_min_date:function(){return this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.current_available_from_date?this.service_availability_data.availability_date_ranges.current_available_from_date:""},cal_max_date:function(){return this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.current_available_to_date?this.service_availability_data.availability_date_ranges.current_available_to_date:""},apply_multipe_date_picker_min_date:function(){if(this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.current_available_from_date)return this.service_availability_data.availability_date_ranges.current_available_from_date},apply_multipe_date_picker_max_date:function(){if(this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.current_available_to_date)return this.service_availability_data.availability_date_ranges.current_available_to_date},apply_to_this_date:function(){return this.current_customizing_availability_date&&"function"===typeof this.current_customizing_availability_date.getMonth?Object(he["a"])(this.current_customizing_availability_date,"d MMM"):""},apply_from_this_date:function(){return this.apply_to_this_date},apply_to_all_days:function(){return this.current_customizing_availability_date&&"function"===typeof this.current_customizing_availability_date.getMonth?Object(he["a"])(this.current_customizing_availability_date,"EEEE")+"s":""},dates_selected_meta_txt:function(){var t=this.popup_edit_availability_form.selected_dates.length,e="";return t&&(e=this.Tsprintf(this.T_n("%s day","%s days",t),t)),e}},mounted:function(){this.show_service_availability_cal()},methods:{show_service_availability_cal:function(){var t=this,e="edit_service_availability",i={};i[e]={service_id:this.$route.params.service_id};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){i.data[e]&&"success"==i.data[e].status&&(t.service_availability_data=i.data[e].service_availability_data,t.events=i.data[e].service_availability_data.dates_availability_for_cal,setTimeout((function(){t.$refs.vuecal&&t.$refs.vuecal.switchView("month",t.date_parse(t.cal_min_date)),t.can_load_availability_for_calendar_month_move_event=!0}),100)),i.data[e]&&"error"==i.data[e].status&&(i.data[e].error&&"expired"==i.data[e].error?(t.show_expired_msg=!0,t.show_error_unable_fetch=!1):(t.show_expired_msg=!1,t.show_error_unable_fetch=!0))})).catch((function(t){console.log(t)}))},process_calendar_month_move_event:function(t){var e=Object(he["a"])(t.startDate,"LL"),i=Object(he["a"])(t.startDate,"yyyy");this.current_calendar_month={month:e,year:i},this.load_service_availability_by_calendar_view(this.current_calendar_month),this.close_edit_date_availability_popup_by_date()},load_service_availability_by_calendar_view:function(t){var e=this;if(this.can_load_availability_for_calendar_month_move_event&&t&&"object"===Object(Ve["a"])(t)&&t.hasOwnProperty("month")){var i="edit_service_availability_by_month",a={};a[i]={service_id:this.$route.params.service_id,current_month_view:t};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:a};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(t){e.handle_load_service_availability_by_calendar_view_response(t)})).catch((function(t){console.log(t)}))}},handle_load_service_availability_by_calendar_view_response:function(t){var e="edit_service_availability_by_month";t.data[e]&&"success"==t.data[e].status&&t.data[e].service_availability_data&&t.data[e].service_availability_data.dates_availability_for_cal&&(this.service_availability_data=t.data[e].service_availability_data,this.events=t.data[e].service_availability_data.dates_availability_for_cal)},cal_event_trigger_show_edit_date_availability:function(t,e){var i=this,a=Object(he["a"])(t.startDate,"yyyy-MM-dd");this.current_customizing_availability_date=t.startDate,this.current_customizing_availability_date_formatted=a,setTimeout((function(){i.show_edit_date_availability_popup_by_date()}),10)},cal_cell_trigger_show_edit_date_availability:function(t,e){if(e){var i=Object(he["a"])(e,"yyyy-MM-dd");this.current_customizing_availability_date=e,this.current_customizing_availability_date_formatted=i,this.show_edit_date_availability_popup_by_date()}},show_edit_date_availability_popup_by_date:function(){var t,e;this.show_edit_date_availability_popup=!0,this.show_edit_date_availability=!0,this.show_apply_to_multiple_dates=!1,this.current_date_popup_action_btns_is_enabled=!0,this.current_customizing_availability_date_details=Object(I["a"])(this.service_availability_data.dates_availability[this.current_customizing_availability_date_formatted]);var i=this.$refs.multiple_dates_picker;null===i||void 0===i||null===(t=i.$refs)||void 0===t||null===(e=t.calendar)||void 0===e||e.move(this.current_customizing_availability_date),this.show_edit_date_availability=!0;var a=document.querySelector(".vuecal__cell--selected"),s=document.querySelector("#edit_date_availability");null!==this.popup_instance&&(this.popup_instance.destroy(),this.popup_instance=null),this.reset_popup_edit_availability_form(),this.popup_instance=Object(J["a"])(a,s,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,10]}}]})},show_apply_to_multiple_dates_by_date:function(){this.show_edit_date_availability=!1,this.show_apply_to_multiple_dates=!0,this.popup_instance&&this.popup_instance.update()},back_to_show_edit_date_availability:function(){this.show_edit_date_availability=!0,this.show_apply_to_multiple_dates=!1,this.popup_instance&&this.popup_instance.update()},close_edit_date_availability_popup_by_date:function(){this.show_edit_date_availability_popup=!1},update_customizes_date_availability:function(t){var e=this;this.current_date_popup_action_btns_is_enabled=!1;var i={};"this_day_unavailable"==t?(i["is_available"]=0,i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_day_available_use_previous_periods"==t?(i["is_available"]=1,i["use_previous_periods"]="1",i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_date_only"==t?(i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_day_from_this_date"==t?(i["apply_to_days_or_dates"]="days",i["day_index_list"]=[Object(he["a"])(this.current_customizing_availability_date,"i")],i["from_date"]=this.current_customizing_availability_date_formatted):"apply_to_selected_dates"==t?(i["apply_to_days_or_dates"]="dates",i["dates"]=Object(Je["a"])(this.popup_edit_availability_form.selected_dates,this.format_date)):"apply_to_selected_days"==t&&(i["apply_to_days_or_dates"]="days",i["day_index_list"]=this.popup_edit_availability_form.apply_multiple_days,i["from_date"]=this.current_customizing_availability_date_formatted),"this_day_unavailable"!==t&&"this_day_available_use_previous_periods"!==t&&(i["is_available"]=this.current_customizing_availability_date_details.is_available,1==this.current_customizing_availability_date_details.is_available&&(i["periods"]=this.clone_deep(this.current_customizing_availability_date_details.periods)));var a="customize_service_availability",s="edit_service_availability_by_month",n={};n[a]={service_id:this.$route.params.service_id,request_data:i},n[s]={service_id:this.$route.params.service_id,current_month_view:this.current_calendar_month};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:n};l.a.post(window.wpcal_ajax.ajax_url,o).then((function(t){t.data[a]&&(e.notify_single_action_result(t.data[a],{success_msg:"Settings saved.",validation_errors:{target:"",zindex:"99999"}}),"success"===t.data[a].status&&e.close_edit_date_availability_popup_by_date()),e.handle_load_service_availability_by_calendar_view_response(t)})).catch((function(t){console.log(t)})).then((function(){e.current_date_popup_action_btns_is_enabled=!0}))},reset_popup_edit_availability_form:function(){this.popup_edit_availability_form.apply_multiple_dates_days="dates",this.popup_edit_availability_form.apply_multiple_days=[],this.popup_edit_availability_form.selected_dates=[]},log:function(t){console.log(t)},format_date:function(t){return Object(he["a"])(t,"yyyy-MM-dd")}}},Xe=Ke,ti=(i("1400"),i("524c"),Object(u["a"])(Xe,Ue,Ge,!1,null,"0ceb2c66",null)),ei=ti.exports,ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mbox"},[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Invitee Questions"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/event-type-questions-forms-1mt8d6a/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}})]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Invitees will be asked to fill out their full name and email to book this event."))+" ")]),i("div",{staticClass:"wpc-form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v(t._s(t.T__("Full Name")))]),i("input",{attrs:{type:"text",readonly:""}})]),i("div",{staticClass:"wpc-form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v(t._s(t.T__("Email")))]),i("input",{attrs:{type:"text",readonly:""}})]),i("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.questions.length>1?t.questions_drag_drop_options:{},expression:"\n        questions.length > 1 ? questions_drag_drop_options : {}\n      ",arg:"options"}],key:t.questions.length>1?100:0},[i("div",{attrs:{id:"question_answers_cont"},on:{reordered:t.reorder_selected_question}},t._l(t.questions,(function(e,a){return i("div",{key:a,staticClass:"wpc-form-row invitee-question",class:{hover:t.question_mouseover_index===a,disabled:!e.is_enabled||0==e.is_enabled},attrs:{id:"question_index_"+a,"data-id":a},on:{mouseover:function(e){t.question_mouseover_index=a},mouseleave:function(e){t.question_mouseover_index=null}}},[i("hr"),i("div",{staticClass:"txt-h5"},[i("div",{class:{"reorder-handle":t.questions.length>1}}),i("a",{staticClass:"edit-question-link",on:{click:function(e){return t.edit_question(a)}}},[t._v(t._s(t.T__("EDIT")))]),i("span",{staticClass:"pre question_title"},[t._v(t._s(e.question))])]),"textarea"==e.answer_type?i("textarea",{staticClass:"answer_type_input",attrs:{readonly:""}}):t._e(),t._v(" "),"input_text"==e.answer_type||"input_phone"==e.answer_type?i("input",{attrs:{type:"text",readonly:""}}):t._e()])})),0)]),i("hr",{staticStyle:{"margin-top":"0"}}),i("button",{staticClass:"wpc-btn secondary md",staticStyle:{width:"100%"},attrs:{type:"button",id:"add_question",disabled:!t.can_active_add_question_btn},on:{click:t.add_question}},[t._v(" "+t._s(t.T__("+ Add Question"))+" ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.can_show_edit_question_popup,expression:"can_show_edit_question_popup"}],staticClass:"popper-cont",staticStyle:{"z-index":"10000",width:"360px"},attrs:{id:"edit_question_popup"}},[i("div",{staticClass:"mbox shadow"},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),i("div",{staticClass:"txt-h5 bold",staticStyle:{display:"flex"}},[t._v(" "+t._s("new"==this.current_edit_question_index?this.T__("Add"):this.T__("Edit"))+" "+t._s(t.T__("Question"))+" "),i("OnOffSlider",{attrs:{name:"current_edit_question_is_enabled",true_value:"1",false_value:"0"},model:{value:t.current_edit_question.is_enabled,callback:function(e){t.$set(t.current_edit_question,"is_enabled",e)},expression:"current_edit_question.is_enabled"}}),"new"!=this.current_edit_question_index?i("div",{staticClass:"delete",on:{click:t.show_delete_confirmation}},[t._v(" "+t._s(t.T__("Delete question"))+" ")]):t._e()],1),i("div",{staticClass:"wpc-form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v(t._s(t.T__("Answer type")))]),i("form-row",{attrs:{validator:t.$v.current_edit_question.answer_type}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.current_edit_question.answer_type,expression:"current_edit_question.answer_type"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.current_edit_question,"answer_type",e.target.multiple?i:i[0])},function(e){return t.$v.current_edit_question.answer_type.$touch()}]}},[i("option",{attrs:{value:"textarea"}},[t._v(t._s(t.T__("Multi-line")))]),i("option",{attrs:{value:"input_text"}},[t._v(t._s(t.T__("Single-line")))]),i("option",{attrs:{value:"input_phone"}},[t._v(t._s(t.T__("Phone")))])])]),i("div",{staticClass:"txt-h5 mt20"},[t._v(t._s(t.T__("Question")))]),i("form-row",{attrs:{validator:t.$v.current_edit_question.question}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current_edit_question.question,expression:"current_edit_question.question"}],domProps:{value:t.current_edit_question.question},on:{blur:function(e){return t.$v.current_edit_question.question.$touch()},input:function(e){e.target.composing||t.$set(t.current_edit_question,"question",e.target.value)}}})]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_edit_question.is_required,expression:"current_edit_question.is_required"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.current_edit_question.is_required)?t._i(t.current_edit_question.is_required,null)>-1:t._q(t.current_edit_question.is_required,"1")},on:{change:function(e){var i=t.current_edit_question.is_required,a=e.target,s=a.checked?"1":"0";if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.current_edit_question,"is_required",i.concat([n])):o>-1&&t.$set(t.current_edit_question,"is_required",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.current_edit_question,"is_required",s)}}}),t._v(t._s(t.T__("Required")))]),i("div",{staticClass:"txt-h5 mt20"},[t._v(t._s(t.T__("Answer")))]),"textarea"==t.current_edit_question.answer_type?i("textarea",{attrs:{readonly:""}}):t._e(),t._v(" "),"input_text"==t.current_edit_question.answer_type||"input_phone"==t.current_edit_question.answer_type?i("input",{attrs:{type:"text",readonly:""}}):t._e(),i("button",{staticClass:"wpc-btn primary md mt20 full-width",on:{click:t.save_question}},[t._v(" "+t._s(t.T__("Done"))+" ")]),i("button",{staticClass:"wpc-btn tert-link sm mt10 center",on:{click:t.reset_current_question_and_hide_edit_question_popup}},[t._v(" "+t._s(t.T__("Cancel"))+" ")])],1)])])])},ai=[],si=(i("8ba4"),{components:{OnOffSlider:U},directives:{dragAndDrop:Mt["VueDraggableDirective"]},model:{prop:"invitee_questions",event:"invitee-questions-changed"},props:{invitee_questions:{type:Object,default:function(){return{questions:[]}}}},data:function(){return{can_show_edit_question_popup:!1,edit_question_popup_instance:null,current_edit_question:{},current_edit_question_index:!1,default_question:{is_enabled:"1",is_required:"0",question:this.T__("Please share anything that will help prepare for our meeting."),answer_type:"textarea"},question_mouseover_index:null,questions_drag_drop_options:{dropzoneSelector:"#question_answers_cont",draggableSelector:".invitee-question",handlerSelector:".reorder-handle",reactivityEnabled:!0,multipleDropzonesItemsDraggingEnabled:!1,showDropzoneAreas:!0}}},validations:{current_edit_question:{is_enabled:{required:Lt["required"],must_be_1_or_0:Dt["s"]},is_required:{required:Lt["required"],must_be_1_or_0:Dt["s"]},question:{required:Lt["required"]},answer_type:{required:Lt["required"],answer_type_in_array:Object(Dt["o"])(["textarea","input_text","input_phone"])}}},computed:{can_active_add_question_btn:function(){return!!(this.invitee_questions&&"object"===Object(Ve["a"])(this.invitee_questions)&&this.invitee_questions.hasOwnProperty("questions")&&Array.isArray(this.invitee_questions.questions))&&this.invitee_questions.questions.length<10},questions:function(){return this.invitee_questions&&"object"===Object(Ve["a"])(this.invitee_questions)&&this.invitee_questions.hasOwnProperty("questions")?this.invitee_questions.questions:[]}},methods:{add_question:function(){this.current_edit_question_index="new",this.current_edit_question=this.clone_deep(this.default_question),this.invitee_questions.questions.length>=1&&(this.current_edit_question.question=""),this.$v.current_edit_question.$reset(),this.show_edit_question_popup()},edit_question:function(t){"object"===Object(Ve["a"])(this.invitee_questions.questions[t])&&(this.current_edit_question_index=t,this.current_edit_question=this.clone_deep(this.invitee_questions.questions[t]),this.$v.current_edit_question.$reset(),this.show_edit_question_popup(t))},delete_question:function(){Number.isInteger(this.current_edit_question_index)?this.invitee_questions.questions.splice(this.current_edit_question_index,1):"new"===this.current_edit_question_index&&(this.current_edit_question={}),this.$emit("invitee-questions-changed",this.invitee_questions),this.$emit("save-questions"),this.reset_current_question_and_hide_edit_question_popup()},save_question:function(){if(this.$v.current_edit_question.$touch(),this.$v.current_edit_question.$anyError)return this.scroll_to_first_validation_error(),!1;Number.isInteger(this.current_edit_question_index)?this.invitee_questions.questions[this.current_edit_question_index]=this.current_edit_question:"new"===this.current_edit_question_index&&this.invitee_questions.questions.push(this.current_edit_question),this.$emit("invitee-questions-changed",this.invitee_questions),this.$emit("save-questions"),this.reset_current_question_and_hide_edit_question_popup()},show_delete_confirmation:function(){var t=this;this.$modal.show("dialog",{title:this.T__("Delete this question?"),text:"",buttons:[{title:this.T__("Yes, delete."),class:"vue-dialog-button dialog-red-btn",handler:function(){t.delete_question(),t.$modal.hide("dialog")}},{title:"No, don't.",handler:function(){t.$modal.hide("dialog")}}]})},show_edit_question_popup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="#add_question";null!==t&&(e="#question_index_"+t),this.can_show_edit_question_popup=!0;var i=document.querySelector(e),a=document.querySelector("#edit_question_popup");null!==this.edit_question_popup_instance&&(this.edit_question_popup_instance.destroy(),this.edit_question_popup_instance=null),this.edit_question_popup_instance=Object(J["a"])(i,a,{placement:"right",modifiers:[{name:"offset",options:{offset:[0,20]}}]})},hide_edit_question_popup:function(){this.can_show_edit_question_popup=!1},reset_current_question_and_hide_edit_question_popup:function(){this.hide_edit_question_popup(),this.current_edit_question_index=!1,this.current_edit_question={}},reorder_selected_question:function(t){var e=this,i=t.detail.ids[0],a=t.detail.index,s=this.invitee_questions.questions.splice(i,1),n=i<a?a-1:a;this.invitee_questions.questions.splice(n,0,s[0]),this.$nextTick((function(){e.$emit("save-questions")}))}}}),ni=si,oi=(i("8d79"),Object(u["a"])(ni,ii,ai,!1,null,"715d7140",null)),_i=oi.exports,ri=function(t,e){return{methods:{oblaiu_is_form_dirty:function(){if(!this[t]||!this[e])return!1;var i=Object(Kt["a"])(this[t],this[e]);return!i},oblaiu_on_before_unload:function(t){this.oblaiu_is_form_dirty()&&!this.oblaiu_confirm_leave()&&(t.preventDefault(),t.returnValue="")},oblaiu_confirm_leave:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="Hey wait! You have unsaved changes. \nClick Ok to discard your changes and leave, or \nclick Cancel to stay in this page.";return t&&(e="Hey wait! You have unsaved changes. \nClick Ok to discard your changes and continue, or \nclick Cancel to stay in this section."),window.confirm(e)}},created:function(){window.addEventListener("beforeunload",this.oblaiu_on_before_unload)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.oblaiu_on_before_unload)},beforeRouteLeave:function(t,e,i){this.skip_leaving_warining||!this.oblaiu_is_form_dirty()||this.oblaiu_confirm_leave()?i():i(!1)}}},li={name:"ServiceFormEditView",mixins:[ri("saved_form","form")],components:{ServiceFormStep2:ie,ServiceFormStep3:Me,ServiceFormStep5:Fe,ServiceAvailabilityCal:ei,ServiceInviteeQuestions:_i,AlertAdminToUpdateProfile:mt,OnOffSlider:U},props:{view:{type:String},edit_view:{type:Object},form:{type:Object,required:!0},saved_form:{type:Object,required:!0},service_id:{},create_or_update_btn_is_enabled:{},$v:{}},computed:{service_date_range_summary:function(){var t=this.saved_form.default_availability_details;if("relative"===t.date_range_type){var e=t.date_misc,i=e.replace(/^\+((\d)*)D$/gm,(function(t,e){return e}));return this.Tsprintf(this.T__("%s rolling days into the future"),i)}if("from_to"==t.date_range_type){var a=this.$options.filters.wpcal_format_std_date(t.from_date),s=this.$options.filters.wpcal_format_std_date(t.to_date);return this.Tsprintf(this.T__("From %1$s to %2$s"),a,s)}return"infinite"==t.date_range_type?this.T__("Indefinitely"):""}},methods:{may_show_service_availability_modal:function(){var t=this;if(this.oblaiu_is_form_dirty()){if(!this.oblaiu_confirm_leave(!0))return;this.form=this.clone_deep(this.saved_form),this.$emit("edit-view-toggle-steps",this.edit_view.step3),this.$nextTick((function(){t.show_service_availability_modal()}))}else this.$emit("edit-view-toggle-steps",this.edit_view.step3),this.$nextTick((function(){t.show_service_availability_modal()}))},show_service_availability_modal:function(){this.$modal.show("service_availability_modal")},service_availability_modal_before_close:function(t){var e=this.$refs.service_availability_modal_contents;e.show_edit_date_availability_popup&&(e.close_edit_date_availability_popup_by_date(),t.stop())}}},ci=li,di=(i("b812"),Object(u["a"])(ci,Le,De,!1,null,"5210770c",null)),ui=di.exports,mi={name:"ServiceForm",mixins:[ri("saved_form","form"),pt],props:{msg:String},components:{ServiceFormStep1:Ct,ServiceFormStep2:ie,ServiceFormStep3:Me,ServiceFormEditView:ui},data:function(){return{view:"",service_id:null,form:{name:"",status:"",locations:[],descr:"",post_id:"",color:"",relationship_type:"",timezone:"",duration:"30",display_start_time_every:"15",max_booking_per_day:"",min_schedule_notice:{type:"units",time_units:"4",time_units_in:"hrs",days_before_time:"00:00:00",days_before:0},event_buffer_before:0,event_buffer_after:0,is_manage_private:"0",invitee_notify_by:"calendar_invitation",service_admin_user_ids:[this.$store.getters.get_current_admin_details.id],invitee_questions:{questions:[]},default_availability_details:{date_range_type:"relative",from_date:"",to_date:"",date_misc:"+60D",periods:[],day_index_list:[]},post_details:{status:"",link:""}},saved_form:this.clone_deep(this.form),tabs_flow:{active_step_id:1,steps:[{id:1,form:!0,summary:!1,upcoming:!1},{id:2,form:!1,summary:!1,upcoming:!0},{id:3,form:!1,summary:!1,upcoming:!0}]},edit_view:{active_step_id:null,step2:{id:2,summary:!0,form:!1},step3:{id:3,summary:!0,form:!1},step5:{id:5,summary:!0,form:!1}},create_or_update_btn_is_enabled:!0,skip_leaving_warining:!1,service_name_last_saved:""}},validations:{form:{name:{required:Lt["required"]},color:{required:Lt["required"]},relationship_type:{required:Lt["required"]},timezone:{required:Lt["required"]},duration:{required:Lt["required"],integer:Lt["integer"],between_duration:Object(Lt["between"])(1,1440)},display_start_time_every:{required:Lt["required"],integer:Lt["integer"],between_display_start_time_every:Object(Lt["between"])(1,1440)},max_booking_per_day:{integer:Lt["integer"],between_max_booking_per_day:Object(Lt["between"])(1,1440)},min_schedule_notice:{time_units:{integer:Lt["integer"],required:Object(Lt["requiredIf"])((function(){return"units"===this.form.min_schedule_notice.type}))},days_before_time:{valid_time:Dt["z"],required:Object(Lt["requiredIf"])((function(){return"time_days_before"===this.form.min_schedule_notice.type}))}},event_buffer_before:{integer:Lt["integer"],between_event_buffer_before:Object(Lt["between"])(0,300)},event_buffer_after:{integer:Lt["integer"],between_event_buffer_before:Object(Lt["between"])(0,300)},is_manage_private:{required:Lt["required"],must_be_1_or_0:Dt["s"]},invitee_notify_by:{required:Lt["required"],invitee_notify_by_in_array:Object(Dt["o"])(["calendar_invitation","email"])},service_admin_user_ids:{required:Lt["required"],minLength:Object(Lt["minLength"])(1)},default_availability_details:{date_range_type:{required:Lt["required"],date_range_type_in_array:Object(Dt["o"])(["relative","from_to","infinite"])},date_misc:{required:Object(Lt["requiredIf"])((function(){return"relative"===this.form.default_availability_details.date_range_type}))},from_date:{required:Object(Lt["requiredIf"])((function(){return"from_to"===this.form.default_availability_details.date_range_type})),valid_date:Dt["w"]},to_date:{required:Object(Lt["requiredIf"])((function(){return"from_to"===this.form.default_availability_details.date_range_type})),valid_date:Dt["w"],min_date:Object(Dt["q"])("from_date")},periods:{required:Lt["required"],minLength:Object(Lt["minLength"])(1),check_periods_collide:Dt["h"],$each:{from_time:{required:Lt["required"],valid_time:Dt["z"]},to_time:{required:Lt["required"],valid_time:Dt["z"],min_time:Object(Dt["r"])("from_time")}}},day_index_list:{required:Lt["required"],subset_working_days:Object(Dt["t"])([1,2,3,4,5,6,7])}}},step1:["form.relationship_type"],step2:["form.name","form.color","form.is_manage_private","form.service_admin_user_ids"],step3:["form.duration","form.display_start_time_every","form.timezone","form.max_booking_per_day","form.min_schedule_notice.time_units","form.min_schedule_notice.days_before_time","form.event_buffer_before","form.event_buffer_after","form.default_availability_details.date_range_type","form.default_availability_details.date_misc","form.default_availability_details.from_date","form.default_availability_details.to_date","form.default_availability_details.periods","form.default_availability_details.day_index_list"],step5:["form.invitee_notify_by"],step3_advance_options:["form.max_booking_per_day","form.min_schedule_notice.time_units","form.min_schedule_notice.days_before_time","form.event_buffer_before","form.event_buffer_after"]},computed:{page_title:function(){var t=this.T__("Create New Event Type");return"service_edit"==this.$route.name&&(t=this.T__("Event Type - ")+this.saved_form.name),t},document_title:function(){var t,e=this.T__("Create New Event Type");"service_edit"==this.$route.name&&(e="",null!==(t=this.saved_form)&&void 0!==t&&t.name&&(e=this.saved_form.name+" â€¹ "),e+=this.T__("Event Type"));return e}},methods:{set_active_step:function(t){this.tabs_flow.active_step_id=t},toggle_steps:function(){for(var t in this.tabs_flow.steps)this.tabs_flow.active_step_id==this.tabs_flow.steps[t].id?(this.tabs_flow.steps[t].form=!0,this.tabs_flow.steps[t].summary=!1,this.tabs_flow.steps[t].upcoming=!1):this.tabs_flow.active_step_id<this.tabs_flow.steps[t].id?(this.tabs_flow.steps[t].form=!1,this.tabs_flow.steps[t].summary=!1,this.tabs_flow.steps[t].upcoming=!0):this.tabs_flow.active_step_id>this.tabs_flow.steps[t].id&&(this.tabs_flow.steps[t].form=!1,this.tabs_flow.steps[t].summary=!0,this.tabs_flow.steps[t].upcoming=!1)},edit_view_toggle_steps:function(t){if(t.form)this.oblaiu_is_form_dirty()&&(this.form=this.clone_deep(this.saved_form));else{var e=t.id!=this.edit_view.active_step_id?this.edit_view.active_step_id:null;if(e&&this.edit_view["step"+e].form){if(this.oblaiu_is_form_dirty()){if(!this.oblaiu_confirm_leave(!0))return;this.form=this.clone_deep(this.saved_form)}this.edit_view["step"+e].form=!1,this.edit_view["step"+e].summary=!0,this.$v["step"+e].$reset(),this.edit_view.active_step_id=e==this.edit_view.active_step_id?null:this.edit_view.active_step_id}}t.summary=!t.summary,t.form=!t.form,this.$v["step"+t.id].$reset(),t.form?(this.edit_view.active_step_id=t.id,this.scroll_to_if_not_in_view_port("#service_form_step"+t.id)):this.edit_view.active_step_id=null},set_active_step_and_toggle:function(t){this.set_active_step(t),this.toggle_steps()},edit_view_form_submit:function(){this.form_submit()},edit_view_reset:function(){this.edit_view.step2.summary=!0,this.edit_view.step2.form=!1,this.edit_view.step3.summary=!0,this.edit_view.step3.form=!1,this.edit_view.step5.summary=!0,this.edit_view.step5.form=!1,this.edit_view.active_step_id=null},validate_may_navigate_or_submit:function(t){if("add"==this.view){if(1==t||2==t||3==t)if(this.$v["step"+t].$touch(),3==t&&this.$v.step3_advance_options.$anyError&&this.$root.$emit("show-advance-options"),this.$v["step"+t].$anyError)this.scroll_to_first_validation_error();else if(1==t||2==t){var e=t+1;this.set_active_step_and_toggle(e)}else 3==t&&this.form_submit()}else"edit"==this.view&&(2!=t&&3!=t&&5!=t||(this.$v["step"+t].$touch(),3==t&&this.$v.step3_advance_options.$anyError&&this.$root.$emit("show-advance-options"),this.$v["step"+t].$anyError?this.scroll_to_first_validation_error():this.edit_view_form_submit()))},load_page:function(){"service_add"==this.$route.name?this.load_add_page():"service_edit"==this.$route.name&&this.load_edit_page()},load_add_page:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object.assign(t.$data,t.$options.data.apply(t)),t.view="add",i=t.$store.getters.get_general_settings,i.hasOwnProperty("working_hours")&&t.form.default_availability_details.periods.push(i.working_hours),i.hasOwnProperty("working_days")&&(t.form.default_availability_details.day_index_list=t.clone_deep(i.working_days)),i.hasOwnProperty("timezone")&&(t.form.timezone=t.clone_deep(i.timezone)),t.saved_form=t.clone_deep(t.form);case 7:case"end":return e.stop()}}),e)})))()},load_edit_page:function(){var t=this;Object.assign(this.$data,this.$options.data.apply(this)),this.view="edit",this.service_id=this.$route.params.service_id,this.saved_form.service_admin_user_ids=[0];var e="edit_service",i={};i[e]={service_id:this.service_id};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){if(t.notify_single_action_result(i.data[e],{dont_notify_success:!0}),i.data&&"error"==i.data[e].status&&("access_denied"==i.data[e].error||"service_no_longer_editable"==i.data[e].error))return t.form=t.clone_deep(t.saved_form),void t.$router.push("/event-types");i.data&&i.data[e].hasOwnProperty("service_data")&&(t.form=i.data[e].service_data,t.saved_form=t.clone_deep(t.form))})).catch((function(t){console.log(t)}))},form_submit:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clear_validation_errors_cont(),t.create_or_update_btn_is_enabled=!1,"service_add"==t.$route.name?i="add_service":"service_edit"==t.$route.name&&(i="update_service"),a=t.clone_deep(t.form),a.hasOwnProperty("invitee_questions")&&a.invitee_questions.hasOwnProperty("questions")&&0===a.invitee_questions.questions.length&&(a.invitee_questions["__questions_count"]=0),s={},s[i]={service_id:t.service_id,service_data:a},n="edit_service","service_edit"==t.$route.name&&(s[n]={service_id:t.service_id},t.log_service_name_last_saved()),o={action:"wpcal_process_admin_ajax_request",wpcal_request:s},e.next=12,l.a.post(window.wpcal_ajax.ajax_url,o).then((function(e){var a=t.T__("Event type updated successfully.");if("add_service"===i&&(a=t.T__("Event type added successfully.")),t.notify_single_action_result(e.data[i],{success_msg:a}),"service_add"==t.$route.name&&e.data&&"success"==e.data[i].status&&e.data[i].hasOwnProperty("service_id")){t.skip_leaving_warining=!0;var s=e.data[i].service_id;t.$router.push("/event-type/edit/"+s)}if("service_edit"==t.$route.name&&e.data&&"success"===e.data[i].status){var o=t.edit_view.step2.form?2:t.edit_view.step3.form?3:"";o&&t.scroll_to_if_not_in_view_port("#service_form_step"+o),t.edit_view_reset()}e.data&&e.data.hasOwnProperty(n)&&e.data[n].hasOwnProperty("service_data")&&(t.form=e.data[n].service_data,t.saved_form=t.clone_deep(t.form),t.may_alert_to_update_booking_page_on_service_name_change())})).catch((function(t){console.log(t)})).then((function(){t.create_or_update_btn_is_enabled=!0}));case 12:case"end":return e.stop()}}),e)})))()},log_service_name_last_saved:function(){"edit"==this.view&&(this.service_name_last_saved=this.saved_form.name)},may_alert_to_update_booking_page_on_service_name_change:function(){"edit"==this.view&&this.service_name_last_saved!=this.saved_form.name&&this.$modal.show("dialog",{title:this.T__("The event type name has been updated."),text:this.Tsprintf(this.T__("Please note that this will not change the booking page title. If you want to change that, you can do so here - %1$sEdit Booking Page %2$s"),'<a style="font-size:14px;" href="post.php?post='+this.saved_form.post_id+'&action=edit" target="_blank">','<span style="font-size:11px; font-weight:600; position: absolute; margin: 2px;">&nearr;</span></a>'),buttons:[{title:this.T__("Okay"),default:!0}]})}},created:function(){this.load_page(),this.$store.dispatch("load_managed_active_admins_details")},mounted:function(){this.toggle_steps()},watch:{"$route.name":function(){this.load_page()},document_title:function(){this.$store.dispatch("set_document_title",this.document_title)}}},pi=mi,vi=Object(u["a"])(pi,bt,yt,!1,null,null,null),fi=vi.exports,hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.T__("Bookings")))]),i("AdminHeaderRight")],1),i("div",{staticClass:"se-cont"},[i("ul",{staticClass:"se-nav"},[i("li",{class:{active:t.tabs_view.upcoming},on:{click:function(e){return t.switch_tabs("upcoming")}}},[t._v(" "+t._s(t.T__("UPCOMING"))+" ")]),i("li",{class:{active:t.tabs_view.past},on:{click:function(e){return t.switch_tabs("past")}}},[t._v(" "+t._s(t.T__("PAST"))+" ")]),i("li",{class:{active:t.tabs_view.custom},on:{click:function(e){return t.switch_tabs("custom")}}},[t._v(" "+t._s(t.T__("Find a Booking"))+" ")])]),i("div",{attrs:{id:"booking_list_cont"}},[t.tabs_view.upcoming?i("div",[i("ServiceBookingFilters",{model:{value:t.filter_options,callback:function(e){t.filter_options=e},expression:"filter_options"}}),i("ServiceBookingList",{attrs:{booking_list_type:"upcoming",booking_details:t.upcoming_bookings,filter_options:t.filter_options},on:{"remove-booking":function(e){return t.remove_booking(e)},"load-page":function(e){return t.load_page(e)}}})],1):t._e(),t.tabs_view.past?i("div",[i("ServiceBookingFilters",{model:{value:t.filter_options,callback:function(e){t.filter_options=e},expression:"filter_options"}}),i("ServiceBookingList",{attrs:{booking_list_type:"past",booking_details:t.past_bookings,filter_options:t.filter_options},on:{"load-page":function(e){return t.load_page(e)}}})],1):t._e(),t.tabs_view.custom?i("div",[i("ServiceBookingFilters",{attrs:{filter_options:t.custom_filter_options,mode:"custom"}}),i("ServiceBookingList",{attrs:{booking_list_type:"custom",booking_details:t.custom_bookings},on:{"remove-booking":function(e){return t.remove_booking(e)},"load-page":function(e){return t.load_page(e)}}})],1):t._e()])]),i("TimeZoneSelector")],1)])},gi=[],bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bookings-pages-cont"},[t.booking_details.page>0?i("pagination",{attrs:{placement:"top",records:t.booking_details.total_items,"per-page":t.booking_details.items_per_page,options:t.pagination_options},on:{paginate:function(e){return t.$emit("load-page",{page:t.booking_details.page,list_type:t.booking_list_type})}},model:{value:t.booking_details.page,callback:function(e){t.$set(t.booking_details,"page",e)},expression:"booking_details.page"}}):t._e(),0==t.booking_details.bookings.length&&t.booking_details.eol?i("div",{staticClass:"empty-booking-cont"},["upcoming"==t.booking_list_type&&"1"==t.filter_options.booking_status&&t.filter_options.admin_user_id==t.$store.getters.get_current_admin_details.id?i("span",[t._v(t._s(t.T__("You have no Upcoming bookings."))+" "+t._s(t.T__("Time to chill...")))]):t._e(),"past"==t.booking_list_type&&"1"==t.filter_options.booking_status&&t.filter_options.admin_user_id==t.$store.getters.get_current_admin_details.id?i("span",[t._v(t._s(t.T__("There are no past bookings.")))]):"upcoming"==t.booking_list_type||"past"==t.booking_list_type?i("span",[t._v(t._s(t.T__("No matching bookings found.")))]):t._e(),"custom"==t.booking_list_type?i("span",[t._v(t._s(t.T__("No matching bookings found. Try changing the filters above.")))]):t._e()]):t._e(),i("div",{staticClass:"all-days-cont"},t._l(t.booking_details_for_view,(function(e,a){return i("div",{key:a,staticClass:"day-cont"},[i("div",{staticClass:"date-cont"},[t._v(" "+t._s(t._f("wpcal_unix_to_sw_sm_sd_if_fy")(e.group_date,t.tz))),i("br"),i("span",[t._v(t._s(t._f("wpcal_unix_to_relative_day")(e.group_date,t.tz)))])]),i("div",{staticClass:"events-cont"},t._l(e.bookings,(function(e,a){var s;return i("div",{key:a,staticClass:"single-event-cont",class:(s={expanded:t.is_booking_expanded(e.id)},s["clr-"+e.service_details.color]=!0,s)},[i("div",{staticClass:"event-summary"},[i("div",{staticClass:"event-slot"},[i("div",{class:{disabled:-1==e.status||-5==e.status}},[i("span",{attrs:{title:t.$options.filters.wpcal_unix_to_time(e.booking_from_time,t.tz,t.time_format)+" "+t.$options.filters.wpcal_unix_to_sw_sm_sd_if_fy(e.booking_from_time,t.tz)}},[t._v(t._s(t._f("wpcal_unix_to_time")(e.booking_from_time,t.tz,t.time_format)))]),t._v(" - "),i("span",{attrs:{title:t.$options.filters.wpcal_unix_to_time(e.booking_to_time,t.tz,t.time_format)+" "+t.$options.filters.wpcal_unix_to_sw_sm_sd_if_fy(e.booking_to_time,t.tz)}},[t._v(t._s(t._f("wpcal_unix_to_time")(e.booking_to_time,t.tz,t.time_format)))])]),-1==e.status||-5==e.status?i("div",{staticClass:"status-cancelled-rescheduled"},[t._v(" "+t._s(t._f("admin_booking_status")(e.status,e.booking_to_time))+" ")]):t._e()]),i("div",{staticClass:"event-invitee-type"},[i("span",{domProps:{innerHTML:t._s(t.Tsprintf(t.T__("%1$s %3$s %2$s with %4$s."),"<strong>","</strong>",e.invitee_name,t.select_admin_name(e)))}}),i("br"),t._v(" "+t._s(t.T__("Event Type:"))+" "),i("strong",[t._v(t._s(e.service_details.name))])]),i("div",{staticClass:"show-link"},[i("a",{on:{click:function(i){return t.toggle_expand_booking(e.id)}}},[t._v(" "+t._s(t.T__("DETAILS")))]),i("br"),i("span",{staticClass:"created-date",attrs:{title:t.$options.filters.wpcal_unix_to_time(e.added_ts,t.tz)+" "+t.$options.filters.wpcal_unix_to_full_date_day(e.added_ts,t.tz)}},[t._v(t._s(t.T__("created"))+" "+t._s(t._f("wpcal_unix_to_sm_sd_if_fy")(e.added_ts,t.tz)))])])]),i("div",{staticClass:"event-detailed"},[i("div",{staticClass:"actions-cont"},[1==e.status&&e.booking_to_time>t.cutoff_time?i("div",[i("a",{staticClass:"btn reschedule",on:{click:function(i){return t.show_service_booking_modal(e)}}},[t._v(t._s(t.T__("Reschedule")))]),i("a",{staticClass:"btn cancel",on:{click:function(i){return t.show_cancel_confirmation(e)}}},[t._v(t._s(t.T__("Cancel")))])]):t._e(),i("a",{attrs:{href:"#/event-type/edit/"+e.service_id,target:"_blank"}},[t._v(t._s(t.T__("Edit Event Type")))]),i("br"),i("a",{on:{click:function(i){return t.show_service_booking_modal_for_schedule_invitee_again(e)}}},[t._v(t._s(t.T__("Schedule Invitee Again")))])]),i("div",{staticClass:"event-meta"},[i("div",{staticClass:"event-meta-invitee-details"},[i("div",[i("div",{staticClass:"event-meta-label"},[t._v(t._s(t.T__("NAME")))]),t._v(" "+t._s(e.invitee_name)+" ")]),i("div",[i("div",{staticClass:"event-meta-label"},[t._v(t._s(t.T__("EMAIL")))]),t._v(" "+t._s(e.invitee_email)+" ")]),i("div",{staticStyle:{"padding-right":"10px","box-sizing":"border-box"}},[i("div",{staticClass:"event-meta-label"},[t._v(t._s(t.T__("LOCATION")))]),i("LocationAdvanced",{attrs:{type:"display_user_after_booking_location",location_details:e.location,booking_details:e}})],1),i("div",[i("div",{staticClass:"event-meta-label"},[t._v(" "+t._s(t.T__("INVITEE TIME ZONE"))+" ")]),t._v(" "+t._s(t._f("wpcal_format_tz")(e.invitee_tz))+" ")])]),-1==e.status||-5==e.status?i("div",{staticClass:"cancel-reschedule-reason-cont"},[i("div",[i("div",{staticClass:"event-meta-label"},[t._v(" "+t._s(t.get_action_label(e.status,"verb")+" Reason")+" ")]),i("div",{staticStyle:{"white-space":"pre-line"}},[t._v(" "+t._s(e.reschedule_cancel_reason?e.reschedule_cancel_reason:"(Not entered)")+" ")])]),i("div",[i("div",{staticClass:"event-meta-label"},[t._v(" "+t._s(t.get_action_label(e.status,"past")+" by")+" ")]),t._v(" "+t._s(e.reschedule_cancel_user_full_name?e.reschedule_cancel_user_full_name:"N/A")+" ")]),i("div",[i("div",{staticClass:"event-meta-label"},[t._v(" "+t._s(t.get_action_label(e.status,"past")+" at")+" ")]),t._v(" "+t._s(t._f("wpcal_unix_to_time")(e.reschedule_cancel_action_ts,t.tz))+" "+t._s(t._f("wpcal_unix_to_full_date_day")(e.reschedule_cancel_action_ts,t.tz))+" ")]),-5==e.status&&e.rescheduled_booking_id?i("div",[i("router-link",{attrs:{to:"/bookings/custom/"+e.rescheduled_booking_id}},[t._v(t._s(t.T__("View new booking")))])],1):t._e()]):t._e()]),i("div",{staticClass:"event-survey"},t._l(e.invitee_question_answers,(function(e,a){return i("div",{key:a,staticClass:"wpc-form-row"},[i("div",{staticClass:"txt-h5 pre",staticStyle:{color:"#7c7d9c","margin-bottom":"5px"}},[t._v(t._s(e.question))]),""==e.answer?i("div",{staticClass:"pre",staticStyle:{"margin-bottom":"10px","font-size":"13px","font-style":"italic"}},[t._v(" ("+t._s(t.T__("Not entered"))+") ")]):i("div",{staticClass:"pre b",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(e.answer))])])})),0)])])})),0)])})),0),t.booking_details.page>0?i("pagination",{attrs:{placement:"bottom",records:t.booking_details.total_items,"per-page":t.booking_details.items_per_page,options:t.pagination_options},on:{paginate:function(e){return t.$emit("load-page",{page:t.booking_details.page,list_type:t.booking_list_type})}},model:{value:t.booking_details.page,callback:function(e){t.$set(t.booking_details,"page",e)},expression:"booking_details.page"}}):t._e(),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"service_booking_modal",width:"1000px",height:"auto",scrollable:!0,adaptive:!0},on:{closed:function(e){t.reschedule_booking={}}}},[t.reschedule_booking.hasOwnProperty("id")?i("Booking",{attrs:{admin_end_booking_type:"reschedule",admin_end_service_id:t.reschedule_booking.service_id,admin_end_old_booking_unique_link:t.reschedule_booking.unique_link},on:{"booking-rescheduled":function(e){return t.handle_rescheduled_booking(e)}}}):t.schedule_invitee_again.hasOwnProperty("id")?i("Booking",{attrs:{admin_end_booking_type:"new",admin_end_service_id:t.schedule_invitee_again.service_id,admin_end_old_booking_unique_link:t.schedule_invitee_again.unique_link,admin_end_is_schedule_invitee_again:!0},on:{"booking-added":function(e){return t.handle_schedule_invitee_again_booking(e)}}}):t._e()],1),t.booking_detail_for_cancel_modal?i("BookingCancelModal",{attrs:{booking_details:t.booking_detail_for_cancel_modal,cancel_booking_btn_is_enabled:t.cancel_booking_btn_is_enabled},on:{"cancel-booking":function(e){return t.cancel_booking(e)}},model:{value:t.cancel_reason,callback:function(e){t.cancel_reason=e},expression:"cancel_reason"}}):t._e()],1)},yi=[],wi=i("eb8b"),xi=i("2f7b"),ki=i("a046"),Ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("VuePagination2",{attrs:{records:t.records,"per-page":t.perPage,options:t.options},on:{paginate:function(e){return t.$emit("paginate",e)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})},$i=[],Ci=i("b9eb"),Si=i.n(Ci),qi={name:"Pagination",components:{VuePagination2:Si.a},model:{prop:"current_page",event:"changed-current-page"},props:{placement:{type:String,default:""},current_page:{},records:{},"per-page":{},options:{}},computed:{page:{get:function(){return this.current_page},set:function(t){this.$emit("changed-current-page",t)}}}},Oi=qi,ji=(i("cf8a"),Object(u["a"])(Oi,Ti,$i,!1,null,null,null)),Pi=ji.exports,Ai=i("d66c"),Ei={components:{Booking:wi["a"],LocationAdvanced:xi["a"],Pagination:Pi,BookingCancelModal:ki["a"]},props:{booking_list_type:{type:String,required:!0},booking_details:{type:Object},filter_options:{type:Object}},data:function(){return{expanded_bookings:[],reschedule_booking:{},schedule_invitee_again:{},cutoff_time:0,action_strings:{"-1":{verb:"Cancellation",past:"Cancelled"},"-5":{verb:"Reschedule",past:"Rescheduled"}},pagination_options:{chunk:10,chunksNavigation:"scroll",edgeNavigation:!0,texts:{count:"{from} - {to} of {count}|{count} bookings|{count} booking"}},booking_detail_for_cancel_modal:null,cancel_reason:"",cancel_booking_btn_is_enabled:!0}},computed:{booking_details_for_view:function(){var t,e=[],i=Object(E["a"])(this.booking_details.bookings);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=this.$options.filters.wpcal_unix_to_unix_only_date(a.booking_from_time,this.tz),n=Object(re["a"])(e,{group_date:s});-1==n&&(n=e.length,e[n]={group_date:s,bookings:[]}),e[n]["bookings"].push(a)}}catch(l){i.e(l)}finally{i.f()}if("past"===this.booking_list_type){var o,_=Object(E["a"])(e);try{for(_.s();!(o=_.n()).done;){var r=o.value;r.bookings=Object(Ai["a"])(r.bookings,["booking_from_time"])}}catch(l){_.e(l)}finally{_.f()}}return e}},methods:{is_booking_expanded:function(t){return-1!==this.expanded_bookings.indexOf(t)},toggle_expand_booking:function(t){if(this.is_booking_expanded(t)){var e=this.expanded_bookings.indexOf(t);this.expanded_bookings.splice(e,1)}else this.expanded_bookings.push(t)},get_action_label:function(t,e){var i;return this.action_strings.hasOwnProperty(t)?null===(i=this.action_strings[t])||void 0===i?void 0:i[e]:t},select_admin_name:function(t){return t.admin_user_id==this.$store.getters.get_current_admin_details.id?"You":t.admin_user_full_name},show_cancel_confirmation:function(t){var e=this;this.cancel_reason="",this.booking_detail_for_cancel_modal=t,this.$nextTick((function(){e.$modal.show("booking_cancel_confirm_modal")}))},cancel_booking:function(t){var e=this;this.cancel_booking_btn_is_enabled=!1;var i={},a="cancel_booking";i[a]={booking_id:t.id,cancel_reason:this.cancel_reason};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(i){if(e.notify_single_action_result(i.data[a],{success_msg:e.T__("Booking cancelled successfully.")}),"success"==i.data[a].status){var s=new CustomEvent("wpcal_booking_cancelled",{detail:{booking_details:{unique_link:t.unique_link}}});document.dispatchEvent(s),e.$emit("load-page",{page:e.booking_details.page,list_type:e.booking_list_type}),e.$modal.hide("booking_cancel_confirm_modal")}})).catch((function(t){console.log(t)})).then((function(){e.$store.dispatch("run_booking_background_tasks_by_unique_link",{unique_link:t.unique_link}),e.cancel_booking_btn_is_enabled=!0}))},show_service_booking_modal:function(t){this.reschedule_booking=this.clone_deep(t),this.$modal.show("service_booking_modal")},handle_rescheduled_booking:function(t){this.reschedule_booking={},this.$emit("load-page",{page:this.booking_details.page,list_type:this.booking_list_type}),this.$modal.hide("service_booking_modal"),this.show_rescheduled_information(t)},show_rescheduled_information:function(t){var e="";e+="<div>",e+=this.T__("The booking has been successfully rescheduled."),null!==t&&void 0!==t&&t.new_booking_id&&(e+=' <a href="#/bookings/custom/'+t.new_booking_id+'" target="_blank">View new booking</a>'),e+="</div>",this.$modal.show("dialog",{title:this.T__("Booking rescheduled"),text:e,buttons:[{title:"Okay",default:!0}],width:"610px"})},show_service_booking_modal_for_schedule_invitee_again:function(t){this.schedule_invitee_again=this.clone_deep(t),this.$modal.show("service_booking_modal")},handle_schedule_invitee_again_booking:function(){this.schedule_invitee_again={},this.$modal.hide("service_booking_modal"),this.$modal.show("dialog",{title:this.T__("Booking scheduled"),text:this.T__("The new booking has been successfully scheduled."),buttons:[{title:this.T__("Okay")}]})},may_expand_booking_if_only_single_result:function(){var t,e,i,a;if(1==(null===(t=this.booking_details)||void 0===t?void 0:t.total_items)&&!this._isEmpty(null===(e=this.booking_details)||void 0===e?void 0:e.bookings)&&!this._isEmpty(null===(i=this.booking_details)||void 0===i||null===(a=i.bookings[0])||void 0===a?void 0:a.id)){var s,n,o=null===(s=this.booking_details)||void 0===s||null===(n=s.bookings[0])||void 0===n?void 0:n.id;this.is_booking_expanded(o)||this.toggle_expand_booking(o)}}},beforeUpdate:function(){this.cutoff_time=Math.round((new Date).getTime()/1e3)},watch:{booking_details:{handler:function(t){this.may_expand_booking_if_only_single_result()},deep:!0}}},zi=Ei,Ni=(i("7ab7"),Object(u["a"])(zi,bi,yi,!1,null,"746e8b6e",null)),Ii=Ni.exports,Mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"validation_errors_cont"}),i("ul",{staticClass:"filters-bar",staticStyle:{"border-bottom":"1px solid #b1b6d1"}},["custom"==t.mode?i("li",{staticStyle:{border:"0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_options.search_text,expression:"filter_options.search_text"}],attrs:{id:"booking_search_text",type:"search",name:"booking_search_text",placeholder:"Search"},domProps:{value:t.filter_options.search_text},on:{input:function(e){e.target.composing||t.$set(t.filter_options,"search_text",e.target.value)}}}),i("span",[t._v("Search by invitee name, email or booking ID")])]):t._e(),"custom"==t.mode?i("li",{staticClass:"bf-when"},[i("span",{staticClass:"bf-label",staticStyle:{"margin-right":"-44px"}},[t._v("When?")]),i("TypeToSelect",{staticClass:"no-border",attrs:{options:t.when_options,label_field:"label",value_field:"value"},model:{value:t.filter_options.when,callback:function(e){t.$set(t.filter_options,"when",e)},expression:"filter_options.when"}}),"date_range"==t.filter_options.when?i("v-date-picker",{attrs:{mode:"range",columns:2,masks:{input:["YYYY-MM-DD"]},id:"bf-dr-selector"},on:{dayclick:t.log},model:{value:t.filter_options.date_range,callback:function(e){t.$set(t.filter_options,"date_range",e)},expression:"filter_options.date_range"}},[i("input",{attrs:{type:"text",readonly:""},domProps:{value:t.$options.filters.wpcal_format_date_style1(t.filter_options.date_range.start)+" - "+t.$options.filters.wpcal_format_date_style1(t.filter_options.date_range.end)}})]):t._e()],1):t._e(),i("li",{staticClass:"bf-host"},[i("span",{staticClass:"bf-label",staticStyle:{"margin-right":"-35px"}},[t._v("Host")]),i("TypeToSelect",{staticClass:"no-border",attrs:{options:t.$store.getters.get_managed_active_admins_for_host_filter,label_field:"name",value_field:"admin_user_id"},model:{value:t.filter_options.admin_user_id,callback:function(e){t.$set(t.filter_options,"admin_user_id",e)},expression:"filter_options.admin_user_id"}})],1),i("li",{staticClass:"bf-status"},[i("span",{staticClass:"bf-label",staticStyle:{"margin-right":"-46px"}},[t._v("Status")]),i("TypeToSelect",{staticClass:"no-border",attrs:{options:t.booking_status_options,label_field:"label",value_field:"value"},model:{value:t.filter_options.booking_status,callback:function(e){t.$set(t.filter_options,"booking_status",e)},expression:"filter_options.booking_status"}})],1),i("li",{staticClass:"bf-et"},[i("span",{staticClass:"bf-label",staticStyle:{"margin-right":"-70px"}},[t._v("Event Type")]),i("TypeToSelect",{staticClass:"no-border",attrs:{options:t.service_filter_options,label_field:"name",value_field:"id"},model:{value:t.filter_options.service_id,callback:function(e){t.$set(t.filter_options,"service_id",e)},expression:"filter_options.service_id"}})],1)])])},Li=[],Di={name:"ServiceBookingFilters",components:{TypeToSelect:et},model:{prop:"filter_options",event:"changed-filter-options"},props:{filter_options:{type:Object},mode:{type:String,default:"normal"}},data:function(){return{when_options:[{label:"All",value:"0"},{label:"Upcoming",value:"upcoming"},{label:"Past",value:"past"},{label:"Date range",value:"date_range"}],booking_status_options:[{label:"All",value:"0"},{label:"Active",value:"1"},{label:"Cancelled",value:"-1"},{label:"Rescheduled",value:"-5"}],service_list:[]}},computed:{service_filter_options:function(){var t=this.clone_deep(this.service_list);if(Array.isArray(t)){var e={id:"0",name:"All"};t.unshift(e)}return t}},methods:{load_service_list:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("get_dynamic_cache_by_prop","managed_services_for_current_admin");case 2:if(i=e.sent,!i){e.next=6;break}return t.service_list=i,e.abrupt("return");case 6:a="get_managed_services_for_current_admin",s={},s[a]={filter_by_admin_id:"0"},n={action:"wpcal_process_admin_ajax_request",wpcal_request:s},l.a.post(window.wpcal_ajax.ajax_url,n).then((function(e){t.notify_single_action_result(e.data[a],{dont_notify_success:!0}),e.data&&e.data[a].hasOwnProperty("service_list")&&(t.service_list=e.data[a].service_list,t.$store.commit("set_dynamic_cache_by_prop",{prop:"managed_services_for_current_admin",value:t.service_list,expiry_secs:300}))})).catch((function(t){console.log(t)}));case 11:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.load_service_list()}},Wi=Di,Bi=(i("aef3"),Object(u["a"])(Wi,Mi,Li,!1,null,null,null)),Ri=Bi.exports,Yi=i("a1d8"),Hi=i("7f6f"),Fi={components:{ServiceBookingList:Ii,ServiceBookingFilters:Ri,TimeZoneSelector:Ee["a"]},props:{redirected_to_admin_end_booking:{type:Boolean,default:!1}},data:function(){return{document_title:"Bookings",upcoming_bookings:{page:-1,eol:!1,total_items:0,items_per_page:20,bookings:[]},past_bookings:{page:-1,eol:!1,total_items:0,items_per_page:20,bookings:[]},custom_bookings:{page:-1,eol:!1,total_items:0,items_per_page:20,bookings:[]},tabs_view:{upcoming:!0,past:!1,custom:!1},default_tab_options:{page:-1,eol:!1,bookings:[]},filter_options:{admin_user_id:this.$store.getters.get_current_admin_details.id,booking_status:"1",service_id:"0"},custom_filter_options:{admin_user_id:this.$store.getters.get_current_admin_details.id,booking_status:"1",service_id:"0",when:"upcoming",date_range:{from_date_ts:"",to_date_ts:"",start:new Date,end:new Date},search_text:""},custom_filter_options_initial_loaded_value:{},no_more_customer_filter_set_filters_to_all:!1,last_custom_filter_options_search_text:"",redirected_to_admin_end_booking_notice_shown:!1}},computed:{current_view:function(){return 1==this.tabs_view.upcoming?"upcoming":1==this.tabs_view.past?"past":1==this.tabs_view.custom?"custom":""}},methods:{switch_tabs:function(t){var e=this;"upcoming"===t?(this.tabs_view.upcoming=!1,this.tabs_view.past=!1,this.tabs_view.custom=!1,this.$nextTick((function(){e.tabs_view.upcoming=!0})),this.upcoming_bookings=this.clone_deep(this.default_tab_options),this.get_bookings("upcoming")):"past"===t?(this.tabs_view.upcoming=!1,this.tabs_view.past=!1,this.tabs_view.custom=!1,this.$nextTick((function(){e.tabs_view.past=!0})),this.past_bookings=this.clone_deep(this.default_tab_options),this.get_bookings("past")):"custom"===t&&(this.tabs_view.upcoming=!1,this.tabs_view.past=!1,this.tabs_view.custom=!1,this.$nextTick((function(){e.tabs_view.custom=!0})),this.custom_bookings=this.clone_deep(this.default_tab_options),this.get_bookings("custom"))},load_page:Object(_e["a"])((function(t){this.get_bookings(t.list_type,t.page)}),10),load_bookings_page:function(){this.get_bookings(this.current_view)},get_bookings:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("upcoming"!==t&&"past"!==t&&"custom"!==t)return!1;var a={},s="get_managed_bookings_for_current_admin",n=t+"_bookings",o={list_type:t,filters:this.filter_options,page:i};"custom"===t&&(o.filters=this.clone_deep(this.custom_filter_options),o.filters.date_range.from_date_ts=Object(Yi["a"])(Object(Hi["a"])(o.filters.date_range.start,this.tz)),o.filters.date_range.to_date_ts=Object(Yi["a"])(Object(Hi["a"])(o.filters.date_range.end,this.tz)),delete o.filters.date_range.start,delete o.filters.date_range.end),a[s]={options:o};var _={action:"wpcal_process_admin_ajax_request",wpcal_request:a};l.a.post(window.wpcal_ajax.ajax_url,_).then((function(t){t.data&&t.data[s].hasOwnProperty("bookings_data")&&(e[n].bookings=t.data[s].bookings_data.bookings,e[n].page=parseInt(t.data[s].bookings_data.page),e[n].total_items=parseInt(t.data[s].bookings_data.total_items),e[n].items_per_page=parseInt(t.data[s].bookings_data.items_per_page),e[n].eol=t.data[s].bookings_data.eol,e.$nextTick((function(){e.scroll_to("#booking_list_cont",0,!0)})))})).catch((function(t){console.log(t)}))},remove_booking:function(t){if("upcoming"!==t.booking_list_type&&"custom"!==t.booking_list_type)return!1;var e,i=t.booking_list_type+"_bookings";if(t.hasOwnProperty("booking_id")){var a=t.booking_id;e=this[i].bookings.findIndex((function(t){return t.id==a}))}else if(t.hasOwnProperty("booking_unique_link")){var s=t.booking_unique_link;e=this[i].bookings.findIndex((function(t){return t.unique_link==s}))}-1!==e&&this[i].bookings.splice(e,1)},debounced_search:Object(_e["a"])((function(){this.load_bookings_page()}),200),one_time_on_custom_filter_search_text_used_set_other_filters_to_all:function(){if(!this.no_more_customer_filter_set_filters_to_all){var t=this.clone_deep(this.custom_filter_options),e=this.clone_deep(this.custom_filter_options_initial_loaded_value);delete t.search_text,delete t.date_range,delete e.search_text,delete e.date_range;var i=Object(Kt["a"])(t,e);if(i){var a={admin_user_id:"0",booking_status:"0",service_id:"0",when:"0"};this.custom_filter_options=Object.assign(this.custom_filter_options,a),this.no_more_customer_filter_set_filters_to_all=!0}else this.no_more_customer_filter_set_filters_to_all=!0}},may_booking_custom_by_id_process:function(){if("booking_custom_by_id"==this.$route.name){if(this.may_show_notice_for_redirected(),"string"===typeof this.$route.params.booking_id){var t=this.$route.params.booking_id.trim();if(t)return this.custom_filter_options.search_text=t,this.custom_filter_options.admin_user_id="0",this.custom_filter_options.booking_status="0",this.custom_filter_options.service_id="0",this.custom_filter_options.when="0",this.switch_tabs("custom"),this.no_more_customer_filter_set_filters_to_all=!0,this.$router.push({name:"booking_list"}),!0}this.$router.push({name:"booking_list"})}},may_show_notice_for_redirected:function(){this.redirected_to_admin_end_booking&&!this.redirected_to_admin_end_booking_notice_shown&&(this.redirected_to_admin_end_booking_notice_shown=!0,this.$toast.success("WPCal admins can view manage the bookings only from admin end. Front end only for the invitees.","You have been redirected to admin end",{}))}},mounted:function(){this.$store.dispatch("load_managed_active_admins_details");var t=this.custom_filter_options.date_range;t.start.setDate(t.start.getDate()-30),t.start.setHours(0,0,0,0),t.end.setHours(0,0,0,0),this.custom_filter_options_initial_loaded_value=this.clone_deep(this.custom_filter_options),this.may_booking_custom_by_id_process()||this.load_bookings_page()},watch:{filter_options:{handler:function(t){this.load_bookings_page()},deep:!0},custom_filter_options:{handler:function(t,e){t.search_text!=this.last_custom_filter_options_search_text?(this.one_time_on_custom_filter_search_text_used_set_other_filters_to_all(),this.debounced_search()):this.debounced_search(),this.last_custom_filter_options_search_text=t.search_text},deep:!0},tz:function(){"custom"==this.current_view&&"date_range"==this.custom_filter_options.when&&this.load_bookings_page()},"$route.name":function(t,e){"booking_custom_by_id"==t&&this.may_booking_custom_by_id_process()}}},Ui=Fi,Gi=(i("59fb"),Object(u["a"])(Ui,hi,gi,!1,null,null,null)),Vi=Gi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v(" WPCal.io - "+t._s(t.T__("General Settings"))+" ")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"setting-group-title"},[t._v(t._s(t.T__("Default settings")))]),i("form-row",{attrs:{validator:t.$v.form.working_hours}},[i("label",[t._v(t._s(t.T__("Default Working Hours")))]),i("TimeRange1ToN",{attrs:{disable_multiple:!0},model:{value:t.working_hours,callback:function(e){t.working_hours=e},expression:"working_hours"}}),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("Changing this will not affect existing event types but only newly-created event types.")))])],1),i("form-row",{attrs:{validator:t.$v.form.working_hours.from_time}}),i("form-row",{attrs:{validator:t.$v.form.working_hours.to_time}}),i("form-row",{attrs:{validator:t.$v.form.working_days}},[i("label",[t._v(t._s(t.T__("Default Working Days")))]),i("WeekDaysSelector",{model:{value:t.form.working_days,callback:function(e){t.$set(t.form,"working_days",e)},expression:"form.working_days"}}),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("Changing this will not affect existing event types but only newly-created event types.")))])],1),i("form-row",{attrs:{validator:t.$v.form.timezone}},[i("label",[t._v(t._s(t.T__("Default Time Zone")))]),i("TimeZoneSelector",{attrs:{use_as:"form_tz"},model:{value:t.form.timezone,callback:function(e){t.$set(t.form,"timezone",e)},expression:"form.timezone"}}),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("Changing this will not affect existing event types but only newly-created event types.")))])],1),i("form-row",{attrs:{validator:t.$v.form.time_format}},[i("label",[t._v(t._s(t.T__("Time Format")))]),i("ul",{staticClass:"selector inline time"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time_format,expression:"form.time_format"}],attrs:{type:"radio",id:"time-format-12h",name:"time-format",value:"12hrs"},domProps:{checked:t._q(t.form.time_format,"12hrs")},on:{blur:function(e){return t.$v.form.time_format.$touch()},change:function(e){return t.$set(t.form,"time_format","12hrs")}}}),i("label",{attrs:{for:"time-format-12h"}},[t._v(" 12 "),i("span",[t._v(t._s(t.T_x("hr","time hour")))])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time_format,expression:"form.time_format"}],attrs:{type:"radio",id:"time-format-24h",name:"time-format",value:"24hrs"},domProps:{checked:t._q(t.form.time_format,"24hrs")},on:{blur:function(e){return t.$v.form.time_format.$touch()},change:function(e){return t.$set(t.form,"time_format","24hrs")}}}),i("label",{attrs:{for:"time-format-24h"}},[t._v(" 24 "),i("span",[t._v(t._s(t.T_x("hr","time hour")))])])])]),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("This will be used for both admin end and for the invitee in the booking widget.")))])]),i("hr"),i("div",{staticClass:"setting-group-title",staticStyle:{display:"flex"}},[t._v(" "+t._s(t.T__("Branding"))+" "),i("PremiumInfoBadge",{staticStyle:{margin:"-9px 0 0 10px"},attrs:{highlight_feature:"branding_customization"}},[i("em",[t._v("This feature is included"),i("br"),t._v("in the PRO plan.")])])],1),i("form-row",{attrs:{validator:t.$v.form.branding_color}},[i("label",[t._v(t._s(t.T__("Brand color")))]),i("div",{staticStyle:{display:"flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.branding_color,expression:"form.branding_color"}],staticStyle:{width:"90px"},attrs:{type:"text",placeholder:"#567bf3"},domProps:{value:t.form.branding_color},on:{keyup:t.may_prefix_with_hash,blur:function(e){return t.$v.form.branding_color.$touch()},input:function(e){e.target.composing||t.$set(t.form,"branding_color",e.target.value)}}}),i("div",{staticStyle:{height:"40px",width:"40px","border-radius":"5px",border:"1px solid #b1b6d1","margin-left":"5px"},style:{"background-color":t.brand_color_or_default}}),i("div",{staticStyle:{height:"40px",width:"40px","border-radius":"5px",border:"1px solid #b1b6d1","margin-left":"5px","background-color":"#fff",overflow:"hidden"}},[i("div",{staticStyle:{opacity:"0.1",width:"40px",height:"40px"},style:{"background-color":t.brand_color_or_default}})])]),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("This color will be used as the accent color in the booking widget. We will automatically use a lighter shade as the background on certain elements.")))])]),i("form-row",{attrs:{validator:t.$v.form.branding_font}},[i("label",[t._v(t._s(t.T__("Brand font")))]),i("label",{staticClass:"label-cb"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.branding_font,expression:"form.branding_font"}],attrs:{type:"checkbox","true-value":"inherit","false-value":""},domProps:{checked:Array.isArray(t.form.branding_font)?t._i(t.form.branding_font,null)>-1:t._q(t.form.branding_font,"inherit")},on:{change:function(e){var i=t.form.branding_font,a=e.target,s=a.checked?"inherit":"";if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.form,"branding_font",i.concat([n])):o>-1&&t.$set(t.form,"branding_font",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.form,"branding_font",s)}}}),t._v(" "+t._s(t.T__("Use the website's default font for the booking widget.")))])]),i("hr"),i("form-row",{attrs:{validator:t.$v.form.use_wp_mail}},[i("div",{staticClass:"setting-group-title",staticStyle:{display:"flex"}},[t._v(" "+t._s(t.T__("Email"))+" "),i("PremiumInfoBadge",{staticStyle:{margin:"-9px 0 0 10px"},attrs:{highlight_feature:"email_features"}},[i("em",[t._v("This feature is included"),i("br"),t._v("in the PRO plan.")])])],1),i("label",[t._v("WP Mailer")]),i("span",{staticClass:"txt-help",staticStyle:{"margin-bottom":"5px"}},[t._v("We send all notification emails through our servers for better deliverability. If you have set up your own reliable system, you can choose to use WP Mailer (optionally, along with an SMTP plugin) instead.")]),i("label",{staticClass:"label-cb"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.use_wp_mail,expression:"form.use_wp_mail"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.form.use_wp_mail)?t._i(t.form.use_wp_mail,null)>-1:t._q(t.form.use_wp_mail,"1")},on:{change:[function(e){var i=t.form.use_wp_mail,a=e.target,s=a.checked?"1":"0";if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.form,"use_wp_mail",i.concat([n])):o>-1&&t.$set(t.form,"use_wp_mail",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.form,"use_wp_mail",s)},t.may_alert_already_scheduled_mails]}}),t._v(" "+t._s(t.T__("I understand. Use WP Mailer instead.")))])]),i("div",{staticClass:"wpc-form-row"},[i("label",[t._v("Email template & Calendar event content customization in PHP")]),i("span",{staticClass:"txt-help",staticStyle:{"margin-bottom":"5px"}},[i("a",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{href:"https://help.wpcal.io/en/article/how-to-customise-email-templates-in-php-5369yp/?utm_source=wpcal_plugin&utm_medium=admin_header"}},[t._v("See how to customize â†—")]),i("br"),i("a",{on:{click:t.load_and_show_template_overrides}},[t._v("See list of template overrides")])])]),i("hr"),i("form-row",{attrs:{validator:t.$v.form.hide_premium_info_badges}},[i("div",{staticClass:"setting-group-title"},[t._v(t._s(t.T__("Other")))]),i("label",{staticClass:"label-cb"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.hide_premium_info_badges,expression:"form.hide_premium_info_badges"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.form.hide_premium_info_badges)?t._i(t.form.hide_premium_info_badges,null)>-1:t._q(t.form.hide_premium_info_badges,"1")},on:{change:function(e){var i=t.form.hide_premium_info_badges,a=e.target,s=a.checked?"1":"0";if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.form,"hide_premium_info_badges",i.concat([n])):o>-1&&t.$set(t.form,"hide_premium_info_badges",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.form,"hide_premium_info_badges",s)}}}),t._v(" Hide the "),i("span",{staticClass:"pro-badge-mu"},[t._v("Premium feature")]),t._v(" admin-end badge.")]),i("span",{staticClass:"txt-help",staticStyle:{"margin-bottom":"5px"}},[t._v("This will hide the 'Premium feature' badge displayed in the plugin's admin pages. This is useful if you do not want your clients to see the badge."),i("br"),i("br"),t._v("This is NOT for hiding the 'Powered by WPCal.io' branding in the booking widget.")])]),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg mt20",staticStyle:{width:"100%"},attrs:{type:"button",disabled:!t.save_btn_is_enabled},on:{click:t.form_submit}},[t._v(" "+t._s(t.T__("Save"))+" ")])])],1),i("AdminInfoLine",{attrs:{info_slug:"ownership_settings_general"}})],1)])],1),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"template_overrides_list_modal",width:"800px",height:"auto",scrollable:!0,adaptive:!0}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("template_overrides_list_modal")}}})]),i("div",{staticClass:"mbox bg-light shadow mb0"},[i("table",{staticClass:"template_overrides_list",attrs:{width:"100%"}},[i("tr",[i("th",{staticStyle:{"font-family":"'RubikMed'","font-weight":"unset !important"},attrs:{width:"50%"}},[t._v(" Default template ")]),i("th",{staticStyle:{"font-family":"'RubikMed'","font-weight":"unset !important"},attrs:{width:"50%"}},[t._v(" Overriding template ")])]),t._isEmpty(t.template_overrides)?i("tr",[i("td",{attrs:{colspan:"2"}},[t._v("No template has been overridden")])]):t._e(),t._l(t.template_overrides,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"vertical-align":"top:"}},[t._v(t._s(a))]),i("td",{staticStyle:{"vertical-align":"top:"}},[t._v(t._s(e))])])}))],2)])])],1)},Qi=[],Ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/settings"}},[t._v(t._s(t.T__("General")))]),t._v("Â â€¢ "),i("router-link",{attrs:{to:"/settings/profile"}},[t._v(t._s(t.T__("Profile")))]),t._v("Â â€¢ "),i("router-link",{attrs:{to:"/settings/calendars"}},[t._v(t._s(t.T__("Calendars")))]),t._v("Â â€¢ "),i("router-link",{attrs:{to:"/settings/integrations"}},[t._v(t._s(t.T__("Integrations")))]),t._v("Â â€¢ "),i("router-link",{attrs:{to:"/settings/admins"}},[t._v(t._s(t.T__("WPCal Admins")))]),t._v(" Â â€¢ "),i("router-link",{attrs:{to:"/settings/account"}},[t._v(t._s(t.T__("Plan")))])],1)},Ki=[],Xi={},ta=Object(u["a"])(Xi,Ji,Ki,!1,null,null,null),ea=ta.exports,ia={mixins:[ri("saved_form","form")],components:{SettingsMenu:ea,TimeRange1ToN:Ce,WeekDaysSelector:Ae,TimeZoneSelector:Ee["a"]},data:function(){return{document_title:this.T__("General â€¹ Settings"),working_hours_array_:[],save_btn_is_enabled:!0,form:this.clone_deep(this.$store.getters.get_general_settings),template_overrides:{}}},validations:{form:{working_hours:{from_time:{required:Lt["required"],valid_time:Dt["z"]},to_time:{required:Lt["required"],valid_time:Dt["z"],min_time:Object(Dt["r"])("from_time")}},working_days:{subset_working_days:Object(Dt["t"])([1,2,3,4,5,6,7])},time_format:{required:Lt["required"],time_format_in_array:Object(Dt["o"])(["12hrs","24hrs"])},branding_color:{valid_color:Dt["v"]},branding_font:{branding_font_in_array:Object(Dt["o"])(["inherit",""])},use_wp_mail:{use_wp_mail_in_array:Object(Dt["o"])(["1","0"])},hide_premium_info_badges:{hide_premium_info_badges_in_array:Object(Dt["o"])(["1","0"])}}},computed:{working_hours:function(){return this.$set(this.working_hours_array_,0,this.form.working_hours),this.working_hours_array_},brand_color_or_default:function(){return this.form.branding_color?this.form.branding_color:"#567bf3"},saved_form:function(){return this.clone_deep(this.$store.getters.get_general_settings)}},methods:{load_page:function(){},form_submit:function(){var t=this;if(this.clear_validation_errors_cont(),this.$v.form.$touch(),this.$v.form.$anyError)return this.scroll_to_first_validation_error(),!1;this.save_btn_is_enabled=!1;var e="update_general_settings",i={};i[e]={general_settings:this.form};var a="get_general_settings";i[a]={dummy__:""};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(i){if(t.notify_single_action_result(i.data[e],{success_msg:t.T__("Settings saved.")}),i.data&&i.data[a].hasOwnProperty("general_settings")){var s=i.data[a].general_settings;t.$store.commit("set_general_settings",s)}})).catch((function(t){console.log(t)})).then((function(){t.save_btn_is_enabled=!0}))},may_prefix_with_hash:function(){var t=this.form.branding_color;t=t.trim(),t.length&&"#"!==t.charAt(0)&&(t="#"+t,this.form.branding_color=t)},may_alert_already_scheduled_mails:function(){this.form.use_wp_mail!=this.saved_form.use_wp_mail&&this.$modal.show("dialog",{title:this.T__("Heads up!"),text:this.T__("The emails which are already scheduled will go as per old setting."),buttons:[{title:this.T__("Okay"),default:!0}]})},load_and_show_template_overrides:function(){var t=this,e="get_template_overrides",i={};i[e]={dummy__:""};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){i.data&&i.data[e].hasOwnProperty("template_overrides")&&(t.template_overrides=i.data[e].template_overrides)})).catch((function(t){console.log(t)})).then((function(){t.show_template_overrides_modal()}))},show_template_overrides_modal:function(){this.$modal.show("template_overrides_list_modal")}},watch:{"$store.getters.get_general_settings":function(){this.form=this.clone_deep(this.$store.getters.get_general_settings),this.$v.form.$reset()}},created:function(){this.load_page()}},aa=ia,sa=(i("d4ee"),Object(u["a"])(aa,Zi,Qi,!1,null,null,null)),na=sa.exports,oa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v(" WPCal.io - "+t._s(t.T__("Profile Settings"))+" ")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"setting-group-title"},[t._v(t._s(t.T__("My profile")))]),i("form-row",{attrs:{validator:t.$v.profile_settings.first_name}},[i("label",[t._v(t._s(t.T__("First name"))),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile_settings.first_name,expression:"profile_settings.first_name"}],attrs:{type:"text"},domProps:{value:t.profile_settings.first_name},on:{input:function(e){e.target.composing||t.$set(t.profile_settings,"first_name",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.profile_settings.last_name}},[i("label",[t._v(t._s(t.T__("Last name"))),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile_settings.last_name,expression:"profile_settings.last_name"}],attrs:{type:"text"},domProps:{value:t.profile_settings.last_name},on:{input:function(e){e.target.composing||t.$set(t.profile_settings,"last_name",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.profile_settings.display_name}},[i("label",[t._v(t._s(t.T__("Display name"))),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile_settings.display_name,expression:"profile_settings.display_name"}],attrs:{type:"text"},domProps:{value:t.profile_settings.display_name},on:{input:function(e){e.target.composing||t.$set(t.profile_settings,"display_name",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.profile_settings.display_name}},[i("label",[t._v(t._s(t.T__("Avatar"))),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v(t._s(t.T__("required")))])]),i("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"30px"}},[i("div",[i("img",{staticStyle:{"border-radius":"50%",border:"3px solid #fff","box-shadow":"0 0 0 1px #b1b6d1"},attrs:{src:t.avatar_details.url,width:parseInt(t.avatar_details.width)&&parseInt(t.avatar_details.width)>75?75:t.avatar_details.width}}),t.avatar_details.is_gravatar?i("div",{staticStyle:{"font-size":"11px","font-style":"italic",color:"#7c7d9c","text-align":"center",position:"absolute",width:"81px"}},[t._v(" "+t._s(t.T__("Your Gravatar"))+" ")]):t._e()]),i("div",{staticStyle:{"margin-left":"10px"}},[i("a",{staticStyle:{padding:"10px"},on:{click:t.open_media_lib}},[t._v(t._s(t.T__("Change Pic")))]),t.avatar_details.is_gravatar?t._e():i("a",{staticStyle:{padding:"10px"},on:{click:t.use_gravatar}},[t._v(t._s(t.T__("Use my Gravatar")))])])])]),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg mt20",staticStyle:{width:"100%"},attrs:{type:"button",disabled:!t.save_btn_is_enabled},on:{click:t.form_submit}},[t._v(" "+t._s(t.T__("Save"))+" ")])])],1),i("AdminInfoLine",{attrs:{info_slug:"ownership_settings_profile"}})],1)])],1)])},_a=[],ra={mixins:[ri("saved_profile_settings","profile_settings")],components:{SettingsMenu:ea},data:function(){return{document_title:this.T__("Profile â€¹ Settings"),profile_settings:{first_name:"",last_name:"",display_name:"",avatar_attachment_id:""},saved_profile_settings:this.clone_deep(this.profile_settings),avatar_details:{},is_refresh_avatar:!1,save_btn_is_enabled:!0}},validations:{profile_settings:{first_name:{required:Lt["required"]},last_name:{required:Lt["required"]},display_name:{required:Lt["required"]}}},methods:{open_media_lib:function(t){var e=this;t.preventDefault();var i=wp.media({title:this.T__("Upload Image"),multiple:!1}).open().on("select",(function(t){var a=i.state().get("selection").first();e.is_refresh_avatar=!0,e.profile_settings.avatar_attachment_id=a.id}))},get_avatar_attachment:function(t){var e=this,i={},a="get_admin_avatar_override_of_current_admin";i[a]={override_attachment_id:t};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(t){var i;"success"==(null===(i=t.data[a])||void 0===i?void 0:i.status)&&(e.is_refresh_avatar=!1,e.avatar_details=t.data[a].avatar_details)})).catch((function(t){console.log(t)}))},use_gravatar:function(){this.is_refresh_avatar=!0,this.profile_settings.avatar_attachment_id=""},load_page:function(){var t=this,e={},i="get_admin_profile_settings_of_current_admin";e[i]="dummy__";var a="get_admin_avatar_of_current_admin";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){var s,n;"success"==(null===(s=e.data[i])||void 0===s?void 0:s.status)&&(t.profile_settings=e.data[i].profile_settings,t.saved_profile_settings=t.clone_deep(t.profile_settings)),"success"==(null===(n=e.data[a])||void 0===n?void 0:n.status)&&(t.is_refresh_avatar=!1,t.avatar_details=e.data[a].avatar_details)})).catch((function(t){console.log(t)}))},form_submit:function(){var t=this;if(this.clear_validation_errors_cont(),this.$v.profile_settings.$touch(),this.$v.profile_settings.$anyError)return this.scroll_to_first_validation_error(),!1;this.save_btn_is_enabled=!1;var e={},i="update_admin_profile_settings_of_current_admin";e[i]={profile_settings:this.profile_settings};var a="get_admin_profile_settings_of_current_admin";e[a]="dummy__";var s="get_admin_avatar_of_current_admin";e[s]="dummy__";var n={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(e){var n,o;t.notify_single_action_result(e.data[i],{success_msg:t.T__("Settings saved.")}),"success"==(null===(n=e.data[a])||void 0===n?void 0:n.status)&&(t.profile_settings=e.data[a].profile_settings,t.saved_profile_settings=t.clone_deep(t.profile_settings)),"success"==(null===(o=e.data[s])||void 0===o?void 0:o.status)&&(t.is_refresh_avatar=!1,t.avatar_details=e.data[s].avatar_details)})).catch((function(t){console.log(t)})).then((function(){t.save_btn_is_enabled=!0}))}},watch:{"profile_settings.avatar_attachment_id":function(t,e){this.is_refresh_avatar&&this.get_avatar_attachment(t)}},mounted:function(){this.load_page()}},la=ra,ca=Object(u["a"])(la,oa,_a,!1,null,null,null),da=ca.exports,ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v(" WPCal.io - "+t._s(t.T__("Calendar Settings"))+" ")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("OnBoardingCheckList",{attrs:{display_in:"settings_calendars"}}),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(t.T__("My calendar accounts"))+" "),i("a",{staticClass:"icon-q-mark",staticStyle:{"margin-top":"-2px"},attrs:{href:"https://help.wpcal.io/en/article/calendar-integrations-4et2xz/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}}),i("PremiumInfoBadge",{staticStyle:{margin:"-50px 0px 0px 10px"},attrs:{highlight_feature:"calendars"}},[i("em",[t._v("Free: 1 calendar account"),i("br"),t._v("Plus: Unlimited")])])],1),i("div",{staticClass:"mbox cal-accs"},[i("div",{staticClass:"connected-accounts-cont"},t._l(t.calendar_accounts,(function(e,a){var s;return i("div",{key:a,staticClass:"connected-account",class:(s={},s[e.provider]=!0,s["del-alert"]=t.show_delete_highlight("disconnect_highlight_calendar_account_index",a),s["status-disconnected"]=-5==e.status,s)},[i("div",{staticClass:"txt-h5"},[i("div",{staticClass:"app-name"},[t._v(" "+t._s(t._f("calendar_provider_name")(e.provider))+" ")]),i("div",{staticClass:"account-connection-actions"},[i("OverflowMenu",{attrs:{menu_id:e.id},model:{value:t.calendar_account_overflow_menu_details,callback:function(e){t.calendar_account_overflow_menu_details=e},expression:"calendar_account_overflow_menu_details"}},[-5==e.status?i("a",{staticClass:"menu-item hover-hl",on:{click:function(i){return t.add_calendar_account(e.provider,"reauth")}}},[t._v("Reconnect")]):t._e(),i("a",{staticClass:"menu-item del-hl",staticStyle:{color:"#e84653","font-size":"12px"},on:{click:function(i){t.calendar_account_overflow_menu_details.open_menu_id=null,t.show_disconnect_confirmation(e)},mouseover:function(e){return t.set_mouseover_on_delete("disconnect_highlight_calendar_account_index",a,!0)},mouseleave:function(e){return t.set_mouseover_on_delete("disconnect_highlight_calendar_account_index",a,!1)}}},[t._v(t._s("-5"==e.status?t.T__("Remove"):t.T__("Disconnect")))])]),i("span",{staticClass:"status ",class:{enabled:"1"==e.status,disabled:"1"!=e.status}},[t._v(t._s("1"==e.status?t.T__("Connected"):t.T__("Disconnected")))])],1)]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(e.account_email)+" ")])])})),0),t.show_add_calandar_account_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",on:{click:function(e){t.show_add_calandar_account_list=!0}}},[t._v(" "+t._s(t.T__("+ Add Calendar Account"))+" ")]),t.show_add_calandar_account_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Select your calendar app"))+" ")]),i("ul",{staticClass:"selector block cal_apps"},[i("li",[i("label",{staticClass:"google_calendar",on:{click:function(e){return t.add_calendar_account("google_calendar")}}},[t._v("Google Calendar")])]),i("li",{staticClass:"disabled"},[i("label",{staticClass:"office365_calendar"},[i("em",[t._v("Office 365")]),i("span",[t._v(t._s(t.T__("COMING SOON")))])])]),i("li",{staticClass:"disabled"},[i("label",{staticClass:"exchange_calendar"},[i("em",[t._v("Exchange Calendar")]),i("span",[t._v(t._s(t.T__("COMING SOON")))])])]),i("li",{staticClass:"disabled"},[i("label",{staticClass:"outlook_calendar"},[i("em",[t._v("Outlook Plug-in")]),i("span",[t._v(t._s(t.T__("COMING SOON")))])])]),i("li",{staticClass:"disabled"},[i("label",{staticClass:"icloud_calendar"},[i("em",[t._v("iCloud Calendar")]),i("span",[t._v(t._s(t.T__("COMING SOON")))])])])])]):t._e()])])]),i("AdminInfoLine",{attrs:{info_slug:"ownership_settings_calendars"}})],1),i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",[t._v(t._s(t.T__("Configuration")))]),i("ul",{staticClass:"mbox",class:{"onboard-overlay-element":t.show_default_calendars_added_onboard},staticStyle:{"margin-top":"0"},attrs:{id:"calendar_cofiguration_cont"}},[i("li",[i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Add bookings to..."))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/calendar-integrations-4et2xz/?utm_source=wpcal_plugin&utm_medium=contextual#1-how-add-bookings-to-calendar-works",target:"_blank"}})]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Set the calendar you would like to add new bookings to as they're scheduled."))+" ")]),i("div",{staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:t.show_choose_add_bookings_to_calendar_modal}},[t.calendar_accounts.hasOwnProperty(t.add_bookings_to_calendar_account_id)?i("div",[t._v(" "+t._s(t.T__("Add to"))+" "),i("span",{staticClass:"cal-provider",class:t.calendar_accounts[t.add_bookings_to_calendar_account_id].provider},[t._v(" "+t._s(t.calendar_accounts[t.add_bookings_to_calendar_account_id].account_email)),i("a",{staticClass:"fl-rt"},[t._v(t._s(t.T__("EDIT")))])]),i("ul",{staticClass:"bull"},[i("li",[t._v(t._s(t.add_bookings_to_calendar.name))])])]):i("div",[t._v(" "+t._s(t.T__("No calendar is choosen."))),i("a",{staticClass:"fl-rt"},[t._v(t._s(t.T__("EDIT")))])])]),i("div",{staticClass:"txt-help mt5"},[t._v(" "+t._s(t.T__("This has to be set for Google Meet to work. When set, invitations and notifications will be sent to the invitee directly from your Google Calendar account."))+" ")]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"choose_add_bookings_to_calendar_modal",height:"auto",width:"360px"},on:{"before-close":function(e){t.can_show_choose_add_bookings_to_calendar_modal=!1}}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("choose_add_bookings_to_calendar_modal")}}})]),t.can_show_choose_add_bookings_to_calendar_modal?i("div",{staticClass:"mbox bg-light shadow mb0"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",{staticStyle:{"text-align":"center"}},[t._v("Which calendar should we add"),i("br"),t._v("new events to?")]),i("ul",{staticClass:"selector block mt10 add-to-cal"},[t._l(t.calendar_accounts,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_account_id,expression:"\n                                  tmp_edit_add_bookings_to_calendar_account_id\n                                "}],attrs:{type:"radio",id:"add-to-cal-opt"+a,name:"add_bookings_to_calendar_account"},domProps:{value:e.id,checked:t._q(t.tmp_edit_add_bookings_to_calendar_account_id,e.id)},on:{change:[function(i){t.tmp_edit_add_bookings_to_calendar_account_id=e.id},t.choose_default_calendar_for_add_bookings_to]}}),i("label",{class:e.provider,attrs:{for:"add-to-cal-opt"+a}},[t._v(" "+t._s(e.account_email))])])})),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_account_id,expression:"\n                                  tmp_edit_add_bookings_to_calendar_account_id\n                                "}],attrs:{type:"radio",id:"add-to-cal-dont",name:"add_bookings_to_calendar_account",value:"no"},domProps:{checked:t._q(t.tmp_edit_add_bookings_to_calendar_account_id,"no")},on:{change:function(e){t.tmp_edit_add_bookings_to_calendar_account_id="no"}}}),i("label",{attrs:{for:"add-to-cal-dont"}},[t._v(t._s(t.T__("Do not add new bookings to any calendar")))])])],2)])]),t.calendar_accounts.hasOwnProperty(t.tmp_edit_add_bookings_to_calendar_account_id)?i("div",[i("div",{staticStyle:{"font-size":"14px",margin:"20px 0 5px"}},[t._v(" "+t._s(t.T__("Add to Calendar"))+" ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_id,expression:"tmp_edit_add_bookings_to_calendar_id"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tmp_edit_add_bookings_to_calendar_id=e.target.multiple?i:i[0]}}},t._l(this.calendar_accounts[t.tmp_edit_add_bookings_to_calendar_account_id].calendars,(function(e,a){return i("option",{key:a,attrs:{disabled:"0"==e.is_writable},domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.update_add_bookings_to_calendar_id}},[t._v(" "+t._s(t.T__("Update"))+" ")])]):t._e()])],1)]),i("li",[i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Check for conflicts"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/calendar-integrations-4et2xz/?utm_source=wpcal_plugin&utm_medium=contextual#1-how-check-for-conflicts-calendar-works",target:"_blank"}}),i("SettingAdminContext",{staticStyle:{all:"initial","padding-left":"5px"},attrs:{options:["cal_conflict_free_as_busy"],settings_name:"settings_calendar_conflict"}})],1),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.T__("Set the calendar(s) to check and exclude slots already scheduled outside WPCal."))+" ")]),i("div",[t._l(t.conflict_calendar_accounts,(function(e,a){return i("div",{key:a,staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:function(i){t.conflict_calendar_account_id=e.id,t.show_choose_conflict_calendars_modal()}}},[i("div",[t._v(" Check "),i("span",{staticClass:"cal-provider",class:e.provider},[t._v(" "+t._s(e.account_email)),i("a",{staticClass:"fl-rt"},[t._v(t._s(t.T__("EDIT")))])]),t._l(e.calendars,(function(e,a){return i("div",{key:a},[i("ul",{staticClass:"bull"},[i("li",[t._v(t._s(e.name))])])])}))],2)])})),t._isEmpty(t.conflict_calendar_accounts)?i("div",{staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:t.show_choose_conflict_calendars_modal}},[i("div",[t._v(" "+t._s(t.T__("No calendar is choosen."))+" "),i("a",{staticClass:"fl-rt"},[t._v(t._s(t.T__("EDIT")))])])]):t._e()],2),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"choose_conflict_calendars_modal",height:"auto",width:"360px"},on:{"before-close":function(e){t.can_show_choose_conflict_calendars_modal=!1}}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("choose_conflict_calendars_modal")}}})]),t.can_show_choose_conflict_calendars_modal?i("div",{staticClass:"mbox bg-light shadow"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",{staticClass:"mb10",staticStyle:{"text-align":"center"}},[t._v(t._s(t.T__("Check for conflicts in...")))]),t.calendar_accounts?i("select",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_conflict_calendar_account_id,expression:"tmp_edit_conflict_calendar_account_id"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tmp_edit_conflict_calendar_account_id=e.target.multiple?i:i[0]}}},t._l(this.calendar_accounts,(function(e,a){return i("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.account_email))])})),0):t._e(),i("div",{staticStyle:{"font-size":"14px",margin:"20px 0 5px"}},[t._v(" "+t._s(t.T__("Check these calendars for conflicts"))+" ")]),t.tmp_edit_conflict_calendar_account_id?i("div",[i("ul",{staticClass:"selector block mt10 check-conflicts"},t._l(t.calendar_accounts[t.tmp_edit_conflict_calendar_account_id].calendars,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_conflict_calendar_ids,expression:"tmp_edit_conflict_calendar_ids"}],attrs:{type:"checkbox",id:"check-conflicts-opt"+a},domProps:{value:e.id,checked:Array.isArray(t.tmp_edit_conflict_calendar_ids)?t._i(t.tmp_edit_conflict_calendar_ids,e.id)>-1:t.tmp_edit_conflict_calendar_ids},on:{change:function(i){var a=t.tmp_edit_conflict_calendar_ids,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e.id,_=t._i(a,o);s.checked?_<0&&(t.tmp_edit_conflict_calendar_ids=a.concat([o])):_>-1&&(t.tmp_edit_conflict_calendar_ids=a.slice(0,_).concat(a.slice(_+1)))}else t.tmp_edit_conflict_calendar_ids=n}}}),i("label",{attrs:{for:"check-conflicts-opt"+a}},[t._v(t._s(e.name))])])})),0)]):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.update_conflict_calendar_ids}},[t._v(" "+t._s(t.T__("Update"))+" ")])])])]):t._e()])],1)])]),t.show_default_calendars_added_onboard?i("div",{staticClass:"onboard-overlay-popper popper-cont",class:{"popper-go-back":t.show_default_calendars_added_onboard&&(t.can_show_choose_add_bookings_to_calendar_modal||t.can_show_choose_conflict_calendars_modal)},staticStyle:{"z-index":"10000",width:"360px"},attrs:{id:"calendar_cofiguration_cont_tip"}},[i("div",{staticClass:"mbox shadow"},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),t._v(" We have automatically added your "+t._s(t.calendar_accounts[t.add_bookings_to_calendar_account_id].account_email)+" account's primary calendar "),i("strong",[t._v(t._s(t.calendar_accounts[t.add_bookings_to_calendar_account_id].calendars[t.add_bookings_to_calendar_id].name))]),t._v(" to both 'Add bookings to...' and 'Check for conflicts' options. "),i("br"),i("br"),t._v("You can change or remove this."),i("br"),i("br"),i("div",{staticStyle:{"background-color":"#f9f5bf",color:"#e19334",border:"1px dashed #e19334",padding:"8px 10px","border-radius":"5px"}},[t._v(" Important: Since the "),i("strong",[t._v(t._s(t.calendar_accounts[t.add_bookings_to_calendar_account_id].calendars[t.add_bookings_to_calendar_id].name))]),t._v(" calendar has been added to 'Check for conflits', time slots of events in that calendar will be excluded from your availability. ")]),i("button",{staticClass:"wpc-btn primary md",staticStyle:{"margin-top":"10px"},attrs:{"data-v-74b16bbd":"",type:"button"},on:{click:function(e){t.can_close_default_calendars_added_onboard=!0,t.hide_default_calendars_added_onboard_modal()}}},[t._v(" Okay. Got it! ")])])]):t._e()])])])])],1),i("modal",{staticClass:"onboard-overlay",attrs:{name:"default_calendars_added_onboard_overlay"},on:{"before-close":t.before_close_default_calendars_added_onboard_modal}},[i("span")])],1)},ma=[],pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("span",[i("span",{staticClass:"setting-icon",on:{click:t.show_setting_modal}})]),t._isEmpty(t.options)?t._e():i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:t.settings_modal_name,height:"auto",width:"360px"},on:{"after-close":t.on_modal_after_close}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide(t.settings_modal_name)}}})]),i("div",{staticClass:"mbox bg-light shadow mb0"},[i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"validation_errors_cont"}),t.options.includes("cal_conflict_free_as_busy")?i("form-row",{attrs:{validator:t.$v.form.cal_conflict_free_as_busy}},[i("label",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.T__("Conflict calendar settings")))]),i("label",{staticClass:"label-cb"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cal_conflict_free_as_busy,expression:"form.cal_conflict_free_as_busy"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.form.cal_conflict_free_as_busy)?t._i(t.form.cal_conflict_free_as_busy,null)>-1:t._q(t.form.cal_conflict_free_as_busy,"1")},on:{change:function(e){var i=t.form.cal_conflict_free_as_busy,a=e.target,s=a.checked?"1":"0";if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.form,"cal_conflict_free_as_busy",i.concat([n])):o>-1&&t.$set(t.form,"cal_conflict_free_as_busy",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.form,"cal_conflict_free_as_busy",s)}}}),t._v(" "+t._s(t.T__("Consider all calendar events are busy.")))]),i("span",{staticClass:"txt-help"},[t._v(t._s(t.T__("When unchecked, busy events in the calendar are seen as conflicts, and overlapping time slots are automatically removed to avoid conflicts. If this option is checked, events marked as free will also be treated as busy."))+" "),i("br"),i("br"),t._v(" "+t._s(t.T__("Note: In Google Calendar by default all day events are marked as free.")))])]):t._e(),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg mt20",staticStyle:{width:"100%"},attrs:{type:"button",disabled:!t.save_btn_is_enabled},on:{click:t.form_submit}},[t._v(" "+t._s(t.T__("Save"))+" ")])])],1)])])])])],1)},va=[],fa={name:"SettingAdminContext",props:{options:{type:Array},settings_name:{type:String}},data:function(){return{form:{cal_conflict_free_as_busy:"0"},saved_admin_settings:this.clone_deep(this.form),save_btn_is_enabled:!0}},computed:{settings_modal_name:function(){return this.settings_name+"_modal"}},validations:{form:{cal_conflict_free_as_busy:{cal_conflict_free_as_busy_in_array:Object(Dt["o"])(["1","0"])}}},methods:{load_page:function(){var t=this,e={},i="get_admin_settings_of_current_admin";e[i]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){var a;"success"==(null===(a=e.data[i])||void 0===a?void 0:a.status)&&(t.form=e.data[i].admin_settings,t.saved_admin_settings=t.clone_deep(t.form))})).catch((function(t){console.log(t)}))},form_submit:function(){var t=this;if(this.clear_validation_errors_cont(),this.$v.form.$touch(),this.$v.form.$anyError)return this.scroll_to_first_validation_error(),!1;this.save_btn_is_enabled=!1;var e="update_admin_settings_of_current_admin",i={};i[e]={admin_settings:this.form};var a="get_admin_settings_of_current_admin";i[a]={dummy__:""};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(i){t.notify_single_action_result(i.data[e],{success_msg:t.T__("Settings saved.")}),i.data&&i.data[a].hasOwnProperty("admin_settings")&&(t.form=i.data[a].admin_settings,t.saved_admin_settings=t.clone_deep(t.form),setTimeout((function(){t.close_setting_modal()}),200))})).catch((function(t){console.log(t)})).then((function(){t.save_btn_is_enabled=!0}))},on_mounted:function(){},on_modal_after_close:function(){this.$emit("settings-modal-closed",""),this.$destroy()},show_setting_modal:function(){this.$modal.show(this.settings_modal_name)},close_setting_modal:function(){this.$modal.hide(this.settings_modal_name)}},mounted:function(){this.load_page()},watch:{}},ha=fa,ga=(i("e129"),Object(u["a"])(ha,pa,va,!1,null,"a268a04c",null)),ba=ga.exports,ya={components:{SettingsMenu:ea,OnBoardingCheckList:p,OverflowMenu:_t,SettingAdminContext:ba},props:{connect_status:{type:String,default:null},connected_calendar_account_id:{type:String,default:null},connected_calendar_default_calendars_added:{type:Boolean,default:!1}},data:function(){return{document_title:"Calendars â€¹ Settings",show_add_calandar_account_list:!1,calendar_accounts:[],can_show_choose_add_bookings_to_calendar_modal:!1,can_show_choose_conflict_calendars_modal:!1,add_bookings_to_calendar_account_id:"no",add_bookings_to_calendar_id:"",tmp_edit_add_bookings_to_calendar_account_id:"no",tmp_edit_add_bookings_to_calendar_id:"",conflict_calendar_ids:[],conflict_calendar_account_id:"",tmp_edit_conflict_calendar_ids:[],tmp_edit_conflict_calendar_account_id:"",disconnect_highlight_calendar_account_index:null,connect_status_notified:!1,show_default_calendars_added_onboard:!1,default_calendars_added_onboard_popper_instance:null,can_close_default_calendars_added_onboard:!1,calendar_account_overflow_menu_details:{open_menu_id:null,popper_instance:null}}},computed:{add_bookings_to_calendar:function(){return this.add_bookings_to_calendar_account_id&&this.add_bookings_to_calendar_id&&this.calendar_accounts.hasOwnProperty(this.add_bookings_to_calendar_account_id)&&this.calendar_accounts[this.add_bookings_to_calendar_account_id].calendars.hasOwnProperty(this.add_bookings_to_calendar_id)?this.calendar_accounts[this.add_bookings_to_calendar_account_id].calendars[this.add_bookings_to_calendar_id]:{}},conflict_calendar_accounts:function(){var t={};for(var e in this.calendar_accounts)for(var i in this.calendar_accounts[e].calendars)-1!==this.conflict_calendar_ids.indexOf(i)&&(t.hasOwnProperty(e)||(t[e]=Object.assign({},this.calendar_accounts[e]),t[e].calendars={}),t[e].calendars[i]=this.calendar_accounts[e].calendars[i]);return t},enable_add_new_calendar_account:function(){return!0}},methods:{add_calendar_account:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",i="add_calendar_account";"reauth"==e&&(i="reauth_calendar_account"),"google_calendar"===t&&(window.location="admin.php?page=wpcal_admin&wpcal_action="+i+"&provider=google_calendar")},load_page:function(){var t=this,e="get_calendar_accounts_details_of_current_admin",i={};i[e]={dummy__:""};var a="get_add_bookings_to_calendar_of_current_admin";i[a]={dummy__:""};var s="get_conflict_calendar_ids_of_current_admin";i[s]={dummy__:""};var n={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(i){var n=t.connect_status_notified;t.connect_status_notified=n,i.data&&i.data[e].hasOwnProperty("calendar_accounts_details")&&(t.calendar_accounts=i.data[e].calendar_accounts_details,"object"==Object(Ve["a"])(i.data[a])&&i.data[a].hasOwnProperty("add_bookings_to_calendar")&&(i.data[a].add_bookings_to_calendar&&i.data[a].add_bookings_to_calendar.hasOwnProperty("calendar_id")?(t.add_bookings_to_calendar_id=i.data[a].add_bookings_to_calendar.calendar_id,t.add_bookings_to_calendar_account_id=i.data[a].add_bookings_to_calendar.calendar_account_id):null==i.data[a].add_bookings_to_calendar&&(t.add_bookings_to_calendar_account_id="no",t.add_bookings_to_calendar_id="")),t.conflict_calendar_ids=i.data[s].conflict_calendar_ids,t.set_default_conflict_calendar_account_id(),t.handle_connect_result())})).catch((function(t){console.log(t)}))},handle_connect_result:function(){var t=this;if(this.connect_status&&this.connected_calendar_account_id&&!this.connect_status_notified&&"connected"===this.connect_status&&!this._isEmpty(this.calendar_accounts))for(var e in this.calendar_accounts)if(this.calendar_accounts[e].id==this.connected_calendar_account_id){var i=this.Tsprintf(this.T__("Your %1$s %3$s %2$s account %1$s %4$s %2$s is succesfully connected."),"<strong>","</strong>",this.$options.filters.calendar_provider_name(this.calendar_accounts[e].provider),this.calendar_accounts[e].account_email),a="Ok";this.$toast.success(i,a,{}),this.connected_calendar_default_calendars_added&&(setTimeout((function(){t.show_default_calendars_added_onboard_modal()}),1200),this.connected_calendar_default_calendars_added=!1),this.connect_status_notified=!0;break}},update_add_bookings_to_calendar_id:function(){var t=this,e=this.tmp_edit_add_bookings_to_calendar_id;"no"==this.tmp_edit_add_bookings_to_calendar_account_id&&(e="no");var i="update_add_bookings_to_calendar_id_for_current_admin",a={};a[i]={add_bookings_to_calendar_id:e};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:a};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:"Settings saved."}),e.data&&e.data[i].hasOwnProperty("status")&&t.load_page()})).catch((function(t){console.log(t)})),this.$modal.hide("choose_add_bookings_to_calendar_modal")},update_conflict_calendar_ids:function(){var t=this,e="update_conflict_calendar_ids_for_current_admin",i={};i[e]={conflict_calendar_ids:this.tmp_edit_conflict_calendar_ids,conflict_calendar_ids_length:this.tmp_edit_conflict_calendar_ids.length};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){t.notify_single_action_result(i.data[e],{success_msg:t.T__("Settings saved.")}),i.data&&i.data[e].hasOwnProperty("status")&&(t.load_page(),i.data&&"success"===i.data[e].status&&t.sync_all_calendar_api())})).catch((function(t){console.log(t)})),this.$modal.hide("choose_conflict_calendars_modal")},disconnect_calendar_by_id:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="disconnect_calendar_by_id_for_current_admin",s={};s[a]={calendar_account_id:t.id,provider:t.provider,force:!0===i?"force_remove":""};var n={action:"wpcal_process_admin_ajax_request",wpcal_request:s};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(s){e.notify_single_action_result(s.data[a],{success_msg:e.T__("Calendar is disconnected successfully.")}),!i&&s.data[a]&&s.data[a].hasOwnProperty("status")&&"error"==s.data[a].status&&setTimeout((function(){e.show_disconnect_confirmation(t,!0)}),1e3),e.load_page()})).catch((function(t){console.log(t)}))},show_disconnect_confirmation:function(t){var e,i,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s?(e=this.Tsprintf(this.T__("Oops! Error while disconnecting the account. %1$s Do want to %2$sforce-disconnect%3$s the %1$s %2$s %4$s %3$s account?"),"<br>","<strong>","</strong>",t.account_email),i=this.T__("Yes, force-disconnect.")):(e=this.Tsprintf(this.T__("Are you sure you want to disconnect the %1$s %2$s %4$s %3$s account?"),"<br>","<strong>","</strong>",t.account_email),i=this.T__("Yes, disconnect.")),this.$modal.show("dialog",{title:this.T__("Disconnect account?"),text:e,buttons:[{title:i,class:"vue-dialog-button dialog-red-btn",handler:function(){a.disconnect_calendar_by_id(t,s),a.$modal.hide("dialog")}},{title:this.T__("No, cancel."),default:!0}]})},show_choose_add_bookings_to_calendar_modal:function(){this.tmp_edit_add_bookings_to_calendar_account_id=this.add_bookings_to_calendar_account_id,this.tmp_edit_add_bookings_to_calendar_id=this.add_bookings_to_calendar_id,this.can_show_choose_add_bookings_to_calendar_modal=!0,this.$modal.show("choose_add_bookings_to_calendar_modal")},show_choose_conflict_calendars_modal:function(){this.tmp_edit_conflict_calendar_account_id=this.conflict_calendar_account_id,this.tmp_edit_conflict_calendar_ids=this.conflict_calendar_ids,this.can_show_choose_conflict_calendars_modal=!0,this.$modal.show("choose_conflict_calendars_modal")},set_default_conflict_calendar_account_id:function(){for(var t in this.calendar_accounts){if(0==this.conflict_calendar_ids.length){this.conflict_calendar_account_id=t;break}for(var e in this.calendar_accounts[t].calendars)if(-1!==this.conflict_calendar_ids.indexOf(e))return void(this.conflict_calendar_account_id=t)}},choose_default_calendar_for_add_bookings_to:function(){if(this.tmp_edit_add_bookings_to_calendar_account_id&&"no"!=this.tmp_edit_add_bookings_to_calendar_account_id){if(this.tmp_edit_add_bookings_to_calendar_id){if(this.is_calendar_id_belongs_to_calendar_account_id(this.tmp_edit_add_bookings_to_calendar_id,this.tmp_edit_add_bookings_to_calendar_account_id))return;this.tmp_edit_add_bookings_to_calendar_id=""}if(this.calendar_accounts[this.tmp_edit_add_bookings_to_calendar_account_id]&&this.calendar_accounts[this.tmp_edit_add_bookings_to_calendar_account_id].calendars){var t;for(var e in this.calendar_accounts[this.tmp_edit_add_bookings_to_calendar_account_id].calendars){var i=this.calendar_accounts[this.tmp_edit_add_bookings_to_calendar_account_id].calendars[e];if("1"==i.is_writable&&(t=i.id),"1"==i.is_primary)return void(this.tmp_edit_add_bookings_to_calendar_id=i.id)}t&&(this.tmp_edit_add_bookings_to_calendar_id=t)}}},is_calendar_id_belongs_to_calendar_account_id:function(t,e){var i,a=null===(i=this.calendar_accounts[e])||void 0===i?void 0:i.calendars.hasOwnProperty(t);return!!a},sync_all_calendar_api:function(){var t=this;this.$store.dispatch("manage_background_task",{initial_time_out:3e4});var e="sync_all_calendar_api_for_current_admin",i={};i[e]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){t.load_page()})).catch((function(t){console.log(t)}))},show_default_calendars_added_onboard_modal:function(){var t=this;this.can_close_default_calendars_added_onboard=!1,this.show_default_calendars_added_onboard=!0,this.$nextTick((function(){var e=document.querySelector("#calendar_cofiguration_cont"),i=document.querySelector("#calendar_cofiguration_cont_tip");t.default_calendars_added_onboard_popper_instance=Object(J["a"])(e,i,{placement:"left",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),t.$modal.show("default_calendars_added_onboard_overlay")}))},hide_default_calendars_added_onboard_modal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.show_default_calendars_added_onboard=!1,this.default_calendars_added_onboard_popper_instance&&(this.default_calendars_added_onboard_popper_instance.destroy(),this.default_calendars_added_onboard_popper_instance=null),t&&this.$modal.hide("default_calendars_added_onboard_overlay")},before_close_default_calendars_added_onboard_modal:function(t){this.can_close_default_calendars_added_onboard?this.hide_default_calendars_added_onboard_modal(!1):t.stop()}},mounted:function(){var t=this;this.load_page(),setTimeout((function(){t.sync_all_calendar_api()}),1e3)}},wa=ya,xa=(i("5536"),i("fbbe"),Object(u["a"])(wa,ua,ma,!1,null,null,null)),ka=xa.exports,Ta=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v(" WPCal.io - "+t._s(t.T__("Integration Settings"))+" ")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("OnBoardingCheckList",{attrs:{display_in:"settings_integrations"}}),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",[t._v(t._s(t.T__("My web conferencing apps"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/how-to-connect-use-meeting-apps-bwour0/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}})]),t.tp_accounts.length>0?i("span",{staticClass:"txt-help",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.T__("After connecting your web conferencing app account below, you should edit your existing event types or create a new one and add the app as a location to use it for your bookings.")))]):t._e(),i("div",{staticClass:"mbox loc-integration-accs"},[i("div",{staticClass:"set-locations-cont"},[i("div",{staticClass:"set-locations-single location_googlemeet_meeting"},[i("div",{staticClass:"txt-h5",class:{loading:null===t.googlemeet_meeting_is_account_connected}},[i("div",{staticClass:"app-name"},[t._v(" "+t._s(t._f("tp_provider_name")("googlemeet_meeting"))+" "),i("a",{staticClass:"icon-q-mark",attrs:{href:"https://help.wpcal.io/en/article/how-do-i-connect-my-google-meet-with-wpcalio-hrh77h/?utm_source=wpcal_plugin&utm_medium=contextual",target:"_blank"}})]),null!=t.googlemeet_meeting_is_account_connected?i("span",{staticClass:"status",class:{enabled:t.googlemeet_meeting_is_account_connected,disabled:!t.googlemeet_meeting_is_account_connected}},[t._v(t._s(t.googlemeet_meeting_is_account_connected?t.T__("Connected"):t.T__("Disconnected")))]):t._e()]),i("div",{staticClass:"txt-help",staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(t.googlemeet_meeting_account_email)+" ")]),i("div",{staticClass:"txt-help"},[!0===t.googlemeet_meeting_is_account_connected?i("span",[t._v(" "+t._s(t.T__("As long as a Google Calendar account is connected, this cannot be disconnected. If you do not want to use Google Meet for your bookings, you can simply not add it as a location in your event types."))+" ")]):t._e(),!1===t.googlemeet_meeting_is_account_connected?i("span",{domProps:{innerHTML:t._s(t.Tsprintf(t.T__('This will be connected when you connect a calendar account (%1$s Settings â€º Calendars %2$s), and set a "Add Bookings to..." calendar. %3$s'),'<a href="admin.php?page=wpcal_admin#/settings/calendars">',"</a>",'<a href="https://help.wpcal.io/en/article/how-do-i-connect-my-google-meet-with-wpcalio-hrh77h/?utm_source=wpcal_plugin&utm_medium=contextual">Learn more</a>'))}}):t._e()])]),t._l(t.tp_accounts,(function(e,a){var s;return i("div",{key:a,staticClass:"set-locations-single",class:(s={},s["location_"+e.provider]=!0,s["del-alert"]=t.show_delete_highlight("disconnect_highlight_tp_account_index",a),s)},[i("div",{staticClass:"txt-h5"},[i("div",{staticClass:"app-name"},[t._v(" "+t._s(t._f("tp_provider_name")(e.provider))+" "),t.help_links[e.provider]?i("a",{staticClass:"icon-q-mark",attrs:{href:t.help_links[e.provider],target:"_blank"}}):t._e()]),i("div",{staticClass:"account-connection-actions"},[i("OverflowMenu",{attrs:{menu_id:e.id},model:{value:t.tp_account_overflow_menu_details,callback:function(e){t.tp_account_overflow_menu_details=e},expression:"tp_account_overflow_menu_details"}},[-5==e.status?i("a",{staticClass:"menu-item hover-hl",on:{click:function(i){return t.add_tp_account(e.provider,"reauth")}}},[t._v("Reconnect")]):t._e(),i("a",{staticClass:"menu-item del-hl",staticStyle:{color:"#e84653","font-size":"12px"},on:{click:function(i){t.tp_account_overflow_menu_details.open_menu_id=null,t.show_disconnect_confirmation(e)},mouseover:function(e){return t.set_mouseover_on_delete("disconnect_highlight_tp_account_index",a,!0)},mouseleave:function(e){return t.set_mouseover_on_delete("disconnect_highlight_tp_account_index",a,!1)}}},[t._v(t._s("-5"==e.status?t.T__("Remove"):t.T__("Disconnect")))])]),i("span",{staticClass:"status ",class:{enabled:"1"==e.status,disabled:"1"!=e.status}},[t._v(t._s("1"==e.status?t.T__("Connected"):t.T__("Disconnected")))])],1)]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(e.tp_account_email)+" ")])])}))],2),t.show_add_tp_account_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",attrs:{disabled:!t.enable_add_new_tp_account,title:t.enable_add_new_tp_account?"":this.T__("You have added all available apps.")},on:{click:function(e){t.show_add_tp_account_list=!0}}},[t._v(" "+t._s(t.T__("+ Add an App"))+" ")]),t.show_add_tp_account_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v(" "+t._s(t.T__("Select your web conferencing app"))+" ")]),i("ul",{staticClass:"selector block compact location"},[t._l(t.tp_accounts_add_list_final,(function(e,a){return i("li",{key:a},[i("label",{class:"location_"+e.provider,on:{click:function(i){return t.add_tp_account(e.provider)}}},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("tp_provider_name")(e.provider))+" "),t.help_links[e.provider]?i("a",{staticClass:"icon-q-mark",attrs:{href:t.help_links[e.provider],target:"_blank"},on:{click:function(t){t.stopPropagation()}}}):t._e()]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" "+t._s(t.T__("Web conferencing"))+" ")])])])})),t._m(0)],2)]):t._e()])])]),i("AdminInfoLine",{attrs:{info_slug:"ownership_settings_integrations"}})],1)])],1)])},$a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"disabled"},[i("label",{staticClass:"location_ms_teams_meeting"},[i("div",{staticClass:"txt-h5"},[t._v("Microsoft Teams")]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0px"}},[t._v(" Web conferencing ")]),i("span",[t._v("COMING SOON")])])])}],Ca={mixins:[Wt()],components:{SettingsMenu:ea,OnBoardingCheckList:p,OverflowMenu:_t},props:{connect_status:{type:String,default:null},connected_tp_account_id:{type:String,default:null}},data:function(){return{document_title:this.T__("Integrations â€¹ Settings"),show_add_tp_account_list:!1,tp_accounts:[],tp_accounts_add_list:[{provider:"zoom_meeting",limit:1,count:0,show:!0},{provider:"gotomeeting_meeting",limit:1,count:0,show:!0}],help_links:{zoom_meeting:"https://help.wpcal.io/en/category/integrations-zoom-1dfihfm/?utm_source=wpcal_plugin&utm_medium=contextual"},disconnect_highlight_tp_account_index:null,connect_status_notified:!1,tp_account_overflow_menu_details:{open_menu_id:null,popper_instance:null}}},computed:{tp_accounts_add_list_with_stats:function(){var t=this,e=this.clone_deep(this.tp_accounts_add_list),i=function(i){var a=t.tp_accounts[i],s=e.findIndex((function(t){return t.provider===a.provider}));void 0!=s&&(e[s].count++,e[s].limit<=e[s].count&&(e[s].show=!1))};for(var a in this.tp_accounts)i(a);return e},tp_accounts_add_list_final:function(){var t=[];for(var e in this.tp_accounts_add_list_with_stats)this.tp_accounts_add_list_with_stats[e].show&&t.push(this.tp_accounts_add_list_with_stats[e]);return t},enable_add_new_tp_account:function(){var t=this.tp_accounts_add_list_final.length>0;return t}},methods:{add_tp_account:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",i="add_tp_account";"reauth"==e&&(i="reauth_tp_account"),"zoom_meeting"!==t&&"gotomeeting_meeting"!==t||(window.location="admin.php?page=wpcal_admin&wpcal_action="+i+"&provider="+t)},load_page:function(){var t=this,e="get_tp_accounts_of_current_admin",i={};i[e]={dummy__:""};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){Object.assign(t.$data,t.$options.data.apply(t)),i.data&&i.data[e].hasOwnProperty("tp_accounts")&&(t.tp_accounts=i.data[e].tp_accounts),t.handle_connect_result(),t.check_auth_for_tp_accounts()})).catch((function(t){console.log(t)}))},handle_connect_result:function(){var t=this;if(this.connect_status&&this.connected_tp_account_id&&!this.connect_status_notified&&"connected"===this.connect_status&&this.tp_accounts.length)for(var e in this.tp_accounts)if(this.tp_accounts[e].id==this.connected_tp_account_id){var i=this.Tsprintf(this.T__("Your %1$s %3$s %2$s account %1$s %4$s %2$s is succesfully connected."),"<strong>","</strong>",this.$options.filters.tp_provider_name(this.tp_accounts[e].provider),this.tp_accounts[e].tp_account_email),a="Ok";this.$toast.success(i,a,{}),this.$modal.show("dialog",{title:this.T__("App account connected"),text:this.Tsprintf(this.T__("To use a web conferencing app for your bookings, you should edit your existing %1$s event types %2$s or create a new one and add the connected app as a location."),'<a href="#/event-types" style="font-size:14px;">',"</a>"),buttons:[{title:"Okay",default:!0,handler:function(){t.$modal.hide("dialog")}}]}),this.connect_status_notified=!0;break}},show_disconnect_confirmation:function(t){var e,i,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s?(e=this.Tsprintf(this.T__("Oops! Error while disconnecting the account. %1$s Do want to %2$sforce-disconnect%3$s the %1$s %2$s %4$s - %5$s %3$s account?"),"<br>","<strong>","</strong>",this.$options.filters.tp_provider_name(t.provider),t.tp_account_email),i=this.T__("Yes, force-disconnect.")):(e=this.Tsprintf(this.T__("Are you sure you want to disconnect the %1$s %2$s %4$s - %5$s %3$s account?"),"<br>","<strong>","</strong>",this.$options.filters.tp_provider_name(t.provider),t.tp_account_email),i=this.T__("Yes, disconnect.")),this.$modal.show("dialog",{title:this.T__("Disconnect account?"),text:e,buttons:[{title:i,class:"vue-dialog-button dialog-red-btn",handler:function(){a.disconnect_tp_account_by_id(t,s),a.$modal.hide("dialog")}},{title:this.T__("No, don't.")}]})},disconnect_tp_account_by_id:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="disconnect_tp_account_by_id_for_current_admin",s={};s[a]={tp_account_id:t.id,provider:t.provider,force:!0===i?"force_remove":""};var n="get_tp_accounts_of_current_admin";s[n]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:s};l.a.post(window.wpcal_ajax.ajax_url,o).then((function(s){e.notify_single_action_result(s.data[a],{success_msg:e.T__("Account is disconnected successfully.")}),!i&&s.data[a]&&s.data[a].hasOwnProperty("status")&&"error"==s.data[a].status&&setTimeout((function(){e.show_disconnect_confirmation(t,!0)}),1e3),s.data&&s.data[n].hasOwnProperty("tp_accounts")&&(e.tp_accounts=s.data[n].tp_accounts)})).catch((function(t){console.log(t)}))},check_auth_for_tp_accounts:function(){var t=this,e={},i="check_auth_if_fails_may_remove_tp_accounts_for_current_admin";e[i]="dummy__";var a="get_tp_accounts_of_current_admin";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){e.data[i]&&e.data[i].hasOwnProperty("status")&&"error"==e.data[i].status&&t.notify_single_action_result(e.data[i],{success_msg:"Account checked successfully.",timeout:!1}),e.data&&e.data[a].hasOwnProperty("tp_accounts")&&(t.tp_accounts=e.data[a].tp_accounts)})).catch((function(t){console.log(t)}))},show_googlemeet_meeting_know_more_dialog:function(){this.$modal.show("dialog",{title:this.T__("Heads up!"),text:"Google Hangout/Meet will work only with Google Calendar.<br> ",buttons:[{title:this.T__("Okay"),default:!0}]})}},mounted:function(){this.load_page()}},Sa=Ca,qa=(i("7f09"),Object(u["a"])(Sa,Ta,$a,!1,null,null,null)),Oa=qa.exports,ja=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v(" WPCal.io - "+t._s(t.T__("WPCal Admins Settings"))+" ")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("OnBoardingCheckList",{attrs:{display_in:"settings_admins"}}),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col",staticStyle:{width:"unset","max-width":"100%","margin-right":"30px"}},[i("div",{staticStyle:{"font-size":"16px",padding:"5px 0",display:"flex"}},[t._v(" "+t._s(t.T__("WPCal Admins"))+" "),i("PremiumInfoBadge",{staticStyle:{margin:"-10px 0px 0px 10px"},attrs:{highlight_feature:"wpcal_admins"}},[i("em",[t._v("Free: 1 admin user"),i("br"),t._v("Plus: 5 admin users"),i("br"),t._v("Pro: 10 admin users")])])],1),i("div",{staticClass:"validation_errors_cont"}),i("table",{staticClass:"mbox settingAdmins"},[t._m(0),t._l(t.admin_users_details,(function(e,a){return i("tr",{key:a,class:{disabled:-1==e.status,"del-alert":t.show_delete_highlight("delete_highlight_admin_index",a)}},[i("td",[i("a",{staticStyle:{"white-space":"nowrap"},attrs:{href:"user-edit.php?user_id="+e.admin_user_id}},[t._v(t._s(e.name))])]),i("td",[t._v(t._s(e.services_count))]),i("td",[t._v(t._s(e.services_active_count))]),i("td",[t._v(t._s(e.bookings_upcoming_count))]),i("td",[t._v(t._s(e.calendar_acccounts_count))]),i("td",[t._v(" "+t._s(e.add_bookings_to_calendar?"Added":"-")+" ")]),i("td",[t._v(t._s(e.conflict_calendars_count))]),i("td",[t._v(t._s(e.zoom_meeting?"Connected":"-"))]),i("td",[t._v(" "+t._s(e.gotomeeting_meeting?"Connected":"-")+" ")]),i("td",[i("OverflowMenu",{attrs:{menu_id:e.admin_user_id,popper_position:"right"},model:{value:t.admin_overflow_menu_details,callback:function(e){t.admin_overflow_menu_details=e},expression:"admin_overflow_menu_details"}},[i("a",{staticClass:"menu-item del-hl",staticStyle:{color:"rgb(232, 70, 83)"},on:{click:function(i){return t.may_show_admin_status_change_dialog(-2,e)},mouseover:function(e){return t.set_mouseover_on_delete("delete_highlight_admin_index",a,!0)},mouseleave:function(e){return t.set_mouseover_on_delete("delete_highlight_admin_index",a,!1)}}},[t._v(t._s(t.T__("Delete this user")))]),i("div",{staticClass:"menu-item",staticStyle:{display:"flex !important"}},[i("span",{staticStyle:{color:"#7c7d9c !important","font-size":"13px"}},[t._v(t._s(t.T__("On/Off")))]),1==e.status||-1==e.status?i("OnOffSlider",{staticStyle:{"margin-left":"auto"},attrs:{name:e.admin_user_id,true_value:"1",false_value:"-1"},on:{"prop-slider-value-changed":function(i){return t.may_show_admin_status_change_dialog(i,e)}},model:{value:e.status,callback:function(i){t.$set(e,"status",i)},expression:"admin_detail.status"}}):t._e()],1)])],1)])})),i("tr",[i("td",{attrs:{colspan:"10"}},[i("button",{staticClass:"wpc-btn primary sm",staticStyle:{margin:"10px"},attrs:{type:"button"},on:{click:t.show_add_admin_model}},[t._v(" "+t._s(t.T__("Add WPCal Admin"))+" ")])])])],2),i("AdminInfoLine",{attrs:{info_slugs:["wpcal_admin_feature_access_info"]}})],1)])],1),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"add_admin_model",height:"auto",width:"360px"}},[i("div",{staticClass:"modal_close_cont"},[i("button",{on:{click:function(e){return t.$modal.hide("add_admin_model")}}})]),i("div",{staticClass:"mbox bg-light shadow"},[i("div",{staticClass:"form"},[i("div",{staticClass:"wpc-form-row"},[i("label",{staticClass:"mb10",staticStyle:{"text-align":"center"}},[t._v(t._s(t.T__("Select WP user to add as a WPCal admin")))]),i("TypeToSelect",{attrs:{options:t.wp_admins_to_add_as_options,label_field:"user_email",value_field:"ID"},scopedSlots:t._u([{key:"selected-option",fn:function(e){return[i("div",{staticClass:"profile-details"},[e.profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.profile_picture,width:"30"}}):t._e(),i("div",[i("div",{staticClass:"txt-h5"},[t._v(t._s(e.display_name))]),i("div",{staticClass:"txt-help"},[t._v(t._s(e.user_email))])])])]}},{key:"option",fn:function(e){return[i("div",{staticClass:"profile-details"},[e.profile_picture?i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.profile_picture,width:"30"}}):t._e(),i("div",[i("div",{staticClass:"txt-h5"},[t._v(t._s(e.display_name))]),i("div",{staticClass:"txt-help"},[t._v(t._s(e.user_email))])])])]}}]),model:{value:t.add_wp_admin_id,callback:function(e){t.add_wp_admin_id=e},expression:"add_wp_admin_id"}}),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"5px"}},[t._v(" Contributors and other users with edit_posts capabilities will be listed above. ")]),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.add_wpcal_admin}},[t._v(" "+t._s(t.T__("Add user as WPCal admin"))+" ")])],1)])])])],1)},Pa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("Name")]),i("td",[t._v(" Total Event Types"),i("br"),i("span",{staticStyle:{"font-size":"11px"}},[t._v("incl. privately managed")])]),i("td",[t._v("Active"),i("br"),t._v("Event Types")]),i("td",[t._v("Upcoming"),i("br"),t._v("Bookings")]),i("td",[t._v("Calendar"),i("br"),t._v("Accounts")]),i("td",[t._v("'Add bookings to...'"),i("br"),t._v("calendar")]),i("td",[t._v("Conflict"),i("br"),t._v("calendars")]),i("td",[t._v("Zoom")]),i("td",[t._v("GoToMeeting")]),i("td")])}],Aa={components:{SettingsMenu:ea,TypeToSelect:et,OnOffSlider:U,OverflowMenu:_t,OnBoardingCheckList:p},data:function(){return{document_title:"WPCal Admins â€¹ Settings",admin_users_details:[],wp_admins_to_add:[],add_wp_admin_id:null,admin_overflow_menu_details:{open_menu_id:null,popper_instance:null},delete_highlight_admin_index:null}},computed:{wp_admins_to_add_as_options:function(){return this.wp_admins_to_add}},methods:{load_page:function(){this.get_wpcal_admin_users_details()},get_wpcal_admin_users_details:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},a="get_wpcal_admin_users_details",i[a]="dummy__",s={action:"wpcal_process_admin_ajax_request",wpcal_request:i},e.next=6,l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){e.data&&e.data[a].hasOwnProperty("admin_users_details")&&(t.admin_users_details=e.data[a].admin_users_details)})).catch((function(t){console.log(t)}));case 6:case"end":return e.stop()}}),e)})))()},get_wp_admins_to_add:function(){var t=this,e={},i="get_wp_admins_to_add";e[i]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){e.data&&e.data[i].hasOwnProperty("wp_admins_to_add")&&(t.wp_admins_to_add=e.data[i].wp_admins_to_add)})).catch((function(t){console.log(t)}))},add_wpcal_admin:function(){var t=this,e={},i="add_wpcal_admin";e[i]={admin_data:{admin_user_id:this.add_wp_admin_id,admin_type:"administrator"}};var a="get_wpcal_admin_users_details";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:"Admin Added."}),e.data&&e.data[a].hasOwnProperty("admin_users_details")&&(t.admin_users_details=e.data[a].admin_users_details,t.event_bus.$emit("may_update_onboarding_checklist_notice","add_wpcal_admin"))})).catch((function(t){console.log(t)})),this.$modal.hide("add_admin_model")},enable_wpcal_admin:function(t){var e=this,i={},a="enable_wpcal_admin";i[a]={admin_user_id:t};var s="get_wpcal_admin_users_details";i[s]="dummy__";var n={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(t){e.notify_single_action_result(t.data[a],{success_msg:"Admin enabled."}),t.data&&t.data[s].hasOwnProperty("admin_users_details")&&(e.admin_users_details=t.data[s].admin_users_details)})).catch((function(t){console.log(t)}))},disable_wpcal_admin:function(t){var e=this,i={},a="disable_wpcal_admin";i[a]={admin_user_id:t};var s="get_wpcal_admin_users_details";i[s]="dummy__";var n={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(t){e.notify_single_action_result(t.data[a],{success_msg:"Admin disabled."}),t.data&&t.data[s].hasOwnProperty("admin_users_details")&&(e.admin_users_details=t.data[s].admin_users_details)})).catch((function(t){console.log(t)}))},delete_wpcal_admin:function(t){var e=this,i={},a="delete_wpcal_admin";i[a]={admin_user_id:t};var s="get_wpcal_admin_users_details";i[s]="dummy__";var n={action:"wpcal_process_admin_ajax_request",wpcal_request:i};l.a.post(window.wpcal_ajax.ajax_url,n).then((function(t){e.notify_single_action_result(t.data[a],{success_msg:"Admin deleted."}),t.data&&t.data[s].hasOwnProperty("admin_users_details")&&(e.admin_users_details=t.data[s].admin_users_details)})).catch((function(t){console.log(t)}))},may_show_admin_status_change_dialog:function(t,e){var i=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){var s,n,o,_,r,l,c,d,u,m,p,v,f,h,g,b,y;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=[1,-1,-2,"1","-1","-2"],-1!=s.indexOf(t)){a.next=3;break}return a.abrupt("return");case 3:if(1==t){a.next=11;break}return n=e.admin_user_id,a.next=7,i.get_wpcal_admin_users_details();case 7:if(o=i.admin_users_details.find((function(t){return t.admin_user_id==n})),o){a.next=10;break}return a.abrupt("return");case 10:e=o;case 11:if(1!=t&&(i.admin_overflow_menu_details.open_menu_id=null),1!=t){a.next=15;break}return i.enable_wpcal_admin(e.admin_user_id),a.abrupt("return");case 15:_=i.T__("enable"),r=i.T__("enabling"),l=i.T__("enabled"),c=i.T__("Enable"),"",d=e.services_active_count,u=e.bookings_upcoming_count,m=!0,p="",(d>0||u>0||e.admin_user_id==i.$store.getters.get_current_admin_details.id)&&(m=!1),-1==t?(_=i.T__("disable"),r=i.T__("disabling"),l=i.T__("disabled"),c=i.T__("Yes, disable admin.")):-2==t&&(_=i.T__("delete"),r=i.T__("deleting"),l=i.T__("deleted"),c=i.T__("Yes, delete admin.")),m||(d>0&&(p+="<li>"+i.T__("Reassign the Event types to another admin or disable the event types.")+"</li>"),u>0&&(p&&(p+="<br>"),p+="<li>"+i.T__("Reschedule the bookings with another host (if possible) or cancel the bookings.")+"</li>"),e.admin_user_id==i.$store.getters.get_current_admin_details.id&&(p&&(p+="<br>"),p+="<li>"+i.T__("Ask another WPCal admin to "+_+" you.")+"</li>"),p&&(p="<br><br>"+i.T__("Please do the following before "+r+" the admin.")+"<br><ul class='bull'>"+p+"</ul>")),v="",f="",h=[],g="",m||e.admin_user_id!=i.$store.getters.get_current_admin_details.id||(g='<div class="error-box center mb20">You cannot '+_+" yourself.</div>"),f+=g+i.Tsprintf(i.T__("This admin is having %1$s active Event types and %2$s upcoming bookings."),d,u)+p,m?(b="",y=e.zoom_meeting||e.gotomeeting_meeting,-1==t?(e.calendar_acccounts_count>0&&(b+="<li>"+i.T__("Calendars syncing will be paused.")+"</li>"),y&&(b+="<li>"+i.T__("All integrations will be deactivated temporarily and activated automatically when you enable this admin.")+"</li>")):-2==t&&(e.calendar_acccounts_count>0&&y?b+="<li>"+i.T__("Calendars and other integrations will be removed.")+"</li>":e.calendar_acccounts_count>0?b+="<li>"+i.T__("Calendar integrations will be removed.")+"</li>":y&&(b+="<li>"+i.T__("All integrations will be removed.")+"</li>")),b=b?"<br><ul class='bull'>"+b+"</ul>":"",f+=b,h[h.length]={title:c,class:"delete"==_||"disable"==_?"vue-dialog-button dialog-red-btn":"",handler:function(){-1==t?i.disable_wpcal_admin(e.admin_user_id):-2==t&&i.delete_wpcal_admin(e.admin_user_id),i.$modal.hide("dialog")}},v=i.Tsprintf(i.T__("%1$s %2$s admin?"),"delete"==_?"Delete":"Disable",e.name)):v=i.Tsprintf(i.T__("%2$s %4$s %3$s admin cannot be %1$s."),l,"<strong>","</strong>",e.name),h[h.length]={title:m?i.T__("No, don't."):i.T__("Okay"),default:!0,handler:function(){i.load_page(),i.$modal.hide("dialog")}},i.$modal.show("dialog",{title:v,text:f,buttons:h});case 36:case"end":return a.stop()}}),a)})))()},show_add_admin_model:function(){this.get_wp_admins_to_add(),this.add_wp_admin_id=null,this.$modal.show("add_admin_model")}},mounted:function(){this.load_page()}},Ea=Aa,za=(i("c2c9"),i("a1e2"),Object(u["a"])(Ea,ja,Pa,!1,null,"371961b9",null)),Na=za.exports,Ia=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.T__("Plan Settings")))]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticStyle:{"font-size":"16px",padding:"5px 0px"}},[t._v(" "+t._s(t.T__("Your Plan"))+" ")]),t.license_info.email?i("div",{staticClass:"mbox"},[i("table",[i("tr",[i("td",{staticClass:"txt-help",staticStyle:{"text-align":"right","vertical-align":"top"}},[t._v(" "+t._s(t.T__("License email:"))+" ")]),i("td",[t._v(" "+t._s(t.license_info.email)+" "),i("br"),i("a",{staticStyle:{display:"inline-block","margin-bottom":"5px"},on:{click:t.show_change_email_confirmation}},[t._v(t._s(t.T__("Change account")))]),t._v(" â€¢ "),i("router-link",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{to:"/settings/account/login"}},[t._v(t._s(t.T__("Re-login")))]),i("span",{style:{display:this.$store.getters.is_debug?"":"none"}},[t._v(" â€¢"),i("a",{staticStyle:{display:"inline-block","margin-bottom":"5px"},on:{click:t.force_validate_next_instance_and_dummy_call}},[t._v(t._s(t.T__("__Reset & validate__")))])])],1)]),t.license_info.plan_name?i("tr",[i("td",{staticClass:"txt-help",staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.T__("Plan:"))+" ")]),i("td",[t._v(" "+t._s(t.license_info.plan_name)+" ")])]):t._e()])]):t._e()])])],1)])},Ma=[],La={components:{SettingsMenu:ea},data:function(){return{document_title:this.T__("Plan â€¹ Settings")}},computed:{license_info:function(){return this.$store.getters.get_license_info}},methods:{show_change_email_confirmation:function(){var t=this,e=this.T__("This account email is used only for licensing purposes")+' - <ul class="bull"><li>'+this.T__("Plugin activation and license validation")+"</li><li>"+this.T__("License expiry and renewal alerts")+"</li><li>"+this.T__("Plugin-related support and communication")+"</li></ul>";e+=this.Tsprintf(this.T__("Are you looking to change the new/reschedule/ cancellation booking notification email? %1$s Click here %2$s."),'<a href="https://help.wpcal.io/en/article/how-to-change-booking-notification-email-address-d2k93j/" target="_blank">',"</a>"),e+="<br><br><strong>"+this.T__("")+"</strong>",this.$modal.show("dialog",{title:this.T__("Change the account?"),text:e,buttons:[{title:this.T__("Yes, I'm sure"),handler:function(){t.$router.push({name:"setting_account_login",params:{attempt_to_change_account:!0}}),t.$modal.hide("dialog")}},{title:this.T__("No, don't."),default:!0}]})},force_validate_next_instance_and_dummy_call:function(){var t=this,e={},i="force_validate_next_instance";e[i]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(t){})).catch((function(t){console.log(t)})).then((function(){t.dummy_call()}))},dummy_call:function(){var t={},e="dummy__";t[e]="dummy__";var i={action:"wpcal_process_admin_ajax_request",wpcal_request:t};l.a.post(window.wpcal_ajax.ajax_url,i).then((function(t){})).catch((function(t){console.log(t)}))}}},Da=La,Wa=Object(u["a"])(Da,Ia,Ma,!1,null,null,null),Ba=Wa.exports,Ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t.first_time_logged_in?i("div",[i("div",{staticClass:"page-title-cont"},[i("AdminHeaderRight")],1)]):i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.T__("Settings")))]),i("AdminHeaderRight")],1),i("SettingsMenu")],1),i("div",{staticClass:"col-cont"},[i("div",{staticClass:"col",staticStyle:{margin:"100px auto 0"}},["login"==t.show_form?i("div",[i("div",{staticStyle:{"font-size":"20px","text-align":"center",padding:"20px"}},[t._v(" "+t._s(t.T__("Login to your WPCal.io account"))+" ")]),i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"form"},[t.form_signup_success?i("div",{staticStyle:{border:"1px dashed #81e846",padding:"10px","border-radius":"5px","background-color":"rgba(129, 232, 70, 0.2)","margin-bottom":"10px"},domProps:{innerHTML:t._s(t.Tsprintf(t.T__("Your account has been created successfully. Please login now using the %1$spassword sent to your email%2$s."),'<span style="border-bottom: 1px dashed;">',"</span>"))}}):t._e(),t.show_login_with_other_account_txt?i("div",{staticStyle:{"background-color":"rgb(228, 233, 245)",border:"1px dashed rgb(86, 123, 243)",padding:"10px","border-radius":"5px","margin-bottom":"20px","text-align":"center"}},[t._v(" Login below with another account"),i("br")]):t._e(),i("form-row",{attrs:{validator:t.$v.form_login.email}},[i("label",{staticStyle:{"text-transform":"uppercase","font-size":"12px"},attrs:{for:"form_login_email"}},[t._v(t._s(t.T__("Email address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_login.email,expression:"form_login.email"}],ref:"form_login_email",attrs:{id:"form_login_email",type:"text",name:"email",tabindex:"1"},domProps:{value:t.form_login.email},on:{blur:function(e){return t.$v.form_login.email.$touch()},input:function(e){e.target.composing||t.$set(t.form_login,"email",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.form_login.password}},[i("label",{staticStyle:{"text-transform":"uppercase","font-size":"12px"},attrs:{for:"form_login_password"}},[t._v(" "+t._s(t.T__("Password"))+" "),i("em",{staticStyle:{"margin-top":"0"}},[i("a",{staticStyle:{"text-transform":"capitalize"},attrs:{href:t.$store.getters.get_wpcal_site_urls.lost_pass_url,target:"_blank"}},[t._v(t._s(t.T__("Forgot password?")))])])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_login.password,expression:"form_login.password"}],attrs:{id:"form_login_password",type:"password",tabindex:"2"},domProps:{value:t.form_login.password},on:{blur:function(e){return t.$v.form_login.password.$touch()},input:function(e){e.target.composing||t.$set(t.form_login,"password",e.target.value)}}})]),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",tabindex:"3",disabled:!t.login_btn_is_enabled},on:{click:function(e){t.form_login_submit(),t.form_signup_success=!1}}},[t._v(" "+t._s(t.login_btn_txt)+" ")])])],1),i("div",{staticClass:"wpc-form-row",staticStyle:{"text-align":"center","font-size":"14px"}},[t._v(" "+t._s(t.T__("Don't have an account yet?"))+" "),i("a",{staticStyle:{"font-size":"14px"},on:{click:t.show_signup_form}},[t._v(t._s(t.T__("Create your account now")))]),t._v(". ")])]):t._e(),"signup"==t.show_form?i("div",[i("div",{staticStyle:{"font-size":"20px","text-align":"center",padding:"20px"}},[t._v(" "+t._s(t.T__("Create your WPCal.io account"))+" ")]),i("div",{staticStyle:{"background-color":"#E4E9F5",border:"1px dashed #567bf3",padding:"10px 10px 0px 10px","border-radius":"5px","margin-bottom":"20px"}},[t._v(" "+t._s(t.T__("You need to create an account for -"))+" "),i("br"),i("ul",[i("li",{staticStyle:{"list-style":"disc","margin-left":"20px"}},[t._v(" "+t._s(t.T_x("timely notification emails to you and your invitees.","You need to create an account for"))+" ")]),i("li",{staticStyle:{"list-style":"disc","margin-left":"20px"}},[t._v(" "+t._s(t.T_x("1-click connect to apps like Zoom, Google Meet etc.","You need to create an account for"))+" ")]),i("li",{staticStyle:{"list-style":"disc","margin-left":"20px","margin-bottom":"0"}},[t._v(" "+t._s(t.T_x("syncing calendar event changes to handle conflicts.","You need to create an account for"))+" ")])])]),i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"form"},[i("form-row",{attrs:{validator:t.$v.form_signup.email}},[i("label",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-family":"'RubikMed'"},attrs:{for:"form_singup_email"}},[t._v(t._s(t.T__("Enter your email")))]),i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(t.T__(" This email will be used only for licensing purposes. For bookings, your WP admin user email will be used."))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_signup.email,expression:"form_signup.email"}],attrs:{id:"form_singup_email",type:"text",name:"email"},domProps:{value:t.form_signup.email},on:{blur:function(e){return t.$v.form_signup.email.$touch()},focus:function(e){t.signup_password_note_shown_once=!0},input:function(e){e.target.composing||t.$set(t.form_signup,"email",e.target.value)}}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.show_signup_password_note,expression:"show_signup_password_note"}],staticStyle:{"font-size":"12px","font-style":"italic",padding:"5px","background-color":"#fff200",display:"inline-block","margin-top":"5px"}},[t._v(t._s(t.T__("A secure password will be sent to this email for you to login next time.")))])]),i("div",{staticStyle:{"padding-bottom":"10px","text-align":"center","font-size":"11px"},domProps:{innerHTML:t._s(t.Tsprintf(t.T__("By clicking on the Create my Account now button below, you agree that you have read and accept the %1$sTerms of Use%2$s"),'<a style="font-size: 11px;" href="https://wpcal.io/terms-of-use/" target="_blank">',"</a>."))}}),i("div",{staticClass:"wpc-form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.signup_btn_is_enabled},on:{click:t.form_signup_and_login_submit}},[t._v(" "+t._s(t.signup_btn_txt)+" ")])]),i("div",{staticClass:"wpc-form-row",staticStyle:{"text-align":"center","font-size":"14px"}},[t._v(" "+t._s(t.T__("Already have an account?"))+" "),i("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){return t.show_login_form(!1)}}},[t._v(t._s(t.T__("Login now")))]),t._v(". ")])],1)]):t._e()])])]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"stronger_together_plan_modal",width:"700px",height:"auto",scrollable:!0,adaptive:!0},on:{"before-close":t.stronger_together_plan_modal_before_close}},[i("div",{staticClass:"covid-consent-cont"},[i("PricingStrongerTogether"),i("div",{staticClass:"consent-action"},[i("div",{staticStyle:{"font-weight":"500"}},[t._v("COVID-19 CONSENT")]),i("label",{staticClass:"consent-agreement"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.stronger_together_plan_details.consent,expression:"stronger_together_plan_details.consent"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.stronger_together_plan_details.consent)?t._i(t.stronger_together_plan_details.consent,null)>-1:t.stronger_together_plan_details.consent},on:{change:function(e){var i=t.stronger_together_plan_details.consent,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(t.stronger_together_plan_details,"consent",i.concat([n])):o>-1&&t.$set(t.stronger_together_plan_details,"consent",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.stronger_together_plan_details,"consent",s)}}}),t._v("I understand that the "),i("strong",[t._v("Stronger, Together!")]),t._v(" plan will be available only during the COVID-19 crisis after which I can either continue using the free features or need to subscribe to a paid plan to continue using premium features. ")]),i("div",{staticStyle:{"text-align":"center"}},[t._v(" Weâ€™ll email you at "),i("strong",[t._v(t._s(t.$store.getters.get_license_info.email))]),t._v(", 30 days in advance before "),i("br"),t._v("removing the "),i("strong",[t._v("Stronger, Together!")]),t._v(" plan. ")])]),i("div",{staticStyle:{"text-align":"right","margin-top":"30px"}},[i("button",{attrs:{disabled:!t.stronger_together_plan_details.consent},on:{click:t.handle_stronger_together_plan_modal_button}},[t._v(" I understand, Continue â†’ ")])])],1)]),i("a",{staticStyle:{display:"none"},on:{click:t.show_stronger_together_plan_modal}},[t._v("___ Lorem Ipsum (Show Stronger, Together!)")])],1)},Ya=[],Ha={components:{SettingsMenu:ea,PricingStrongerTogether:x},props:{attempt_to_change_account:{type:Boolean,default:!1}},data:function(){return{document_title:this.T__("Plan â€¹ Settings"),form_login:{email:"",password:""},form_signup:{email:""},show_form:"login",form_signup_success:!1,stronger_together_plan_details:{consent:!1,i_understand_clicked:!1},first_time_logged_in:!1,login_btn_is_enabled:!0,signup_btn_is_enabled:!0,signup_password_note_shown_once:!1,show_login_with_other_account_txt:!1}},validations:{form_login:{email:{required:Lt["required"],email:Lt["email"]},password:{required:Lt["required"]}},form_signup:{email:{required:Lt["required"],email:Lt["email"]}}},computed:{login_btn_txt:function(){return this.login_btn_is_enabled?this.T__("Login to my account"):this.T__("Logging you in...")},signup_btn_txt:function(){return this.signup_btn_is_enabled?this.T__("Create my account & Login"):this.T__("Creating your account & logging in...")},show_signup_password_note:function(){if(this.signup_password_note_shown_once)return!0;var t=this.form_signup.email.length>0;return t}},methods:{on_login_success:function(t){!0===this.first_time_logged_in?this.show_stronger_together_plan_modal():this.$router.push("/settings/account"),this.$store.commit("set_license_info",t)},form_login_submit:function(){var t=this;if(this.clear_validation_errors_cont(),this.$v.form_login.$touch(),this.$v.form_login.$anyError)return this.scroll_to_first_validation_error(),!1;this.login_btn_is_enabled=!1;var e={},i="license_auth_login";e[i]=this.form_login;var a="license_status";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){if(t.notify_single_action_result(e.data[i],{success_msg:"Successfully logged in."}),"success"==e.data[i].status&&"success"==e.data[a].status){var s=e.data[a].license_info;t.on_login_success(s)}})).catch((function(t){console.log(t)})).then((function(){t.login_btn_is_enabled=!0}))},form_signup_and_login_submit:function(){var t=this;if(this.clear_validation_errors_cont(),this.$v.form_signup.$touch(),this.$v.form_signup.$anyError)return this.scroll_to_first_validation_error(),!1;this.signup_btn_is_enabled=!1;var e={},i="license_signup_and_login";e[i]=this.form_signup;var a="license_status";e[a]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){var s,n,o,_;if("error"===(null===(s=e.data[i])||void 0===s?void 0:s.status)&&t.notify_single_action_result(e.data[i],{success_msg:t.T__("Settings saved.")}),"success"===(null===(n=e.data[i])||void 0===n?void 0:n.status))if("signedup_and_added"===(null===(o=e.data[i])||void 0===o?void 0:o.success)){var r;t.notify_single_action_result(e.data[i],{success_msg:t.T__("Successfully logged in.")});var l=null===(r=e.data[a])||void 0===r?void 0:r.license_info;t.on_login_success(l)}else"user_added"===(null===(_=e.data[i])||void 0===_?void 0:_.success)&&t.on_signup_success()})).catch((function(t){console.log(t)})).then((function(){t.signup_btn_is_enabled=!0}))},on_signup_success:function(){this.form_login.email=this.form_signup.email,this.show_login_form(!0)},show_stronger_together_plan_modal:function(){this.$modal.show("stronger_together_plan_modal")},handle_stronger_together_plan_modal_button:function(){this.stronger_together_plan_details.i_understand_clicked=!0,this.$modal.hide("stronger_together_plan_modal"),this.$router.push("/event-types")},stronger_together_plan_modal_before_close:function(t){this.stronger_together_plan_details.i_understand_clicked&&this.stronger_together_plan_details.consent||t.stop()},check_and_set_first_time_logged_in:function(){if(null!==this.$store.getters.get_license_info)return this._isEmpty(this.$store.getters.get_license_info)?(this.first_time_logged_in=!0,void this.show_signup_form()):void 0},show_login_form:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$v.form_login.$reset(),this.show_form="login",this.form_signup_success=t},show_signup_form:function(){this.$v.form_signup.$reset(),this.show_login_with_other_account_txt=!1,this.signup_password_note_shown_once=!1,this.show_form="signup",this.form_signup_success=!1}},watch:{show_signup_password_note:function(t){t&&(this.signup_password_note_shown_once=!0)}},mounted:function(){this.check_and_set_first_time_logged_in(),""==this.form_login.email&&(this.form_login.email=this.$store.getters.get_license_info.email?this.$store.getters.get_license_info.email:this.$store.getters.get_current_admin_details.email),""==this.form_signup.email&&(this.form_signup.email=this.$store.getters.get_license_info.email?this.$store.getters.get_license_info.email:this.$store.getters.get_current_admin_details.email),this.attempt_to_change_account&&(this.form_login.email="",this.form_signup.email="",this.show_login_with_other_account_txt=!0,this.ref_focus("form_login_email"))},beforeRouteLeave:function(t,e,i){null!==this.$store.getters.get_license_info&&this._isEmpty(this.$store.getters.get_license_info)?i(!1):i()}},Fa=Ha,Ua=(i("1ee9"),Object(u["a"])(Fa,Ra,Ya,!1,null,"37f1326d",null)),Ga=Ua.exports,Va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("div",{staticStyle:{color:"rgb(232, 70, 83)",border:"1px dashed rgb(232, 70, 83)",padding:"5px 7px","background-color":"#ffecee",display:"inline-block","border-radius":"5px","font-size":"14px"}},[t._v(" You do not have access to WPCal. ")]),i("div",{staticClass:"col-cont settings-cont",staticStyle:{"font-size":"15px"}},[i("div",{staticClass:"col"},[t._m(1),t.content_loaded&&t.contact_wpcal_admins?i("div",[i("div",[t._v(" Please contact one of admin users below and ask them to add you as a WPCal admin. "),i("table",{staticClass:"mbox settingAdmins",staticStyle:{padding:"0px",width:"100%","margin-top":"10px","border-collapse":"collapse"}},t._l(t.contact_wpcal_admins,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"border-bottom":"1px solid #b1b6d1",width:"50%","text-align":"right",padding:"10px"}},[t._v(" "+t._s(e.wp_name)+" ")]),i("td",{staticStyle:{"border-bottom":"1px solid #b1b6d1",width:"50%",padding:"10px"}},[i("a",{staticStyle:{"white-space":"nowrap"},attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email)+" â†—")])])])})),0)])]):t.content_loaded&&t.current_user_can_be_self_added_as_wpcal_admin&&t.wp_user_id?i("div",[t._m(2),i("div",{staticStyle:{"margin-top":"10px"}},[i("button",{staticClass:"wpc-btn primary lg mt20",staticStyle:{padding:"13px"},attrs:{disabled:!t.self_add_btn_is_enabled},on:{click:function(e){return t.add_current_user_as_wpcal_admin()}}},[t._v(" Add myself as WPCal Admin & Start managing ")])])]):t._e()])])])},Za=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Please request access")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"info-lines"},[i("li",[i("div",{staticStyle:{"font-size":"14px"}},[t._v(" WPCal Admin features are available to WPCal admins only. ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"line-height":"1.5em","margin-top":"20px"}},[t._v(" It looks like either none of the WPCal admins are active now or no one is added as a WPCal admin."),i("br"),i("br"),t._v(" If you want to manage this plugin, click the button below to add yourself as a WPCal Admin."),i("br"),t._v(" This option is available only to WP administrators. ")])}],Qa={data:function(){return{content_loaded:!1,non_wpcal_admin_details:{},self_add_btn_is_enabled:!0}},computed:{contact_wpcal_admins:function(){var t,e;return!(null===(t=this.non_wpcal_admin_details)||void 0===t||!t.list_of_admins_to_contact.length)&&(null===(e=this.non_wpcal_admin_details)||void 0===e?void 0:e.list_of_admins_to_contact)},current_user_can_be_self_added_as_wpcal_admin:function(){var t;return!(null===(t=this.non_wpcal_admin_details)||void 0===t||!t.while_no_active_wpcal_admins_current_user_can_be_self_added_as_wpcal_admin)},wp_user_id:function(){var t,e;return null!==(t=this.non_wpcal_admin_details)&&void 0!==t&&t.wp_user_id?null===(e=this.non_wpcal_admin_details)||void 0===e?void 0:e.wp_user_id:""}},methods:{get_non_wpcal_admin_details:function(){var t=this,e={},i="get_non_wpcal_admin_details_to_show";e[i]="dummy__";var a={action:"wpcal_process_user_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){e.data&&e.data[i].hasOwnProperty("non_wpcal_admin_details_to_show")&&(t.non_wpcal_admin_details=e.data[i].non_wpcal_admin_details_to_show,t.content_loaded=!0)})).catch((function(t){console.log(t)}))},add_current_user_as_wpcal_admin:function(){var t=this;this.self_add_btn_is_enabled=!1;var e={},i="add_current_user_as_wpcal_admin_while_no_active_wpcal_admins";e[i]={wp_user_id:this.wp_user_id};var a={action:"wpcal_process_user_ajax_request",wpcal_request:e};l.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){var a,s;t.notify_single_action_result(e.data[i],{success_msg:t.T__("Successfully added.")}),e.data&&"success"==(null===(a=e.data)||void 0===a||null===(s=a[i])||void 0===s?void 0:s.status)&&(t.content_loaded=!1,window.location.reload())})).catch((function(t){console.log(t)})).then((function(){t.self_add_btn_is_enabled=!0}))}},mounted:function(){this.get_non_wpcal_admin_details(),this.$store.getters.get_is_admin_end_access_granted&&this.$router.push("/")},beforeRouteLeave:function(t,e,i){this.$store.getters.get_is_admin_end_access_granted?i():i(!1)}},Ja=Qa,Ka=Object(u["a"])(Ja,Va,Za,!1,null,null,null),Xa=Ka.exports;a["default"].use(z["a"]);var ts=[{path:"/",redirect:"/bookings"},{path:"/event-types",name:"service_list",component:gt},{path:"/event-type/add",name:"service_add",component:fi},{path:"/event-type/edit/:service_id",name:"service_edit",component:fi},{path:"/bookings",name:"booking_list",props:!0,children:[{path:"/bookings/custom/:booking_id/",name:"booking_custom_by_id"},{path:"/bookings/custom/:booking_id/redirected-to-admin-end-booking/",redirect:function(t){return{name:"booking_custom_by_id",params:{booking_id:t.params.booking_id,redirected_to_admin_end_booking:!0}}}}],component:Vi},{path:"/settings",name:"setting_general",component:na},{path:"/settings/profile",name:"setting_profile",component:da},{path:"/settings/calendars",name:"setting_calendars",component:ka,props:!0,children:[{path:"/settings/calendars/connected/:calendar_account_id/",redirect:function(t){return{name:"setting_calendars",params:{connect_status:"connected",connected_calendar_account_id:t.params.calendar_account_id}}}},{path:"/settings/calendars/connected/:calendar_account_id/default_calendars_added",redirect:function(t){return{name:"setting_calendars",params:{connect_status:"connected",connected_calendar_account_id:t.params.calendar_account_id,connected_calendar_default_calendars_added:!0}}}}]},{path:"/settings/integrations",name:"setting_integrations",component:Oa,props:!0,children:[{path:"/settings/integrations/connected/:tp_account_id/",redirect:function(t){return{name:"setting_integrations",params:{connect_status:"connected",connected_tp_account_id:t.params.tp_account_id}}}}]},{path:"/settings/admins",name:"setting_admins",component:Na},{path:"/settings/account",name:"setting_account",component:Ba},{path:"/settings/account/login",name:"setting_account_login",component:Ga,props:!0},{path:"/non_wpcal_admin",name:"misc_non_wpcal_admin",component:Xa}],es=new z["a"]({routes:ts}),is=function(t){var e=document.querySelectorAll("#toplevel_page_wpcal_admin .wp-submenu li"),i=t.path.split("/")[1],a={"event-types":["event-types","event-type"],bookings:["bookings"],settings:["settings"]};if(t.path){var s,n=Object(E["a"])(e);try{for(n.s();!(s=n.n()).done;){var o,_,r=s.value;if(!r.classList.contains("wp-submenu-head")){r.classList.remove("current");var l=r.querySelector("a");l.classList.remove("current");var c=null===(o=l.getAttribute("href"))||void 0===o||null===(_=o.split("#")[1])||void 0===_?void 0:_.split("/")[1];c&&null!==a&&void 0!==a&&a[c]&&a[c].indexOf(i)>-1&&(r.classList.add("current"),l.classList.add("current"))}}}catch(d){n.e(d)}finally{n.f()}}};es.beforeEach((function(t,e,i){var a="admin";document.getElementById("wpcal_"+a+"_app").classList.add("loading-indicator"),i()})),es.afterEach((function(t,e){var i=function(){setTimeout(Object(A["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(i=t.matched[0])||void 0===i?void 0:i.instances;case 2:s=e.sent,n=null!==s&&void 0!==s&&null!==(a=s.default)&&void 0!==a&&a.document_title_final?s.default.document_title_final:"",L.dispatch("set_document_title",n);case 5:case"end":return e.stop()}}),e)}))),50)};i(),is(t);var a="admin";document.getElementById("wpcal_"+a+"_app").classList.remove("loading-indicator")}));var as=es,ss=(i("399f"),i("1619"),i("751a"),i("1881")),ns=i.n(ss),os=i("404b"),_s=i.n(os),rs=i("1dce"),ls=i.n(rs),cs=i("7f53"),ds=i("2242"),us=i("e399"),ms=i.n(us),ps=(i("2068"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"info-lines"},t._l(t.info_slugs_final,(function(e,a){return i("li",{key:a},["timings_in_timezone"==e&&t.timezone?i("div",{domProps:{innerHTML:t._s(t.Tsprintf(t.T__("All timings in this page are in %1$s %3$s %2$s Time Zone as per Event Type settings."),'<span style="font-weight:500">',"</span>",t.timezone))}}):t.get_info_by_slug(e)?i("div",[t._v(" "+t._s(t.get_info_by_slug(e))+" ")]):t._e()])})),0)}),vs=[],fs={name:"AdminInfoLine",props:{info_slugs:{type:Array},info_slug:{type:String},timezone:{type:String}},data:function(){return{admin_info_list:{ownership_settings_general:this.T__("These settings are common for and apply to all admins."),ownership_settings_profile:this.T__("This is used only for your event types and bookings. Each admin will have their own profile in their login."),ownership_settings_calendars:this.T__(" These calendar accounts are visible only to you and used only for your event types and bookings. Each admin will connect and use their own calendar accounts in their login."),ownership_settings_integrations:this.T__("These integration accounts are visible only to you and used only for your event types and bookings. Each admin will connect and use their own integration accounts in their login."),booking_default_reminder_email:this.T__("A reminder email will be sent to invitees 24hrs before their scheduled event time."),conflict_resolution_for_host:this.T__("Time slots booked for an event type will be removed for other event types' availability for the same host to avoid double booking."),wpcal_admin_feature_access_info:this.T__("WPCal Admin features are available to WPCal admins only.")}}},computed:{info_slugs_final:function(){var t=[];return Array.isArray(this.info_slugs)&&this.info_slugs.length?t=this.clone_deep(this.info_slugs):this.info_slug&&(t=[this.info_slug]),t}},methods:{get_info_by_slug:function(t){return this.admin_info_list.hasOwnProperty(t)?this.admin_info_list[t]:""}}},hs=fs,gs=Object(u["a"])(hs,ps,vs,!1,null,null,null),bs=gs.exports,ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pro-badge-cont",on:{click:t.show_pricing_compare_modal}},[i("div",{staticClass:"pro-badge"},[t._m(0),t._t("default")],2)])},ws=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("strong",[t._v("Premium feature"),i("i",[t._v("Learn more")])])}],xs={name:"PremiumInfoBadge",props:{highlight_feature:{type:String}},methods:{show_pricing_compare_modal:function(){this.event_bus.$emit("show-pricing-compare-modal",this.highlight_feature)}}},ks=xs,Ts=Object(u["a"])(ks,ys,ws,!1,null,null,null),$s=Ts.exports;i.p=window.__wpcal_dist_url,a["default"].use(ns.a,{dialog:!0}),a["default"].component("v-date-picker",_s.a),a["default"].use(ls.a),a["default"].use(cs["a"],ds["a"]);var Cs={timeout:5e3,position:"topRight",drag:!1};a["default"].use(ms.a,Cs),a["default"].component("AdminInfoLine",bs),a["default"].component("PremiumInfoBadge",$s),a["default"].config.productionTip=!1,a["default"].prototype.__=Dt["c"],a["default"].prototype._x=Dt["g"],a["default"].prototype._n=Dt["e"],a["default"].prototype._nx=Dt["f"],a["default"].prototype.T__=Dt["c"],a["default"].prototype.T_x=Dt["g"],a["default"].prototype.T_n=Dt["e"],a["default"].prototype.T_nx=Dt["f"],a["default"].prototype.Tsprintf=Dt["b"],document.addEventListener("DOMContentLoaded",(function(){new a["default"]({router:as,store:L,render:function(t){return t(P)}}).$mount("#wpcal_admin_app")}))},adcd:function(t,e,i){},aef3:function(t,e,i){"use strict";i("e16e")},b812:function(t,e,i){"use strict";i("3404")},ba0b:function(t,e,i){},c2c9:function(t,e,i){"use strict";i("23d3")},c8ed:function(t,e,i){},c937:function(t,e,i){},ce1a:function(t,e,i){},cf8a:function(t,e,i){"use strict";i("4543")},d4ee:function(t,e,i){"use strict";i("6806")},e129:function(t,e,i){"use strict";i("adcd")},e16e:function(t,e,i){},e7fa:function(t,e,i){},e98d:function(t,e,i){"use strict";i("88a5")},ede4:function(t,e,i){},eec2:function(t,e,i){"use strict";i("3a8c")},ef4c:function(t,e,i){"use strict";i("5366")},f663:function(t,e,i){},fbbe:function(t,e,i){"use strict";i("2cd5")},ff75:function(t,e,i){"use strict";i("5f56")}});
//# sourceMappingURL=admin.min.js.map