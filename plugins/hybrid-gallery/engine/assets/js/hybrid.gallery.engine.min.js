!function(a,b,c,d){"use strict";function e(){a(".hybgl-lightbox").each(function(){var b=a(this),c=b.data("selector"),d=b.data("lightbox"),e=a("."+c),f="a.hybgl-button-action-zoom";"mp"==d?e.find(f).magnificPopup({preloader:!0,tLoading:"",closeOnContentClick:!0,gallery:{enabled:!0},image:{cursor:"mfp-zoom-out-cur",tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){var b="",c="";return a.el.attr("title")&&(b=a.el.attr("title")),a.el.data("descr")&&(c="<small>"+a.el.data("descr")+"</small>"),b+c}},mainClass:"mfp-zoom-in",removalDelay:300,callbacks:{beforeOpen:function(){},open:function(){a.magnificPopup.instance.next=function(){var b=this;b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.next.call(b)},120)},a.magnificPopup.instance.prev=function(){var b=this;b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.prev.call(b)},120)}},imageLoadComplete:function(){var a=this;setTimeout(function(){a.wrap.addClass("mfp-image-loaded")},16)},close:function(){this.wrap.removeClass("mfp-image-loaded")}}}):"cb"==d&&(e.find(f+".colorbox-image").colorbox({rel:c,maxWidth:"95%",maxHeight:"95%"}),e.find(f+".colorbox-media").colorbox({rel:c,maxWidth:"95%",maxHeight:"95%",iframe:!0,innerWidth:640,innerHeight:360}))})}function f(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}a.fn.HybridGalleryGrid=function(c){function k(a,b){var c=JSON.parse(a.design),e=(l(a,b,"align")?l(a,b,"align"):c.align,"hybgl-box-align-"),f=["none","left","center","right"];for(var g in f)b.gallery.hasClass(e+f[g])&&b.gallery.removeClass(e+f[g]);l(a,b,"align")?b.gallery.addClass(e+l(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==l(a,b,"w")?b.cw="%"==l(a,b,"w_un")?b.gw*l(a,b,"w_vl")/100:l(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function l(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function m(a,b,c){var e,d=JSON.parse(a.design);"custom"==l(a,b,"w")?b.cw="%"==l(a,b,"w_un")?b.gw*l(a,b,"w_vl")/100:l(a,b,"w_vl"):(b.cw="pc"==d.w_un?b.gw*d.w_vl/100:d.w_vl,d.w_un="pc"==d.w_un?"%":b.gw*d.w_un),e=l(a,b,"cols")?l(a,b,"cols"):a.cols;var f=(b.cw-(e-1)*a.gapX)/e,g="cell"==c?e:f;return g}function n(b,c,d){"resize"==d&&(c.item=c.container.find(".hybgl-item")),c.item.each(function(d){d+=1;var o,p,q,s,e=a(this),f=a(this).find(".hybgl-item-wrapper"),g=a(this).find(".hybgl-item-inner"),h=a(this).find(".hybgl-item-meta"),i=e.data("w"),j=e.data("h"),k=b.ratio[0],l=b.ratio[1],n=m(b,c);if("grid"==b.layout)o=Math.round(m(b,c)*l/k);else if("masonry"==b.layout)o=Math.round(m(b,c)*j/i);else if("metro"==b.layout){o=Math.round(m(b,c)*l/k);var t=2*n+b.gapX,u=3*n+2*b.gapX,w=(4*n+3*b.gapX,2*o+b.gapX),x=3*n+2*b.gapX;4*n+3*b.gapX;1==b.metro_style?(6!=b.cols||(d-1)%15!==0&&(d-4)%15!==0&&(d-9)%15!==0)&&(5!=b.cols||(d-1)%14!==0&&(d-11)%14!==0)&&(4!=b.cols||(d-1)%10!==0&&(d-8)%10!==0)&&(3!=b.cols||(d-1)%6!==0&&(d+1)%6!==0)?2==b.cols&&(d-1)%3===0&&(n=t,o=w):(n=t,o=w):2==b.metro_style?6==b.cols?(d-1)%9===0||(d-6)%9===0?(n=t,o=w):(d-2)%9===0||(d-8)%9===0?n=t:(d-4)%9===0&&(o=w):5==b.cols?(d-1)%9===0||(d+1)%9===0?(n=t,o=w):d%9===0||(d-2)%9===0?n=t:(d-3)%9!==0&&(d-4)%9!==0&&(d-6)%9!==0||(o=w):4==b.cols?(d-1)%10===0||(d-6)%10===0?(n=t,o=w):d%10===0||(d-2)%10===0?n=t:(d-4)%10!==0&&(d-7)%10!==0||(o=w):3==b.cols?(d-1)%6===0?(n=t,o=w):(d-6)%6===0?n=t:(d-3)%6!==0&&(d-4)%6!==0||(o=w):2==b.cols&&((d-1)%10===0?(n=t,o=w):(d-6)%10===0?n=t:(d-3)%10!==0&&(d-4)%10!==0&&(d-8)%10!==0&&(d-9)%10!==0||(o=w)):3==b.metro_style&&(6==b.cols?(d-1)%8===0?(n=u,o=w):(d-3)%8===0?(n=t,o=x):(d-4)%8===0?o=w:(d-6)%8===0?(n=t,o=w):d%8===0&&(n=u):5==b.cols?(d-1)%9===0?(n=u,o=w):(d-2)%9===0?n=t:(d-4)%9===0||(d-5)%9===0?o=w:(d-6)%9===0?(n=t,o=x):(d-8)%9===0&&(n=t,o=w):4==b.cols?(d-1)%9===0?(n=u,o=w):(d-3)%9===0?n=w:(d-5)%9===0||d%9===0?n=t:(d-6)%9===0&&(n=t,o=w):3==b.cols?(d-1)%6===0?(n=t,o=w):(d-3)%6===0||(d-4)%6===0?o=w:d%6===0&&(o=t):2==b.cols&&((d-1)%8===0?(n=t,o=w):(d-2)%8===0||(d-4)%8===0?o=w:(d-6)%8===0&&(n=t)))}else"justified"==b.layout&&(n=i,o=j);2==b.style&&(h.width(n),h.css({paddingBottom:b.gapY<=17?17-b.gapY:0}),s=h.outerHeight()),e.css({width:n,height:2==b.style?o+s:o,marginTop:b.gapY}),"justified"!=b.layout&&f.css({width:n,height:o}),"grid"!=b.layout&&"metro"!=b.layout||"fixed"!=b.size?(p=n,q=o):i>j?o/j<n/i?(q=o,p=Math.round(o*i/j)):q=Math.round(n*j/i):o/j>n/i?q=Math.round(n*j/i):p=Math.round(o*i/j),"grid"!=b.layout&&"metro"!=b.layout||g.css({width:p,height:q}),2==b.style&&h.css({top:o})})}function o(b,c,d,e){var g="animated "+b.animation,h=0;"resize"==d&&(c.item=c.gallery.find(".hybgl-item")),c.item.each(function(b){var c=a(this);f()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(g),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(g)},100*++h)):"filter"==d?(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(g),e&&c.hasClass(e)?setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+g)},100*++h):setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+g)},100*b)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+g)},100*b)})}function p(a,b){"isotope"==a.mode&&(i="grid"==a.layout?b.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:b.gIT,layoutMode:"fitRows",fitRows:{columnWidth:m(a,b),gutter:a.gapX}}):b.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:b.gIT,layoutMode:"masonry",masonry:{columnWidth:m(a,b),gutter:a.gapX}}),i.on("layoutComplete",function(a){}),i.isotope("layout")),"justified"==a.mode&&(j=b.container.justifiedHybGallery({selector:b.gIT,rowHeight:a.jg_rowH,maxRowHeight:a.jg_max_rowH,lastRow:a.jg_lastrow,marginsX:a.gapX,marginsY:a.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}))}function q(b,c){return!!c.filter.length&&void c.filter.on("click",".hybgl-filter-label",function(){var d=a(this).attr("data-filter"),e=d.substring(1);o(b,c,"filter",e),"isotope"==b.mode&&i.isotope({filter:d}),"justified"==b.mode&&j.justifiedHybGallery({filter:d}),c.filter.find(".hybgl-filter-label").removeClass("hybgl-filter-label-active"),a(this).addClass("hybgl-filter-label-active")})}function r(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.wrapper.addClass("hybgl-wrapper-ready"),b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),o(a,b),q(a,b)},a.loader_delay)})}function s(b,c){if("more"==b.pagin||"scroll"==b.pagin){var d=!1;"more"==b.pagin&&(d="showmore"),c.pagination.find(".hybgl-infinite-button").each(function(){a(this).click(function(){a(this).find(".hybgl-pagin-more-icon").addClass("hybgl-pagin-more-icon-ready")})}),c.container.infinitescroll({navSelector:c.gPG,nextSelector:c.gPG+" a.hybgl-infinite-button",itemSelector:c.gIT,behavior:d,animate:!1,loading:{msgText:"",finishedMsg:"",loaderDiv:""}},function(d,f,g){"scroll"==b.pagin&&c.loader.addClass("hybgl-loader-offset").show().removeClass("hybgl-loader-ready");var h=a(d);h.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){c.item=h,n(b,c),e(),"isotope"==b.mode&&i.isotope("appended",h),"justified"==b.mode&&(c.container.append(h),c.container.justifiedHybGallery("norewind")),"more"==b.pagin?c.pagination.find(".hybgl-pagin-more-icon").removeClass("hybgl-pagin-more-icon-ready"):"scroll"==b.pagin&&c.loader.addClass("hybgl-loader-ready").hide(),o(b,c),q(b,c)},b.loader_delay)})})}}function t(b,c){b.pg_ajax&&c.gallery.find(".hybgl-pagin-link").on("click",function(){c.wrapper.addClass("hybgl-wrapper-hide"),c.loader.prependTo(c.gallery).show().removeClass("hybgl-loader-ready"),a("html,body").animate({scrollTop:a(c.gID).offset().top},300);var d=a(this).data("ajax-url");a.ajax({type:"POST",dataType:"html",url:d,cache:!1,success:function(d){var g=(a(d).find(c.gCT).html(),a(d).find(c.gPG).html()),h=a(d).find(c.gCT+" .hybgl-item");c.item=h,c.container.html(h),h.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){c.loader.removeClass("hybgl-loader-ready").hide().appendTo(c.gallery),c.pagination.html(g).hide(),c.wrapper.removeClass("hybgl-wrapper-hide"),n(b,c),e(),"isotope"==b.mode&&i.isotope("prepended",h).isotope("layout"),"justified"==b.mode&&c.container.justifiedHybGallery({selector:c.gIT,rowHeight:b.jg_rowH,maxRowHeight:b.jg_max_rowH,marginsX:b.gapX,marginsY:b.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}),o(b,c),q(b,c),setTimeout(function(){c.pagination.show()},b.loader_delay),t(b,c)},b.loader_delay)})}})})}var i,j,g=this,h={mode:"isotope",layout:"grid",size:"equal",metro_style:1,jg_rowH:240,jg_max_rowH:!1,jg_lastrow:"nojustify",cols:3,gapX:10,gapY:10,pagin:!1,pg_ajax:!1,animation:"fadeInUp",ratio:"1-1",style:1,loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};g.each(function(){var c=a(this),e={mode:c.data("mode")!==d?c.data("mode"):h.mode,layout:c.data("layout")!==d?c.data("layout"):h.layout,size:c.data("size")!==d?c.data("size"):h.size,metro_style:c.data("metro-style")!==d?c.data("metro-style"):h.metro_style,jg_rowH:c.data("rowheight")!==d?c.data("rowheight"):h.jg_rowH,jg_max_rowH:c.data("max-rowheight")!==d?c.data("max-rowheight"):h.jg_max_rowH,jg_lastrow:c.data("lastrow")!==d?c.data("lastrow"):h.jg_lastrow,cols:c.data("cols")!==d?c.data("cols"):h.cols,gapX:c.data("gap-x")!==d?c.data("gap-x"):h.gapX,gapY:c.data("gap-y")!==d?c.data("gap-y"):h.gapY,pagin:c.data("pagin")!==d?c.data("pagin"):h.pagin,pg_ajax:c.data("pagin-ajax")!==d?c.data("pagin-ajax"):h.pg_ajax,animation:c.data("animation")!==d?c.data("animation"):h.animation,ratio:c.data("ratio")!==d?c.data("ratio").split("-",2):h.ratio.split("-",2),style:c.data("style")!==d?c.data("style"):h.style,loader_delay:c.data("loader-delay")!==d?c.data("loader-delay"):h.loader_delay,design:c.data("design")!==d?c.data("design").replace(/#/g,'"'):h.design.replace(/#/g,'"'),res:c.data("res")!==d?c.data("res"):h.res},f={gw:c.parent().width(),ww:a(b).width(),cw:"100%",gallery:c,loader:c.find(".hybgl-loader"),pagination:c.find(".hybgl-pagination"),wrapper:c.find(".hybgl-wrapper"),container:c.find(".hybgl-container"),item:c.find(".hybgl-item"),filter:c.find(".hybgl-filter-items"),gID:"."+c.data("selector"),gWR:"."+c.data("selector")+" .hybgl-wrapper",gCT:"."+c.data("selector")+" .hybgl-container",gIT:"."+c.data("selector")+" .hybgl-item",gPG:"."+c.data("selector")+" .hybgl-pagination"};f.container.css({marginTop:-e.gapY}),k(e,f),n(e,f),p(e,f),r(e,f),s(e,f),t(e,f),a(b).on("resize.$this",function(){a(this).width()!=f.ww&&(f.gw=c.parent().width(),f.ww=a(b).width(),k(e,f),n(e,f,"resize"),p(e,f))})})},a.fn.HybridGalleryCarousel=function(c){function h(a,b){var c=JSON.parse(a.design),e=(i(a,b,"align")?i(a,b,"align"):c.align,"hybgl-box-align-"),f=["none","left","center","right"];for(var g in f)b.gallery.hasClass(e+f[g])&&b.gallery.removeClass(e+f[g]);i(a,b,"align")?b.gallery.addClass(e+i(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==i(a,b,"w")?b.cw="%"==i(a,b,"w_un")?b.gw*i(a,b,"w_vl")/100:i(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function i(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function j(a,b,c){var e,f,d=JSON.parse(a.design);e="custom"==i(a,b,"w")?"%"==i(a,b,"w_un")?b.gw*i(a,b,"w_vl")/100:i(a,b,"w_vl"):"pc"==d.w_un?b.gw*d.w_vl/100:d.w_vl,f=i(a,b,"cols")?i(a,b,"cols"):a.cols;var g=(e-(f-1)*a.gap)/f,h="cell"==c?f:g;return h}function k(b,c){c.item.each(function(d){d+=1;var p,q,s,e=a(this),f=a(this).find(".hybgl-item-wrapper"),g=a(this).find(".hybgl-item-inner"),h=a(this).find(".hybgl-item-meta"),i=e.data("w"),k=e.data("h"),l=b.ratio[0],m=b.ratio[1],n=i,o=k;n=j(b,c),o="auto"==b.size?Math.round(j(b,c)*k/i):Math.round(j(b,c)*m/l),2==b.style&&(h.width(n),h.css({paddingBottom:b.gap<=17?17-b.gap:0}),s=h.outerHeight()),e.css({height:2==b.style?o+s:o,marginLeft:b.gap/2,marginRight:b.gap/2}),f.css({height:o}),"fixed"==b.size&&(i>k?o/k<n/i?(q=o,p=Math.round(o*i/k)):q=Math.round(n*k/i):o/k>n/i?q=Math.round(n*k/i):p=Math.round(o*i/k),g.css({width:p,height:q})),2==b.style&&h.css({top:o})})}function l(b,c,d,e){var g="animated "+b.animation,h=0;c.gallery.find(".hybgl-item").each(function(b){var c=a(this);f()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(g),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(g)},100*++h)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+g)},100*b)})}function m(a,b){return!!a.nav&&(b.gallery.find(".hybgl-arrows-left").click(function(){b.containerInner.slick("slickPrev")}),void b.gallery.find(".hybgl-arrows-right").click(function(){b.containerInner.slick("slickNext")}))}function n(b,c){var d;if(b.res){var e=JSON.parse(b.res.replace(/#/g,'"'));d=[],a.each(e,function(a,b){e[a].cols&&"auto"!=e[a].cols&&(d[a]={breakpoint:a,settings:{slidesToShow:parseInt(e[a].cols),slidesToScroll:parseInt(e[a].cols)}})})}else d=!1;c.containerInner.on("init",function(a,b){}).on("afterChange",function(a,b,c){}).slick({infinite:b.centermode,slidesToShow:b.cols,slidesToScroll:b.cols,speed:300,centerMode:b.centermode,centerPadding:0,customPaging:function(b,c){return a('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:b.dots,arrows:!1,adaptiveHeight:!1,responsive:d}),m(b,c)}function o(b,c){"auto"==b.size&&c.item.each(function(){var b=a(this),d=(c.container.height()-b.height())/2;b.css({marginTop:d})})}function p(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.wrapper.addClass("hybgl-wrapper-ready"),b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),b.item=b.gallery.find(".hybgl-item"),l(a,b)},300)})}var e=this,g={size:"equal",ratio:"1-1",cols:3,gap:10,centermode:!1,nav:!0,dots:!1,animation:"fadeInUp",style:1,loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};e.each(function(){var c=a(this),e={size:c.data("size")!==d?c.data("size"):g.size,ratio:c.data("ratio")!==d?c.data("ratio").split("-",2):g.ratio.split("-",2),cols:c.data("cols")!==d?c.data("cols"):g.cols,gap:c.data("gap")!==d?c.data("gap"):g.gap,centermode:c.data("centermode")!==d?c.data("centermode"):g.centermode,nav:c.data("nav")!==d?c.data("nav"):g.nav,dots:c.data("dots")!==d?c.data("dots"):g.dots,animation:c.data("animation")!==d?c.data("animation"):g.animation,style:c.data("style")!==d?c.data("style"):g.style,loader_delay:c.data("loader-delay")!==d?c.data("loader-delay"):g.loader_delay,design:c.data("design")!==d?c.data("design").replace(/#/g,'"'):g.design.replace(/#/g,'"'),res:c.data("res")!==d?c.data("res"):g.res},f={gw:c.parent().width(),ww:a(b).width(),cw:"100%",gallery:c,loader:c.find(".hybgl-loader"),pagination:c.find(".hybgl-pagination"),wrapper:c.find(".hybgl-wrapper"),container:c.find(".hybgl-container"),containerInner:c.find(".hybgl-container-inner"),item:c.find(".hybgl-item"),gID:"."+c.data("selector"),gWR:"."+c.data("selector")+" .hybgl-wrapper",gCT:"."+c.data("selector")+" .hybgl-container",gCTIN:"."+c.data("selector")+" .hybgl-container-inner",gIT:"."+c.data("selector")+" .hybgl-item",gPG:"."+c.data("selector")+" .hybgl-pagination"};f.container.css({marginLeft:-e.gap/2,marginRight:-e.gap/2}),h(e,f),k(e,f),n(e,f),o(e,f),p(e,f),a(b).on("resize.$this",function(){a(this).width()!=f.ww&&(f.gw=c.parent().width(),f.ww=a(b).width(),h(e,f),k(e,f),o(e,f))})})},a.fn.HybridGallerySlider=function(c){function h(a,b){var c=JSON.parse(a.design),e=(i(a,b,"align")?i(a,b,"align"):c.align,"hybgl-box-align-"),f=["none","left","center","right"];for(var g in f)b.gallery.hasClass(e+f[g])&&b.gallery.removeClass(e+f[g]);i(a,b,"align")?b.gallery.addClass(e+i(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==i(a,b,"w")?b.cw="%"==i(a,b,"w_un")?b.gw*i(a,b,"w_vl")/100:i(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function i(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function j(c,d,e){c.thumbs||(d.gCTCHIN=!1),d.containerInner.on("afterChange",function(e,f,g,h){if("adaptive"==c.mode){var i=d.containerInner.find(".slick-list").height()+c.thumbsGap;n(c,d,"resize",i),a(b).resize(function(){n(c,d,"resize",i)})}}).slick({infinite:c.thumbs,slidesToShow:1,slidesToScroll:1,speed:300,centerMode:!1,centerPadding:!1,customPaging:function(b,c){return a('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:c.dots,arrows:!1,adaptiveHeight:!0,asNavFor:d.gCTCHIN,variableWidth:!0}),r(c,d)}function k(a,b){if(1!=a.thumbs)return!1;var c=!0;a.thumbsVertical&&(c=!1),b.containerChildInner.slick({infinite:!0,slidesToShow:l(a,b),slidesToScroll:1,speed:300,centerMode:!0,centerPadding:!1,dots:!1,arrows:!1,focusOnSelect:!0,vertical:a.thumbsVertical,variableWidth:c,asNavFor:b.gCTIN})}function l(a,b){b.ctw=b.gallery.find(".hybgl-container").width();var c=15;return a.thumbsVertical||(c=Math.floor((b.ctw+a.thumbsGap)/(a.thumbsWidth+a.thumbsGap))),c}function m(a,b,c){b.ctw=b.gallery.find(".hybgl-container").width();var d=a.ratio[0],e=a.ratio[1],f=Math.round(b.ctw*e/d);"resize"==c&&b.containerInner.find(".slick-list").css({height:f})}function n(a,b,c,d){b.ctw=b.gallery.find(".hybgl-container").width();var e=a.ratio[0],f=a.ratio[1],g=Math.round(b.ctw*f/e);a.thumbsVertical?(b.containerChild.css({width:a.thumbsWidth+a.thumbsGap,marginRight:-(a.thumbsWidth+a.thumbsGap)}),b.containerChildInner.css({marginTop:-a.thumbsGap/2,marginBottom:-a.thumbsGap/2}),"fixed"==a.mode&&b.containerChildInner.css({height:g+a.thumbsGap})):b.containerChildInner.css({marginTop:a.thumbsGap}),"resize"==c&&(a.thumbsVertical?("adaptive"==a.mode&&(d&&(g=d),b.containerChildInner.css({height:g})),b.containerChildInner.find(".slick-list").css({height:g})):b.containerChildInner.find(".slick-list").css({height:a.thumbsHeight}))}function o(b,c){b.thumbsVertical&&c.wrapper.css({marginRight:b.thumbsWidth+b.thumbsGap}),c.ctw=c.gallery.find(".hybgl-container").width(),c.item.each(function(d){d+=1;var l,m,e=a(this),f=a(this).find(".hybgl-item-inner"),g=e.data("w"),h=e.data("h"),i=b.ratio[0],j=b.ratio[1],k="adaptive"==b.mode?Math.round(c.ctw*h/g):Math.round(c.ctw*j/i),n=Math.round(c.ctw*j/i);e.css({width:c.ctw,height:k}),"fixed"==b.mode&&(g>h?n/h<c.ctw/g?(m=n,l=Math.round(n*g/h)):m=Math.round(c.ctw*h/g):n/h>c.ctw/g?m=Math.round(c.ctw*h/g):l=Math.round(n*g/h),f.css({width:l,height:m}))})}function p(b,c){c.itemChild=c.gallery.find(".hybgl-child-item"),c.itemChild.each(function(c){c+=1;var d=a(this),e=a(this).find(".hybgl-item-inner");d.data("w"),d.data("h"),b.ratio[0],b.ratio[1];b.thumbsVertical?d.css({width:b.thumbsWidth,height:b.thumbsHeight,marginTop:b.thumbsGap/2,marginBottom:b.thumbsGap/2,marginLeft:b.thumbsGap}):d.css({width:b.thumbsWidth,height:b.thumbsHeight,marginLeft:b.thumbsGap/2,marginRight:b.thumbsGap/2}),e.css({width:b.thumbsWidth,height:b.thumbsHeight})})}function q(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),b.gallery.addClass("hybgl-box-ready"),b.wrapper.addClass("hybgl-wrapper-ready"),b.item=b.gallery.find(".hybgl-item"),s(a,b)},300)})}function r(a,b){return!!a.nav&&(b.gallery.find(".hybgl-arrows-left").click(function(){b.containerInner.slick("slickPrev")}),void b.gallery.find(".hybgl-arrows-right").click(function(){b.containerInner.slick("slickNext")}))}function s(b,c,d){var e="animated "+b.animationMain,g="animated "+b.animationChild,h="animated "+b.metaAnimation,i=0;c.gallery.find(".hybgl-main-item").each(function(b){var c=a(this);f()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(e),c.find(".hybgl-item-meta").removeClass(h),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(e),c.find(".hybgl-item-meta").addClass(h)},100*b)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+e),c.find(".hybgl-item-meta").addClass("hybgl-animate "+h)},100*b)}),c.gallery.find(".hybgl-child-item").each(function(b){var c=a(this);f()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(g),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(g)},100*++i)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+g)},100*b)})}var e=this,g={mode:"fixed",thumbs:!0,thumbsWidth:80,thumbsHeight:80,thumbsVertical:!1,thumbsGap:10,nav:!1,dots:!0,ratio:"1-1",animationMain:"fadeInUp",animationChild:"zoomIn",metaAnimation:"slideInUp",loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};e.each(function(){var c=a(this),e={mode:c.data("mode")!==d?c.data("mode"):g.mode,thumbs:c.data("thumbs")!==d?c.data("thumbs"):g.thumbs,thumbsWidth:c.data("thumbs-width")!==d?c.data("thumbs-width"):g.thumbsWidth,thumbsHeight:c.data("thumbs-height")!==d?c.data("thumbs-height"):g.thumbsHeight,thumbsVertical:c.data("thumbs-vertical")!==d?c.data("thumbs-vertical"):g.thumbsVertical,thumbsGap:c.data("thumbs-gap")!==d?c.data("thumbs-gap"):g.thumbsGap,nav:c.data("nav")!==d?c.data("nav"):g.nav,dots:c.data("dots")!==d?c.data("dots"):g.dots,ratio:c.data("ratio")!==d?c.data("ratio").split("-",2):g.ratio.split("-",2),animationMain:c.data("animation-main")!==d?c.data("animation-main"):g.animationMain,animationChild:c.data("animation-child")!==d?c.data("animation-child"):g.animationChild,metaAnimation:c.data("meta-animation")!==d?c.data("meta-animation"):g.metaAnimation,loader_delay:c.data("loader-delay")!==d?c.data("loader-delay"):g.loader_delay,design:c.data("design")!==d?c.data("design").replace(/#/g,'"'):g.design.replace(/#/g,'"'),res:c.data("res")!==d?c.data("res"):g.res},f={gw:c.parent().width(),ww:a(b).width(),ctw:c.find(".hybgl-container").width(),ctCHw:c.find(".hybgl-child-container").width(),cw:"100%",gallery:c,loader:c.find(".hybgl-loader"),pagination:c.find(".hybgl-pagination"),wrapper:c.find(".hybgl-wrapper"),container:c.find(".hybgl-container"),containerInner:c.find(".hybgl-container-inner"),containerChild:c.find(".hybgl-child-container"),containerChildInner:c.find(".hybgl-child-container-inner"),item:c.find(".hybgl-main-item"),itemChild:c.find(".hybgl-child-item"),gID:"."+c.data("selector"),gWR:"."+c.data("selector")+" .hybgl-wrapper",gCT:"."+c.data("selector")+" .hybgl-container",gCTIN:"."+c.data("selector")+" .hybgl-container-inner",gCTCH:"."+c.data("selector")+" .hybgl-child-container",gCTCHIN:"."+c.data("selector")+" .hybgl-child-container-inner",gIT:"."+c.data("selector")+" .hybgl-main-item",gITCH:"."+c.data("selector")+" .hybgl-child-item",gPG:"."+c.data("selector")+" .hybgl-pagination"};h(e,f),o(e,f),j(e,f),m(e,f),p(e,f),n(e,f),k(e,f),q(e,f),a(b).on("resize.$this",function(){a(this).width()!=f.ww&&(f.gw=c.parent().width(),f.ww=a(b).width(),f.ctw=c.find(".hybgl-container").width(),h(e,f),o(e,f),m(e,f,"resize"),p(e,f),n(e,f,"resize"))})})},a.extend(a.infinitescroll.prototype,{_setup_showmore:function(){var c=this.options,d=this;a(c.nextSelector).click(function(a){1!=a.which||a.metaKey||a.shiftKey||(a.preventDefault(),d.retrieve())}),d.options.loading.start=function(a){a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,function(){d.beginAjax(a)})}},_showdonemsg_showmore:function(){var c=this.options;c.loading.msg.find("img").hide().parent().find("div").html(c.loading.finishedMsg).animate({opacity:1},0,function(){a(this).parent().fadeOut("0")}),a(c.navSelector).fadeOut("0"),c.errorCallback.call(a(c.contentSelector)[0],"done")}}),a(b).load(function(){e(),a(".hybgl-mode-grid").HybridGalleryGrid(),a(".hybgl-mode-carousel").HybridGalleryCarousel(),a(".hybgl-mode-slider").HybridGallerySlider()})}(window.jQuery,window,document);