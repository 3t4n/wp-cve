((c,u,e)=>{"use strict";let m=document.currentScript.src.split(".js")[0].replace(/assets\/builder-active(\.min)?/,"");m.endsWith("/")||(m+="/"),u.on("tb_layout_loaded",(e,t)=>{class i extends e{constructor(){const e="popup";super(e),this.id=e,this.title=themifyPopupBuilder.title}getList(){const i=themifyPopupBuilder.data,s=[],l=m+"sample/",r=t?".webp":".jpg";for(let t=0,e=i.length;t<e;++t){let e=i[t].replace(".zip","");s[t]={title:(e=>{const i=e.replace(/  +/g," ").split(" ");for(let e=0,t=i.length;e<t;++e)i[e]=i[e].charAt(0).toUpperCase()+i[e].slice(1);return i.join(" ")})(e.replaceAll("-"," ")),slug:e,thumbnail:l+e+r}}return Promise.resolve(s)}async getItem(e){const t=[c.Helper.loadJsZip()],i=m+"sample/",s=(t.push(u.fetch("","blob",{credentials:"omit",method:"GET",mode:"cors",headers:{"Content-Type":"application/zip"}},i+e+".zip")),await Promise.all(t)),l=await JSZip.loadAsync(s[1]),r=l.files;if(r){const a="builder_data_export.txt",p="builder_gs_data_export.txt";if(void 0===r[a])throw themifyBuilder.i18n.importBuilderNotExist;{const o=[],s=(o.push(l.file(r[a].name).async("text")),void 0!==r[p]&&o.push(l.file(r[p].name).async("text")),await Promise.all(o)),n=JSON.parse(s[0]),d={builder_data:n.builder_data||n};return s[1]&&(d.used_gs=JSON.parse(s[1])),d}}throw themifyBuilder.i18n.zipFileEmpty}}new i},!0)})(tb_app,Themify);