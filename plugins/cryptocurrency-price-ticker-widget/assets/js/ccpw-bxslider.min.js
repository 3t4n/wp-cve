!function($){var defaults={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};$.fn.bxSlider=function(options){if(0===this.length)return this;if(this.length>1)return this.each((function(){$(this).bxSlider(options)})),this;var slider={},el=this,windowWidth=$(window).width(),windowHeight=$(window).height();if(!$(el).data("bxSlider")){var init=function(){$(el).data("bxSlider")||(slider.settings=$.extend({},defaults,options),slider.settings.slideWidth=parseInt(slider.settings.slideWidth),slider.children=el.children(slider.settings.slideSelector),slider.children.length<slider.settings.minSlides&&(slider.settings.minSlides=slider.children.length),slider.children.length<slider.settings.maxSlides&&(slider.settings.maxSlides=slider.children.length),slider.settings.randomStart&&(slider.settings.startSlide=Math.floor(Math.random()*slider.children.length)),slider.active={index:slider.settings.startSlide},slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1,slider.carousel&&(slider.settings.preloadImages="all"),slider.minThreshold=slider.settings.minSlides*slider.settings.slideWidth+(slider.settings.minSlides-1)*slider.settings.slideMargin,slider.maxThreshold=slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin,slider.working=!1,slider.controls={},slider.interval=null,slider.animProp="vertical"===slider.settings.mode?"top":"left",slider.usingCSS=slider.settings.useCSS&&"fade"!==slider.settings.mode&&function(){for(var div=document.createElement("div"),props=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<props.length;i++)if(void 0!==div.style[props[i]])return slider.cssPrefix=props[i].replace("Perspective","").toLowerCase(),slider.animProp="-"+slider.cssPrefix+"-transform",!0;return!1}(),"vertical"===slider.settings.mode&&(slider.settings.maxSlides=slider.settings.minSlides),el.data("origStyle",el.attr("style")),el.children(slider.settings.slideSelector).each((function(){$(this).data("origStyle",$(this).attr("style"))})),setup())},setup=function(){var preloadSelector=slider.children.eq(slider.settings.startSlide);el.wrap('<div class="'+slider.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),slider.viewport=el.parent(),slider.settings.ariaLive&&!slider.settings.ticker&&slider.viewport.attr("aria-live","polite"),slider.loader=$('<div class="bx-loading" />'),slider.viewport.prepend(slider.loader),el.css({width:"horizontal"===slider.settings.mode?1e3*slider.children.length+215+"%":"auto",position:"relative"}),slider.usingCSS&&slider.settings.easing?el.css("-"+slider.cssPrefix+"-transition-timing-function",slider.settings.easing):slider.settings.easing||(slider.settings.easing="swing"),slider.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),slider.viewport.parent().css({maxWidth:getViewportMaxWidth()}),slider.children.css({float:"horizontal"===slider.settings.mode?"left":"none",listStyle:"none",position:"relative"}),slider.children.css("width",getSlideWidth()),"horizontal"===slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginRight",slider.settings.slideMargin),"vertical"===slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginBottom",slider.settings.slideMargin),"fade"===slider.settings.mode&&(slider.children.css({position:"absolute",zIndex:0,display:"none"}),slider.children.eq(slider.settings.startSlide).css({zIndex:slider.settings.slideZIndex,display:"block"})),slider.controls.el=$('<div class="bx-controls" />'),slider.settings.captions&&appendCaptions(),slider.active.last=slider.settings.startSlide===getPagerQty()-1,slider.settings.video&&el.fitVids(),("all"===slider.settings.preloadImages||slider.settings.ticker)&&(preloadSelector=slider.children),slider.settings.ticker?slider.settings.pager=!1:(slider.settings.controls&&appendControls(),slider.settings.auto&&slider.settings.autoControls&&appendControlsAuto(),slider.settings.pager&&appendPager(),(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)&&slider.viewport.after(slider.controls.el)),loadElements(preloadSelector,start)},loadElements=function(selector,callback){var total=selector.find('img:not([src=""]), iframe').length,count=0;0!==total?selector.find('img:not([src=""]), iframe').each((function(){$(this).one("load error",(function(){++count===total&&callback()})).each((function(){this.complete&&$(this).trigger("load")}))})):callback()},start=function(){if(slider.settings.infiniteLoop&&"fade"!==slider.settings.mode&&!slider.settings.ticker){var slice="vertical"===slider.settings.mode?slider.settings.minSlides:slider.settings.maxSlides,sliceAppend=slider.children.slice(0,slice).clone(!0).addClass("bx-clone"),slicePrepend=slider.children.slice(-slice).clone(!0).addClass("bx-clone");slider.settings.ariaHidden&&(sliceAppend.attr("aria-hidden",!0),slicePrepend.attr("aria-hidden",!0)),el.append(sliceAppend).prepend(slicePrepend)}slider.loader.remove(),setSlidePosition(),"vertical"===slider.settings.mode&&(slider.settings.adaptiveHeight=!0),slider.viewport.height(getViewportHeight()),el.redrawSlider(),slider.settings.onSliderLoad.call(el,slider.active.index),slider.initialized=!0,slider.settings.responsive&&$(window).bind("resize",resizeWindow),slider.settings.auto&&slider.settings.autoStart&&(getPagerQty()>1||slider.settings.autoSlideForOnePage)&&initAuto(),slider.settings.ticker&&initTicker(),slider.settings.pager&&updatePagerActive(slider.settings.startSlide),slider.settings.controls&&updateDirectionControls(),slider.settings.touchEnabled&&!slider.settings.ticker&&initTouch(),slider.settings.keyboardEnabled&&!slider.settings.ticker&&$(document).keydown(keyPress)},getViewportHeight=function(){var height=0,children=$();if("vertical"===slider.settings.mode||slider.settings.adaptiveHeight)if(slider.carousel){var currentIndex=1===slider.settings.moveSlides?slider.active.index:slider.active.index*getMoveBy();for(children=slider.children.eq(currentIndex),i=1;i<=slider.settings.maxSlides-1;i++)children=currentIndex+i>=slider.children.length?children.add(slider.children.eq(i-1)):children.add(slider.children.eq(currentIndex+i))}else children=slider.children.eq(slider.active.index);else children=slider.children;return"vertical"===slider.settings.mode?(children.each((function(index){height+=$(this).outerHeight()})),slider.settings.slideMargin>0&&(height+=slider.settings.slideMargin*(slider.settings.minSlides-1))):height=Math.max.apply(Math,children.map((function(){return $(this).outerHeight(!1)})).get()),"border-box"===slider.viewport.css("box-sizing")?height+=parseFloat(slider.viewport.css("padding-top"))+parseFloat(slider.viewport.css("padding-bottom"))+parseFloat(slider.viewport.css("border-top-width"))+parseFloat(slider.viewport.css("border-bottom-width")):"padding-box"===slider.viewport.css("box-sizing")&&(height+=parseFloat(slider.viewport.css("padding-top"))+parseFloat(slider.viewport.css("padding-bottom"))),height},getViewportMaxWidth=function(){var width="100%";return slider.settings.slideWidth>0&&(width="horizontal"===slider.settings.mode?slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin:slider.settings.slideWidth),width},getSlideWidth=function(){var newElWidth=slider.settings.slideWidth,wrapWidth=slider.viewport.width();if(0===slider.settings.slideWidth||slider.settings.slideWidth>wrapWidth&&!slider.carousel||"vertical"===slider.settings.mode)newElWidth=wrapWidth;else if(slider.settings.maxSlides>1&&"horizontal"===slider.settings.mode){if(wrapWidth>slider.maxThreshold)return newElWidth;wrapWidth<slider.minThreshold?newElWidth=(wrapWidth-slider.settings.slideMargin*(slider.settings.minSlides-1))/slider.settings.minSlides:slider.settings.shrinkItems&&(newElWidth=Math.floor((wrapWidth+slider.settings.slideMargin)/Math.ceil((wrapWidth+slider.settings.slideMargin)/(newElWidth+slider.settings.slideMargin))-slider.settings.slideMargin))}return newElWidth},getNumberSlidesShowing=function(){var slidesShowing=1,childWidth=null;return"horizontal"===slider.settings.mode&&slider.settings.slideWidth>0?slider.viewport.width()<slider.minThreshold?slidesShowing=slider.settings.minSlides:slider.viewport.width()>slider.maxThreshold?slidesShowing=slider.settings.maxSlides:(childWidth=slider.children.first().width()+slider.settings.slideMargin,slidesShowing=Math.floor((slider.viewport.width()+slider.settings.slideMargin)/childWidth)):"vertical"===slider.settings.mode&&(slidesShowing=slider.settings.minSlides),slidesShowing},getPagerQty=function(){var pagerQty=0,breakPoint=0,counter=0;if(slider.settings.moveSlides>0)if(slider.settings.infiniteLoop)pagerQty=Math.ceil(slider.children.length/getMoveBy());else for(;breakPoint<slider.children.length;)++pagerQty,breakPoint=counter+getNumberSlidesShowing(),counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();else pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());return pagerQty},getMoveBy=function(){return slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing()},setSlidePosition=function(){var position,lastChild,lastShowingIndex;slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop?"horizontal"===slider.settings.mode?(position=(lastChild=slider.children.last()).position(),setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.outerWidth())),"reset",0)):"vertical"===slider.settings.mode&&(lastShowingIndex=slider.children.length-slider.settings.minSlides,position=slider.children.eq(lastShowingIndex).position(),setPositionProperty(-position.top,"reset",0)):(position=slider.children.eq(slider.active.index*getMoveBy()).position(),slider.active.index===getPagerQty()-1&&(slider.active.last=!0),void 0!==position&&("horizontal"===slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"===slider.settings.mode&&setPositionProperty(-position.top,"reset",0)))},setPositionProperty=function(value,type,duration,params){var animateObj,propValue;slider.usingCSS?(propValue="vertical"===slider.settings.mode?"translate3d(0, "+value+"px, 0)":"translate3d("+value+"px, 0, 0)",el.css("-"+slider.cssPrefix+"-transition-duration",duration/1e3+"s"),"slide"===type?(el.css(slider.animProp,propValue),0!==duration?el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(e){$(e.target).is(el)&&(el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),updateAfterSlideTransition())})):updateAfterSlideTransition()):"reset"===type?el.css(slider.animProp,propValue):"ticker"===type&&(el.css("-"+slider.cssPrefix+"-transition-timing-function","linear"),el.css(slider.animProp,propValue),0!==duration?el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(e){$(e.target).is(el)&&(el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),setPositionProperty(params.resetValue,"reset",0),tickerLoop())})):(setPositionProperty(params.resetValue,"reset",0),tickerLoop()))):((animateObj={})[slider.animProp]=value,"slide"===type?el.animate(animateObj,duration,slider.settings.easing,(function(){updateAfterSlideTransition()})):"reset"===type?el.css(slider.animProp,value):"ticker"===type&&el.animate(animateObj,duration,"linear",(function(){setPositionProperty(params.resetValue,"reset",0),tickerLoop()})))},populatePager=function(){for(var pagerHtml="",linkContent="",pagerQty=getPagerQty(),i=0;i<pagerQty;i++)linkContent="",slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)||slider.settings.pagerCustom?(linkContent=slider.settings.buildPager(i),slider.pagerEl.addClass("bx-custom-pager")):(linkContent=i+1,slider.pagerEl.addClass("bx-default-pager")),pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+"</a></div>";slider.pagerEl.html(pagerHtml)},appendPager=function(){slider.settings.pagerCustom?slider.pagerEl=$(slider.settings.pagerCustom):(slider.pagerEl=$('<div class="bx-pager" />'),slider.settings.pagerSelector?$(slider.settings.pagerSelector).html(slider.pagerEl):slider.controls.el.addClass("bx-has-pager").append(slider.pagerEl),populatePager()),slider.pagerEl.on("click touchend","a",clickPagerBind)},appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+"</a>"),slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+"</a>"),slider.controls.next.bind("click touchend",clickNextBind),slider.controls.prev.bind("click touchend",clickPrevBind),slider.settings.nextSelector&&$(slider.settings.nextSelector).append(slider.controls.next),slider.settings.prevSelector&&$(slider.settings.prevSelector).append(slider.controls.prev),slider.settings.nextSelector||slider.settings.prevSelector||(slider.controls.directionEl=$('<div class="bx-controls-direction" />'),slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next),slider.controls.el.addClass("bx-has-controls-direction").append(slider.controls.directionEl))},appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+"</a></div>"),slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+"</a></div>"),slider.controls.autoEl=$('<div class="bx-controls-auto" />'),slider.controls.autoEl.on("click",".bx-start",clickStartBind),slider.controls.autoEl.on("click",".bx-stop",clickStopBind),slider.settings.autoControlsCombine?slider.controls.autoEl.append(slider.controls.start):slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop),slider.settings.autoControlsSelector?$(slider.settings.autoControlsSelector).html(slider.controls.autoEl):slider.controls.el.addClass("bx-has-controls-auto").append(slider.controls.autoEl),updateAutoControls(slider.settings.autoStart?"stop":"start")},appendCaptions=function(){slider.children.each((function(index){var title=$(this).find("img:first").attr("title");void 0!==title&&(""+title).length&&$(this).append('<div class="bx-caption"><span>'+title+"</span></div>")}))},clickNextBind=function(e){e.preventDefault(),slider.controls.el.hasClass("disabled")||(slider.settings.auto&&slider.settings.stopAutoOnClick&&el.stopAuto(),el.goToNextSlide())},clickPrevBind=function(e){e.preventDefault(),slider.controls.el.hasClass("disabled")||(slider.settings.auto&&slider.settings.stopAutoOnClick&&el.stopAuto(),el.goToPrevSlide())},clickStartBind=function(e){el.startAuto(),e.preventDefault()},clickStopBind=function(e){el.stopAuto(),e.preventDefault()},clickPagerBind=function(e){var pagerLink,pagerIndex;e.preventDefault(),slider.controls.el.hasClass("disabled")||(slider.settings.auto&&slider.settings.stopAutoOnClick&&el.stopAuto(),void 0!==(pagerLink=$(e.currentTarget)).attr("data-slide-index")&&(pagerIndex=parseInt(pagerLink.attr("data-slide-index")))!==slider.active.index&&el.goToSlide(pagerIndex))},updatePagerActive=function(slideIndex){var len=slider.children.length;if("short"===slider.settings.pagerType)return slider.settings.maxSlides>1&&(len=Math.ceil(slider.children.length/slider.settings.maxSlides)),void slider.pagerEl.html(slideIndex+1+slider.settings.pagerShortSeparator+len);slider.pagerEl.find("a").removeClass("active"),slider.pagerEl.each((function(i,el){$(el).find("a").eq(slideIndex).addClass("active")}))},updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position="";0===slider.active.index?position=slider.children.eq(0).position():slider.active.index===getPagerQty()-1&&slider.carousel?position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position():slider.active.index===slider.children.length-1&&(position=slider.children.eq(slider.children.length-1).position()),position&&("horizontal"===slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"===slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}slider.working=!1,slider.settings.onSlideAfter.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)},updateAutoControls=function(state){slider.settings.autoControlsCombine?slider.controls.autoEl.html(slider.controls[state]):(slider.controls.autoEl.find("a").removeClass("active"),slider.controls.autoEl.find("a:not(.bx-"+state+")").addClass("active"))},updateDirectionControls=function(){1===getPagerQty()?(slider.controls.prev.addClass("disabled"),slider.controls.next.addClass("disabled")):!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd&&(0===slider.active.index?(slider.controls.prev.addClass("disabled"),slider.controls.next.removeClass("disabled")):slider.active.index===getPagerQty()-1?(slider.controls.next.addClass("disabled"),slider.controls.prev.removeClass("disabled")):(slider.controls.prev.removeClass("disabled"),slider.controls.next.removeClass("disabled")))},initAuto=function(){if(slider.settings.autoDelay>0)var timeout=setTimeout(el.startAuto,slider.settings.autoDelay);else el.startAuto(),$(window).focus((function(){el.startAuto()})).blur((function(){el.stopAuto()}));slider.settings.autoHover&&el.hover((function(){slider.interval&&(el.stopAuto(!0),slider.autoPaused=!0)}),(function(){slider.autoPaused&&(el.startAuto(!0),slider.autoPaused=null)}))},initTicker=function(){var startPosition=0,position,transform,value,idx,ratio,property,newSpeed,totalDimens;"next"===slider.settings.autoDirection?el.append(slider.children.clone().addClass("bx-clone")):(el.prepend(slider.children.clone().addClass("bx-clone")),position=slider.children.first().position(),startPosition="horizontal"===slider.settings.mode?-position.left:-position.top),setPositionProperty(startPosition,"reset",0),slider.settings.pager=!1,slider.settings.controls=!1,slider.settings.autoControls=!1,slider.settings.tickerHover&&(slider.usingCSS?(idx="horizontal"===slider.settings.mode?4:5,slider.viewport.hover((function(){transform=el.css("-"+slider.cssPrefix+"-transform"),value=parseFloat(transform.split(",")[idx]),setPositionProperty(value,"reset",0)}),(function(){totalDimens=0,slider.children.each((function(index){totalDimens+="horizontal"===slider.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)})),ratio=slider.settings.speed/totalDimens,property="horizontal"===slider.settings.mode?"left":"top",newSpeed=ratio*(totalDimens-Math.abs(parseInt(value))),tickerLoop(newSpeed)}))):slider.viewport.hover((function(){el.stop()}),(function(){totalDimens=0,slider.children.each((function(index){totalDimens+="horizontal"===slider.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)})),ratio=slider.settings.speed/totalDimens,property="horizontal"===slider.settings.mode?"left":"top",newSpeed=ratio*(totalDimens-Math.abs(parseInt(el.css(property)))),tickerLoop(newSpeed)}))),tickerLoop()},tickerLoop=function(resumeSpeed){var speed=resumeSpeed||slider.settings.speed,position={left:0,top:0},reset={left:0,top:0},animateProperty,resetValue,params;"next"===slider.settings.autoDirection?position=el.find(".bx-clone").first().position():reset=slider.children.first().position(),animateProperty="horizontal"===slider.settings.mode?-position.left:-position.top,resetValue="horizontal"===slider.settings.mode?-reset.left:-reset.top,setPositionProperty(animateProperty,"ticker",speed,params={resetValue:resetValue})},isOnScreen=function(el){var win=$(window),viewport={top:win.scrollTop(),left:win.scrollLeft()},bounds=el.offset();return viewport.right=viewport.left+win.width(),viewport.bottom=viewport.top+win.height(),bounds.right=bounds.left+el.outerWidth(),bounds.bottom=bounds.top+el.outerHeight(),!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom)},keyPress=function(e){var activeElementTag=document.activeElement.tagName.toLowerCase(),tagFilters="input|textarea",p,result;if(null==new RegExp(activeElementTag,["i"]).exec(tagFilters)&&isOnScreen(el)){if(39===e.keyCode)return clickNextBind(e),!1;if(37===e.keyCode)return clickPrevBind(e),!1}},initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}},slider.viewport.bind("touchstart MSPointerDown pointerdown",onTouchStart),slider.viewport.on("click",".bxslider a",(function(e){slider.viewport.hasClass("click-disabled")&&(e.preventDefault(),slider.viewport.removeClass("click-disabled"))}))},onTouchStart=function(e){if(slider.controls.el.addClass("disabled"),slider.working)e.preventDefault(),slider.controls.el.removeClass("disabled");else{slider.touch.originalPos=el.position();var orig=e.originalEvent,touchPoints=void 0!==orig.changedTouches?orig.changedTouches:[orig];slider.touch.start.x=touchPoints[0].pageX,slider.touch.start.y=touchPoints[0].pageY,slider.viewport.get(0).setPointerCapture&&(slider.pointerId=orig.pointerId,slider.viewport.get(0).setPointerCapture(slider.pointerId)),slider.viewport.bind("touchmove MSPointerMove pointermove",onTouchMove),slider.viewport.bind("touchend MSPointerUp pointerup",onTouchEnd),slider.viewport.bind("MSPointerCancel pointercancel",onPointerCancel)}},onPointerCancel=function(e){setPositionProperty(slider.touch.originalPos.left,"reset",0),slider.controls.el.removeClass("disabled"),slider.viewport.unbind("MSPointerCancel pointercancel",onPointerCancel),slider.viewport.unbind("touchmove MSPointerMove pointermove",onTouchMove),slider.viewport.unbind("touchend MSPointerUp pointerup",onTouchEnd),slider.viewport.get(0).releasePointerCapture&&slider.viewport.get(0).releasePointerCapture(slider.pointerId)},onTouchMove=function(e){var orig=e.originalEvent,touchPoints=void 0!==orig.changedTouches?orig.changedTouches:[orig],xMovement=Math.abs(touchPoints[0].pageX-slider.touch.start.x),yMovement=Math.abs(touchPoints[0].pageY-slider.touch.start.y),value=0,change=0;3*xMovement>yMovement&&slider.settings.preventDefaultSwipeX?e.preventDefault():3*yMovement>xMovement&&slider.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==slider.settings.mode&&slider.settings.oneToOneTouch&&("horizontal"===slider.settings.mode?(change=touchPoints[0].pageX-slider.touch.start.x,value=slider.touch.originalPos.left+change):(change=touchPoints[0].pageY-slider.touch.start.y,value=slider.touch.originalPos.top+change),setPositionProperty(value,"reset",0))},onTouchEnd=function(e){slider.viewport.unbind("touchmove MSPointerMove pointermove",onTouchMove),slider.controls.el.removeClass("disabled");var orig=e.originalEvent,touchPoints=void 0!==orig.changedTouches?orig.changedTouches:[orig],value=0,distance=0;slider.touch.end.x=touchPoints[0].pageX,slider.touch.end.y=touchPoints[0].pageY,"fade"===slider.settings.mode?(distance=Math.abs(slider.touch.start.x-slider.touch.end.x))>=slider.settings.swipeThreshold&&(slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto()):("horizontal"===slider.settings.mode?(distance=slider.touch.end.x-slider.touch.start.x,value=slider.touch.originalPos.left):(distance=slider.touch.end.y-slider.touch.start.y,value=slider.touch.originalPos.top),!slider.settings.infiniteLoop&&(0===slider.active.index&&distance>0||slider.active.last&&distance<0)?setPositionProperty(value,"reset",200):Math.abs(distance)>=slider.settings.swipeThreshold?(distance<0?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto()):setPositionProperty(value,"reset",200)),slider.viewport.unbind("touchend MSPointerUp pointerup",onTouchEnd),slider.viewport.get(0).releasePointerCapture&&slider.viewport.get(0).releasePointerCapture(slider.pointerId)},resizeWindow=function(e){if(slider.initialized)if(slider.working)window.setTimeout(resizeWindow,10);else{var windowWidthNew=$(window).width(),windowHeightNew=$(window).height();windowWidth===windowWidthNew&&windowHeight===windowHeightNew||(windowWidth=windowWidthNew,windowHeight=windowHeightNew,el.redrawSlider(),slider.settings.onSliderResize.call(el,slider.active.index))}},applyAriaHiddenAttributes=function(startVisibleIndex){var numberOfSlidesShowing=getNumberSlidesShowing();slider.settings.ariaHidden&&!slider.settings.ticker&&(slider.children.attr("aria-hidden","true"),slider.children.slice(startVisibleIndex,startVisibleIndex+numberOfSlidesShowing).attr("aria-hidden","false"))},setSlideIndex=function(slideIndex){return slideIndex<0?slider.settings.infiniteLoop?getPagerQty()-1:slider.active.index:slideIndex>=getPagerQty()?slider.settings.infiniteLoop?0:slider.active.index:slideIndex};return el.goToSlide=function(slideIndex,direction){var performTransition=!0,moveBy=0,position={left:0,top:0},lastChild=null,lastShowingIndex,eq,value,requestEl;if(slider.oldIndex=slider.active.index,slider.active.index=setSlideIndex(slideIndex),!slider.working&&slider.active.index!==slider.oldIndex){if(slider.working=!0,void 0!==(performTransition=slider.settings.onSlideBefore.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index))&&!performTransition)return slider.active.index=slider.oldIndex,void(slider.working=!1);"next"===direction?slider.settings.onSlideNext.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)||(performTransition=!1):"prev"===direction&&(slider.settings.onSlidePrev.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)||(performTransition=!1)),slider.active.last=slider.active.index>=getPagerQty()-1,(slider.settings.pager||slider.settings.pagerCustom)&&updatePagerActive(slider.active.index),slider.settings.controls&&updateDirectionControls(),"fade"===slider.settings.mode?(slider.settings.adaptiveHeight&&slider.viewport.height()!==getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed),slider.children.filter(":visible").fadeOut(slider.settings.speed).css({zIndex:0}),slider.children.eq(slider.active.index).css("zIndex",slider.settings.slideZIndex+1).fadeIn(slider.settings.speed,(function(){$(this).css("zIndex",slider.settings.slideZIndex),updateAfterSlideTransition()}))):(slider.settings.adaptiveHeight&&slider.viewport.height()!==getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed),!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last?"horizontal"===slider.settings.mode?(position=(lastChild=slider.children.eq(slider.children.length-1)).position(),moveBy=slider.viewport.width()-lastChild.outerWidth()):(lastShowingIndex=slider.children.length-slider.settings.minSlides,position=slider.children.eq(lastShowingIndex).position()):slider.carousel&&slider.active.last&&"prev"===direction?(eq=1===slider.settings.moveSlides?slider.settings.maxSlides-getMoveBy():(getPagerQty()-1)*getMoveBy()-(slider.children.length-slider.settings.maxSlides),position=(lastChild=el.children(".bx-clone").eq(eq)).position()):"next"===direction&&0===slider.active.index?(position=el.find("> .bx-clone").eq(slider.settings.maxSlides).position(),slider.active.last=!1):slideIndex>=0&&(requestEl=slideIndex*parseInt(getMoveBy()),position=slider.children.eq(requestEl).position()),void 0!==position?(value="horizontal"===slider.settings.mode?-(position.left-moveBy):-position.top,setPositionProperty(value,"slide",slider.settings.speed)):slider.working=!1),slider.settings.ariaHidden&&applyAriaHiddenAttributes(slider.active.index*getMoveBy())}},el.goToNextSlide=function(){if(slider.settings.infiniteLoop||!slider.active.last){var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,"next")}},el.goToPrevSlide=function(){if(slider.settings.infiniteLoop||0!==slider.active.index){var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,"prev")}},el.startAuto=function(preventControlUpdate){slider.interval||(slider.interval=setInterval((function(){"next"===slider.settings.autoDirection?el.goToNextSlide():el.goToPrevSlide()}),slider.settings.pause),slider.settings.autoControls&&!0!==preventControlUpdate&&updateAutoControls("stop"))},el.stopAuto=function(preventControlUpdate){slider.interval&&(clearInterval(slider.interval),slider.interval=null,slider.settings.autoControls&&!0!==preventControlUpdate&&updateAutoControls("start"))},el.getCurrentSlide=function(){return slider.active.index},el.getCurrentSlideElement=function(){return slider.children.eq(slider.active.index)},el.getSlideElement=function(index){return slider.children.eq(index)},el.getSlideCount=function(){return slider.children.length},el.isWorking=function(){return slider.working},el.redrawSlider=function(){slider.children.add(el.find(".bx-clone")).outerWidth(getSlideWidth()),slider.viewport.css("height",getViewportHeight()),slider.settings.ticker||setSlidePosition(),slider.active.last&&(slider.active.index=getPagerQty()-1),slider.active.index>=getPagerQty()&&(slider.active.last=!0),slider.settings.pager&&!slider.settings.pagerCustom&&(populatePager(),updatePagerActive(slider.active.index)),slider.settings.ariaHidden&&applyAriaHiddenAttributes(slider.active.index*getMoveBy())},el.destroySlider=function(){slider.initialized&&(slider.initialized=!1,$(".bx-clone",this).remove(),slider.children.each((function(){void 0!==$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")})),void 0!==$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),slider.controls.el&&slider.controls.el.remove(),slider.controls.next&&slider.controls.next.remove(),slider.controls.prev&&slider.controls.prev.remove(),slider.pagerEl&&slider.settings.controls&&!slider.settings.pagerCustom&&slider.pagerEl.remove(),$(".bx-caption",this).remove(),slider.controls.autoEl&&slider.controls.autoEl.remove(),clearInterval(slider.interval),slider.settings.responsive&&$(window).unbind("resize",resizeWindow),slider.settings.keyboardEnabled&&$(document).unbind("keydown",keyPress),$(this).removeData("bxSlider"))},el.reloadSlider=function(settings){void 0!==settings&&(options=settings),el.destroySlider(),init(),$(el).data("bxSlider",this)},init(),$(el).data("bxSlider",this),this}}}(jQuery);