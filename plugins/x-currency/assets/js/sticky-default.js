(()=>{"use strict";function e(e,t){return e&&t?`\n        ${e}: ${t.top} ${t.right} ${t.bottom} ${t.left};\n    `:""}function t(t){return t?`\n        border-color: ${t.color};\n        border-style: ${t.style};\n        ${e("border-width",t.width)}\n        ${e("border-radius",t.radius)}\n\n    `:""}let n=class extends HTMLElement{constructor(){super(),Object.defineProperty(this,"scope",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:window.x_currency_data.selectedCurrency||"USD"}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new window.XCurrencyEventManager}),this.scope=this.attachShadow({mode:"open"}),this.events.addScope(this.scope)}disconnectedCallback(){this.events.stopListening()}connectedCallback(){this.render(),this.eventManager(),window.addEventListener("x_currency/update_switcher",(e=>{e.detail==this.id&&(this.events.stopListening(),this.render(),this.events.refresh(),this.events.startListening())}))}eventManager(){const e=this;e.events.addEvent("click/switcher-list",{selector:"li",callback(t){t.preventDefault(),t.stopPropagation();const n=t.target.closest("li");e.changeSiteCurrency(n)}}),e.events.startListening()}changeSiteCurrency(e){var t;e&&e.dataset.code&&(null===(t=this.scope.querySelector(".active"))||void 0===t||t.classList.remove("active"),e.classList.add("active"),this.value=e.dataset.code,window.dispatchEvent(new CustomEvent("x_currency/change_site_currency",{detail:e.dataset.code})))}getContent(e){const{template:t}=window.x_currency_data[this.id],n={1:`<img loading="lazy" class="list-flag" src="${e.flag_url}" alt="${e.name}"/>`,2:`<span class='symbol'>(${e.symbol})</span>`,3:`<span class='code'>${e.code}</span>`,4:`<span class='name'>${e.name}</span>`};return t.ct_sort_el.map((e=>n[e])).join("")}liElement(e){return e.active?`\n            <li\n                data-code=${e.code} \n                ${this.value===e.code?'class="active"':""}\n            >\n                ${this.getContent(e)}\n            </li>\n        `:""}render(){const{currencies:n}=window.x_currency_data,i=function(n){const{mode:i,isPro:o}=window.x_currency_data,{template:r,customCSS:a}=window.x_currency_data[n],l=function(){const e=new window.XcurrencyCSSOMLite;return e.addDevice("mobile",400),e.addDevice("tablet",620),e}();return l.addCSS(`\n        .wrapper {\n            position: ${"preview"===i?"fixed":"absolute"};\n            top: ${r.ct_wr_position_vertical}%;\n            ${r.ct_wr_position} : ${r.ct_wr_position_horizontal}px;\n            transition: all .25s ease;\n        }\n\n        .wrapper:hover {\n            ${r.ct_wr_position} : ${r.ct_wr_position_horizontal_hover}px;\n        }\n\n        ul {\n            display     : grid;\n            grid-gap    : ${r.list_space}px;\n            font-size   : ${r.list_font_size}px;\n            margin: 0;\n            padding: 0;\n        }\n\n        li {\n            display: flex; \n            align-items: center; \n            user-select: none;\n            background-color: ${r.list_bg};\n            color           : ${r.list_text_color};\n            cursor          : pointer;\n            transition      : all linear .2s;\n            position        : relative;\n            ${r.ct_wr_position}: 0;\n            justify-content : ${"left"===r.ct_wr_position?"right":"left"}; \n            column-gap      : ${r.list_el_space}px;\n            ${e("padding",r.list_padding)}\n            ${t(r.list_border)}\n        }\n\n        li.active {\n            background-color: ${r.list_bg_active};\n            color           : ${r.list_text_color_active};\n            ${t(r.list_border_active)}\n        }\n\n        li:hover {\n            background-color: ${r.list_bg_hover};\n            color           : ${r.list_text_color_hover};\n            ${t(r.list_border_hover)}\n            ${r.ct_wr_position}: ${r.list_move_x_hover}px;\n        }\n\n        img {\n            display         : inline-block;\n            object-fit      : cover;\n            width           : ${r.flag_width}px;\n            height          : ${r.flag_height}px;\n            ${e("margin",r.flag_margin)}\n            ${t(r.flag_border)}\n        } \n    `),r.ct_show_code&&l.addCSS(`\n            .code {\n                text-align      : ${r.code_alignment};\n                width           : ${r.code_width}px;\n                height          : ${r.code_height}px;\n                line-height     : ${r.code_height}px;\n                background-color: ${r.code_bg};\n                color           : ${r.code_text_color};\n                ${t(r.code_border)}\n                font-size       : ${r.code_font_size}px;\n                transition      : all linear .2s;\n            }\n\n            li.active .code {\n                background-color: ${r.code_bg_active};\n                color           : ${r.code_text_color_active};\n                ${t(r.code_border_active)}\n            }\n\n            li:hover .code {\n                background-color: ${r.code_bg_hover};\n                color           : ${r.code_text_color_hover};\n                ${t(r.code_border_hover)}\n            }\n        `),r.ct_show_name&&l.addCSS(`\n            .name {\n                text-align  : ${r.name_alignment};\n                width       : ${r.name_width}px;\n                text-transform: ${r.name_text_transform};\n                line-height: 1.3;\n            }\n        `),"yes"===o&&(l.addRule("img",`\n                width           : ${r._tablet_flag_width}px;\n                height          : ${r._tablet_flag_height}px;\n                ${t(r._tablet_flag_border)}\n            `,{max:"tablet"}),l.addRule("ul",`\n                grid-gap    : ${r._tablet_list_space}px;\n                font-size   : ${r._tablet_list_font_size}px;\n            `,{max:"tablet"}),l.addRule(".wrapper",`\n                top: ${r._tablet_ct_wr_position_vertical}%;\n                ${r.ct_wr_position} : ${r._tablet_ct_wr_position_horizontal}px;\n            `,{max:"tablet"}),l.addRule(".wrapper:hover",`\n                ${r.ct_wr_position} : ${r._tablet_ct_wr_position_horizontal_hover}px;\n            `,{max:"tablet"}),l.addRule("img",`\n                width           : ${r._mobile_flag_width}px;\n                height          : ${r._mobile_flag_height}px;\n                ${t(r._mobile_flag_border)}\n            `,{max:"mobile"}),l.addRule("ul",`\n                grid-gap    : ${r._mobile_list_space}px;\n                font-size   : ${r._mobile_list_font_size}px;\n            `,{max:"mobile"}),l.addRule(".wrapper",`\n                top: ${r._mobile_ct_wr_position_vertical}%;\n                ${r.ct_wr_position} : ${r._mobile_ct_wr_position_horizontal}px;\n            `,{max:"mobile"}),l.addRule(".wrapper:hover",`\n                ${r.ct_wr_position} : ${r._mobile_ct_wr_position_horizontal_hover}px;\n            `,{max:"mobile"})),Object.entries({ct_show_flag:".list-flag",ct_show_symbol:".symbol",ct_show_code:".code",ct_show_name:".name"}).map((([e,t])=>{l.addRule(t,`\n            display: ${r[e]?"inline-block":"none"};\n        `),"yes"===o&&(l.addRule(t,`\n                    display: ${r[`_tablet_${e}`]?"inline-block":"none"};\n                `,{max:"tablet"}),l.addRule(t,`\n                    display: ${r[`_mobile_${e}`]?"inline-block":"none"};\n                `,{max:"mobile"}))})),"string"==typeof a&&a.trim().length>3&&("preview"===i?l.addCSS(atob(a)):l.addCSS(a)),l.output()}(this.id);this.scope.innerHTML=`\n            <style>${i}</style>\n            <div class="wrapper xc-element-${this.id}" id="xc-${this.id}">\n                <ul class="dropdown-ul">\n                    ${n.map(this.liElement.bind(this)).join("")}\n                </ul>\n            </div>\n        `}};var i;n=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}([(i="xc-sticky-default",e=>{customElements.get(i)||customElements.define(i,e)})],n)})();