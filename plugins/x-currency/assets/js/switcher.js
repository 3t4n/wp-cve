(()=>{"use strict";var e={621:()=>{window.addEventListener("x_currency/change_site_currency",(function(e){const t=e.detail;if("string"==typeof t&&"preview"===window.x_currency_data.mode){const e=new URLSearchParams(window.location.search);e.set("currency",t);const r=e.toString(),n=window.location.origin+window.location.pathname+"?"+r;window.location.href=n}})),setTimeout((()=>{if(window.x_currency_data&&"yes"===window.x_currency_data.removeQueryString){const e=new URLSearchParams(window.location.search);if(e.has("currency")){e.delete("currency");const t=e.toString();let r=window.location.origin+window.location.pathname;t&&(r+="?"+t),window.history.replaceState({path:r},"",r)}}}),0)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{var e=Object.defineProperty,t=(t,r,n)=>(((t,r,n)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n})(t,"symbol"!=typeof r?r+"":r,n),n);class n{constructor(){t(this,"devices",{}),t(this,"css",{}),t(this,"rules",{}),t(this,"ignoreKeys",["undefined","remove","false","null","NaN","","true"])}get uid(){return Math.floor(1e5*Math.random())}canIgnore(e){return this.ignoreKeys.includes(e.trim())}removeOldProperties(e,t){e.split(",").filter((e=>!this.canIgnore(e))).forEach((e=>{const r=e.trim();delete t[r]}))}sortDevices(){const e=this,t=Object.keys(e.devices);if(t.length<2)return;t.sort(((t,r)=>e.devices[t]-e.devices[r]));const r={};t.forEach((function(t){r[t]=e.devices[t]})),e.devices=r}removeMultiWhiteSpace(e){return"string"!=typeof e?e:e.trim().replace(/ +(?= )/g,"")}responsiveToHash(e){let t,r=[];for(t in e)r.push(t+"_"+e[t]);return r.join("-")}hashToResponsive(e){const t={};return e.split("-").filter(String).forEach((e=>{const[r,n]=e.split(/_(.+)/);t[r]=this.devices[n]})),t}sortHashes(){const e=this,{rules:t,hashToResponsive:r}=e,n=Object.keys(t);if(n.length<2)return t;n.sort((function(t,n){if("all"===t)return-1;if("all"===n)return 1;let s=r.call(e,t),i=r.call(e,n);if(s.max&&i.max)return i.max-s.max;if(s.min&&i.min)return i.min-s.min;const o=null!==s.max&&void 0!==s.max?s.max:s.min;return(null!==i.max&&void 0!==i.max?i.max:i.min)-o}));const s={};return n.forEach((e=>{s[e]=t[e]})),s}createResponsiveFormat(e){const t=this.hashToResponsive.call(this,e),r=[];for(let e in t)r.push("("+e+"-width:"+t[e]+"px)");return"@media"+r.join(" and ")}convertProperties(e){let t="";for(let r in e)t+=r+":"+e[r]+";";return t}convertRules(e){let t="";for(let r in e){const n=this.convertProperties(e[r]);n&&(t+=r+"{"+n+"}")}return t}}window.XcurrencyCSSOMLite=class extends n{addDevice(e,t){this.devices[e]=t,this.sortDevices()}addCSS(e){this.css[this.uid]=e}addRule(e,t,r){const n=this;let s="all",i={};if(e=n.removeMultiWhiteSpace(e),t=n.removeMultiWhiteSpace(t),r&&"object"==typeof r&&(s=n.responsiveToHash(r)),n.rules[s]||(n.rules[s]={}),n.rules[s][e]||(n.rules[s][e]={}),"string"==typeof t){i=t.split(";").filter(String);const r={};try{let t;for(t in i){const[o,c]=i[t].split(/:(.*)?/);"remove"===o.trim()&&this.removeOldProperties(c.trim(),n.rules[s][e]),!this.canIgnore(o)&&!this.canIgnore(c)&&(r[o.trim()]=c.trim().replace(";",""))}}catch{return}i=r}Object.assign(n.rules[s][e],i)}clear(){this.rules={},this.css={}}output(){const{css:e,convertRules:t,createResponsiveFormat:r,sortHashes:n}=this,s=n.call(this);let i="";for(let t in e)i+=e[t];for(let e in s){let n=t.call(this,s[e]);"all"!==e&&(n=r.call(this,e)+"{"+n+"}"),i+=n}return i.replace(/\s+/g," ")}};var s,i,o,c=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};i=new WeakMap,s=new WeakSet,o=function(e,t){return"string"!=typeof t?[t]:null==e?void 0:e.querySelectorAll(t)},window.XCurrencyEventManager=class{constructor(){s.add(this),i.set(this,new Set),Object.defineProperty(this,"scope",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}addScope(e){this.scope=e}addEvent(e,t){c(this,i,"f").add({selector:t.selector,namespace:e,callback:t.callback,eventName:e.split("/")[0],elements:c(this,s,"m",o).call(this,this.scope,t.selector)})}refresh(e){c(this,i,"f").forEach((t=>{if(e&&!e.includes(t.namespace))return;const r=t.selector;t.elements=c(this,s,"m",o).call(this,this.scope,r)}))}startListening(e){c(this,i,"f").forEach((t=>{e&&!e.includes(t.namespace)||("[object String]"===Object.prototype.toString.call(t.selector)?Array.from(t.elements).forEach((e=>{e.addEventListener(t.eventName,t.callback)})):t.elements[0].addEventListener(t.eventName,t.callback))}))}stopListening(e){c(this,i,"f").forEach((t=>{e&&!e.includes(t.namespace)||("[object String]"===Object.prototype.toString.call(t.selector)?Array.from(t.elements).forEach((e=>{e.removeEventListener(t.eventName,t.callback)})):t.elements[0].removeEventListener(t.eventName,t.callback))}))}},r(621)})()})();