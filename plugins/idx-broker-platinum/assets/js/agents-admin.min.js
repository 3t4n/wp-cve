jQuery(document).ready(function(e){e(".impa-term-image-url").attr("src")?e(".impa-term-image-url").show():e(".impa-term-image-url").hide(),e("input#impa-term-image").val()?(e(".impa-add-media-text").hide(),e(".impa-remove-media, .impa-term-image-url").show()):(e(".impa-add-media-text").show(),e(".impa-remove-media, .impa-term-image-url").hide()),e(".impa-remove-media").click(function(i){i.preventDefault(),e("#impa-term-image").val(""),e(".impa-add-media-text").show(),e(".impa-remove-media, .impa-term-image-url, .impa-errors").hide()});var i;e(".impa-add-media").click(function(m){return m.preventDefault(),i?void i.open():(i=wp.media.frames.impa_term_image_frame=wp.media({className:"media-frame",frame:"select",multiple:!1,title:impa_term_image.title,library:{type:"image"},button:{text:impa_term_image.button}}),i.on("select",function(){var m=i.state().get("selection").toJSON();if(m[0].sizes.impa_term_image)var a=m[0].sizes.impa_term_image.url,r=m[0].sizes.impa_term_image.width,t=m[0].sizes.impa_term_image.height;else var a=m[0].sizes.full.url,r=m[0].sizes.full.width,t=m[0].sizes.full.height;var _="";impa_term_image.min_width>m[0].sizes.full.width&&impa_term_image.min_height>t?_=impa_term_image.min_width_height_error:impa_term_image.max_width<r&&impa_term_image.max_height<t?_=impa_term_image.max_width_height_error:impa_term_image.min_width>m[0].sizes.full.width?_=impa_term_image.min_width_error:impa_term_image.min_height>t?_=impa_term_image.min_height_error:impa_term_image.max_width<r?_=impa_term_image.max_width_error:impa_term_image.max_height<t&&(_=impa_term_image.max_height_error),_?(e(".impa-errors p").text(_),e(".impa-errors").show()):e(".impa-errors").hide(),e("#impa-term-image").val(m[0].id),e(".impa-term-image-url").attr("src",a),e(".impa-add-media-text").hide(),e(".impa-term-image-url, .impa-remove-media").show()}),void i.open())})});