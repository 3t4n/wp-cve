(()=>{"use strict";const e=window.wp.blocks,n=JSON.parse('{"UU":"snow-monkey-forms/control-text"}'),t=window.React,o=window.wp.blockEditor,a=window.wp.components,l=window.wp.compose,r=window.wp.element,s=window.wp.i18n,c=({value:e,onChange:n})=>{const o={};return""===e&&(o.borderColor="#d94f4f"),(0,t.createElement)(a.TextControl,{label:(0,s.__)("name","snow-monkey-forms"),help:(0,s.__)("Required. Input a unique machine-readable name.","snow-monkey-forms"),value:e,onChange:n,required:!0,style:o})},m=({value:e,onChange:n,multiple:o=!1})=>{const l=o?a.TextareaControl:a.TextControl;return(0,t.createElement)(l,{label:(0,s.__)("value","snow-monkey-forms"),help:(0,s.__)("Optional. Initial value.","snow-monkey-forms"),value:e,onChange:n})},i=({value:e,onChange:n})=>(0,t.createElement)(a.TextControl,{label:(0,s.__)("placeholder","snow-monkey-forms"),value:e,onChange:n}),d=({value:e,onChange:n})=>(0,t.createElement)(a.TextControl,{label:(0,s.__)("maxlength","snow-monkey-forms"),help:(0,s.__)("Optional. Maximum number of characters. If 0, not restricted.","snow-monkey-forms"),value:e,onChange:n}),u=({value:e,onChange:n})=>(0,t.createElement)(a.TextControl,{label:(0,s.__)("size","snow-monkey-forms"),help:(0,s.__)("Optional. The width of this item. If 0, not restricted.","snow-monkey-forms"),value:e,onChange:n}),h=({value:e,onChange:n,options:o=[]})=>{const l=1>o.length?["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","email","username","new-password","current-password","one-time-code","organization-title","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-extension","impp","url","photo"].map((e=>({value:e,label:e}))):o;return(0,t.createElement)(a.SelectControl,{label:(0,s.__)("autocomplete","snow-monkey-forms"),value:e,options:l,onChange:n})},p=({value:e,onChange:n})=>(0,t.createElement)(a.TextControl,{label:(0,s.__)("id","snow-monkey-forms"),value:e,onChange:n}),v=({value:e,onChange:n})=>(0,t.createElement)(a.TextControl,{label:(0,s.__)("class","snow-monkey-forms"),help:(0,s.__)("Separate multiple classes with spaces.","snow-monkey-forms"),value:e,onChange:n}),g=window.lodash;function w(e,n){return""===e?0:null!==e.match(/^[0-9]+$/)?parseInt(e):n}const f=(0,l.createHigherOrderComponent)((e=>n=>{const{attributes:l,setAttributes:r}=n,{validations:c}=l;if(void 0===c)return(0,t.createElement)(e,{...n});const m=JSON.parse(c);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,s.__)("Validation","snow-monkey-forms")},(0,t.createElement)(a.ToggleControl,{label:(0,s.__)("Required","snow-monkey-forms"),checked:!!m.required,onChange:e=>{r({validations:JSON.stringify((0,g.merge)(m,{required:e}))})}}))),(0,t.createElement)(e,{...n}))}),"withValidations"),C=(0,l.compose)(f)((({attributes:e,setAttributes:n})=>{const{name:l,value:g,placeholder:f,maxlength:C,size:y,autocomplete:_,id:E,controlClass:b,description:k,isDisplayDescriptionConfirm:x}=e;(0,r.useEffect)((()=>{""===l&&n({name:`text-${((new Date).getTime()+Math.floor(8999*Math.random()+1e3)).toString(32)}`})}));const T=(0,o.useBlockProps)({className:"smf-placeholder"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,s.__)("Attributes","snow-monkey-forms")},(0,t.createElement)(c,{value:l,onChange:e=>n({name:e})}),(0,t.createElement)(m,{value:g,onChange:e=>n({value:e})}),(0,t.createElement)(i,{value:f,onChange:e=>n({placeholder:e})}),(0,t.createElement)(d,{value:C,onChange:e=>{n({maxlength:w(e,C)})}}),(0,t.createElement)(u,{value:y,onChange:e=>{n({size:w(e,y)})}}),(0,t.createElement)(h,{value:_,onChange:e=>n({autocomplete:e})}),(0,t.createElement)(p,{value:E,onChange:e=>n({id:e})}),(0,t.createElement)(v,{value:b,onChange:e=>n({controlClass:e})})),(0,t.createElement)(a.PanelBody,{title:(0,s.__)("Block settings","snow-monkey-forms")},(0,t.createElement)(a.TextControl,{label:(0,s.__)("Description","snow-monkey-forms"),value:k,onChange:e=>n({description:e})}),(0,t.createElement)(a.ToggleControl,{label:(0,s.__)("Description is also displayed on the confirmation screen","snow-monkey-forms"),checked:x,onChange:e=>{n({isDisplayDescriptionConfirm:e})}}))),(0,t.createElement)("div",{...T,"data-name":l},(0,t.createElement)("div",{className:"smf-text-control"},(0,t.createElement)("input",{type:"text",name:l,value:g,placeholder:f,maxLength:C||void 0,size:y||void 0,disabled:"disabled",id:E||void 0,className:`smf-text-control__control ${b}`})),k&&(0,t.createElement)("div",{className:"smf-control-description"},k)))}));(0,e.registerBlockType)(n.UU,{icon:{src:function(){return(0,t.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{color:"#cd162c"}},(0,t.createElement)("path",{d:"m6.30769 12.75h-2.30769v-1.5h2.3077zm3.23077 0h-2.30769v-1.5h2.3077zm3.23074 0h-2.3077v-1.5h2.3077zm-10.7692-5.25c-.27614 0-.5.22386-.5.5v8c0 .2761.22386.5.5.5h20c.2761 0 .5-.2239.5-.5v-8c0-.27614-.2239-.5-.5-.5zm0-1.5c-1.104569 0-2 .89543-2 2v8c0 1.1046.89543 2 2 2h20c1.1046 0 2-.8954 2-2v-8c0-1.10457-.8954-2-2-2z",clipRule:"evenodd",fillRule:"evenodd"}))}},edit:C,save:()=>null})})();