(()=>{"use strict";const e=window.wp.blocks,n=JSON.parse('{"UU":"snow-monkey-forms/control-file"}'),o=window.React,t=window.wp.blockEditor,l=window.wp.components,r=window.wp.compose,a=window.wp.element,s=window.wp.i18n,i=({value:e,onChange:n})=>{const t={};return""===e&&(t.borderColor="#d94f4f"),(0,o.createElement)(l.TextControl,{label:(0,s.__)("name","snow-monkey-forms"),help:(0,s.__)("Required. Input a unique machine-readable name.","snow-monkey-forms"),value:e,onChange:n,required:!0,style:t})},m=({value:e,onChange:n})=>(0,o.createElement)(l.TextControl,{label:(0,s.__)("id","snow-monkey-forms"),value:e,onChange:n}),c=({value:e,onChange:n})=>(0,o.createElement)(l.TextControl,{label:(0,s.__)("class","snow-monkey-forms"),help:(0,s.__)("Separate multiple classes with spaces.","snow-monkey-forms"),value:e,onChange:n}),d=window.lodash,w=(0,r.createHigherOrderComponent)((e=>n=>{const{attributes:r,setAttributes:a}=n,{validations:i}=r;if(void 0===i)return(0,o.createElement)(e,{...n});const m=JSON.parse(i);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.InspectorControls,null,(0,o.createElement)(l.PanelBody,{title:(0,s.__)("Validation","snow-monkey-forms")},(0,o.createElement)(l.ToggleControl,{label:(0,s.__)("Required","snow-monkey-forms"),checked:!!m.required,onChange:e=>{a({validations:JSON.stringify((0,d.merge)(m,{required:e}))})}}))),(0,o.createElement)(e,{...n}))}),"withValidations"),f=(0,r.compose)(w)((({attributes:e,setAttributes:n})=>{const{name:r,id:d,controlClass:w,description:f,isDisplayDescriptionConfirm:u}=e;(0,a.useEffect)((()=>{""===r&&n({name:`file-${((new Date).getTime()+Math.floor(8999*Math.random()+1e3)).toString(32)}`})}));const p=(0,t.useBlockProps)({className:"smf-placeholder"});return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.InspectorControls,null,(0,o.createElement)(l.PanelBody,{title:(0,s.__)("Attributes","snow-monkey-forms")},(0,o.createElement)(i,{value:r,onChange:e=>n({name:e})}),(0,o.createElement)(m,{value:d,onChange:e=>n({id:e})}),(0,o.createElement)(c,{value:w,onChange:e=>n({controlClass:e})})),(0,o.createElement)(l.PanelBody,{title:(0,s.__)("Block settings","snow-monkey-forms")},(0,o.createElement)(l.TextControl,{label:(0,s.__)("Description","snow-monkey-forms"),value:f,onChange:e=>n({description:e})}),(0,o.createElement)(l.ToggleControl,{label:(0,s.__)("Description is also displayed on the confirmation screen","snow-monkey-forms"),checked:u,onChange:e=>{n({isDisplayDescriptionConfirm:e})}}))),(0,o.createElement)("div",{...p,"data-name":r},(0,o.createElement)("div",{className:"smf-file-control"},(0,o.createElement)("label",{htmlFor:d||void 0},(0,o.createElement)("input",{type:"file",name:r,disabled:"disabled",id:d||void 0,className:`smf-file-control__control ${w}`}),(0,o.createElement)("span",{className:"smf-file-control__label"},(0,s.__)("Choose file","snow-monkey-forms")),(0,o.createElement)("span",{className:"smf-file-control__filename"},(0,s.__)("No file chosen","snow-monkey-forms")))),f&&(0,o.createElement)("div",{className:"smf-control-description"},f)))}));(0,e.registerBlockType)(n.UU,{icon:{src:function(){return(0,o.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#cd162c"}},(0,o.createElement)("path",{d:"M12.4542 6.58541L12.6615 7H13.125H19C19.6904 7 20.25 7.55964 20.25 8.25V17.75C20.25 18.4404 19.6904 19 19 19H5C4.30964 19 3.75 18.4404 3.75 17.75V6C3.75 5.30964 4.30964 4.75 5 4.75H10.7639C11.2374 4.75 11.6702 5.0175 11.882 5.44098L12.4542 6.58541Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}))}},edit:f,save:()=>null})})();