(()=>{"use strict";var e=!1,t=!1,n=JSON.parse(BAQEND_VAR.enabled),s=JSON.parse(BAQEND_VAR.exceeded),d=JSON.parse(BAQEND_VAR.logged_in),a=s?BAQEND_LOCAL.sk_limit:BAQEND_LOCAL.sk_text,i=n?s?BAQEND_LOCAL.exceeded:BAQEND_LOCAL.enabled:BAQEND_LOCAL.disabled,o=jQuery('tr[data-slug="baqend"]'),l=o.find(".deactivate"),c=jQuery("#doaction, #doaction2");function r(e,t){return{_ajax_nonce:jQuery("#_wpnonce").val(),action:e,parameter:t||{}}}function u(e,t){return{content:"<h3>"+BAQEND_LOCAL.title+"</h3><p>"+BAQEND_LOCAL.text+'</p><p class="pull-right">  <label for="form-speed-kit-toggle" class="form-speed-kit-toggle-label">    <span class="speed-kit-text">'+a+'</span>    <span class="speed-kit-status '+(e?t?"exceeded":"enabled":"disabled")+'">'+i+"</span>  </label>"+(d?'<input type="checkbox" name="enable" class="toggle '+(t?"exceeded":"")+'" '+(e?"checked":"")+">":"")+"</p>",position:{edge:"left",align:"center"},pointerWidth:350,buttons:function(){}}}function p(){var e=jQuery(".form-speed-kit-toggle-label"),t=e.find(".speed-kit-text"),d=e.find(".speed-kit-status"),a=jQuery(".toggle");n?s&&(t.text(BAQEND_LOCAL.sk_limit),d.addClass("exceeded").text(BAQEND_LOCAL.exceeded)):(t.text(BAQEND_LOCAL.sk_text),d.addClass("disabled").text(BAQEND_LOCAL.disabled)),a.off().on("click",(function(){var e=r("baqend_enable_speed_kit",{enabled:!n});!function(e,t,n){e.text(BAQEND_LOCAL.pending),n?(t.removeClass("disabled").addClass("enabled"),t.text(BAQEND_LOCAL.activated)):(t.removeClass("exceeded").removeClass("enabled"),t.addClass("disabled").text(BAQEND_LOCAL.disabled),t.text(BAQEND_LOCAL.deactivated))}(t,d,!n),jQuery.post("admin-ajax.php",e).then((function(){var e,a;(n=!n)?(e=t,(a=d).removeClass("disabled"),s?(e.text(BAQEND_LOCAL.sk_limit),a.addClass("exceeded").text(BAQEND_LOCAL.exceeded),a.text(BAQEND_LOCAL.exceeded)):(e.text(BAQEND_LOCAL.sk_text),a.addClass("enabled").text(BAQEND_LOCAL.enabled),a.text(BAQEND_LOCAL.enabled))):function(e,t){e.text(BAQEND_LOCAL.sk_text),t.removeClass("exceeded").removeClass("enabled"),t.addClass("disabled").text(BAQEND_LOCAL.disabled),t.text(BAQEND_LOCAL.disabled)}(t,d)}))}))}function A(){jQuery(".wp-pointer").css("display","none"),jQuery(".wp-pointer").on("mouseenter",(function(){jQuery(this).css("display","block")})),jQuery(".wp-pointer").on("mouseleave",(function(){jQuery(".wp-pointer").css("display","none")}))}jQuery((function(){var e=r("baqend_get_speed_kit_status");jQuery.post("admin-ajax.php",e).then((function(e){s=e.exceeded,n=e.speedkit}))})),o.find('input[type="checkbox"]').on("click",(function(){e=jQuery(this).is(":checked")})),jQuery("#bulk-action-selector-top, #bulk-action-selector-bottom").on("click",(function(){t="deactivate-selected"===jQuery(this).val()||"delete-selected"===jQuery(this).val()})),c.on({mouseenter:function(){t&&e&&(jQuery(this).pointer(u(n,s)).pointer("open"),p())},mouseleave:function(){A()}}),l.on({mouseenter:function(){jQuery(this).pointer(u(n,s)).pointer("open"),p()},mouseleave:function(){A()}})})();