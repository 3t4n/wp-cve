(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1099:function(t,e,n){},1151:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n(2),r=n(248),i=n(819),c=n(806),u=n(138),s=n(68),l=n(5),m=n(93),f=n(3),p=(n(1099),n(67)),b=n(38),g=n(250),d=n(802),O=n(134),j=n(9),y=n.n(j),h=n(92);function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==c.return||c.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}e.default=function(t){var e=t.match.params.automationId,n=t.isV2,j=void 0===n||n,v=Object(c.a)(),P=v.getConversionData(),_=v.getConversionAutomation(),C=(_.v,_.title),k=void 0===C?"":C,E=Object(O.a)(),A=E.setL2NavAlign,L=E.setL2Title,S=Object(u.a)(),I=S.getAutomationData,D=S.getAutomationId,T=I().title,N=void 0===T?"":T,R=D();Object(d.a)("orders","",!0,!1,null,e,!1,j);var F=w(Object(a.useState)(!0),2),x=F[0],V=F[1],M=v.getConversionLoading(),G=v.getConversionLimit(),H=v.getConversionOffset(),$=v.getConversionTotal(),q=Object(i.a)(),J=q.fetchConversion,B=q.setConversionValues,U=Object(s.a)(Object(l.Y)()).formatAmount;Object(a.useEffect)((function(){L(parseInt(e)===parseInt(R)&&""!==N&&""===k?N:""!==k?k:Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))}),[N,k,e]),Object(a.useEffect)((function(){Object(l.nb)()&&J(e,G,H)}),[G,H]),Object(a.useEffect)((function(){A("left"),Object(l.g)("Automation #"+e)}),[M]);var Q=[{key:"orderid",label:Object(o.__)("Order ID","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-120"},{key:"contact",label:Object(o.__)("Contact","wp-marketing-automations"),required:!0,cellClassName:"bwf-crm-col-contact"},{key:"purchaseitems",label:Object(o.__)("Purchased Items","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details bwf-w-270"},{key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210"},{key:"date",label:Object(o.__)("Date","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-270"}],W=v.getConversionPage(),Y=function(t){t!==G&&(B("limit",t),B("offset",0))},z=function(t){return Object(a.createElement)(a.Fragment,null,Object(l.nb)()?Object(a.createElement)(b.a,{href:"admin.php?page=autonami&path=/contact/"+t.cid,type:"bwf-crm",className:"bwf-crm-campaign-order-contact-link bwf-a-no-underline",key:t.cid},Object(a.createElement)(g.a,{contact:t,date:t.date,dateText:Object(o.__)("Placed on","wp-marketing-automations")})):Object(a.createElement)(g.a,{contact:t,date:t.date,dateText:Object(o.__)("Placed on","wp-marketing-automations")})," ")},K=function(t){return t.hasOwnProperty("order_deleted")&&t.order_deleted?Object(a.createElement)(a.Fragment,null,"#"+t.wcid):Object(a.createElement)(a.Fragment,null,Object(l.nb)()?Object(a.createElement)("a",{target:"_blank",className:"bwf-a-no-underline",href:"post.php?post="+t.wcid+"&action=edit",rel:"noreferrer"},"#"+t.wcid):Object(a.createElement)(a.Fragment,null,"#"+t.wcid))},X=[{ID:"1",wcid:"1",cid:"1",trackid:"1",oid:"1",otype:"1",wctotal:"12.00",date:y()().format(),f_name:"John",l_name:"Doe",email:"johndoe@gmail.com",status:"completed",items:{176:"Test Product 1",172:"Test Product 2"},currency:{code:"USD",precision:2,symbol:"$",symbolPosition:"left",decimalSeparator:".",thousandSeparator:",",priceFormat:"%1$s%2$s"}}];return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{dangerouslySetInnerHTML:{__html:"<style>#bwfcrm-page{ overflow: auto !important; }</style>"}}),Object(a.createElement)(p.a,null),Object(a.createElement)(r.a,{className:"bwf-crm-campaign-report-conversion",rows:(Object(l.nb)()?P:X).map((function(t){return[{display:t.hasOwnProperty("wcid")?K(t):"-",value:t.hasOwnProperty("wcid")?t.wcid:"-"},{display:z(t),value:t.hasOwnProperty("contact_name")?t.contact_name:"-"},{display:t.hasOwnProperty("items")?(n=t.items,r="",i=[],Object.entries(n).map((function(t){var e=w(t,2),n=e[0],o=e[1];Object(f.isEmpty)(r)&&(r=Object(l.nb)()?Object(a.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?action=edit&post="+n,rel:"noreferrer"},o):o),i.push(Object(l.nb)()?Object(a.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?action=edit&post="+n,rel:"noreferrer"},o):o)})),Object(a.createElement)(a.Fragment,null,Object(f.isEmpty)(r)?"-":r,!Object(f.isEmpty)(i)&&i.length>1&&Object(a.createElement)(m.a,{items:i}))):Object(o.__)("Order Deleted","wp-marketing-automations"),value:"purchase_item"},{display:(e=t,e.hasOwnProperty("wctotal")?e.hasOwnProperty("currency")?Object(s.a)(e.currency).formatAmount(e.wctotal):U(e.wctotal):"-"),value:t.hasOwnProperty("wctotal")?t.wctotal:0},{display:t.hasOwnProperty("date")?Object(l.N)(t.date):"-",value:t.hasOwnProperty("date")?t.date:"-"}];var e,n,r,i})),headers:Q,query:{paged:W},rowsPerPage:G,totalRows:Object(l.nb)()?$:[],isLoading:!!Object(l.nb)()&&M,onPageChange:function(t){B("offset",(t-1)*G)},onQueryChange:function(t){return"per_page"!==t?function(){}:Y},rowHeader:!0,showMenu:!1,emptyMessage:Object(o.__)("No orders found","wp-marketing-automations"),hideHeader:"yes"}),!Object(l.nb)()&&Object(a.createElement)(h.a,{isOpen:x,onRequestClose:function(){return V(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(o.__)("Try Demo","wp-marketing-automations")}}))}},802:function(t,e,n){"use strict";var a=n(0),o=n(134),r=n(2),i=n(5),c=n(51),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={workflow:{name:Object(r.__)("Workflow","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t):"admin.php?page=autonami-automations&edit=".concat(t)}};return e&&(n.analytics={name:Object(r.__)("Analytics","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/analytics"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/analytics"),isProFeature:!0,showOnClick:!0},n.contacts={name:Object(r.__)("Contacts","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/contacts"),isProFeature:!0,showOnClick:!0}),n.engagement={name:Object(r.__)("Engagements","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/engagements"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/engagements"),isProFeature:!0,showOnClick:!0},Object(i.yb)()&&(n.orders={name:Object(r.__)("Orders","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/orders"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/orders"),isProFeature:!0,showOnClick:!0}),n};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},g=b.automation_nav,d=b.automationv2_nav,O=Object(o.a)(),j=O.setActiveMultiple,y=O.resetHeaderMenu,h=O.setL2NavType,w=O.setL2Nav,v=O.setBackLink,P=O.setL2Title,_=O.setL2Content,C=O.setBackLinkLabel,k=O.setL2NavAlign,E=O.setPageHeader;return Object(a.useEffect)((function(){y(),!i&&h("menu"),p||w(l?u(l,f):f?d:g),j({leftNav:f?"automations-v2":"automations-v1",rightNav:t}),n&&v(n),l&&v(n&&!f?"admin.php?page=autonami&path=/automations-v1":"admin.php?page=autonami&path=/automations"),i||f&&l&&C(Object(r.__)("All Automations","wp-marketing-automations-crm")),!f&&l&&C(Object(r.__)("All Automations","wp-marketing-automations")),l&&k("left"),e&&P(e),!n&&s&&_(s),E(f?"Automations":Object(a.createElement)(a.Fragment,null,"Automations",Object(a.createElement)(c.a,{label:"Legacy"}))),m&&w({})}),[t,f,p]),!0}},806:function(t,e,n){"use strict";var a=n(136),o=n(94);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(a.a)("automationList"),e=t.getStateProp,n=u(t,["getStateProp"]),r=Object(a.a)(o.a.recipient).getStateProp,c=Object(a.a)(o.a.conversion).getStateProp,s=Object(a.a)(o.a.contacts).getStateProp,l=Object(a.a)(o.a.analytics).getStateProp;return i(i({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return r("data")},getRecipientLoading:function(){return r("isLoading")},getRecipientOffset:function(){return r("offset")},getRecipientAutomationId:function(){return r("automationId")},getRecipientTotal:function(){return r("total")},getRecipientAutomation:function(){return r("automation")},getRecipientPage:function(){return parseInt(r("offset"))/parseInt(r("limit"))+1},getRecipientLimit:function(){return r("limit")},getConversionData:function(){return c("data")},getConversionLoading:function(){return c("isLoading")},getConversionOffset:function(){return c("offset")},getConversionAutomationId:function(){return c("automationId")},getConversionTotal:function(){return c("total")},getConversionAutomation:function(){return c("automation")},getConversionPage:function(){return parseInt(c("offset"))/parseInt(c("limit"))+1},getConversionLimit:function(){return c("limit")},getCountData:function(){return e("countData")},getContactData:function(){return s("data")},getContactLoading:function(){return s("isLoading")},getContactOffset:function(){return s("offset")},getContactAutomationId:function(){return s("automationId")},getContactTotal:function(){return s("total")},getContactAutomation:function(){return s("automation")},getContactPage:function(){return parseInt(s("offset"))/parseInt(s("limit"))+1},getContactLimit:function(){return s("limit")},getContactCountData:function(){return s("contactCount")},getAnalyticsData:function(){return l("analytics")},getAnalyticsTileData:function(){return l("tiles")},getAnalyticsTableData:function(){return l("tableData")},getAnalyticsLoading:function(){return l("isLoading")},getAnalyticsType:function(){return l("type")},getAnalyticsAutomationData:function(){return l("automation")}})}},819:function(t,e,n){"use strict";var a=n(137),o=n(5),r=n(94),i=n(17);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(a.a)("automationList"),e=t.fetch,n=t.setStateProp,c=l(t,["fetch","setStateProp"]),s=Object(a.a)(r.a.recipient),m=s.fetch,f=s.setStateProp,p=Object(a.a)(r.a.conversion),b=p.fetch,g=p.setStateProp,d=Object(a.a)(r.a.contacts),O=d.fetch,j=d.setStateProp,y=Object(a.a)(r.a.analytics),h=y.fetch,w=y.setStateProp;return u(u({},c),{},{fetch:function(t,a,r,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var u=a.s,s=(a.page,a.filter,a.path,l(a,["s","page","filter","path"])),m={offset:r,limit:i,status:t,search:u,filters:s,version:c?2:1};e("GET",Object(o.m)("/automations"),m)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){m("GET",Object(o.m)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){f(t,e)},fetchConversion:function(t,e,n){g("automation",{}),b("GET",Object(o.m)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){g(t,e)},fetchContacts:function(t,e,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";j("automation",{}),O("GET",Object(o.m)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(a,"&search=").concat(r)))},setContactValues:function(t,e){j(t,e)},fetchAnalytics:function(t,e,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=0;4===parseInt(c)&&(u=1),h("GET",Object(o.m)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:n,interval:a,oid:t,type:r,mode:c,contact:u}))},setAnalyticsValues:function(t,e){w(t,e)}})}}}]);