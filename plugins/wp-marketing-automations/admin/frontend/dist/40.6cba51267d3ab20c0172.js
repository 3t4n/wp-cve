(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1194:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(805),n=a(796),i=a(3),l=a(5),o=a(134),s=a(2),b=a(266),m=a(4),f=a(824),d=function(){var e=n.a.getLisData,t=(void 0===e?{}:e)().title,a=void 0===t?"":t;Object(f.a)("",""!=a?a:Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),!0,!1,!1,1);var c=function(){return Object(r.createElement)("div",{className:"bwf-campaign-step-div bwf-card-wrap bwf-campaign-step-1"},Object(r.createElement)("div",{className:"bwf-card-header",key:1},Object(r.createElement)("span",{className:"bwf-form-title"},Object(s.__)("Information","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-card-bg-wrap",key:2},Object(r.createElement)("p",{className:"bwf-c-input-label"},Object(r.createElement)("span",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-100p"}),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",null,Object(r.createElement)(m.Flex,{gap:5,justify:"start",align:"start"},Object(r.createElement)(m.FlexItem,null,Object(r.createElement)("p",{className:"bwf-c-input-label"},Object(r.createElement)("span",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120 bwf-mr-10"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120"})))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-240"}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-display-flex-column gap-10"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-10 bwf-w-300"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-10 bwf-w-360"})),Object(r.createElement)("div",{className:"bwf_clear_10"})),Object(r.createElement)("div",{className:"bwf_clear_20",key:3}),Object(r.createElement)("div",{className:"bwf-crm-stepper-navigation bwf_text_right",key:4},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-150"})))},i=[{key:1,label:Object(s.__)("Information","wp-marketing-automations"),content:c()},{key:2,label:Object(s.__)("Contacts","wp-marketing-automations"),content:c()},{key:3,label:Object(s.__)("Content","wp-marketing-automations"),content:c()},{key:4,label:Object(s.__)("Review","wp-marketing-automations"),content:c()}];return Object(r.createElement)("div",{"data-step":1},Object(r.createElement)(b.a,{steps:i,currentStep:1,isPending:!1}))},p=a(259),u=(a(885),function(){var e=n.a.getLisData,t=(void 0===e?{}:e)().title,a=void 0===t?"":t;Object(f.a)("overview",""!=a?a:Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),!0,!0,!1,1);return Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(m.Card,{className:"bwf-crm-campaign-stats-overview"},Object(r.createElement)(m.CardHeader,{className:"bwf-crm-overview-report-header"},Object(r.createElement)("span",{className:"bwf-form-title"},Object(s.__)("Overview","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-display-flex"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-60"}))),Object(r.createElement)(m.CardBody,{className:"bwf-crm-campaign-stats-overview-card bwf-crm-hide-delta"},Object(r.createElement)(p.a,{numberOfItems:5,hideDelta:!0})),Object(r.createElement)(m.CardFooter,null,Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(m.Card,{className:"bwf-crm-overview-detail-wrap"},Object(r.createElement)(m.CardHeader,{className:"bwf-crm-overview-report-header"},Object(r.createElement)("span",{className:"bwf-form-title"},Object(s.__)("Details","wp-marketing-automations"))),Object(r.createElement)(m.CardBody,null,Object(r.createElement)("div",{className:"bwf-report-row",key:1},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"}))),Object(r.createElement)("div",{className:"bwf-report-row",key:2},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"}))),Object(r.createElement)("div",{className:"bwf-report-row",key:4},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"}))),Object(r.createElement)("div",{className:"bwf-report-row",key:5},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"}))),Object(r.createElement)("div",{className:"bwf-report-row",key:6},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"}))),Object(r.createElement)("div",{className:"bwf-report-row",key:7},Object(r.createElement)("div",{className:"bwf-report-row-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-report-row-value bwf-report-value-modal bwf-display-flex-column gap-20"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120"}))))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(m.Card,{className:"bwf-crm-overview-detail-wrap bwf-card-display-block"},Object(r.createElement)(m.CardHeader,{className:"bwf-crm-overview-report-header"},Object(s.__)("Actions","wp-marketing-automations")),Object(r.createElement)(m.CardBody,null,Object(r.createElement)("div",{className:"bwf-report-row",key:1},Object(r.createElement)("div",{className:"bwf-report-row-label bwf-report-row-full bwf-display-flex-column gap-10"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-90"}))))))}),w=a(15),O=a(886),j=Object(r.lazy)((function(){return a.e(67).then(a.bind(null,1164))})),v=Object(r.lazy)((function(){return a.e(70).then(a.bind(null,1165))}));t.default=function(e){var t=Object(w.i)(),a=e.match.params.id,s=Object(c.a)(),b=s.fetch,m=s.setCampaignValues,f=s.setEditableMode,p=Object(o.a)().setL2Title,g=n.a.getLoading(),E=n.a.getCampaignData(),h=n.a.getEditableMode(),y=n.a.getLisData(),N=y.status,_=void 0===N?1:N;Object(r.useEffect)((function(){return Object(l.g)("Broadcast #"+a),parseInt(a)>0?(m("isLoading",!0),b(a),m("campaignId",a)):(m("data",{}),m("isLoading",!1),m("step",1)),t.edit&&f(!0),function(){f(!1),m("listData",{}),m("data",{})}}),[]),Object(r.useEffect)((function(){p(g?!g&&"title"in E&&""!=E.title?E.title:y.hasOwnProperty("title")&&""!=y.title?y.title:Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}):Object(r.createElement)(r.Fragment,null,E.title,!!E&&Object(r.createElement)(O.a,{broadcast:E})))}),[g,E,y]),Object(r.useEffect)((function(){return function(){m("data",[]),m("step",0),m("campaignId",0),m("isLoading",!0),m("editableMode",!1),m("listData",{})}}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-campaign-wrapper"},g?parseInt(_)>1?Object(r.createElement)(u,null):Object(r.createElement)(d,null):!Object(i.isEmpty)(E)&&E.hasOwnProperty("status")&&E.status>1&&!h?Object(r.createElement)(v,{campaignId:a}):Object(r.createElement)(j,e)))}},796:function(e,t,a){"use strict";var r=a(136),c=a(269),n=Object(r.a)(c.a.campaign).getStateProp,i=Object(r.a)(c.a.recipient).getStateProp,l=Object(r.a)(c.a.conversion).getStateProp;t.a={getCampaignData:function(){return n("data")},getStep:function(){return parseInt(n("step"))},getLoading:function(){return n("isLoading")},getLisData:function(){return n("listData")},getCampaignId:function(){return parseInt(n("campaignId"))},getRecipientData:function(){return i("data")},getRecipientLoading:function(){return i("isLoading")},getRecipientCampaignId:function(){return i("campaignId")},getRecipientTotal:function(){return i("total")},getRecipientPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getRecipientOffset:function(){return i("offset")},getRecipientLimit:function(){return i("limit")},getConversionData:function(){return l("data")},getConversionLoading:function(){return l("isLoading")},getConversionOffset:function(){return l("offset")},getConversionCampaignId:function(){return l("campaignId")},getConversionTotal:function(){return l("total")},getConversionPage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getConversionLimit:function(){return l("limit")},getExcludes:function(){var e=n("data");return e&&e.data&&Array.isArray(e.data.exclude)?e.data.exclude:[]},getEditableMode:function(){return n("editableMode")}}},805:function(e,t,a){"use strict";var r=a(137),c=a(5),n=a(269),i=a(796);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=function(){var e=Object(r.a)(n.a.campaign),t=e.fetch,a=e.setStateProp,l=Object(r.a)(n.a.recipient),s=l.fetch,b=l.setStateProp,m=Object(r.a)(n.a.conversion),f=m.fetch,d=m.setStateProp,p=i.a.getCampaignData();return{fetch:function(e){t("GET",Object(c.m)("/broadcast/".concat(e)))},setCampaignValues:function(e,t){a(e,t)},fetchRecipient:function(e,t,a){s("GET",Object(c.m)("/broadcasts/".concat(e,"/recipients?limit=").concat(t,"&offset=").concat(a)))},setRecipientsValues:function(e,t){b(e,t)},fetchConversion:function(e,t,a){f("GET",Object(c.m)("/broadcasts/".concat(e,"/conversions?limit=").concat(t,"&offset=").concat(a)))},setConversionValues:function(e,t){d(e,t)},setExclude:function(e){a("data",o(o({},p),{},{data:o(o({},p.data),{},{exclude:e})}))},resetCampaign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a("data",e),a("step",1),a("campaignId",e.id),a("isLoading",!1),a("editableMode",!1)},setEditableMode:function(e){a("editableMode",e)}}}},824:function(e,t,a){"use strict";var r=a(0),c=a(134),n=a(2),i=a(15),l=a(17),o=a(796),s=a(5),b=function(e,t,a){return decodeURIComponent(Object(i.f)(e,t,a))};t.a=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=location&&location.search?Object(l.parse)(location.search.substring(1)):{},d=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},p=d.broadcasts_nav,u=o.a.getCampaignData(),w=o.a.getCampaignId(),O=o.a.getLoading(),j={overview:{name:Object(n.__)("Overview","wp-marketing-automations"),link:b({},"/broadcast/".concat(w,"/overview"),f)},analytics:{name:Object(n.__)("Analytics","wp-marketing-automations"),link:b({},"/broadcast/".concat(w,"/analytics"),f)},recipient:{name:Object(n.__)("Engagements","wp-marketing-automations"),link:b({},"/broadcast/".concat(w,"/engagements"),f)}};Object(s.yb)()&&(j.orders={name:Object(n.__)("Orders","wp-marketing-automations"),link:b({},"/broadcast/".concat(w,"/orders"),f)});var v=Object(c.a)(),g=v.setActiveMultiple,E=v.resetHeaderMenu,h=v.setL2NavType,y=v.setL2Nav,N=v.setBackLink,_=v.setL2Title,k=v.setL2Content,C=v.setBackLinkLabel,P=v.setL2NavAlign,L=v.setPageHeader;return Object(r.useEffect)((function(){E(),a?(h("menu"),y(j)):(!t&&h("menu"),!t&&y(p)),g({leftNav:"broadcasts",rightNav:e}),t&&1===m&&(C("Email Broadcasts"),N(b({},"/broadcasts/email",f))),t&&2===m&&(C("SMS Broadcasts"),N(b({},"/broadcasts/sms",f))),t&&3===m&&(C("WhatsApp Broadcasts"),N(b({},"/broadcasts/whatsapp",f))),!O&&a&&_(Object(r.createElement)(r.Fragment,null,u.title)),a&&P("left"),!t&&i&&k(i),L("Broadcasts")}),[e,m]),!0}},885:function(e,t,a){},886:function(e,t,a){"use strict";var r=a(0),c=a(4),n=a(3),i=a(2),l=a(10),o=a.n(l),s=a(5),b=a(805),m=a(8),f=a(796);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t,a,r,c,n,i){try{var l=e[n](i),o=l.value}catch(e){return void a(e)}l.done?t(o):Promise.resolve(o).then(r,c)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,c=!1,n=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){c=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(c)throw n}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=function(e){var t=e.broadcast,a=Object(r.useContext)(s.d),l=O(Object(r.useState)(!1),2),d=l[0],u=l[1],j=O(Object(r.useState)(""),2),v=j[0],g=j[1],E=O(Object(r.useState)(!1),2),h=E[0],y=E[1],N=O(Object(r.useState)(!1),2),_=N[0],k=N[1],C=Object(b.a)().setCampaignValues;Object(r.useEffect)((function(){t&&t.title&&g(t.title)}),[]);var P=f.a.getExcludes(),L=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),!Object(n.isEmpty)(v)){e.next=5;break}a(Object(i.__)("Name is required.","wp-marketing-automations")),e.next=14;break;case 5:return e.prev=5,e.next=8,o()({path:Object(s.m)("/broadcast/".concat(t.id)),method:"POST",data:{data:{title:v,description:t.description,type:t.type,promotional:!(t.data&&t.data.hasOwnProperty("is_promotional")&&!Object(n.isNull)(t.data.is_promotional))||t.data.is_promotional,ab_type:t.data&&t.data.hasOwnProperty("ab_type")&&!Object(n.isNull)(t.data.ab_type)?t.data.ab_type:"standard",exclude:P},step:1},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!=e.code)throw Error(Object(s.j)(null==e?void 0:e.message));C("data",p(p({},t),{},{title:e.result.title,description:e.result.description,type:e.result.type,data:e.result.data})),a(e.message),setTimeout((function(){u(!1)}),1e3)}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),y(e.t0.message),k(!1);case 14:Object(s.gb)(a,2e3);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})),function(){var t=this,a=arguments;return new Promise((function(r,c){var n=e.apply(t,a);function i(e){w(n,r,c,i,l,"next",e)}function l(e){w(n,r,c,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{onClick:function(){return u(!0)},style:{cursor:"pointer",lineHeight:0,marginLeft:"5px"},className:"bwf-hover-primary"},Object(r.createElement)(m.a,{icon:"edit",size:16,color:"#353030"})),d&&Object(r.createElement)(c.Modal,{onRequestClose:function(){return u(!1)},className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(i.__)("Edit Broadcast","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){return u(!1)},className:"bwf-modal-close"},Object(r.createElement)(m.a,{icon:"close",color:"#353030"}))),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"===e.key&&(Object(n.isEmpty)(v)?y(!0):L())}},h&&Object(r.createElement)(c.Notice,{status:"error",onRemove:function(){return y("")}},h),Object(r.createElement)(c.TextControl,{type:"text",label:Object(i.__)("Name"),value:v,autoFocus:!0,placeholder:Object(i.__)("Enter Name","wp-marketing-automations"),disabled:_,onChange:function(e){g(e),Object(n.isEmpty)(e)?y(Object(i.__)("Name is required","wp-marketing-automations")):y(!1)}}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons",style:{marginTop:"24px"}},Object(r.createElement)(c.Button,{isPrimary:!0,onClick:function(){Object(n.isEmpty)(v)?y(!0):L()},isBusy:_},Object(i.__)("Update","wp-marketing-automations"))))))}}}]);