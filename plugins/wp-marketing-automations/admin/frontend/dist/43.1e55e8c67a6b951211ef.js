(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1113:function(t,e,n){},1203:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(266),c=n(5),i=n(2),o=n(15),u=n(134),l=n(815),s=n(820),b=n(4),f=n(10),m=n.n(f),p=n(3),O=n(8);function d(t,e,n,r,a,c,i){try{var o=t[c](i),u=o.value}catch(t){return void n(t)}o.done?e(u):Promise.resolve(u).then(r,a)}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,c=t}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=function(t){var e=t.bulkActionId,n=Object(r.useContext)(c.d),a=j(Object(r.useState)(!1),2),o=a[0],u=a[1],f=j(Object(r.useState)(""),2),g=f[0],v=f[1],y=j(Object(r.useState)(!1),2),w=y[0],h=y[1],k=Object(s.a)(),E=k.getSingleBulkActionData,P=k.getlistData,S=Object(l.a)().setSingleBulkActionValue,A=E(),_=P(),N=A.title,I=void 0===N?"":N,B=A.status,L=void 0===B?0:B,D=j(Object(r.useState)(I),2),C=D[0],x=D[1];Object(r.useEffect)((function(){""==I&&_.hasOwnProperty("title")&&""!=_.title?x(_.title):x(I)}),[I]),Object(r.useEffect)((function(){u(!1),v("")}),[w]);var T=function(){var t,r=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),v(""),t.prev=2,t.next=5,m()({path:Object(c.m)("/bulk-action/".concat(e)),method:"POST",data:{title:C}}).then((function(t){if(200!=t.code)throw Error(Object(c.j)(null==t?void 0:t.message));t.hasOwnProperty("result")&&!Object(p.isEmpty)(t.result)&&S("data",t.result),n(t.hasOwnProperty("message")?t.message:"Successfully updated bulk action title."),setTimeout((function(){h(!1)}),1e3)})).catch((function(t){throw Error(Object(c.j)(null==t?void 0:t.message))}));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),u(!1),v(t.t0.message);case 11:Object(c.gb)(n,1e3);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(t){d(c,r,a,i,o,"next",t)}function o(t){d(c,r,a,i,o,"throw",t)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),z=function(){Object(p.isEmpty)(C)?v(Object(i.__)("Name is required.","wp-marketing-automations-crm")):(v(""),T())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{onClick:function(){return h(!0)},className:"bwf-display-flex"},""==I?_.hasOwnProperty("title")&&""!=_.title?_.title:Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}):I,""!=I&&![1,2,3].includes(parseInt(L))&&Object(r.createElement)("span",{style:{cursor:"pointer",lineHeight:0,marginLeft:"5px"},className:"bwf-hover-primary"},Object(r.createElement)(O.a,{icon:"edit",size:16,color:"#353030"}))),![1,2,3].includes(parseInt(L))&&w&&Object(r.createElement)(b.Modal,{title:"Edit Bulk Action",className:"bwf-admin-modal bwf-admin-modal-squeezy",onRequestClose:function(){return h(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(t){"Enter"==t.key&&z()}},g&&Object(r.createElement)(b.Notice,{status:"error",onRemove:function(){return v("")}},g),Object(r.createElement)(b.TextControl,{placeholder:Object(i.__)("Enter Name","wp-marketing-automations-crm"),autoFocus:!0,label:Object(i.__)("Name"),value:C,onChange:function(t){return x(t)},disabled:o}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(b.Button,{onClick:function(){return h(!1)},className:"bwf-cancel-btn",disabled:o},Object(i.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(b.Button,{isPrimary:!0,isBusy:o,onClick:function(){z()}},Object(i.__)("Update","wp-marketing-automations-crm"))))))},y=(n(1113),n(800));function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,c=t}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(8)]).then(n.bind(null,1204))})),E=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,1205))})),P=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,1166))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,1167))})),A=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,1168))}));e.default=function(t){var e=t.match.params.id,n=Object(o.i)(),f=Object(u.a)(),m=f.setBackLink,O=f.setBackLinkLabel,d=f.setL2Nav,j=f.setL2Title;Object(y.a)("contacts","admin.php?page=autonami&path=/bulk-actions",Object(i.__)("Bulk Actions","wp-marketing-automations-crm"),"",{});var g=Object(l.a)(),h=g.fetchSingleBulkAction,_=g.setSingleBulkActionValue;Object(r.useEffect)((function(){return Object(c.g)("Bulk Action #"+e),d(""),m(Object(o.f)({},"/bulk-actions",n)),O(Object(i.__)("All Bulk Actions","wp-marketing-automations-crm")),j(Object(r.createElement)(v,{bulkActionId:e})),h(e),function(){_("data",{}),_("listData",{})}}),[]);var N=Object(s.a)(),I=N.getSingleBulkActionLoad,B=N.getSingleBulkActionData,L=N.getlistData,D=I(),C=B();Object(r.useEffect)((function(){D||Object(p.isEmpty)(C)||_("listData",C)}),[C]);var x=L().status,T=void 0===x?"":x;Object(r.useEffect)((function(){D||1!==parseInt(T)||R(3)}),[T]);var z=w(Object(r.useState)(1),2),M=z[0],R=z[1],H=w(Object(r.useState)(!1),2),V=H[0],q=H[1];if(D&&""===T)return Object(r.createElement)("div",{className:"bwf-crm-bulk-action-init"},Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(b.Card,{className:"bwf-bulk-action-overview-wrap"},Object(r.createElement)(b.CardHeader,{className:"bwf-bulk-action-overview-header"},Object(r.createElement)("div",{className:"bwf-bulk-action-overview-header-title"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"}))),Object(r.createElement)(b.CardBody,null,[1,2,3,4,5,6,7,8,9].map((function(t){return Object(r.createElement)("div",{className:"bwf-bulk-action-overview-list",key:t},Object(r.createElement)("div",{className:"bwf-bulk-action-overview-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"})),Object(r.createElement)("div",{className:"bwf-bulk-action-overview-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-300"})))}))))));var F=function(t){switch(t){case 1:return Object(r.createElement)(k,{bulkActionId:e,setStep:R,setPending:q,isPending:V});case 2:return Object(r.createElement)(E,{bulkActionId:e,setStep:R,setPending:q,isPending:V});case 3:return Object(r.createElement)(P,{bulkActionId:e,setStep:R,isPending:V,setPending:q});case 4:return Object(r.createElement)(S,{bulkActionId:e,setStep:R,setPending:q})}},G=[{key:1,label:Object(i.__)("Contacts","wp-marketing-automations-crm"),content:F(1)},{key:2,label:Object(i.__)("Actions","wp-marketing-automations-crm"),content:F(2)},{key:3,label:Object(i.__)("Review","wp-marketing-automations-crm"),content:F(3)}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-crm-bulk-action-init"},parseInt(T)>1?Object(r.createElement)(A,{bulkActionId:e,isLoading:D}):1===parseInt(T)?Object(r.createElement)(S,{bulkActionId:e,setStep:R,setPending:q}):Object(r.createElement)(a.a,{steps:G,currentStep:M,isPending:V})))}},800:function(t,e,n){"use strict";var r=n(134),a=n(0),c=n(2);e.a=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},u=Object(r.a)(),l=u.setActiveMultiple,s=u.resetHeaderMenu,b=u.setL2NavType,f=u.setL2Nav,m=u.setBackLink,p=u.setL2Title,O=u.setL2Content,d=u.setBackLinkLabel,j=u.setPageHeader;return Object(a.useEffect)((function(){s(),!e&&b("menu"),!e&&f(o.contacts_nav),l({leftNav:"contacts",rightNav:t}),e&&m(e),e&&d("All Contacts"),n&&p(n),n&&"Export"===n&&(i&&O(i),b("menu"),f({export:{name:Object(c.__)("All","wp-marketing-automations"),link:"admin.php?page=autonami&path=/export"}})),!e&&i&&O(i),j("Contacts")}),[t,n]),!0}},815:function(t,e,n){"use strict";var r=n(137),a=n(5);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.fetch,n=t.setStateProp,c=u(t,["fetch","setStateProp"]),o=Object(r.a)("singleBulkActionData"),l=o.fetch,s=o.setStateProp;return i(i({},c),{},{fetchAll:function(t,n,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.s,o={offset:n,limit:r,search:i,status:c};e("GET",Object(a.m)("/bulk-actions"),o)},setBulkActionListValues:function(t,e){n(t,e)},fetchSingleBulkAction:function(t){s("data",{}),l("GET",Object(a.m)("/bulk-action/".concat(t)))},setSingleBulkActionValue:function(t,e){s(t,e)}})}},820:function(t,e,n){"use strict";var r=n(136);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.getStateProp,n=o(t,["getStateProp"]),a=Object(r.a)("singleBulkActionData"),i=a.getStateProp,u=a.getLoading;return c(c({},n),{},{getAllLists:function(){return e("data")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getPageOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total_count"))},getCountData:function(){return e("count_data")},getActions:function(){return e("actions")},getStatusCount:function(){return e("statusCount")},getSingleBulkActionLoad:function(){return u()},getSingleBulkActionData:function(){return i("data")},getActionList:function(){return i("actionList")},getActionSchemaList:function(){return i("actionSchema")},getActionGroup:function(){return i("groupData")},getlistData:function(){return i("listData")}})}}}]);