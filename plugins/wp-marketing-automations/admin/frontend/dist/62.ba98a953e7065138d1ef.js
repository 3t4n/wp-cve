(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1094:function(e,t,n){},1150:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(818),o=n(5),c=n(10),i=n.n(c),l=n(4),s=n(2),u=(n(1094),n(3)),f=n(135);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=Object(r.useContext)(o.d),t=O(Object(r.useState)(""),2),n=t[0],c=t[1],m=O(Object(r.useState)(""),2),g=m[0],d=m[1],j=O(Object(r.useState)([]),2),w=j[0],h=j[1],v=O(Object(r.useState)(!0),2),y=v[0],E=v[1],_=O(Object(r.useState)(!1),2),k=_[0],S=_[1],C=O(Object(r.useState)({}),2),D=C[0],N=C[1];Object(a.a)("logs",!1,""),Object(o.g)("Logs");var P=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,i()({path:Object(o.m)("/settings/log-files"),method:"GET"}).then((function(e){200===e.code&&(h(e.result),E(!1))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),E(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){p(o,r,a,c,i,"next",e)}function i(e){p(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();if(Object(r.useEffect)((function(){P(),c(""),d("")}),[]),y)return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-log-file-wrapper"},Object(r.createElement)("div",{className:"bwf-log-file-header"},Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-210"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120 bwf-ml-10"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-90"}))));var T=function(t){N(b(b({},t),{},{status:!0,loading:!0}));try{var r={},a="";t.all?(a="/settings/log/delete",r={all:!0}):a="/settings/log/delete?log_selected=".concat(n),i()({method:"DELETE",path:Object(o.m)(a),data:r}).then((function(t){200===t.code&&(N({status:!1}),e(t.message),P(),d({}),c(""))})).catch((function(e){N(b(b({},t),{},{status:!0,error:e.message?e.message:Object(s.__)("Something went wrong, Please try again later","wp-marketing-automations"),content:e.error}))}))}catch(t){console.log(t),e(t.message||Object(s.__)("Unable to delete the log file","wp-marketing-automations"))}Object(o.gb)(e,2e3)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Object(u.isEmpty)(n)||e){var t={status:!0,modalTitle:e?Object(s.__)("Delete All Log Files","wp-marketing-automations"):Object(s.__)("Delete Log File","wp-marketing-automations"),deleteEntityName:n||Object(s.__)("Delete All Log Files","wp-marketing-automations"),isDelete:!0,buttonConfirm:Object(s.__)("Delete","wp-marketing-automations"),buttonCancel:Object(s.__)("Cancel","wp-marketing-automations"),all:e};N(b(b({},t),{},{onConfirm:function(){return T(t)}}))}};return Object(r.createElement)("div",{className:"bwf-log-file-wrapper"},Object(r.createElement)("div",{className:"bwf-log-file-header"},Object(r.createElement)("div",{className:"bwf-log-file-selector"},Object(r.createElement)(l.SelectControl,{options:w,value:n,onChange:function(e){c(e),d("")}}),n&&Object(r.createElement)(l.Button,{isPrimary:!0,onClick:function(){if(!Object(u.isEmpty)(n)){S(!0);try{i()({method:"GET",path:Object(o.m)("/settings/log/view?log_selected=".concat(n))}).then((function(t){t.hasOwnProperty("result")?d({id:n,content:t.result}):e(t.message)})).catch((function(t){console.log(t),e(t.message)})).finally((function(){S(!1)}))}catch(t){e(t.message),console.log(t),S(!1)}Object(o.gb)(e,2e3)}},disabled:k,isBusy:k},Object(s.__)("View","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-log-file-delete"},n?Object(r.createElement)(l.Button,{isSecondary:!0,onClick:function(){return L(!1)}},Object(s.__)("Delete","wp-marketing-automations")):Object(r.createElement)(r.Fragment,null,!Object(u.isEmpty)(w)&&w.length>1?Object(r.createElement)(l.Button,{isSecondary:!0,onClick:function(){return L(!0)}},Object(s.__)("Delete All Log Files","wp-marketing-automations")):Object(r.createElement)(r.Fragment,null)))),Object(r.createElement)("div",{className:"bwf-log-file-content-show"},n&&!k&&!Object(u.isEmpty)(g)&&g.hasOwnProperty("content")&&g.content),Object(r.createElement)(f.a,{modalTitle:D.modalTitle,deleteEntityName:D.deleteEntityName,confirmText:D.confirmText,confirmButtonText:D.buttonConfirm,cancelButtonText:D.buttonCancel,onConfirm:D.onConfirm,isLoading:D.loading,successMessage:D.success,errorMessage:D.error,content:D.content,onRequestClose:function(){return N({status:!1})},confirmDescription:D.hasOwnProperty("confirmDescription")?D.confirmDescription:"",isOpen:D.status,isDelete:D.isDelete}))}},818:function(e,t,n){"use strict";var r=n(134),a=n(0);t.a=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},i=Object(r.a)(),l=i.setActiveMultiple,s=i.resetHeaderMenu,u=i.setL2NavType,f=i.setL2Nav,m=i.setBackLink,b=i.setL2Title,g=i.setPageHeader,p=i.setL2Content;return Object(a.useEffect)((function(){s(),!t&&u("menu"),!t&&f(c.settings_nav),l({leftNav:"settings",rightNav:e}),t&&m(t),n&&b(n),g("Settings"),p(o)}),[e,n]),!0}}}]);