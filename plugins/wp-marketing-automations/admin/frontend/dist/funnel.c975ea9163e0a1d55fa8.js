(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1115:function(e,t,a){},1186:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(248),c=a(2),l=a(798),r=a(68),i=a(5),m=a(3),u=Object(r.a)(Object(i.Y)()).formatAmount,b=function(){var e=l.a.getFunnels(),t=e&&"checkout"in e?e.checkout:[],a=[{key:"name",label:Object(c.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"funnel",label:Object(c.__)("Funnel","wp-marketing-automations"),isLeftAligned:!0},{key:"order",label:Object(c.__)("Order #","wp-marketing-automations"),isLeftAligned:!0},{key:"amount",label:Object(c.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0}],r=t.map((function(e){return[{display:Object(m.isEmpty)(e.name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=wfacp&wfacp_id="+e.wfacp_id},e.name),value:e.name},{display:Object(m.isEmpty)(e.funnel_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=bwf&path=/funnels/"+e.funnel},e.funnel_name),value:e.funnel_name},{display:Object(m.isEmpty)(e.order)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?post="+e.order+"&action=edit"},"#"+e.order),value:e.order},{display:u(e.amount),value:e.amount}]})),i=t.reduce((function(e,t){return parseFloat(e)+parseFloat(t.amount)}),0);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Total Revenue","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},u(i))),Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Details","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},Object(m.isEmpty)(r)?"-":Object(n.createElement)(s.a,{className:"contact-funnel",title:"",rows:r,headers:a,rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,showMenu:!1,emptyMessage:Object(c.__)("No checkouts found","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf_clear_20"}))))},o=a(804),f=Object(r.a)(Object(i.Y)()).formatAmount,p=function(){var e=l.a.getFunnels(),t=e&&"upsells"in e?e.upsells:[],a=[{key:"name",label:Object(c.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"funnel",label:Object(c.__)("Funnel","wp-marketing-automations"),isLeftAligned:!0},{key:"order",label:Object(c.__)("Order #","wp-marketing-automations"),isLeftAligned:!0},{key:"status",label:Object(c.__)("Status","wp-marketing-automations"),isLeftAligned:!0},{key:"amount",label:Object(c.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0}],r=Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s"}),i=Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s bwfcrm-cs-status-success"}),u=Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s bwfcrm-cs-status-failed"}),b=function(e){switch(parseInt(e)){case 4:return i;case 10:return r;default:return u}},o=t.map((function(e){return[{display:Object(m.isEmpty)(e.object_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=upstroke&section=rules&edit="+e.object_id+"&wffn_funnel_ref="+e.funnel_id},e.object_name),value:e.object_name},{display:Object(m.isEmpty)(e.funnel_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=bwf&path=/funnels/"+e.funnel_id},e.funnel_name),value:e.funnel_name},{display:Object(m.isEmpty)(e.order_id)?"-":Object(n.createElement)("a",{target:"_blank",className:"bwf-a-no-underline",href:"post.php?post="+e.order_id+"&action=edit"},"#"+e.order_id),value:e.order_id},{display:b(e.action_type_id),value:e.action_type_id},{display:e.value?f(e.value):f(0),value:e.value}]})),p=t.reduce((function(e,t){return isNaN(parseFloat(t.value))?parseFloat(e):parseFloat(e)+parseFloat(t.value)}),0);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Total Revenue","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},f(p))),Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Details","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},Object(m.isEmpty)(o)?"-":Object(n.createElement)(s.a,{className:"contact-funnel",title:"",rows:o,headers:a,rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,showMenu:!1,emptyMessage:Object(c.__)("No upsells found","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf_clear_20"}))))},d=Object(r.a)(Object(i.Y)()).formatAmount,w=function(){var e=l.a.getFunnels(),t=e&&"order_bump"in e?e.order_bump:[],a=[{key:"name",label:Object(c.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"funnel",label:Object(c.__)("Funnel","wp-marketing-automations"),isLeftAligned:!0},{key:"order",label:Object(c.__)("Order #","wp-marketing-automations"),isLeftAligned:!0},{key:"status",label:Object(c.__)("Status","wp-marketing-automations"),isLeftAligned:!0},{key:"amount",label:Object(c.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0}],r=t.map((function(e){return[{display:Object(m.isEmpty)(e.name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=wfob&section=rules&wfob_id="+e.bump_id},e.name),value:e.name},{display:Object(m.isEmpty)(e.funnel_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=bwf&path=/funnels/"+e.funnel},e.funnel_name),value:e.funnel_name},{display:Object(m.isEmpty)(e.order)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?post="+e.order+"&action=edit"},"#"+e.order),value:e.order},{display:1==parseInt(e.converted)?Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s bwfcrm-cs-status-success"}):Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s bwfcrm-cs-status-failed"}),value:e.converted},{display:d(e.amount),value:e.amount}]})),i=t.reduce((function(e,t){return parseFloat(e)+parseFloat(t.amount)}),0);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Total Revenue","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},d(i))),Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Details","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},Object(m.isEmpty)(r)?"-":Object(n.createElement)(s.a,{className:"contact-funnel",title:"",rows:r,headers:a,rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,showMenu:!1,emptyMessage:Object(c.__)("No bumps found","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf_clear_20"}))))},_=Object(r.a)(Object(i.Y)()).formatAmount,O=function(){var e=l.a.getFunnels(),t=e&&"records"in e?e.records:[],a=[{key:"name",label:Object(c.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"optin",label:Object(c.__)("Optin","wp-marketing-automations"),isLeftAligned:!0},{key:"checkout",label:Object(c.__)("Checkout","wp-marketing-automations"),isLeftAligned:!0},{key:"bump",label:Object(c.__)("Bump","wp-marketing-automations"),isLeftAligned:!0},{key:"upsell",label:Object(c.__)("Upsell","wp-marketing-automations"),isLeftAligned:!0},{key:"total_revenue",label:Object(c.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0}],r=t.map((function(e){return[{display:Object(m.isEmpty)(e.funnel_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=bwf&path=/funnels/"+e.funnel_id},e.funnel_name),value:e.funnel_name},{display:null!=e.in_optin?Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s bwfcrm-cs-status-success"}):Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s"}),value:e.in_optin},{display:!0===e.in_checkout||!1===e.in_checkout?Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s "+(!0===e.in_checkout?"bwfcrm-cs-status-success":"bwfcrm-cs-status-failed")}):Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s"}),value:e.in_checkout},{display:!0===e.in_bump||!1===e.in_bump?Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s "+(!0===e.in_bump?"bwfcrm-cs-status-success":"bwfcrm-cs-status-failed")}):Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s"}),value:e.in_bump},{display:!0===e.in_upsell||!1===e.in_upsell?Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s "+(!0===e.in_upsell?"bwfcrm-cs-status-success":"bwfcrm-cs-status-failed")}):Object(n.createElement)("div",{className:"bwfcrm-cs-status bwfcrm-cs-status-s"}),value:e.in_upsell},{display:_(e.total_revenue),value:e.total_revenue}]})),i=t.reduce((function(e,t){return parseFloat(e)+parseFloat(t.total_revenue)}),0);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Total Revenue","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},_(i))),Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Details","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},Object(m.isEmpty)(r)?"-":Object(n.createElement)(s.a,{className:"contact-funnel",title:"",rows:r,headers:a,rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,showMenu:!1,emptyMessage:Object(c.__)("No funnels found","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf_clear_20"}))))},j=function(){var e=l.a.getFunnels(),t=e&&"optin"in e?e.optin:[],a=[{key:"name",label:Object(c.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"funnel",label:Object(c.__)("Funnel","wp-marketing-automations"),isLeftAligned:!0},{key:"entry",label:Object(c.__)("Entry","wp-marketing-automations"),isLeftAligned:!0}],r=t.map((function(e){return[{display:Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=wf-op&section=design&edit="+e.id},e.name),value:e.name},{display:Object(m.isEmpty)(e.funnel_name)?"-":Object(n.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"admin.php?page=bwf&path=/funnels/"+e.funnel},e.funnel_name),value:e.funnel_name},{display:i(e.entry),value:e.entry}]}));function i(e){var t=[];return Object(m.each)(JSON.parse(e),(function(e,a){var s=a.split("_");if(s.splice(0,1),!Object(m.isEmpty)(e)){for(var c=0;c<s.length;c++)s[c]=s[c].charAt(0).toUpperCase()+s[c].substring(1);t.push(Object(n.createElement)("li",{key:e.toString()},"".concat(s.join(" "),": ").concat(e)))}})),Object(n.createElement)("ul",{className:"bwf-terms-inline"},t)}return Object(n.createElement)("div",{className:"bwf-c-s-list"},Object(n.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Details","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-c-s-po-value"},Object(m.isEmpty)(r)?"-":Object(n.createElement)(s.a,{className:"contact-funnel",title:"",rows:r,headers:a,rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,showMenu:!1,emptyMessage:Object(c.__)("No optins data found","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf_clear_20"})))},g=(a(1115),a(853)),v=a(141),E=a(4);t.default=function(){var e=Object(o.a)(),t=l.a.getContact(),a=l.a.getFunnelContactId();Object(n.useEffect)((function(){t&&"id"in t&&parseInt(t.id)!==parseInt(a)&&e.fetchFunnel(parseInt(t.id))}),[t]);var s=l.a.getFunnelError();if(l.a.getFunnelLoading())return Object(n.createElement)(g.c,null);if(s)return Object(n.createElement)(E.Notice,null,"message"in s?s.message:s);var r=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(O,null))},i=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(b,null))},m=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(w,null))},u=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(j,null))},f=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(p,null))};return Object(n.createElement)("div",{className:"bwf-c-s-data"},Object(n.createElement)(v.a,{items:[{key:0,label:Object(c.__)("Funnels","wp-marketing-automations"),display:r()},{key:1,label:Object(c.__)("Optin","wp-marketing-automations"),display:u()},{key:2,label:Object(c.__)("Checkouts","wp-marketing-automations"),display:i()},{key:3,label:Object(c.__)("Bumps","wp-marketing-automations"),display:m()},{key:4,label:Object(c.__)("Upsells","wp-marketing-automations"),display:f()}]}))}}}]);