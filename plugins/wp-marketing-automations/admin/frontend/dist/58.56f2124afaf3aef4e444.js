(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1125:function(e,t,n){},1135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(4),o=n(2),c=n(86),i=n(796),s=n(805),l=n(10),u=n.n(l),m=n(15),d=n(5),b=n(3),f=n(142),p=n(150),g=n(137),O=n(136),y=n(269);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=function(e){if(!e||!e.editor||!e.editor.design)return!1;var t=JSON.parse(e.editor.design);return!!t&&!!t.body&&Array.isArray(t.body.rows)&&t.body.rows.length>0},E=function(){var e=Object(O.a)(y.a.campaignContent),t=e.getStateProp,n=_(e,["getStateProp"]),a=i.a.getCampaignData(),r=parseInt(a.type);return w(w({},n),{},{getEmailContent:function(){var e=parseInt(t("currentEmail")),n=t("data");return n&&e in n?n[e]:{}},getCurrentEmail:function(){return parseInt(t("currentEmail"))},getEmails:function(){return t("emails")},getAllEmailContent:function(){return t("data")},getShowValidationFlag:function(){return t("showValidation")},emailsValidToSubmit:function(){var e=t("data");return!!t("emails").map((function(t){var n=e[t];if(!n)return!1;var a=!!n.utmEnabled,o=n.utm?n.utm:{},c={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:h(n),type:1!==r||n.type&&n.type.length>0,utmSource:!a||o.source&&o.source.length>0,utmMedium:!a||o.medium&&o.medium.length>0};return!!Object.keys(c).map((function(e){return c[e]})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e&&t}),!0)&&e},getValidEmails:function(){var e=t("data"),n=t("emails"),a={};return n.map((function(t){var n=e[t];if(n){var o=!!n.utmEnabled,c=n.utm?n.utm:{},i={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:h(n),type:1!==r||n.type&&n.type.length>0,utmSource:!o||c.source&&c.source.length>0,utmMedium:!o||c.medium&&c.medium.length>0};a[t]=!!Object.keys(i).map((function(e){return i[e]})).reduce((function(e,t){return e&&t}),!0)}})),a},getEmailsToSubmit:function(){var e=t("data");return t("emails").map((function(t){var n=e[t];return n||!1})).filter(Boolean)},getCurrentEmailIndex:function(){var e=parseInt(t("currentEmail")),n=t("emails");return Array.isArray(n)&&n.includes(e)?n.indexOf(e):1},validateCurrentEmail:function(){var e=t("data"),n=parseInt(t("currentEmail"));if(!e||!e[n])return!1;var a=e[n];if(a){var o=!!a.utmEnabled,c=a.utm?a.utm:{};return{subject:1!==r||a.subject&&a.subject.length>0,content:"editor"!==a.type?a.body&&a.body.length>0:h(a),type:1!==r||a.type&&a.type.length>0,utmSource:!o||c.source&&c.source.length>0,utmMedium:!o||c.medium&&c.medium.length>0}}},getSmartSendSettings:function(){return t("smartSend")},getSaveContentStatus:function(){return t("saveContentStatus")},getSendTestEmailStatus:function(){return t("sendTestEmailStatus")},getUploadImageStatus:function(){return t("uploadImageStatus")},getUploadImageURL:function(){return t("uploadImageURL")}})};function S(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I=function(){var e,t,n=Object(g.a)(y.a.campaignContent),a=n.fetch,r=n.setStateProp,o=P(n,["fetch","setStateProp"]),c=E(),s=c.getAllEmailContent,l=c.getCurrentEmail,m=c.getEmails,f=c.getSmartSendSettings,p=c.getCurrentEmailIndex,O=c.getEmailsToSubmit,j=c.getEmailContent,w=s(),v=l(),_=p(),h=m(),C=f(),T=j(),I=O(),N=i.a.getCampaignId(),x=i.a.getCampaignData().type,M=function(e){return"type"in e?e:$($({},e),{},{type:"rich"})};return $($({},o),{},{setEmailContentByKey:function(e,t){var n=M(v in w?$($({},w[v]),{},A({},e,t)):A({},e,t));"type"!=e||"editor"!=t||n.hasOwnProperty("editor")||(n.editor={body:Object(d.db)(),design:Object(d.cb)()});var a=$($({},w),{},A({},v,n));r("data",a)},setEmailUtmByKey:function(e,t){var n=M(v in w?$({},w[v]):{}),a="utm"in n?$($({},n.utm),{},A({},e,t)):A({},e,t),o=$($({},w),{},A({},v,$($({},n),{},{utm:$($({},a),{},A({},e,t))})));r("data",o)},setMultipleUtm:function(e){if(e){var t=M(v in w?$({},w[v]):{}),n=$($({},w),{},A({},v,$($({},t),{},{utm:$($({},t.utm),e)})));r("data",n)}},setCurrentEmail:function(e){h.includes(e)&&r("currentEmail",e)},addEmail:function(){if(Array.isArray(h)&&h.length<3){var e=Math.max.apply(Math,k(h))+1;r("emails",[].concat(k(h),[e])),r("currentEmail",e),r("showValidation",!1),r("data",$($({},w),{},A({},e,h[0]in w?w[h[0]]:{})))}},showValidation:function(e){return r("showValidation",e)},deleteEmail:function(e){if(h.length>1){var t=h.filter((function(t){return t!==e}));r("emails",t),r("currentEmail",t[t.length-1])}},initContent:function(e,t){if(!Array.isArray(e)||0===Object(b.size)(e))return r("data",{1:{}}),r("emails",[1]),void r("currentEmail",1);var n={};for(var a in e){var o=parseInt(a)+1;n[o]=w[o]?$($({},M(w[o])),e[a]):e[a]}r("data",n),r("emails",Object.keys(n).map((function(e){return parseInt(e)}))),t&&0!==Object.keys(t).length&&r("smartSend",t)},fetchCurrentMailEditorContent:function(){a("GET",Object(d.m)("/broadcast/".concat(N,"/content/").concat(_)),{},{email:v})},sendTestEmail:(e=regeneratorRuntime.mark((function e(t,n){var a,o,c,i,s,l,m,f,p,g,O,y,j,w,v,_,h,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=E.length>2&&void 0!==E[2]?E[2]:"",o=E.length>3&&void 0!==E[3]?E[3]:"",c=E.length>4&&void 0!==E[4]?E[4]:"",i="",s="",l="rich",m="",T&&(f=T.body?T.body:"",p=T.editor?T.editor:{},g=p.body?p.body:"",l=T.type?T.type:l,i="editor"===l?g:f,s=T.subject?T.subject:"FunnelKit Automations - Test email subject",m=T.preheader?T.preheader:""),O=o||i,y=a||s,j=c||l,w="",v={},1==x?(w=Object(d.m)("/send-test-email"),v={email:t,content:{subject:y,body:O,type:j,preheader:m,mail_data:n}}):2==x?(n.reply_to,n.senders_email,n.senders_name,_=P(n,["reply_to","senders_email","senders_name"]),w=Object(d.m)("/send-test-sms"),v={phone:t,sms_body:O,sms_data:_}):3==x&&(n.reply_to,n.senders_email,n.senders_name,h=P(n,["reply_to","senders_email","senders_name"]),w=Object(d.m)("/send-test-whatsapp-message"),v={phone:t,sms_body:T,sms_data:h}),Object(b.isEmpty)(v)||Object(b.isEmpty)(w)||u()({method:"POST",path:w,data:v}).then((function(e){200===e.code&&e.message?r("sendTestEmailStatus",2):r("sendTestEmailStatus",3)}));case 15:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){S(o,a,r,c,i,"next",e)}function i(e){S(o,a,r,c,i,"throw",e)}c(void 0)}))},function(e,n){return t.apply(this,arguments)}),setSmartSendByKey:function(e,t){return r("smartSend",$($({},C),{},A({},e,t)))},saveBroadcastContent:function(e){r("saveContentStatus",1);var t=Array.isArray(e)&&e.length>0?e:I,n={content:JSON.stringify(t),saveBroadcastContent:!0};u()({method:"POST",path:Object(d.m)("/broadcast/".concat(N,"/save-content")),data:n}).then((function(){return r("saveContentStatus",2)}))},uploadImage:function(e){if(e){r("uploadImageStatus",1);var t=new FormData;t.append("image",e),a("POST",Object(d.m)("/upload-image"),t,{uploadImage:!0,isFormData:!0})}},resetSaveContentStatus:function(){return r("saveContentStatus",null)},resetSendTestEmailStatus:function(){return r("sendTestEmailStatus",null)},resetUploadImageStatus:function(){r("uploadImageStatus",null),r("uploadImageStatusURL","")},overrideCurrentContent:function(e){var t=M(v in w?$({},w[v]):{}),n=$($({},w),{},A({},v,$($({},t),e)));r("data",n)}})},N=n(44);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var L=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},B=function(e){var t=I().sendTestEmail,n=(0,E().getSendTestEmailStatus)(),r=x(Object(a.useState)("http://app.getautonami.com"),2),c=r[0],i=r[1],s=Object(a.useRef)();Object(a.useEffect)((function(){s.current=e}),[e]);var l=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"send_test_email"===e.data.action&&e.data.token===L.editor_nonce&&e.data.data){var n=e.data.data,a=n.email,r=n.body,c=n.subject,l=void 0===c?"":c;a&&r&&(i(e.origin),t(a,s.current,l||Object(o.__)("FunnelKit Automations - Test email subject","wp-marketing-automations"),r))}};return Object(a.useEffect)((function(){return window.addEventListener("message",l),function(){return window.removeEventListener("message",l)}}),[]),Object(a.useEffect)((function(){if(n&&1!==n){var e=2===n,t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:L.editor_nonce,action:"send_test_email",data:{isSent:e}},c)}}),[n]),!0};function R(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var V=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},K=function(e){var t=I().saveBroadcastContent,n=E(),r=n.getSaveContentStatus,o=n.getEmailsToSubmit,c=n.getCurrentEmailIndex,i=r(),s=o(),l=c(),u=Object(a.useRef)(s),m=Object(a.useRef)(l);Object(a.useEffect)((function(){u.current=s,m.current=l}),[s,l]);var d=U(Object(a.useState)("http://app.getautonami.com"),2),b=d[0],f=d[1],p=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"save_design"===e.data.action&&e.data.token===V.editor_nonce&&e.data.data){var n=e.data.data,a=n.body,r=n.design;if(a&&r){f(e.origin);var o=R(u.current);o[m.current].editor={body:a,design:r},t(o)}}};return Object(a.useEffect)((function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}}),[]),Object(a.useEffect)((function(){if(i&&1!==i&&e){var t=2===i,n=document.getElementById("bwf_email_editor_frame");n&&n.contentWindow.postMessage({token:V.editor_nonce,action:"save_design",data:{isSaved:t}},b)}}),[i]),!0};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},z=function(){var e=G(Object(a.useState)("http://app.getautonami.com"),2),t=e[0],n=e[1],r=function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"wp_image_upload"===e.data.action&&e.data.token===W.editor_nonce&&e.data.data&&(n(e.origin),u())},c=Object(a.useRef)(),i=G(Object(a.useState)(""),2),s=i[0],l=i[1],u=function(){if(!wp||!wp.media)return"";c.current||(c.current=wp.media({title:Object(o.__)("Select or Upload Media","wp-marketing-automations"),button:{text:"Select Image"},multiple:!1}),c.current.on("select",(function(){var e=c.current.state().get("selection").first().toJSON();l(e.url)}))),c.current.open()};return Object(a.useEffect)((function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}),[]),Object(a.useEffect)((function(){if(s){var e=document.getElementById("bwf_email_editor_frame");e&&e.contentWindow.postMessage({token:W.editor_nonce,action:"wp_image_upload",data:{isUploaded:!0,imageURL:s}},t)}}),[s]),!0},Z=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},J=function(e){var t=(0,E().getEmailContent)(),n=Object(a.useRef)(),r=Object(a.useRef)();Object(a.useEffect)((function(){n.current=t,r.current=function(e){var t={};for(var n in e){var a=e[n];if(a){var r={};for(var o in a)r[o]={name:a[o],value:"{{".concat(o,"}}")};var c="";switch(n){case"contact":c="Contact";break;case"contact_fields":c="Fields";break;case"general":c="General"}t[n]={name:c,mergeTags:r}}}return t}(e)}),[t,e]);var o=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"get_design"===e.data.action&&e.data.token===Z.editor_nonce){var t=Object(d.cb)(),a=n.current&&n.current.editor&&n.current.editor.design?n.current.editor.design:t,o=document.getElementById("bwf_email_editor_frame");o&&o.contentWindow.postMessage({token:Z.editor_nonce,action:"get_design",data:{gotDesign:!0,json:a,subject:n.current&&n.current.subject?n.current.subject:"",mergeTags:r.current,enableLinkTrigger:!0,textDirection:Object(d.pb)()?"rtl":""}},e.origin)}};return Object(a.useEffect)((function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}}),[]),!0},q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Y=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"open_merge_tags"===t.data.action&&t.data.token===q.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},Q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},X=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"close_editor"===t.data.action&&t.data.token===Q.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},ee=n(322),te=function(e){var t=function(){e&&e()};return Object(a.useEffect)((function(){return window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",t),function(){return window.removeEventListener("popstate",t)}}),[]),!0},ne=n(8);function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var oe=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ce=function(){return Object(a.createElement)("div",{className:"bwf-c-save-content-loading"},Object(a.createElement)(N.a,null),Object(a.createElement)("h3",null,Object(o.__)("Loading Visual Builder","wp-marketing-automations")))},ie=function(e){var t=e.iframeRef,n=e.editorSrc;return Object(a.createElement)("iframe",{ref:t,title:Object(o.__)("Email Editor","wp-marketing-automations"),src:n,id:"bwf_email_editor_frame",style:{width:"100%",height:"100%"}})},se=function(e){var t=ae(Object(a.useState)(!1),2),n=t[0],c=t[1],i=e.broadcastId,s=e.contentNumber,l=e.openMergeTags,u=e.mailData,m=e.mergeTags,d=e.openLinkTrigger,b=oe.license,f=oe.editor_nonce,p=oe.url,g=I(),O=g.fetchCurrentMailEditorContent,y=g.saveBroadcastContent,j=g.resetSaveContentStatus,w=E().getSaveContentStatus(),v=ae(Object(a.useState)(!1),2),_=v[0],h=v[1];Object(a.useEffect)((function(){_||2!==w&&3!==w||(h(!0),j())}),[w]);var S=Object(a.useCallback)((function(){c(!1),O()}));J(m||[]),B(u),K(_),z(),Y(l),X(S),Object(ee.a)(d),te(S);var k="//app.getautonami.com/get/".concat(b,"/").concat(f,"/").concat(p,"/crm.broadcast.").concat(i,".content.").concat(s),C=Object(a.useRef)();return Object(a.useEffect)((function(){n?(y(),document.body.classList.add("bwf-c-modal-open")):(h(!1),document.body.classList.remove("bwf-c-modal-open"))}),[n]),Object(a.createElement)(a.Fragment,null,n&&Object(a.createElement)("div",{className:"bwf-c-editor-modal-wrapper"},Object(a.createElement)("div",{className:"bwf-c-editor-modal bwf-c-editor-modal-full-width"},!_&&Object(a.createElement)(ce,null),!!_&&Object(a.createElement)(ie,{iframeRef:C,editorSrc:k}))),Object(a.createElement)("div",{className:"bwf-c-editor-button-wrapper"},Object(a.createElement)(ne.a,{icon:"launch-editor",size:50}),Object(a.createElement)("div",{className:"bwf-h1"},"Launch Editor"),Object(a.createElement)("div",{className:"bwf-h5"},"Visually get email with drop & drop builder"),Object(a.createElement)(r.Button,{isSecondary:!0,onClick:function(){return c(!0)}},Object(o.__)("Start","wp-marketing-automations"))))},le=n(151),ue=n(857);function me(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var fe=function(e){var t=e.setPreview,n=e.content,c=e.type,i=de(Object(a.useState)(""),2),s=i[0],l=i[1],m=de(Object(a.useState)(!0),2),b=m[0],f=m[1];Object(a.useEffect)((function(){p()}),[]);var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return l(""),f(!1),e.abrupt("return");case 4:return e.prev=4,t={content:n,type:c},e.next=8,u()({path:Object(d.m)("/broadcast/email-preview"),method:"POST",data:t}).then((function(e){l(e.result.body.replace(/\\/g,"")),f(!1)}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){me(o,a,r,c,i,"next",e)}function i(e){me(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.createElement)(r.Modal,{onRequestClose:function(){return t(!1)},className:"bwf-admin-modal bwf-admin-modal-xxxl bwf-h--core-header"},Object(a.createElement)("div",{className:"bwf-modal-header"},Object(a.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Preview","wp-marketing-automations")),Object(a.createElement)("span",{onClick:function(){return t(!1)},className:"bwf-modal-close"},Object(a.createElement)(ne.a,{icon:"close",color:"#353030"}))),b?Object(a.createElement)(N.a,null):Object(a.createElement)("div",{dangerouslySetInnerHTML:{__html:s}}))},pe=n(323),ge=n(162),Oe=function(e){var t=e.enable,n=e.position,c=e.imageURL,i=e.setData;return Object(a.createElement)("div",{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Image Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:t,onChange:function(e){return i("enable",e)}}),t&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.RadioControl,{className:"bwfcrm-inline-option",selected:n,label:Object(o.__)("Select Image Position","wp-marketing-automations"),options:[{value:"after",label:Object(o.__)("After","wp-marketing-automations")},{value:"before",label:Object(o.__)("Before","wp-marketing-automations")}],onChange:function(e){return i("position",e)}}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(ge.a,{image:c?{url:c}:"",onChange:function(e){!Object(b.isNull)(e)&&e.hasOwnProperty("url")?i("imageURL",e.url):i("imageURL","")}})))},ye=n(172),je=n(68);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Se=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ke=function(){var e=he(Object(a.useState)(!1),2),t=e[0],n=e[1],r=he(Object(a.useState)(!1),2),o=r[0],c=r[1],i=Object(je.a)(Object(d.Y)()).formatAmount,s=Object(a.useCallback)((function(e){var t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:Se.editor_nonce,action:"select_product_for_tool",data:{product:ve(ve({},e),{},{formattedPrice:i(e.price)})}},o),n(!1)}),[o]),l=Object(a.useCallback)((function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"select_product_for_tool"===e.data.action&&e.data.token===Se.editor_nonce&&(c(e.origin),n(!0))}),[n]);return Object(a.useEffect)((function(){return window.addEventListener("message",l),function(){return window.removeEventListener("message",l)}}),[]),t&&Object(a.createElement)(ye.a,{onRequestClose:function(){return n(!1)},onProductSelected:s})},Ce=n(282),Te=n(6),$e=n.n(Te),Ae=n(70);function Pe(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Be=Object(d.Z)(),Re=[{label:Object(o.__)("Rich Text","wp-marketing-automations"),value:"rich",templateIcon:"rich-text",className:"bwf-display-flex bwf-campaign-template-type "},Be.includes("wc")&&{label:Object(o.__)("WooCommerce","wp-marketing-automations"),value:"wc",templateIcon:"woocommerce",className:"bwf-display-flex bwf-campaign-template-type "},{label:Object(o.__)("Raw HTML","wp-marketing-automations"),value:"html",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"},{label:Object(o.__)("Visual Builder","wp-marketing-automations"),value:"editor",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"}].filter(Boolean),Ue=function(e){var t=e.maildata,n=e.setTemplateModal,s=i.a.getCampaignData(),l=parseInt(s.type),u=Object(d.t)(),m=I(),g=m.setEmailContentByKey,O=m.setEmailUtmByKey,y=m.setMultipleUtm,j=m.sendTestEmail,w=m.resetSendTestEmailStatus,v=E(),_=v.getEmailContent()?v.getEmailContent():{},h="utm"in _?_.utm:{},S=Me(Object(a.useState)(!1),2),k=S[0],C=S[1],T=Me(Object(a.useState)(""),2),$=T[0],A=T[1],P="subject"in _?_.subject:"",N="preheader"in _?_.preheader:"",x="type"in _?_.type:"rich",M="utmEnabled"in _&&_.utmEnabled,L=Me(Object(a.useState)({message:"",type:1}),2),B=L[0],R=L[1],U="whatsAppImage"in _&&_.whatsAppImage,F="whatsAppImageSetting"in _?_.whatsAppImageSetting:{},D="position"in F?F.position:"after",V="imageURL"in F?F.imageURL:"",K="source"in h?h.source:"",G="medium"in h?h.medium:"",H="name"in h?h.name:"",W="content"in h?h.content:"",z="term"in h?h.term:"",Z=Me(Object(a.useState)(!1),2),J=Z[0],q=Z[1],Y=Me(Object(a.useState)(!1),2),Q=Y[0],X=Y[1],ee=v.getShowValidationFlag(),te=Me(Object(a.useState)(!1),2),ae=te[0],re=te[1],oe=Me(Object(a.useState)("content"),2),ce=oe[0],ie=oe[1],me=Me(Object(a.useState)([]),2),de=me[0],be=me[1],ge=Me(Object(a.useState)(!1),2),ye=ge[0],je=ge[1],we=v.getCurrentEmailIndex(),ve=_&&_.body?_.body:"",_e="editor"in _?_.editor:{},he=_e&&_e.body?_e.body:"",Ee="editor"===x?he:ve,Se="<p>Hi {{contact_first_name}},</p><p></p>"+bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;Object(a.useEffect)((function(){Object(b.isEmpty)(ve)&&g("body",1==l?Se:"Hi {{contact_first_name}},")}),[ve]);var Te=M?Ne(Ne({},t),{},{utmName:H,utmMedium:G,utmContent:W,utmSource:K,utmTerm:z}):t;Object(a.useEffect)((function(){if(M){var e={};!K&&(e.source=Object(o.__)("Newsletter","wp-marketing-automations")),!G&&(e.medium=u[l].label),!H&&(e.name=Object(b.trim)(s.title).replace(/\s/g,"-")),y(e)}}),[M]);var Ie=v.validateCurrentEmail(),xe={1:Object(o.__)("Place your HTML here","wp-marketing-automations"),2:Object(o.__)("Enter the SMS Body","wp-marketing-automations"),3:Object(o.__)("Place your message here","wp-marketing-automations")},Le={1:Object(o.__)("Send Test Email","wp-marketing-automations"),2:Object(o.__)("Send Test SMS","wp-marketing-automations"),3:Object(o.__)("Send Test Message","wp-marketing-automations")},Be=(Object(o.__)("Send Email","wp-marketing-automations"),Object(o.__)("Send SMS","wp-marketing-automations"),Object(o.__)("Send Message","wp-marketing-automations"),function(){return"editor"==_.type?_.hasOwnProperty("editor")&&_.editor.hasOwnProperty("body")?_.editor.body:"":_.body}),Ue=v.getSendTestEmailStatus();Object(a.useEffect)((function(){null!==Ue&&setTimeout((function(){w(),R({message:"",type:1})}),2e3),2===Ue&&R({message:1==l?Object(o.__)("Test email sent","wp-marketing-automations"):Object(o.__)("Test message sent","wp-marketing-automations"),type:1}),3===Ue&&R({message:1==l?Object(o.__)("Unable to send mail","wp-marketing-automations"):Object(o.__)("Unable to send message","wp-marketing-automations"),type:1})}),[Ue]);var Fe=ee&&!Ie.subject?" bwf-field-error":"",De=ee&&!Ie.content?" bwf-field-error-textarea":"",Ve=ee&&!Ie.utmSource?" bwf-field-error":"",Ke=ee&&!Ie.utmMedium?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Card,{className:"bwf-c-campaign-body"},1===l&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.TextControl,{value:P,onChange:function(e){return g("subject",e)},label:Object(o.__)("Subject","wp-marketing-automations"),placeholder:Object(o.__)("Enter subject","wp-marketing-automations"),className:"bwf-field-m0"+Fe}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-campaign-mail-headers-wrap"},Object(a.createElement)(r.TextControl,{value:N,placeholder:Object(o.__)("Enter preview text","wp-marketing-automations"),label:Object(o.__)("Preview Text","wp-marketing-automations"),onChange:function(e){return g("preheader",e)}})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-p"},Object(o.__)("Template Type","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-select-template-type"},Re.map((function(e){return Object(a.createElement)("label",{key:e.value,className:$e()({"is-selected":x===e.value})},Object(a.createElement)("input",{type:"radio",value:e.value,onChange:function(){m.showValidation(!1),g("type",e.value)},checked:x===e.value&&"checked"}),Object(a.createElement)("span",null,e.label))}))),Object(a.createElement)("div",{className:"bwf_clear_16"}),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.Flex,{gap:3,justify:"flex-start"},"editor"!==x&&Object(a.createElement)(r.FlexItem,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none",onClick:function(){ie("content"),re(!0)}},Object(a.createElement)(ne.a,{icon:"merge-tag",size:16}),Object(o.__)("Merge Tags","wp-marketing-automations"))),Object(a.createElement)(r.FlexItem,null,Object(a.createElement)("div",null,Object(a.createElement)(Ce.a,{canCreate:!0,isLinkTriggerOpen:ye,setLinkTriggerOpen:je,modelOpenContent:Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none"},Object(a.createElement)(ne.a,{icon:"link-trigger",size:16}),Object(o.__)("Link Triggers","wp-marketing-automations")),hideButton:"editor"===x}))))),Object(a.createElement)(r.FlexItem,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",onClick:function(){return n(!0)}},Object(a.createElement)(ne.a,{icon:"templates",size:16}),Object(o.__)("Templates","wp-marketing-automations")))))),Object(a.createElement)("div",{className:"bwf_clear_16"}),Object(a.createElement)("div",{className:De},1===l&&("rich"===x||"wc"===x)&&Object(a.createElement)(p.a,{content:Ee,keyid:"bwf-campaign-email-editor",setContent:function(e){return g("body",e)}}),("html"===x||2===l||3===l)&&Object(a.createElement)(r.TextareaControl,{value:Ee,onChange:function(e){return g("body",e)},placeholder:xe[l],rows:[2,3].includes(l)?5:24,className:"bwf-email-raw-html"}),"editor"===x&&Object(a.createElement)(se,{broadcastId:s.id,contentNumber:parseInt(we),openMergeTags:function(){return re(!0)},mailData:Te,mergeTags:de,openLinkTrigger:je})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexItem,null,"editor"!==x&&3!==l&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("a",{className:"bwf-a-no-underline",onClick:function(e){e.preventDefault(),ie("content");var t=2===l?bwfanParams.bwfan_global_settings.bwfan_sms_unsubscribe_text:bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;g("body","".concat(Ee||""," \n").concat(t))}},Object(o.__)("Add Unsubscribe Text","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"})))),Object(a.createElement)(r.Flex,null,Object(a.createElement)("div",{className:"bwf-display-flex gap-12"},1==l&&Object(a.createElement)(pe.a,{templateData:_,type:1,checkIfValid:function(){return!!Ie.subject||(m.showValidation(!0),!1)}}),Object(a.createElement)("div",null,Object(a.createElement)(r.Button,{className:"bwf-big-button",isSecondary:!0,onClick:function(){C(!0)}},Le.hasOwnProperty(l)?Le[l]:Object(o.__)("Send Test Email","wp-marketing-automations")),k&&Object(a.createElement)(Ae.a,{className:"bwf-campaign-test-mail-popup",onFocusOutside:function(){C(!1)},onClick:function(e){return e.stopPropagation()},focusOnMount:"no-focus"},Object(a.createElement)("div",{className:"bwf-campaign-test-mail-wrap"},Object(a.createElement)("div",{className:"bwf-p",style:{marginBottom:"16px"}},Object(a.createElement)(r.TextControl,{value:$,onChange:function(e){return A(e)},placeholder:1==l?Object(o.__)("Enter email address","wp-marketing-automations"):Object(o.__)("Enter phone no.","wp-marketing-automations")})),Object(a.createElement)(r.Button,{isPrimary:!0,isBusy:Q,onClick:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),X(!0),a=void 0,a=!1,!(Object(b.isEmpty)($)||![2,3].includes(l)&&!Object(c.a)($)||[2,3].includes(l)&&!Object(ue.a)($))&&Ie.content&&Ie.type&&Ie.utmMedium&&Ie.utmSource||(a=!0),a){e.next=7;break}return e.next=5,j($,Te,"","").then((function(){setTimeout((function(){X(!1),C(!1)}),1e3)}));case 5:e.next=13;break;case 7:n="",Object(b.isEmpty)($)&&(n=[2,3].includes(l)?Object(o.__)("Phone is required field.","wp-marketing-automations"):Object(o.__)("Email is required field.","wp-marketing-automations")),Object(b.isEmpty)(n)&&([2,3].includes(l)?Object(ue.a)($)||(n=Object(o.__)("Entered phone is not valid.","wp-marketing-automations")):Object(c.a)($)||(n=Object(o.__)("Entered email is not valid.","wp-marketing-automations"))),Object(b.isEmpty)(n)&&!Ie.content&&(n=Object(o.__)("Content is required field.","wp-marketing-automations")),R({message:n,type:2}),X(!1);case 13:case"end":return e.stop()}var a}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){Pe(o,a,r,c,i,"next",e)}function i(e){Pe(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},Object(o.__)("Send","wp-marketing-automations"))))),1==l&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-big-button",onClick:function(){Object(b.isEmpty)(Be())?R({message:"No content available for preview.",status:2}):q(!0)}},Object(o.__)("Show Preview","wp-marketing-automations")),J&&Object(a.createElement)(fe,{setPreview:q,content:Be(),type:x})))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.CheckboxControl,{checked:M,label:Object(o.__)("Automatically append UTM parameters to email links","wp-marketing-automations"),className:"bwf-crm-campaign-third-step-utm",onChange:function(e){return g("utmEnabled",e)}}),M&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_10"}),Object(a.createElement)("div",{className:"bwf-campaign-utm-section"},Object(a.createElement)(r.TextControl,{value:K,onChange:function(e){return O("source",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Source","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM source","wp-marketing-automations"),help:Object(o.__)("Referrer: (e.g., google, newsletter)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Ve}),Object(a.createElement)(r.TextControl,{value:G,onChange:function(e){return O("medium",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Medium","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM medium","wp-marketing-automations"),help:Object(o.__)("Marketing medium: (e.g., CPC, banner, email)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Ke}),Object(a.createElement)(r.TextControl,{value:H,onChange:function(e){return O("name",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM name","wp-marketing-automations"),help:Object(o.__)("Product, promo code, or slogan (e.g., spring_sale)","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:z,onChange:function(e){return O("term",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Term","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM term","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:W,onChange:function(e){return O("content",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Content","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM content","wp-marketing-automations"),className:"bwf-field-comp-label-content"}))),3==l&&Object(a.createElement)(Oe,{enable:U,position:D,imageURL:V,setData:function(e,t){if("enable"==e)g("whatsAppImage",t);else if(["position","imageURL"].includes(e)){var n={position:D,imageURL:V};n[e]=t,g("whatsAppImageSetting",n)}}}),Object(a.createElement)(f.a,{message:B.message,type:B.type,removeMessage:function(){return R({message:"",type:1})}})),Object(a.createElement)(le.a,{isOpen:ae,setOpenTags:re,onMergeTagSelected:function(e){"subject"===ce&&g("subject","".concat(P||""," ").concat(e)),"content"===ce&&g("body","".concat(Ee||""," ").concat(e)),re(!1)},onMergeTagsLoaded:function(e){return be(e)}}),Object(d.yb)()&&Object(a.createElement)(ke,null))},Fe=n(337),De=(n(1125),n(67)),Ve=function(e){var t=I(),n=E(),c=n.getSmartSendSettings(),i=c.enable,s=c.percent,l=c.hours,u=t.setSmartSendByKey,m=n.getShowValidationFlag(),d=n.getEmails();return Array.isArray(d)&&d.length>1?Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf-h4"},Object(o.__)("Smart Sending","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Smart Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:i,onChange:function(e){return u("enable",e)}}),i&&parseInt(s)>0&&parseInt(l)>0&&Object(a.createElement)("div",null,Object(o.sprintf)(Object(o.__)("This broadcast will be sent to %d percent of your contacts. After %d hours, open rates of all the variants would be analyzed and the one with the most opens would be sent to the remaining contacts.","wp-marketing-automations"),parseInt(s),parseInt(l))),i&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.TextControl,{type:"number",value:s,onChange:function(e){return u("percent",e)},label:Object(o.__)("Sample size (in percent)","wp-marketing-automations"),placeholder:Object(o.__)("Enter percent","wp-marketing-automations"),className:$e()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(s)})}),Object(a.createElement)(r.TextControl,{type:"number",value:l,onChange:function(e){return u("hours",e)},label:Object(o.__)("Wait time (in hours)","wp-marketing-automations"),placeholder:Object(o.__)("Enter hour difference","wp-marketing-automations"),className:$e()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(l)})}))):null};function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var He="ABCDEFGHIJKLMNOPQRSTUVWXYZ",We=function(e){var t=e.mailData,n=e.unsubscribeLink,c=e.errMsg,s=I(),l=E(),u=s.setCurrentEmail,m=s.addEmail,f=s.showValidation,p=s.deleteEmail,g=s.overrideCurrentContent,O={1:Object(o.__)("Email","wp-marketing-automations.crm"),2:Object(o.__)("SMS","wp-marketing-automations.crm"),3:Object(o.__)("WhatsApp","wp-marketing-automations.crm")},y=Ke(Object(a.useState)(!1),2),j=y[0],w=y[1],v=l.getEmails(),_=l.getCurrentEmail(),h=l.getSmartSendSettings(),S=l.emailsValidToSubmit(),k=l.getShowValidationFlag(),C=l.getValidEmails(),T=i.a.getCampaignData(),$=!(T&&T.data&&T.data.ab_type)||"ab"===T.data.ab_type,A=Object(a.useRef)(!1),P=Object(a.useCallback)((function(e){return $e()({active:_===e,"bwf-error-tab":!C[e]&&k})})),N=!![!h.enable||!!parseInt(h.hours)&&v.length>1,!h.enable||!!parseInt(h.percent)&&v.length>1].reduce((function(e,t){return e&&t}),!0),x=Object(a.useContext)(d.d),M=function(e){g(e),x(Object(o.__)("Template Applied Successfully.","wp-marketing-automations")),setTimeout((function(){x("")}),2e3)};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-p-gap bwf-border"},(!S||!N||!n)&&k&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(De.a,null),Object(a.createElement)(r.Notice,{className:"bwf-error-notice",status:"error",onRemove:function(){return f(!1)}},(!S||!N)&&Object(o.__)("Some required fields are not filled, check below","wp-marketing-automations"),!n&&Object(a.createElement)(a.Fragment,null,(!S||!N)&&Object(a.createElement)("br",null),Object(b.isEmpty)(c)?Object(o.__)("{{unsubscribe_link}} are required merge tags, they must be missing from the email body","wp-marketing-automations"):c))),$?Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,v.map((function(e,t){return Object(a.createElement)("li",{onClick:function(){return function(e){!A.current&&u(e),A.current=!1}(e)},className:P(e),key:"bwf-c-campaign-email-tabs-".concat(t)},Object(o.__)(0===t?"Control ":"Variant ","wp-marketing-automations")," ",t>0&&He[parseInt(t)%He.length-1],t>0&&Object(a.createElement)(r.Button,{icon:"no",onClick:function(){return function(e){A.current=!0,p(e)}(e)}}))})),v.length<3&&Object(a.createElement)("li",{className:"bwf-c-campaign-email-variant"},Object(a.createElement)(r.Button,{icon:"plus",onClick:function(){return m()}},Object(o.__)("Add Variant","wp-marketing-automations")))),1===parseInt(T.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector"},Object(a.createElement)(Fe.a,{showText:!1,openTemplate:j,setTemplateModal:w,applyTemplate:M}))):Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,Object(a.createElement)("li",{style:{borderBottom:"2px solid #0073aa"}},O.hasOwnProperty(T.type)?O[T.type]:Object(o.__)("Email","wp-marketing-automations"))),1===parseInt(T.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector bwf-display-flex"},Object(a.createElement)(Fe.a,{showText:!1,openTemplate:j,setTemplateModal:w,applyTemplate:M}))),Object(a.createElement)(Ue,{maildata:t,setTemplateModal:w}),Object(a.createElement)(Ve,null)))},ze=n(134);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(e){var t=Object(m.i)(),n=Qe(Object(a.useState)({message:"",type:1}),2),l=n[0],p=n[1],g=Qe(Object(a.useState)([]),2),O=g[0],y=g[1],j=Qe(Object(a.useState)([]),2),w=j[0],v=j[1],_=Qe(Object(a.useState)(Object(d.A)("from_name")),2),h=_[0],S=_[1],k=Qe(Object(a.useState)(Object(d.A)("from_email")),2),C=k[0],T=k[1],$=Qe(Object(a.useState)(Object(d.A)("reply_to_email")),2),A=$[0],P=$[1],N=Qe(Object(a.useState)(""),2),x=N[0],M=N[1],L=Object(s.a)().setCampaignValues,B=i.a.getCampaignId(),R=i.a.getCampaignData(),U=parseInt(R.type);Object(a.useEffect)((function(){R&&!Object(b.isNull)(R.data)&&(R.data.hasOwnProperty("content")&&!Object(b.isEmpty)(R.data.content)?y(R.data.content):y(1==U?[{subject:"",preheader:"",type:"rich",body:"",utm:{}}]:[{body:"",utm:{}}]),R.data.hasOwnProperty("senders_name")&&S(R.data.senders_name),R.data.hasOwnProperty("senders_email")&&T(R.data.senders_email),R.data.hasOwnProperty("replyto")&&!Object(b.isEmpty)(R.data.replyto)&&P(R.data.replyto))}),[]);var F=Object(ze.a)().setL2Title;Object(a.useEffect)((function(){F("title"in R?Object(a.createElement)(a.Fragment,null,R.title):"")}),[R]);var D={name:1!==U||null===h||h.length>0,email:1!==U||null===C||Object(c.a)(C),content:null===O||O.length>0},V=E(),K=V.emailsValidToSubmit(),G=V.getEmails(),H=V.getAllEmailContent(),W=V.getSmartSendSettings(),z=I();Object(a.useEffect)((function(){if(R&&R.data){var e=!R.data.ab_type||"ab"===R.data.ab_type,t=R.data.content?Array.isArray(R.data.content)&&!e?[R.data.content[0]]:R.data.content:[],n=R.data.smart_send&&e?R.data.smart_send:{};z.initContent(t,n)}}),[B]);var Z=!![1!==U||h&&h.length>0,1!==U||C&&Object(c.a)(C),1!==U||Object(b.isEmpty)(A)||A&&Object(c.a)(A)].reduce((function(e,t){return e&&t}),!0),J=!![!W.enable||!!parseInt(W.hours)&&G.length>1,!W.enable||!!parseInt(W.percent)&&G.length>1].reduce((function(e,t){return e&&t}),!0),q=function(){if(1!==U)return!0;var e=Object(d.p)();M("");var t=!1,n=[];return G.map((function(a){var r=H.hasOwnProperty(a)?H[a]:{},o="";r.hasOwnProperty("type")&&("editor"==r.type?r.hasOwnProperty("editor")&&r.editor.hasOwnProperty("body")&&(o=r.editor.body):r.hasOwnProperty("body")&&(o=r.body)),(t=(e.includes("unsubscribe_link")||o.includes("{{unsubscribe_link}}"))&&(e.includes("business_name")||o.includes("{{business_name}}"))&&(e.includes("business_address")||o.includes("{{business_address}}")))||(e.includes("unsubscribe_link")||o.includes("{{unsubscribe_link}}")||n.push("{{unsubscribe_link}}"),e.includes("business_name")||o.includes("{{business_name}}")||n.push("{{business_name}}"),e.includes("business_address")||o.includes("{{business_address}}")||n.push("{{business_address}}"))})),Object(b.isEmpty)(n)||M("The required merge tags "+n.join(", ")+(n.length>1?" are ":" is ")+" missing in the email body."),v(t),t},Y=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=q(),z.showValidation(!1),!(Z&&K&&J&&n)){t.next=17;break}return e.setPending(!0),t.prev=4,a=Je({content:G.map((function(e){return K[e]})),senders_name:h,senders_email:C,replyto:A,modified_by:Object(d.x)()},W.enable?{smart_send:{enable:W.enable,percent:W.percent,hours:W.hours}}:{}),r={content:JSON.stringify(a),step:3},t.next=9,u()({path:Object(d.m)("/broadcast/".concat(B)),method:"POST",data:r}).then((function(e){200===e.code?(L("data",e.result),L("step",4)):p({message:e.message,type:0})}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),p({message:t.t0.message,type:0});case 14:e.setPending(!1),t.next=18;break;case 17:z.showValidation(!0);case 18:case"end":return t.stop()}}),t,null,[[4,11]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function c(e){Ye(o,a,r,c,i,"next",e)}function i(e){Ye(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}(),Q=D&&!D.email?" bwf-field-error":"",X=D&&!D.name?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(De.a,null),Object(a.createElement)("div",{className:"bwf-campaign-step-div bwf-card-wrap bwf-campaign-step-3"},Object(a.createElement)("div",{className:"bwf-card-header"},Object(a.createElement)("span",{className:"bwf-form-title"},Object(o.__)("Content","wp-marketing-automations"))),1===U&&Object(a.createElement)("div",{className:"bwf-p-gap"},Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:h,onChange:S,label:Object(o.__)("From Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Name","wp-marketing-automations"),className:X}))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:C,onChange:T,label:Object(o.__)("From Email","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Email","wp-marketing-automations"),className:Q})),Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:A,placeholder:Object(o.__)("Enter Reply-To Email","wp-marketing-automations"),label:Object(o.__)("Reply-To Email","wp-marketing-automations"),onChange:P}))))),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)(We,{mailData:{reply_to:A,senders_email:C,senders_name:h},unsubscribeLink:w,errMsg:x}),Object(a.createElement)(f.a,{message:l.message,type:l.type,removeMessage:function(){return p({message:"",type:1})}})),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)("div",{className:"bwf-crm-campaign-navigation"},Object(a.createElement)(r.Button,{className:"bwf-crm-navigation-previous",isSecondary:!0,onClick:function(){var e=R.data&&!Object(b.isNull)(R.data)&&R.data.hasOwnProperty("filters")?R.data.filters:{};Object(b.isEmpty)(e)||Object(m.k)(e,"/",t),L("step",2)}},Object(o.__)("Previous","wp-marketing-automations")),Object(a.createElement)(r.Button,{isPrimary:!0,className:"bwf-crm-navigation-next",disabled:!Z,onClick:Y,isBusy:e.isPending},Object(o.__)("Next","wp-marketing-automations"))))))}},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(54),r={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)(7[5-9])\d{1,7}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[689]\d{7}$/,"en-SL":/^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([3568][0-9]|4[579]|6[67]|7[01235678]|9[012356789])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};function o(e,t,n){if(Object(a.a)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(r.hasOwnProperty(t)&&r[t].test(e))return!0;return!1}));if(t in r)return r[t].test(e);if(!t||"any"===t){for(var o in r){if(r.hasOwnProperty(o))if(r[o].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}r["en-CA"]=r["en-US"],r["fr-CA"]=r["en-CA"],r["fr-BE"]=r["nl-BE"],r["zh-HK"]=r["en-HK"],r["zh-MO"]=r["en-MO"],r["ga-IE"]=r["en-IE"];Object.keys(r)}}]);