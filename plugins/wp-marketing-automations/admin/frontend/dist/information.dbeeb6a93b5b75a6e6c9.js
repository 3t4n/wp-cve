(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1114:function(e,t,n){},1185:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(10),o=n.n(a),c=n(2),i=n(804),l=n(798),s=n(826),u=n(141),m=n(853),f=n(5),b=n(877),p=n(4),d=n(51),O=n(27),y=n(100),j=n(142),v=n(3),g=n(8);function h(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){w(o,r,a,c,i,"next",e)}function i(e){w(o,r,a,c,i,"throw",e)}c(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.contactId,n=e.lists,a=e.saveList,l=k(Object(r.useState)(n),2),s=l[0],u=l[1],m=k(Object(r.useState)(!1),2),b=m[0],w=m[1],_=k(Object(r.useState)(!1),2),S=_[0],C=_[1],N=k(Object(r.useState)([]),2),P=N[0],A=N[1],x=k(Object(r.useState)({message:"",type:1}),2),I=x[0],T=x[1],D=k(Object(r.useState)(""),2),F=D[0],R=D[1],B=(Object(i.a)().setContactField,function(){var e=E(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.m)("/contacts/".concat(t,"/lists")),method:"DELETE",data:{lists:[parseInt(n.ID)]}}).then((function(e){200==e.code?(T({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("lists",s.filter((function(e){return e.ID!=n.ID})))):T({message:e.message,type:1})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),T({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),M=function(){var e=E(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.m)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T({message:t.message,type:1}),Object(v.isEmpty)(t.result)||(n=t.result.list_added.map((function(e){return e})),r=[].concat(h(s),h(n)),r=Object(v.uniqBy)(r,"ID"),u(r),a("lists",r)),A([]),w(!1),C(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw Error(Object(f.j)(null==e?void 0:e.message))}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),R(e.t0.message),C(!1),u(n);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),G=P&&P.map((function(e){return{key:e.id,label:e.name}})),L=function(){0==P.length?R(Object(c.__)("Please select a list.","wp-marketing-automations")):(R(""),M(P))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:I.message,type:I.type,removeMessage:function(){return T({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Lists","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e,t){return Object(r.createElement)(d.a,{key:t,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return B(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return w(!0)}},Object(r.createElement)(g.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))),b&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return w(!1)},className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-overflow-visible bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(c.__)("Add Lists","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){return w(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),F&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return R("")}},F),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&L()}},Object(r.createElement)("div",{style:S?{pointerEvents:"none"}:{}},Object(r.createElement)(O.a,{autocompleter:y.a,multiple:!0,allowFreeTextSearch:!0,inlineTags:!0,selected:G,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),A(e)},onRemoveTag:function(e){A(P.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by list name","wp-marketing-automations"),bwfEnableEmptySearch:!0,showClearButton:!1,disabled:!1})),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",disabled:S,onClick:function(){w(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,isBusy:S,disabled:S,onClick:function(){L()},className:"bwf-ml-0"},Object(c.__)("Add","wp-marketing-automations")))))))};C.defaultProps={contactId:0,lists:[]};var N=C,P=n(75);function A(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){x(o,r,a,c,i,"next",e)}function i(e){x(o,r,a,c,i,"throw",e)}c(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.contactId,n=e.tags,a=e.saveTags,l=T(Object(r.useState)(n),2),s=l[0],u=l[1],m=T(Object(r.useState)(!1),2),b=m[0],y=m[1],h=T(Object(r.useState)([]),2),w=h[0],E=h[1],k=T(Object(r.useState)(!1),2),_=k[0],S=k[1],C=T(Object(r.useState)({message:"",type:1}),2),N=C[0],x=C[1],D=T(Object(r.useState)(""),2),F=D[0],R=D[1],B=(Object(i.a)().setContactField,function(){var e=I(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.m)("/contacts/".concat(t,"/tags")),method:"DELETE",data:{tags:[parseInt(n.ID)]}}).then((function(e){x({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("tags",s.filter((function(e){return e.ID!=n.ID})))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),M=function(){var e=I(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.m)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=I(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({message:t.message,type:1}),Object(v.isEmpty)(t.result)||(n=t.result.tags_added.map((function(e){return e})),r=[].concat(A(s),A(n)),r=Object(v.uniqBy)(r,"ID"),u(r),a(r)),y(!1),E([]),S(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw Error(Object(f.j)(null==e?void 0:e.message))}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),R(e.t0.message),S(!1),u(n);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),G=w&&w.map((function(e){return{key:e.id,label:e.name}})),L=function(){0==w.length?R(Object(c.__)("Please select a tag.","wp-marketing-automations")):(R(""),M(w))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:N.message,type:N.type,removeMessage:function(){return x({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e,t){return Object(r.createElement)(d.a,{key:t,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return B(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return y(!0)}},Object(r.createElement)(g.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))),b&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return y(!1)},className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-overflow-visible bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(c.__)("Add Tags","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){return y(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),F&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return R("")}},F),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&L()}},Object(r.createElement)("div",{style:_?{pointerEvents:"none"}:{}},Object(r.createElement)(O.a,{autocompleter:P.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:G,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),E(e)},onRemoveTag:function(e){E(w.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by tag name","wp-marketing-automations"),showClearButton:!1,disabled:!1})),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",disabled:_,onClick:function(){y(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,isBusy:_,disabled:_,onClick:function(){L()},className:"bwf-ml-0"},Object(c.__)("Add","wp-marketing-automations")))))))};R.defaultProps={contactId:0,tags:[]};var B=R;function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t=e.links,n=M(Object(r.useState)(t),1)[0];return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Link Triggers"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,Object(v.isEmpty)(n)?"-":n.map((function(e){return Object(r.createElement)(d.a,{key:e.ID,label:e.title,id:e.ID,screenReaderLabel:e.title})})))))};L.defaultProps={contactId:0,links:[]};var K=L,U=n(878),q=(n(1114),n(254)),z=n(256),$=n(44),J=n(836),V=n(251);function Q(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){var t=e.options,n=e.field,a=e.setField,o="";return Object(v.isEmpty)(t)||(o=t.map((function(e,t){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-option-wrapper"},Object(r.createElement)(p.TextControl,{value:e,className:"bwf-m-f-add-option",placeholder:Object(c.__)("Add Option Name","wp-marketing-automations"),onChange:function(e){var r=n.meta&&n.meta.options?n.meta.options:[];r[t]=e,a(X(X({},n),{},{meta:X(X({},n.meta),{},{options:r})}))}}),Object(r.createElement)("span",{className:"dashicons dashicons-dismiss",onClick:function(){var e=n.meta.options;e.splice(t,1),a(X(X({},n),{},{meta:X(X({},n.meta),{},{options:e})}))}})))}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},o&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Options","wp-marketing-automations")),o),Object(r.createElement)(p.Button,{isSecondary:!0,className:"bwf-m-f-add-option-btn bwf-ml-0 bwf-display-flex",onClick:function(){var e=n.meta&&n.meta.options?n.meta.options:[];e.push(""),a(X(X({},n),{},{meta:X(X({},n.meta),{},{options:e})}))}},Object(c.__)("Add Option","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf_clear_20"}))},te=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(q.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)($.a,null)},ne=function(){var e=Object(r.useContext)(f.d),t=Object(J.a)(),n=Z(Object(r.useState)([]),2),a=n[0],i=n[1],l=Z(Object(r.useState)({}),2),u=l[0],m=l[1],b=Z(Object(r.useState)(!1),2),d=b[0],O=b[1],y=Z(Object(r.useState)({status:!1,message:""}),2),j=y[0],h=y[1],w=Object(V.b)(),E=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o()({path:Object(f.m)("/fields/"),method:"POST",data:{group_id:r.group,field:{name:r.name,type:r.type,search:r.search,options:r.meta&&r.meta.options&&[4,5,6].includes(parseInt(r.type))?r.meta.options:[],placeholder:r.meta&&r.meta.placeholder?r.meta.placeholder:""}},headers:{"Content-Type":"application/json"}});case 3:if(!(a=n.sent)||200!==a.code){n.next=14;break}w.getQueryData(["get-bwf-fields"])&&w.removeQueries(["get-bwf-fields"]),h({status:!1}),t.fetch(),O(!1),e(a.message),Object(f.gb)(e,2e3),n.next=15;break;case 14:throw Error(Object(f.j)(null==a?void 0:a.message));case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(0),i([null===n.t0||void 0===n.t0?void 0:n.t0.message]),h({status:!1});case 21:case"end":return n.stop()}}),n,null,[[0,17]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){Q(o,r,a,c,i,"next",e)}function i(e){Q(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(s.a)(),n=t.getGroups(),a=Object(J.a)();Object(r.useEffect)((function(){Object(v.isEmpty)(n)&&a.fetch()}),[]);var o=[{value:"",label:Object(c.__)("Select group","wp-marketing-automations")}];return n&&n.map((function(t){0!==parseInt(e)&&parseInt(t.id)===parseInt(e)||o.push({value:t.id,label:t.name})})),o}(),_=Object(c.__)(u&&u.id?"Edit Field":"Add Field","wp-marketing-automations"),S=function(){var e,t=[];if(u.name||t.push(Object(c.__)("Please enter field name.","wp-marketing-automations")),""===u.group&&t.push(Object(c.__)("Please select a group for field.","wp-marketing-automations")),u.type||t.push(Object(c.__)("Please select a type for field.","wp-marketing-automations")),![4,5,6].includes(parseInt(u.type))||(e=u).meta&&e.meta.options&&Object(v.isArray)(e.meta.options)&&0!==e.meta.options.length&&0!==e.meta.options.filter((function(e){return null!=e&&""!=e})).length||t.push(Object(c.__)("Please enter options for field.","wp-marketing-automations")),Object(v.isEmpty)(t)){var n=[];u.meta&&!Object(v.isEmpty)(u.meta.options)&&(n=u.meta.options.filter((function(e){return null!=e&&""!=e}))),m(X(X({},u),{},{meta:X(X({},u.meta),{},{options:n})})),h({status:!0}),E(X(X({},u),{},{meta:X(X({},u.meta),{},{options:n})}))}else i(t)};return Object(r.createElement)(r.Fragment,null,d&&Object(r.createElement)(p.Modal,{title:_,onRequestClose:function(){return O(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},_),Object(r.createElement)("span",{onClick:function(){return O(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),j.success||j.error?Object(r.createElement)(te,{state:j}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&S()}},Array.isArray(a)&&a.length>0&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return i([])}},a.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Field Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-field-name",autoFocus:!0,value:u&&u.name?u.name:"",placeholder:Object(c.__)("Enter field name","wp-marketing-automations"),onChange:function(e){m(X(X({},u),{},{name:e}))},disabled:j.status})),!!u&&[1,2,3].includes(parseInt(u.type))&&Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Placeholder","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-placeholder-name",value:u&&u.meta?u.meta.placeholder:"",placeholder:Object(c.__)("Placeholder text here …","wp-marketing-automations"),onChange:function(e){m(X(X({},u),{},{meta:X(X({},u.meta),{},{placeholder:e})}))},disabled:j.status})),(!u||!parseInt(u.id))&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Group","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u.group,className:"bwf-m-f-model-group-name",options:k,onChange:function(e){return m(X(X({},u),{},{group:e}))},disabled:j.status})),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Type","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u?u.type:1,className:"bwf-m-f-model-field-type",options:Object(f.C)(),onChange:function(e){return m(X(X({},u),{},{type:e}))},disabled:j.status}))),!!u&&[4,5,6].includes(parseInt(u.type))&&Object(r.createElement)(ee,{options:u.meta&&u.meta.options?u.meta.options:[],field:u,setField:m}),Object(r.createElement)(p.ToggleControl,{label:Object(c.__)("Is searchable","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:!u||!u.search||2!=parseInt(u.search),onChange:function(e){var t=1;e||(t=2),m(X(X({},u),{},{search:t}))},disabled:j.status}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",onClick:function(){return O(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){S()},className:"bwf-m-f-model-save-btn bwf-ml-0",disabled:j.status,isBusy:j.status},Object(c.__)("Add","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-p-15",isPrimary:!0,onClick:function(){m({}),i([]),O(!0)}},Object(c.__)("Add Field","wp-marketing-automations")))};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=function(){var e=Object(J.a)().setStateGroupValues,t=Object(r.useContext)(f.d),n=Object(s.a)().getGroups(),a=le(Object(r.useState)([]),2),i=a[0],l=a[1],u=le(Object(r.useState)({}),2),m=u[0],b=u[1],d=le(Object(r.useState)(!1),2),O=d[0],y=d[1],j=le(Object(r.useState)({status:!1,message:""}),2),h=j[0],w=j[1],E=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){var c,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o()({path:Object(f.m)("/groupfields/"),method:"POST",data:{group_name:a.name},headers:{"Content-Type":"application/json"}});case 3:if(200!=(c=r.sent).code){r.next=13;break}i=c.result?c.result[0]:{},Object(v.isEmpty)(i)||e([].concat(ce(n),[{id:i.id,name:i.name,fields:[]}])),w({status:!1}),y(!1),t(c.message),Object(f.gb)(t,2e3),r.next=14;break;case 13:throw Error(Object(f.j)(null==c?void 0:c.message));case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(0),l([null===r.t0||void 0===r.t0?void 0:r.t0.message]),w({status:!1});case 20:case"end":return r.stop()}}),r,null,[[0,16]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function c(e){ie(o,n,a,c,i,"next",e)}function i(e){ie(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return a.apply(this,arguments)}}(),k=Object(c.__)(Object(v.isEmpty)(m.group_id)&&"0"!=m.group_id?"Add Field Group":"Edit Field Group","wp-marketing-automations"),_=function(){var e=[];m.name||e.push(Object(c.__)("Please enter group name.","wp-marketing-automations")),Object(v.isEmpty)(e)?(w({status:!0}),E(m)):l(e)};return Object(r.createElement)(r.Fragment,null,O&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return y(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},k),Object(r.createElement)("span",{onClick:function(){return y(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&_()}},!Object(v.isEmpty)(i)&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return l([])}},i.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{type:"text",value:m&&m.name?m.name:"",autoFocus:!0,placeholder:Object(c.__)("Enter field group name","wp-marketing-automations"),onChange:function(e){b(ae(ae({},m),{},{name:e}))},disabled:h.status})),Object(r.createElement)("div",{className:"bwf_clear"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",onClick:function(){return y(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){_()},className:"bwf-m-f-model-save-btn bwf-ml-0",disabled:h.status,isBusy:h.status},Object(v.isEmpty)(m)?Object(c.__)("Add","wp-marketing-automations"):Object(c.__)("Save","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){b({}),l([]),y(!0)}},Object(c.__)("Add New Field Group","wp-marketing-automations")))};function fe(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=Object(i.a)().setStateProps,n=l.a.getContactLoading(),a=l.a.getContact(),p=be(Object(r.useState)({message:"",type:1}),2),d=p[0],O=p[1],y=Object(s.a)(),g=y.getLoading(),h=y.getGroups(),w=Object(J.a)();if(Object(r.useEffect)((function(){var e=new AbortController,t=e.signal;return Object(v.isEmpty)(h)&&w.fetch(t),function(){null==e||e.abort()}}),[]),n||g)return Object(r.createElement)(m.d,null);var E,k=a.id,_=void 0===k?0:k,S=a.tags,C=void 0===S?[]:S,P=a.lists,A=void 0===P?[]:P,x=a.link_triggers,I=void 0===x?[]:x,T=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({message:Object(c.__)("Saving…","wp-marketing-automations")}),e.prev=1,e.next=4,o()({path:Object(f.m)("/contacts/".concat(_,"/fields/")),method:"POST",data:{email:a.email,fields:n}}).then((function(e){200===parseInt(e.code)?(O({message:e.message,type:1}),t(e.result)):O({message:e.message,type:0})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),O({message:e.t0.message,type:0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){fe(o,r,a,c,i,"next",e)}function i(e){fe(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}(),D=function(e,t){var n={};n[e]=t,T(n)},F=function(e,n){t(a,e,n)},R=function(e){T(e)},M=function(e,t){return Object(r.createElement)(r.Fragment,null,Object(v.isEmpty)(e)?Object(r.createElement)("div",{style:{padding:"0 15px"}},Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(c.__)("No fields Found","wp-marketing-automations"),Object(r.createElement)("div",{className:"bwf_clear_10"})):e.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:e.type?parseInt(e.type):1,options:e.meta&&e.meta.options?e.meta.options:[],value:a&&a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:D});var n=e.meta&&e.meta.options?e.meta.options:[],o=e.type?parseInt(e.type):1;if("0"==t){if("address"==e.id)return Object(r.createElement)(U.a,{key:e.id,meta:a.fields,contact:a,onChange:R});if("gender"==e.id&&(n=["Male","Female","Others"],o=4),"timezone"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:a[e.id],placeholder:"",onChange:D});if("email"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:"Email",type:1,value:a.email,placeholder:"",onChange:D});if("contact_no"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:D})}return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a.fields&&a.fields[e.id]?a.fields[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:D})}})),0==t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B,{tags:C,saveTags:F,contactId:_}),Object(r.createElement)(N,{lists:A,saveList:F,contactId:_}),Object(r.createElement)(K,{links:I})))};return Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"},Object(r.createElement)(j.a,{message:d.message,type:d.type,removeMessage:function(){return O({message:"",type:1})}})),Object(r.createElement)(u.a,{items:(E=[],h&&h.map((function(e){e.id,E.push({key:e.id,label:e.name,display:M(e.fields,e.id)})})),E)}),Object(r.createElement)(me,null),Object(r.createElement)(ne,null))}},826:function(e,t,n){"use strict";var r=n(136),a=(n(798),n(3));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){if(!Array.isArray(e)||0===e.length)return!1;var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!(!1 in a)){var o,c=s(a.fields);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(!(!1 in i)&&t===i.slug)return i}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){r.e(e)}finally{r.f()}return!1},f=function(e,t){if(0===Object(a.size)(e))return!1;for(var n in e){var r=e[n];if(r&&r.slug&&t===r.slug)return r}return!1};t.a=function(){var e=Object(r.a)("groupdata"),t=e.getStateProp;return c(c({},l(e,["getStateProp"])),{},{getGroups:function(){return t("groups")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getFieldBySlug:function(e){var n=t("groups"),r=t("extra_fields"),a=m(n,e);return(!1!==a||!1!==(a=f(r,e)))&&a.ID},getCountData:function(){return t("countData")}})}},836:function(e,t,n){"use strict";var r=n(137),a=n(5);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("groupdata"),t=e.fetch,n=e.setStateProp;return c(c({},l(e,["fetch","setStateProp"])),{},{fetch:function(e){t("GET",Object(a.m)("/groupfields"),"","",e)},setStateGroupValues:function(e){n("groups",e)},setGroupValues:function(e,t){n(e,t)}})}},877:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(4),c=n(3),i=n(70),l=n(5);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.index,n=e.label,u=e.value,m=e.type,f=e.options,b=e.onChange,p=e.placeholder,d=Object(a.__)("Click to Edit","wp-marketing-automations"),O=s(Object(r.useState)(u),2),y=O[0],j=O[1],v=s(Object(r.useState)(!1),2),g=v[0],h=v[1],w=Object(l.bb)(),E=function(e,t){var n=!1;try{e&&JSON.parse(e).includes(t)&&(n=!0)}catch(e){}return n};return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},n||t),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("span",{className:"bwf-editable-span",title:d,onClick:function(e){h(!0)}},g&&Object(r.createElement)(i.a,{onFocusOutside:function(e){h(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},[4,5,6].includes(parseInt(m))&&Object(c.isEmpty)(f)?Object(a.__)("Add Options to select here","wp-marketing-automations"):Object(r.createElement)(r.Fragment,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";switch(e){case 1:return Object(r.createElement)(o.TextControl,{value:n,className:"bwf-pop-input-field",placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onChange:function(e){j(e)},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))}});case 2:return Object(r.createElement)(o.TextControl,{type:"number",value:n,placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))},onChange:function(e){j(e)}});case 3:return Object(r.createElement)(o.TextareaControl,{value:n,onChange:function(e){j(e)}});case 4:var l=[{value:"",label:Object(a.__)("Select Option","wp-marketing-automations")}];return c.map((function(e){l.push({value:e,label:e})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:l,onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))},onChange:function(e){j(e)}});case 5:var u=[];return c.map((function(e){u.push({value:e,label:e})})),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))}},Object(r.createElement)(o.RadioControl,{label:Object(a.__)("Select an Option","wp-marketing-automations"),selected:n,options:u,onChange:function(e){j(e)}}));case 6:return Object(r.createElement)(r.Fragment,null,c.map((function(e,a){return Object(r.createElement)(o.CheckboxControl,{key:a,label:e,checked:E(n,e),onChange:function(t){var r=[];try{r=n?JSON.parse(n):[],t?r.push(e):r=r.filter((function(t){return t!==e})),j(JSON.stringify(r))}catch(t){r.push(e),j(JSON.stringify(r))}},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))}})})));case 7:return Object(r.createElement)("input",{type:"date",value:n,style:{width:"100%"},onChange:function(e){j(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),h(!1))}});case 8:var m=[{value:"",label:Object(a.__)("Select timezone","wp-marketing-automations")}];return Object.entries(w).map((function(e){var t=s(e,2),n=t[0],r=t[1];m.push({value:n,label:r})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:m,onKeyPress:function(e){"Enter"===e.key&&(b(t,n),h(!1))},onChange:function(e){j(e)}})}}(parseInt(m),y,f,p),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(o.Button,{className:"bwf-modal-cancel-btn",onClick:function(e){e.stopPropagation(),h(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(o.Button,{isPrimary:!0,className:"bwf-pop-button",onClick:function(e){e.stopPropagation(),b(t,y),h(!1)}},Object(a.__)("Update","wp-marketing-automations")))))),function(){var e=Object(a.__)("-","wp-marketing-automations");if(Object(c.isEmpty)(u))return e;if(6===m)try{var t=JSON.parse(u);Object(c.isEmpty)(t)||(e=t.sort().join(", "))}catch(e){}else e=u;if(8===m&&(e="-",w.hasOwnProperty(u)&&(e=w[u])),7===m)try{e=Object(l.N)(u,!1,!1)}catch(t){e="-"}return e}())))}},878:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(4),c=n(3),i=n(70),l=n(255),s=n(826),u=n(5);function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.meta,n=e.onChange,p=e.contact,d=Object(s.a)().getFieldBySlug,O={addressOne:d("address-1"),addressTwo:d("address-2"),pinCode:d("postcode"),city:d("city")},y=b(Object(r.useState)(""),2),j=y[0],v=y[1],g=b(Object(r.useState)(""),2),h=g[0],w=g[1],E=b(Object(r.useState)(""),2),k=E[0],_=E[1],S=b(Object(r.useState)(""),2),C=S[0],N=S[1],P=b(Object(r.useState)(""),2),A=P[0],x=P[1],I=b(Object(r.useState)(""),2),T=I[0],D=I[1],F=b(Object(r.useState)(!1),2),R=F[0],B=F[1],M=Object(u.l)();Object(r.useEffect)((function(){v(t[O.addressOne]),w(t[O.addressTwo]),_(t[O.pinCode]),N(t[O.city]),x(p.state),D(p.country)}),[R]);var G,L=Object(a.__)("Click to Edit","wp-marketing-automations"),K=Object.entries(l).map((function(e){var t=b(e,2),n=t[0];return{label:t[1],value:n}}));return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(a.__)("Address","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("div",{className:"bwf-editable-span",title:L,onClick:function(){return B(!0)}},(G=[],M.map((function(e){var n=function(e){var n="";switch(e){case"address-1":t.hasOwnProperty(O.addressOne)&&""!==t[O.addressOne]&&(n=t[O.addressOne]);break;case"address-2":t.hasOwnProperty(O.addressTwo)&&""!==t[O.addressTwo]&&(n=t[O.addressTwo]);break;case"postcode":t.hasOwnProperty(O.pinCode)&&""!==t[O.pinCode]&&(n=t[O.pinCode]);break;case"city":t.hasOwnProperty(O.city)&&""!==t[O.city]&&(n=t[O.city]);break;case"country":n=l.hasOwnProperty(p.country)?l[p.country]:p.country;break;case"state":p.hasOwnProperty("state")&&""!==p.state&&(n=p.state)}return n}(e);""!==n&&G.push(n)})),G=Object(c.isEmpty)(G)?Object(a.__)("Click to enter Address","wp-marketing-automations"):G.filter((function(e){return!!e})).join(", "),Object(r.createElement)("p",null,G))),Object(r.createElement)("div",{className:"bwf-editable-span bwf-w-30 bwf-h-0",style:{display:"block"}},R&&Object(r.createElement)(i.a,{onFocusOutside:function(){B(!1)},position:"bottom"},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},Object(r.createElement)(o.TextControl,{type:"text",key:"1",value:j,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 1","wp-marketing-automations"),onChange:function(e){Object(u.nb)()&&v(e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"2",value:h,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 2","wp-marketing-automations"),onChange:function(e){Object(u.nb)()&&w(e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"3",value:k,className:"bwf-pop-input-field",placeholder:Object(a.__)("Postal/ Zip Code","wp-marketing-automations"),onChange:function(e){Object(u.nb)()&&_(e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"4",value:C,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter City","wp-marketing-automations"),onChange:function(e){Object(u.nb)()&&N(e)}}),Object(r.createElement)(o.SelectControl,{value:T,className:"bwf-c-s-width-full bwf-pop-input-field",options:[{label:"Select country",value:""}].concat(m(K)),onChange:function(e){u.nb&&D(e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"5",value:A,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter State","wp-marketing-automations"),onChange:function(e){Object(u.nb)()&&x(e)}}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(o.Button,{key:"cancel",className:"bwf-modal-cancel-btn",onClick:function(e){e.stopPropagation(),B(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(o.Button,{key:"save",isPrimary:!0,className:"bwf-pop-button",onClick:function(e){var t;e.stopPropagation(),Object(u.nb)()&&(f(t={},O.addressOne,Object(c.isEmpty)(j)?"":j.trim()),f(t,O.addressTwo,Object(c.isEmpty)(h)?"":h.trim()),f(t,O.pinCode,Object(c.isEmpty)(k)?"":k.trim()),f(t,O.city,Object(c.isEmpty)(C)?"":C.trim()),f(t,"state",Object(c.isEmpty)(A)?"":A.trim()),f(t,"country",Object(c.isEmpty)(T)?"":T.trim()),n(t)),B(!1)}},Object(a.__)("Update","wp-marketing-automations"))))))))}}}]);