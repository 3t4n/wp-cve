(function($){ 
"use strict";
//Code here 
})(jQuery); 
function track_execution(){setTimeout(function(){jQuery("#errorResponse").html("It appears that your app compilation is taking  a bit  more than normal app compilation time. This may be due to heavy usage by many others. Please try again, if you still face issue then contact us and we will get back to you with your Android App in a very short time.");}, 300000);}
function custom_page(pid)
{
 jQuery("#wapppress_field_markup_text").val(pid);
 jQuery("#wapppress_home_setting").val(pid);
 jQuery(".panel").hide();
}
function ajax_wapp_push_form(){
	var ajaxData = new FormData(jQuery('#push_from')[0]);
	var ip ='http://199.38.85.107/aapi';
	var ap ='/';
	var i =jQuery('#dirPlgUrl1').val();
	ajaxData.append('action', 'create_push_app');
	ajaxData.append('type', 'push_form');
	ajaxData.append('ip', ip);
	ajaxData.append('ap', ap);
	ajaxData.append('file', 'api-push-msg-v.0.4-t.php');
	jQuery.ajax({
		type: "POST",
		beforeSend: function(){ /* show the loading thing */ 
			Utils.show_loading2();
		},
		complete: function(){ /* hide the loader */  
			Utils.hide_loading2();
		},
		url: ajaxurl, 
		data: ajaxData,
		cache: false,
		dataType: "json",
		contentType: false,
		processData: false,
		success: function( str ) {
			if( str!=null)
			   {
				var res = str.data;
				if(jQuery.trim(res)==1){
						jQuery("#msgId").html("Your push notification / alert message has been sent successfully.");jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
				}else if(jQuery.trim(res)==2){
						jQuery("#msgId").html("Error: require cURL  extension to be enabled.");jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
				}else if(jQuery.trim(res)==3){
						jQuery("#msgId").html('Sorry: Your website does not appear to be hosted online, "Push Notification" feature only works for website hosted on live server.');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
				}else if(jQuery.trim(res)==4){
						jQuery("#msgId").html('Sorry: Currently no device running/using this android app.');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
					
				}else if(jQuery.trim(res)==5){
						jQuery("#msgId").html('Sorry:You have not created any app OR Currently no device running/using this android app.');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
					
				}else if(jQuery.trim(res)==0){
						jQuery("#msgId").html('Error occurred to send push notification.Please try again');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
					
				}else{
						jQuery("#msgId").html('Error occurred to send push notification.Please try again');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
				}
		 }
		},
		error: function(xhr, textStatus, errorThrown){
			jQuery("#msgId").html('Error occurred to send push notification.Please try again');jQuery('textarea[name="push_msg"]').val("");setTimeout(function(){jQuery("#msgId").fadeOut("slow", function () {});}, 3000);
		 }
	});	

}
function ajax_wapp_api_form(){
	var app_type =jQuery('input[name="app_type"]:checked').val();
	var ajaxData = new FormData(jQuery('#customer_support')[0]);
	var ip ='http://199.38.85.107/aapi';
	var ap ='/';
	var i =jQuery('#dirPlgUrl1').val();
	ajaxData.append('action', 'create_app');
	ajaxData.append('type', 'api_create_form');
	ajaxData.append('ip', ip);
	ajaxData.append('ap', ap);	
	if(app_type==1)
	{
	ajaxData.append('file', 'api-pro-v.0.5-t.php');
	var extn= '.aab';
	}
	else{
	ajaxData.append('file', 'api-pro-v.0.4-t.php');
	var extn= '.apk';
	}
	jQuery.ajax({
		type: "POST",
		beforeSend: function(){ /* show the loading thing */ 
			Utils.show_loading();
		},
		url: ajaxurl, 
		data: ajaxData,
		cache: false,
		dataType: "json",
		contentType: false,
		processData: false,
		success: function( str ) {		  		
		   if( str!=null)
			{
				var val = str.data;
				var res = val.split('~');
				if(jQuery.trim(res[0])==1){
						Utils.hide_loading();
						var apn= 'https://author.wapppress.com/dwd/dwn.php?appfile='+res[1]+extn; jQuery('input[name="name"]').val("");jQuery('input[name="app_logo"]').val("");jQuery('input[name="app_splash_image"]').val("");jQuery('input[name="password"]').val("");jQuery('input[name="semail"]').val("");jQuery('input[name="app_splash_text"]').val("");jQuery('input[name="app_logo_text"]').val("");jQuery('input[name="app_name"]').val("");jQuery('input[name="license_key"]').val("");jQuery('input[name="website"]').val("");jQuery("#errorResponse").html('');jQuery("#dwnloakId").css('display','block');jQuery("#dwnloakId").html("<a href='"+apn+"' target='_blank'><img src='"+i+"images/dwn_app.png' width='190'/></a>");
				}else if(jQuery.trim(res[0])==2){
					     Utils.hide_loading();
						jQuery('input[name="app_logo"]').val("");jQuery('input[name="app_splash_image"]').val("");jQuery('input[name="app_splash_text"]').val("");jQuery('input[name="app_logo_text"]').val("");jQuery('input[name="name"]').val("");jQuery('input[name="semail"]').val("");jQuery('input[name="password"]').val("");jQuery('input[name="app_name"]').val("");jQuery('input[name="license_key"]').val("");jQuery('input[name="website"]').val("");jQuery("#supportId").html("Error: require cURL  extension to be enabled");jQuery('html, body').animate({scrollTop: jQuery("#head").offset().top}, 1000);jQuery("#errorResponse").css('display','none');
				}else if(jQuery.trim(res[0])==3){
						 Utils.hide_loading();
						 jQuery('input[name="app_logo"]').val("");jQuery('input[name="app_splash_image"]').val("");jQuery('input[name="app_splash_text"]').val("");jQuery('input[name="app_logo_text"]').val("");jQuery('input[name="name"]').val("");jQuery('input[name="semail"]').val("");jQuery('input[name="password"]').val("");jQuery('input[name="app_name"]').val("");jQuery('input[name="license_key"]').val("");jQuery('input[name="website"]').val("");jQuery("#supportId").html('Sorry: Your website does not appear to be hosted online, "Build App" feature only works for website hosted on live server. It does not generate App in localhost / local server.');jQuery('html, body').animate({scrollTop: jQuery("#head").offset().top}, 1000);jQuery("#errorResponse").css('display','none');
				}else if(jQuery.trim(res[0])==0){
						Utils.hide_loading();					
						alert('We apologize for the inconvenience. You are our valued customer, due to some reason your App compilation has failed. Please try again.');						
						window.location.href=window.location.href;					
				}
				else if(jQuery.trim(res[0])==5){
						Utils.hide_loading();
						alert('This liscense key is invalid or already in use on another website. Kindly use a valid license key or purchase another regular or extended license.');						
						window.location.href=window.location.href;					
				}
				else if(jQuery.trim(res[0])==9){
						Utils.hide_loading();
						alert('Error!-App name is invalid OR Launcher Icon and Splash Screen Images are not in PNG format.');						
						window.location.href=window.location.href;					
				}
				else if(jQuery.trim(res[0])==0){
						Utils.hide_loading();
						alert('We apologize for the inconvenience. You are our valued customer, due to some reason your App compilation has failed. Please try again.');
						window.location.href=window.location.href;			
				}
				else{	
						Utils.hide_loading();
						alert(res[0]);
						window.location.href=window.location.href;
				}
			}
		},
		error: function(xhr, textStatus, errorThrown){
			//alert(xhr.status)
			if(xhr.status)
			{	
				var intervalId = window.setInterval(function() 
				{					
									
						var ajaxData = new FormData();
						var ajaxData = new FormData(jQuery('#customer_support')[0]);
						var ip ='http://199.38.85.107/aapi';
						var ap ='/';
						var i =jQuery('#dirPlgUrl1').val();
						ajaxData.append('action', 'get_app');
						ajaxData.append('type', 'api_get_form');
						ajaxData.append('ip', ip);
						ajaxData.append('ap', ap);
						ajaxData.append('file', 'api-get-f-t-v.1.0.php');
						jQuery.ajax({
							type: "POST",
							beforeSend: function(){ /* show the loading thing */ 
								Utils.show_loading();
							},
							url: ajaxurl, 
							data: ajaxData,
							cache: false,
							dataType: "json",
							contentType: false,
							processData: false,
							success: function( str ) {
								
								if( str!=null)
									{
										var val = str.data;
										var res = val.split('~');
										if(jQuery.trim(res[0])==1){
											   window.clearInterval(intervalId);
											 	var apn= 'https://author.wapppress.com/dwd/dwn.php?appfile='+res[1]+extn; jQuery('input[name="name"]').val("");jQuery('input[name="app_logo"]').val("");jQuery('input[name="app_splash_image"]').val("");jQuery('input[name="password"]').val("");jQuery('input[name="semail"]').val("");jQuery('input[name="app_splash_text"]').val("");jQuery('input[name="app_logo_text"]').val("");jQuery('input[name="app_name"]').val("");jQuery('input[name="license_key"]').val("");jQuery('input[name="website"]').val("");jQuery("#errorResponse").html('');jQuery("#dwnloakId").css('display','block');jQuery("#dwnloakId").html("<a href='"+apn+"' target='_blank'><img src='"+i+"images/dwn_app.png'/></a>");
												Utils.hide_loading();
										}else if(jQuery.trim(res[0])==5){
													Utils.hide_loading();
													alert('Thank you for trying WappPress Basic [Trial Version]. Your trial period for WappPress Basic has expired. To continue using WappPress, please purchase WappPress Pro Version by clicking on Purchase button in your WappPress plugin.');
						window.open('http://codecanyon.net/item/wapppress-builds-android-app-for-any-wordpress-website/10250300', '_self', 'location=no');				
											}
									}
								
								
								
							}
						});	
			  },10000);
			}else{
				Utils.hide_loading();
				setCookie('wapppress_proxy', "true", 100);
				alert('We apologize for the inconvenience. You are our valued customer, due to some reason your App compilation has failed. Please try again.');
				window.location.href=window.location.href;
			}			
			
		 }
	});	
}
jQuery(document).ready(function(e){var t=e("#wapppress_url").val();e("#mobile_frame").attr({src:t});e("iframe").load(function(){e("iframe").contents().find("#customize-controls a").css({display:"none"});e("iframe").contents().find("#customize-controls").addClass('wp_test');e("iframe").contents().find("#customize-preview").css({display:"block"});e("iframe").contents().find(".wp-full-overlay").addClass("collapsed");e("iframe").contents().find(".wp-full-overlay").removeClass("expanded");e("iframe").contents().find(".wp-full-overlay").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay .collapse-sidebar").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay-main").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay-sidebar").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e(".mobileFrame").loader("hide")});e("#wapppress_home_setting").on("keyup",function(t){var n=e("#wapppress_home_setting").val();if(n.length<2){e(".wapppress_field_markup_text").css({display:"none"});return}else{e(".wapppress_field_markup_text").css({display:"block"})}if(t.which<=90&&t.which>=48||t.which==8){var r={action:"search_post_handler",search_val:n,nonce:e("#_wpnonce").val()};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:r,success:function(t){if(typeof t.data!=="undefined"){e(".wapppress_field_markup_text").html(t.data)}}})}});e(".wapppress_field_markup_text a").on("click",function(t){var n=e(this);console.log("this data",n);e("#wapppress_home_setting").val(n.data("postid"));e("#wapppress_field_markup_text").hide();return false});e(".switch").click(function(){e(this).toggleClass("switchOn")});e(".switchBig").click(function(){e(this).toggleClass("switchBigOn")});e(":input#wapppress_theme_setting").change(function(){var t=e("#wapppress_theme_setting").find("option:selected").attr("id");e("#mobile_frame").attr({src:t});e(".mobileFrame").loader("show");var n=setTimeout(function(){e("iframe").load(function(){e("iframe").contents().find("#customize-controls a").css({display:"none"});e("iframe").contents().find("#customize-controls").addClass('wp_test');e("iframe").contents().find(".wp-full-overlay").addClass("collapsed");e("iframe").contents().find(".wp-full-overlay").removeClass("expanded");e("iframe").contents().find(".wp-full-overlay").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay .collapse-sidebar").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay-main").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"});e("iframe").contents().find(".wp-full-overlay-sidebar").css({"transition-property":"left, right, top, bottom, width, margin","-webkit-transition-duration":"0.01ms","-moz-transition-duration":"0.01ms","-o-transition-duration":"0.01ms","transition-duration":"0.01ms"})});e(".mobileFrame").loader("hide")},1e3);clearTimeout(n)})});
function setCookie(cname, cvalue, expdays) {var d = new Date();	d.setTime(d.getTime() + (expdays*24*60*60*1000));var expires = "expires="+d.toUTCString();document.cookie = cname + "=" + cvalue + "; " + expires;}
function get_site_perview(){var p_website = jQuery("#app_url").val();if(p_website==''){p_website='';}jQuery("#mobile_frame_demo").attr("src", 'https://wapppress.com/prw.php?shop_url='+p_website);}
function show_popup(id) {jQuery('#'+id).show();}
function close_popup(id) {jQuery('#'+id).hide();}
var Utils={show_loading:function(){ jQuery("body").append("<div class='loaderBox'><div class='loaderIn'><h1 class='loaderInfo'>Please wait while the system creates android app</h1><div class='loaderBoxIn'><div class='contentBar'><div id='block_1' class='barlittle'></div><div id='block_2' class='barlittle'></div><div id='block_3' class='barlittle'></div><div id='block_4' class='barlittle'></div><div id='block_5' class='barlittle'></div></div></div></div></div>");jQuery(".loaderBox").show()},hide_loading:function(){jQuery(".loaderBox").hide()},show_loading1:function(){ jQuery("body").append("<div class='loaderBox'><div class='loaderIn'><h1 class='loaderInfo'>Please wait while the system send your notification password</h1><div class='loaderBoxIn'><div class='contentBar'><div id='block_1' class='barlittle'></div><div id='block_2' class='barlittle'></div><div id='block_3' class='barlittle'></div><div id='block_4' class='barlittle'></div><div id='block_5' class='barlittle'></div></div></div></div></div>");jQuery(".loaderBox").show()},hide_loading1:function(){jQuery(".loaderBox").hide()},show_loading2:function(){ jQuery("body").append("<div class='loaderBox'><div class='loaderIn'><h1 class='loaderInfo'>Please wait while the system send your notification</h1><div class='loaderBoxIn'><div class='contentBar'><div id='block_1' class='barlittle'></div><div id='block_2' class='barlittle'></div><div id='block_3' class='barlittle'></div><div id='block_4' class='barlittle'></div><div id='block_5' class='barlittle'></div></div></div></div></div>");jQuery(".loaderBox").show()},hide_loading2:function(){jQuery(".loaderBox").hide()}}
