({init(){this.promptBeforeExit()},handleBeforeTabSwitch:e=>(e.preventDefault(),StorePressAdminUtilsSettingsParams.unsaved_warning_text),promptBeforeExit(){let e=!1;document.querySelectorAll('input:not(.ignore-change):not([type="hidden"]):not([type="submit"]), select:not(.ignore-change), textarea:not(.ignore-change)').forEach((t=>{t.addEventListener("input",(t=>{e||(e=!0,window.addEventListener("beforeunload",this.handleBeforeTabSwitch))}))})),document.querySelectorAll('input[type="submit"], .storepress-settings-reset-action-link').forEach((e=>{e.addEventListener("click",(e=>{if(window.removeEventListener("beforeunload",this.handleBeforeTabSwitch),e.target.classList.contains("storepress-settings-reset-action-link")&&!window.confirm(StorePressAdminUtilsSettingsParams.reset_warning_text))return e.preventDefault(),!1}))}))}}).init();