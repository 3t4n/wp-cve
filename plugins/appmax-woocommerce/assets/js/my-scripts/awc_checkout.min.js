!function(e){"use strict";e(function(){let r=!1;function o(o){if(r)return void 0!==o&&void 0!==o.data&&(void 0===o.data.preserveCheckoutSubmitValue||o.data.preserveCheckoutSubmitValue||(r=!1)),!0;if(!e("#payment_method_appmax-credit-card").is(":checked"))return!0;let t=e(".woocommerce-billing-fields .validate-required");if(t.length){let r=!1;if(t.each(function(){""===e(this).find("input.input-text, select").not(e("#account_password, #account_username")).val()&&(r=!0)}),r)return!0}return!1}e("form.checkout").on("click","#place_order",function(){return function(){if(o())return!0;let t=e("form.checkout, form#order_review");return e("#myModal").css("display","block"),e(" #card_number").mask("9999 9999 9999 9999"),e(" #card_cpf").mask("999.999.999-99"),e(".close").on("click",function(){e(".message-error").remove(),e("#myModal").css("display","none")}),e('button[name="awc_confirm_payment"]').on("click",function(){if(t.addClass("processing"),!function(){let r=e('input[name="card_number"]'),o=e('input[name="card_name"]'),t=e('input[name="card_cpf"]'),a=e('select[name="card_month"]'),s=e('select[name="card_year"]'),i=e('input[name="card_security_code"]'),n=e('select[name="installments"]');e(".message-error").remove(),e(".awc-input-validate").css("border","0px");let c="";return c+='<div class="message-error" style="color: #F30"></div>',r.val()?o.val()?t.val()?function(e){let r=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(11!==r.length)return!1;let o,t,a,s,i=0;if(o=parseInt(r.substring(9,10),10),t=parseInt(r.substring(10,11),10),a=function(e,r){let o=10*e%11;return 10!==o&&11!==o||(o=0),o===r},""===r||"00000000000"===r||"11111111111"===r||"22222222222"===r||"33333333333"===r||"44444444444"===r||"55555555555"===r||"66666666666"===r||"77777777777"===r||"88888888888"===r||"99999999999"===r)return!1;for(s=1;s<=9;s++)i+=parseInt(r.substring(s-1,s),10)*(11-s);if(a(i,o)){for(i=0,s=1;s<=10;s++)i+=parseInt(r.substring(s-1,s),10)*(12-s);return a(i,t)}return!1}(t.val())?a.val()?i.val()?i.val().match(/^[0-9]+$/)?s.val()?!!n.val()||(n.css("border","1px solid #F30").after(c),void e(".message-error").text("Selecione a parcela.")):(s.css("border","1px solid #F30").after(c),void e(".message-error").text("Selecione o ano de expiração do cartão.")):(i.css("border","1px solid #F30").after(c),void e(".message-error").text("Somente números!")):(i.css("border","1px solid #F30").after(c),void e(".message-error").text("O campo Cód. de Segurança é obrigatório.")):(a.css("border","1px solid #F30").after(c),void e(".message-error").text("Selecione o mês de expiração do cartão.")):(t.css("border","1px solid #F30").after(c),void e(".message-error").text("CPF do Titular inválido!")):(t.css("border","1px solid #F30").after(c),void e(".message-error").text("O campo CPF do Titular é obrigatório.")):(o.css("border","1px solid #F30").after(c),void e(".message-error").text("O campo Nome do Titular é obrigatório.")):(r.css("border","1px solid #F30").after(c),void e(".message-error").text("O campo Número do Cartão é obrigatório."))}())return!1;e("#myModal").css("display","none"),t.removeClass("processing"),r=!0,t.submit()}),!1}()}),e("form.checkout").on("checkout_place_order",{preserveCheckoutSubmitValue:!0},o)})}(jQuery);