(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{254:function(e,t,r){"use strict";var n=r(0),o=r(7),a=r.n(o),c=r(2),i=r(9),l=r(41),u=(r(266),r(8));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){var t=e.data,r=void 0===t?[]:t,o=e.className,b=e.center,d=void 0!==b&&b,p=e.isDismissive,m=void 0!==p&&p,v=e.onDismisal,y=void 0===v?function(){}:v,O=e.isProFeatureLocked;if(Object(c.isEmpty)(r))return!1;return Object(n.createElement)("div",{className:a()("bwf-zero-state",o,{"bwf-block-t-center":d})},m&&Object(n.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return y()},style:{transform:"rotate(45deg)"}},Object(n.createElement)(u.a,{icon:"plus",color:"#353030"})),Object(n.createElement)("div",{className:"bwf-zero-state-wrap"},r.map((function(e,t){return Object(n.createElement)(n.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(n.createElement)("div",{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(n.createElement)(l.a,{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(n.createElement)(l.a,{key:"layout-block-"+t,className:a()("bwf-shadow"),gap:3,onClick:e.onClick},Object(n.createElement)(l.c,null,Object(n.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(n.createElement)(l.b,{className:"bwf_text_left"},e.heading&&Object(n.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(n.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),O&&Object(n.createElement)("div",{className:"bwf-zero-sec-lock"},Object(n.createElement)(u.a,{icon:"king",width:"18",height:"18"}))))})));case"buttons":return Object(n.createElement)(l.a,{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(n.createElement)(i.Button,f({isPrimary:!0,key:t,onClick:e.onClick,className:"".concat(e.className," bwf-no-ripple")},e.props),!1!==e.proCheck&&O&&Object(n.createElement)("span",{className:"bwf-zero-sec-lock"},Object(n.createElement)(u.a,{icon:"king",width:"20",height:"20"})),e.text)})));default:return Object(n.createElement)("div",{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class),style:t.style},t.content&&("object"===s(t.content)?t.content:Object(n.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}})))}}(e.type,e.data))}))))}},255:function(e,t,r){},266:function(e,t,r){},273:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(8);r(293);t.a=function(e){var t=e.onClose,r=e.title,c=e.isDismissible,i=void 0===c||c;return Object(n.createElement)("div",{className:"bwf-modal-custom-header bwf-flex bwf--space-between"},Object(n.createElement)("div",{className:"bwf-modal-title"},r),i&&Object(n.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(o.__)("Close","funnel-builder"),onClick:function(){return t()}},Object(n.createElement)(a.a,{icon:"close",size:20})))}},277:function(e,t,r){"use strict";var n=r(0),o=(r(9),r(7)),a=r.n(o),c=r(2),i=r(17),l=r.n(i),u=r(8),s=r(61),f=(r(255),function(e){var t=e.disabled,r=e.value,o=e.onChange,i=e.dateFormat,l=e.label,f=e.describedBy,b=e.error,d=e.onFocus,p=e.onKeyDown,m=e.errorPosition,v=e.placeHolder,y=a()("bwf-calendar-input",{"is-empty":0===r.length,"is-error":b}),O=Object(c.uniqueId)("_woo-dates-input"),j=Object(n.useRef)(null);return Object(n.createElement)("div",{className:y},Object(n.createElement)("input",{type:"text",ref:j,className:"bwf-calendar-input-text",value:r,onChange:o,"aria-label":l,id:O,"aria-describedby":"".concat(O,"-message"),placeholder:Object(c.isEmpty)(v)?i.toLowerCase():v,onFocus:d,onKeyDown:p,disabled:t}),b&&Object(n.createElement)(s.a,{className:"bwf-calendar-input-error",focusOnMount:!1,position:m},b),Object(n.createElement)("span",{className:"bwf-calender-custom-icon",onClick:function(){d(),j.current&&j.current.focus()}},Object(n.createElement)(u.a,{icon:"calender"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(O,"-message")},b||f))});f.propTypes={disabled:l.a.bool,value:l.a.string,onChange:l.a.func.isRequired,dateFormat:l.a.string.isRequired,label:l.a.string.isRequired,describedBy:l.a.string.isRequired,error:l.a.string,errorPosition:l.a.string,onFocus:l.a.func,onKeyDown:l.a.func},f.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:c.noop},t.a=f},284:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(0),o=(r(298),r(299),r(1)),a=r(9),c=r(2),i=r(56),l=r(12),u=r.n(l),s=r(17),f=r.n(s),b=r(78),d=r(7),p=r.n(d),m=(r(255),r(277)),v=r(259),y=r(4),O=r(120);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var o=k(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,r,a,l=_(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).onDateChange=t.onDateChange.bind(E(t)),t.onInputChange=t.onInputChange.bind(E(t)),t}return t=s,(r=[{key:"handleKeyDown",value:function(e,t,r){var n=r.keyCode;i.TAB===n&&e&&t()}},{key:"handleFocus",value:function(e,t){e||t()}},{key:"onDateChange",value:function(e,t){var r=this.props,n=r.onUpdate,o=r.dateFormat,a=u()(t);n({date:a,text:t?a.format(o):"",error:null}),e()}},{key:"onInputChange",value:function(e){var t=e.target.value,r=this.props.dateFormat,n=Object(b.i)(r,t),o=n?null:b.b.invalid;this.props.onUpdate({date:n,text:t,error:t.length>0?o:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.date,a=t.disabled,i=t.text,l=t.dateFormat,u=t.error,s=t.isInvalidDate,f=t.placeHolder,b=t.position,d=void 0===b?"bottom center":b,v=t.hasValue,y=void 0!==v&&v,j=t.className;return Object(n.createElement)("div",{className:p()("bwf-specific-date",{"bwf-has-value":y})},Object(n.createElement)(O.a,{position:d,focusOnMount:!1,contentClassName:"bwf-filters-date-content ".concat(j),renderToggle:function(t){var r=t.isOpen,s=t.onToggle;return Object(n.createElement)(m.a,{disabled:!!r&&a,value:i,onChange:e.onInputChange,dateFormat:l,label:Object(o.__)("Choose a date","funnel-builder"),error:u,describedBy:Object(o.sprintf)(Object(o.__)("Date input describing a selected date in format %s","funnel-builder"),l),onFocus:Object(c.partial)(e.handleFocus,r,s),"aria-expanded":r,focusOnMount:!1,onKeyDown:Object(c.partial)(e.handleKeyDown,r,s),errorPosition:"top center",placeHolder:f})},renderContent:function(t){var o=t.onToggle;return Object(n.createElement)(P,{onToggle:o,date:r,isInvalidDate:s,onDateChange:e.onDateChange})}}))}}])&&h(t.prototype,r),a&&h(t,a),s}(n.Component),P=function(e){var t=e.onToggle,r=e.date,o=e.onDateChange,i=e.isInvalidDate,l=Object(n.useRef)();return Object(y.hb)(l,(function(){return t()})),Object(n.createElement)("div",{ref:l},Object(n.createElement)(v.b,{component:!1},Object(n.createElement)("div",{className:"bwf-calendar-react-dates is-core-datepicker"},Object(n.createElement)(a.DatePicker,{currentDate:r,onChange:Object(c.partial)(o,t),isInvalidDate:i}))))};S.propTypes={date:f.a.oneOfType([f.a.string,f.a.object]),disabled:f.a.bool,text:f.a.string,error:f.a.string,onUpdate:f.a.func.isRequired,dateFormat:f.a.string.isRequired,isInvalidDate:f.a.func},t.b=S},291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(r(3)),a=i(r(360)),c=i(r(363));function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function u(e,t){var r,c,i,s,f,b,d,p,m=[],v={};for(b=0;b<e.length;b++)if("string"!==(f=e[b]).type){if(!t.hasOwnProperty(f.value)||void 0===t[f.value])throw new Error("Invalid interpolation, missing component node: `"+f.value+"`");if("object"!==n(t[f.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+f.value+"`","\n> "+l);if("componentClose"===f.type)throw new Error("Missing opening component token: `"+f.value+"`");if("componentOpen"===f.type){r=t[f.value],i=b;break}m.push(t[f.value])}else m.push(f.value);return r&&(s=function(e,t){var r,n,o=t[e],a=0;for(n=e+1;n<t.length;n++)if((r=t[n]).value===o.value){if("componentOpen"===r.type){a++;continue}if("componentClose"===r.type){if(0===a)return n;a--}}throw new Error("Missing closing component token `"+o.value+"`")}(i,e),d=u(e.slice(i+1,s),t),c=o.default.cloneElement(r,{},d),m.push(c),s<e.length-1&&(p=u(e.slice(s+1),t),m=m.concat(p))),1===m.length?m[0]:(m.forEach((function(e,t){e&&(v["interpolation-child-"+t]=e)})),(0,a.default)(v))}t.default=function(e){var t=e.mixedString,r=e.components,o=e.throwErrors;if(l=t,!r)return t;if("object"!==(void 0===r?"undefined":n(r))){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var a=(0,c.default)(t);try{return u(a,r)}catch(e){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},293:function(e,t,r){},301:function(e,t,r){"use strict";var n=r(0),o=r(4),a=r(8),c=r(1),i=(r(306),r(50),r(2)),l=r(37),u=(r(7),r(61));function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=e.conditionLabel,b=e.options,d=e.values,p=e.selectedValue,m=e.searchedValue,v=e.onChangeValue,y=e.onChangeData,O=e.className,j=e.isLoading,h=e.defaultOptions,g=e.placeholder,_=e.showInitialList,w=void 0!==_&&_,E=e.multiGroup,k=void 0!==E&&E,S=(e.hasDefaultOption,e.abortController),P=(e.isFirstLoading,Object(n.useRef)()),C=Object(n.useRef)(),x=Object(n.useRef)(),D=f(Object(n.useState)(w),2),T=D[0],N=D[1],R=f(Object(n.useState)([]),2),A=R[0],I=R[1],F=f(Object(n.useState)(""),2),M=F[0],L=F[1],Y=f(Object(n.useState)([]),2),z=Y[0],B=Y[1],U=f(Object(n.useState)(""),2),q=U[0],V=U[1],K=f(Object(n.useState)(0),2),G=K[0],$=K[1],H=f(Object(n.useState)(0),2),W=H[0],X=H[1],Q=f(Object(n.useState)(),2),J=Q[0],Z=Q[1],ee=f(Object(n.useState)({}),2),te=ee[0],re=ee[1],ne=f(Object(n.useState)(!1),2),oe=(ne[0],ne[1]);Object(n.useEffect)((function(){if(Object(i.size)(A)>1&&void 0!==A){var e,t=null==A?void 0:A.filter((function(e){var t;if(!M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString()))return e}));X(null===(e=t[0])||void 0===e?void 0:e.id),A.forEach((function(e,r){var n;e.id==(null===(n=t[0])||void 0===n?void 0:n.id)&&$(r)}))}}),[A,M,z]),Object(n.useEffect)((function(){Object(i.size)(A)>1&&void 0!==A&&A.forEach((function(e,t){e.id==W&&$(t)}))}),[T]),Object(n.useEffect)((function(){if(Object(i.size)(A)>1&&void 0!==A){var e=A.filter((function(e,t){var r;if(null==M||!M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return e}));re(e)}}),[M]),Object(n.useEffect)((function(){Object(i.size)(A)>1&&void 0!==A&&A.forEach((function(e,t){t==G&&Z(null==e?void 0:e.id)}))}),[G,T]),Object(n.useEffect)((function(){Object(i.size)(A)>1&&void 0!==A&&A.forEach((function(e,t){(null==e?void 0:e.id)==(null==J?void 0:J.id)&&$(t)}))}),[J]),Object(n.useEffect)((function(){var e;((null==b?void 0:b.length)>0||(null==h?void 0:h.length)>0)&&(""==q&&"no-result"===(null===(e=b[0])||void 0===e?void 0:e.id)&&Object(i.isEmpty)(h)?I([{id:"no-result",name:"No data available"}]):""==q||0===(null==b?void 0:b.length)?I(h):I(b),L(d),B(p))}),[b,h,M]),Object(o.hb)(P,(function(){return N(!1)}));var ae=function(e){v(e)},ce=function(e){y(e)};Object(n.useEffect)((function(){""==q&&I(h),ie()}),[q]),Object(n.useEffect)((function(){T?x.current.focus():x.current.blur()}),[T]);var ie=function(){if(x.current){var e=x.current.parentElement;if(""===q)return e.style.width="70px",!0;var t=.75*(q.length+1)+"em";e.style.width=t}};Object(n.useEffect)((function(){var e=h.reduce((function(e,t){return e.concat(t.steps)}),[]);Object(i.size)(k?e:h)===Object(i.size)(M)&&I([{id:"no-result",name:"No data available"}])}),[h,M]),Object(n.useEffect)((function(){A.every((function(e){return M.includes(e.id)}))&&(Object(i.isEmpty)(q)?I([{id:"no-result",name:"No data available"}]):I([{id:"no-result",name:'No result found for "'.concat(q,'"')}]))}),[A,M]);return Object(n.createElement)(n.Fragment,null,r?Object(n.createElement)("span",null,r):null,Object(n.createElement)("div",{className:"chosen-container chosen-container-multi ".concat(T&&"chosen-container-active chosen-with-drop"),onClick:function(){return N(!0)},ref:P},Object(n.createElement)("ul",{className:"chosen-choices bwf-select-container bwf-rule-input-conatiner ".concat(O)},null===(t=Object(i.isEmpty)(z)?h:z)||void 0===t?void 0:t.map((function(e,t){var r;if(null!=M&&M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return Object(n.createElement)("li",{className:"bwf-select-choice",key:t},Object(n.createElement)("span",{className:"bwf-selected-label"},e.labelText?e.labelText:null!=e&&e.label?Object(l.decodeEntities)(null==e?void 0:e.label):Object(l.decodeEntities)(null==e?void 0:e.name)),Object(n.createElement)("span",{className:"search-choice-close bwf-cursor-pointer",onClick:function(){var t=z.filter((function(t){return t.id!==e.id})),r=JSON.parse(JSON.stringify(t));B(r),ce(r);var n=r.map((function(e){var t;return null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}));L(n),ae(n),N(!1)}},Object(n.createElement)(a.a,{icon:"cross-circle",height:"16",width:"16"})))})),Object(n.createElement)("li",{className:"search-fiesetConditionValueld"},Object(n.createElement)("input",{ref:x,className:"bwf-condition-input bwf_w_full",type:"text",autoComplete:"off",onChange:function(e){var t;S&&(null===(t=S.current)||void 0===t||t.abort());V(e.target.value),C.current&&clearTimeout(C.current),C.current=setTimeout((function(){Object(i.isEmpty)(e.target.value),m(e.target.value),V(e.target.value)}),600)},onFocus:function(){oe(!0)},onBlur:function(){oe(!1)},value:q||"",onKeyDown:function(e){38===e.keyCode&&G>0&&!k?te.map((function(e,t){e.id==J&&Z(te[t-1])})):40===e.keyCode&&G<(null==A?void 0:A.length)-1&&!k&&te.map((function(e,t){e.id==J&&Z(te[t+1])}))},onKeyPress:function(e){var t,r,n,o,a,c,i,l,u=null===(t=A[G])||void 0===t||null===(r=t.id)||void 0===r?void 0:r.toString();"Enter"!==e.key||!T||k||"no-result"===u||j?"Enter"===e.key&&"no-result"===u&&x.current.focus():(e.preventDefault(),null!=M&&M.includes(null===(n=A[G])||void 0===n||null===(o=n.id)||void 0===o?void 0:o.toString())||(B([].concat(s(z),[A[G]])),ce([].concat(s(z),[A[G]])),L([].concat(s(M),[null===(a=A[G])||void 0===a||null===(c=a.id)||void 0===c?void 0:c.toString()])),ae([].concat(s(M),[null===(i=A[G])||void 0===i||null===(l=i.id)||void 0===l?void 0:l.toString()])),m(""),V(""),setTimeout((function(){N(!1)}))))}}),Object(n.createElement)("div",{className:"bwf-chosen-select-placeholder",placeholdervalue:0===q.length?g:""},Object(n.createElement)(a.a,{icon:"search",color:"red",size:15})))),Object(n.createElement)(u.a,{focusOnMount:!1,position:"bottom",className:"chosen-drop ".concat(Object(i.isEmpty)(A)&&!j?"bwf-no-data":"")},Object(n.createElement)("ul",{className:" ".concat(T?"chosen-results":"bwf-hide")},j?Object(n.createElement)("li",{className:"active-result"},Object(n.createElement)("span",{className:"bwf-no-data-found bwf-select-option"},Object(c.__)("Fetching details…","funnel-builder"))):null==A?void 0:A.map((function(e,t){var r,o,a,c=null==e||null===(r=e.steps)||void 0===r?void 0:r.every((function(e){var t;return null==M?void 0:M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())}));return k?Object(n.createElement)("div",{key:"bwf-suggestion-panel-".concat(t)},c?null:Object(n.createElement)("div",{className:"bwf-list-heading"},e.name),null==e||null===(a=e.steps)||void 0===a?void 0:a.map((function(e){var t;return Object(n.createElement)("div",{key:e.id,className:"bwf-list-name ".concat(null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"result-selected":"active-result"," "),onClick:function(){var t,r,n;"no-result"===e.id||null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&x.current.focus():(B([].concat(s(z),[e])),ce([].concat(s(z),[e])),L([].concat(s(M),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),ae([].concat(s(M),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),m("",!1,!1),V(""),setTimeout((function(){N(!1)})))}},Object(n.createElement)("div",null,e.name))}))):Object(n.createElement)("li",{key:t,className:"".concat(null!=M&&M.includes(null==e||null===(o=e.id)||void 0===o?void 0:o.toString())?"result-selected":"active-result ".concat(G===t&&"no-result"!==e.id?"bwf-select-active":null)," "),onMouseOver:function(){var r;return!(null!=M&&M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))&&$(t)},onClick:function(){var t,r,n;"no-result"===e.id||null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&x.current.focus():(B([].concat(s(z),[e])),ce([].concat(s(z),[e])),L([].concat(s(M),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),ae([].concat(s(M),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),m("",!1,!1),V(""),setTimeout((function(){N(!1)})))}}," ",e.labelText?e.labelText:null!=e&&e.label?Object(l.decodeEntities)(null==e?void 0:e.label):Object(l.decodeEntities)(null==e?void 0:e.name))}))))))}},305:function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},306:function(e,t,r){},309:function(e,t,r){"use strict";var n=r(0),o=r(17),a=r.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,r,o,a=u(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).scrollTo=t.scrollTo.bind(f(t)),t}return t=c,(r=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(n.createRef)(),Object(n.createElement)("div",{ref:this.ref},e)}}])&&i(t.prototype,r),o&&i(t,o),c}(n.Component);d.propTypes={offset:a.a.string},d.defaultProps={offset:"0"},t.a=d},318:function(e,t,r){"use strict";var n=r(0);t.a=function(e){var t=e.children,r=e.className,o=void 0===r?"":r;return Object(n.createElement)("div",{className:"bwf-c-container"},Object(n.createElement)("div",{className:"bwf-c-content-inner"},Object(n.createElement)("div",{className:"bwf-c-content-body ".concat(o)},t)))}},334:function(e,t,r){},335:function(e,t,r){"use strict";var n=r(1);t.a={calendarLabel:Object(n.__)("Calendar","funnel-builder"),closeDatePicker:Object(n.__)("Close","funnel-builder"),focusStartDate:Object(n.__)("Interact with the calendar and select start and end dates.","funnel-builder"),clearDate:Object(n.__)("Clear Date","funnel-builder"),clearDates:Object(n.__)("Clear Dates","funnel-builder"),jumpToPrevMonth:Object(n.__)("Move backward to switch to the previous month.","funnel-builder"),jumpToNextMonth:Object(n.__)("Move forward to switch to the next month.","funnel-builder"),enterKey:Object(n.__)("Enter key","funnel-builder"),leftArrowRightArrow:Object(n.__)("Right and left arrow keys","funnel-builder"),upArrowDownArrow:Object(n.__)("up and down arrow keys","funnel-builder"),pageUpPageDown:Object(n.__)("page up and page down keys","funnel-builder"),homeEnd:Object(n.__)("Home and end keys","funnel-builder"),escape:Object(n.__)("Escape key","funnel-builder"),questionMark:Object(n.__)("Question mark","funnel-builder"),selectFocusedDate:Object(n.__)("Select the date in focus.","funnel-builder"),moveFocusByOneDay:Object(n.__)("Move backward (left) and forward (right) by one day.","funnel-builder"),moveFocusByOneWeek:Object(n.__)("Move backward (up) and forward (down) by one week.","funnel-builder"),moveFocusByOneMonth:Object(n.__)("Switch months.","funnel-builder"),moveFocustoStartAndEndOfWeek:Object(n.__)("Go to the first or last day of a week.","funnel-builder"),returnFocusToInput:Object(n.__)("Return to the date input field.","funnel-builder"),keyboardNavigationInstructions:Object(n.__)("Press the down arrow key to interact with the calendar and select a date.","funnel-builder"),chooseAvailableStartDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as a start date.","funnel-builder"),t)},chooseAvailableEndDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as an end date.","funnel-builder"),t)},chooseAvailableDate:function(e){return e.date},dateIsUnavailable:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("%s is not selectable.","funnel-builder"),t)},dateIsSelected:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Selected. %s","funnel-builder"),t)}}},345:function(e,t,r){"use strict";var n=r(0),o=r(9),a=r(37),c=r(17),i=r.n(c),l=r(7),u=r.n(l),s=(r(364),r(8)),f=["labels","isOpen","showIcon","hasValue"];function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=function(e){var t=e.labels,r=e.isOpen,c=e.showIcon,i=e.hasValue,l=d(e,f),p=u()("bwf-dropdown-button",{"is-open":r,"is-multi-line":t.length>1,"has-value":i});return Object(n.createElement)(o.Button,b({className:p,"aria-expanded":r},l),Object(n.createElement)("div",{className:"bwf-dropdown-button-labels"},t.map((function(e,t){return Object(n.createElement)("span",{key:t},Object(a.decodeEntities)(e))})),c&&Object(n.createElement)(s.a,{icon:"calender"})))};p.propTypes={labels:i.a.array.isRequired,isOpen:i.a.bool},t.a=p},358:function(e,t,r){"use strict";var n=r(0),o=r(9),a=r(1),c=r(8),i=(r(384),r(2)),l=r(50),u=r(42),s=r(7),f=r.n(s);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){e.query;var t=e.searchTerm,r=e.isLoading,s=e.totalRows,d=e.setSearchData,p=e.showResultCount,m=void 0===p||p,v=e.isPlaceholder,y=void 0!==v&&v,O=e.isLocked,j=b(Object(n.useState)(t),2),h=j[0],g=j[1],_=Object(n.useRef)();return y?Object(n.createElement)(u.a,{h:36,w:240,br:6}):Object(n.createElement)("div",{className:"bwf-search-wrap"},Object(n.createElement)("div",{className:"bwf-search-inner-wrap"},Object(n.createElement)(o.TextControl,{value:h||"",onChange:function(e){g(e),_.current&&clearTimeout(_.current),_.current=setTimeout((function(){Object(i.isEmpty)(e)?(g(""),d("")):d(e)}),600)},autoComplete:"off",placeholder:Object(a.__)("Search…","funnel-builder"),className:f()({"is-locked":O})}),Object(n.createElement)("span",{className:"bwf-search-icon"},Object(n.createElement)(c.a,{icon:O?"lock":"search",height:"20",width:"20",color:"#82838e"})),!Object(i.isEmpty)(h)&&(r?Object(n.createElement)(l.a,null):Object(n.createElement)("span",{onClick:function(){g(""),d("")},className:"bwf-remove-icon"},Object(n.createElement)(c.a,{icon:"cross",height:"16",width:"16",color:"#82838e"})))),m&&!Object(i.isEmpty)(t)&&!r&&0!==s&&Object(n.createElement)("div",{className:"bwf-search-result-count"},s," ",1===s?Object(a.__)("result found","funnel-builder"):Object(a.__)("results found","funnel-builder")))}},360:function(e,t,r){"use strict";var n=r(3),o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a=r(305),c=r(361),i=r(362),l="function"==typeof Symbol&&Symbol.iterator;function u(e,t){return e&&"object"==typeof e&&null!=e.key?(r=e.key,n={"=":"=0",":":"=2"},"$"+(""+r).replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var r,n}function s(e,t,r,n){var a,i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===o)return r(n,e,""===t?"."+u(e,0):t),1;var f=0,b=""===t?".":t+":";if(Array.isArray(e))for(var d=0;d<e.length;d++)f+=s(a=e[d],b+u(a,d),r,n);else{var p=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(p){0;for(var m,v=p.call(e),y=0;!(m=v.next()).done;)f+=s(a=m.value,b+u(a,y++),r,n)}else if("object"===i){0;var O=""+e;c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===O?"object with keys {"+Object.keys(e).join(", ")+"}":O,"")}}return f}var f=/\/+/g;function b(e){return(""+e).replace(f,"$&/")}var d,p,m=v,v=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},y=function(e){c(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function O(e,t,r,n){this.result=e,this.keyPrefix=t,this.func=r,this.context=n,this.count=0}function j(e,t,r){var o,c,i=e.result,l=e.keyPrefix,u=e.func,s=e.context,f=u.call(s,t,e.count++);Array.isArray(f)?h(f,i,r,a.thatReturnsArgument):null!=f&&(n.isValidElement(f)&&(o=f,c=l+(!f.key||t&&t.key===f.key?"":b(f.key)+"/")+r,f=n.cloneElement(o,{key:c},void 0!==o.props?o.props.children:void 0)),i.push(f))}function h(e,t,r,n,o){var a="";null!=r&&(a=b(r)+"/");var c=O.getPooled(t,a,n,o);!function(e,t,r){null==e||s(e,"",t,r)}(e,j,c),O.release(c)}O.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d=function(e,t,r,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)},(p=O).instancePool=[],p.getPooled=d||m,p.poolSize||(p.poolSize=10),p.release=y;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return i(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(n.isValidElement(e))return i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;c(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var r in e)h(e[r],t,r,a.thatReturnsArgument);return t}},361:function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,a,c,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,c,i],s=0;(l=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},362:function(e,t,r){"use strict";var n=r(305);e.exports=n},363:function(e,t,r){"use strict";function n(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(n)}},364:function(e,t,r){},372:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(0),o=r(1),a=r(4),c=r(291),i=r.n(c),l=r(2),u=r(12),s=r.n(u),f=function(e,t){return Object(n.createElement)(n.Fragment,null,e.title,":"," ",i()({mixedString:e.operators?e.readable_text:"{{value /}}",components:{key:Object(n.createElement)(n.Fragment,null,e.title),rule:Object(n.createElement)(n.Fragment,null,b(e,t)),value:Object(n.createElement)("strong",{title:Object(n.renderToString)(d(e,t)),className:"bwf-t-overflow-ellipsis"},d(e,t))}}))},b=function(e,t){var r;if(e.operators)return"number"===e.type?e.operators[t.rule]:"search"===e.type?null===(r=e.operators[t.rule])||void 0===r?void 0:r.replace("Is",""):e.operator&&e.operators[t.rule]},d=function(e,t){if("date-range"===e.type)return t.data.period?p[t.data.period]:s()(t.data.after).format(Object(a.P)())===s()(t.data.before).format(Object(a.P)())?"".concat(s()(t.data.after).format(Object(a.P)())):Object(n.createElement)(n.Fragment,null,"".concat(s()(t.data.after).format(Object(a.P)())," - ").concat(s()(t.data.before).format(Object(a.P)())));if("select"===e.type)return e.options[t.data];if("number"===e.type||"text"===e.type)return t.data;if("search"===e.type&&Object(l.isArray)(t.data)&&!Object(l.isEmpty)(t.data))return t.data.map((function(e){return e.label})).join(", ");if("search-select"===e.type)return t.data.label;if("checklist"===e.type){if(Object(l.isArray)(t.data))return Object(l.isEmpty)(t.data)||t.data.length!==Object.keys(e.options).length?t.data.map((function(t){return e.options[t]})).join(", "):"All";if(t.data)return e.options[t.data]}return null},p={today:Object(o.__)("Today","funnel-builder"),yesterday:Object(o.__)(" Yesterday","funnel-builder"),week:Object(o.__)("This Week","funnel-builder"),last_week:Object(o.__)("Last Week","funnel-builder"),month:Object(o.__)("This Month","funnel-builder"),last_month:Object(o.__)("Last Month","funnel-builder"),quarter:Object(o.__)("Quarter to Date","funnel-builder"),last_quarter:Object(o.__)("Last Quarter","funnel-builder"),year:Object(o.__)("Year to Date","funnel-builder"),last_year:Object(o.__)("Last Year","funnel-builder"),specificDate:Object(o.__)("On Specific Date","funnel-builder"),custom:Object(o.__)("Custom Date Range","funnel-builder")}},374:function(e,t,r){"use strict";var n=r(0),o=r(17),a=r.n(o),c=r(12),i=r.n(c),l=(r(369),r(298),r(299),r(1)),u=r(7),s=r.n(u),f=r(406),b=r(2),d=r(166),p=r(78),m=(r(334),r(9)),v=r(8),y=(r(255),function(e){var t=e.disabled,r=e.value,o=e.onChange,a=e.dateFormat,c=e.label,i=e.describedBy,l=e.error,u=e.onFocus,f=e.onKeyDown,d=e.errorPosition,p=s()("bwf-calendar-input",{"is-empty":0===r.length,"is-error":l}),y=Object(b.uniqueId)("_woo-dates-input");return Object(n.createElement)("div",{className:p},Object(n.createElement)("div",{className:"bwf-date-range-input"},Object(n.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:r,onChange:o,"aria-label":c,id:y,"aria-describedby":"".concat(y,"-message"),placeholder:a,onFocus:u,onKeyDown:f,disabled:t}),Object(n.createElement)("div",{className:"bwf-label"},c)),l&&Object(n.createElement)(m.Popover,{className:"bwf-calendar-input-error bwf-tooltip",focusOnMount:!1,position:d},l),Object(n.createElement)("span",{className:"bwf-calender-custom-icon"},Object(n.createElement)(v.a,{icon:"calender-1",width:"16",height:"16"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(y,"-message")},l||i))});y.propTypes={disabled:a.a.bool,value:a.a.string,onChange:a.a.func,dateFormat:a.a.string,label:a.a.string,describedBy:a.a.string,error:a.a.string,errorPosition:a.a.string,onFocus:a.a.func,onKeyDown:a.a.func},y.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:b.noop};var O=y,j=r(335),h=r(4);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,r,o,a=k(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={lastCurrentMonth:i()(),rangeKey:Object(h.o)()},t.onDatesChange=t.onDatesChange.bind(P(t)),t.onFocusChange=t.onFocusChange.bind(P(t)),t.onInputChange=t.onInputChange.bind(P(t)),t.nodeRef=Object(n.createRef)(),t.keepFocusInside=t.keepFocusInside.bind(P(t)),t.handleEndPrevClick=t.handleEndPrevClick.bind(P(t)),t.handleStartPrevClick=t.handleStartPrevClick.bind(P(t)),t}return t=c,(r=[{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,o=n.onUpdate;n.shortDateFormat,o({after:t,before:r,afterText:t?t.format("MM/DD/YYYY"):"",beforeText:r?r.format("MM/DD/YYYY"):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r,n=t.target.value,o=this.props,a=o.after,c=o.before,l=(o.shortDateFormat,Object(p.j)(e,n,c,a,"MM/DD/YYYY")),u=l.date,s=l.error;this.setState({lastCurrentMonth:i()(u).add(1,"month")}),this.props.onUpdate((_(r={},e,u),_(r,e+"Text",n),_(r,e+"Error",n.length>0?s:null),r)),"before"!==e||s||this.setState({rangeKey:Object(h.o)()})}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||i()();return e?r.clone().subtract(1,"month"):r}}},{key:"keepFocusInside",value:function(e,t){var r=this.props.popoverRef;(!t.relatedTarget||!t.relatedTarget.classList.contains("bwf-calendar-input-text")&&null!=r&&r.current&&null!=r&&r.current.contains(t.relatedTarget))&&this.nodeRef.current.querySelector(".DayPicker_focusRegion").focus({preventScroll:!0})}},{key:"handleStartPrevClick",value:function(e){this.setState({lastCurrentMonth:i()(e).add(1,"month")})}},{key:"handleEndPrevClick",value:function(e){this.setState({lastCurrentMonth:i()(e).add(1,"month")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,o=t.before,a=t.focusedInput,c=t.afterText,u=t.beforeText,d=t.afterError,p=t.beforeError,y=(t.shortDateFormat,t.isViewportMobile),h=t.isInvalidDate,g=i()().format("MM");return Object(n.createElement)("div",{className:s()("bwf-calendar bwf-date-range-calender",{"is-mobile":y})},Object(n.createElement)("div",{className:"bwf-calendar-inputs"},Object(n.createElement)(O,{value:c,onChange:Object(b.partial)(this.onInputChange,"after"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("Start Date","funnel-builder"),error:d,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's start date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("startDate")}}),Object(n.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(l.__)("to","funnel-builder")),Object(n.createElement)(O,{value:u,onChange:Object(b.partial)(this.onInputChange,"before"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("End Date","funnel-builder"),error:p,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's end date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("endDate")}})),Object(n.createElement)("div",{className:"bwf-date-picker-container bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(b.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(n.createElement)(f.DayPickerRangeController,{onPrevMonthClick:this.handleStartPrevClick,onNextMonthClick:this.handleEndPrevClick,navNext:this.state.lastCurrentMonth.format("MM")===g?Object(n.createElement)("span",{className:"bwf-cursor-text"},Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-right",color:"#9A9898"})):Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-right",color:"#323232"}),navPrev:Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-left",color:"#323232"}),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:a,startDate:r,endDate:o,orientation:"horizontal",numberOfMonths:2,isOutsideRange:function(e){return h&&h(e.toDate())},maxDate:i()().endOf("month"),minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:Object(l.isRTL)(),initialVisibleMonth:this.setTnitialVisibleMonth(!0,o),phrases:j.a,key:this.state.rangeKey})),Object(n.createElement)("div",{className:"bwf-date-picker-actions"},Object(n.createElement)(m.Button,{isPrimary:!0,disabled:Object(b.isEmpty)(c)||Object(b.isEmpty)(u),className:Object(b.isEmpty)(c)||Object(b.isEmpty)(u)?"bwf-no-ripple":"",onClick:function(){var t={after:c,before:u};e.props.value(t),e.props.onClose()}},Object(l.__)("Done","funnel-builder"))))}}])&&w(t.prototype,r),o&&w(t,o),c}(n.Component);x.propTypes={after:a.a.object,afterError:a.a.string,afterText:a.a.string,before:a.a.object,beforeError:a.a.string,beforeText:a.a.string,focusedInput:a.a.string,isInvalidDate:a.a.func,onUpdate:a.a.func.isRequired,shortDateFormat:a.a.string.isRequired,losesFocusTo:a.a.instanceOf(Element)};var D=Object(d.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(x);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return I(this,r)}}function I(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,r,o,a=A(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state=t.getResetState(),t.onTabSelect=t.onTabSelect.bind(F(t)),t.onUpdate=t.onUpdate.bind(F(t)),t.controlsRef=Object(n.createRef)(),t}return t=c,(r=[{key:"getResetState",value:function(){var e=this.props,t=e.period,r=e.compare,n=e.before,o=e.after;return{period:t,compare:r,before:n,after:o,focusedInput:"startDate",afterText:this.formatDate(o,"MM/DD/YYYY"),beforeText:this.formatDate(n,"MM/DD/YYYY"),afterError:null,beforeError:null}}},{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"onUpdate",value:function(e){this.setState(e)}},{key:"onTabSelect",value:function(e){var t=this.props.period;"period"===e&&"custom"===t&&this.onUpdate({period:"today"})}},{key:"isFutureDate",value:function(e){return i()().isBefore(i()(e),"day")}},{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.value,o=e.popoverRef,a=this.state,c=a.after,i=a.before,l=a.focusedInput,u=a.afterText,s=a.beforeText,f=a.afterError,b=a.beforeError;return Object(n.createElement)(D,{after:c,before:i,onUpdate:this.onUpdate,isInvalidDate:this.isFutureDate,focusedInput:l,afterText:u,beforeText:s,afterError:f,beforeError:b,shortDateFormat:"MM/DD/YYYY",losesFocusTo:this.controlsRef.current,onClose:function(){return t()},value:function(e){return r(e)},popoverRef:o})}}])&&N(t.prototype,r),o&&N(t,o),c}(n.Component);L.propTypes={onClose:a.a.func};t.a=L},384:function(e,t,r){},398:function(e,t,r){"use strict";var n=r(0),o=r(7),a=r.n(o),c=r(8),i=(r(419),r(108)),l=r(358),u=r(79),s=r(2),f=r(1);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=[{key:"",label:Object(f.__)("No result found","funnel-builder"),disabled:!0}];t.a=function(e){var t=e.label,r=e.className,o=e.options,f=e.searchText,d=void 0===f?"":f,m=e.onSearch,v=e.isLoading,y=e.selected,O=void 0===y?{}:y,j=e.onSelect,h=void 0===j?function(){}:j,g=e.title,_=b(Object(n.useState)(d),2),w=_[0],E=_[1],k=Object(n.useCallback)((function(e){var t=e.onToggle,r=o.filter((function(e){var t;return-1!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase().indexOf(null==w?void 0:w.toLowerCase()))}));return(Object(s.isEmpty)(r)?p:r).map((function(e,r){return Object(n.createElement)(u.a,{key:"funnel-".concat(r),isClickable:!e.disabled,onInvoke:function(){h(e),t()},title:e.label},Object(n.createElement)("span",{className:"bwf-whitespace-wrap"},e.label),e.key===O&&Object(n.createElement)(c.a,{icon:"tick",height:"16",width:"16"}))}))}),[O,o,w]);return Object(n.createElement)(i.a,{label:g,menuPosition:"bottom left",classes:"components-button is-secondary-gray",wrapperClasses:a()("bwf-checklist__dropdown is-from-bottom-only",r),buttonLabel:Object(n.createElement)(n.Fragment,null,t,Object(n.createElement)(c.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(l.a,{query:{s:null!=d?d:w},setSearchData:function(e){m?m(e):E(e)},showResultCount:!1,isLoading:v}),k({onToggle:t}))}})}},400:function(e,t,r){"use strict";var n=r(0),o=r(7),a=r.n(o),c=r(2),i=r(1),l=r(9),u=r(120),s=r(8),f=(r(418),r(244)),b=r(13),d=r.n(b),p=r(301),m=r(4),v=r(26);function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){e.slug;var t=e.api,r=e.setData,o=e.value,l=e.searchHelper,u=void 0===l?{}:l,s=e.default_options,f=e.operators,b=u.funnelId,O=g(Object(n.useState)([]),2),h=O[0],_=O[1],w=g(Object(n.useState)(Object(c.size)(s)?s:[{id:"no-result",name:"No data available"}]),2),E=w[0],k=w[1],S=g(Object(n.useState)(!Object(c.size)(s)),2),P=S[0],C=S[1],x=g(Object(n.useState)(!1),2),D=x[0],T=x[1],N=g(Object(n.useState)(!1),2),R=N[0],A=N[1],I=g(Object(n.useState)(Object(c.isArray)(o)?o.map((function(e){var t;return j(j({},e),{},{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()})})):[]),2),F=I[0],M=I[1],L=Object(n.useRef)(new AbortController),Y=function(e){return e.value?Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis bwf-w-180",title:e.label||e.name},e.label||e.name),Object(n.createElement)(v.b,{content:e.value})):e.label||e.name},z=function(e,t){e&&r("",t)},B=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){L.current=new AbortController,Object(c.size)(e)?C(!0):C(!!r);var o=t.replace("{{search}}",e)+(b?"&funnel_id=".concat(b):"");d()({path:Object(m.q)(o),signal:L.current.signal}).then((function(t){if(t&&Object(c.isArray)(t)&&!Object(c.isEmpty)(t)){var n,o,a;T(null===(n=t[0])||void 0===n?void 0:n.hasOwnProperty("steps"));var i=t.map((function(e){return{name:e.name||e.label,id:e.id.toString(),labelText:Y(e),steps:null==e?void 0:e.steps}})),l=t.map((function(e){var t;return{name:(null==e?void 0:e.name)||(null==e?void 0:e.label),id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}}));Object(c.size)(e)&&null!==(o=t[0])&&void 0!==o&&o.hasOwnProperty("steps")?(_(i),z(r,i)):null!==(a=t[0])&&void 0!==a&&a.hasOwnProperty("steps")?(k(i),z(r,i)):Object(c.size)(e)?(_(l),z(r,l)):(k(l),z(r,l))}else Object(c.isEmpty)(e)?_([{id:"no-result",name:"No data available"}]):_([{id:"no-result",name:'No result found for "'.concat(e,'"')}]),z(r,[{id:"no-result",name:"No data available"}]);C(!1),A(!1)})).catch((function(e){C(!1),console.log(e)}))}};Object(n.useEffect)((function(){Object(c.isEmpty)(o)&&Object(c.isEmpty)(s)&&(B("",!0),A(!0))}),[]),Object(n.useEffect)((function(){var e;null!==(e=E[0])&&void 0!==e&&e.hasOwnProperty("steps")&&T(!0)}),[E]);var U=Object(c.isArray)(F)?F.map((function(e){return e.id})):[];return Object(n.createElement)(p.a,{values:U,isFirstLoading:R,searchedValue:function(e,t,r){B(e,t,r)},selectedValue:F,onChangeValue:function(){},multiGroup:D,hasDefaultOption:E,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));M(y(t)),r(e.map((function(e){return{id:null==e?void 0:e.id,label:e.label||e.name}})))},options:y(h.filter((function(e){return U.findIndex((function(t){return t.id===e.id}))<0}))),defaultOptions:E,className:a()("bwf-filter-search",{"no-operator":Object(c.isEmpty)(f)}),isLoading:P,placeholder:Object(i.__)("Search…","funnel-builder"),showInitialList:!1,abortController:L})},k=r(12),S=r.n(k),P=r(284),C=r(17),x=r.n(C),D=r(374),T=r(345);r(334);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=L(e);if(t){var o=L(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,r,o,l=I(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).isValidSelection=t.isValidSelection.bind(M(t)),t.popoverRef=Object(n.createRef)(),t}return t=s,(r=[{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate,n=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||n.push("".concat(Object(i.__)("vs.","funnel-builder")," ").concat(r.label," (").concat(r.range,")")),n}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,o=t.before;return"custom"!==e||r&&n&&o}},{key:"render",value:function(){var e=this,t=this.props,r=t.disablePresets,o=t.hasValue,i=t.showIcon,l=t.onRangeSelect,s=t.dateQuery,f=t.dateRange;return Object(n.createElement)("div",{className:"bwf-range-filter"},Object(n.createElement)("div",{className:a()("bwf-range-filters-container",{"bwf-presets-disable":r})},Object(n.createElement)(u.a,{contentClassName:"bwf-filters-date-content is-from-bottom-only",expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(n.createElement)(T.a,{onClick:r,isOpen:t,labels:!Object(c.isEmpty)(f)&&f.hasOwnProperty("after")?["".concat(S()(f.after).format(m.c)," - ").concat(S()(f.before).format(m.c))]:["Start Date ~ End Date"],showIcon:i,hasValue:o})},renderContent:function(t){var o=t.onClose;return Object(n.createElement)(D.a,{hideCompare:e.props.hideCompare,onClose:o,after:f.hasOwnProperty("after")?S()(f.after):null,before:S()(f.before).endOf("day"),isValidSelection:e.isValidSelection,disablePresets:r,value:function(e){return l(e)},dateQuery:s,popoverRef:e.popoverRef})},popoverProps:{ref:this.popoverRef}})))}}])&&R(t.prototype,r),o&&R(t,o),s}(n.Component);Y.propTypes={onRangeSelect:x.a.func,dateQuery:x.a.shape({period:x.a.string,compare:x.a.string,before:x.a.object,after:x.a.object,primaryDate:x.a.shape({label:x.a.string,range:x.a.string}),secondaryDate:x.a.shape({label:x.a.string,range:x.a.string})})},Y.defaultProps={disablePresets:!1};var z=Y,B=r(78),U=r(14);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=function(e){var t=e.value,r=e.rule,o=e.setData,a=e.returnPeriod,i=Object(n.useRef)(!0),l=Object(U.i)(),u=a&&{period:r};return Object(n.useEffect)((function(){if(Object(c.isEmpty)(r)||"specificDate"===r||"custom"===r)i.current||o("");else{l.period=r;var e=((t=l).compare="previous_year",{primary:Object(B.d)(t).primary}).primary;o(V({before:e.before.format(m.d),after:e.after.format(m.d)},u))}var t;i.current&&(i.current=!1)}),[r]),Object(n.createElement)(n.Fragment,null,"specificDate"!==r&&"custom"!==r&&Object(n.createElement)("div",{style:{marginTop:-16}}),"specificDate"===r&&Object(n.createElement)(P.b,{dateFormat:m.c,onUpdate:function(e){o(V({before:S()(e.date).endOf("day").format(m.d),after:S()(e.date).startOf("day").format(m.d)},u))},text:t&&t.before?S()(t.before).format(m.c):"Select Date",currentDate:t&&t.before?S()(t.before).format(m.c):S()().format(m.c),hasValue:!(!t||!t.before),iconRight:!0,placeHolder:"Select Date",disabled:!0,position:"bottom right",isInvalidDate:function(e){return S()(e).isAfter(S()(),"day")},className:"is-from-bottom-only"}),"custom"===r&&Object(n.createElement)(z,{key:JSON.stringify(l),dateRange:Object(c.size)(t)?t:{before:S()().endOf("day").format(m.c)},hasValue:!Object(c.isEmpty)(t),onRangeSelect:function(e){o(V({before:S()(e.before).format("YYYY-MM-DD 23:59:59"),after:S()(e.after).format(m.d)},u))},isoDateFormat:m.c,hideCompare:!0,showIcon:!0}))},$=r(372);function H(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e){var t=e.options,r=e.value,o=e.setData,a=(e.remove,e.multiple),i=void 0!==a&&a;return Object(n.createElement)("div",{className:"bwf-filter-checklist"},Object.keys(t).map((function(e,a){return Object(n.createElement)("div",{key:"bwf-filter-check-item-".concat(a),onClick:function(){i?Object(c.isEmpty)(r)?o([e]):r.includes(e)?o(r.filter((function(t){return t!==e}))):o([].concat(H(r),[e])):o(e)}},Object(n.createElement)("span",null,t[e])," ",(i&&Object(c.isArray)(r)&&r.includes(e)||r===e)&&Object(n.createElement)(s.a,{icon:"tick",height:"16",width:"16"}))})))},Q=r(41),J=r(42),Z=function(){return Object(n.createElement)(Q.a,{justify:"flex-start"},Object(n.createElement)(Q.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(Q.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(Q.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})))},ee=r(21),te=r(32),re=r(398),ne=["options"],oe=["options"];function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ce(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e){var t=e.label,r=e.icon,o=e.isPrimary,c=void 0!==o&&o,i=e.onClick,l=void 0===i?function(){}:i,u=e.onClear,f=e.isActive,b=e.rule,d=e.isProFeatureLocked,p=e.isLocked,m=e.iconColor;return Object(n.createElement)("div",{className:a()("bwf-filter__tag",{"is-primary":c,"is-active":f,"is-locked":p,"is-pro-locked":(null==b?void 0:b.is_pro)&&d}),onClick:p||d&&null!=b&&b.is_pro?function(){}:l},!f&&Object(n.createElement)(s.a,{icon:p?"lock":d&&null!=b&&b.is_pro?"king":r,height:"16",width:"16",color:m||(d&&null!=b&&b.is_pro?te.NOTICE_YELLOW:te.TEXT_COLOR_2)}),Object(n.createElement)("span",null,t),f&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.a,{icon:"angle-down",height:"12",width:"12",color:"#212121"}),Object(n.createElement)("span",{onClick:u},Object(n.createElement)(s.a,{icon:"dismiss-circle",height:"16",width:"16",color:"#353030"}))))},me=function(e){var t=e.rule,r=e.filter,o=e.filterData,a=e.remove,s=e.setFilter,f=e.tempFilters,b=e.updateTempRule,d=e.propsToPass,p=void 0===d?{}:d,v=e.isProFeatureLocked,y=e.isLocked,O=function(e,t){return!(!e.required.includes("data")||!Object(c.isEmpty)(t.data))||!(e.hasOwnProperty("operators")||!e.required.includes("data")||!Object(c.isEmpty)(t.data))},j=Object(n.useRef)(),h=Object(n.useRef)();Object(m.hb)(h,(function(){void 0!==j.current&&j.current()}));var g=f.find((function(e){return e.filter===t.slug})),_=o.find((function(e){return Object(c.size)(e.data)&&e.filter===t.slug}));return Object(n.createElement)("div",{className:"bwf-filter__sticky"},Object(n.createElement)(u.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:h,renderToggle:function(e){var r=e.isOpen,o=e.onToggle;return Object(n.createElement)(pe,{icon:"add-circle",onClick:function(){r&&_&&b(_),o()},label:_?Object($.b)(t,_):t.title,isActive:_,rule:t,onClear:function(e){e.stopPropagation(),a(g),r&&o()},isProFeatureLocked:v,isLocked:y})},renderContent:function(e){e.onClose;var o=e.onToggle;return j.current=o,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},t.title),Object(n.createElement)(Oe,se({},t,{filter:r,value:g.rule,setRule:function(e){b(be(be({},g),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(c.isEmpty)(t.operators)&&Object(c.isEmpty)(g.rule)?"bwf-no-operator":"")},Object(n.createElement)(je,se({},t,p,{value:g.data,rule:g.rule,default_options:g.options,setData:function(e,t){Object(c.isEmpty)(t)||s(g,t,g.filter),b(be(be({},g),{},{data:e}))},remove:function(){return a(g)}}))),Object(n.createElement)(l.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,onClick:function(){s(g),o()},disabled:O(t,g)},Object(i.__)("Apply","funnel-builder")))}}))},ve=function(e){var t=e.rules,r=e.filterData,o=e.setFilter,a=e.tempFilters,f=e.updateTempRule,b=e.propsToPass,d=void 0===b?{}:b,p=e.isProFeatureLocked,v=e.isLocked,y=ie(Object(n.useState)({}),2),O=y[0],j=y[1],h=a.find((function(e){return e.filter===O.slug})),g=Object(n.useRef)(),_=Object(n.useRef)();Object(m.hb)(_,(function(){void 0!==g.current&&g.current()}));var w=function(e){return r.find((function(t){return Object(c.size)(t.data)&&t.filter===e.slug}))};return Object(n.createElement)("div",{className:"bwf-filter__list"},Object(n.createElement)(u.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:_,renderToggle:function(e){e.isOpen;var t=e.onToggle;return Object(n.createElement)(pe,{label:"Add Filter",icon:"filter",onClick:function(){t()},isPrimary:!0,isProFeatureLocked:p,iconColor:te.BLUE_BASE})},renderContent:function(e){var a,u,b=e.isOpen,m=(e.onClose,e.onToggle);return g.current=m,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},Object(i.__)("Filter By","funnel-builder")),Object(c.isEmpty)(O)?Object(n.createElement)("div",{className:"bwf-filter-list-item-wrap"},t.map((function(e,t){return Object(n.createElement)(ye,se({},e,{key:"list-filter-item-".concat(t),onClick:function(){return j(e)},isSelected:r.findIndex((function(t){return Object(c.size)(t.data)&&t.filter===e.slug}))>-1,isProFeatureLocked:p,isLocked:v}))}))):Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-wrap"},Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-header"},Object(n.createElement)("span",{onClick:function(){b&&w(O)&&f(w(O)),j({})}},Object(n.createElement)(s.a,{icon:"arrow-left",size:"16"})),Object(n.createElement)("span",null,O.title)),Object(n.createElement)(Oe,se({},O,{value:h.rule,setRule:function(e){f(be(be({},h),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(c.isEmpty)(O.operators)&&Object(c.isEmpty)(h.rule)?"bwf-no-operator":"")},Object(n.createElement)(je,se({},O,{value:h.data,rule:h.rule,default_options:null==h?void 0:h.options,setData:function(e,t){Object(c.isEmpty)(t)||o(h,t,h.filter),f(be(be({},h),{},{data:e}))}},d))),Object(n.createElement)(l.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,disabled:(a=O,u=h,!(!a.required.includes("data")||!Object(c.isEmpty)(u.data))||!(a.hasOwnProperty("operators")||!a.required.includes("data")||!Object(c.isEmpty)(u.data))),onClick:function(){o(h),j({}),m()}},Object(i.__)("Apply","funnel-builder"))))}}))},ye=function(e){var t=e.title,r=e.isSelected,o=e.onClick,a=e.is_pro,c=e.isProFeatureLocked,i=e.isLocked;return Object(n.createElement)("div",{className:"bwf-filter-list-item",onClick:function(e){i||a&&c||o(e)}},i?Object(n.createElement)(s.a,{icon:"lock",size:"16",color:te.TEXT_COLOR_2}):a&&c?Object(n.createElement)(v.a,null):Object(n.createElement)(s.a,{icon:r?"checkmark-circle-filled":"add-circle",width:"16",height:"16",color:r?te.BLUE_BASE:te.TEXT_COLOR_2}),Object(n.createElement)("span",null,t))},Oe=function(e){var t=e.setRule,r=e.op_label,o=e.value,a=void 0===o?"":o,i=e.operators,l=void 0===i?{}:i,u=(e.op_default,e.type),s=e.hideFilters;if("date-range"===u){var b=Object(c.cloneDeep)($.a);s&&Object.keys($.a).forEach((function(e){s.includes(e)&&delete b[e]})),l=b}if(Object(c.isEmpty)(l))return null;var d=Object.keys(l).map((function(e){return{key:e,label:l[e]}}));return Object(n.createElement)("div",{className:"bwf-filter-operator-wrap"},Object(n.createElement)("label",null,r),Object(n.createElement)(f.a,{className:"bwf-filter-operator",options:d,onChange:function(e){t(e)},selected:a,bottomFixed:!0}))},je=function(e){var t,r,o=e.type,c=e.options,u=e.value,s=e.setData,b=e.val_label,d=e.operators,p=e.op_label,m=(e.default_options,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a()(t,{"no-operator":!d})});if("select"===o&&c){var v=Object.keys(c).map((function(e){return{key:e,label:c[e]}}));return Object(n.createElement)("div",{className:m("bwf-filter-select-wrap")},b&&Object(n.createElement)("label",null,b),Object(n.createElement)(f.a,{options:v,selected:u,onChange:function(e){return s(e)}}))}return"search"===o?Object(n.createElement)(E,se({},e,{className:m()})):"number"===o?Object(n.createElement)("input",{type:"number",value:u,placeholder:Object(i.__)("Enter value","funnel-builder"),onChange:function(e){return s(e.target.value)},className:m("bwf-number-control")}):"text"===o?Object(n.createElement)(l.TextControl,{value:u,label:p,onChange:function(e){return s(e)},className:m()}):"date-range"===o?Object(n.createElement)(G,se({},e,{className:m()})):"checklist"===o?Object(n.createElement)(X,se({},e,{className:m()})):"search-select"===o?Object(n.createElement)("div",{className:m("bwf-filter-checklist-dropdown-wrap")},b&&Object(n.createElement)("label",null,b),Object(n.createElement)(re.a,{options:c,label:Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis",title:null!==(t=null==u?void 0:u.label)&&void 0!==t?t:Object(i.__)("Select","funnel-builder")},null!==(r=null==u?void 0:u.label)&&void 0!==r?r:Object(i.__)("Select","funnel-builder")),selected:null==u?void 0:u.value,onSelect:function(e){s(e)},className:m()})):void 0};t.a=function(e){var t=e.filterList,r=void 0===t?[]:t,o=e.filterData,a=e.setFilterData,i=e.propsToPass,l=e.isLoading,u=e.isLocked,s=Object(ee.a)().isProFeatureLocked,f=ie(Object(n.useState)([]),2),b=f[0],d=f[1],p=ie(Object(n.useState)([]),2),m=p[0],v=p[1];if(Object(n.useEffect)((function(){if(!Object(c.isEmpty)(r)){var e=[];r.forEach((function(t){e.push.apply(e,ce(null==t?void 0:t.rules))})),v(e.map((function(e){var t="";e.hasOwnProperty("operators")&&(t=Object.keys(null==e?void 0:e.operators)[0]);var r=o.find((function(t){return t.filter===e.slug}));return r||{filter:e.slug,rule:t,data:""}})))}}),[r,o]),Object(n.useEffect)((function(){if(!Object(c.isEmpty)(o)){var e,t=[],n=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;o.forEach((function(e){if(n&&n.findIndex((function(t){return t.slug===e.filter}))>-1&&Object(c.size)(null==e?void 0:e.data)){var o,a=(null===(o=r.find((function(e){return"list"===e.type})))||void 0===o?void 0:o.rules).find((function(t){return t.slug===e.filter}));t.push(a)}})),d(t)}}),[o]),!Object(c.size)(r)||l)return Object(n.createElement)(Z,null);var y=function(e,t,r){var n,i=o.find((function(t){return t.filter===e.filter})),l=o;n=(l=Object(c.isEmpty)(l)?[e]:i?l.map((function(t){return t.filter===i.filter?e:t})):[].concat(ce(l),[e])).map((function(e){return e.filter===r?be(be({},e),{},{options:t}):e}));var u=l.map((function(e){e.options;return ae(e,ne)})).filter((function(e){return!Object(c.isEmpty)(e.data)}));a(Object(c.isEmpty)(null==e?void 0:e.data)?[]:u,n)},O=function(e){v((function(t){return t.map((function(t){return t.filter===e.filter?e:t}))}))},j=function(e){e.rule="",e.data="",O(e),d((function(t){return t.filter((function(t){return t.slug!==e.filter}))}));var t,r=o.map((function(e){e.options;return ae(e,oe)})).filter((function(t){return t.filter!==e.filter&&!Object(c.isEmpty)(t.data)}));t=o.filter((function(t){return t.filter!==e.filter&&!Object(c.isEmpty)(t.data)})),a(r,t)},h=r.find((function(e){return"sticky"===e.type})),g=r.find((function(e){return"list"===e.type}));return Object(n.createElement)("div",{className:"bwf-filter-wrap"},h&&[].concat(ce(null==h?void 0:h.rules),ce(b)).map((function(t,r){return Object(n.createElement)(me,se({},h,e,{propsToPass:i,rule:t,filterData:o,tempFilters:m,updateTempRule:O,setFilter:y,remove:j,key:"sticky-filter-wrap-".concat(r),isProFeatureLocked:s,isLocked:u}))})),g&&Object(n.createElement)(ve,se({},g,e,{filterData:o,tempFilters:m,updateTempRule:O,setFilter:y,remove:j,propsToPass:i,isProFeatureLocked:s,isLocked:u})))}},404:function(e,t){},418:function(e,t,r){},419:function(e,t,r){},433:function(e,t,r){"use strict";var n=r(0),o=r(7),a=r.n(o),c=r(1),i=r(13),l=r.n(i),u=(r(189),r(4)),s=r(20),f=r(22),b=r(28);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r,o,i=e.className,p=e.content,m=void 0===p?Object(c.__)("Access Enhanced Features such as Filters, Export , Search & UTM details by syncing past WooCommerce orders.","funnel-builder"):p,v=e.align,y=Object(f.a)().migrationStatus,O=Object(b.a)().updateMigrationStatus,j=d(Object(n.useState)(!1),2),h=j[0],g=j[1];return[1,2].includes(y)?Object(n.createElement)("div",{className:a()("bwf-lite-noticebar is-database-upgrade-notice",i,(t={},r="bwf-notice-".concat(v),o=!!v,r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t))},Object(n.createElement)("div",{className:"bwf-noticebar-conatiner"},Object(n.createElement)("div",{className:"bwf-noticebar-content"},m)),1===y&&Object(n.createElement)(s.a,{className:"is-black is-small",onClick:function(){g(!0),l()({path:Object(u.q)("/migrate-conversion"),method:"POST"}).then((function(e){e.success&&O(2),g(!1)})).catch((function(e){console.log(e),g(!1)}))},disabled:h,isBusy:h},Object(c.__)("Sync Now","funnel-builder")),2===y&&Object(n.createElement)("span",{className:"bwf-noticebar-r-text"},Object(c.__)("Sync In progress…","funnel-builder"))):null}},435:function(e,t,r){"use strict";var n=r(0),o=r(7),a=r.n(o),c=r(2),i=r(9),l=r(1),u=r(20),s=r(372),f=r(273),b=r(8),d=r(13),p=r.n(d),m=r(4),v=(r(456),function(e){var t=e.onclose,r=e.title;return Object(n.createElement)(i.Modal,{className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header bwf-fail-modal",isDismissible:!1,onRequestClose:t},Object(n.createElement)("div",{className:"bwf-custom-header bwf-flex bwf--space-between"},Object(n.createElement)("div",{className:"bwf-modal-title"},Object(l.__)("Error! ","funnel-builder")+r),Object(n.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(l.__)("Close"),onClick:function(){return t()}},Object(n.createElement)(b.a,{icon:"close",size:20}))),Object(n.createElement)("div",{className:"bwf-content-1"},Object(l.__)("Following reasons while creating file for export","funnel-builder")),Object(n.createElement)("div",{className:"bwf-content-2"},Object(n.createElement)("span",null,Object(l.__)("Unable to create file","funnel-builder")),Object(n.createElement)("span",null,Object(l.__)("Server not working / unstable network","funnel-builder"))))});function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.status,r=e.onRemove,o=e.exportId,c=e.title,i=e.exportPercentage,u=y(Object(n.useState)(!1),2),s=u[0],f=u[1];return Object(n.createElement)(n.Fragment,null,["1","2","3"].includes(t)?Object(n.createElement)("div",{className:a()("bwf-export-status",{"is-danger":"2"===t,"is-success":"3"===t})},Object(n.createElement)(b.a,{icon:"downloading",size:"20"}),Object(n.createElement)("span",{className:"bwf-flex bwf--g16"},Object(n.createElement)("span",{className:"bwf-status-title"},function(){switch(t){case"1":return Object(l.__)("Exporting In Progress…","funnel-builder");case"2":return Object(l.__)("Exporting Failed","funnel-builder");case"3":return Object(l.__)("File is Ready","funnel-builder")}}()),"1"===t?Object(n.createElement)("span",{className:"bwf-status-title"},i," %"):null,"2"===t&&Object(n.createElement)("span",{className:"bwf-action",onClick:function(){f(!0)}},Object(l.__)("View Details","funnel-builder")),"3"===t&&Object(n.createElement)("span",{className:"bwf-action",onClick:function(){window.open("/wp-admin/admin-post.php?action=bwf_contact_export_download&id=".concat(o,"&_nonce=").concat(wffn.nonce_contact_export_download),"_blank")}},Object(l.__)("Download","funnel-builder")),Object(n.createElement)("button",{className:"bwf-no-style-button",onClick:function(){r()}},"1"===t?Object(l.__)("Cancel","funnel-builder"):Object(n.createElement)(b.a,{icon:"close",size:16,color:"#FFFFFF"})))):null,s&&Object(n.createElement)(v,{onclose:function(){return f(!1)},title:c}))},h=r(19),g=["state","setStateProp"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=function(){var e=Object(h.a)("export"),t=e.state,r=e.setStateProp;return w(w({},k(e,g)),{},{setStateProp:r,setExportData:function(e,n){r(e,w(w({},t),n))}})},P=r(24),C=["getStateProp"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var R=function(){var e=Object(P.a)("export"),t=e.getStateProp;return D(D({},N(e,C)),{},{getExportData:function(e){var r;return null!==(r=t(e))&&void 0!==r?r:{}}})},A=r(21);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.filters,r=e.filterList,o=e.title,d=e.funnelId,v=e.type,y=e.total,O=e.exportType,h=e.totalText,g=e.isDisabled,_=e.search,w=void 0===_?"":_,E=Object(n.useMemo)((function(){return t.filter((function(e){return!Object(c.isEmpty)(e.data)}))}),[t]),k=S().setExportData,P=R().getExportData,C=d?"".concat(v,"_").concat(d):v,x=P(C),D=Object(n.useRef)(new AbortController),T=function(e){return k(C,e)},N=Y(Object(n.useState)([]),2),I=N[0],M=N[1],z=Y(Object(n.useState)(!1),2),B=z[0],U=z[1],q=Y(Object(n.useState)(!1),2),V=q[0],K=q[1],G=Y(Object(n.useState)(0),2),$=G[0],H=G[1],W=Y(Object(n.useState)(!1),2),X=W[0],Q=W[1],J=Object(n.useRef)(),Z=Object(n.useRef)(),ee=Object(A.b)().showSnackbar,te=function(e){var t=e.rule,r=e.isPrimary,o=void 0!==r&&r,i=null==E?void 0:E.find((function(e){return e.filter===t.slug}));return i&&!Object(c.isEmpty)(i.data)?Object(n.createElement)("div",{className:a()("bwf-filter__tag",{"is-primary":o,"is-active":i})},Object(n.createElement)("span",null,Object(s.b)(t,i))):null};Object(n.useEffect)((function(){if(!Object(c.isEmpty)(E)){var e,t=[],n=null==r?void 0:r.find((function(e){return"sticky"===e.type})),o=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;E.forEach((function(e){if(o&&o.findIndex((function(t){return t.slug===e.filter}))>-1){var n,a=(null===(n=r.find((function(e){return"list"===e.type})))||void 0===n?void 0:n.rules).find((function(t){return t.slug===e.filter}));t.push(a)}})),M([].concat(L(null==n?void 0:n.rules),t))}}),[E,r]);return Object(n.useEffect)((function(){x.export_id&&"1"===x.status&&function e(){D.current=new AbortController,clearTimeout(J.current),p()({method:"GET",path:Object(m.q)("/funnels/export/".concat(x.export_id)),signal:D.current.signal}).then((function(t){if(t.status)if("3"!==t.export.status&&T(t.export),"3"===t.export.status)H(100),Z.current=setTimeout((function(){T(t.export),H(0)}),2e3);else if("1"===t.export.status){J.current=setTimeout((function(){e()}),5e3);var r=Number(t.export.count),n=Number(t.export.offset);H(parseInt(n/r*100))}else H(0);else T({export_id:x.export_id,status:"2"})})).catch((function(e){"AbortError"!==(null==e?void 0:e.name)?T({export_id:x.export_id,status:"2"}):console.log(e)}))}()}),[parseInt(x.export_id)]),Object(n.useEffect)((function(){return x.export_id||"3"===x.status||x.notFound||(D.current=new AbortController,p()({method:"GET",path:Object(m.q)("/funnels/export/status?export_type=".concat(O).concat(d?"&funnel_id=".concat(d):"")),signal:D.current.signal}).then((function(e){e.status?T(e.last_export_data):T({notFound:!0})})).catch((function(e){console.log(e)}))),function(){clearTimeout(J.current),clearTimeout(Z.current)}}),[]),Object(n.createElement)(n.Fragment,null,!V&&Object(n.createElement)(j,{status:x.status,exportId:x.export_id,onRemove:function(){return function(){var e;Q(!0),null===(e=D.current)||void 0===e||e.abort(),clearTimeout(Z.current),D.current=new AbortController;var t=x;T({}),p()({path:Object(m.q)("/funnels/export/delete/?export_ids=".concat(x.export_id)),method:"DELETE"}).then((function(e){e.status||(T(t),ee(Object(l.__)("Failed to remove export.","funnel-builder"))),Q(!1)})).catch((function(e){T(t),ee(Object(l.__)("Failed to remove export.","funnel-builder")),Q(!1)}))}()},title:o,exportPercentage:$}),Object(n.createElement)(u.a,{onClick:function(){return U(!0)},className:"is-secondary bwf-btn-gray has-icon bwf-export-icon",isSecondary:!0,isSmall:!0,disabled:X||g||"1"===x.status,icon:Object(n.createElement)(b.a,{icon:"export",size:16})},Object(l.__)("Export","funnel-builder")),B&&Object(n.createElement)(i.Modal,{className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header bwf-alert-modal",isDismissible:!1,onRequestClose:function(){return U(!1)}},Object(n.createElement)(f.a,{title:o,onClose:function(){return U(!1)},isDismissible:!V}),Object(c.isEmpty)(E)?null:Object(n.createElement)("div",{className:"bwf-filter-applied"},Object(n.createElement)(b.a,{icon:"info"}),Object(l.__)("This export has the following filter applied.","funnel-builder")),Object(n.createElement)("div",{className:"bwf-sticky-filters ".concat(Object(c.size)(E)?"bwf-has-filter":"")},I&&I.map((function(e,t){return Object(n.createElement)(te,{rule:e,key:"sticky-filter-wrap-".concat(t)})}))),Object(n.createElement)("div",{className:"bwf-content"},Object(l.sprintf)(Object(l.__)("You have %s in the list.","funnel-builder"),h)),Object(n.createElement)("div",{className:"wf_funnel_right_align bwf-mt-24"},Object(n.createElement)(u.a,{isPrimary:!0,className:"bwf-btn-medium",onClick:function(){0!==y&&(T({status:"1"}),function(){D.current=new AbortController,K(!0);var e=[];Object(c.isEmpty)(E)||e.push.apply(e,L(E)),Object(c.isEmpty)(w)||e.push({filter:"s",data:w}),p()({path:Object(m.q)("/funnels".concat(d?"/".concat(d):"","/").concat(v,"/export/add")),method:"POST",data:F({},!Object(c.isEmpty)(e)&&{filters:e}),signal:D.current.signal}).then((function(e){e.status&&(T({export_id:e.response.export_id,status:"1"}),U(!1)),K(!1)})).catch((function(e){console.log(e),K(!1)}))}())},disabled:0===y||V,isBusy:V},Object(l.__)("Export","funnel-builder")))))}},441:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},456:function(e,t,r){},465:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(4),c=r(7),i=r.n(c),l=r(2),u=r(26),s=r(18);t.a=function(e){var t,r,c,f=e.className,b=e.align,d=void 0===b?"left":b,p=e.title,m=e.proLink,v=e.message,y=Object(a.L)(),O=Object(l.get)(y,"0.notice",{}),j=O.primary_action,h=O.primary_action_link,g=v||Object(o.sprintf)(Object(o.__)("Use our sample data to explore %s. See how it summarises metrics across multiple funnels.","funnel-builder"),p);return Object(n.createElement)("div",{className:i()("bwf-lite-noticebar is-sample-data-notice",f,(t={},r="bwf-notice-".concat(d),c=!!d,r in t?Object.defineProperty(t,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[r]=c,t))},Object(n.createElement)("div",{className:"bwf-lite-noticebar__title-wrap"},p," ",Object(n.createElement)(u.b,{content:Object(o.__)("Sample Data","funnel-builder"),type:"black"})),Object(n.createElement)("div",{className:"bwf-noticebar-conatiner"},Object(n.createElement)("div",{className:"bwf-noticebar-content"},g,h?Object(n.createElement)(s.a,{href:h}," ",j):Object(n.createElement)("a",{target:"_blank",href:m,rel:"noreferrer"},j))))}},594:function(e,t,r){},596:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(25),a=r(119),c=r(2),i=r(9),l=r(1),u=r(318),s=r(8),f=r(297),b=r(88),d=r(118),p=r(4),m=r(400),v=r(139),y=r(138),O=r(309),j=r(123),h=r(13),g=r.n(h),_=r(12),w=r.n(_);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){C(a,n,o,c,i,"next",e)}function i(e){C(a,n,o,c,i,"throw",e)}c(void 0)}))}}function D(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R={title:Object(l.__)("Referrers","funnel-builder"),content:{benefits:[Object(l.__)("Track sources of the order from platforms like Google Ads, Facebook, Google, Instagram, Pinterest, TikTok, Snapchat, and others.","funnel-builder"),Object(l.__)("Get individual stats of every order","funnel-builder"),Object(l.__)("Get deep analytics of data based on your revenue performance","funnel-builder")]},review:{comment:Object(l.__)("Funnelkit stripe plugins saves my lots of money when other payment plugins get ome updates.","funnel-builder"),name:"Francisco Opazo C",rating:5},proLink:Object(p.K)(["referrer"])},A=[{referrers:"Facebook",total_orders:"24",total_revenue:"12.56",average_revenue:"120.56",total_optins:"150"},{referrers:"X/Twitter",total_orders:"30",total_revenue:"15.75",average_revenue:"110.25",total_optins:"200"},{referrers:"Instagram",total_orders:"18",total_revenue:"9.42",average_revenue:"90.12",total_optins:"100"},{referrers:"LinkedIn",total_orders:"40",total_revenue:"20.00",average_revenue:"150.00",total_optins:"250"},{referrers:"Pinterest",total_orders:"15",total_revenue:"7.84",average_revenue:"112.50",total_optins:"120"},{referrers:"Reddit",total_orders:"28",total_revenue:"14.67",average_revenue:"99.57",total_optins:"180"},{referrers:"YouTube",total_orders:"22",total_revenue:"11.58",average_revenue:"105.37",total_optins:"160"},{referrers:"Twitch",total_orders:"35",total_revenue:"18.24",average_revenue:"130.11",total_optins:"220"},{referrers:"Medium",total_orders:"12",total_revenue:"6.29",average_revenue:"75.46",total_optins:"80"},{referrers:"Quora",total_orders:"25",total_revenue:"13.12",average_revenue:"95.75",total_optins:"140"},{referrers:"StackOverflow",total_orders:"19",total_revenue:"9.96",average_revenue:"85.21",total_optins:"110"},{referrers:"GitHub",total_orders:"32",total_revenue:"16.75",average_revenue:"120.33",total_optins:"200"},{referrers:"Wikipedia",total_orders:"14",total_revenue:"7.35",average_revenue:"105.78",total_optins:"90"},{referrers:"Apple",total_orders:"27",total_revenue:"14.09",average_revenue:"100.20",total_optins:"170"},{referrers:"Microsoft",total_orders:"21",total_revenue:"11.01",average_revenue:"95.87",total_optins:"130"},{referrers:"Netflix",total_orders:"17",total_revenue:"8.90",average_revenue:"88.12",total_optins:"100"},{referrers:"Amazon",total_orders:"33",total_revenue:"17.34",average_revenue:"125.46",total_optins:"210"},{referrers:"Ebay",total_orders:"20",total_revenue:"10.48",average_revenue:"98.75",total_optins:"150"},{referrers:"Snapchat",total_orders:"23",total_revenue:"12.04",average_revenue:"110.25",total_optins:"160"},{referrers:"TikTok",total_orders:"29",total_revenue:"15.21",average_revenue:"105.38",total_optins:"180"},{referrers:"Others",total_orders:"50",total_revenue:"25.00",average_revenue:"50.00",total_optins:"300"},{referrers:"Direct",total_orders:"80",total_revenue:"39.93",average_revenue:"49.92",total_optins:"400"}],I=function(e){return[{type:"sticky",rules:[{slug:"period",title:Object(l.__)("Date Created","funnel-builder"),type:"date-range",op_label:Object(l.__)("Time Period","funnel-builder"),required:["rule","data"],readable_text:"{{value /}}"},{slug:"search",title:"Referrer",type:"checklist",multiple:!0,options:{Google:"Google",Yahoo:"Yahoo",Facebook:"Facebook","X/Twitter":"X/Twitter",Pinterest:"Pinterest",Instagram:"Instagram",Tiktok:"Tiktok",SnapChat:"SnapChat",YouTube:"YouTube",direct:"Direct",others:"Others"},op_label:"Referrer",required:["data"],readable_text:"{{rule /}} - {{value /}}"}].concat(D(e?[]:[{slug:"funnels",title:"Funnel",type:"search",api:"/funnels/?s={{search}}&search_filter",op_label:"Funnel",required:["data"],readable_text:"{{rule /}} - {{value /}}"}]))}]},F=function(){var e=x(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o="/funnel-analytics/"+(t?parseInt(t):"global")+"/referrer-social-stats/"+(Object(c.isEmpty)(r)?"":Object(p.p)({filters:JSON.stringify(r)})),e.next=4,g()({path:Object(p.q)(o),signal:n});case 4:if(a=e.sent,!Object(c.isObject)(a)){e.next=7;break}return e.abrupt("return",null!=a?a:{});case 7:throw a;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),M=new AbortController,L=function(){var e=x(regeneratorRuntime.mark((function e(t,r,n){var o,a,i,l,u,s,f,b,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.abort(),M=new AbortController,e.prev=2,o={period:"overall",before:"",after:"",compare:"previous_period"},(a=r.find((function(e){return"period"===e.filter})))&&(o={period:a.rule,after:a.data.after,before:a.data.before}),i=Object(p.t)(Object(p.O)(o)),i.primary,l=i.secondary,u={after:"overall"===o.period?w()(new Date(0)).format(p.d):l.after.format(p.d),before:l.before.endOf("day").format(p.d)},s={},e.next=11,Promise.all([F(t,r,M.signal),F(t,Object(c.isEmpty)(r)?[{filter:"period",rule:"overall",data:k({},u)}]:r.map((function(e){return"period"===e.filter?k(k({},a),{},{data:k({},u)}):e})),M.signal)]);case 11:f=e.sent,b=P(f,2),d=b[0],m=b[1],s.filter=o,s.isLoading=!1,s.primary=d,s.secondary=m,s.referrers=Object.keys(d),n(s),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0),n({error:e.t0,isLoading:!1});case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t,r,n){return e.apply(this,arguments)}}(),Y={isLoading:!1,primary:{direct:{ref_key:"direct",referrers:"Direct",percentage_orders:15.93,orders:52,total_revenue:"4123.45",average_revenue:"79.30",optins:24,percentage_optins:21.15},facebook:{ref_key:"facebook",referrers:"Facebook",percentage_orders:23.15,orders:65,total_revenue:"5421.33",average_revenue:"83.40",optins:32,percentage_optins:27.85},google:{ref_key:"google",referrers:"Google",percentage_orders:7.29,orders:47,total_revenue:"1934.72",average_revenue:"41.23",optins:18,percentage_optins:14.68},instagram:{ref_key:"instagram",referrers:"Instagram",percentage_orders:9.38,orders:22,total_revenue:"752.55",average_revenue:"34.20",optins:15,percentage_optins:13.4},youtube:{ref_key:"youtube",referrers:"Youtube",percentage_orders:31.68,orders:73,total_revenue:"3612.68",average_revenue:"49.47",optins:40,percentage_optins:35.92},tiktok:{ref_key:"tiktok",referrers:"Tiktok",percentage_orders:16.43,orders:39,total_revenue:"2200.91",average_revenue:"56.42",optins:17,percentage_optins:15.23},pinterest:{ref_key:"pinterest",referrers:"Pinterest",percentage_orders:12.21,orders:53,total_revenue:"1683.77",average_revenue:"31.78",optins:22,percentage_optins:19.73},snapchat:{ref_key:"snapchat",referrers:"Snapchat",percentage_orders:5.62,orders:15,total_revenue:"318.88",average_revenue:"21.26",optins:8,percentage_optins:7.17},yahoo:{ref_key:"yahoo",referrers:"Yahoo",percentage_orders:8.58,orders:48,total_revenue:"2378.92",average_revenue:"49.56",optins:19,percentage_optins:17.02},"x/twitter":{ref_key:"x/twitter",referrers:"X/twitter",percentage_orders:34.79,orders:97,total_revenue:"12900.34",average_revenue:"133.01",optins:28,percentage_optins:25.08},others:{ref_key:"others",referrers:"Others",percentage_orders:15.34,orders:61,total_revenue:"4822.20",average_revenue:"79.05",optins:30,percentage_optins:26.99}},secondary:{direct:{ref_key:"direct",referrers:"Direct",percentage_orders:10.59,orders:66,total_revenue:"2892.14",average_revenue:"43.83",optins:14,percentage_optins:10.45},facebook:{ref_key:"facebook",referrers:"Facebook",percentage_orders:20.19,orders:52,total_revenue:"1790.99",average_revenue:"34.48",optins:19,percentage_optins:14.2},google:{ref_key:"google",referrers:"Google",percentage_orders:6.85,orders:38,total_revenue:"1352.82",average_revenue:"35.60",optins:10,percentage_optins:7.46},instagram:{ref_key:"instagram",referrers:"Instagram",percentage_orders:11.36,orders:19,total_revenue:"833.24",average_revenue:"43.85",optins:12,percentage_optins:8.94},youtube:{ref_key:"youtube",referrers:"Youtube",percentage_orders:28.51,orders:89,total_revenue:"3989.56",average_revenue:"44.86",optins:35,percentage_optins:26.12},tiktok:{ref_key:"tiktok",referrers:"Tiktok",percentage_orders:15.17,orders:32,total_revenue:"1557.48",average_revenue:"48.67",optins:12,percentage_optins:8.94},pinterest:{ref_key:"pinterest",referrers:"Pinterest",percentage_orders:13.56,orders:55,total_revenue:"1966.43",average_revenue:"35.75",optins:19,percentage_optins:14.18},snapchat:{ref_key:"snapchat",referrers:"Snapchat",percentage_orders:7.09,orders:12,total_revenue:"493.82",average_revenue:"41.15",optins:10,percentage_optins:7.46},yahoo:{ref_key:"yahoo",referrers:"Yahoo",percentage_orders:7.37,orders:44,total_revenue:"1399.37",average_revenue:"31.80",optins:15,percentage_optins:11.19},"x/twitter":{ref_key:"x/twitter",referrers:"X/twitter",percentage_orders:31.52,orders:78,total_revenue:"7489.28",average_revenue:"96.01",optins:30,percentage_optins:22.39},others:{ref_key:"others",referrers:"Others",percentage_orders:14.61,orders:69,total_revenue:"3256.10",average_revenue:"47.16",optins:21,percentage_optins:15.67}},filter:{period:"overall",before:"",after:""},referrers:["direct","facebook","google","instagram","youtube","tiktok","pinterest","snapchat","yahoo","x/twitter","others"]},z={direct:Object(l.__)("Direct","funnel-builder"),facebook:Object(l.__)("Facebook","funnel-builder"),google:Object(l.__)("Google","funnel-builder"),tiktok:Object(l.__)("Tiktok","funnel-builder"),pinterest:Object(l.__)("Pinterest","funnel-builder"),snapchat:Object(l.__)("SnapChat","funnel-builder"),yahoo:Object(l.__)("Yahoo","funnel-builder"),"x/twitter":Object(l.__)("X/Twitter","funnel-builder"),instagram:Object(l.__)("Instagram","funnel-builder"),youtube:Object(l.__)("Youtube","funnel-builder"),others:Object(l.__)("Others","funnel-builder")},B=r(254),U=r(435),q=r(129),V=(r(594),r(21)),K=r(32),G=r(433),$=r(22),H=r(7),W=r.n(H),X=r(465),Q=r(29),J=r(30),Z=r(60);function ee(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t,r,h,g=location&&location.search?Object(o.parse)(location.search.substring(1)):{},_=te(Object(n.useState)(10),2),w=_[0],E=_[1],k=te(Object(n.useState)(0),2),S=k[0],P=k[1],C=te(Object(n.useState)(!1),2),x=C[0],D=C[1],T=Object(p.s)(),N=Object(a.useParams)().id,F=e.funnelId,M=void 0===F?N:F,H=Object(b.a)(),re=H.fetch,ne=H.setReferrerLoading,oe=H.setOverviewData,ae=H.clearError,ce=Object(d.a)(),ie=ce.getRefSites,le=ce.getLoading,ue=ce.getTotalRecords,se=ce.getFilterList,fe=ce.getGlobalFilterList,be=ce.getOverviewData,de=ie(),pe=le(),me=ue(),ve=Object(v.a)().getFilters,ye=Object(y.a)().setFilters,Oe=Object(Q.a)().fetch,je=J.a.getFunnelTitle(),he=Object($.a)().migrationStatus,ge=[1,2].includes(he),_e=be(),we=ve(M?"funnel_referrers":"referrers",M),Ee=Object(V.a)(),ke=Ee.isProFeatureLocked,Se=Ee.isLite,Pe=M?se():fe();r=g,h=Object(n.useRef)(),Object(n.useEffect)((function(){h.current=r})),h.current;Object(n.useEffect)((function(){!ke&&pe?re(M,w,S,!0,we):ne(!1)}),[]),Object(n.useEffect)((function(){return ke?(Object(c.isEmpty)(je)&&M&&Oe(M),oe(Y)):pe&&(oe({isLoading:!0}),L(M,[],(function(e){oe(e)}))),function(){ae()}}),[]);var Ce=function(e){return Object(n.createElement)(n.Fragment,null,e)},xe=[{key:"referring_Sites",label:Ce(Object(l.__)("Referrers","funnel-builder")),cellClassName:"bwf-word-break"},{key:"optins",label:Ce(Object(l.__)("Optins","funnel-builder"))},{key:"orders",label:Ce(Object(l.__)("Orders","funnel-builder"))},{key:"gross_sales",label:Ce(Object(l.__)("Revenue","funnel-builder"))},{key:"aov",label:Ce(Object(l.__)("Average Order Value","funnel-builder"))}],De=function(e){return Object(c.isEmpty)(e)?"-":e},Te=function(e){return Object(n.createElement)("span",{className:"bwf--tag is-success"},T.formatAmount(e))},Ne=(ke?A:de).map((function(e){return[{display:De(e.referrers),value:e.referrers},{display:De(e.total_optins),value:e.total_optins},{display:De(e.total_orders),value:e.total_orders},{display:Te(e.total_revenue),value:e.total_revenue},{display:Te(e.average_revenue),value:e.average_revenue}]})),Re=function(e){e!==w&&(E(e),re(M,e,S,!0))},Ae=parseInt(S)/parseInt(w)+1,Ie=Object(n.createElement)(m.a,{filterList:ke?I(M):Pe,isLoading:pe,filterData:we,propsToPass:{searchHelper:M?{funnelId:M}:{}},setFilterData:function(e,t){ye(M?"funnel_referrers":"referrers",t,M),Object(c.isEmpty)(e)||(re(M,w,S,!0,e),oe({isLoading:!0}),L(M,e,(function(e){oe(e)}))),Object(c.isEmpty)(e)&&Object(c.isEmpty)(t)&&(re(M,w,S,!0,[]),oe({isLoading:!0}),L(M,[],(function(e){oe(e)})))},key:"contact-filter",isLocked:ge}),Fe=[{type:"icon",data:{content:Object(n.createElement)(s.a,{icon:"zero-referrers",width:"202",height:"151"})}},{type:"content",data:{class:"bwf-zero-state-heading-1",content:Object(l.__)("No Referrers to show","funnel-builder")}},{type:"content",data:{class:"bwf-zero-state-heading-2",content:Object(l.__)("Referrers will began to show once a conversion is recorded.","funnel-builder"),style:{color:"#82838E"}}}];if(!(ke||Object(c.size)(we)||de.length||pe))return Object(n.createElement)(B.a,{data:Fe});var Me=function(e){return Object(p.j)(parseInt(Object(c.get)(_e,"primary.".concat(e,".total_revenue"),0)),parseInt(Object(c.get)(_e,"secondary.".concat(e,".total_revenue"),0)))},Le={period:"overall",before:"",after:"",compare:"previous_period"},Ye=we.find((function(e){return"period"===e.filter}));Ye&&(Le={period:Ye.rule,after:Ye.data.after,before:Ye.data.before});var ze=function(e){var t=T.formatAmount(Object(c.get)(_e,"secondary.".concat(e,".total_revenue"),0));return t+=" - "+Object(p.I)(Le,"previous_period",!1,!0,"overall"===Le.period)},Be=function(e){return[Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",null,Object(l.__)("Orders: ","funnel-builder"),Object(n.createElement)("span",null," ",Object(c.get)(_e,"primary.".concat(e,".orders"),0))),Object(n.createElement)("span",null,Object(l.__)("Share: ","funnel-builder"),Object(n.createElement)("span",null," ",Object(c.get)(_e,"primary.".concat(e,".percentage_orders"),0),"%"))),Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",null,Object(l.__)("Optins: ","funnel-builder"),Object(n.createElement)("span",null," ",Object(c.get)(_e,"primary.".concat(e,".optins"),0))),Object(n.createElement)("span",null,Object(l.__)("Share: ","funnel-builder"),Object(n.createElement)("span",null," ",Object(c.get)(_e,"primary.".concat(e,".percentage_optins"),0),"%")))]},Ue=Object(c.isEmpty)(_e.referrers)?ee(new Array(8)):null===(t=_e.referrers)||void 0===t?void 0:t.map((function(e){return{key:e,title:z[e],value:(t=e,r=T.formatAmount(Object(c.get)(_e,"primary.".concat(t,".total_revenue"),0)).split(p.l),Object(n.createElement)(n.Fragment,null,r[0],r[1]&&Object(n.createElement)(n.Fragment,null,p.l,Object(n.createElement)("span",{className:"bwf-analytics__amount-decimal"},r[1])))),delta:Me(e),label:ze(e),icon:"direct"===e?"upsells":"others"===e?"globe":e,tags:Be(e)};var t,r}));return Object(n.createElement)(u.a,{className:"bwf-analytics__wrap bwf-referrers-wrap"},Se?Object(n.createElement)(X.a,{title:Object(l.__)("Referrer Analytics","funnel-builder"),proLink:Object(p.K)(["Referrers","Upgrade","Notice"])}):ke&&Object(n.createElement)(j.b,{modalContent:R,onPage:!0}),Object(n.createElement)(O.a,null),Object(n.createElement)("div",{className:"bwf-analytics-filters"},Ie,!pe&&Object(n.createElement)("div",{className:"bwf-flex bwf--g12"},ke||ge?Object(n.createElement)(i.Button,{onClick:function(){D(!0)},className:W()("is-secondary bwf-btn-medium bwf-btn-gray has-icon bwf-export-icon",{"is-locked":ge})},Object(n.createElement)(s.a,{icon:ge?"lock":"king",size:16,color:ge?K.TEXT_COLOR_2:K.NOTICE_YELLOW}),Object(l.__)("Export","funnel-builder")):Object(n.createElement)(U.a,{title:Object(l.__)("Export Referrers","funnel-builder"),funnelId:M,type:"referrers",exportType:M?"referrers&funnel_id=".concat(M):"referrers",filters:we,filterList:Pe,totalText:(null!=me?me:0)+Object(l.__)(" referrers","funnel-builder"),total:null!=me?me:0,isDisabled:pe}))),!pe&&ge&&Object(n.createElement)(G.a,{message:Object(l.__)("Use our sample data to explore Referrers that bring maximum revenue and orders.Uncover hidden sources or double down on your efforts based on highest converting sources.Upgrade to PRO","funnel-builder")}),Object(n.createElement)(q.a,{items:Ue,title:Object(l.__)("Overview","funnel-builder"),isLoading:_e.isLoading}),Object(n.createElement)(f.a,{isLoading:pe,title:"",rows:Ne,headers:xe,rowHeader:!0,totalRows:null!=me?me:0,rowsPerPage:w,showMenu:!1,onPageChange:function(e,t){var r=(e-1)*w;P(r),re(M,w,r,!1)},onQueryChange:function(e){return"per_page"!==e?function(){}:Re},query:{paged:Ae},className:"bwf-analytics-referring-site-table"}),x&&Object(n.createElement)(Z.a,{isOpen:x,onRequestClose:function(){return D(!1)},modalContent:{feature:Object(l.__)("Referrer Export","funnel-builder"),proLink:Object(p.K)(["Referrer","Export","Upgrade","Modal"])}}))}}}]);