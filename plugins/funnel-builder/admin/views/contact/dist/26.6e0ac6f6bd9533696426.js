(window.webpackJsonp=window.webpackJsonp||[]).push([[26,6],{1124:function(e,t,r){},1125:function(e,t,r){},245:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(0),a=r(2),o=r(7),i=r.n(o),l=r(51),c=r(9),u=(r(271),r(26)),s=["label","className","selected","help","onChange","hideLabelFromVision","options","disabled"];function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d(e){var t=e.label,r=e.className,o=e.selected,b=e.help,p=e.onChange,v=e.hideLabelFromVision,m=e.options,y=void 0===m?[]:m,h=e.disabled,g=void 0!==h&&h,O=(f(e,s),Object(l.useInstanceId)(d)),j="inspector-radio-control-".concat(O),_=function(e){return p(e.target.value)};return!Object(a.isEmpty)(y)&&Object(n.createElement)(c.BaseControl,{label:t,id:j,hideLabelFromVision:v,help:b,className:i()(r,"components-radio-control bwf-components-radio-control")},Object(n.createElement)("div",{className:"bwf-radio-control-inner"},y.map((function(e,t){return Object(n.createElement)("div",{key:"".concat(j,"-").concat(t),className:"components-radio-control__option"},Object(n.createElement)("input",{id:"".concat(j,"-").concat(t),className:"components-radio-control__input",type:"radio",name:j,value:e.value,onChange:_,checked:e.value===o,disabled:g||e.disabled||e.isPro,"aria-describedby":b?"".concat(j,"__help"):void 0}),e.isPro&&Object(n.createElement)(u.a,null),Object(n.createElement)("label",{htmlFor:"".concat(j,"-").concat(t)},e.label))}))))}},248:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(0),a=r(7),o=r.n(a),i=(r(261),["className","onChange","label","color","disabled"]);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f(e){var t=e.className,r=e.onChange,a=e.label,u=e.color,f=e.disabled,d=s(e,i),b=c(Object(n.useState)(!0),2),p=b[0],v=b[1],m=Object(n.useRef)();return Object(n.createElement)("div",{className:o()("bwf-checkbox-control bwf-checkbox",t)},Object(n.createElement)("span",{className:"bwf-checkbox-control-inner"},Object(n.createElement)("input",l({type:"checkbox"},d,{onChange:function(e){f||(r(e.target.checked),v(!1))},ref:m,className:o()({"bwf-no-animation":p,"bwf-disable":f}),style:{"--current-checkbox-color":u}}))),a&&Object(n.createElement)("label",{className:"bwf-checkbox-control__label ".concat(f?"bwf-disable":""),onClick:function(){return m.current.click()}},a))}},255:function(e,t,r){},259:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s}));var n=r(0),a=r(17),o=r.n(a),i=["component","children"];function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=Object(n.createContext)(2);function u(e){return Object(n.createElement)(c.Consumer,null,(function(t){var r="h"+Math.min(t,6);return Object(n.createElement)(r,e)}))}function s(e){var t=e.component,r=e.children,a=l(e,i),o=t||"div";return Object(n.createElement)(c.Consumer,null,(function(e){return Object(n.createElement)(c.Provider,{value:e+1},!1===t?r:Object(n.createElement)(o,a,r))}))}s.propTypes={component:o.a.oneOfType([o.a.func,o.a.string,o.a.bool]),children:o.a.node}},261:function(e,t,r){},271:function(e,t,r){},277:function(e,t,r){"use strict";var n=r(0),a=(r(9),r(7)),o=r.n(a),i=r(2),l=r(17),c=r.n(l),u=r(8),s=r(61),f=(r(255),function(e){var t=e.disabled,r=e.value,a=e.onChange,l=e.dateFormat,c=e.label,f=e.describedBy,d=e.error,b=e.onFocus,p=e.onKeyDown,v=e.errorPosition,m=e.placeHolder,y=o()("bwf-calendar-input",{"is-empty":0===r.length,"is-error":d}),h=Object(i.uniqueId)("_woo-dates-input"),g=Object(n.useRef)(null);return Object(n.createElement)("div",{className:y},Object(n.createElement)("input",{type:"text",ref:g,className:"bwf-calendar-input-text",value:r,onChange:a,"aria-label":c,id:h,"aria-describedby":"".concat(h,"-message"),placeholder:Object(i.isEmpty)(m)?l.toLowerCase():m,onFocus:b,onKeyDown:p,disabled:t}),d&&Object(n.createElement)(s.a,{className:"bwf-calendar-input-error",focusOnMount:!1,position:v},d),Object(n.createElement)("span",{className:"bwf-calender-custom-icon",onClick:function(){b(),g.current&&g.current.focus()}},Object(n.createElement)(u.a,{icon:"calender"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(h,"-message")},d||f))});f.propTypes={disabled:c.a.bool,value:c.a.string,onChange:c.a.func.isRequired,dateFormat:c.a.string.isRequired,label:c.a.string.isRequired,describedBy:c.a.string.isRequired,error:c.a.string,errorPosition:c.a.string,onFocus:c.a.func,onKeyDown:c.a.func},f.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:i.noop},t.a=f},284:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(0),a=(r(298),r(299),r(1)),o=r(9),i=r(2),l=r(56),c=r(12),u=r.n(c),s=r(17),f=r.n(s),d=r(78),b=r(7),p=r.n(b),v=(r(255),r(277)),m=r(259),y=r(4),h=r(120);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var a=k(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,r,o,c=_(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).onDateChange=t.onDateChange.bind(E(t)),t.onInputChange=t.onInputChange.bind(E(t)),t}return t=s,(r=[{key:"handleKeyDown",value:function(e,t,r){var n=r.keyCode;l.TAB===n&&e&&t()}},{key:"handleFocus",value:function(e,t){e||t()}},{key:"onDateChange",value:function(e,t){var r=this.props,n=r.onUpdate,a=r.dateFormat,o=u()(t);n({date:o,text:t?o.format(a):"",error:null}),e()}},{key:"onInputChange",value:function(e){var t=e.target.value,r=this.props.dateFormat,n=Object(d.i)(r,t),a=n?null:d.b.invalid;this.props.onUpdate({date:n,text:t,error:t.length>0?a:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.date,o=t.disabled,l=t.text,c=t.dateFormat,u=t.error,s=t.isInvalidDate,f=t.placeHolder,d=t.position,b=void 0===d?"bottom center":d,m=t.hasValue,y=void 0!==m&&m,g=t.className;return Object(n.createElement)("div",{className:p()("bwf-specific-date",{"bwf-has-value":y})},Object(n.createElement)(h.a,{position:b,focusOnMount:!1,contentClassName:"bwf-filters-date-content ".concat(g),renderToggle:function(t){var r=t.isOpen,s=t.onToggle;return Object(n.createElement)(v.a,{disabled:!!r&&o,value:l,onChange:e.onInputChange,dateFormat:c,label:Object(a.__)("Choose a date","funnel-builder"),error:u,describedBy:Object(a.sprintf)(Object(a.__)("Date input describing a selected date in format %s","funnel-builder"),c),onFocus:Object(i.partial)(e.handleFocus,r,s),"aria-expanded":r,focusOnMount:!1,onKeyDown:Object(i.partial)(e.handleKeyDown,r,s),errorPosition:"top center",placeHolder:f})},renderContent:function(t){var a=t.onToggle;return Object(n.createElement)(P,{onToggle:a,date:r,isInvalidDate:s,onDateChange:e.onDateChange})}}))}}])&&O(t.prototype,r),o&&O(t,o),s}(n.Component),P=function(e){var t=e.onToggle,r=e.date,a=e.onDateChange,l=e.isInvalidDate,c=Object(n.useRef)();return Object(y.hb)(c,(function(){return t()})),Object(n.createElement)("div",{ref:c},Object(n.createElement)(m.b,{component:!1},Object(n.createElement)("div",{className:"bwf-calendar-react-dates is-core-datepicker"},Object(n.createElement)(o.DatePicker,{currentDate:r,onChange:Object(i.partial)(a,t),isInvalidDate:l}))))};S.propTypes={date:f.a.oneOfType([f.a.string,f.a.object]),disabled:f.a.bool,text:f.a.string,error:f.a.string,onUpdate:f.a.func.isRequired,dateFormat:f.a.string.isRequired,isInvalidDate:f.a.func},t.b=S},291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=l(r(3)),o=l(r(360)),i=l(r(363));function l(e){return e&&e.__esModule?e:{default:e}}var c=void 0;function u(e,t){var r,i,l,s,f,d,b,p,v=[],m={};for(d=0;d<e.length;d++)if("string"!==(f=e[d]).type){if(!t.hasOwnProperty(f.value)||void 0===t[f.value])throw new Error("Invalid interpolation, missing component node: `"+f.value+"`");if("object"!==n(t[f.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+f.value+"`","\n> "+c);if("componentClose"===f.type)throw new Error("Missing opening component token: `"+f.value+"`");if("componentOpen"===f.type){r=t[f.value],l=d;break}v.push(t[f.value])}else v.push(f.value);return r&&(s=function(e,t){var r,n,a=t[e],o=0;for(n=e+1;n<t.length;n++)if((r=t[n]).value===a.value){if("componentOpen"===r.type){o++;continue}if("componentClose"===r.type){if(0===o)return n;o--}}throw new Error("Missing closing component token `"+a.value+"`")}(l,e),b=u(e.slice(l+1,s),t),i=a.default.cloneElement(r,{},b),v.push(i),s<e.length-1&&(p=u(e.slice(s+1),t),v=v.concat(p))),1===v.length?v[0]:(v.forEach((function(e,t){e&&(m["interpolation-child-"+t]=e)})),(0,o.default)(m))}t.default=function(e){var t=e.mixedString,r=e.components,a=e.throwErrors;if(c=t,!r)return t;if("object"!==(void 0===r?"undefined":n(r))){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var o=(0,i.default)(t);try{return u(o,r)}catch(e){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},297:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(7),i=r.n(o),l=r(2),c=r(17),u=r.n(c),s=r(323),f=r(108),d=r(79),b=function(e){var t=e.children;return Object(n.createElement)("div",{className:"bwf-ellipsis-menu__title"},t)};b.propTypes={children:u.a.node};var p=b,v=r(336),m=r(303),y=r(353),h=function(e){var t=e.data;return Object(n.createElement)("ul",{className:"bwf-table-summary bwf-display-flex"},t.map((function(e,t){var r=e.label,a=e.value;return Object(n.createElement)("li",{className:"bwf-table-summary-item",key:t},Object(n.createElement)("span",{className:"bwf-table-summary-value"},a),Object(n.createElement)("span",{className:"bwf-table-summary-label"},r))})))};h.propTypes={data:u.a.array};var g=h;r(357);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,r,o,c=k(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var r=(t=c.call(this,e)).getShowCols(e.headers);return t.state={showCols:r},t.onColumnToggle=t.onColumnToggle.bind(P(t)),t.onPageChange=t.onPageChange.bind(P(t)),t}return t=u,(r=[{key:"componentDidUpdate",value:function(e){var t=e.headers,r=e.query,n=this.props,a=n.headers,o=n.onColumnsChange,i=n.query,c=this.state.showCols;if(Object(l.isEqual)(a,t)||this.setState({showCols:this.getShowCols(a)}),i.orderby!==r.orderby&&!c.includes(i.orderby)){var u=c.concat(i.orderby);this.setState({showCols:u}),o(u)}}},{key:"getShowCols",value:function(e){return e.map((function(e){var t=e.key,r=e.visible;return!(void 0!==r&&!r)&&t})).filter(Boolean)}},{key:"getVisibleHeaders",value:function(){var e=this.props.headers,t=this.state.showCols;return e.filter((function(e){var r=e.key;return t.includes(r)}))}},{key:"getVisibleRows",value:function(){var e=this.props,t=e.headers,r=e.rows,n=this.state.showCols;return r.map((function(e){return t.map((function(t,r){var a=t.key;return n.includes(a)&&e[r]})).filter(Boolean)}))}},{key:"onColumnToggle",value:function(e){var t=this,r=this.props,n=r.headers,a=r.query,o=r.onQueryChange,i=r.onColumnsChange;return function(){t.setState((function(t){if(t.showCols.includes(e)){if(a.orderby===e){var r=Object(l.find)(n,{defaultSort:!0})||Object(l.first)(n)||{};o("sort")(r.key,"desc")}var c=Object(l.without)(t.showCols,e);return i(c,e),{showCols:c}}var u=[].concat(j(t.showCols),[e]);return i(u,e),{showCols:u}}))}}},{key:"onPageChange",value:function(){var e=this.props,t=e.onPageChange,r=e.onQueryChange;t&&t.apply(void 0,arguments),r&&r("paged").apply(void 0,arguments)}},{key:"render",value:function(){var e=this,t=this.props,r=t.actions,o=t.className,l=t.isLoading,c=t.onQueryChange,u=t.onSort,b=t.query,h=t.rowHeader,O=t.rowsPerPage,j=t.showMenu,_=t.summary,w=t.title,E=t.totalRows,k=t.rowClasses,S=t.emptyMessage,P=t.filterColumnIcon,C=void 0===P?"":P,D=t.extraSectionBeforefilterCol,T=t.hideHeader,x=t.footer,R=t.showPagination,A=void 0===R||R,N=this.state.showCols,F=this.props.headers,L=this.getVisibleHeaders(),M=this.getVisibleRows(),I=i()("bwf-table","bwf-analytics-card",o,{"bwf-table-placeholder":l});return Object(n.createElement)(s.a,{className:I,title:w,action:r,hideHeader:T&&"yes"==T?"yes":"no",footer:x,menu:!(!D&&!j)&&Object(n.createElement)("div",null,D,j&&Object(n.createElement)(f.a,{label:Object(a.__)("Choose which values to display","funnel-builder"),buttonIcon:C,renderContent:function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(p,null,Object(a.__)("Columns:","funnel-builder")),F.map((function(t){var r=t.key,a=t.label;return t.required?null:Object(n.createElement)(d.a,{checked:N.includes(r),isCheckbox:!0,isClickable:!0,key:r,onInvoke:e.onColumnToggle(r)},a)})))}})),belowHeader:!!this.props.beforeTable&&this.props.beforeTable},l?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},Object(a.__)("Your requested data is loading","funnel-builder")),Object(n.createElement)(y.a,{numberOfRows:O,headers:L,rowHeader:h,caption:w,query:b})):Object(n.createElement)(m.a,{rows:M,headers:L,rowHeader:h,caption:w,query:b,emptyMessage:S,onSort:u||c("sort"),rowClasses:k}),A&&!l&&Object(n.createElement)(v.a,{key:parseInt(b.paged,10)||1,page:parseInt(b.paged,10)||1,perPage:O,total:E,onPageChange:this.onPageChange,onPerPageChange:c("per_page")}),_&&Object(n.createElement)(g,{data:_}))}}])&&w(t.prototype,r),o&&w(t,o),u}(n.Component);D.propTypes={headers:u.a.arrayOf(u.a.shape({hiddenByDefault:u.a.bool,defaultSort:u.a.bool,isSortable:u.a.bool,key:u.a.string,label:u.a.oneOfType([u.a.string,u.a.node]),required:u.a.bool})),ids:u.a.arrayOf(u.a.number),isLoading:u.a.bool,onQueryChange:u.a.func,onColumnsChange:u.a.func,onSort:u.a.func,query:u.a.object,rowHeader:u.a.oneOfType([u.a.number,u.a.bool]),rows:u.a.arrayOf(u.a.arrayOf(u.a.shape({display:u.a.node,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool])}))).isRequired,rowsPerPage:u.a.number.isRequired,showMenu:u.a.bool,summary:u.a.arrayOf(u.a.shape({label:u.a.node,value:u.a.oneOfType([u.a.string,u.a.number])})),totalRows:u.a.number.isRequired,rowClasses:u.a.arrayOf(u.a.string),showPagination:u.a.bool},D.defaultProps={isLoading:!1,onQueryChange:function(){return function(){}},onColumnsChange:function(){},onSort:void 0,query:{},rowHeader:0,rows:[],showMenu:!0,rowClasses:[],showPagination:!0};t.a=D},301:function(e,t,r){"use strict";var n=r(0),a=r(4),o=r(8),i=r(1),l=(r(306),r(50),r(2)),c=r(37),u=(r(7),r(61));function s(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=e.conditionLabel,d=e.options,b=e.values,p=e.selectedValue,v=e.searchedValue,m=e.onChangeValue,y=e.onChangeData,h=e.className,g=e.isLoading,O=e.defaultOptions,j=e.placeholder,_=e.showInitialList,w=void 0!==_&&_,E=e.multiGroup,k=void 0!==E&&E,S=(e.hasDefaultOption,e.abortController),P=(e.isFirstLoading,Object(n.useRef)()),C=Object(n.useRef)(),D=Object(n.useRef)(),T=f(Object(n.useState)(w),2),x=T[0],R=T[1],A=f(Object(n.useState)([]),2),N=A[0],F=A[1],L=f(Object(n.useState)(""),2),M=L[0],I=L[1],q=f(Object(n.useState)([]),2),B=q[0],V=q[1],Y=f(Object(n.useState)(""),2),K=Y[0],U=Y[1],H=f(Object(n.useState)(0),2),z=H[0],$=H[1],W=f(Object(n.useState)(0),2),G=W[0],Q=W[1],X=f(Object(n.useState)(),2),J=X[0],Z=X[1],ee=f(Object(n.useState)({}),2),te=ee[0],re=ee[1],ne=f(Object(n.useState)(!1),2),ae=(ne[0],ne[1]);Object(n.useEffect)((function(){if(Object(l.size)(N)>1&&void 0!==N){var e,t=null==N?void 0:N.filter((function(e){var t;if(!M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString()))return e}));Q(null===(e=t[0])||void 0===e?void 0:e.id),N.forEach((function(e,r){var n;e.id==(null===(n=t[0])||void 0===n?void 0:n.id)&&$(r)}))}}),[N,M,B]),Object(n.useEffect)((function(){Object(l.size)(N)>1&&void 0!==N&&N.forEach((function(e,t){e.id==G&&$(t)}))}),[x]),Object(n.useEffect)((function(){if(Object(l.size)(N)>1&&void 0!==N){var e=N.filter((function(e,t){var r;if(null==M||!M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return e}));re(e)}}),[M]),Object(n.useEffect)((function(){Object(l.size)(N)>1&&void 0!==N&&N.forEach((function(e,t){t==z&&Z(null==e?void 0:e.id)}))}),[z,x]),Object(n.useEffect)((function(){Object(l.size)(N)>1&&void 0!==N&&N.forEach((function(e,t){(null==e?void 0:e.id)==(null==J?void 0:J.id)&&$(t)}))}),[J]),Object(n.useEffect)((function(){var e;((null==d?void 0:d.length)>0||(null==O?void 0:O.length)>0)&&(""==K&&"no-result"===(null===(e=d[0])||void 0===e?void 0:e.id)&&Object(l.isEmpty)(O)?F([{id:"no-result",name:"No data available"}]):""==K||0===(null==d?void 0:d.length)?F(O):F(d),I(b),V(p))}),[d,O,M]),Object(a.hb)(P,(function(){return R(!1)}));var oe=function(e){m(e)},ie=function(e){y(e)};Object(n.useEffect)((function(){""==K&&F(O),le()}),[K]),Object(n.useEffect)((function(){x?D.current.focus():D.current.blur()}),[x]);var le=function(){if(D.current){var e=D.current.parentElement;if(""===K)return e.style.width="70px",!0;var t=.75*(K.length+1)+"em";e.style.width=t}};Object(n.useEffect)((function(){var e=O.reduce((function(e,t){return e.concat(t.steps)}),[]);Object(l.size)(k?e:O)===Object(l.size)(M)&&F([{id:"no-result",name:"No data available"}])}),[O,M]),Object(n.useEffect)((function(){N.every((function(e){return M.includes(e.id)}))&&(Object(l.isEmpty)(K)?F([{id:"no-result",name:"No data available"}]):F([{id:"no-result",name:'No result found for "'.concat(K,'"')}]))}),[N,M]);return Object(n.createElement)(n.Fragment,null,r?Object(n.createElement)("span",null,r):null,Object(n.createElement)("div",{className:"chosen-container chosen-container-multi ".concat(x&&"chosen-container-active chosen-with-drop"),onClick:function(){return R(!0)},ref:P},Object(n.createElement)("ul",{className:"chosen-choices bwf-select-container bwf-rule-input-conatiner ".concat(h)},null===(t=Object(l.isEmpty)(B)?O:B)||void 0===t?void 0:t.map((function(e,t){var r;if(null!=M&&M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return Object(n.createElement)("li",{className:"bwf-select-choice",key:t},Object(n.createElement)("span",{className:"bwf-selected-label"},e.labelText?e.labelText:null!=e&&e.label?Object(c.decodeEntities)(null==e?void 0:e.label):Object(c.decodeEntities)(null==e?void 0:e.name)),Object(n.createElement)("span",{className:"search-choice-close bwf-cursor-pointer",onClick:function(){var t=B.filter((function(t){return t.id!==e.id})),r=JSON.parse(JSON.stringify(t));V(r),ie(r);var n=r.map((function(e){var t;return null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}));I(n),oe(n),R(!1)}},Object(n.createElement)(o.a,{icon:"cross-circle",height:"16",width:"16"})))})),Object(n.createElement)("li",{className:"search-fiesetConditionValueld"},Object(n.createElement)("input",{ref:D,className:"bwf-condition-input bwf_w_full",type:"text",autoComplete:"off",onChange:function(e){var t;S&&(null===(t=S.current)||void 0===t||t.abort());U(e.target.value),C.current&&clearTimeout(C.current),C.current=setTimeout((function(){Object(l.isEmpty)(e.target.value),v(e.target.value),U(e.target.value)}),600)},onFocus:function(){ae(!0)},onBlur:function(){ae(!1)},value:K||"",onKeyDown:function(e){38===e.keyCode&&z>0&&!k?te.map((function(e,t){e.id==J&&Z(te[t-1])})):40===e.keyCode&&z<(null==N?void 0:N.length)-1&&!k&&te.map((function(e,t){e.id==J&&Z(te[t+1])}))},onKeyPress:function(e){var t,r,n,a,o,i,l,c,u=null===(t=N[z])||void 0===t||null===(r=t.id)||void 0===r?void 0:r.toString();"Enter"!==e.key||!x||k||"no-result"===u||g?"Enter"===e.key&&"no-result"===u&&D.current.focus():(e.preventDefault(),null!=M&&M.includes(null===(n=N[z])||void 0===n||null===(a=n.id)||void 0===a?void 0:a.toString())||(V([].concat(s(B),[N[z]])),ie([].concat(s(B),[N[z]])),I([].concat(s(M),[null===(o=N[z])||void 0===o||null===(i=o.id)||void 0===i?void 0:i.toString()])),oe([].concat(s(M),[null===(l=N[z])||void 0===l||null===(c=l.id)||void 0===c?void 0:c.toString()])),v(""),U(""),setTimeout((function(){R(!1)}))))}}),Object(n.createElement)("div",{className:"bwf-chosen-select-placeholder",placeholdervalue:0===K.length?j:""},Object(n.createElement)(o.a,{icon:"search",color:"red",size:15})))),Object(n.createElement)(u.a,{focusOnMount:!1,position:"bottom",className:"chosen-drop ".concat(Object(l.isEmpty)(N)&&!g?"bwf-no-data":"")},Object(n.createElement)("ul",{className:" ".concat(x?"chosen-results":"bwf-hide")},g?Object(n.createElement)("li",{className:"active-result"},Object(n.createElement)("span",{className:"bwf-no-data-found bwf-select-option"},Object(i.__)("Fetching detailsâ€¦","funnel-builder"))):null==N?void 0:N.map((function(e,t){var r,a,o,i=null==e||null===(r=e.steps)||void 0===r?void 0:r.every((function(e){var t;return null==M?void 0:M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())}));return k?Object(n.createElement)("div",{key:"bwf-suggestion-panel-".concat(t)},i?null:Object(n.createElement)("div",{className:"bwf-list-heading"},e.name),null==e||null===(o=e.steps)||void 0===o?void 0:o.map((function(e){var t;return Object(n.createElement)("div",{key:e.id,className:"bwf-list-name ".concat(null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"result-selected":"active-result"," "),onClick:function(){var t,r,n;"no-result"===e.id||null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&D.current.focus():(V([].concat(s(B),[e])),ie([].concat(s(B),[e])),I([].concat(s(M),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),oe([].concat(s(M),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),v("",!1,!1),U(""),setTimeout((function(){R(!1)})))}},Object(n.createElement)("div",null,e.name))}))):Object(n.createElement)("li",{key:t,className:"".concat(null!=M&&M.includes(null==e||null===(a=e.id)||void 0===a?void 0:a.toString())?"result-selected":"active-result ".concat(z===t&&"no-result"!==e.id?"bwf-select-active":null)," "),onMouseOver:function(){var r;return!(null!=M&&M.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))&&$(t)},onClick:function(){var t,r,n;"no-result"===e.id||null!=M&&M.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&D.current.focus():(V([].concat(s(B),[e])),ie([].concat(s(B),[e])),I([].concat(s(M),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),oe([].concat(s(M),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),v("",!1,!1),U(""),setTimeout((function(){R(!1)})))}}," ",e.labelText?e.labelText:null!=e&&e.label?Object(c.decodeEntities)(null==e?void 0:e.label):Object(c.decodeEntities)(null==e?void 0:e.name))}))))))}},303:function(e,t,r){"use strict";var n=r(0),a=r(2),o=r(7),i=r.n(o),l=r(17),c=r.n(l),u=r(1),s=r(9),f=r(51),d=r(547),b=r(548),p=r(549),v=r(8),m=r(26);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var a=E(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,r,o,l=j(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).state={tabIndex:null,isScrollableRight:!1,isScrollableLeft:!1},t.container=Object(n.createRef)(),t.sortBy=t.sortBy.bind(w(t)),t.updateTableShadow=t.updateTableShadow.bind(w(t)),t}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this.container.current,t=e.scrollWidth>e.clientWidth;this.setState({tabIndex:t?"0":null}),this.updateTableShadow(),window.addEventListener("resize",this.updateTableShadow)}},{key:"componentDidUpdate",value:function(){this.updateTableShadow()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateTableShadow)}},{key:"sortBy",value:function(e){var t=this,r=this.props,n=r.headers,o=r.query;return function(){var r=o.orderby||Object(a.get)(Object(a.find)(n,{defaultSort:!0}),"key",!1),i=o.order||Object(a.get)(Object(a.find)(n,{key:r}),"defaultOrder","desc"),l="desc";e===r&&(l="desc"===i?"asc":"desc"),t.props.onSort(e,l)}}},{key:"updateTableShadow",value:function(){var e=this.container.current,t=this.state,r=t.isScrollableRight,n=t.isScrollableLeft,a=e.scrollWidth-e.scrollLeft<=e.offsetWidth;a&&r?this.setState({isScrollableRight:!1}):a||this.state.isScrollableRight||this.setState({isScrollableRight:!0});var o=e.scrollLeft<=0;o&&n?this.setState({isScrollableLeft:!1}):o||n||this.setState({isScrollableLeft:!0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.ariaHidden,o=t.caption,l=t.classNames,c=t.headers,f=t.instanceId,y=t.query,g=t.rowHeader,O=t.rows,j=t.rowClasses,_=t.emptyMessage,w=this.state,E=w.isScrollableRight,k=w.isScrollableLeft,S=w.tabIndex,P=i()("bwf-table-table",l,{"is-scrollable-right":E,"is-scrollable-left":k,"is-empty-data":!T}),C=y.orderby||Object(a.get)(Object(a.find)(c,{defaultSort:!0}),"key",!1),D=y.order||Object(a.get)(Object(a.find)(c,{key:C}),"defaultOrder","desc"),T=!!O.length;return Object(n.createElement)("div",{className:P,ref:this.container,tabIndex:S,"aria-hidden":r,"aria-labelledby":"caption-".concat(f),role:"group",onScroll:this.updateTableShadow},Object(n.createElement)("table",{width:"100%"},Object(n.createElement)("caption",{id:"caption-".concat(f),className:"bwf-table-caption screen-reader-text"},o,"0"===S&&Object(n.createElement)("small",null,Object(u.__)("(scroll to see more)","funnel-builder"))),Object(n.createElement)("tbody",null,Object(n.createElement)("tr",null,c.map((function(t,r){var o=t.cellClassName,l=t.isSortable,c=t.isNumeric,v=t.key,y=t.label,g=t.screenReaderLabel,O=t.isPro,j="header-".concat(f,"-").concat(r),_={className:i()("bwf-table-header",o,{"is-sortable":l,"is-sorted":C===v,"is-numeric":c})};l&&(_["aria-sort"]="none",C===v&&(_["aria-sort"]="asc"===D?"ascending":"descending"));var w=C===v&&"asc"!==D?Object(u.sprintf)(Object(u.__)("Sort by %s in ascending order","funnel-builder"),g):Object(u.sprintf)(Object(u.__)("Sort by %s in descending order","funnel-builder"),g),E=Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{"aria-hidden":Boolean(g)},y),O&&Object(n.createElement)(m.a,null),g&&Object(n.createElement)("span",{className:"screen-reader-text"},g));return Object(n.createElement)("th",h({role:"columnheader",scope:"col",key:r},_),l?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.Button,{"aria-describedby":j,onClick:T?e.sortBy(v):a.noop},E,C===v&&"asc"===D?Object(n.createElement)(d.a,{icon:b.a}):Object(n.createElement)(d.a,{icon:p.a})),Object(n.createElement)("span",{className:"screen-reader-text",id:j},w)):E)}))),T?O.map((function(e,t){return Object(n.createElement)("tr",{key:t,className:j[t]},e.map((function(e,t){var a=c[t],o=a.cellClassName,l=(a.isLeftAligned,a.isNumeric),u=a.isPro,s=g===t,f=s?"th":"td",d=i()("bwf-table-item",o,{"is-conversion":"conversion"===c[t].key,"is-numeric":l,"is-sorted":C===c[t].key});return Object(n.createElement)(f,{scope:s?"row":null,key:t,className:d},u&&!r?"-":function(e){return e.display||null}(e))})))})):Object(n.createElement)("tr",{className:"bwf-table-empty"},Object(n.createElement)("td",{className:"bwf-table-empty-item",colSpan:c.length},Object(n.createElement)(v.a,{icon:"no-data",height:"82",width:"112"}),Object(n.createElement)("div",{className:"bwf-no-data"},Object(u.__)("No Data Available","funnel-builder")),_?Object(n.createElement)("div",{className:"bwf-info"},_):null)))))}}])&&g(t.prototype,r),o&&g(t,o),c}(n.Component);k.propTypes={ariaHidden:c.a.bool,className:c.a.string,headers:c.a.arrayOf(c.a.shape({defaultSort:c.a.bool,defaultOrder:c.a.string,isLeftAligned:c.a.bool,isNumeric:c.a.bool,isSortable:c.a.bool,key:c.a.string,label:c.a.node,required:c.a.bool,screenReaderLabel:c.a.string})),onSort:c.a.func,query:c.a.object,rows:c.a.arrayOf(c.a.arrayOf(c.a.shape({display:c.a.node,value:c.a.oneOfType([c.a.string,c.a.number,c.a.bool])}))).isRequired,rowHeader:c.a.oneOfType([c.a.number,c.a.bool]),rowClasses:c.a.arrayOf(c.a.string)},k.defaultProps={ariaHidden:!1,headers:[],onSort:a.noop,query:{},rowHeader:0,rowClasses:[]},t.a=Object(f.withInstanceId)(k)},305:function(e,t,r){"use strict";function n(e){return function(){return e}}var a=function(){};a.thatReturns=n,a.thatReturnsFalse=n(!1),a.thatReturnsTrue=n(!0),a.thatReturnsNull=n(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},306:function(e,t,r){},309:function(e,t,r){"use strict";var n=r(0),a=r(17),o=r.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,e);var t,r,a,o=u(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).scrollTo=t.scrollTo.bind(f(t)),t}return t=i,(r=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(n.createRef)(),Object(n.createElement)("div",{ref:this.ref},e)}}])&&l(t.prototype,r),a&&l(t,a),i}(n.Component);b.propTypes={offset:o.a.string},b.defaultProps={offset:"0"},t.a=b},318:function(e,t,r){"use strict";var n=r(0);t.a=function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return Object(n.createElement)("div",{className:"bwf-c-container"},Object(n.createElement)("div",{className:"bwf-c-content-inner"},Object(n.createElement)("div",{className:"bwf-c-content-body ".concat(a)},t)))}},323:function(e,t,r){"use strict";var n=r(0),a=r(7),o=r.n(a),i=r(17),l=r.n(i),c=(r(108),r(259));r(356);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,r,a,i=b(l);function l(){return s(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.action,r=e.children,a=e.description,i=e.isInactive,l=e.menu,u=e.title,s=e.hideHeader,f=e.footer,d=o()("bwf-card",this.props.className,{"has-menu":!!l,"has-action":!!t,"is-inactive":!!i});return Object(n.createElement)("div",{className:d},s&&"no"==s&&(!!u||t||l)&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-card-header"},!!u&&Object(n.createElement)("div",{className:"bwf-card-title-wrapper"},Object(n.createElement)("div",{className:"bwf-card-title bwf-card-header-item"},u),a&&Object(n.createElement)("div",{className:"bwf-card-description bwf-card-header-item"},a)),t&&Object(n.createElement)("div",{className:"bwf-card-action bwf-card-header-item"},t),l&&Object(n.createElement)("div",{className:"bwf-card-menu bwf-card-header-item"},l))),Object(n.createElement)(c.b,{className:"bwf-card-body"},r),f&&Object(n.createElement)("div",{className:"bwf-card-footer"},f))}}])&&f(t.prototype,r),a&&f(t,a),l}(n.Component);m.propTypes={action:l.a.node,className:l.a.string,description:l.a.oneOfType([l.a.string,l.a.node]),isInactive:l.a.bool,title:l.a.oneOfType([l.a.string,l.a.node])};t.a=m},334:function(e,t,r){},335:function(e,t,r){"use strict";var n=r(1);t.a={calendarLabel:Object(n.__)("Calendar","funnel-builder"),closeDatePicker:Object(n.__)("Close","funnel-builder"),focusStartDate:Object(n.__)("Interact with the calendar and select start and end dates.","funnel-builder"),clearDate:Object(n.__)("Clear Date","funnel-builder"),clearDates:Object(n.__)("Clear Dates","funnel-builder"),jumpToPrevMonth:Object(n.__)("Move backward to switch to the previous month.","funnel-builder"),jumpToNextMonth:Object(n.__)("Move forward to switch to the next month.","funnel-builder"),enterKey:Object(n.__)("Enter key","funnel-builder"),leftArrowRightArrow:Object(n.__)("Right and left arrow keys","funnel-builder"),upArrowDownArrow:Object(n.__)("up and down arrow keys","funnel-builder"),pageUpPageDown:Object(n.__)("page up and page down keys","funnel-builder"),homeEnd:Object(n.__)("Home and end keys","funnel-builder"),escape:Object(n.__)("Escape key","funnel-builder"),questionMark:Object(n.__)("Question mark","funnel-builder"),selectFocusedDate:Object(n.__)("Select the date in focus.","funnel-builder"),moveFocusByOneDay:Object(n.__)("Move backward (left) and forward (right) by one day.","funnel-builder"),moveFocusByOneWeek:Object(n.__)("Move backward (up) and forward (down) by one week.","funnel-builder"),moveFocusByOneMonth:Object(n.__)("Switch months.","funnel-builder"),moveFocustoStartAndEndOfWeek:Object(n.__)("Go to the first or last day of a week.","funnel-builder"),returnFocusToInput:Object(n.__)("Return to the date input field.","funnel-builder"),keyboardNavigationInstructions:Object(n.__)("Press the down arrow key to interact with the calendar and select a date.","funnel-builder"),chooseAvailableStartDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as a start date.","funnel-builder"),t)},chooseAvailableEndDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as an end date.","funnel-builder"),t)},chooseAvailableDate:function(e){return e.date},dateIsUnavailable:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("%s is not selectable.","funnel-builder"),t)},dateIsSelected:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Selected. %s","funnel-builder"),t)}}},336:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(9),i=r(7),l=r.n(i),c=r(17),u=r.n(c),s=r(2),f=(r(337),r(8)),d=r(244);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=[10,25,50,75,100],j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,r,i,c=m(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).state={inputValue:t.props.page},t.previousPage=t.previousPage.bind(h(t)),t.nextPage=t.nextPage.bind(h(t)),t.onInputChange=t.onInputChange.bind(h(t)),t.onInputBlur=t.onInputBlur.bind(h(t)),t.perPageChange=t.perPageChange.bind(h(t)),t.selectInputValue=t.selectInputValue.bind(h(t)),t}return t=u,(r=[{key:"previousPage",value:function(e){e.stopPropagation();var t=this.props,r=t.page,n=t.onPageChange;r-1<1||n(r-1,"previous")}},{key:"nextPage",value:function(e){e.stopPropagation();var t=this.props,r=t.page,n=t.onPageChange;r+1>this.pageCount||n(r+1,"next")}},{key:"perPageChange",value:function(e){var t=this.props,r=t.onPerPageChange,n=t.onPageChange,a=t.total,o=t.page;r(parseInt(e,10));var i=Math.ceil(a/parseInt(e,10));o>i&&n(i)}},{key:"onInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"onInputBlur",value:function(e){var t=this.props,r=t.onPageChange,n=t.page,a=parseInt(e.target.value,10);a!==n&&Number.isFinite(a)&&a>0&&this.pageCount&&this.pageCount>=a&&r(a,"goto")}},{key:"selectInputValue",value:function(e){e.target.select()}},{key:"renderPageArrows",value:function(){var e=this.props,t=e.page,r=e.showPageArrowsLabel;if(this.pageCount<=1)return null;var i=l()("bwf-pagination-link",{"is-active":t>1}),c=l()("bwf-pagination-link",{"is-active":t<this.pageCount});return Object(n.createElement)("div",{className:"bwf-pagination-page-arrows"},r&&Object(n.createElement)("span",{className:"bwf-pagination-page-arrows-label",role:"status","aria-live":"polite"},Object(a.sprintf)(Object(a.__)("Page %d of %d","funnel-builder"),t,this.pageCount)),Object(n.createElement)("div",{className:"bwf-pagination-page-arrows-buttons"},Object(n.createElement)(o.Button,{className:i,disabled:!(t>1),onClick:this.previousPage,label:Object(a.__)("Previous Page","funnel-builder")},Object(n.createElement)(f.a,{icon:"arrow-left",width:16})),Object(n.createElement)(o.Button,{className:c,disabled:!(t<this.pageCount),onClick:this.nextPage,label:Object(a.__)("Next Page","funnel-builder")},Object(n.createElement)(f.a,{icon:"arrow-right",width:16,color:"#0073AA"}))))}},{key:"renderPerPagePicker",value:function(){var e,t=O.map((function(e){return{key:e.toString(),label:e.toString()}}));return Object(n.createElement)("div",{className:"bwf-pagination-per-page-picker"},Object(n.createElement)(d.b,{selected:null===(e=this.props.perPage)||void 0===e?void 0:e.toString(),onChange:this.perPageChange,options:t,labelPosition:"side"}),Object(n.createElement)("label",{className:"bwf-pagination-per-page-picker__label"},Object(a.__)("Per Page","funnel-builder")))}},{key:"render",value:function(){var e=this.props,t=e.total,r=e.perPage,a=e.className,o=e.showPerPagePicker;this.pageCount=Math.ceil(t/r);var i=l()("bwf-pagination",a);return this.pageCount<=1?t>O[0]&&Object(n.createElement)("div",{className:i},this.renderPerPagePicker())||null:Object(n.createElement)("div",{className:i},this.renderPageArrows(),o&&this.renderPerPagePicker())}}])&&p(t.prototype,r),i&&p(t,i),u}(n.Component);j.propTypes={page:u.a.number.isRequired,onPageChange:u.a.func,perPage:u.a.number.isRequired,onPerPageChange:u.a.func,total:u.a.number.isRequired,className:u.a.string,showPagePicker:u.a.bool,showPerPagePicker:u.a.bool,showPageArrowsLabel:u.a.bool},j.defaultProps={onPageChange:s.noop,onPerPageChange:s.noop,showPagePicker:!1,showPerPagePicker:!0,showPageArrowsLabel:!0},t.a=j},337:function(e,t,r){},345:function(e,t,r){"use strict";var n=r(0),a=r(9),o=r(37),i=r(17),l=r.n(i),c=r(7),u=r.n(c),s=(r(364),r(8)),f=["labels","isOpen","showIcon","hasValue"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=function(e){var t=e.labels,r=e.isOpen,i=e.showIcon,l=e.hasValue,c=b(e,f),p=u()("bwf-dropdown-button",{"is-open":r,"is-multi-line":t.length>1,"has-value":l});return Object(n.createElement)(a.Button,d({className:p,"aria-expanded":r},c),Object(n.createElement)("div",{className:"bwf-dropdown-button-labels"},t.map((function(e,t){return Object(n.createElement)("span",{key:t},Object(o.decodeEntities)(e))})),i&&Object(n.createElement)(s.a,{icon:"calender"})))};p.propTypes={labels:l.a.array.isRequired,isOpen:l.a.bool},t.a=p},353:function(e,t,r){"use strict";var n=r(0),a=r(2),o=r(17),i=r.n(o),l=r(303);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["numberOfRows"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var a=O(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,r,o,i=h(c);function c(){return v(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.numberOfRows,o=p(t,u),i=Object(a.range)(r).map((function(){return e.props.headers.map((function(){return{display:Object(n.createElement)("span",{className:"is-placeholder"})}}))})),c=this.props.headers.map((function(e){return d(d({},e),{},{label:Object(n.createElement)("span",{className:"is-placeholder"})})}));return Object(n.createElement)(l.a,s({ariaHidden:!0,classNames:"is-loading",rows:i},o,{headers:c}))}}])&&m(t.prototype,r),o&&m(t,o),c}(n.Component);j.propTypes={query:i.a.object,headers:i.a.arrayOf(i.a.shape({hiddenByDefault:i.a.bool,defaultSort:i.a.bool,isSortable:i.a.bool,key:i.a.string,label:i.a.node,required:i.a.bool})),numberOfRows:i.a.number},j.defaultProps={numberOfRows:5},t.a=j},356:function(e,t,r){},357:function(e,t,r){},358:function(e,t,r){"use strict";var n=r(0),a=r(9),o=r(1),i=r(8),l=(r(384),r(2)),c=r(50),u=r(42),s=r(7),f=r.n(s);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){e.query;var t=e.searchTerm,r=e.isLoading,s=e.totalRows,b=e.setSearchData,p=e.showResultCount,v=void 0===p||p,m=e.isPlaceholder,y=void 0!==m&&m,h=e.isLocked,g=d(Object(n.useState)(t),2),O=g[0],j=g[1],_=Object(n.useRef)();return y?Object(n.createElement)(u.a,{h:36,w:240,br:6}):Object(n.createElement)("div",{className:"bwf-search-wrap"},Object(n.createElement)("div",{className:"bwf-search-inner-wrap"},Object(n.createElement)(a.TextControl,{value:O||"",onChange:function(e){j(e),_.current&&clearTimeout(_.current),_.current=setTimeout((function(){Object(l.isEmpty)(e)?(j(""),b("")):b(e)}),600)},autoComplete:"off",placeholder:Object(o.__)("Searchâ€¦","funnel-builder"),className:f()({"is-locked":h})}),Object(n.createElement)("span",{className:"bwf-search-icon"},Object(n.createElement)(i.a,{icon:h?"lock":"search",height:"20",width:"20",color:"#82838e"})),!Object(l.isEmpty)(O)&&(r?Object(n.createElement)(c.a,null):Object(n.createElement)("span",{onClick:function(){j(""),b("")},className:"bwf-remove-icon"},Object(n.createElement)(i.a,{icon:"cross",height:"16",width:"16",color:"#82838e"})))),v&&!Object(l.isEmpty)(t)&&!r&&0!==s&&Object(n.createElement)("div",{className:"bwf-search-result-count"},s," ",1===s?Object(o.__)("result found","funnel-builder"):Object(o.__)("results found","funnel-builder")))}},360:function(e,t,r){"use strict";var n=r(3),a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=r(305),i=r(361),l=r(362),c="function"==typeof Symbol&&Symbol.iterator;function u(e,t){return e&&"object"==typeof e&&null!=e.key?(r=e.key,n={"=":"=0",":":"=2"},"$"+(""+r).replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var r,n}function s(e,t,r,n){var o,l=typeof e;if("undefined"!==l&&"boolean"!==l||(e=null),null===e||"string"===l||"number"===l||"object"===l&&e.$$typeof===a)return r(n,e,""===t?"."+u(e,0):t),1;var f=0,d=""===t?".":t+":";if(Array.isArray(e))for(var b=0;b<e.length;b++)f+=s(o=e[b],d+u(o,b),r,n);else{var p=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(p){0;for(var v,m=p.call(e),y=0;!(v=m.next()).done;)f+=s(o=v.value,d+u(o,y++),r,n)}else if("object"===l){0;var h=""+e;i(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===h?"object with keys {"+Object.keys(e).join(", ")+"}":h,"")}}return f}var f=/\/+/g;function d(e){return(""+e).replace(f,"$&/")}var b,p,v=m,m=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},y=function(e){i(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function h(e,t,r,n){this.result=e,this.keyPrefix=t,this.func=r,this.context=n,this.count=0}function g(e,t,r){var a,i,l=e.result,c=e.keyPrefix,u=e.func,s=e.context,f=u.call(s,t,e.count++);Array.isArray(f)?O(f,l,r,o.thatReturnsArgument):null!=f&&(n.isValidElement(f)&&(a=f,i=c+(!f.key||t&&t.key===f.key?"":d(f.key)+"/")+r,f=n.cloneElement(a,{key:i},void 0!==a.props?a.props.children:void 0)),l.push(f))}function O(e,t,r,n,a){var o="";null!=r&&(o=d(r)+"/");var i=h.getPooled(t,o,n,a);!function(e,t,r){null==e||s(e,"",t,r)}(e,g,i),h.release(i)}h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},b=function(e,t,r,n){if(this.instancePool.length){var a=this.instancePool.pop();return this.call(a,e,t,r,n),a}return new this(e,t,r,n)},(p=h).instancePool=[],p.getPooled=b||v,p.poolSize||(p.poolSize=10),p.release=y;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return l(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(n.isValidElement(e))return l(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;i(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var r in e)O(e[r],t,r,o.thatReturnsArgument);return t}},361:function(e,t,r){"use strict";e.exports=function(e,t,r,n,a,o,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,o,i,l],s=0;(c=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},362:function(e,t,r){"use strict";var n=r(305);e.exports=n},363:function(e,t,r){"use strict";function n(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(n)}},364:function(e,t,r){},372:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(0),a=r(1),o=r(4),i=r(291),l=r.n(i),c=r(2),u=r(12),s=r.n(u),f=function(e,t){return Object(n.createElement)(n.Fragment,null,e.title,":"," ",l()({mixedString:e.operators?e.readable_text:"{{value /}}",components:{key:Object(n.createElement)(n.Fragment,null,e.title),rule:Object(n.createElement)(n.Fragment,null,d(e,t)),value:Object(n.createElement)("strong",{title:Object(n.renderToString)(b(e,t)),className:"bwf-t-overflow-ellipsis"},b(e,t))}}))},d=function(e,t){var r;if(e.operators)return"number"===e.type?e.operators[t.rule]:"search"===e.type?null===(r=e.operators[t.rule])||void 0===r?void 0:r.replace("Is",""):e.operator&&e.operators[t.rule]},b=function(e,t){if("date-range"===e.type)return t.data.period?p[t.data.period]:s()(t.data.after).format(Object(o.P)())===s()(t.data.before).format(Object(o.P)())?"".concat(s()(t.data.after).format(Object(o.P)())):Object(n.createElement)(n.Fragment,null,"".concat(s()(t.data.after).format(Object(o.P)())," - ").concat(s()(t.data.before).format(Object(o.P)())));if("select"===e.type)return e.options[t.data];if("number"===e.type||"text"===e.type)return t.data;if("search"===e.type&&Object(c.isArray)(t.data)&&!Object(c.isEmpty)(t.data))return t.data.map((function(e){return e.label})).join(", ");if("search-select"===e.type)return t.data.label;if("checklist"===e.type){if(Object(c.isArray)(t.data))return Object(c.isEmpty)(t.data)||t.data.length!==Object.keys(e.options).length?t.data.map((function(t){return e.options[t]})).join(", "):"All";if(t.data)return e.options[t.data]}return null},p={today:Object(a.__)("Today","funnel-builder"),yesterday:Object(a.__)(" Yesterday","funnel-builder"),week:Object(a.__)("This Week","funnel-builder"),last_week:Object(a.__)("Last Week","funnel-builder"),month:Object(a.__)("This Month","funnel-builder"),last_month:Object(a.__)("Last Month","funnel-builder"),quarter:Object(a.__)("Quarter to Date","funnel-builder"),last_quarter:Object(a.__)("Last Quarter","funnel-builder"),year:Object(a.__)("Year to Date","funnel-builder"),last_year:Object(a.__)("Last Year","funnel-builder"),specificDate:Object(a.__)("On Specific Date","funnel-builder"),custom:Object(a.__)("Custom Date Range","funnel-builder")}},374:function(e,t,r){"use strict";var n=r(0),a=r(17),o=r.n(a),i=r(12),l=r.n(i),c=(r(369),r(298),r(299),r(1)),u=r(7),s=r.n(u),f=r(406),d=r(2),b=r(166),p=r(78),v=(r(334),r(9)),m=r(8),y=(r(255),function(e){var t=e.disabled,r=e.value,a=e.onChange,o=e.dateFormat,i=e.label,l=e.describedBy,c=e.error,u=e.onFocus,f=e.onKeyDown,b=e.errorPosition,p=s()("bwf-calendar-input",{"is-empty":0===r.length,"is-error":c}),y=Object(d.uniqueId)("_woo-dates-input");return Object(n.createElement)("div",{className:p},Object(n.createElement)("div",{className:"bwf-date-range-input"},Object(n.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:r,onChange:a,"aria-label":i,id:y,"aria-describedby":"".concat(y,"-message"),placeholder:o,onFocus:u,onKeyDown:f,disabled:t}),Object(n.createElement)("div",{className:"bwf-label"},i)),c&&Object(n.createElement)(v.Popover,{className:"bwf-calendar-input-error bwf-tooltip",focusOnMount:!1,position:b},c),Object(n.createElement)("span",{className:"bwf-calender-custom-icon"},Object(n.createElement)(m.a,{icon:"calender-1",width:"16",height:"16"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(y,"-message")},c||l))});y.propTypes={disabled:o.a.bool,value:o.a.string,onChange:o.a.func,dateFormat:o.a.string,label:o.a.string,describedBy:o.a.string,error:o.a.string,errorPosition:o.a.string,onFocus:o.a.func,onKeyDown:o.a.func},y.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:d.noop};var h=y,g=r(335),O=r(4);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,r,a,o=k(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={lastCurrentMonth:l()(),rangeKey:Object(O.o)()},t.onDatesChange=t.onDatesChange.bind(P(t)),t.onFocusChange=t.onFocusChange.bind(P(t)),t.onInputChange=t.onInputChange.bind(P(t)),t.nodeRef=Object(n.createRef)(),t.keepFocusInside=t.keepFocusInside.bind(P(t)),t.handleEndPrevClick=t.handleEndPrevClick.bind(P(t)),t.handleStartPrevClick=t.handleStartPrevClick.bind(P(t)),t}return t=i,(r=[{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,a=n.onUpdate;n.shortDateFormat,a({after:t,before:r,afterText:t?t.format("MM/DD/YYYY"):"",beforeText:r?r.format("MM/DD/YYYY"):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r,n=t.target.value,a=this.props,o=a.after,i=a.before,c=(a.shortDateFormat,Object(p.j)(e,n,i,o,"MM/DD/YYYY")),u=c.date,s=c.error;this.setState({lastCurrentMonth:l()(u).add(1,"month")}),this.props.onUpdate((_(r={},e,u),_(r,e+"Text",n),_(r,e+"Error",n.length>0?s:null),r)),"before"!==e||s||this.setState({rangeKey:Object(O.o)()})}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||l()();return e?r.clone().subtract(1,"month"):r}}},{key:"keepFocusInside",value:function(e,t){var r=this.props.popoverRef;(!t.relatedTarget||!t.relatedTarget.classList.contains("bwf-calendar-input-text")&&null!=r&&r.current&&null!=r&&r.current.contains(t.relatedTarget))&&this.nodeRef.current.querySelector(".DayPicker_focusRegion").focus({preventScroll:!0})}},{key:"handleStartPrevClick",value:function(e){this.setState({lastCurrentMonth:l()(e).add(1,"month")})}},{key:"handleEndPrevClick",value:function(e){this.setState({lastCurrentMonth:l()(e).add(1,"month")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,a=t.before,o=t.focusedInput,i=t.afterText,u=t.beforeText,b=t.afterError,p=t.beforeError,y=(t.shortDateFormat,t.isViewportMobile),O=t.isInvalidDate,j=l()().format("MM");return Object(n.createElement)("div",{className:s()("bwf-calendar bwf-date-range-calender",{"is-mobile":y})},Object(n.createElement)("div",{className:"bwf-calendar-inputs"},Object(n.createElement)(h,{value:i,onChange:Object(d.partial)(this.onInputChange,"after"),dateFormat:"MM/DD/YYYY",label:Object(c.__)("Start Date","funnel-builder"),error:b,describedBy:Object(c.sprintf)(Object(c.__)("Date input describing a selected date range's start date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("startDate")}}),Object(n.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(c.__)("to","funnel-builder")),Object(n.createElement)(h,{value:u,onChange:Object(d.partial)(this.onInputChange,"before"),dateFormat:"MM/DD/YYYY",label:Object(c.__)("End Date","funnel-builder"),error:p,describedBy:Object(c.sprintf)(Object(c.__)("Date input describing a selected date range's end date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("endDate")}})),Object(n.createElement)("div",{className:"bwf-date-picker-container bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(d.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(n.createElement)(f.DayPickerRangeController,{onPrevMonthClick:this.handleStartPrevClick,onNextMonthClick:this.handleEndPrevClick,navNext:this.state.lastCurrentMonth.format("MM")===j?Object(n.createElement)("span",{className:"bwf-cursor-text"},Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-right",color:"#9A9898"})):Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-right",color:"#323232"}),navPrev:Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-left",color:"#323232"}),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:o,startDate:r,endDate:a,orientation:"horizontal",numberOfMonths:2,isOutsideRange:function(e){return O&&O(e.toDate())},maxDate:l()().endOf("month"),minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:Object(c.isRTL)(),initialVisibleMonth:this.setTnitialVisibleMonth(!0,a),phrases:g.a,key:this.state.rangeKey})),Object(n.createElement)("div",{className:"bwf-date-picker-actions"},Object(n.createElement)(v.Button,{isPrimary:!0,disabled:Object(d.isEmpty)(i)||Object(d.isEmpty)(u),className:Object(d.isEmpty)(i)||Object(d.isEmpty)(u)?"bwf-no-ripple":"",onClick:function(){var t={after:i,before:u};e.props.value(t),e.props.onClose()}},Object(c.__)("Done","funnel-builder"))))}}])&&w(t.prototype,r),a&&w(t,a),i}(n.Component);D.propTypes={after:o.a.object,afterError:o.a.string,afterText:o.a.string,before:o.a.object,beforeError:o.a.string,beforeText:o.a.string,focusedInput:o.a.string,isInvalidDate:o.a.func,onUpdate:o.a.func.isRequired,shortDateFormat:o.a.string.isRequired,losesFocusTo:o.a.instanceOf(Element)};var T=Object(b.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(D);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var a=M(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,r,a,o=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state=t.getResetState(),t.onTabSelect=t.onTabSelect.bind(L(t)),t.onUpdate=t.onUpdate.bind(L(t)),t.controlsRef=Object(n.createRef)(),t}return t=i,(r=[{key:"getResetState",value:function(){var e=this.props,t=e.period,r=e.compare,n=e.before,a=e.after;return{period:t,compare:r,before:n,after:a,focusedInput:"startDate",afterText:this.formatDate(a,"MM/DD/YYYY"),beforeText:this.formatDate(n,"MM/DD/YYYY"),afterError:null,beforeError:null}}},{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"onUpdate",value:function(e){this.setState(e)}},{key:"onTabSelect",value:function(e){var t=this.props.period;"period"===e&&"custom"===t&&this.onUpdate({period:"today"})}},{key:"isFutureDate",value:function(e){return l()().isBefore(l()(e),"day")}},{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.value,a=e.popoverRef,o=this.state,i=o.after,l=o.before,c=o.focusedInput,u=o.afterText,s=o.beforeText,f=o.afterError,d=o.beforeError;return Object(n.createElement)(T,{after:i,before:l,onUpdate:this.onUpdate,isInvalidDate:this.isFutureDate,focusedInput:c,afterText:u,beforeText:s,afterError:f,beforeError:d,shortDateFormat:"MM/DD/YYYY",losesFocusTo:this.controlsRef.current,onClose:function(){return t()},value:function(e){return r(e)},popoverRef:a})}}])&&R(t.prototype,r),a&&R(t,a),i}(n.Component);I.propTypes={onClose:o.a.func};t.a=I},384:function(e,t,r){},391:function(e,t,r){"use strict";var n=r(0),a=r(7),o=r.n(a),i=r(12),l=r.n(i),c=r(2),u=r(1),s=r(284),f=r(374),d=r(108),b=r(8),p=r(79),v=(r(546),r(4));function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.className,r=e.hideFilters,a=void 0===r?[]:r,i=e.onChange,y=void 0===i?function(){}:i,h=e.defaultValue,g=e.value,O=void 0===g?{period:h,before:l()(),after:l()()}:g,j=m(Object(n.useState)(O),2),_=j[0],w=j[1],E=v.k[_.period]?v.k[_.period]:v.k[h]?v.k[h]:Object(u.__)("Select","funnel-builder");return Object(n.createElement)(d.a,{label:E,menuPosition:"bottom right",classes:"components-button is-secondary-gray",wrapperClasses:o()("bwf-date-filter__dropdown is-from-bottom-only",t),buttonLabel:Object(n.createElement)(n.Fragment,null,E,Object(n.createElement)(b.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,function(e){var t=e.onToggle;return Object.keys(v.k).map((function(e,r){return!a.includes(e)&&("specificDate"===e?Object(n.createElement)(d.a,{menuPosition:"bottom right",classes:o()("bwf-date-filter-item__dropdown-btn bwf-ellipsis-menu__item",{"is-selected":_.period===e}),focusOnMount:!1,wrapperClasses:"bwf-date-filter-item__dropdown",buttonLabel:Object(n.createElement)(n.Fragment,null,v.k[e]),renderContent:function(e){var r=e.onToggle;return Object(n.createElement)(s.a,{onToggle:function(){},dateFormat:v.d,date:_.after,isInvalidDate:function(e){return l()(e).isAfter(l()(),"day")},onDateChange:function(e,n){var a={period:"specificDate",before:l()(n).endOf("day").format(v.d),after:l()(n).format(v.d)};w(a),y(a),t(),r()}})},key:"date-filter-item-".concat(r)}):"custom"===e?Object(n.createElement)(d.a,{menuPosition:"bottom right",classes:o()("bwf-date-filter-item__dropdown-btn bwf-ellipsis-menu__item ",{"is-selected":_.period===e}),focusOnMount:!1,wrapperClasses:"bwf-date-filter-item__dropdown bwf-ellipsis-menu__item-date-range",buttonLabel:Object(n.createElement)(n.Fragment,null,v.k[e]),renderContent:function(e){var r=e.onToggle;return Object(n.createElement)(f.a,{after:Object(c.isEmpty)(_.after)||"custom"!==_.period?null:l()(_.after),before:Object(c.isEmpty)(_.before)||"custom"!==_.period?l()().endOf("day"):l()(_.before),hideCompare:!0,onClose:function(){},shortDateFormat:Object(v.P)(),disablePresets:!0,value:function(e){var n={period:"custom",before:l()(e.before).endOf("day").format(v.d),after:l()(e.after).format(v.d)};w(n),y(n),t(),r()}})},key:"date-filter-item-".concat(r)}):Object(n.createElement)(p.a,{isClickable:!0,onInvoke:function(){if(_.period!==e){var r={period:e,before:"",after:""};w(r),y(r)}t()},key:"date-filter-item-".concat(r),className:o()({"is-selected":_.period===e})},v.k[e]))})).filter((function(e){return!1!==e}))}({onToggle:t}))}})}},398:function(e,t,r){"use strict";var n=r(0),a=r(7),o=r.n(a),i=r(8),l=(r(419),r(108)),c=r(358),u=r(79),s=r(2),f=r(1);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=[{key:"",label:Object(f.__)("No result found","funnel-builder"),disabled:!0}];t.a=function(e){var t=e.label,r=e.className,a=e.options,f=e.searchText,b=void 0===f?"":f,v=e.onSearch,m=e.isLoading,y=e.selected,h=void 0===y?{}:y,g=e.onSelect,O=void 0===g?function(){}:g,j=e.title,_=d(Object(n.useState)(b),2),w=_[0],E=_[1],k=Object(n.useCallback)((function(e){var t=e.onToggle,r=a.filter((function(e){var t;return-1!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase().indexOf(null==w?void 0:w.toLowerCase()))}));return(Object(s.isEmpty)(r)?p:r).map((function(e,r){return Object(n.createElement)(u.a,{key:"funnel-".concat(r),isClickable:!e.disabled,onInvoke:function(){O(e),t()},title:e.label},Object(n.createElement)("span",{className:"bwf-whitespace-wrap"},e.label),e.key===h&&Object(n.createElement)(i.a,{icon:"tick",height:"16",width:"16"}))}))}),[h,a,w]);return Object(n.createElement)(l.a,{label:j,menuPosition:"bottom left",classes:"components-button is-secondary-gray",wrapperClasses:o()("bwf-checklist__dropdown is-from-bottom-only",r),buttonLabel:Object(n.createElement)(n.Fragment,null,t,Object(n.createElement)(i.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.a,{query:{s:null!=b?b:w},setSearchData:function(e){v?v(e):E(e)},showResultCount:!1,isLoading:m}),k({onToggle:t}))}})}},399:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(7),i=r.n(o),l=r(1143),c=r(2),u=r(428),s=r.n(u),f=r(9),d=r(1157),b=r(429),p=r(17),v=r.n(p),m=r(166),y=r(14),h=r(50);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var a=k(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,r,a,o=w(i);function i(){return O(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props.height;return Object(n.createElement)("div",{"aria-hidden":"true",className:"bwf-chart-placeholder",style:{height:e}},Object(n.createElement)(h.a,{size:"xl"}))}}])&&j(t.prototype,r),a&&j(t,a),i}(n.Component);S.propTypes={height:v.a.number},S.defaultProps={height:0};var P=S,C=r(259),D=(r(410),r(1155)),T=r(1138);r(411);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=L(e);if(t){var a=L(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(l,e);var t,r,a,o=N(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).chartRef=Object(n.createRef)(),t}return t=l,(r=[{key:"componentDidMount",value:function(){this.drawUpdatedChart()}},{key:"shouldComponentUpdate",value:function(e){return this.props.className!==e.className||!Object(c.isEqual)(this.props.data,e.data)||!Object(c.isEqual)(this.props.orderedKeys,e.orderedKeys)||this.props.drawChart!==e.drawChart||this.props.height!==e.height||this.props.chartType!==e.chartType||this.props.width!==e.width||this.props.chartMeta!==e.chartMeta}},{key:"componentDidUpdate",value:function(){this.drawUpdatedChart()}},{key:"componentWillUnmount",value:function(){this.deleteChart()}},{key:"delayedScroll",value:function(){var e=this.props.tooltip;return Object(c.throttle)((function(){e&&e.hide()}),300)}},{key:"deleteChart",value:function(){Object(T.a)(this.chartRef.current).selectAll("svg").remove()}},{key:"drawUpdatedChart",value:function(){(0,this.props.drawChart)(this.getContainer())}},{key:"getContainer",value:function(){var e=this.props,t=e.className,r=e.height,n=e.width;this.deleteChart();var a=Object(T.a)(this.chartRef.current).append("svg").attr("viewBox","0 0 ".concat(n," ").concat(r)).attr("height",r).attr("width",n).attr("preserveAspectRatio","xMidYMid meet");return t&&a.attr("class","".concat(t,"__viewbox")),a.append("g")}},{key:"render",value:function(){var e=this.props.className;return Object(n.createElement)("div",{className:i()("d3-base",e),ref:this.chartRef,onScroll:this.delayedScroll()})}}])&&R(t.prototype,r),a&&R(t,a),l}(n.Component);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}M.propTypes={className:v.a.string,data:v.a.array,orderedKeys:v.a.array,tooltip:v.a.object,chartType:v.a.string};var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.b;return"function"==typeof e?e:t(e)},K=function(e){return q(new Set(e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]))).filter((function(e){return"date"!==e}))},U=r(1158),H=r(1141),z=r(1148),$=r(12),W=r.n($);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(U.a)().domain(e.filter((function(e){return e.visible})).map((function(e){return e.key}))).rangeRound([0,t.bandwidth()]).padding(r?0:.07)},J=function(e,t){return Object(H.a)().domain([W()(e[0],"YYYY-MM-DD HH:mm").toDate(),W()(e[e.length-1],"YYYY-MM-DD HH:mm").toDate()]).rangeRound([0,t])},Z=function(e){var t=function(e){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return e.forEach((function(e){for(var n=0,a=Object.entries(e);n<a.length;n++){var o=G(a[n],2),i=o[0],l=o[1];"date"!==i&&Number.isFinite(l.value)&&l.value>t&&(t=l.value),"date"!==i&&Number.isFinite(l.value)&&l.value<r&&(r=l.value)}})),{upper:t,lower:r}}(e),r=t.lower,n=t.upper,a=function(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))return 1;if(0===t&&0===e)return 1/3;var r=Math.max(-e,t),n=3*Math.pow(10,(Math.log(r)*Math.LOG10E+1|0)-2),a=Math.ceil(r/n)*n/3;return t<1&&e>-1?Math.round(4*a)/4:Math.ceil(a)}(r,n),o={lower:0,upper:0,step:a};return(Number.isFinite(r)||r<0)&&(o.lower=Math.floor(r/a)*a,o.lower===r&&0!==r&&(o.lower-=a)),(Number.isFinite(n)||n>0)&&(o.upper=a<=1?4:4*a,o.upper===n&&0!==n&&(o.upper+=a)),o},ee=r(1151),te=function(e){for(var t=[],r=1;r<=Math.floor(Math.sqrt(e));r++)e%r==0&&(t.push(r),e/r!==r&&t.push(e/r));return t.sort((function(e,t){return e-t})),t},re=function(e,t,r,n){var a,o=function(e,t){if(e<783)return 7;if(e>=783&&e<=1130)return 12;if(e>1130&&e<=1365){if("time-comparison"===t)return 16;if("item-comparison"===t)return 12}else if(e>1365){if("time-comparison"===t)return 31;if("item-comparison"===t)return 16}return 16}(t,r);return(e.length>=63&&"day"===n||e.length>=9&&"week"===n)&&(e=(a=e).filter((function(e,t){return 0===t||W()(e).toDate().getMonth()!==W()(a[t-1]).toDate().getMonth()}))),e.length<=o||"hour"===n&&function(e){var t=W()(e[0]).toDate(),r=W()(e[e.length-1]).toDate();return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}(e)&&t>783?e:function(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r[0]!==e[0]&&r.unshift(e[0]),r}(e,function(e,t){for(var r=[],n=1;r.length<=3;)r=te(e.length-n),n+=1;return r.find((function(r){return e.length/r<t}))}(e,o))},ne=function(e,t,r,n){var a=W()(e).toDate(),o=0!==t?r[t-1]:r[t];return o=o instanceof Date?o:W()(o).toDate(),0===t?n(a):function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new RegExp([" |,"],"g"),n=e.split(r),a=t.split(r),o=new Array,i=e.length>t.length?n:a,l=0;l<i.length;l++)n[l]!==a[l]&&o.push(a[l]);return o}(n(o),n(a)).join(" ")},ae=r(4);function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var le=function(e,t,r){for(var n=[],a=0;a<e;a++){var o=(a+1)/e*t,i=r?Math.round(o):o;n[n.length-1]!==i&&n.push(i)}return n},ce=function(e,t,r){return[0].concat(oe(function(e,t){if(e>=0)return[];var r=Math.ceil(-e/t);return le(r,e,e<-1)}(e,r)),oe(function(e,t){if(e<=0)return[];var r=Math.ceil(e/t);return le(r,e,e>1)}(t,r)))},ue=function(e,t,r,n,a,o){Object(ae.s)();var i=ce(t.yScale.domain()[0],t.yScale.domain()[1],t.step),l=t.xScale.range()[1],c=a?l+n.left+n.right+35:-n.left/2-15,u=t.yMin>=0||t.yMax>0?" with-positive-ticks":"";e.append("g").attr("class","grid"+u).attr("transform","translate(0, 0)").call(Object(ee.b)(t.yScale).tickValues(i).tickSize(-l-n.left-n.right).tickFormat("")),e.append("g").attr("class","axis y-axis").attr("aria-hidden","true").attr("transform","translate("+c+", 0)").attr("text-anchor","start").call(Object(ee.b)(t.yScale).tickValues(0===t.yMax&&0===t.yMin?[i[0]]:i).tickFormat((function(e){return e>-1&&e<1&&r.yBelow1Format?r.yBelow1Format(e):o&&!o.isCurrency?r.yFormat(e):(t=r.yFormat(e),"left"===(null==(a=null!==(n=wffn_contacts_data.currency)&&void 0!==n?n:{symbol:""})?void 0:a.symbolPosition)?(null==a?void 0:a.symbol)+t:t+(null==a?void 0:a.symbol));var t,n,a})))},se=function(e,t,r,n,a,o,i){!function(e,t,r,n){var a=r.yScale.range()[0],o=re(t.uniqueDates,r.xScale.range()[1],t.mode,t.interval);"line"!==t.chartType&&"curve-line"!==t.chartType||(o=o.map((function(e){return W()(e).toDate()}))),e.append("g").attr("class","axis").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a+10,")")).call(Object(ee.a)(r.xScale).tickValues(o).tickFormat((function(e,r){return"hour"===t.interval?n.xFormat(e instanceof Date?e:W()(e).toDate()):ne(e,r,o,n.xFormat)}))),"day"===t.interval&&e.append("g").attr("class","axis axis-month").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a+("day"===t.interval?30:0),")")).call(Object(ee.a)(r.xScale).tickValues(o).tickFormat((function(e,t){return ne(e,t,o,n.x2Format)}))),e.append("g").attr("class","pipes").attr("transform","translate(0, ".concat(a,")")).call(Object(ee.a)(r.xScale).tickValues(o).tickSize(5).tickFormat(""))}(e,t,r,n),ue(e,r,n,a,o,i),e.selectAll(".domain").remove(),e.selectAll(".axis .tick line").remove()},fe=r(918),de=r(1150);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e,t,r,n,a,o){var i,l,u=n.yScale.range()[0],s=n.xScale.range()[1],f=(i=n.xScale,l=n.yScale,Object(de.a)().x((function(e){return i(W()(e.date).toDate())})).y((function(e){return l(e.value)}))),d=function(e,t){return t.map((function(t){return{key:t.key,focus:t.focus,visible:t.visible,label:t.label,values:e.map((function(e){return{date:e.date,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,visible:t.visible}}))}}))}(t,r.visibleKeys),b=e.append("g").attr("class","lines").selectAll(".line-g").data(d.filter((function(e){return e.visible})).reverse()).enter().append("g").attr("class","line-g").attr("role","region").attr("aria-label",(function(e){return e.label||e.key})),p=function(e,t,r,n,a){var o=r.slice().reverse();return t.map((function(r,i){var l=Object(c.first)(e.filter((function(e){return e.date===r}))),u=a(W()(r).toDate()),s=a(i>=1?W()(t[i-1]).toDate():W()(t[0]).toDate()),f=i<t.length-1?a(W()(t[i+1]).toDate()):a(W()(t[t.length-1]).toDate()),d=0===i?f-u:u-s,b=0===i?0:u-d/2;return d=0===i||i===t.length-1?d/2:d,{date:r,start:t.length>1?b:0,width:t.length>1?d:n,values:o.map((function(e){var t=e.key,n=l[t];return n?{key:t,value:n.value,date:r}:null})).filter(Boolean)}}))}(t,r.uniqueDates,r.visibleKeys,s,n.xScale),v=s<=1365||r.uniqueDates.length>50?2:3;v=s<=783?1.25:v;var m=s<=1365?4:6;r.uniqueDates.length>1&&b.append("path").attr("fill","none").attr("stroke-width",v).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke",(function(e){return r.getColor(e.key)})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("d",(function(e){return f(e.values)}));s/r.uniqueDates.length>36&&b.selectAll("circle").data((function(e,t){return e.values.map((function(r){return pe(pe({},r),{},{i:t,visible:e.visible,key:e.key})}))})).enter().append("circle").attr("r",m).attr("fill",(function(e){return r.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",v+1).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})).attr("tabindex","0").attr("aria-label",(function(e){var t=a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate());return"".concat(t," ").concat(o.valueFormat(e.value))})).on("focus",(function(e,r,n){o.show(t.find((function(t){return t.date===e.date})),n[r].parentNode,fe.b.target)})).on("blur",(function(){return o.hide()}));var y=e.append("g").attr("class","focusspaces").selectAll(".focus").data(p).enter().append("g").attr("class","focus"),h=y.append("g").attr("class","focus-grid").attr("opacity","0");h.append("line").attr("x1",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y1",0).attr("x2",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y2",u),h.selectAll("circle").data((function(e){return e.values})).enter().append("circle").attr("r",m+2).attr("fill",(function(e){return r.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",v+2).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})),y.append("rect").attr("class","focus-g").attr("x",(function(e){return e.start})).attr("y",0).attr("width",(function(e){return e.width})).attr("height",u).attr("opacity",0).on("mouseover",(function(e,n,a){var i=(0===n||n===p.length-1)&&r.uniqueDates.length>1?0:.5;o.show(t.find((function(t){return t.date===e.date})),fe.b.target,a[n].parentNode,i)})).on("mouseout",(function(){return o.hide()}))},ye=[[],[.5],[.333,.667],[.2,.5,.8],[.12,.375,.625,.88],[0,.25,.5,.75,1]],he=function(e,t){return function(r){var n=e.length>5?5:e.length,a=Object(c.findIndex)(e,(function(e){return e.key===r})),o=a<=4?ye[n][a]:0;return t(o)}};function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=null,this.chart=null,this.position="",this.title="",this.labelFormat="",this.valueFormat="",this.visibleKeys="",this.getColor=null,this.interval="",this.margin=24,this.chartMeta={},this.type="old",this.isProFeatureLocked=!1}var t,r,n;return t=e,(r=[{key:"calculateXPosition",value:function(e,t,r){var n=this.ref.getBoundingClientRect(),a=this.ref.parentNode.querySelector(".d3-base").getBoundingClientRect(),o=Math.max(a.left,t.left);if("below"===this.position)return Math.max(this.margin,Math.min(e.left+.5*e.width-n.width/2-o,a.width-n.width-this.margin));var i=e.left+e.width*r+this.margin-o;return i+n.width+this.margin>a.width?Math.max(this.margin,e.left+e.width*(1-r)-n.width-this.margin-o):i}},{key:"calculateYPosition",value:function(e,t){if("below"===this.position)return t.height;var r=this.ref.getBoundingClientRect(),n=e.top+this.margin-t.top;return n+r.height+this.margin>t.height?Math.max(0,e.top-r.height-this.margin-t.top):n}},{key:"calculatePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=e.getBoundingClientRect(),o=this.chart.getBoundingClientRect(),i=this.ref.getBoundingClientRect();return"below"===this.position&&(t=0),{x:r<50||r>o.width-220?this.calculateXPosition(a,o,t):r-i.width/4,y:n-("new"===this.type?.65*i.height:i.height)}}},{key:"hide",value:function(){Object(T.a)(this.chart).selectAll(".barfocus, .focus-grid").attr("opacity","0"),Object(T.a)(this.ref).style("visibility","hidden")}},{key:"getTooltipRowLabel",value:function(e,t){return e[t.key].labelDate?this.labelFormat(W()(e[t.key].labelDate).toDate()):t.label||t.key}},{key:"show",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(this.visibleKeys.length){Object(T.a)(r).select(".focus-grid, .barfocus").attr("opacity","1");var l=this.calculatePosition(t,a,o,i),c=(this.visibleKeys.map((function(t){return'\n\t\t\t\t\t<li class="key-row">\n\t\t\t\t\t\t<div class="key-container">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass="key-color"\n\t\t\t\t\t\t\t\tstyle="background-color: '.concat(n.getColor(t.key),'">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="key-key">').concat(n.getTooltipRowLabel(e,t),'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="key-value">').concat(n.valueFormat(e[t.key].value),"</span>\n\t\t\t\t\t</li>\n\t\t\t\t")})),this.title?this.title:this.labelFormat(W()(e.date).toDate()),Object(ae.s)()),u=function(e){return"year"===n.interval?W()(e).year():W()(e).format("month"===n.interval?"MMM YYYY":Object(ae.P)())},s=function(t){var r,a,o,i,l,s,f,d,b,p,v,m=n.visibleKeys[0].key;switch(t){case"old":return 1===n.visibleKeys.length?'\n\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-value">\n\t\t\t\t\t\t\t\t'.concat(n.chartMeta&&!n.chartMeta.isCurrency?e[m].value:c.formatAmount(e[m].value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t<div>').concat(n.chartMeta.title,"</div>\n\t\t\t\t\t\t\t<div>").concat(u(null===(r=e[m])||void 0===r?void 0:r.labelDate),"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"):'\n\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val bwf-mb-16">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="color" style="background: #0073AA;"></div>\n\t\t\t\t\t\t\t\t<div class="label">'.concat(u(null===(a=e.primary)||void 0===a?void 0:a.labelDate),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t').concat(n.chartMeta&&!n.chartMeta.isCurrency?e.primary.value:c.formatAmount(e.primary.value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="color" style="background: #F5C452;"></div>\n\t\t\t\t\t\t\t\t<div class="label">').concat(u(null===(o=e.secondary)||void 0===o?void 0:o.labelDate),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t').concat(n.chartMeta&&!n.chartMeta.isCurrency?e.secondary.value:c.formatAmount(e.secondary.value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t<div>').concat(n.chartMeta.title,"</div>\n\t\t\t\t\t\t<div>").concat(u(null===(i=e.primary)||void 0===i?void 0:i.labelDate),"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t");case"new":return 1===n.visibleKeys.length?'\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-value">\n\t\t\t\t\t\t\t\t\t\t'.concat(c.formatAmount(e[m].value),'\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-sec-values">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Checkout</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(c.formatAmount(null===(l=e[m].data)||void 0===l?void 0:l.checkout),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Order Bump</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(n.isProFeatureLocked?"-":c.formatAmount(null===(s=e[m].data)||void 0===s?void 0:s.orderBump),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Upsell</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(n.isProFeatureLocked?"-":c.formatAmount(null===(f=e[m].data)||void 0===f?void 0:f.upsell),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t\t\t<div>').concat(null===(d=e[m].data)||void 0===d?void 0:d.orders," Orders</div>\n\t\t\t\t\t\t\t\t\t<div>").concat(u(e.date),"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"):'\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val bwf-mb-16">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="color" style="background: #0073AA;"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label" >'.concat(u(null===(b=e.primary)||void 0===b?void 0:b.labelDate),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t\t\t\t').concat(c.formatAmount(e.primary.value),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="color" style="background: #F5C452;"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">').concat(u(null===(p=e.secondary)||void 0===p?void 0:p.labelDate),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t\t\t\t').concat(c.formatAmount(e.secondary.value),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t<div>').concat(u(null===(v=e.primary)||void 0===v?void 0:v.labelDate),"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t")}};Object(T.a)(this.ref).style("left",l.x+"px").style("top",l.y+"px").style("visibility","visible").html(s(this.type))}}}])&&ge(t.prototype,r),n&&ge(t,n),e}(),je=r(1134),_e=r(32);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se=function(e,t,r,n,a,o){var i,l,u=n.yScale.range()[0],s=n.xScale.range()[1],f=(i=n.xScale,l=n.yScale,Object(de.a)().curve(je.a).x((function(e){return i(W()(e.date).toDate())})).y((function(e){return l(e.value)}))),d=function(e,t){return t.map((function(t){return{key:t.key,focus:t.focus,visible:t.visible,label:t.label,values:e.map((function(e){return{date:e.date,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,visible:t.visible}}))}}))}(t,r.visibleKeys),b=e.append("g").attr("class","lines").selectAll(".line-g").data(d.filter((function(e){return e.visible})).reverse()).enter().append("g").attr("class","line-g").attr("role","region").attr("aria-label",(function(e){return e.label||e.key})),p=function(e,t,r,n,a){var o=r.slice().reverse();return t.map((function(r,i){var l=Object(c.first)(e.filter((function(e){return e.date===r}))),u=a(W()(r).toDate()),s=a(i>=1?W()(t[i-1]).toDate():W()(t[0]).toDate()),f=i<t.length-1?a(W()(t[i+1]).toDate()):a(W()(t[t.length-1]).toDate()),d=0===i?f-u:u-s,b=0===i?0:u-d/2;return d=0===i||i===t.length-1?d/2:d,{date:r,start:t.length>1?b:0,width:t.length>1?d:n,values:o.map((function(e){var t=e.key,n=l[t];return n?{key:t,value:n.value,date:r}:null})).filter(Boolean)}}))}(t,r.uniqueDates,r.visibleKeys,s,n.xScale),v=b.append("defs"),m=v.append("linearGradient").attr("id","grad").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%"),y=[["rgba(0,115,170, 0.2)","1"],["rgba(0,115,170, 0.1)","0"]];m.selectAll("stop").data(y).enter().append("stop").style("stop-color",(function(e){return e[0]})).style("stop-opacity",(function(e){return e[1]})).attr("offset",(function(e,t){return t/(y.length-1)*100+"%"}));v.append("linearGradient").attr("id","grad2").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%").selectAll("stop").data([["rgba(245,196,82, 0.2)","1"],["rgba(245,245,82, 0.1)","0"]]).enter().append("stop").style("stop-color",(function(e){return e[0]})).style("stop-opacity",(function(e){return e[1]})).attr("offset",(function(e,t){return t/(y.length-1)*100+"%"}));var h=2;h=s<=783?2:h;var g=s<=1365?4:6,O=v.append("filter").attr("id","glow");O.append("feGaussianBlur").attr("stdDeviation","1.5").attr("result","coloredBlur");var j=O.append("feMerge");j.append("feMergeNode").attr("in","coloredBlur"),j.append("feMergeNode").attr("in","SourceGraphic"),r.uniqueDates.length>1&&b.append("path").attr("fill","none").attr("stroke-width",h).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke",(function(e){return"primary"===e.key?_e.BLUE_BASE:_e.NOTICE_YELLOW})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("d",(function(e){return f(e.values)})).attr("fill",(function(e){return"primary"===e.key?"url(#grad)":"url(#grad2)"}));s/r.uniqueDates.length>36&&b.selectAll("circle").data((function(e,t){return e.values.map((function(r){return Ee(Ee({},r),{},{i:t,visible:e.visible,key:e.key})}))})).enter().append("circle").attr("r",g).attr("fill",(function(e){return"#0073aa"})).attr("stroke","#fff").attr("stroke-width","4px").style("opacity",(function(e){e.focus;return 0})).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})).attr("tabindex","0").attr("aria-label",(function(e){var t=a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate());return"".concat(t," ").concat(o.valueFormat(e.value))})).on("focus",(function(e,t,r){})).on("blur",(function(){return o.hide()}));var _=e.append("g").attr("class","focusspaces").selectAll(".focus").data(p).enter().append("g").attr("class","focus"),w=_.append("g").attr("class","focus-grid").attr("opacity","0");w.selectAll(null).data((function(e){return e.values})).enter().append("line").attr("x1",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y1",(function(e){return n.yScale(e.value)})).attr("x2",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y2",u),w.selectAll("circle").data((function(e){return e.values})).enter().append("circle").attr("r",g+2).attr("fill",(function(e){return"primary"===e.key?_e.BLUE_BASE:_e.NOTICE_YELLOW})).attr("stroke","#fff").style("filter","url(#glow)").attr("stroke-width",h).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})),_.append("rect").attr("class","focus-g").attr("x",(function(e){return e.start})).attr("y",0).attr("width",(function(e){return e.width})).attr("height",u).attr("opacity",0).on("mouseover",(function(e,a,i){var l,c,u,s,f=(0===a||a===p.length-1)&&r.uniqueDates.length>1?0:.5,d=null!==(l=null===(c=e.values[0])||void 0===c?void 0:c.value)&&void 0!==l?l:0,b=null!==(u=null===(s=e.values[1])||void 0===s?void 0:s.value)&&void 0!==u?u:0;o.show(t.find((function(t){return t.date===e.date})),fe.b.target,i[a].parentNode,f,n.xScale(W()(e.date).toDate()),n.yScale(Math.max(d,b)))})).on("mouseout",(function(){return o.hide()}))},Pe=r(1152),Ce=r(1135),De=r(926);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Le(e);if(t){var a=Le(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ne(this,r)}}function Ne(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(){return"rtl"===document.documentElement.dir},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(l,e);var t,r,a,o=Ae(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).drawChart=t.drawChart.bind(Fe(t)),t.getParams=t.getParams.bind(Fe(t)),t.tooltipRef=Object(n.createRef)(),t}return t=l,(r=[{key:"getFormatParams",value:function(){var e=this.props,t=e.screenReaderFormat,r=e.xFormat,n=e.x2Format,a=e.yFormat,o=e.yBelow1Format;return{screenReaderFormat:Y(t,D.a),xFormat:Y(r,D.a),x2Format:Y(n,D.a),yBelow1Format:Y(o),yFormat:Y(a)}}},{key:"getScaleParams",value:function(e){var t=this.props,r=t.data,n=t.height,a=t.orderedKeys,o=t.chartType,i=this.getMargin(),l=n-i.top-i.bottom,c=this.getWidth()-i.left-i.right,u=Z(r),s=u.upper,f=u.lower,d=u.step,b=function(e,t,r){return Object(z.a)().domain([Math.min(t,0),0===r&&0===t?1:Math.max(r,0)]).rangeRound([e,0])}(l,f,s);if("line"===o||"curve-line"===o)return{step:d,xScale:J(e,c),yMax:s,yMin:f,yScale:b};var p=this.shouldBeCompact(),v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(U.a)().domain(e).range([0,t]).paddingInner(r?0:.1)}(e,c,p);return{step:d,xGroupScale:X(a,v,p),xScale:v,yMax:s,yMin:f,yScale:b}}},{key:"getParams",value:function(e){var t=this.props,r=t.chartType,n=t.colorScheme,a=t.data,o=t.interval,i=t.mode,l=t.orderedKeys||function(e){return K(e).map((function(t){return{key:t,focus:!0,total:e.reduce((function(e,r){return e+r[t].value}),0),visible:!0}})).sort((function(e,t){return t.total-e.total}))}(a),c=l.filter((function(e){return e.visible})),u=l.length>5?c:l;return{getColor:he(u,n),interval:o,mode:i,chartType:r,uniqueDates:e,visibleKeys:c}}},{key:"createTooltip",value:function(e,t,r){var n=this.props,a=n.tooltipLabelFormat,o=n.tooltipPosition,i=n.tooltipTitle,l=n.tooltipValueFormat,c=n.interval,u=n.chartMeta,s=new Oe;s.ref=this.tooltipRef.current,s.type=u?"old":"new",s.chart=e,s.position=o,s.title=i,s.labelFormat=Y(a,D.a),s.valueFormat=Y(l),s.visibleKeys=r,s.getColor=t,s.interval=c,s.chartMeta=u,s.isProFeatureLocked=this.props.isProFeatureLocked,this.tooltip=s}},{key:"drawChart",value:function(e){var t,r=this.props,n=r.data,a=r.dateParser,o=r.chartType,i=r.emptyText,l=r.chartMeta,u=r.chartId,s=this.getMargin(),f=e.attr("id","chart").append("g").attr("transform","translate(".concat(s.left,", ").concat(s.top,")"));if("donut"===o)return null===(t=Object(T.a)("#".concat(u," .d3-donut-tip")).node())||void 0===t||t.remove(),void function(e,t,r){var n=r.width,a=void 0===n?640:n,o=r.height,i=void 0===o?400:o,l=(r.margin,r.emptyText),u=void 0===l?"":l,s=(r.chartId,r.donutTip),f=Math.min(a,i)/2+35,d=t.reduce((function(e,t){return e+(t.value||0)}),0),b=d?t:[{key:"dummy",value:100,color:["#DEDFEA","#DEDFEA"]}],p=Object(De.a)().domain(b.map((function(e){return e.key}))).range(b.map((function(e){return e.color&&Object(c.isArray)(e.color)?e.color[0]:_e.TEXT_COLOR_3}))),v=Object(Pe.a)().sort(null).value((function(e){return e.value}))(b),m=Object(Ce.a)().innerRadius(.52*f).outerRadius(.8*f),y=Object(Ce.a)().innerRadius(.52*(f+2)).outerRadius(.8*(f+8));Object(Ce.a)().innerRadius(.9*f).outerRadius(.9*f),e.attr("transform","translate("+a/2+","+i/2+")");var h=e.append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");h.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",2).attr("result","blur"),h.append("feFlood").attr("flood-color","#323247").attr("flood-opacity","0.5").attr("result","offsetColor"),h.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur"),h.append("feComposite").attr("in","offsetColor").attr("in2","offsetBlur").attr("result","offsetBlur").attr("operator","in");var g=h.append("feMerge");g.append("feMergeNode").attr("in","offsetBlur"),g.append("feMergeNode").attr("in","SourceGraphic");var O=function(e){if(d){Object(T.a)("#slice-"+e.data.key).attr("d",y).attr("filter","url(#drop-shadow");var t=e.data.tooltip;Object(T.a)(".d3-donut-tip").style("opacity",1),s.html(t).style("opacity",1).style("left",fe.b.layerX-50+"px").style("top",fe.b.layerY+35+"px")}},j=function(e){Object(T.a)("#slice-"+e.data.key).attr("d",m).attr("filter",""),Object(T.a)(".d3-donut-tip").style("opacity",0)};e.selectAll("allSlices").data(v).enter().append("path").attr("id",(function(e){return"slice-"+e.data.key})).attr("d",m).attr("fill",(function(e){return p(e.data.key)})).style("stroke-width","0").on("mousemove",O).on("mouseleave",j),e.selectAll("allValues").data(v).enter().append("text").text((function(e){return e.data.value>4?e.data.value<10&&e.data.value%1?Math.floor(e.data.value)+"%":e.data.value+"%":""})).attr("id",(function(e){return"value-"+e.data.key})).attr("class","slice-value").attr("transform",(function(e){return"translate("+m.centroid(e)+")"})).style("text-anchor","middle").style("fill",(function(e){return e.data.color&&Object(c.isArray)(e.data.color)?e.data.color[1]:"#ffffff"})).on("mousemove",O).on("mouseleave",j),d||e.append("text").attr("class","name-text").text(u).attr("text-anchor","middle").attr("x","0").attr("y","0").attr("width","100").style("fill",_e.TEXT_COLOR_3).call((function(e){e.each((function(){for(var e=Object(T.a)(this),t=e.text().split(/\s+/).reverse(),r=parseFloat(e.attr("width")),n=parseFloat(e.attr("y")),a=e.attr("x"),o=e.attr("text-anchor"),i=e.text(null).append("tspan").attr("x",a).attr("y",n).attr("text-anchor",o),l=0,c=[],u=t.pop();u;)c.push(u),i.text(c.join(" ")),i.node().getComputedTextLength()>r&&(l+=1,c.pop(),i.text(c.join(" ")),c=[u],i=e.append("tspan").attr("x",a).attr("y",n+20*l).attr("anchor",o).text(u)),u=t.pop()}))}))}(f,n,{height:280,width:280,emptyText:i,chartId:u,donutTip:Object(T.a)("#"+u).append("div").style("opacity",0).attr("class","d3-donut-tip")});var d=function(e,t){var r=Object(D.b)(t);return q(new Set(e.map((function(e){return e.date})))).sort((function(e,t){return r(e)-r(t)}))}(n,a),b=this.getFormatParams(),p=this.getParams(d),v=this.getScaleParams(d);this.createTooltip(f.node(),p.getColor,p.visibleKeys),se(f,p,v,b,s,Me(),l),"curve-line"!==o?("line"===o&&me(f,n,p,v,b,this.tooltip),"bar"===o&&function(e,t,r,n,a,o){var i=n.yScale.range()[0],l=e.append("g").attr("class","bars").selectAll("g").data(t).enter().append("g").attr("transform",(function(e){return"translate(".concat(n.xScale(e.date),", 0)")})).attr("class","bargroup").attr("role","region").attr("aria-label",(function(e){return"item-comparison"===r.mode?a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate()):null}));l.append("rect").attr("class","barfocus").attr("x",0).attr("y",0).attr("width",n.xGroupScale.range()[1]).attr("height",i).attr("opacity","0").on("mouseover",(function(e,r,n){o.show(t.find((function(t){return t.date===e.date})),fe.b.target,n[r].parentNode)})).on("mouseout",(function(){return o.hide()}));var c=n.yScale(0);l.selectAll(".bar").data((function(e){return r.visibleKeys.map((function(t){return{key:t.key,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,label:t.label,visible:t.visible,date:e.date}}))})).enter().append("rect").attr("class","bar").attr("x",(function(e){return n.xGroupScale(e.key)})).attr("y",(function(e){return Math.min(c,n.yScale(e.value))})).attr("width",n.xGroupScale.bandwidth()).attr("height",(function(e){return Math.abs(c-n.yScale(e.value))})).attr("fill",(function(e){return r.getColor(e.key)})).attr("pointer-events","none").attr("tabindex","0").attr("aria-label",(function(e){var n=e.label||e.key;if("time-comparison"===r.mode){var i=t.find((function(t){return t.date===e.date}));n=a.screenReaderFormat(W()(i[e.key].labelDate).toDate())}return"".concat(n," ").concat(o.valueFormat(e.value))})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).on("focus",(function(e,r,n){var a=e.value>0?fe.b.target:fe.b.target.parentNode;o.show(t.find((function(t){return t.date===e.date})),a,n[r].parentNode)})).on("blur",(function(){return o.hide()}))}(f,n,p,v,b,this.tooltip)):Se(f,n,p,v,b,this.tooltip)}},{key:"shouldBeCompact",value:function(){var e=this.props,t=e.data,r=e.chartType,n=e.width;if("bar"!==r)return!1;var a=this.getMargin(),o=n-a.left-a.right,i=t&&t.length?Object.keys(t[0]).length-1:0;return o<t.length*(i+1)}},{key:"getMargin",value:function(){var e=this.props.margin;return Me()?{bottom:e.bottom,left:-30,right:e.left,top:e.top}:e}},{key:"getWidth",value:function(){var e=this.props,t=e.data,r=e.chartType,n=e.width;if("bar"!==r)return n;var a=this.getMargin(),o=t&&t.length?Object.keys(t[0]).length-1:0,i=this.shouldBeCompact()?t.length*o:t.length*(o+1);return Math.max(n,i+a.left+a.right)}},{key:"getEmptyMessage",value:function(){var e=this.props,t=e.baseValue,r=e.data,a=e.emptyMessage;if(a&&function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<e.length;r++)for(var n=0,a=Object.entries(e[r]);n<a.length;n++){var o=I(a[n],2),i=o[0],l=o[1];if("date"!==i&&!Object(c.isNil)(l.value)&&l.value!==t)return!1}return!0}(r,t))return Object(n.createElement)("div",{className:"d3-chart__empty-message"},a)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.data,a=e.height,o=e.orderedKeys,l=e.chartType,c=e.chartMeta,u=this.getWidth();return Object(n.createElement)("div",{className:i()("d3-chart__container",t)},this.getEmptyMessage(),Object(n.createElement)("div",{className:"d3-chart__tooltip",ref:this.tooltipRef}),Object(n.createElement)(M,{className:i()(t),data:r,drawChart:this.drawChart,chartMeta:c,height:a,orderedKeys:o,tooltip:this.tooltip,chartType:l,width:u}))}}])&&xe(t.prototype,r),a&&xe(t,a),l}(n.Component);Ie.propTypes={baseValue:v.a.number,className:v.a.string,colorScheme:v.a.func,data:v.a.array.isRequired,dateParser:v.a.string.isRequired,emptyMessage:v.a.string,height:v.a.number,interval:v.a.oneOf(["hour","day","week","month","quarter","year",""]),margin:v.a.shape({bottom:v.a.number,left:v.a.number,right:v.a.number,top:v.a.number}),mode:v.a.oneOf(["item-comparison","time-comparison"]),screenReaderFormat:v.a.oneOfType([v.a.string,v.a.func]),orderedKeys:v.a.array,tooltipLabelFormat:v.a.oneOfType([v.a.string,v.a.func]),tooltipValueFormat:v.a.oneOfType([v.a.string,v.a.func]),tooltipPosition:v.a.oneOf(["below","over"]),tooltipTitle:v.a.string,chartType:v.a.oneOf(["bar","line","curve-line","donut"]),width:v.a.number,xFormat:v.a.oneOfType([v.a.string,v.a.func]),x2Format:v.a.oneOfType([v.a.string,v.a.func]),yBelow1Format:v.a.oneOfType([v.a.string,v.a.func]),yFormat:v.a.oneOfType([v.a.string,v.a.func])},Ie.defaultProps={baseValue:0,data:[],dateParser:"%Y-%m-%dT%H:%M:%S",height:200,margin:{bottom:30,left:40,right:0,top:20},mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",tooltipPosition:"over",tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",chartType:"line",width:600,xFormat:"%Y-%m-%d",x2Format:"",yBelow1Format:".3~f",yFormat:".3~s"};var qe=Ie,Be=r(51),Ve=r(248);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$e(e);if(t){var a=$e(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ze(this,r)}}function ze(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(c,e);var t,r,o,l=He(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=l.call(this)).listRef=Object(n.createRef)(),e.state={isScrollable:!1},e}return t=c,(r=[{key:"componentDidMount",value:function(){this.updateListScroll(),window.addEventListener("resize",this.updateListScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateListScroll)}},{key:"updateListScroll",value:function(){if(this&&this.listRef){var e=this.listRef.current,t=e.scrollHeight-e.scrollTop<=e.offsetHeight;this.setState({isScrollable:!t})}}},{key:"render",value:function(){var e=this.props,t=(e.colorScheme,e.data),r=e.handleLegendHover,o=e.handleLegendToggle,l=e.interactive,c=e.legendDirection,u=(e.legendValueFormat,e.instanceId),s=e.totalLabel,f=this.state.isScrollable,d=t.filter((function(e){return e.visible})),b=d.length,p="column"===c&&t.length>5&&s;return t.length,Object(n.createElement)("div",{className:i()("bwf-legend","bwf-legend-direction-".concat(c),{"has-total":p,"is-scrollable":f},this.props.className)},Object(n.createElement)("ul",{className:"bwf-legend-list",ref:this.listRef,onScroll:p?this.updateListScroll:null},t.map((function(e,t){return Object(n.createElement)("li",{className:i()("bwf-legend-item",{"bwf-legend-item-checked":e.visible}),key:e.key,id:"bwf-legend-".concat(u,"__item__").concat(e.key),onMouseEnter:r,onMouseLeave:r,onBlur:r,onFocus:r},Object(n.createElement)("button",{onClick:o,id:"bwf-legend-".concat(u,"__item-button__").concat(e.key),disabled:e.visible&&b<=1||!e.visible&&b>=5||!l,title:b>=5?Object(a.sprintf)(Object(a.__)("You may select up to %d items.","funnel-builder"),5):""},Object(n.createElement)("div",{className:"bwf-legend-item-container"},Object(n.createElement)(Ve.a,{checked:e.visible,onChange:function(){},color:1===t?_e.NOTICE_YELLOW:_e.BLUE_BASE}),Object(n.createElement)("span",{className:"bwf-legend-item-title"},e.label))))}))),p&&Object(n.createElement)("div",{className:"bwf-legend-total"},s))}}])&&Ke(t.prototype,r),o&&Ke(t,o),c}(n.Component);We.propTypes={className:v.a.string,colorScheme:v.a.func,data:v.a.array.isRequired,handleLegendToggle:v.a.func,handleLegendHover:v.a.func,interactive:v.a.bool,legendDirection:v.a.oneOf(["row","column"]),legendValueFormat:v.a.oneOfType([v.a.string,v.a.func]),totalLabel:v.a.string,instanceId:v.a.number},We.defaultProps={interactive:!0,legendDirection:"row",legendValueFormat:","};var Ge=Object(Be.withInstanceId)(We);r(412);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ot(e);if(t){var a=ot(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return nt(this,r)}}function nt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){switch(t){case"left_space":return[e+" ",""];case"right":return["",e];case"right_space":return[""," "+e];case"left":default:return[e,""]}}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(p,e);var t,r,o,u=rt(p);function p(e){var t,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=u.call(this,e),r=at(t),o=function(){return Object(n.createElement)("div",{className:"bwf-chart__donut-legends"},t.props.data.map((function(e,t){return Object(n.createElement)("div",{className:"bwf-chart__donut-legend",key:"bwf-chart__donut-legend-".concat(t)},Object(n.createElement)("div",{className:"bwf-chart__donut-legend-color",style:{backgroundColor:e.color[0]}}),e.title)})))},(a="getDonutLegends")in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,t.chartBodyRef=Object(n.createRef)();var i=t.getDataKeys();return t.state={focusedKeys:[],visibleKeys:i.slice(0,5),width:0},t.prevDataKeys=i.sort(),t.handleTypeToggle=t.handleTypeToggle.bind(at(t)),t.handleLegendToggle=t.handleLegendToggle.bind(at(t)),t.handleLegendHover=t.handleLegendHover.bind(at(t)),t.updateDimensions=t.updateDimensions.bind(at(t)),t.getVisibleData=Object(b.a)(t.getVisibleData),t.getOrderedKeys=Object(b.a)(t.getOrderedKeys),t.setInterval=t.setInterval.bind(at(t)),t}return t=p,(r=[{key:"getDataKeys",value:function(){var e=this.props,t=e.data,r=e.filterParam,n=e.mode,a=e.query;if("item-comparison"===n){var o=r?Object(y.e)(a[r]):[];return this.getOrderedKeys([],[],o).map((function(e){return e.key}))}return K(t)}},{key:"componentDidUpdate",value:function(){var e=this.props.data;if(e&&e.length){var t=K(e).sort();if(!Object(c.isEqual)(t,this.prevDataKeys)){var r=this.getDataKeys();this.prevDataKeys=t,this.setState({visibleKeys:r.slice(0,5)})}}}},{key:"componentDidMount",value:function(){this.updateDimensions(),this.setD3DefaultFormat(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"setD3DefaultFormat",value:function(){var e=this.props.currency,t=e.symbol,r=e.symbolPosition,n=e.decimalSeparator,a=e.thousandSeparator;Object(l.a)({decimal:n,thousands:a,grouping:[3],currency:it(t,r)})}},{key:"getOrderedKeys",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.props,a=n.data,o=n.legendTotals,i=n.mode;if(!a||0===a.length)return[];var l=a.reduce((function(e,t){return Object.entries(t).forEach((function(t){var r=Je(t,2),n=r[0],a=r[1];"date"===n||e[n]||(e[n]=a.label)})),e}),{}),c=Object.entries(l).map((function(r){var n=Je(r,2),i=n[0],l=n[1];return{focus:0===e.length||e.includes(i),key:i,label:l,total:o&&void 0!==o[i]?o[i]:"conversion_rate"!==i?a.reduce((function(e,t){return e+t[i].value}),0):0!==a.reduce((function(e,t){return e+t.conversion.value}),0)?a.reduce((function(e,t){return e+t.conversion.value}),0)/a.reduce((function(e,t){return e+t.view.value}),0)*100:0,visible:t.includes(i)}}));return"item-comparison"===i?c.sort((function(e,t){return t.total-e.total})).filter((function(e){return e.total>0||r.includes(parseInt(e.key,10))})):c}},{key:"handleTypeToggle",value:function(e){if(this.props.chartType!==e){var t=this.props,r=t.path,n=t.query,a=t.onChartChange,o=void 0===a?c.noop:a,i=t.updateQuery;(void 0===i||i)&&Object(y.k)({chartType:e},r,n),o(e)}}},{key:"handleLegendToggle",value:function(e){if(this.props.interactiveLegend){var t=e.currentTarget.id.split("_").pop(),r=this.state,n=r.focusedKeys,a=r.visibleKeys;a.includes(t)?this.setState({focusedKeys:Object(c.without)(n,t),visibleKeys:Object(c.without)(a,t)}):this.setState({focusedKeys:n.concat([t]),visibleKeys:a.concat([t])})}}},{key:"handleLegendHover",value:function(e){if("mouseleave"===e.type||"blur"===e.type)this.setState({focusedKeys:[]});else if("mouseenter"===e.type||"focus"===e.type){var t=e.currentTarget.id.split("__").pop();this.setState({focusedKeys:[t]})}}},{key:"updateDimensions",value:function(){this.setState({width:this.props.width?this.props.width:this.chartBodyRef.current.offsetWidth})}},{key:"getVisibleData",value:function(e,t){var r=t.filter((function(e){return e.visible}));return Object(c.isEmpty)(r)?[]:e.map((function(e){var t={date:e.date};return r.forEach((function(r){t[r.key]=e[r.key]})),t}))}},{key:"setInterval",value:function(e){var t=this.props,r=t.path,n=t.query,a=t.onIntervalChange,o=void 0===a?c.noop:a,i=t.updateQuery;(void 0===i||i)&&Object(y.k)({interval:e},r,n),o(e)}},{key:"renderIntervalSelector",value:function(){var e=this.props,t=e.interval,r=e.allowedIntervals;if(!r||r.length<1)return null;!0===r.includes("quarter")&&r.splice(r.indexOf("quarter"),1);var o={hour:Object(a.__)("By hour","funnel-builder"),day:Object(a.__)("By day","funnel-builder"),week:Object(a.__)("By week","funnel-builder"),month:Object(a.__)("By month","funnel-builder"),quarter:Object(a.__)("By quarter","funnel-builder"),year:Object(a.__)("By year","funnel-builder")};return Object(n.createElement)(f.SelectControl,{value:t,options:r.map((function(e){return{value:e,label:o[e]}})),onChange:this.setInterval})}},{key:"getChartHeight",value:function(){var e=this.props,t=e.isViewportLarge;return e.isViewportMobile?180:t?300:220}},{key:"getLegendPosition",value:function(){var e=this.props,t=e.legendPosition,r=e.mode,n=e.isViewportWide;return t||(n&&"time-comparison"===r?"top":n&&"item-comparison"===r?"side":"bottom")}},{key:"render",value:function(){var e=this.state,t=e.focusedKeys,r=e.visibleKeys,o=e.width,l=this.props,u=l.baseValue,b=l.chartType,p=l.data,v=l.dateParser,m=l.emptyMessage,h=l.filterParam,g=l.interactiveLegend,O=l.interval,j=l.isRequesting,_=l.isViewportLarge,w=l.itemsLabel,E=l.mode,k=l.query,S=l.screenReaderFormat,D=l.showHeaderControls,T=l.title,x=l.tooltipLabelFormat,R=l.tooltipValueFormat,A=l.tooltipTitle,N=l.valueType,F=l.xFormat,L=l.x2Format,M=l.yBelow1Format,I=l.yFormat,q=l.hideTypeSelect,B=l.className,V=l.customHeaderItem,Y=l.showLegend,K=l.height,U=l.emptyText,H=l.chartMeta,z=l.chartId,$=l.customFooter,W=l.isProFeatureLocked,G=h?Object(y.e)(k[h]):[],Q=this.getOrderedKeys(t,r,G),X=j||Object(c.isEmpty)(p)?null:this.getVisibleData(p,Q),J=this.getLegendPosition(),Z="top"===J?"row":"column",ee="side"===J?"row":"column",te=K||this.getChartHeight(),re=j||!Y?null:"donut"===b?this.getDonutLegends():Object(n.createElement)(Ge,{colorScheme:d.a,data:Q,handleLegendHover:this.handleLegendHover,handleLegendToggle:this.handleLegendToggle,interactive:g,legendDirection:Z,legendValueFormat:R,totalLabel:Object(a.sprintf)(w,Q.length)}),ne=I,ae=M;if(!I)switch(N){case"average":ne=",.0f";break;case"currency":ne="$.3~s",ae="$.3~f";break;case"number":ne=",.0f"}return Object(n.createElement)("div",Xe({className:i()("bwf-chart",B)},z&&{id:z}),D&&Object(n.createElement)("div",{className:"bwf-chart-header"},Object(n.createElement)("div",{className:"bwf-chart-title"},T),"top"===J&&re,V,this.renderIntervalSelector(),!q&&Object(n.createElement)(f.NavigableMenu,{className:"bwf-chart-types",orientation:"horizontal",role:"menubar"},Object(n.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"line"===b}),title:Object(a.__)("Line chart","funnel-builder"),"aria-checked":"line"===b,role:"menuitemradio",tabIndex:"line"===b?0:-1,onClick:Object(c.partial)(this.handleTypeToggle,"line")},Object(n.createElement)(s.a,{icon:"line-graph"})),Object(n.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"bar"===b}),title:Object(a.__)("Bar chart","funnel-builder"),"aria-checked":"bar"===b,role:"menuitemradio",tabIndex:"bar"===b?0:-1,onClick:Object(c.partial)(this.handleTypeToggle,"bar")},Object(n.createElement)(s.a,{icon:"stats-alt"})))),Object(n.createElement)(C.b,{component:!1},Object(n.createElement)("div",{className:i()("bwf-chart-body","bwf-chart-body-".concat(ee)),ref:this.chartBodyRef},"side"===J&&re,j&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},Object(a.__)("Your requested data is loading","funnel-builder")),Object(n.createElement)(P,{height:te})),!j&&!Object(c.isEmpty)(X)&&o>0&&Object(n.createElement)(qe,{baseValue:u,chartType:b,colorScheme:d.a,data:X,dateParser:v,height:te,emptyMessage:m,interval:O,margin:{bottom:50,left:50,right:30,top:0},mode:E,orderedKeys:Q,screenReaderFormat:S,tooltipLabelFormat:x,tooltipValueFormat:R,tooltipPosition:_?"over":"below",tooltipTitle:A,valueType:N,width:"row"===ee?o-320:o,xFormat:F,x2Format:L,yBelow1Format:ae,yFormat:ne,emptyText:U,chartMeta:H,chartId:z,isProFeatureLocked:W})),"bottom"===J&&Object(n.createElement)("div",{className:"bwf-chart-footer"},re)),$)}}])&&et(t.prototype,r),o&&et(t,o),p}(n.Component);lt.propTypes={allowedIntervals:v.a.array,baseValue:v.a.number,chartType:v.a.oneOf(["bar","line","curve-line","donut"]),data:v.a.array.isRequired,dateParser:v.a.string.isRequired,emptyMessage:v.a.string,filterParam:v.a.string,itemsLabel:v.a.string,mode:v.a.oneOf(["item-comparison","time-comparison"]),path:v.a.string,query:v.a.object,interactiveLegend:v.a.bool,interval:v.a.oneOf(["hour","day","week","month","quarter","year",""]),intervalData:v.a.object,isRequesting:v.a.bool,legendPosition:v.a.oneOf(["bottom","side","top"]),legendTotals:v.a.object,screenReaderFormat:v.a.oneOfType([v.a.string,v.a.func]),showHeaderControls:v.a.bool,title:v.a.oneOfType([v.a.string,v.a.object]),tooltipLabelFormat:v.a.oneOfType([v.a.string,v.a.func]),tooltipValueFormat:v.a.oneOfType([v.a.string,v.a.func]),tooltipTitle:v.a.string,valueType:v.a.string,xFormat:v.a.string,x2Format:v.a.string,yBelow1Format:v.a.string,yFormat:v.a.string,currency:v.a.object,showLegend:v.a.bool,isProFeatureLocked:v.a.bool},lt.defaultProps={baseValue:0,chartType:"line",data:[],dateParser:"%Y-%m-%dT%H:%M:%S",interactiveLegend:!0,interval:"day",isRequesting:!1,mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",showHeaderControls:!0,tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",xFormat:"%d",x2Format:"%b %Y",currency:{symbol:"$",symbolPosition:"left",decimalSeparator:".",thousandSeparator:","},className:"",showLegend:!0};t.a=Object(m.withViewportMatch)({isViewportMobile:"< medium",isViewportLarge:">= large",isViewportWide:">= wide"})(lt)},400:function(e,t,r){"use strict";var n=r(0),a=r(7),o=r.n(a),i=r(2),l=r(1),c=r(9),u=r(120),s=r(8),f=(r(418),r(244)),d=r(13),b=r.n(d),p=r(301),v=r(4),m=r(26);function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){e.slug;var t=e.api,r=e.setData,a=e.value,c=e.searchHelper,u=void 0===c?{}:c,s=e.default_options,f=e.operators,d=u.funnelId,h=j(Object(n.useState)([]),2),O=h[0],_=h[1],w=j(Object(n.useState)(Object(i.size)(s)?s:[{id:"no-result",name:"No data available"}]),2),E=w[0],k=w[1],S=j(Object(n.useState)(!Object(i.size)(s)),2),P=S[0],C=S[1],D=j(Object(n.useState)(!1),2),T=D[0],x=D[1],R=j(Object(n.useState)(!1),2),A=R[0],N=R[1],F=j(Object(n.useState)(Object(i.isArray)(a)?a.map((function(e){var t;return g(g({},e),{},{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()})})):[]),2),L=F[0],M=F[1],I=Object(n.useRef)(new AbortController),q=function(e){return e.value?Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis bwf-w-180",title:e.label||e.name},e.label||e.name),Object(n.createElement)(m.b,{content:e.value})):e.label||e.name},B=function(e,t){e&&r("",t)},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){I.current=new AbortController,Object(i.size)(e)?C(!0):C(!!r);var a=t.replace("{{search}}",e)+(d?"&funnel_id=".concat(d):"");b()({path:Object(v.q)(a),signal:I.current.signal}).then((function(t){if(t&&Object(i.isArray)(t)&&!Object(i.isEmpty)(t)){var n,a,o;x(null===(n=t[0])||void 0===n?void 0:n.hasOwnProperty("steps"));var l=t.map((function(e){return{name:e.name||e.label,id:e.id.toString(),labelText:q(e),steps:null==e?void 0:e.steps}})),c=t.map((function(e){var t;return{name:(null==e?void 0:e.name)||(null==e?void 0:e.label),id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}}));Object(i.size)(e)&&null!==(a=t[0])&&void 0!==a&&a.hasOwnProperty("steps")?(_(l),B(r,l)):null!==(o=t[0])&&void 0!==o&&o.hasOwnProperty("steps")?(k(l),B(r,l)):Object(i.size)(e)?(_(c),B(r,c)):(k(c),B(r,c))}else Object(i.isEmpty)(e)?_([{id:"no-result",name:"No data available"}]):_([{id:"no-result",name:'No result found for "'.concat(e,'"')}]),B(r,[{id:"no-result",name:"No data available"}]);C(!1),N(!1)})).catch((function(e){C(!1),console.log(e)}))}};Object(n.useEffect)((function(){Object(i.isEmpty)(a)&&Object(i.isEmpty)(s)&&(V("",!0),N(!0))}),[]),Object(n.useEffect)((function(){var e;null!==(e=E[0])&&void 0!==e&&e.hasOwnProperty("steps")&&x(!0)}),[E]);var Y=Object(i.isArray)(L)?L.map((function(e){return e.id})):[];return Object(n.createElement)(p.a,{values:Y,isFirstLoading:A,searchedValue:function(e,t,r){V(e,t,r)},selectedValue:L,onChangeValue:function(){},multiGroup:T,hasDefaultOption:E,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));M(y(t)),r(e.map((function(e){return{id:null==e?void 0:e.id,label:e.label||e.name}})))},options:y(O.filter((function(e){return Y.findIndex((function(t){return t.id===e.id}))<0}))),defaultOptions:E,className:o()("bwf-filter-search",{"no-operator":Object(i.isEmpty)(f)}),isLoading:P,placeholder:Object(l.__)("Searchâ€¦","funnel-builder"),showInitialList:!1,abortController:I})},k=r(12),S=r.n(k),P=r(284),C=r(17),D=r.n(C),T=r(374),x=r(345);r(334);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var a=I(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(s,e);var t,r,a,c=F(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).isValidSelection=t.isValidSelection.bind(M(t)),t.popoverRef=Object(n.createRef)(),t}return t=s,(r=[{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate,n=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||n.push("".concat(Object(l.__)("vs.","funnel-builder")," ").concat(r.label," (").concat(r.range,")")),n}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,a=t.before;return"custom"!==e||r&&n&&a}},{key:"render",value:function(){var e=this,t=this.props,r=t.disablePresets,a=t.hasValue,l=t.showIcon,c=t.onRangeSelect,s=t.dateQuery,f=t.dateRange;return Object(n.createElement)("div",{className:"bwf-range-filter"},Object(n.createElement)("div",{className:o()("bwf-range-filters-container",{"bwf-presets-disable":r})},Object(n.createElement)(u.a,{contentClassName:"bwf-filters-date-content is-from-bottom-only",expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(n.createElement)(x.a,{onClick:r,isOpen:t,labels:!Object(i.isEmpty)(f)&&f.hasOwnProperty("after")?["".concat(S()(f.after).format(v.c)," - ").concat(S()(f.before).format(v.c))]:["Start Date ~ End Date"],showIcon:l,hasValue:a})},renderContent:function(t){var a=t.onClose;return Object(n.createElement)(T.a,{hideCompare:e.props.hideCompare,onClose:a,after:f.hasOwnProperty("after")?S()(f.after):null,before:S()(f.before).endOf("day"),isValidSelection:e.isValidSelection,disablePresets:r,value:function(e){return c(e)},dateQuery:s,popoverRef:e.popoverRef})},popoverProps:{ref:this.popoverRef}})))}}])&&A(t.prototype,r),a&&A(t,a),s}(n.Component);q.propTypes={onRangeSelect:D.a.func,dateQuery:D.a.shape({period:D.a.string,compare:D.a.string,before:D.a.object,after:D.a.object,primaryDate:D.a.shape({label:D.a.string,range:D.a.string}),secondaryDate:D.a.shape({label:D.a.string,range:D.a.string})})},q.defaultProps={disablePresets:!1};var B=q,V=r(78),Y=r(14);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){var t=e.value,r=e.rule,a=e.setData,o=e.returnPeriod,l=Object(n.useRef)(!0),c=Object(Y.i)(),u=o&&{period:r};return Object(n.useEffect)((function(){if(Object(i.isEmpty)(r)||"specificDate"===r||"custom"===r)l.current||a("");else{c.period=r;var e=((t=c).compare="previous_year",{primary:Object(V.d)(t).primary}).primary;a(U({before:e.before.format(v.d),after:e.after.format(v.d)},u))}var t;l.current&&(l.current=!1)}),[r]),Object(n.createElement)(n.Fragment,null,"specificDate"!==r&&"custom"!==r&&Object(n.createElement)("div",{style:{marginTop:-16}}),"specificDate"===r&&Object(n.createElement)(P.b,{dateFormat:v.c,onUpdate:function(e){a(U({before:S()(e.date).endOf("day").format(v.d),after:S()(e.date).startOf("day").format(v.d)},u))},text:t&&t.before?S()(t.before).format(v.c):"Select Date",currentDate:t&&t.before?S()(t.before).format(v.c):S()().format(v.c),hasValue:!(!t||!t.before),iconRight:!0,placeHolder:"Select Date",disabled:!0,position:"bottom right",isInvalidDate:function(e){return S()(e).isAfter(S()(),"day")},className:"is-from-bottom-only"}),"custom"===r&&Object(n.createElement)(B,{key:JSON.stringify(c),dateRange:Object(i.size)(t)?t:{before:S()().endOf("day").format(v.c)},hasValue:!Object(i.isEmpty)(t),onRangeSelect:function(e){a(U({before:S()(e.before).format("YYYY-MM-DD 23:59:59"),after:S()(e.after).format(v.d)},u))},isoDateFormat:v.c,hideCompare:!0,showIcon:!0}))},$=r(372);function W(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q=function(e){var t=e.options,r=e.value,a=e.setData,o=(e.remove,e.multiple),l=void 0!==o&&o;return Object(n.createElement)("div",{className:"bwf-filter-checklist"},Object.keys(t).map((function(e,o){return Object(n.createElement)("div",{key:"bwf-filter-check-item-".concat(o),onClick:function(){l?Object(i.isEmpty)(r)?a([e]):r.includes(e)?a(r.filter((function(t){return t!==e}))):a([].concat(W(r),[e])):a(e)}},Object(n.createElement)("span",null,t[e])," ",(l&&Object(i.isArray)(r)&&r.includes(e)||r===e)&&Object(n.createElement)(s.a,{icon:"tick",height:"16",width:"16"}))})))},X=r(41),J=r(42),Z=function(){return Object(n.createElement)(X.a,{justify:"flex-start"},Object(n.createElement)(X.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(X.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(X.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})))},ee=r(21),te=r(32),re=r(398),ne=["options"],ae=["options"];function oe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e){var t=e.label,r=e.icon,a=e.isPrimary,i=void 0!==a&&a,l=e.onClick,c=void 0===l?function(){}:l,u=e.onClear,f=e.isActive,d=e.rule,b=e.isProFeatureLocked,p=e.isLocked,v=e.iconColor;return Object(n.createElement)("div",{className:o()("bwf-filter__tag",{"is-primary":i,"is-active":f,"is-locked":p,"is-pro-locked":(null==d?void 0:d.is_pro)&&b}),onClick:p||b&&null!=d&&d.is_pro?function(){}:c},!f&&Object(n.createElement)(s.a,{icon:p?"lock":b&&null!=d&&d.is_pro?"king":r,height:"16",width:"16",color:v||(b&&null!=d&&d.is_pro?te.NOTICE_YELLOW:te.TEXT_COLOR_2)}),Object(n.createElement)("span",null,t),f&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.a,{icon:"angle-down",height:"12",width:"12",color:"#212121"}),Object(n.createElement)("span",{onClick:u},Object(n.createElement)(s.a,{icon:"dismiss-circle",height:"16",width:"16",color:"#353030"}))))},ve=function(e){var t=e.rule,r=e.filter,a=e.filterData,o=e.remove,s=e.setFilter,f=e.tempFilters,d=e.updateTempRule,b=e.propsToPass,p=void 0===b?{}:b,m=e.isProFeatureLocked,y=e.isLocked,h=function(e,t){return!(!e.required.includes("data")||!Object(i.isEmpty)(t.data))||!(e.hasOwnProperty("operators")||!e.required.includes("data")||!Object(i.isEmpty)(t.data))},g=Object(n.useRef)(),O=Object(n.useRef)();Object(v.hb)(O,(function(){void 0!==g.current&&g.current()}));var j=f.find((function(e){return e.filter===t.slug})),_=a.find((function(e){return Object(i.size)(e.data)&&e.filter===t.slug}));return Object(n.createElement)("div",{className:"bwf-filter__sticky"},Object(n.createElement)(u.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:O,renderToggle:function(e){var r=e.isOpen,a=e.onToggle;return Object(n.createElement)(pe,{icon:"add-circle",onClick:function(){r&&_&&d(_),a()},label:_?Object($.b)(t,_):t.title,isActive:_,rule:t,onClear:function(e){e.stopPropagation(),o(j),r&&a()},isProFeatureLocked:m,isLocked:y})},renderContent:function(e){e.onClose;var a=e.onToggle;return g.current=a,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},t.title),Object(n.createElement)(he,se({},t,{filter:r,value:j.rule,setRule:function(e){d(de(de({},j),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(i.isEmpty)(t.operators)&&Object(i.isEmpty)(j.rule)?"bwf-no-operator":"")},Object(n.createElement)(ge,se({},t,p,{value:j.data,rule:j.rule,default_options:j.options,setData:function(e,t){Object(i.isEmpty)(t)||s(j,t,j.filter),d(de(de({},j),{},{data:e}))},remove:function(){return o(j)}}))),Object(n.createElement)(c.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,onClick:function(){s(j),a()},disabled:h(t,j)},Object(l.__)("Apply","funnel-builder")))}}))},me=function(e){var t=e.rules,r=e.filterData,a=e.setFilter,o=e.tempFilters,f=e.updateTempRule,d=e.propsToPass,b=void 0===d?{}:d,p=e.isProFeatureLocked,m=e.isLocked,y=le(Object(n.useState)({}),2),h=y[0],g=y[1],O=o.find((function(e){return e.filter===h.slug})),j=Object(n.useRef)(),_=Object(n.useRef)();Object(v.hb)(_,(function(){void 0!==j.current&&j.current()}));var w=function(e){return r.find((function(t){return Object(i.size)(t.data)&&t.filter===e.slug}))};return Object(n.createElement)("div",{className:"bwf-filter__list"},Object(n.createElement)(u.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:_,renderToggle:function(e){e.isOpen;var t=e.onToggle;return Object(n.createElement)(pe,{label:"Add Filter",icon:"filter",onClick:function(){t()},isPrimary:!0,isProFeatureLocked:p,iconColor:te.BLUE_BASE})},renderContent:function(e){var o,u,d=e.isOpen,v=(e.onClose,e.onToggle);return j.current=v,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},Object(l.__)("Filter By","funnel-builder")),Object(i.isEmpty)(h)?Object(n.createElement)("div",{className:"bwf-filter-list-item-wrap"},t.map((function(e,t){return Object(n.createElement)(ye,se({},e,{key:"list-filter-item-".concat(t),onClick:function(){return g(e)},isSelected:r.findIndex((function(t){return Object(i.size)(t.data)&&t.filter===e.slug}))>-1,isProFeatureLocked:p,isLocked:m}))}))):Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-wrap"},Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-header"},Object(n.createElement)("span",{onClick:function(){d&&w(h)&&f(w(h)),g({})}},Object(n.createElement)(s.a,{icon:"arrow-left",size:"16"})),Object(n.createElement)("span",null,h.title)),Object(n.createElement)(he,se({},h,{value:O.rule,setRule:function(e){f(de(de({},O),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(i.isEmpty)(h.operators)&&Object(i.isEmpty)(O.rule)?"bwf-no-operator":"")},Object(n.createElement)(ge,se({},h,{value:O.data,rule:O.rule,default_options:null==O?void 0:O.options,setData:function(e,t){Object(i.isEmpty)(t)||a(O,t,O.filter),f(de(de({},O),{},{data:e}))}},b))),Object(n.createElement)(c.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,disabled:(o=h,u=O,!(!o.required.includes("data")||!Object(i.isEmpty)(u.data))||!(o.hasOwnProperty("operators")||!o.required.includes("data")||!Object(i.isEmpty)(u.data))),onClick:function(){a(O),g({}),v()}},Object(l.__)("Apply","funnel-builder"))))}}))},ye=function(e){var t=e.title,r=e.isSelected,a=e.onClick,o=e.is_pro,i=e.isProFeatureLocked,l=e.isLocked;return Object(n.createElement)("div",{className:"bwf-filter-list-item",onClick:function(e){l||o&&i||a(e)}},l?Object(n.createElement)(s.a,{icon:"lock",size:"16",color:te.TEXT_COLOR_2}):o&&i?Object(n.createElement)(m.a,null):Object(n.createElement)(s.a,{icon:r?"checkmark-circle-filled":"add-circle",width:"16",height:"16",color:r?te.BLUE_BASE:te.TEXT_COLOR_2}),Object(n.createElement)("span",null,t))},he=function(e){var t=e.setRule,r=e.op_label,a=e.value,o=void 0===a?"":a,l=e.operators,c=void 0===l?{}:l,u=(e.op_default,e.type),s=e.hideFilters;if("date-range"===u){var d=Object(i.cloneDeep)($.a);s&&Object.keys($.a).forEach((function(e){s.includes(e)&&delete d[e]})),c=d}if(Object(i.isEmpty)(c))return null;var b=Object.keys(c).map((function(e){return{key:e,label:c[e]}}));return Object(n.createElement)("div",{className:"bwf-filter-operator-wrap"},Object(n.createElement)("label",null,r),Object(n.createElement)(f.a,{className:"bwf-filter-operator",options:b,onChange:function(e){t(e)},selected:o,bottomFixed:!0}))},ge=function(e){var t,r,a=e.type,i=e.options,u=e.value,s=e.setData,d=e.val_label,b=e.operators,p=e.op_label,v=(e.default_options,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o()(t,{"no-operator":!b})});if("select"===a&&i){var m=Object.keys(i).map((function(e){return{key:e,label:i[e]}}));return Object(n.createElement)("div",{className:v("bwf-filter-select-wrap")},d&&Object(n.createElement)("label",null,d),Object(n.createElement)(f.a,{options:m,selected:u,onChange:function(e){return s(e)}}))}return"search"===a?Object(n.createElement)(E,se({},e,{className:v()})):"number"===a?Object(n.createElement)("input",{type:"number",value:u,placeholder:Object(l.__)("Enter value","funnel-builder"),onChange:function(e){return s(e.target.value)},className:v("bwf-number-control")}):"text"===a?Object(n.createElement)(c.TextControl,{value:u,label:p,onChange:function(e){return s(e)},className:v()}):"date-range"===a?Object(n.createElement)(z,se({},e,{className:v()})):"checklist"===a?Object(n.createElement)(Q,se({},e,{className:v()})):"search-select"===a?Object(n.createElement)("div",{className:v("bwf-filter-checklist-dropdown-wrap")},d&&Object(n.createElement)("label",null,d),Object(n.createElement)(re.a,{options:i,label:Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis",title:null!==(t=null==u?void 0:u.label)&&void 0!==t?t:Object(l.__)("Select","funnel-builder")},null!==(r=null==u?void 0:u.label)&&void 0!==r?r:Object(l.__)("Select","funnel-builder")),selected:null==u?void 0:u.value,onSelect:function(e){s(e)},className:v()})):void 0};t.a=function(e){var t=e.filterList,r=void 0===t?[]:t,a=e.filterData,o=e.setFilterData,l=e.propsToPass,c=e.isLoading,u=e.isLocked,s=Object(ee.a)().isProFeatureLocked,f=le(Object(n.useState)([]),2),d=f[0],b=f[1],p=le(Object(n.useState)([]),2),v=p[0],m=p[1];if(Object(n.useEffect)((function(){if(!Object(i.isEmpty)(r)){var e=[];r.forEach((function(t){e.push.apply(e,ie(null==t?void 0:t.rules))})),m(e.map((function(e){var t="";e.hasOwnProperty("operators")&&(t=Object.keys(null==e?void 0:e.operators)[0]);var r=a.find((function(t){return t.filter===e.slug}));return r||{filter:e.slug,rule:t,data:""}})))}}),[r,a]),Object(n.useEffect)((function(){if(!Object(i.isEmpty)(a)){var e,t=[],n=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;a.forEach((function(e){if(n&&n.findIndex((function(t){return t.slug===e.filter}))>-1&&Object(i.size)(null==e?void 0:e.data)){var a,o=(null===(a=r.find((function(e){return"list"===e.type})))||void 0===a?void 0:a.rules).find((function(t){return t.slug===e.filter}));t.push(o)}})),b(t)}}),[a]),!Object(i.size)(r)||c)return Object(n.createElement)(Z,null);var y=function(e,t,r){var n,l=a.find((function(t){return t.filter===e.filter})),c=a;n=(c=Object(i.isEmpty)(c)?[e]:l?c.map((function(t){return t.filter===l.filter?e:t})):[].concat(ie(c),[e])).map((function(e){return e.filter===r?de(de({},e),{},{options:t}):e}));var u=c.map((function(e){e.options;return oe(e,ne)})).filter((function(e){return!Object(i.isEmpty)(e.data)}));o(Object(i.isEmpty)(null==e?void 0:e.data)?[]:u,n)},h=function(e){m((function(t){return t.map((function(t){return t.filter===e.filter?e:t}))}))},g=function(e){e.rule="",e.data="",h(e),b((function(t){return t.filter((function(t){return t.slug!==e.filter}))}));var t,r=a.map((function(e){e.options;return oe(e,ae)})).filter((function(t){return t.filter!==e.filter&&!Object(i.isEmpty)(t.data)}));t=a.filter((function(t){return t.filter!==e.filter&&!Object(i.isEmpty)(t.data)})),o(r,t)},O=r.find((function(e){return"sticky"===e.type})),j=r.find((function(e){return"list"===e.type}));return Object(n.createElement)("div",{className:"bwf-filter-wrap"},O&&[].concat(ie(null==O?void 0:O.rules),ie(d)).map((function(t,r){return Object(n.createElement)(ve,se({},O,e,{propsToPass:l,rule:t,filterData:a,tempFilters:v,updateTempRule:h,setFilter:y,remove:g,key:"sticky-filter-wrap-".concat(r),isProFeatureLocked:s,isLocked:u}))})),j&&Object(n.createElement)(me,se({},j,e,{filterData:a,tempFilters:v,updateTempRule:h,setFilter:y,remove:g,propsToPass:l,isProFeatureLocked:s,isLocked:u})))}},404:function(e,t){},410:function(e,t,r){},411:function(e,t,r){},412:function(e,t,r){},418:function(e,t,r){},419:function(e,t,r){},465:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(4),i=r(7),l=r.n(i),c=r(2),u=r(26),s=r(18);t.a=function(e){var t,r,i,f=e.className,d=e.align,b=void 0===d?"left":d,p=e.title,v=e.proLink,m=e.message,y=Object(o.L)(),h=Object(c.get)(y,"0.notice",{}),g=h.primary_action,O=h.primary_action_link,j=m||Object(a.sprintf)(Object(a.__)("Use our sample data to explore %s. See how it summarises metrics across multiple funnels.","funnel-builder"),p);return Object(n.createElement)("div",{className:l()("bwf-lite-noticebar is-sample-data-notice",f,(t={},r="bwf-notice-".concat(b),i=!!b,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t))},Object(n.createElement)("div",{className:"bwf-lite-noticebar__title-wrap"},p," ",Object(n.createElement)(u.b,{content:Object(a.__)("Sample Data","funnel-builder"),type:"black"})),Object(n.createElement)("div",{className:"bwf-noticebar-conatiner"},Object(n.createElement)("div",{className:"bwf-noticebar-content"},j,O?Object(n.createElement)(s.a,{href:O}," ",g):Object(n.createElement)("a",{target:"_blank",href:v,rel:"noreferrer"},g))))}},546:function(e,t,r){},753:function(e,t,r){"use strict";r.r(t);var n=r(0),a=(r(369),r(25)),o=r(1),i=r(119),l=r(318),c=r(12),u=r.n(c),s=r(2),f=r(391),d=r(4);var b=r(9),p=r(13),v=r.n(p),m=r(20),y=r(8),h=r(32);function g(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.funnelId,r=void 0===t?0:t,a=e.onComplete,i=void 0===a?s.noop:a,l=O(Object(n.useState)(!1),2),c=l[0],u=l[1],f=O(Object(n.useState)(!1),2),p=f[0],j=f[1],_=function(){u(!1),k(null),C(!1)},w=O(Object(n.useState)(null),2),E=w[0],k=w[1],S=O(Object(n.useState)(!1),2),P=S[0],C=S[1],D=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,v()({method:"GET",path:Object(d.q)("/funnel-analytics/".concat(r,"/reset"))});case 4:"status"in(t=e.sent)&&t.status?(k(null),_(),i()):(C({message:Object(o.__)("There are some technical difficulties while reset analytics. Contact Support","funnel-builder")}),k(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),C(e.t0),k(!1);case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,l,"next",e)}function l(e){g(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(m.a,{className:"bwf-no-style-button bwf-analytics-reset-button",onClick:function(){return u(!0)}},Object(n.createElement)(y.a,{icon:"reset",color:h.TEXT_COLOR_3,size:"12"}),Object(o.__)("Reset","funnel-builder")),c&&Object(n.createElement)(b.Modal,{isDismissible:!0,onRequestClose:_,title:Object(o.__)("Reset Analytics"),className:"bwf-admin-modal bwf-admin-modal-squeezy"},null===E&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf_clear"}),Object(n.createElement)("div",{className:"bwf-modal-content"},Object(o.__)("You are about to Reset Analytics. This action cannot be undone. Click Cancel to stop, Reset to proceed.","funnel-builder")),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"".concat(isRtl?"bwf-t-left":"bwf-t-right")},Object(n.createElement)(m.a,{onClick:_,className:"bwf-modal-cancel-btn",disabled:p},Object(o.__)("Cancel","funnel-builder")),Object(n.createElement)(m.a,{isPrimary:!0,disabled:p,isBusy:p,"aria-disabled":p,onClick:D},Object(o.__)("Reset","funnel-builder")))),!p&&!0===E&&Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{style:{width:"100px",display:"inline-block"},dangerouslySetInnerHTML:{__html:wffn.icons.success_check}})),!p&&!1===E&&Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{style:{width:"100px",display:"inline-block"},dangerouslySetInnerHTML:{__html:wffn.icons.error_cross}})),!p&&!1===E&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{className:"bwf-p"}," ",Object(o.__)("Error: ","funnel-builder")+P&&"message"in P?P.message:Object(o.__)("There are some technical difficulties while reset analytics. Please contact support","funnel-builder")," ")))))},w=r(7),E=r.n(w),k=r(399),S=r(78),P=r(91);function C(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){F(o,n,a,i,l,"next",e)}function l(e){F(o,n,a,i,l,"throw",e)}i(void 0)}))}}var M=new AbortController,I=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({path:Object(d.q)("/funnel-analytics/".concat(null!=r?r:0,"/overview/").concat(Object(d.p)(t))),signal:M.signal});case 3:if(!(n=e.sent).status){e.next=6;break}return e.abrupt("return",null!==(a=n.data)&&void 0!==a?a:{});case 6:throw n;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n,a,o){var i,l,c,f,b,p,v,m,y,h,g,O,j,_,w,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.abort(),M=new AbortController,i=t.period,l=t.before,c=t.after,f=Object(d.t)(Object(d.O)({period:i,before:l,after:c,compare:r})),b=f.primary,p=f.secondary,v={},e.prev=5,m=["overall"===i?{overall:""}:{after:b.after.format(d.d),before:b.before.format(d.d)},o],y=[{after:"overall"===i?u()(new Date(0)).format(d.d):p.after.format(d.d),before:p.before.endOf("day").format(d.d)},o],!Object(s.isEmpty)(n.primary)&&n.filter.period===t.period){e.next=19;break}return e.next=11,Promise.all([I.apply(void 0,m),I.apply(void 0,y)]);case 11:h=e.sent,g=R(h,2),O=g[0],j=g[1],v.primary=O,v.secondary=j,e.next=26;break;case 19:return v.primary=n.primary,e.next=22,Promise.all([I.apply(void 0,y)]);case 22:_=e.sent,w=R(_,1),E=w[0],v.secondary=E;case 26:v.filter=t,v.compare=r,v.isLoading=!1,a(v),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(5),"AbortError"!==e.t0.name&&a({error:e.t0,isLoading:!1});case 35:case"end":return e.stop()}}),e,null,[[5,32]])})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),B=new AbortController,V=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({path:Object(d.q)("/funnel-analytics/".concat(null!=n?n:0,"/stats/").concat(Object(d.p)(t))),signal:r});case 3:if(!(a=e.sent).status){e.next=6;break}return e.abrupt("return",null!==(o=a.data)&&void 0!==o?o:{});case 6:throw a;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),Y=function(e){return Number(Number(e).toFixed(2).replace(/\.00$/,""))},K=function(){var e=L(regeneratorRuntime.mark((function e(t){var r,n,a,o,i,l,c,f,b,p,v,m,y,h,g,O,j,_,w,E,k,C,D,x,A,N,F,L,M=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M.length>1&&void 0!==M[1]?M[1]:{data:[]},n=M.length>2?M[2]:void 0,a=M.length>3?M[3]:void 0,o=M.length>4?M[4]:void 0,i=M.length>5&&void 0!==M[5]?M[5]:{},B.abort(),B=new AbortController,e.prev=7,l=t.period,c=t.before,f=t.after,b=t.compare,p=void 0===b?"none":b,v=t.interval,m=Object(d.t)(Object(d.O)({period:l,before:c,after:f,compare:"none"===p?"previous_period":p})),y=m.primary,h=m.secondary,g=["overall"===l?{overall:""}:{after:y.after.format(d.d),before:y.before.format(d.d),interval:v},B.signal,o],O=[{after:"overall"===l?u()(new Date(0)).format(d.d):h.after.format(d.d),before:h.before.endOf("day").format(d.d),interval:v},B.signal,o],j=Object(s.isEmpty)(i)?{}:i,_={},"none"===p||!r||r.filter.period!==l||"custom"===l||Object(s.isEmpty)(r.data)||!Object(s.isEmpty)(j)){e.next=24;break}return e.next=17,Promise.all([V.apply(void 0,O)]);case 17:w=e.sent,E=R(w,1),k=E[0],j.secondary=k,_.data=r.data.map((function(e,r){var n=Object(S.f)(e.labelDate,y.after,h.after,p,v),o=j.secondary&&j.secondary.intervals&&j.secondary.intervals[r]?j.secondary.intervals[r]:{subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}};return T(T({},e),{},{secondary:{label:Object(d.I)(t,p,!0),labelDate:n.format(d.d),value:Y(o.subtotals[a.key])}})})),e.next=47;break;case 24:if(!Object(s.isEmpty)(r.data)&&"none"===p&&r.filter.period===l&&"custom"!==l&&Object(s.isEmpty)(j)){e.next=46;break}if("none"===p||j.hasOwnProperty("primary")||j.hasOwnProperty("secondary")){e.next=36;break}return e.next=28,Promise.all([V.apply(void 0,g),V.apply(void 0,O)]);case 28:C=e.sent,D=R(C,2),x=D[0],A=D[1],j.primary=x,j.secondary=A,e.next=43;break;case 36:if("none"!==p||j.hasOwnProperty("primary")){e.next=43;break}return e.next=39,Promise.all([V.apply(void 0,g)]);case 39:N=e.sent,F=R(N,1),L=F[0],j.primary=L;case 43:_.data=j.primary.intervals.map((function(e,r){var n=Object(S.f)(e.start_date,y.after,h.after,p,v),o=j.secondary&&j.secondary.intervals&&j.secondary.intervals[r]?j.secondary.intervals[r]:{subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}};return T({date:Object(P.format)("Y-m-d\\TH:i:s",e.start_date),primary:{label:Object(d.v)(t,!0),labelDate:e.start_date,value:Y(e.subtotals[a.key])}},"none"!==p&&o&&{secondary:{label:Object(d.I)(t,p,!0),labelDate:n.format(d.d),value:Y(o.subtotals[a.key])}})})),e.next=47;break;case 46:_.data=r.data.map((function(e){return delete e.secondary,e}));case 47:_.filter=t,_.isLoading=!1,_.interval_type=j.primary.interval_type,n(_,j),e.next=56;break;case 53:e.prev=53,e.t0=e.catch(7),"AbortError"!==e.t0.name&&(console.log(e.t0),n({error:e.t0,isLoading:!1}));case 56:case"end":return e.stop()}}),e,null,[[7,53]])})));return function(t){return e.apply(this,arguments)}}(),U=new AbortController,H=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({path:Object(d.q)("/funnel-analytics/".concat(n,"/steps/").concat(Object(d.p)(t))),signal:r});case 3:if(!(a=e.sent).status){e.next=6;break}return e.abrupt("return",null!==(o=a.data)&&void 0!==o?o:{});case 6:throw a;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),z=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){var a,o,i,l,c,u,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U.abort(),U=new AbortController,a=t.period,o=t.before,i=t.after,l=Object(d.t)(Object(d.O)({period:a,before:o,after:i})),c=l.primary,u={},e.prev=5,s=["overall"===a?{overall:""}:{after:c.after.format(d.d),before:c.before.format(d.d)},U.signal,n],e.next=9,H.apply(void 0,s);case 9:f=e.sent,u.data=f.records,u.filter=t,u.isLoading=!1,r(u,f.funnel_data),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),"AbortError"!==e.t0.name&&(console.log(e.t0),r({error:e.t0,isLoading:!1}));case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,r,n){return e.apply(this,arguments)}}(),$=new AbortController,W=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({path:Object(d.q)("/funnel-analytics/global/funnel-list/".concat(Object(d.p)(t))),signal:r});case 3:if(!(n=e.sent).status){e.next=6;break}return e.abrupt("return",null!==(a=n.funnels)&&void 0!==a?a:{});case 6:throw n;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,a,o,i,l,c,u,s,f,b,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>2&&void 0!==p[2]?p[2]:{},a=p.length>3&&void 0!==p[3]&&p[3],$.abort(),$=new AbortController,o=t.period,i=t.before,l=t.after,c=Object(d.t)(Object(d.O)({period:o,before:i,after:l})),u=c.primary,s={},e.prev=7,f=[T("overall"===o?{overall:""}:{after:u.after.format(d.d),before:u.before.format(d.d)},n),U.signal],e.next=11,W.apply(void 0,f);case 11:b=e.sent,a&&(s.sale={isLoading:!0},s.lead={isLoading:!0}),s[n.funnel_type]={data:b.data,isLoading:!1,total:b.total_count},s.filter=t,s.isLoading=!1,r(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),"AbortError"!==e.t0.name&&(console.log(e.t0),r({error:e.t0,isLoading:!1}));case 22:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t,r){return e.apply(this,arguments)}}(),Q=r(24),X=["getStateProp"];function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var re=function(){var e=Object(Q.a)("analytics"),t=e.getStateProp,r=te(e,X),n=function(e){return e?"".concat(e,"_"):""};return Z(Z({},r),{},{getoverviewData:function(e){var r;return null!==(r=t("".concat(n(e),"overview")))&&void 0!==r?r:{}},getChartData:function(e){var r;return null!==(r=t("".concat(n(e),"chart_data")))&&void 0!==r?r:{}},getChartRawData:function(e){var r;return null!==(r=t("".concat(n(e),"chart_raw_data")))&&void 0!==r?r:{}},getStepsData:function(e){var r;return null!==(r=t("".concat(n(e),"steps")))&&void 0!==r?r:{}},getAnalyticsFunnel:function(){return t("selectedFunnel")},getFunnelRevenueData:function(){return t("funnel_revenue")},getFunnelList:function(){return t("funnel_list")}})},ne=r(128),ae={primary:{unique_visits:"537",contacts:"111",total_orders:"140",total_revenue:5974.42,checkout_revenue:4682.22,upsell_revenue:860,bump_revenue:432.2,convert_time:"0.0000",average_order_value:42.67442857142857,revenue_per_visit:11.125549348230912},secondary:{unique_visits:"1",contacts:"0",total_orders:"0",total_revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time:"0.0000",average_order_value:0,revenue_per_visit:0},extra:{unique_visits:"2",contacts:"0",total_orders:"0",total_revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time:"0.0000",average_order_value:0,revenue_per_visit:0},filter:{period:"overall",after:"",before:""},isLoading:!1},oe={data:[{date:"2023-04-19T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-19 00:00:00",value:20}},{date:"2023-04-20T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-20 00:00:00",value:25}},{date:"2023-04-21T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-21 00:00:00",value:30}},{date:"2023-04-22T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-22 00:00:00",value:35}},{date:"2023-04-23T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-23 00:00:00",value:40}},{date:"2023-04-24T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-24 00:00:00",value:50}},{date:"2023-04-25T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-25 00:00:00",value:80}},{date:"2023-04-26T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-26 00:00:00",value:90}},{date:"2023-04-27T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-27 00:00:00",value:180}},{date:"2023-04-28T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-28 00:00:00",value:240}},{date:"2023-04-29T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-29 00:00:00",value:150}},{date:"2023-04-30T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-30 00:00:00",value:130}},{date:"2023-05-01T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-01 00:00:00",value:90}},{date:"2023-05-02T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-02 00:00:00",value:250}},{date:"2023-05-03T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-03 00:00:00",value:320}},{date:"2023-05-04T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-04 00:00:00",value:140}},{date:"2023-05-05T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-05 00:00:00",value:450}},{date:"2023-05-06T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-06 00:00:00",value:56}},{date:"2023-05-07T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-07 00:00:00",value:60}},{date:"2023-05-08T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-08 00:00:00",value:14}},{date:"2023-05-09T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-09 00:00:00",value:150}},{date:"2023-05-10T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-10 00:00:00",value:180}},{date:"2023-05-11T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-11 00:00:00",value:120}},{date:"2023-05-12T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-12 00:00:00",value:140}},{date:"2023-05-13T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-13 00:00:00",value:250}},{date:"2023-05-14T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-14 00:00:00",value:147}},{date:"2023-05-15T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-15 00:00:00",value:250}},{date:"2023-05-16T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-16 00:00:00",value:258}},{date:"2023-05-17T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-17 00:00:00",value:147}},{date:"2023-05-18T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-18 00:00:00",value:35}},{date:"2023-05-19T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-19 00:00:00",value:80}}],filter:{period:"last_30_days",before:"",after:"",compare:"none",interval:"day"},isLoading:!1},ie={sale:{data:[{fid:"153",views:"30",conversion:"15",conversion_rate:"50",total:"120",title:"My Sales Funnel 1"},{fid:"162",views:"25",conversion:"5",conversion_rate:"20",total:"340",title:"My Sales Funnel 2"},{fid:"179",views:"25",conversion:"5",conversion_rate:"20",total:"520",title:"My Sales Funnel 3"},{fid:"187",views:"250",conversion:"100",conversion_rate:"40",total:"470",title:"My Sales Funnel 4"}],isLoading:!1,total:5},lead:{data:[{fid:"166",title:"My Optin Funnel 1",views:"250",conversion:"100",conversion_rate:"40",total:"470"},{fid:"167",title:"My Optin Funnel 2",views:"25",conversion:"5",conversion_rate:"20",total:"520"},{fid:"184",title:"My Optin Funnel 3",views:"30",conversion:"15",conversion_rate:"50",total:"120"},{fid:"192",title:"My Optin Funnel 4",views:"25",conversion:"5",conversion_rate:"20",total:"340"}],isLoading:!1,total:5},filter:{period:"last_30_days",before:"",after:""},isLoading:!1},le={data:[{type:"sales",object_id:"255307",object_name:"Sales page",revenue:null,conversions:734,views:1080,conversion_rate:67.96},{type:"optin",object_id:"255329",object_name:"Optin page",revenue:null,conversions:311,views:734,conversion_rate:42.37},{type:"checkout",object_id:"255308",object_name:"Checkout page",revenue:"27540.50",conversions:85,views:311,conversion_rate:27.33},{type:"bump",object_id:255318,object_name:"Bump",revenue:"4896.00",conversions:68,views:311,conversion_rate:21.86},{type:"upsell",object_id:"255323",object_name:"Upsells",revenue:"",conversions:"",views:"",conversion_rate:"",offers:[{object_id:"255324",object_name:"Offer 1 - Upsell",revenue:"3752.00",conversions:31,views:68,conversion_rate:45.58},{object_id:"255324",object_name:"Offer 2 - Downsell",revenue:"1275.00",conversions:15,views:37,conversion_rate:40.54}]},{type:"thankyou",object_id:"255309",object_name:"Thank you page",revenue:null,conversions:null,views:85,conversion_rate:null}],filter:{period:"last_30_days",before:"",after:""},isLoading:!1},ce={primary:[{interval:"2023-04-19",start_date:"2023-04-19 00:00:00",date_start_gmt:"2023-04-18 18:30:00",end_date:"2023-04-19 23:59:59",date_end_gmt:"2023-04-19 18:29:59",subtotals:{unique_visits:20,total_orders:14,total_revenue:20,revenue_per_visit:35,checkout_revenue:47,upsell_revenue:50,bump_revenue:60,convert_time_second:14,contacts:10,average_order_value:50}},{interval:"2023-04-20",start_date:"2023-04-20 00:00:00",date_start_gmt:"2023-04-19 18:30:00",end_date:"2023-04-20 23:59:59",date_end_gmt:"2023-04-20 18:29:59",subtotals:{unique_visits:25,total_orders:24,total_revenue:85,revenue_per_visit:74,checkout_revenue:45,upsell_revenue:20,bump_revenue:35,convert_time_second:78,contacts:96,average_order_value:47}},{interval:"2023-04-21",start_date:"2023-04-21 00:00:00",date_start_gmt:"2023-04-20 18:30:00",end_date:"2023-04-21 23:59:59",date_end_gmt:"2023-04-21 18:29:59",subtotals:{unique_visits:30,total_orders:45,total_revenue:46,revenue_per_visit:46,checkout_revenue:74,upsell_revenue:85,bump_revenue:45,convert_time_second:4,contacts:5,average_order_value:10}},{interval:"2023-04-22",start_date:"2023-04-22 00:00:00",date_start_gmt:"2023-04-21 18:30:00",end_date:"2023-04-22 23:59:59",date_end_gmt:"2023-04-22 18:29:59",subtotals:{unique_visits:35,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-04-23",start_date:"2023-04-23 00:00:00",date_start_gmt:"2023-04-22 18:30:00",end_date:"2023-04-23 23:59:59",date_end_gmt:"2023-04-23 18:29:59",subtotals:{unique_visits:40,total_orders:74,total_revenue:35,revenue_per_visit:40,checkout_revenue:56,upsell_revenue:74,bump_revenue:63,convert_time_second:12,contacts:14,average_order_value:50}},{interval:"2023-04-24",start_date:"2023-04-24 00:00:00",date_start_gmt:"2023-04-23 18:30:00",end_date:"2023-04-24 23:59:59",date_end_gmt:"2023-04-24 18:29:59",subtotals:{unique_visits:50,total_orders:45,total_revenue:120,revenue_per_visit:10,checkout_revenue:41,upsell_revenue:52,bump_revenue:63,convert_time_second:74,contacts:45,average_order_value:45}},{interval:"2023-04-25",start_date:"2023-04-25 00:00:00",date_start_gmt:"2023-04-24 18:30:00",end_date:"2023-04-25 23:59:59",date_end_gmt:"2023-04-25 18:29:59",subtotals:{unique_visits:80,total_orders:74,total_revenue:63,revenue_per_visit:45,checkout_revenue:74,upsell_revenue:85,bump_revenue:56,convert_time_second:74,contacts:63,average_order_value:45}},{interval:"2023-04-26",start_date:"2023-04-26 00:00:00",date_start_gmt:"2023-04-25 18:30:00",end_date:"2023-04-26 23:59:59",date_end_gmt:"2023-04-26 18:29:59",subtotals:{unique_visits:90,total_orders:41,total_revenue:12,revenue_per_visit:85,checkout_revenue:74,upsell_revenue:96,bump_revenue:78,convert_time_second:63,contacts:25,average_order_value:78}},{interval:"2023-04-27",start_date:"2023-04-27 00:00:00",date_start_gmt:"2023-04-26 18:30:00",end_date:"2023-04-27 23:59:59",date_end_gmt:"2023-04-27 18:29:59",subtotals:{unique_visits:180,total_orders:44,total_revenue:41,revenue_per_visit:35,checkout_revenue:74,upsell_revenue:85,bump_revenue:45,convert_time_second:96,contacts:45,average_order_value:120}},{interval:"2023-04-28",start_date:"2023-04-28 00:00:00",date_start_gmt:"2023-04-27 18:30:00",end_date:"2023-04-28 23:59:59",date_end_gmt:"2023-04-28 18:29:59",subtotals:{unique_visits:240,total_orders:170,total_revenue:147,revenue_per_visit:45,checkout_revenue:52,upsell_revenue:12,bump_revenue:41,convert_time_second:65,contacts:78,average_order_value:52}},{interval:"2023-04-29",start_date:"2023-04-29 00:00:00",date_start_gmt:"2023-04-28 18:30:00",end_date:"2023-04-29 23:59:59",date_end_gmt:"2023-04-29 18:29:59",subtotals:{unique_visits:150,total_orders:96,total_revenue:78,revenue_per_visit:45,checkout_revenue:65,upsell_revenue:52,bump_revenue:82,convert_time_second:92,contacts:47,average_order_value:63}},{interval:"2023-04-30",start_date:"2023-04-30 00:00:00",date_start_gmt:"2023-04-29 18:30:00",end_date:"2023-04-30 23:59:59",date_end_gmt:"2023-04-30 18:29:59",subtotals:{unique_visits:130,total_orders:74,total_revenue:86,revenue_per_visit:41,checkout_revenue:52,upsell_revenue:63,bump_revenue:78,convert_time_second:96,contacts:41,average_order_value:21}},{interval:"2023-05-01",start_date:"2023-05-01 00:00:00",date_start_gmt:"2023-04-30 18:30:00",end_date:"2023-05-01 23:59:59",date_end_gmt:"2023-05-01 18:29:59",subtotals:{unique_visits:90,total_orders:89,total_revenue:63,revenue_per_visit:47,checkout_revenue:41,upsell_revenue:52,bump_revenue:85,convert_time_second:96,contacts:74,average_order_value:89}},{interval:"2023-05-02",start_date:"2023-05-02 00:00:00",date_start_gmt:"2023-05-01 18:30:00",end_date:"2023-05-02 23:59:59",date_end_gmt:"2023-05-02 18:29:59",subtotals:{unique_visits:250,total_orders:52,total_revenue:45,revenue_per_visit:63,checkout_revenue:74,upsell_revenue:52,bump_revenue:74,convert_time_second:78,contacts:32,average_order_value:62}},{interval:"2023-05-03",start_date:"2023-05-03 00:00:00",date_start_gmt:"2023-05-02 18:30:00",end_date:"2023-05-03 23:59:59",date_end_gmt:"2023-05-03 18:29:59",subtotals:{unique_visits:320,total_orders:74,total_revenue:85,revenue_per_visit:74,checkout_revenue:35,upsell_revenue:85,bump_revenue:62,convert_time_second:58,contacts:69,average_order_value:74}},{interval:"2023-05-04",start_date:"2023-05-04 00:00:00",date_start_gmt:"2023-05-03 18:30:00",end_date:"2023-05-04 23:59:59",date_end_gmt:"2023-05-04 18:29:59",subtotals:{unique_visits:140,total_orders:32,total_revenue:74,revenue_per_visit:35,checkout_revenue:74,upsell_revenue:35,bump_revenue:74,convert_time_second:52,contacts:74,average_order_value:85}},{interval:"2023-05-05",start_date:"2023-05-05 00:00:00",date_start_gmt:"2023-05-04 18:30:00",end_date:"2023-05-05 23:59:59",date_end_gmt:"2023-05-05 18:29:59",subtotals:{unique_visits:450,total_orders:36,total_revenue:58,revenue_per_visit:74,checkout_revenue:58,upsell_revenue:35,bump_revenue:74,convert_time_second:85,contacts:25,average_order_value:30}},{interval:"2023-05-06",start_date:"2023-05-06 00:00:00",date_start_gmt:"2023-05-05 18:30:00",end_date:"2023-05-06 23:59:59",date_end_gmt:"2023-05-06 18:29:59",subtotals:{unique_visits:56,total_orders:52,total_revenue:47,revenue_per_visit:58,checkout_revenue:36,upsell_revenue:85,bump_revenue:89,convert_time_second:74,contacts:35,average_order_value:78}},{interval:"2023-05-07",start_date:"2023-05-07 00:00:00",date_start_gmt:"2023-05-06 18:30:00",end_date:"2023-05-07 23:59:59",date_end_gmt:"2023-05-07 18:29:59",subtotals:{unique_visits:60,total_orders:45,total_revenue:36,revenue_per_visit:74,checkout_revenue:85,upsell_revenue:85,bump_revenue:96,convert_time_second:48,contacts:45,average_order_value:42}},{interval:"2023-05-08",start_date:"2023-05-08 00:00:00",date_start_gmt:"2023-05-07 18:30:00",end_date:"2023-05-08 23:59:59",date_end_gmt:"2023-05-08 18:29:59",subtotals:{unique_visits:14,total_orders:78,total_revenue:85,revenue_per_visit:96,checkout_revenue:74,upsell_revenue:47,bump_revenue:25,convert_time_second:78,contacts:35,average_order_value:78}},{interval:"2023-05-09",start_date:"2023-05-09 00:00:00",date_start_gmt:"2023-05-08 18:30:00",end_date:"2023-05-09 23:59:59",date_end_gmt:"2023-05-09 18:29:59",subtotals:{unique_visits:150,total_orders:14,total_revenue:52,revenue_per_visit:25,checkout_revenue:85,upsell_revenue:35,bump_revenue:96,convert_time_second:74,contacts:35,average_order_value:78}},{interval:"2023-05-10",start_date:"2023-05-10 00:00:00",date_start_gmt:"2023-05-09 18:30:00",end_date:"2023-05-10 23:59:59",date_end_gmt:"2023-05-10 18:29:59",subtotals:{unique_visits:180,total_orders:25,total_revenue:74,revenue_per_visit:65,checkout_revenue:47,upsell_revenue:40,bump_revenue:80,convert_time_second:90,contacts:45,average_order_value:74}},{interval:"2023-05-11",start_date:"2023-05-11 00:00:00",date_start_gmt:"2023-05-10 18:30:00",end_date:"2023-05-11 23:59:59",date_end_gmt:"2023-05-11 18:29:59",subtotals:{unique_visits:120,total_orders:450,total_revenue:10,revenue_per_visit:74,checkout_revenue:24,upsell_revenue:40,bump_revenue:78,convert_time_second:85,contacts:96,average_order_value:74}},{interval:"2023-05-12",start_date:"2023-05-12 00:00:00",date_start_gmt:"2023-05-11 18:30:00",end_date:"2023-05-12 23:59:59",date_end_gmt:"2023-05-12 18:29:59",subtotals:{unique_visits:140,total_orders:20,total_revenue:20,revenue_per_visit:74,checkout_revenue:30,upsell_revenue:85,bump_revenue:95,convert_time_second:74,contacts:42,average_order_value:85}},{interval:"2023-05-13",start_date:"2023-05-13 00:00:00",date_start_gmt:"2023-05-12 18:30:00",end_date:"2023-05-13 23:59:59",date_end_gmt:"2023-05-13 18:29:59",subtotals:{unique_visits:250,total_orders:96,total_revenue:75,revenue_per_visit:85,checkout_revenue:80,upsell_revenue:30,bump_revenue:74,convert_time_second:74,contacts:74,average_order_value:85}},{interval:"2023-05-14",start_date:"2023-05-14 00:00:00",date_start_gmt:"2023-05-13 18:30:00",end_date:"2023-05-14 23:59:59",date_end_gmt:"2023-05-14 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-15",start_date:"2023-05-15 00:00:00",date_start_gmt:"2023-05-14 18:30:00",end_date:"2023-05-15 23:59:59",date_end_gmt:"2023-05-15 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-16",start_date:"2023-05-16 00:00:00",date_start_gmt:"2023-05-15 18:30:00",end_date:"2023-05-16 23:59:59",date_end_gmt:"2023-05-16 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-17",start_date:"2023-05-17 00:00:00",date_start_gmt:"2023-05-16 18:30:00",end_date:"2023-05-17 23:59:59",date_end_gmt:"2023-05-17 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-18",start_date:"2023-05-18 00:00:00",date_start_gmt:"2023-05-17 18:30:00",end_date:"2023-05-18 23:59:59",date_end_gmt:"2023-05-18 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-19",start_date:"2023-05-19 00:00:00",date_start_gmt:"2023-05-18 18:30:00",end_date:"2023-05-19 23:59:59",date_end_gmt:"2023-05-19 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}}]},ue=r(21);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de=function(e){var t=e.funnelId,r=e.metrics,a=e.filter,i=e.compare,l=re(),c=l.getChartData,u=l.getChartRawData,f=c(t),p=u(t),v=f.data,m=f.isLoading,y=void 0===m||m,h=f.interval_type,g=se(Object(n.useState)(r[0]),2),O=g[0],j=g[1],_=Object(n.useRef)(!0),w=Object(ue.a)().isProFeatureLocked,S=function(e){var r=e.period,n=e.before,a=e.after,o=e.compare,i=e.interval,l=e.selectedData,c=e.rawData,u=void 0===c?{}:c,d=e.reset,b=void 0!==d&&d;w&&Object(s.isEmpty)(u)?C(oe,t):(C({isLoading:!0},t),K({period:r,before:n,after:a,compare:o,interval:i},w?oe:b?[]:f,(function(e,r){C(e,t),D(r,t)}),l||O,t,b?[]:u))},P=Object(ne.a)(),C=P.setChartData,D=P.setChartRawData;Object(n.useEffect)((function(){_.current&&!y||S({period:a.period,before:a.before,after:a.after,compare:i,interval:Object(d.C)(a),reset:!0}),_.current&&(_.current=!1)}),[t,a,i]);var T=Object(d.w)("overall"===a.period?h:Object(d.C)(a),f.length);return Object(n.createElement)(k.a,{allowedIntervals:[],interval:"overall"===a.period?h:Object(d.C)(a),isRequesting:y,data:v,chartType:"curve-line",title:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:""},Object(o.__)("Performance"))),layout:"item-comparison",showLegend:"none"!==i,hideTypeSelect:!0,xFormat:T.xFormat,x2Format:T.x2Format,screenReaderFormat:T.screenReaderFormat,tooltipLabelFormat:T.tooltipLabelFormat,tabs:r,height:340,chartMeta:O,customHeaderItem:Object(n.createElement)(n.Fragment,null,r&&Object(s.isArray)(r)&&Object(n.createElement)("div",{className:"bwf-chart-tabs"},r.filter((function(e){return"convert_time"!==e.key})).map((function(e){return Object(n.createElement)(b.Button,{className:E()({"is-gray-light":O.key!==e.key,"is-secondary-light":O.key===e.key}),key:e.key,onClick:function(){j(e),w||S({period:a.period,before:a.before,after:a.after,compare:i,interval:Object(d.C)(a.period),selectedData:e,rawData:w?ce:p})}},e.title)}))))})};de.defaultProps={data:{current:{intervals:[],totals:{}},previous:{intervals:[],totals:{}}},isLoading:!1};var be=de,pe=r(297),ve=r(26),me=r(29),ye=r(30),he=r(42);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(e){var t=e.funnelId,r=e.isGlobal,a=e.filter,i=e.globalFunnelTitle,l=Object(ne.a)().setStepsData,c=re().getStepsData,u=Object(d.s)(),b=Object(me.a)(),p=b.setFunnelData,v=b.fetch,m=ye.a.getFunnelTitle(),y=c(t),h=y.data,g=void 0===h?[]:h,O=y.isLoading,j=void 0===O||O,_=Object(ue.a)().isProFeatureLocked,w=Object(n.useRef)(!0);Object(n.useEffect)((function(){w.current&&!j||(_?(!r&&Object(s.isEmpty)(m)&&v(t),l(le,t)):(l({isLoading:!0},t),z({period:a.period,before:a.before,after:a.after},(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(e,t),Object(s.isEmpty)(r)||(p("funnelTitle",r.title),r.hasOwnProperty("status")&&p("status",r.status),p("isLoading",!1))}),t))),w.current&&(w.current=!1)}),[t,a]);var E=function(e){return e.hasOwnProperty("object_name")&&e.object_name?e.object_name:e.object_id},k=function(e){var t=E(e),r=!1;return!0===e.ab&&(r=!0),Object(n.createElement)("div",{className:"bwf-c-contact-details-cell"},t,!0===r&&Object(n.createElement)("span",{className:"bwf-c-s-h"},"Variant"))},S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"type"in e&&"upsell"===e.type?"-":e[t]&&""!==e[t]&&parseFloat(e[t])?r?u.formatAmount(e[t]):n?"".concat(e[t],"%"):e[t]:n?"0%":"0"},P=[{key:"name",label:Object(o.__)("Name","funnel-builder"),required:!0,cellClassName:"bwf-col-step bwf-word-break"},{key:"step",label:Object(o.__)("Step","funnel-builder"),required:!0,cellClassName:"bwf-col-step bwf-word-break"},{key:"views",label:Object(o.__)("Views","funnel-builder"),cellClassName:"bwf-col-stats-m"},{key:"conversions",label:Object(o.__)("Conversions","funnel-builder"),cellClassName:"bwf-col-stats-m"},{key:"revenue",label:Object(o.__)("Revenue","funnel-builder"),cellClassName:"bwf-col-stats-m"},{key:"conversion_rate",label:Object(o.__)("Conversion Rate","funnel-builder"),cellClassName:"bwf-col-stats-m"}],C=g?g.map((function(e){return"upsell"===e.type?"bwf-s-upsell":""})):[],D=function(e){var t="";switch(e.type){case"sales":case"landing":t=Object(o.__)("Sales Page","funnel-builder");break;case"optin":t=Object(o.__)("Optin","funnel-builder");break;case"optin_ty":t=Object(o.__)("Optin Thankyou","funnel-builder");break;case"checkout":t=Object(o.__)("Checkout","funnel-builder");break;case"bump":t=Object(o.__)("Order Bump","funnel-builder");break;case"upsell":t=Object(o.__)("One Click Upsell","funnel-builder");break;case"offer":t=Object(o.__)("Offer","funnel-builder");break;case"thankyou":t=Object(o.__)("Thankyou","funnel-builder")}return Object(n.createElement)(ve.b,{content:t})},T=function(){if(!g)return[];var e=g.reduce((function(e,t,r){return t.hasOwnProperty("offers")?[].concat(_e(e),[r]):e}),[]),t=0,r=e.map((function(e){var r=g.slice(t,e+1);t=e+1;var n=r[r.length-1],a=!!n.hasOwnProperty("offers")&&n.offers,o=Object.keys(a).map((function(e){return Oe(Oe({},a[e]),{},{type:"offer"})}));return a?r.concat(o):r}));return t+1<=g.length&&r.push(g.slice(t,g.length)),r.reduce((function(e,t){return e.concat(t)}),[])}().map((function(e){var t;return[{display:k(e),value:E(e)},{display:D(e),value:e.type},{display:S(e,"views"),value:e.views},{display:S(e,"conversions"),value:e.conversions},{display:"upsell"!==e.type?Object(n.createElement)(ve.b,{type:"success",content:u.formatAmount(null!==(t=e.revenue)&&void 0!==t?t:0)}):"-",value:e.revenue},{display:S(e,"conversion_rate",!1,!0),value:e.conversion_rate}]})),x=Object(n.createElement)(n.Fragment,null,Object(o.__)("Steps","funnel-builder"),r&&Object(n.createElement)("span",{className:"bwf-analytics__date-filter-text"},"(",i,")"));Object(n.createElement)("div",{className:"bwf-flex bwf--g12"},j?Object(n.createElement)(he.a,{h:16,w:110}):"overall"!==a.period?Object(n.createElement)("span",{className:"bwf-analytics__date-filter-text"},Object(d.v)(a)):null,Object(n.createElement)(f.a,{value:{period:"last_30_days",after:"",before:""},onChange:function(e){_||(l({isLoading:!0},t),z({period:e.period,before:e.before,after:e.after},(function(e){return l(e,t)}),t))}}));return Object(n.createElement)(pe.a,{isLoading:j,title:x,rows:T,rowClasses:C,headers:P,showPagination:!1,rowsPerPage:T.length||4,totalRows:T.length||4,showMenu:!1,className:"bwf-analytics__steps-table"})},ke=r(129);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var De=function(e){var t=e.funnelId,r=void 0===t?0:t,a=e.metrics,i=e.filter,l=e.compare,c=Object(ne.a)().setOverviewData,u=(0,re().getoverviewData)(r),s=u.isLoading,f=void 0===s||s,b=u.primary,p=void 0===b?{}:b,v=u.secondary,m=void 0===v?{}:v,y=Object(ue.a)().isProFeatureLocked,h="none"===l?"previous_period":l,g=Object(n.useRef)(!0),O=Object(d.s)(),j=i.period,_=void 0===j?"":j,w=function(e,t){var r,n,a=t?O.formatAmount(null!==(r=m[e])&&void 0!==r?r:0):null!==(n=m[e])&&void 0!==n?n:0;return a+=" - "+Object(d.I)(i,"overall"===_?{}:h,!1,!0,"overall"===_)},E=function(e,t){var r,a;if(!t)return null!==(a=p[e])&&void 0!==a?a:0;var o=O.formatAmount(null!==(r=p[e])&&void 0!==r?r:0).split(d.l);return Object(n.createElement)(n.Fragment,null,o[0],o[1]&&Object(n.createElement)(n.Fragment,null,d.l,Object(n.createElement)("span",{className:"bwf-analytics__amount-decimal"},o[1])))},k=a.map((function(e){return Pe(Pe({},e),{},{value:E(e.key,e.isCurrency),delta:(t=e.key,Object(d.j)(Number(p[t]),Number(m[t]))),label:w(e.key,e.isCurrency)});var t}));return Object(n.useEffect)((function(){g.current&&!f||(y?c(ae,r):(c({isLoading:!0},r),q(i,h,u,(function(e){return c(e,r)}),r))),g.current&&(g.current=!1)}),[r,i,h]),Object(n.createElement)(ke.a,{items:k,title:Object(o.__)("Overview","funnel-builder"),isLoading:f})},Te=(r(1124),r(245)),xe=r(22),Re=r(35),Ae=r(18),Ne=r(40);function Fe(e){return function(e){if(Array.isArray(e))return Ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return Ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(e,t):void 0}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ye=function(e){var t,r,i,l,c,u=e.filter,f=Object(ue.a)().isProFeatureLocked,b=Object(ne.a)().setFunnelRevenueData,p=(0,re().getFunnelRevenueData)(),v=qe(Object(n.useState)({sale:10,lead:10}),2),m=v[0],y=v[1],h=qe(Object(n.useState)({sale:1,lead:1}),2),g=h[0],O=h[1],j=Object(xe.a)().getStoreCheckoutId,_=Object(Re.a)().getFirstFunnel,w=j(),E=_(),k=(location&&location.search?Object(a.parse)(location.search.substring(1)):{}).path,S=Object(Ne.a)().setPreviousStep,P=Object(n.useRef)(!0),C=qe(Object(n.useState)("sale"),2),D=C[0],T=C[1],x=function(e){e!==m&&y((function(t){return Me(Me({},t),{},Ie({},D,e))}))},R=Object(d.s)(),A=Object(n.useMemo)((function(){return[{key:"name",label:Object(o.__)("Name","funnel-builder"),required:!0,cellClassName:"bwf-word-break"},{key:"views",label:Object(o.__)("Views","funnel-builder")},{key:"conversions",label:Object(o.__)("Conversions","funnel-builder")}].concat(Fe("sale"===D?[{key:"revenue",label:Object(o.__)("Revenue","funnel-builder")}]:[]),[{key:"conversion_rate",label:Object(o.__)("Conversion Rate","funnel-builder")}])}),[D]),N=Object(n.createElement)(n.Fragment,null,Object(o.__)("All Funnels","funnel-builder")),F=Object(n.createElement)("div",{className:"bwf-flex bwf--g24"},null!==(t=p[D])&&void 0!==t&&t.isLoading?Object(n.createElement)(he.a,{h:20,w:230}):Object(n.createElement)(Te.a,{options:[{value:"sale",label:Object(o.__)("Sales","funnel-builder")},{value:"lead",label:Object(o.__)("Optin","funnel-builder")}],selected:D,onChange:function(e){var t;T(e),(E||w)&&!f&&Object(s.isEmpty)(null===(t=p[e])||void 0===t?void 0:t.data)&&(b(Ie({},e,Me(Me({},p[e]),{},{isLoading:!0}))),G({period:u.period,before:u.before,after:u.after},(function(e){return b(e)}),{limit:10,page_no:1,funnel_type:e}))},className:"bwf-dashboard-top-funnel_radio-items"}));Object(n.useEffect)((function(){var e;(!P.current||null!==(e=p[D])&&void 0!==e&&e.isLoading)&&(E||w)&&(f?b(ie):(b(Ie({},D,Me(Me({},p[D]),{},{isLoading:!0}))),G({period:u.period,before:u.before,after:u.after},(function(e){return b(e)}),{limit:m[D],page_no:g[D],funnel_type:D}))),P.current&&(P.current=!1)}),[m,g,u]);var L=function(e){return f?e.title:Object(n.createElement)(Ae.a,{href:Object(d.A)(e.fid),onClick:function(){null!=k&&k.startsWith("/analytics")&&S("analytics")}},e.title)},M=(null!==(r=null===(i=p[D])||void 0===i?void 0:i.data)&&void 0!==r?r:[]).map((function(e){var t;return[{display:Object(s.isEmpty)(e.title)?Object(o.__)("No name","funnel-builder"):L(e),value:e.title},{display:e.views,value:e.views},{display:e.conversion,value:e.conversion}].concat(Fe("sale"===D?[{display:Object(n.createElement)(ve.b,{type:"success",content:R.formatAmount(null!==(t=e.total)&&void 0!==t?t:0)}),value:e.total}]:[]),[{display:e.conversion_rate+"%",value:e.conversion_rate}])}));return Object(n.createElement)(pe.a,{headers:A,rows:M,title:N,actions:!f&&F,isLoading:null===(l=p[D])||void 0===l?void 0:l.isLoading,rowsPerPage:m[D],totalRows:(null===(c=p[D])||void 0===c?void 0:c.total)||4,onPageChange:function(e,t){O((function(t){return Me(Me({},t),{},Ie({},D,e))}))},onQueryChange:function(e){return"per_page"!==e?function(){}:x},query:{paged:g[D]},showMenu:!1,className:"bwf-analytics__funnels-table"})},Ke=r(309),Ue=(r(108),r(79),Object(o.__)("No Comparison","funnel-builder"),Object(o.__)("Previous Period","funnel-builder"),Object(o.__)("Previous Year","funnel-builder"),r(1125),r(123));r(398);function He(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchText,r=void 0===t?"":t,a=re(),i=a.getAnalyticsFunnel,l=a.getFunnelList,c=i(),u=Object(ne.a)(),f=u.setAnalyticsFunnel,d=u.fetchFunnels,b=Object(xe.a)(),p=b.getGlobalCheckout,v=p(),m=Object(n.useState)([]),y=ze(m,2),h=y[0],g=y[1],O=l(),j=O.isLoading;return Object(n.useEffect)((function(){g([].concat(He(null!=v&&v.funnel_id?[{key:v.funnel_id,label:v.funnel_name+Object(o.__)(" - Store Checkout","funnel-builder")}]:[]),He(O.data.filter((function(e){return!!Object(s.isEmpty)(r)||(e.title.includes(r)||parseInt(e.id)===parseInt(r))})).map((function(e){return{key:e.id,label:e.title}})))))}),[O.data,r,c.id]),Object(n.useEffect)((function(){return j&&d(),function(){f({id:0,title:Object(o.__)("All Funnels","funnel-builder")})}}),[]),{options:h,isLoading:j}},Qe=(r(204),r(465)),Xe=r(86),Je=r(85),Ze=r(88),et=r(400),tt=r(139),rt=r(138);function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ct={period:"last_30_days"},ut=function(e){return[{key:"unique_visits",title:Object(o.__)("Visitors","funnel-builder"),icon:"visitors"},{key:"contacts",title:Object(o.__)("Contacts","funnel-builder"),icon:"contact-tile"},it({key:"total_orders",title:Object(o.__)("Orders","funnel-builder"),icon:"product"},e&&{index:1}),it({key:"total_revenue",title:Object(o.__)("Revenue","funnel-builder"),icon:"revenue",isCurrency:!0},e&&{index:2}),{key:"bump_revenue",title:Object(o.__)("Order Bumps Revenue","funnel-builder"),icon:"order-bump",isCurrency:!0},{key:"upsell_revenue",title:Object(o.__)("Upsells Revenue","funnel-builder"),icon:"upsells",isCurrency:!0},{key:"average_order_value",title:Object(o.__)("Average Order Value","funnel-builder"),icon:"order-revenue",isCurrency:!0},{key:"revenue_per_visit",title:Object(o.__)("Revenue Per Visit","funnel-builder"),icon:"revenue-user",isCurrency:!0}].sort((function(e,t){var r,n;return(null!==(r=t.index)&&void 0!==r?r:0)-(null!==(n=e.index)&&void 0!==n?n:0)}))};t.default=function(e){var t,r,c,u,f,b=location&&location.search?Object(a.parse)(location.search.substring(1)):{},p=Object(i.useParams)().id,v=e.funnelId,m=void 0===v?p:v,y=nt(Object(n.useState)(Object(s.random)(0,50)),2),h=y[0],g=y[1],O=Object(Xe.a)(),j=O.setOrderLoading,w=O.setOrdersFirstTimeLoading,E=Object(Je.a)(),k=E.setLeadLoading,S=E.setLeadsFirstTimeLoading,P=Object(Ze.a)().setReferrerLoading,D=(0,re().getAnalyticsFunnel)(),T=Object(ne.a)(),x=T.resetAnalyticsData,R=T.setAnalyticsFunnel,A=Object(tt.a)().getFilters,N=Object(rt.a)().setFilters,F=A(m?"funnel_analytics":"analytics",m),L=nt(Object(n.useState)(null!==(t=null==F||null===(r=F.find((function(e){return"period"===e.filter})))||void 0===r?void 0:r.data)&&void 0!==t?t:{period:"overall",after:"",before:""}),2),M=L[0],I=L[1],q=nt(Object(n.useState)(null!==(c=null==F||null===(u=F.find((function(e){return"compare"===e.filter})))||void 0===u?void 0:u.data)&&void 0!==c?c:"none"),2),B=q[0],V=q[1],Y=Object(ue.a)(),K=Y.isProFeatureLocked,U=Y.isLite,H=Ge(),z=H.options,$=H.isLoading,W=b.path.startsWith("/analytics")?null!==(f=D.id)&&void 0!==f?f:0:m,G=Object(n.useMemo)((function(){return function(e,t,r){return[{type:"sticky",rules:[].concat(C(t?[]:[{slug:"funnels",title:"Funnel",type:"search-select",options:r,op_label:"Funnel",required:["data"],readable_text:"{{rule /}} - {{value /}}"}]),[{slug:"period",title:Object(o.__)("Time Period","funnel-builder"),type:"date-range",op_label:Object(o.__)("Time Period","funnel-builder"),required:["rule","data"],readable_text:"{{value /}}",returnPeriod:!0}],C("overall"!==e.period?[{type:"select",slug:"compare",title:Object(o.__)("Compare","funnel-builder"),required:["data"],readable_text:"{{value /}}",options:{previous_period:Object(o.__)("Previous period","funnel-builder"),previous_year:Object(o.__)("Previous year","funnel-builder")}}]:[]))}]}(M,m,z)}),[M,m,z]);return Object(n.createElement)(l.a,{className:"bwf-analytics__wrap",key:h},U?Object(n.createElement)(Qe.a,{title:Object(o.__)("Funnel Analytics","funnel-builder"),proLink:Object(d.K)(["Analytics","Upgrade","Notice"]),message:m?Object(o.__)("Use our sample data to explore Funnel Analytics. See how it summarises metrics across funnel and provides Step level performance.","funnel-builder"):Object(o.__)("Use our sample data to explore Funnel Analytics. See how it summarises metrics across multiple funnels.","funnel-builder")}):K&&Object(n.createElement)(Ue.b,{onPage:!0,modalContent:{proLink:Object(d.K)(["Analytics","Upgrade","Modal"])}}),Object(n.createElement)(Ke.a,null),Object(n.createElement)("div",{className:"bwf-analytics-filters"},Object(n.createElement)("div",{className:"bwf-flex bwf--g12"},Object(n.createElement)(et.a,{filterList:null!=G?G:[],isLoading:$,filterData:F,propsToPass:{searchHelper:m?{funnelId:m}:{}},setFilterData:function(e){N(m?"funnel_analytics":"analytics",e,m),function(e){var t=e.find((function(e){return"period"===e.filter}));if(t||(e=e.filter((function(e){return"compare"!==e.filter}))),!K){t?I(t.data):(I({period:"overall",after:"",before:""}),V("none"));var r=e.find((function(e){return"funnels"===e.filter}));R(r?{title:r.data.label,id:r.data.key}:{id:0,title:Object(o.__)("All Funnels","funnel-builder")});var n=e.find((function(e){return"compare"===e.filter}));n?V(n.data):B&&V("none")}}(e)},isLocked:!1}),"overall"!==M.period&&Object(n.createElement)("div",{className:"bwf-analytics__date-filter-text bwf-no-wrap"},Object(d.v)(M)," ","none"!==B&&Object(n.createElement)(n.Fragment,null,Object(o.__)("v/s","funnel-builder")," ",Object(d.I)(M,B,!1,!1)),"none"!==B&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("br",null),Object(n.createElement)("span",null,Object(o.sprintf)(Object(o.__)("Compared to %s","funnel-builder"),d.bb[B]))))),!K&&m&&Object(n.createElement)(_,{funnelId:m,onComplete:function(){x(m),j(!0),k(!0),w(null),S(null),P(!0),g(Object(s.random)(10,50))}})),Object(n.createElement)(De,{query:b,metrics:ut(),funnelId:W,filter:M,compare:B}),Object(n.createElement)(be,{query:b,metrics:ut(!0),funnelId:W,filter:"overall"===M.period?ct:M,compare:B}),W?Object(n.createElement)(Ee,{query:b,funnelId:W,isGlobal:b.path.startsWith("/analytics"),filter:M,globalFunnelTitle:D.title}):Object(n.createElement)(Ye,{filter:M}))}}}]);