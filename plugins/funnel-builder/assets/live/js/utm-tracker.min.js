var wffnUtm_terms=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],wffnCookieManage={setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);r="expires="+r.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var f=n[r];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(t))return f.substring(t.length,f.length)}return""},remove:function(e){var t=new Date;t.setTime(t.getTime()-864e5);t="expires="+t.toUTCString();document.cookie=e+"=;"+t+";path=/"},commons:{inArray:function(e,t){return-1===t.indexOf(e)}}};function wffnGetQueryVars(){try{var t,n={};return window.location.search.substr(1).split("&").forEach(function(e){1<(t=e.split("=")).length&&(n[t[0]]=t[1])}),n}catch(e){console.log(e)}}function wffnGetTrafficSource(){try{var e=document.referrer.toString(),t=0===e.length,n=!t&&0===e.indexOf(wfpxop.site_url),r=!(t||n),f=""!==wffnCookieManage.getCookie("wffn_traffic_source")&&wffnCookieManage.getCookie("wffn_traffic_source");return!1==r?f||"direct":f&&f===e?f:e}catch(e){return""}}function wffnManageCookies(){try{var e=wffnGetTrafficSource();"direct"!==e?wffnCookieManage.setCookie("wffn_traffic_source",e,2):wffnCookieManage.remove("wffn_traffic_source");var t,n=wffnGetQueryVars();for(t in wffnUtm_terms)""===wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[t])&&Object.prototype.hasOwnProperty.call(n,wffnUtm_terms[t])&&wffnCookieManage.setCookie("wffn_"+wffnUtm_terms[t],n[wffnUtm_terms[t]],2)}catch(e){console.log(e)}}function wffnGetUTMs(){try{var e,t={},n=wffnGetQueryVars();for(e in wffnUtm_terms)wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[e])?t[wffnUtm_terms[e]]=wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[e]):Object.prototype.hasOwnProperty.call(n,wffnUtm_terms[e])&&(t[wffnUtm_terms[e]]=n[wffnUtm_terms[e]]);return t}catch(e){return{}}}function wffnAddTrafficParamsToEvent(t){try{var e,n=wfpxop.genericParamEvents,r=JSON.parse(n);for(e in r)t[e]=r[e];var f=new Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f.getDay()],a=["January","February","March","April","May","June","July","August","September","October","November","December"][f.getMonth()],i=["00-01","01-02","02-03","03-04","04-05","05-06","06-07","07-08","08-09","09-10","10-11","11-12","12-13","13-14","14-15","15-16","16-17","17-18","18-19","19-20","20-21","21-22","22-23","23-24"][f.getHours()];t.event_month=a,t.event_day=o,t.event_hour=i,t.traffic_source=wffnGetTrafficSource();var c,u=wffnGetUTMs();for(c in u)t[c]=u[c];return t}catch(e){return t}}wffnManageCookies();