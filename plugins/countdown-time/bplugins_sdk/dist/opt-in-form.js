!function(){"use strict";var e=ReactDOM,t=React;var n=React;n.useState,n.useEffect;var r=React;r.useState,r.useEffect;var a=React;a.useState,a.useEffect;var i=React;i.useState,i.useEffect;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:x(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var p="suspendedStart",v="suspendedYield",y="executing",h="completed",g={};function b(){}function E(){}function w(){}var R={};d(R,c,(function(){return this}));var _=Object.getPrototypeOf,N=_&&_(_(D([])));N&&N!==n&&r.call(N,c)&&(R=N);var O=w.prototype=b.prototype=Object.create(R);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,i,s,c){var l=f(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function x(t,n,r){var a=p;return function(i,o){if(a===y)throw new Error("Generator is already running");if(a===h){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var l=f(t,n,r);if("normal"===l.type){if(a=r.done?h:v,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=h,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return E.prototype=w,a(O,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(j.prototype),d(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new j(m(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(O),d(O,u,"Generator"),d(O,c,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=m((0,t.useState)(!r),2),i=a[0],o=a[1],l=m((0,t.useState)(!1),2),d=l[0],f=l[1],p=m((0,t.useState)(null),2),v=p[0],y=p[1],h=m((0,t.useState)(null),2),g=h[0],b=h[1];if(wp.ajax){var E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(!0),f(!1),y(null),wp.ajax.post(e,u(u({},n),t)).done((function(e){b(e),o(!1)})).fail((function(e){f(!0),y(e),o(!1)}))},w=function(){var e,t=(e=s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t.length>0&&void 0!==t[0]?t[0]:{});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){r||E(n)}),[]),{data:g,saveData:w,refetch:w,isLoading:i,isError:d,error:v}}console.error("Please use wp-util as a dependency")};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.height,n=void 0===t?"10px":t,r=e.width,a=void 0===r?"10px":r,i=e.color,o=void 0===i?"#3498db":i,s=e.className,c=void 0===s?"":s,l=e.style,u=void 0===l?{}:l;return React.createElement("div",{className:"simple-loader ".concat(c),style:h({height:n,width:a,borderTopColor:o},u)})};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){e.prefix;var n=e.pluginId,r=e.nonce,a=e.slug,i=E((0,t.useState)(!1),2),o=i[0],s=i[1],c=E((0,t.useState)(null),2),l=c[0],u=c[1],d=p("bsdk_fetch_info_".concat(n),{nonce:r,type:"modal"}),m=d.data,f=d.isLoading,v=d.error,y=d.isError,h=d.saveData,g=(0,t.useRef)(),w=(0,t.useRef)(),R=(0,t.useRef)(),_=(0,t.useRef)(),N=(null==m?void 0:m.plugin_data)||{},O=N.is_events_tracking_allowed,S=N.is_extensions_tracking_allowed,j=N.is_site_tracking_allowed,x=N.is_user_tracking_allowed;(0,t.useEffect)((function(){!o&&v&&h()}),[o]);var k=function(e){e.preventDefault(),s(!o)};(0,t.useEffect)((function(){var e,t,n,r,i;g.current=document.querySelector(".optInBtn.".concat(a)),null===(e=g.current)||void 0===e||e.addEventListener("click",k),null===(t=w.current.querySelector(".fs-opt-out-cancel-button"))||void 0===t||t.addEventListener("click",(function(){w.current.style.display="none",_.current.style.display="block"})),null===(n=w.current.querySelector(".fs-opt-out-button"))||void 0===n||n.addEventListener("click",(function(e){e.preventDefault(),h({thread:"permission_update",permissions:"user",is_enabled:!1}),u("user")})),null===(r=R.current.querySelector(".fs-opt-out-cancel-button"))||void 0===r||r.addEventListener("click",(function(){R.current.style.display="none",_.current.style.display="block"})),null===(i=R.current.querySelector(".fs-opt-out-button"))||void 0===i||i.addEventListener("click",(function(e){e.preventDefault(),h({thread:"permission_update",permissions:"site",is_enabled:!1}),u("site")}))}),[]);var P=function(e){var t;e.preventDefault(),h({thread:"permission_update",is_enabled:!S,permissions:"extensions"}),u(null!==(t=e.target)&&void 0!==t&&null!==(t=t.classList)&&void 0!==t&&t.contains("fs-switch")?"extensions-toggle":"extensions")};return(0,t.useEffect)((function(){!f&&g.current&&(g.current.innerText=j&&x&&O&&S?"Opt Out":"Opt In",o&&(w.current.style.display="none",R.current.style.display="none",_.current.style.display="block"))}),[m,f]),(0,t.useEffect)((function(){window.b_data=m,window.b_error=v}),[m,v]),React.createElement("div",{id:"fs_opt_out_".concat(null==m?void 0:m.id),className:"fs-modal fs-modal-opt-out ".concat(o?"active":""),"data-plugin-id":null==m?void 0:m.id,"data-action":"fs_toggle_permission_tracking_".concat(null==m?void 0:m.id),"data-security":r},React.createElement("div",{className:"fs-modal-dialog"},React.createElement("div",{className:"fs-modal-header"},React.createElement("h4",null,"Opt Out"),React.createElement("a",{href:"!#",className:"fs-close",onClick:function(e){e.preventDefault(),s(!1),w.current.style.display="none",R.current.style.display="none",_.current.style.display="block"}},React.createElement("i",{className:"dashicons dashicons-no",title:"Dismiss"}))),React.createElement("div",{className:"fs-opt-out-permissions",ref:_},React.createElement("div",{className:"fs-modal-body"},React.createElement("div",{className:"notice notice-error inline opt-out-error-message",style:{display:y?"block":"none"}},React.createElement("p",null,"string"==typeof v?v:"Something went wrong!")),React.createElement("div",{className:"fs-permissions fs-open"},React.createElement("div",{className:"fs-permissions-section fs-communication-permissions"},React.createElement("div",null,React.createElement("div",{className:"fs-permissions-section--header"},React.createElement("a",{onClick:function(e){e.preventDefault(),x?(w.current.style.display="block",_.current.style.display="none"):(h({thread:"permission_update",is_enabled:!0,permissions:"user"}),u("user"))},className:"fs-group-opt-out-button","data-type":"required","data-group-id":"communication","data-is-enabled":x,href:"#",disabled:f&&"user"===l},x?"Opt Out":"Opt In"),f&&"user"===l&&React.createElement(b,{className:"fs-opt-in-loader",style:{float:"right"}}),React.createElement("span",{className:"fs-permissions-section--header-title"},"Communication")),React.createElement("p",{className:"fs-permissions-section--desc"})),React.createElement("ul",null,React.createElement("li",{id:"fs_permission_user","data-permission-id":"user",className:"fs-permission fs-user ".concat(x?"":"fs-disabled")},React.createElement("i",{className:"dashicons dashicons-admin-users"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Basic Profile Info",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"Never miss important updates, get security warnings before they become public knowledge, and receive notifications about special offers and awesome new features."))),React.createElement("p",null,"Your WordPress ","user's",": first & last name, and email address"))))),React.createElement("hr",null),React.createElement("div",{className:"fs-permissions-section fs-diagnostic-permissions"},React.createElement("div",null,React.createElement("div",{className:"fs-permissions-section--header"},React.createElement("a",{className:"fs-group-opt-out-button","data-type":"required","data-group-id":"diagnostic","data-is-enabled":"true",href:"#",onClick:function(e){e.preventDefault(),O&&j?(R.current.style.display="block",_.current.style.display="none"):(h({thread:"permission_update",is_enabled:!0,permissions:"site"}),u("site"))},disabled:f&&"site"===l},O&&j?"Opt Out":"Opt In"),f&&"site"===l&&React.createElement(b,{className:"fs-opt-in-loader",style:{float:"right"}}),React.createElement("span",{className:"fs-permissions-section--header-title"},"Diagnostic Info")),React.createElement("p",{className:"fs-permissions-section--desc"})),React.createElement("ul",null,React.createElement("li",{id:"fs_permission_site","data-permission-id":"site",className:"fs-permission fs-site ".concat(j?"":"fs-disabled")},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Basic Website Info",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"To provide additional functionality ","that's"," relevant to your website, avoid WordPress or PHP version incompatibilities that can break your website, and recognize which languages & regions the plugin should be translated and tailored to."))),React.createElement("p",null,"Homepage URL & title, WP & PHP versions, and site language"))),React.createElement("li",{id:"fs_permission_events","data-permission-id":"events",className:"fs-permission fs-events ".concat(O?"":"fs-disabled")},React.createElement("i",{className:"dashicons dashicons-admin-plugins"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",null,"View Basic Plugin Info"),React.createElement("p",null,"Current plugin & SDK versions, and if active or uninstalled"))))),React.createElement("hr",null),React.createElement("div",{className:"fs-permissions-section fs-extensions-permissions"},React.createElement("div",null,React.createElement("div",{className:"fs-permissions-section--header"},React.createElement("a",{onClick:P,disabled:f&&["extensions","extensions-toggle"].includes(l),className:"fs-group-opt-out-button","data-type":"optional","data-group-id":"extensions","data-is-enabled":"true",href:"#"},S?"Opt Out":"Opt In"),f&&"extensions"===l&&React.createElement(b,{className:"fs-opt-in-loader",style:{float:"right"}}),React.createElement("span",{className:"fs-permissions-section--header-title"},"Extensions")),React.createElement("p",{className:"fs-permissions-section--desc"})),React.createElement("ul",null,React.createElement("li",{id:"fs_permission_extensions","data-permission-id":"extensions",className:"fs-permission fs-extensions ".concat(S?"":"fs-disabled")},React.createElement("i",{className:"dashicons dashicons-block-default"}),React.createElement("div",{onClick:P,disabled:f&&["extensions","extensions-toggle"].includes(l),className:"fs-switch fs-small fs-round fs-".concat(S?"on":"off")},React.createElement("div",{className:"fs-toggle"})),f&&"extensions-toggle"===l&&React.createElement(b,{className:"fs-opt-in-loader",style:{float:"right",marginTop:"8px"}}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Plugins & Themes List",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"To ensure compatibility and avoid conflicts with your installed plugins and themes."))),React.createElement("p",null,"Names, slugs, versions, and if active or not"))))))),React.createElement("div",{className:"fs-modal-footer"},React.createElement("button",{className:"button button-primary button-close",tabIndex:"1",onClick:function(){return s(!1)}},"Done"))),React.createElement("div",{ref:w,className:"fs-communication-opt-out fs-opt-out-disclaimer","data-group-id":"communication",style:{display:"none"}},React.createElement("div",{className:"fs-modal-body"},React.createElement("div",{className:"fs-modal-panel active"},React.createElement("div",{className:"notice notice-error inline opt-out-error-message",style:{display:y?"block":"none"}},React.createElement("p",null,"string"==typeof v?v:"Something went wrong!")),React.createElement("p",null,"Sharing your name and email allows us to keep you in the loop about new features and important updates, warn you about security issues before they become public knowledge, and send you special offers."),React.createElement("p",null,"By clicking ",'"Opt Out"',", ",React.createElement("strong",null,null==m?void 0:m.plugin_name)," will no longer be able to view your name and email."))),React.createElement("div",{className:"fs-modal-footer"},f&&"user"===l&&React.createElement(b,{className:"fs-opt-in-loader"}),React.createElement("a",{disabled:f,className:"fs-opt-out-button",tabIndex:"2",href:"#"},"Opt Out"),React.createElement("button",{disabled:f,className:"button button-primary fs-opt-out-cancel-button",tabIndex:"1"},"Stay Connected"))),React.createElement("div",{ref:R,className:"fs-diagnostic-opt-out fs-opt-out-disclaimer","data-group-id":"diagnostic",style:{display:"none"}},React.createElement("div",{className:"fs-modal-body"},React.createElement("div",{className:"fs-modal-panel active"},React.createElement("div",{className:"notice notice-error inline opt-out-error-message",style:{display:y?"block":"none"}},React.createElement("p",null,"string"==typeof v?v:"Something went wrong!")),React.createElement("p",null,"Sharing diagnostic data helps to provide additional functionality","that's"," relevant to your website, avoid WordPress or PHP version incompatibilities that can break the website, and recognize which languages & regions the plugin should be translated and tailored to."),React.createElement("p",null,"By clicking ",'"Opt Out"',", diagnostic data will no longer be sent to ",React.createElement("strong",null,null==m?void 0:m.plugin_name),"."))),React.createElement("div",{className:"fs-modal-footer"},f&&"site"===l&&React.createElement(b,{className:"fs-opt-in-loader"}),React.createElement("a",{disabled:f,className:"fs-opt-out-button",tabIndex:"2",href:"#"},"Opt Out"),React.createElement("button",{disabled:f,className:"button button-primary fs-opt-out-cancel-button",tabIndex:"1"},"Keep Sharing")))))};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var n,r=e.nonce,a=e.pluginId,i=_((0,t.useState)(!1),2),o=i[0],s=i[1],c=p("bsdk_fetch_info_"+a,{nonce:r}).data,l=null==c||null===(n=c.menu)||void 0===n?void 0:n["first-path"],u="".concat(null==c?void 0:c.admin_url).concat(l||"plugins.php").concat(null!=l&&l.includes("?")?"&":"?","fs_action=").concat(null==c?void 0:c.slug,"_activate_new&_wpnonce=").concat(null==c?void 0:c.nonce);return React.createElement("div",{id:"fs_connect",className:"wrap"},React.createElement("div",{className:"fs-header"},React.createElement("b",{className:"fs-site-icon"},React.createElement("i",{className:"dashicons dashicons-wordpress-alt"})),React.createElement("div",{className:"fs-plugin-icon"},React.createElement("img",{src:"https://ps.w.org/".concat(null==c?void 0:c.slug,"/assets/icon-128x128.png"),width:"50",height:"50"})),React.createElement("img",{className:"fs-connect-logo",src:"//img.freemius.com/logo/connect.svg"})),React.createElement("div",{className:"fs-box-container"},React.createElement("div",{className:"fs-content"},React.createElement("h2",{style:{textAlign:"center"}},"Never miss an important update"),React.createElement("p",null,"Opt in to get email notifications for security & feature updates, educational content, and occasional offers, and to share some basic WordPress environment info. This will help us make the plugin more compatible with your site and better at doing what you need it to.")),React.createElement("div",{className:"fs-actions"},React.createElement("a",{id:"skip_activation",href:"".concat(null==c?void 0:c.admin_url,"plugins.php?fs_action=").concat(null==c?void 0:c.slug,"_skip_activation&is_skip_activation=1&_wpnonce=").concat(null==c?void 0:c.nonce),className:"button button-secondary",tabindex:"2"},"Skip"),React.createElement("form",{method:"POST",action:null==c?void 0:c.freemius_form_action},"freemius"===(null==c?void 0:c.platform)&&React.createElement(React.Fragment,null,React.createElement("input",{type:"hidden",name:"sdk_version",value:"2.5.12"}),React.createElement("input",{type:"hidden",name:"platform_version",value:null==c?void 0:c.platform_version}),React.createElement("input",{type:"hidden",name:"programming_language_version",value:null==c?void 0:c.programming_language_version}),React.createElement("input",{type:"hidden",name:"user_firstname",value:null==c?void 0:c.user_first_name}),React.createElement("input",{type:"hidden",name:"user_lastname",value:null==c?void 0:c.user_last_name}),React.createElement("input",{type:"hidden",name:"user_email",value:null==c?void 0:c.user_email}),React.createElement("input",{type:"hidden",name:"plugin_slug",value:null==c?void 0:c.slug}),React.createElement("input",{type:"hidden",name:"plugin_id",value:null==c?void 0:c.id}),React.createElement("input",{type:"hidden",name:"plugin_public_key",value:null==c?void 0:c.public_key}),React.createElement("input",{type:"hidden",name:"plugin_version",value:null==c?void 0:c.plugin_version}),React.createElement("input",{type:"hidden",name:"return_url",value:u}),React.createElement("input",{type:"hidden",name:"account_url",value:(null==c?void 0:c.admin_url)+"admin.php?_wpnonce=".concat(null==c?void 0:c.nonce)}),React.createElement("input",{type:"hidden",name:"is_premium",value:""}),React.createElement("input",{type:"hidden",name:"is_active",value:"1"}),React.createElement("input",{type:"hidden",name:"is_uninstalled",value:""}),React.createElement("input",{type:"hidden",name:"is_localhost",value:"localhost"===window.location.host?"1":""}),React.createElement("input",{type:"hidden",name:"site_name",value:null==c?void 0:c.site_name}),React.createElement("input",{type:"hidden",name:"language",value:"en-US"}),React.createElement("input",{type:"hidden",name:"site_uid",value:null==c?void 0:c.uid}),React.createElement("input",{type:"hidden",name:"site_url",value:null==c?void 0:c.site_url}),React.createElement("input",{type:"hidden",name:"is_extensions_tracking_allowed",value:"1"}),React.createElement("input",{type:"hidden",name:"is_diagnostic_tracking_allowed",value:"1"})),React.createElement("button",{className:"button button-primary",tabindex:"1",type:"submit"},"Allow & Continue"))),React.createElement("div",{className:"fs-permissions"},React.createElement("a",{className:"fs-trigger wp-core-ui",href:"#",tabindex:"1",style:{color:"inherit"},onClick:function(e){e.preventDefault(),s(!o)}},"This will allow",React.createElement("nobr",{className:"button-link",style:{color:"inherit"}}," ",null==c?void 0:c.plugin_name)," ","to",React.createElement("b",{className:"fs-arrow"})),o&&React.createElement("ul",null,React.createElement("li",{id:"fs_permission_user","data-permission-id":"user",className:"fs-permission fs-user"},React.createElement("i",{className:"dashicons dashicons-admin-users"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Basic Profile Info",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"Never miss important updates, get security warnings before they become public knowledge, and receive notifications about special offers and awesome new features."))),React.createElement("p",null,"Your WordPress users: first & last name, and email address"))),React.createElement("li",{id:"fs_permission_site","data-permission-id":"site",className:"fs-permission fs-site"},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Basic Website Info",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"To provide additional functionality thats relevant to your website, avoid WordPress or PHP version incompatibilities that can break your website, and recognize which languages & regions the plugin should be translated and tailored to."))),React.createElement("p",null,"Homepage URL & title, WP & PHP versions, and site language"))),React.createElement("li",{id:"fs_permission_events","data-permission-id":"events",className:"fs-permission fs-events"},React.createElement("i",{className:"dashicons dashicons-admin-plugins"}),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",null,"View Basic Plugin Info"),React.createElement("p",null,"Current plugin & SDK versions, and if active or uninstalled"))),React.createElement("li",{id:"fs_permission_extensions","data-permission-id":"extensions",className:"fs-permission fs-extensions"},React.createElement("i",{className:"dashicons dashicons-block-default"}),React.createElement("div",{className:"fs-switch fs-small fs-round fs-on"},React.createElement("div",{className:"fs-toggle"})),React.createElement("div",{className:"fs-permission-description"},React.createElement("span",{className:"fs-tooltip-trigger"},"View Plugins & Themes List",React.createElement("i",{className:"dashicons dashicons-editor-help"},React.createElement("span",{className:"fs-tooltip",style:{width:"200px"}},"To ensure compatibility and avoid conflicts with your installed plugins and themes."))),React.createElement("p",null,"Names, slugs, versions, and if active or not")))))),React.createElement("div",{className:"fs-terms"},React.createElement("a",{className:"fs-tooltip-trigger",href:"https://freemius.com/product/opt-in/".concat(null==c?void 0:c.id,"/").concat(null==c?void 0:c.slug,"/"),target:"_blank",rel:"noreferrer",tabindex:"1"},"Powered by Freemius"),"  -  ",React.createElement("a",{href:"https://freemius.com/privacy/",target:"_blank",rel:"noreferrer",tabindex:"1"},"Privacy Policy"),"  -  ",React.createElement("a",{href:"https://freemius.com/product/opt-in/".concat(null==c?void 0:c.id,"/").concat(null==c?void 0:c.slug,"/"),target:"_blank",rel:"noreferrer",tabindex:"1"},"Terms of Service")))},S=function(e){var n=e.info,r=e.nonce,a=n.install_secret_key,i=n.install_public_key,o=n.install_id,s=n.pending_activation,c=void 0!==s&&s,l=(n.fs_action,p("fs_init",{nonce:r,info:n,site:{install_id:o,public_key:i,secret_key:a}},!0)),u=l.data,d=(l.isLoading,l.error,l.refetch);return(0,t.useEffect)((function(){console.log(n),window.initData=u,u&&(window.location.href=window.location.origin+window.location.pathname),console.log({data:u})}),[u]),(0,t.useEffect)((function(){var e={};c&&(e.notice={activation_pending:{message:"You should receive a confirmation email for {name} to your mailbox at {email}. Please make sure you click the button in that email to complete the opt-in.",title:"Thanks!",type:"success",id:"activation_pending",dismissible:!0,sticky:!0}},console.log({data:e})),d(e)}),[]),React.createElement(React.Fragment,null)};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.bsdkOptInFormHandler=function(t){var n=document.getElementById("".concat(t,"OptInForm"));if(n){var r=L({},n.dataset)||{};Object.keys(n.dataset).map((function(e){return delete n.dataset[e]})),(0,e.render)(React.createElement(O,P({prefix:t},r)),n)}var a=document.getElementById("".concat(t,"OptInModal"));if(a){var i=L({},a.dataset)||{};Object.keys(a.dataset).map((function(e){return delete a.dataset[e]}));var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t={},n=e.split("?")[1];if(n){n.split("&").forEach((function(e){var n=x(e.split("="),2),r=n[0],a=n[1],i=decodeURIComponent(r),o=decodeURIComponent(a);t[i]=i.includes("is")||"pending_activation"===i?"1"==o:o}))}return t}();(null==o?void 0:o.fs_action)=="".concat(i.slug,"_activate_new")||(null==o?void 0:o.fs_action)=="".concat(i.slug,"_skip_activation")?(0,e.render)(React.createElement(S,P({info:o},i)),a):(0,e.render)(React.createElement(R,P({prefix:t},i)),a)}}}();
//# sourceMappingURL=opt-in-form.js.map