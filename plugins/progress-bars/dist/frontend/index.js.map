{"version":3,"file":"dist/frontend/index.js","mappings":"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","sources":["webpack://progress-bars/./src/frontend.js"],"sourcesContent":["const isInViewport = function (elem) {\n\tvar distance = elem.getBoundingClientRect();\n\treturn (\n\t\tdistance.top >= 0 &&\n\t\tdistance.left >= 0 &&\n\t\tdistance.bottom <=\n\t\t\t(window.innerHeight || document.documentElement.clientHeight) &&\n\t\tdistance.right <=\n\t\t\t(window.innerWidth || document.documentElement.clientWidth)\n\t);\n};\n\nconst animate = function ({ duration, draw, timing }) {\n\tlet start = performance.now();\n\n\trequestAnimationFrame(function animate(time) {\n\t\tlet timeFraction = (time - start) / duration;\n\t\tif (timeFraction > 1) timeFraction = 1;\n\n\t\tlet progress = timing(timeFraction);\n\n\t\tdraw(progress);\n\n\t\tif (timeFraction < 1) {\n\t\t\trequestAnimationFrame(animate);\n\t\t}\n\t});\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", function (event) {\n\tvar progressbars = document.querySelectorAll(\".eb-progressbar\");\n\tif (!progressbars) return;\n\n\t// function 'debounce' is used here for better performance when scroll event fires\n\tfunction debounce(func) {\n\t\tvar wait =\n\t\t\targuments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\t\tvar immediate =\n\t\t\targuments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar timeout;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\n\t\t\tfunction later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t}\n\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t}\n\n\tprogressbars.forEach(function (progressbar) {\n\t\tvar showedElement = false;\n\t\tvar layout = progressbar.getAttribute(\"data-layout\");\n\t\tvar count = progressbar.getAttribute(\"data-count\");\n\t\tvar duration = progressbar.getAttribute(\"data-duration\");\n\n\t\tfunction handleAnimationOnScroll() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!showedElement && isInViewport(progressbar)) {\n\t\t\t\t\tanimate({\n\t\t\t\t\t\tduration: duration,\n\t\t\t\t\t\ttiming: function (timeFraction) {\n\t\t\t\t\t\t\treturn timeFraction;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdraw: function (progress) {\n\t\t\t\t\t\t\tvar counter = Math.floor(progress * 100);\n\t\t\t\t\t\t\tif (counter <= count) {\n\t\t\t\t\t\t\t\tif (layout === \"line\" || layout === \"line_rainbow\") {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-line-fill\"\n\t\t\t\t\t\t\t\t\t).style.width = counter + \"%\";\n\t\t\t\t\t\t\t\t} else if (layout === \"circle\" || layout === \"circle_fill\") {\n\t\t\t\t\t\t\t\t\tvar rotate = counter * 3.6;\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half-left\"\n\t\t\t\t\t\t\t\t\t).style.transform = \"rotate(\" + rotate + \"deg)\";\n\t\t\t\t\t\t\t\t\tif (rotate > 180) {\n\t\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-pie\"\n\t\t\t\t\t\t\t\t\t\t).style.clipPath = \"inset(0)\";\n\t\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half-right\"\n\t\t\t\t\t\t\t\t\t\t).style.visibility = \"visible\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tlayout === \"half_circle\" ||\n\t\t\t\t\t\t\t\t\tlayout === \"half_circle_fill\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tvar rotate = counter * 1.8;\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half\"\n\t\t\t\t\t\t\t\t\t).style.transform = \"rotate(\" + rotate + \"deg)\";\n\t\t\t\t\t\t\t\t} else if (layout === \"box\") {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-box-fill\"\n\t\t\t\t\t\t\t\t\t).style.height = counter + \"%\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (progressbar.querySelector(\".eb-progressbar-count\")) {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\".eb-progressbar-count\").innerText =\n\t\t\t\t\t\t\t\t\t\tcounter;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tshowedElement = true;\n\t\t\t\t}\n\t\t\t}, 20);\n\t\t}\n\n\t\tif (isInViewport(progressbar)) {\n\t\t\thandleAnimationOnScroll();\n\t\t}\n\n\t\twindow.addEventListener(\"scroll\", debounce(handleAnimationOnScroll));\n\t});\n});\n"],"names":["isInViewport","elem","distance","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","animate","_ref","duration","draw","timing","start","performance","now","requestAnimationFrame","time","timeFraction","progress","addEventListener","event","progressbars","querySelectorAll","debounce","func","wait","arguments","length","undefined","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","forEach","progressbar","showedElement","layout","getAttribute","count","handleAnimationOnScroll","counter","Math","floor","querySelector","style","width","rotate","transform","clipPath","visibility","height","innerText"],"sourceRoot":""}