!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.i18n,i=window.wp.api,a=e.n(i),s={webyx:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},(0,t.createElement)("path",{d:"M 86.878906 51 C 67.002123 51 51 67.002123 51 86.878906 L 51 425.12109 C 51 444.99788 67.002123 461 86.878906 461 L 425.12109 461 C 444.99788 461 461 444.99788 461 425.12109 L 461 86.878906 C 461 67.002123 444.99788 51 425.12109 51 L 86.878906 51 z M 97 97 L 415 97 L 415 415 L 97 415 L 97 97 z M 143.47656 108.27734 C 124.84714 108.27734 109.84961 123.27487 109.84961 141.9043 L 109.84961 224.65039 C 109.84961 243.27981 124.84714 258.27734 143.47656 258.27734 L 226.22266 258.27734 C 244.85208 258.27734 259.84961 243.27981 259.84961 224.65039 L 259.84961 141.9043 C 259.84961 123.27487 244.85208 108.27734 226.22266 108.27734 L 143.47656 108.27734 z M 285.47656 252.27734 C 266.84714 252.27734 251.84961 267.27487 251.84961 285.9043 L 251.84961 368.65039 C 251.84961 387.27981 266.84714 402.27734 285.47656 402.27734 L 368.22266 402.27734 C 386.85208 402.27734 401.84961 387.27981 401.84961 368.65039 L 401.84961 285.9043 C 401.84961 267.27487 386.85208 252.27734 368.22266 252.27734 L 285.47656 252.27734 z"})),section:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},(0,t.createElement)("path",{style:{fill:"#000000",fillOpacity:1,fillRule:"evenodd",strokeWidth:.96189594},d:"M 81.589844 51 C 64.643077 51 51 64.643077 51 81.589844 L 51 200.41016 C 51 217.35692 64.643077 231 81.589844 231 L 200.41016 231 C 217.35692 231 231 217.35692 231 200.41016 L 231 81.589844 C 231 64.643077 217.35692 51 200.41016 51 L 81.589844 51 z M 81.589844 281 C 64.643077 281 51 294.64308 51 311.58984 L 51 430.41016 C 51 447.35692 64.643077 461 81.589844 461 L 200.41016 461 C 217.35692 461 231 447.35692 231 430.41016 L 231 311.58984 C 231 294.64308 217.35692 281 200.41016 281 L 81.589844 281 z "}),(0,t.createElement)("path",{style:{opacity:.4,fill:"#000000",fillOpacity:1,fillRule:"evenodd",strokeWidth:.96189594},d:"M 311.58984 51 C 294.64308 51 281 64.643077 281 81.589844 L 281 200.41016 C 281 217.35692 294.64308 231 311.58984 231 L 430.41016 231 C 447.35692 231 461 217.35692 461 200.41016 L 461 81.589844 C 461 64.643077 447.35692 51 430.41016 51 L 311.58984 51 z M 311.58984 281 C 294.64308 281 281 294.64308 281 311.58984 L 281 430.41016 C 281 447.35692 294.64308 461 311.58984 461 L 430.41016 461 C 447.35692 461 461 447.35692 461 430.41016 L 461 311.58984 C 461 294.64308 447.35692 281 430.41016 281 L 311.58984 281 z ",id:"rect833-4-6-1"})),slide:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},(0,t.createElement)("rect",{style:{fill:"#000000",fillOpacity:1,fillRule:"evenodd",strokeWidth:1.73141265},id:"rect833-4-6-4",width:"324",height:"324",x:"51",y:"51",ry:"55.061699"}),(0,t.createElement)("path",{style:{opacity:.4,fill:"#000000",fillOpacity:1,fillRule:"evenodd",strokeWidth:1.73141265},d:"M 399.30078 137 L 399.30078 335.97852 C 399.30078 371.05832 371.05832 399.30078 335.97852 399.30078 L 137 399.30078 L 137 405.9375 C 137 436.44168 161.55832 461 192.0625 461 L 405.9375 461 C 436.44168 461 461 436.44168 461 405.9375 L 461 192.0625 C 461 161.55832 436.44168 137 405.9375 137 L 399.30078 137 z ",id:"rect833-4-6-1"}))},l=window.wp.components,o=window.wp.data,c=window.wp.notices;const r=()=>{const e=(0,o.useSelect)((e=>e(c.store).getNotices().filter((e=>"snackbar"===e.type))),[]),{removeNotice:n}=(0,o.useDispatch)(c.store);return(0,t.createElement)(l.SnackbarList,{className:"webyx-fe-edit-site-notices",notices:e,onRemove:n})};class d extends t.Component{constructor(){super(...arguments),this.state={webyx_fe_hide_admin_top_bar:!0,webyx_fe_menu:!0,isAPILoaded:!1,webyx_fe_settings_pending:!1},this._handleOnClick=this._handleOnClick.bind(this)}_handleOnClick(){this.setState({webyx_fe_settings_pending:!0});const{webyx_fe_hide_admin_top_bar:e,webyx_fe_menu:t}=this.state;new(a().models.Settings)({webyx_fe_hide_admin_top_bar:e?"true":"",webyx_fe_menu:t?"true":""}).save().then((e=>{this.setState({webyx_fe_settings_pending:!1}),(0,o.dispatch)("core/notices").createNotice("success",(0,n.__)("Settings Saved","webyx-fe"),{type:"snackbar",isDismissible:!0})}))}render(){const{webyx_fe_hide_admin_top_bar:e,webyx_fe_menu:i,isAPILoaded:a,webyx_fe_settings_pending:o}=this.state;return a?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"webyx-fe-header"},(0,t.createElement)("div",{className:"webyx-fe-container"},(0,t.createElement)("div",{className:"webyx-fe-title"},(0,t.createElement)("span",{className:"webyx-fe-icon-webyx"},s.webyx),(0,t.createElement)("h1",null,(0,n.__)("Webyx FE Settings","webyx-fe"))))),(0,t.createElement)("div",{className:"webyx-fe-main"},(0,t.createElement)(l.PanelBody,{initialOpen:!1,title:(0,n.__)("Hide WP admin top bar","webyx-fe"),icon:"admin-plugins"},(0,t.createElement)(l.ToggleControl,{checked:e,help:(0,n.__)("Hide WP admin top bar in Webyx pages preview","webyx-fe"),label:(0,n.__)("Hide WP admin top bar","webyx-fe"),onChange:e=>this.setState({webyx_fe_hide_admin_top_bar:e})})),(0,t.createElement)(l.PanelBody,{initialOpen:!1,title:(0,n.__)("Webyx menu","webyx-fe"),icon:"admin-plugins"},(0,t.createElement)(l.ToggleControl,{checked:i,help:(0,n.__)('Enable Webyx menu "Display location" in Appearance/Menus/Menu structure/Menu settings',"webyx-fe"),label:(0,n.__)("Enable Webyx menu","webyx-fe"),onChange:e=>this.setState({webyx_fe_menu:e})})),(0,t.createElement)(l.Button,{className:"webyx-fe-save-settings-btn"+(o?" webyx-fe-is-busy":""),isBusy:o,onClick:this._handleOnClick},(0,n.__)("Save Settings","webyx-fe"))),(0,t.createElement)("div",{className:"webyx-fe-notices"},(0,t.createElement)(r,null))):(0,t.createElement)("div",{className:"webyx-fe-spinner-front-page"},(0,t.createElement)("div",{className:"webyx-fe-logo-container"},(0,t.createElement)("div",{className:"webyx-fe-circ-front-page"}),(0,t.createElement)("span",{className:"webyx-fe-logo-icon"},s.webyx)),(0,t.createElement)("div",{className:"webyx-fe-txt-loader"},"LOADING"))}componentDidMount(){a().loadPromise.then((()=>{this.settings=new(a().models.Settings);const{isAPILoaded:e}=this.state;!1===e&&this.settings.fetch().then((e=>{this.setState({webyx_fe_hide_admin_top_bar:Boolean(e.webyx_fe_hide_admin_top_bar),webyx_fe_menu:Boolean(e.webyx_fe_menu),isAPILoaded:!0})}))}))}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("webyx-fe-settings");e&&(0,t.render)((0,t.createElement)(d,null),e)}))}();