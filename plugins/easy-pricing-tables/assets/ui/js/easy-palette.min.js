!function(t,e){var s,r,i,o,a,n;if(s='<div class="easy-palette"></div>',o=navigator.userAgent.toLowerCase(),a="Microsoft Internet Explorer"===navigator.appName,n=a?parseFloat(o.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,nonGradientIE=a&&n<10,gradientType=!1,["-moz-","-webkit-","-o-","-ms-"],r=".easy-palette{display:block;position:relative}.easy-palette,.easy-palette *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.easy-palette{margin-top:4px}.easy-palette-error{background-color:#ffafaf}.easy-palette-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.easy-palette .easy-palette-item{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;float:left;margin: 0px 2px 5px 2px;}.easy-palette-ie-9 .easy-palette-item{box-shadow:none;border-radius:0}.easy-palette-ie-9 .easy-palette-item{outline:1px solid rgba(0,0,0,.1)}.easy-palette-ie-lt9 .easy-palette-item{outline:1px solid #aaa}.easy-palette-container{position:absolute;top:0;right:0;left:0;bottom:0}.easy-palette-border .easy-palette-container{top:10px;right:10px;left:9px;bottom:10px}",nonGradientIE&&n<=7)return t.fn.easypalette=t.noop,void(t.support.easypalette=!1);t.support.easypalette=!0,i={options:{color:!1,mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"},hide:!0,border:!0,target:!1,width:200,palettes:!0},_color:"",_palettes:["#000","#fff","#d33","#d93","#ee2","#81d742","#1e73be","#8224e3"],_inited:!1,_create:function(){var e=this.element,r=this.options.color||e.val();e.is("input")?(this.options.target?this.palette=t(s).appendTo(this.options.target):this.palette=t(s).insertAfter(e),this._addInputListeners(e)):(e.append(s),this.palette=e.find(".easy-palette")),a?9===n?this.palette.addClass("easy-palette-ie-9"):n<=8&&this.palette.addClass("easy-palette-ie-lt9"):o.indexOf("compatible")<0&&o.indexOf("khtml")<0&&o.match(/mozilla/)&&this.palette.addClass("easy-palette-mozilla"),this.options.palettes&&this._addPalettes(),this._color=new Color(r).setHSpace(this.options.mode),this.options.color=this._color.toString(),this.controls={square:this.palette.find(".easy-palette-square")},this.options.hide&&this.palette.hide(),this.options.border&&this.palette.addClass("easy-palette-border"),this._initControls(),this.active="external",this._dimensions(),this._change()},_has:function(e,s){var r=!1;return t.each(s,function(t,s){if(e===s)return r=!0,!1}),r},_addPalettes:function(){var e=t('<div class="easy-palette-container" />'),s=t('<a class="easy-palette-item" tabindex="0" />'),r=t.isArray(this.options.palettes)?this.options.palettes:this._palettes;this.palette.find(".easy-palette-container").length&&(e=this.palette.find(".easy-palette-container").detach().html("")),t.each(r,function(t,r){s.clone().data("color",r).css("backgroundColor",r).appendTo(e).height(10).width(10)}),this.palette.append(e)},_getHSpaceColor:function(){return"hsv"===this.options.mode?this._color.toHsv():this._color.toHsl()},_dimensions:function(e){var s,r,i,o=this.options,a=this.controls.square,n=this.palette.find(".easy-palette-strip"),h="100%",l=o.border?o.width-20:o.width;t.isArray(o.palettes)?o.palettes.length:this._palettes.length;if(e&&(a.css("width",""),n.css("width",""),this.palette.css({width:"",height:""})),h=l*(parseFloat(h)/100),s=o.border?h+20:h,a.width(h).height(h),this.palette.css({width:o.width,height:s}),!o.palettes)return this.palette.css("paddingBottom","");palettesPerLine=7,i=h-4*palettesPerLine,r=i/palettesPerLine,this.palette.find(".easy-palette-item").each(function(e){t(this).css({width:r,height:r})})},_addInputListeners:function(t){var e=this,s=function(s){var r=new Color(t.val()),i=t.val().replace(/^#/,"");t.removeClass("easy-palette-error"),r.error?""!==i&&t.addClass("easy-palette-error"):r.toString()!==e._color.toString()&&("keyup"===s.type&&i.match(/^[0-9a-fA-F]{3}$/)||e._setOption("color",r.toString()))};t.on("change",s).on("keyup",e._debounce(s,100)),e.options.hide&&t.one("focus",function(){e.show()})},_initControls:function(){this.controls.square,this.options.controls;this.options.palettes&&this._paletteListeners()},_paletteListeners:function(){var e=this;e.palette.find(".easy-palette-container").on("click.palette",".easy-palette-item",function(){e._color.fromCSS(t(this).data("color")),e.active="external",e._change()}).on("keydown.palette",".easy-palette-item",function(e){if(13!==e.keyCode&&32!==e.keyCode)return!0;e.stopPropagation(),t(this).trigger("click")})},_setOption:function(e,s){var r,i,o=this.options[e],a=!1;switch(this.options[e]=s,e){case"color":(s=""+s).replace(/^#/,""),(r=new Color(s).setHSpace(this.options.mode)).error?this.options[e]=o:(this._color=r,this.options.color=this.options[e]=this._color.toString(),this.active="external",this._change());break;case"palettes":a=!0,s?this._addPalettes():this.palette.find(".easy-palette-container").remove(),o||this._paletteListeners();break;case"width":a=!0;break;case"border":a=!0,i=s?"addClass":"removeClass",this.palette[i]("easy-palette-border");break;case"mode":case"controls":if(o===s)return;return i=this.element,o=this.options,o.hide=!this.palette.is(":visible"),this.destroy(),this.palette.remove(),t(this.element).easypalette(o)}a&&this._dimensions(!0)},_change:function(){this.controls,this._getHSpaceColor(),this.options.controls[this.active],this.hue;this.options.color=this._color.toString(),this._inited&&this._trigger("change",{type:this.active},{color:this._color}),this.element.is(":input")&&!this._color.error&&(this.element.removeClass("easy-palette-error"),this.element.val()!==this._color.toString()&&this.element.val(this._color.toString())),this._inited=!0,this.active=!0},_debounce:function(t,e,s){var r,i;return function(){var o,a,n=this,h=arguments;return o=function(){r=null,s||(i=t.apply(n,h))},a=s&&!r,clearTimeout(r),r=setTimeout(o,e),a&&(i=t.apply(n,h)),i}},show:function(){this.palette.show()},hide:function(){this.palette.hide()},toggle:function(){this.palette.toggle()},color:function(t){return!0===t?this._color.clone():void 0===t?this._color.toString():void this.option("color",t)}},t.widget("a8c.easypalette",i),t('<style id="easy-palette-css">'+r+"</style>").appendTo("head")}(jQuery),function(t,e){var s=function(t,e){return this instanceof s?this._init(t,e):new s(t,e)};s.fn=s.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(t){var s="noop";switch(typeof t){case"object":return t.a!==e&&this.a(t.a),s=t.r!==e?"fromRgb":t.l!==e?"fromHsl":t.v!==e?"fromHsv":s,this[s](t);case"string":return this.fromCSS(t);case"number":return this.fromInt(parseInt(t,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var t=new s(this.toInt()),e=["_alpha","_hSpace","_hsl","_hsv","error"],r=e.length-1;r>=0;r--)t[e[r]]=this[e[r]];return t},setHSpace:function(t){return this._hSpace="hsv"===t?t:"hsl",this},noop:function(){return this},fromCSS:function(t){var e,s=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,(t=t.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,"")).match(s)&&t.match(/\)$/)){if((e=t.replace(/(\s|%)/g,"").replace(s,"").replace(/,?\);?$/,"").split(",")).length<3)return this._error();if(4===e.length&&(this.a(parseFloat(e.pop())),this.error))return this;for(var r=e.length-1;r>=0;r--)if(e[r]=parseInt(e[r],10),isNaN(e[r]))return this._error();return t.match(/^rgb/)?this.fromRgb({r:e[0],g:e[1],b:e[2]}):t.match(/^hsv/)?this.fromHsv({h:e[0],s:e[1],v:e[2]}):this.fromHsl({h:e[0],s:e[1],l:e[2]})}return this.fromHex(t)},fromRgb:function(t,s){return"object"!=typeof t||t.r===e||t.g===e||t.b===e?this._error():(this.error=!1,this.fromInt(parseInt((t.r<<16)+(t.g<<8)+t.b,10),s))},fromHex:function(t){return 3===(t=t.replace(/^#/,"").replace(/^0x/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.error=!/^[0-9A-F]{6}$/i.test(t),this.fromInt(parseInt(t,16))},fromHsl:function(t){var s,r,i,o,a,n,h,l;return"object"!=typeof t||t.h===e||t.s===e||t.l===e?this._error():(this._hsl=t,this._hSpace="hsl",n=t.h/360,h=t.s/100,l=t.l/100,0===h?s=r=i=l:(a=2*l-(o=l<.5?l*(1+h):l+h-l*h),s=this.hue2rgb(a,o,n+1/3),r=this.hue2rgb(a,o,n),i=this.hue2rgb(a,o,n-1/3)),this.fromRgb({r:255*s,g:255*r,b:255*i},!0))},fromHsv:function(t){var s,r,i,o,a,n,h,l,c,p,u;if("object"!=typeof t||t.h===e||t.s===e||t.v===e)return this._error();switch(this._hsv=t,this._hSpace="hsv",s=t.h/360,r=t.s/100,i=t.v/100,h=Math.floor(6*s),l=6*s-h,c=i*(1-r),p=i*(1-l*r),u=i*(1-(1-l)*r),h%6){case 0:o=i,a=u,n=c;break;case 1:o=p,a=i,n=c;break;case 2:o=c,a=i,n=u;break;case 3:o=c,a=p,n=i;break;case 4:o=u,a=c,n=i;break;case 5:o=i,a=c,n=p}return this.fromRgb({r:255*o,g:255*a,b:255*n},!0)},fromInt:function(t,s){return this._color=parseInt(t,10),isNaN(this._color)&&(this._color=0),this._color>16777215?this._color=16777215:this._color<0&&(this._color=0),s===e&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t},toString:function(){var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var e=6-t.length-1;e>=0;e--)t="0"+t;return"#"+t},toCSS:function(t,e){switch(t=t||"hex",e=parseFloat(e||this._alpha),t){case"rgb":case"rgba":var s=this.toRgb();return e<1?"rgba( "+s.r+", "+s.g+", "+s.b+", "+e+" )":"rgb( "+s.r+", "+s.g+", "+s.b+" )";case"hsl":case"hsla":var r=this.toHsl();return e<1?"hsla( "+r.h+", "+r.s+"%, "+r.l+"%, "+e+" )":"hsl( "+r.h+", "+r.s+"%, "+r.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var t,e,s=this.toRgb(),r=s.r/255,i=s.g/255,o=s.b/255,a=Math.max(r,i,o),n=Math.min(r,i,o),h=(a+n)/2;if(a===n)t=e=0;else{var l=a-n;switch(e=h>.5?l/(2-a-n):l/(a+n),a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsl.h!==t&&(t=this._hsl.h),0===(e=Math.round(100*e))&&this._hsl.s&&(e=this._hsl.s),{h:t,s:e,l:Math.round(100*h)}},toHsv:function(){var t,e,s=this.toRgb(),r=s.r/255,i=s.g/255,o=s.b/255,a=Math.max(r,i,o),n=Math.min(r,i,o),h=a,l=a-n;if(e=0===a?0:l/a,a===n)t=e=0;else{switch(a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsv.h!==t&&(t=this._hsv.h),0===(e=Math.round(100*e))&&this._hsv.s&&(e=this._hsv.s),{h:t,s:e,v:Math.round(100*h)}},toInt:function(){return this._color},toIEOctoHex:function(){var t=this.toString(),e=parseInt(255*this._alpha,10).toString(16);return 1===e.length&&(e="0"+e),"#"+e+t.replace(/^#/,"")},toLuminosity:function(){var t=this.toRgb();return.2126*Math.pow(t.r/255,2.2)+.7152*Math.pow(t.g/255,2.2)+.0722*Math.pow(t.b/255,2.2)},getDistanceLuminosityFrom:function(t){if(!(t instanceof s))throw"getDistanceLuminosityFrom requires a Color object";var e=this.toLuminosity(),r=t.toLuminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},getMaxContrastColor:function(){var t=this.toLuminosity();return new s(t>=.5?"000000":"ffffff")},getGrayscaleContrastingColor:function(t){if(!t)return this.getMaxContrastColor();var e=t<5?5:t,s=this.getMaxContrastColor();if((t=s.getDistanceLuminosityFrom(this))<=e)return s;for(var r=0===s.toInt()?1:-1;t>e;)t=(s=s.incrementLightness(r)).getDistanceLuminosityFrom(this);return s},getReadableContrastingColor:function(t,r){if(!t instanceof s)return this;var i=r===e?5:r,o=t.getDistanceLuminosityFrom(this),a=t.getMaxContrastColor();if(a.getDistanceLuminosityFrom(t)<=i)return a;if(o>=i)return this;for(var n=0===a.toInt()?-1:1;o<i&&(this.incrementLightness(n),o=this.getDistanceLuminosityFrom(t),0!==this._color&&16777215!==this._color););return this},a:function(t){if(t===e)return this._alpha;var s=parseFloat(t);return isNaN(s)?this._error():(this._alpha=s,this)},darken:function(t){return t=t||5,this.l(-t,!0)},lighten:function(t){return t=t||5,this.l(t,!0)},saturate:function(t){return t=t||15,this.s(t,!0)},desaturate:function(t){return t=t||15,this.s(-t,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(t){var e=180+30*(t=t||1);return this.h(e,!0)},getAnalog:function(t){var e=30*(t=t||1);return this.h(e,!0)},getTetrad:function(t){var e=60*(t=t||1);return this.h(e,!0)},getTriad:function(t){var e=120*(t=t||1);return this.h(e,!0)},_partial:function(t){var s=r[t];return function(r,i){var o=this._spaceFunc("to",s.space);return r===e?o[t]:(!0===i&&(r=o[t]+r),s.mod&&(r%=s.mod),s.range&&(r=r<s.range[0]?s.range[0]:r>s.range[1]?s.range[1]:r),o[t]=r,this._spaceFunc("from",s.space,o))}},_spaceFunc:function(t,e,s){var r=e||this._hSpace;return this[t+r.charAt(0).toUpperCase()+r.substr(1)](s)}};var r={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}};for(var i in r)r.hasOwnProperty(i)&&(s.fn[i]=s.fn._partial(i));t.Color=s}("object"==typeof exports&&exports||this);