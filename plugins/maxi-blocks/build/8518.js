"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[8518],{28518:function(e,t,n){n.r(t);var i=n(70885),o=n(69307),r=(n(99196),n(9818)),a=n(94184),l=n.n(a),c=n(92819),s=n(40684),u=n(69663),p=(0,s.ZP)((function(){return n.e(4248).then(n.bind(n,24248))})),b=(0,s.ZP)((function(){return n.e(9177).then(n.bind(n,9177))})),d=(0,s.ZP)((function(){return Promise.resolve().then(n.bind(n,39909))})),f=(0,o.memo)((0,o.forwardRef)((function(e,t){var n=e.attributes,a=e.blockStyle,s=e.clientId,f=e.maxiSetAttributes,m=e.insertInlineStyles,v=e.cleanInlineStyles,k=e.isSelected,x=n.isList,y=void 0!==x&&x,h=n.textLevel,S=void 0===h?"p":h,_=n.uniqueID,C=(0,r.useSelect)((function(e){var t,n=e("maxiBlocks"),i=n.receiveMaxiSettings,o=n.receiveMaxiDeviceType,r=e("maxiBlocks/style-cards").receiveMaxiSelectedStyleCard,a=i();return{breakpoint:o(),styleCard:(null===(t=r())||void 0===t?void 0:t.value)||{},tooltipsHide:!(0,c.isEmpty)(a.hide_tooltips)&&a.hide_tooltips}})),g=C.breakpoint,E=C.styleCard,I=(0,o.useState)(t.current),w=(0,i.Z)(I,2),L=w[0],P=w[1];(0,o.useEffect)((function(){P(t.current)}));var A=function(e){if("content"in e){var t=e.content;delete e.content,e.captionContent=t}f(e)};return k&&L?(0,o.createElement)(d,{anchor:L,noArrow:!0,animate:!1,focusOnMount:!1,className:l()("maxi-toolbar__popover","maxi-toolbar__popover-caption"),uniqueid:_,__unstableSlotName:"block-toolbar",observeBlockPosition:s,position:"bottom center"},(0,o.createElement)("div",{className:"toolbar-wrapper caption-toolbar"},(0,o.createElement)(p,Object.assign({},(0,u.t5)(n,"typography"),{onChangeInline:function(e){return m({obj:e,target:".maxi-text-block__content"})},onChange:function(e){A(e),v(".maxi-text-block__content")},breakpoint:g,isList:y,clientId:s,textLevel:S,styleCard:E,isCaptionToolbar:!0})),(0,o.createElement)(b,Object.assign({},(0,u.t5)(n,["typography","textAlignment"]),{onChange:function(e){return A(e)},breakpoint:g,blockStyle:a,isList:y,clientId:s,isCaptionToolbar:!0})))):null})),(function(e,t){var n=e.attributes,i=e.propsToAvoid,o=e.isSelected,r=t.attributes,a=t.isSelected;if(!o||o!==a)return!1;var l=(0,c.cloneDeep)(n),s=(0,c.cloneDeep)(r);return(0,c.isEmpty)(i)||i.forEach((function(e){delete l[e],delete s[e]})),(0,c.isEqual)(l,s)}));t.default=f}}]);