(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[3477],{61629:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return me}});var a=n(4942),r=n(15861),i=n(70885),c=n(69307),o=(n(99196),n(11284)),l=n.n(o),s=n(65736),u=n(9818),m=n(55609),d=n(79165),p=n(69663),_=n(92819),v=function(e){if((0,_.isNil)(e))return"";var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?"#".concat("0".concat(parseInt(t[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(t[2],10).toString(16)).slice(-2)).concat("0".concat(parseInt(t[3],10).toString(16)).slice(-2)):""},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svg",n=/fill:[^n]+?(?=})/g,a="fill:#ff4a17",r=/[^-]fill="[^n]+?(?=")/g,i=' fill="#ff4a17',c=/stroke:[^n]+?(?=})/g,o="stroke:#081219",l=/[^-]stroke="[^n]+?(?=")/g,s=' stroke="#081219';return"svg"===t?e.replace(n,a).replace(r,i).replace(c,o).replace(l,s):"icon"===t?e.replace(c,o).replace(l,s):e.replace(n,a).replace(r,i)},g=function(e){return window.getComputedStyle(document.documentElement).getPropertyValue(e.substr(e.lastIndexOf("var(")+4).replaceAll(")",""))},h=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svg",a=(0,u.select)("core/block-editor"),r=a.getSelectedBlockClientId,i=a.getBlock,c=r(),o=null===(t=i(c))||void 0===t?void 0:t.attributes;if(!o)return null;var l=(0,u.select)("maxiBlocks/style-cards").receiveActiveStyleCardValue,s=l("line-color",(0,p.RK)(c),"icon"),m=l("line-color-global",(0,p.RK)(c),"icon"),d="icon"===n?"":"svg"===n?"-line":"-fill",_=(0,p.L_)({obj:o,prefix:"icon-"}),f=_.paletteStatus,h=_.paletteColor,b=_.color,x=o["icon-inherit"]?v(f?"rgba(".concat(g("var(--maxi-".concat(e,"-color-").concat(h,")")),", 1)"):b):"",y=(0,p.L_)({obj:o,prefix:"".concat(n).concat(d,"-")}),E=y.paletteStatus,k=y.paletteColor,C=y.color,N=v(E?"rgba(".concat(g("var(--maxi-".concat(e,"-color-").concat(k,")")),",1)"):C);return function(e){var t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>155}("svg"===n&&m?v(s):"icon"===n&&o["icon-inherit"]?x:N)},b=n(23543),x=n(94184),y=n.n(x),E=n(40684),k=(0,E.ZP)((function(){return Promise.resolve().then(n.bind(n,27910))})),C=(0,E.ZP)((function(){return Promise.resolve().then(n.bind(n,87570))})),N=function(e){var t=e.type,n=e.target,a=e.svgCode,r=e.serial,i=e.title,o=e.previewIMG,l=e.demoUrl,u=e.cost,m=e.beta,d=e.toneUrl,p=e.currentItemColorStatus,v=void 0!==p&&p,f=e.className,g=e.onRequestInsert,h=e.isSaved,b=void 0!==h&&h,x=e.isMaxiProActive,E=e.isPro,N=e.isBeta,w=e.isSwapChecked,S=e.onSelect,I=e.gutenbergCode,R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=null==e?void 0:e.lastIndexOf(" "),n=null==e?void 0:e.substring(t+1);return null==n?void 0:n.toLowerCase()},Z=y()("maxi-cloud-masonry-card","maxi-cloud-masonry-card__".concat(n),"patterns"===t&&"maxi-cloud-masonry-card__pattern-".concat(R()," maxi-open-preview"),"svg"===t&&v&&"maxi-cloud-masonry-card__light",f),M="maxi-cloud-masonry-card__pattern-".concat(R()),P=function(){return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__container maxi-open-preview"},(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__container__top-bar maxi-open-preview"},(0,c.createElement)("div",{className:"maxi-cloud-masonry__serial-tag maxi-open-preview"},i||r))),(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__image maxi-open-preview"},(0,c.createElement)("img",{src:o,alt:"Preview for ".concat(i),className:"maxi-cloud-masonry-card__image-picture maxi-open-preview"})),(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__buttons maxi-open-preview"},"patterns"===t&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)(k,{type:"preview",url:l,title:i,cost:u,beta:m,toneUrl:d,cardId:M,isPro:E,isBeta:N,onSelect:S,isSwapChecked:w,gutenbergCode:I}),(!E||N||x)&&(0,c.createElement)(C,{className:"maxi-cloud-masonry-card__button maxi-cloud-masonry-card__button-load",onClick:function(){g()}},(0,s.__)("Insert","maxi-blocks")),E&&!N&&!x&&(0,c.createElement)(C,{className:"maxi-cloud-masonry-card__button maxi-cloud-masonry-card__button-go-pro",href:"https://maxiblocks.com/go/pro-library",target:"_blank"},(0,s.__)("Go Pro","maxi-blocks"))),"sc"===t&&(0,c.createElement)("span",{className:y()("maxi-cloud-masonry-card__button","maxi-cloud-masonry-card__button-load",b&&"maxi-cloud-masonry-card__saved")},b?(0,s.__)("Saved","maxi-blocks"):(0,s.__)("Preview","maxi-blocks")),(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__tags maxi-open-preview"},!E&&(0,c.createElement)("span",{className:"maxi-cloud-masonry-card__tags__tag maxi-cloud-masonry-card__tags__tag-free"},(0,s.__)("Free","maxi-blocks")),E&&(0,c.createElement)("span",{className:"maxi-cloud-masonry-card__tags__tag maxi-cloud-masonry-card__tags__tag-pro"},(0,s.__)("Pro","maxi-blocks")))))};return(0,c.createElement)("div",{className:Z,id:M,onClick:function(e){if("patterns"===t){var n=document.querySelector("#".concat(M," .maxi-library-modal__action-section__buttons button.maxi-cloud-masonry-card__button")),a=e.target.classList;!(0,_.isEmpty)(a)&&null!=a&&a.contains("maxi-open-preview")&&(null==n||n.click())}}},"sc"===t&&(0,c.createElement)(C,{onClick:g},P()),"patterns"===t&&P(),"svg"===t&&(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__svg-container",onClick:g},(0,c.createElement)(c.RawHTML,{style:{backgroundColor:v?"#000000":"#ffffff"},className:"maxi-cloud-masonry-card__svg-container__code"},a),(0,c.createElement)("div",{className:"maxi-cloud-masonry-card__svg-container__title"},r.replace(" Line","").replace(" line","").replace(" shape","")),(0,c.createElement)("span",null,(0,s.__)("Insert","maxi-blocks"))))},w=n(58751),S=n.n(w),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"patterns";if("preview"!==e&&"switch-tone"!==e){var t=document.querySelector(".maxi-cloud-container__patterns__content-patterns .ais-InfiniteHits-list");t&&new(S())(t,{itemSelector:".ais-InfiniteHits-item",gutter:16,transitionDuration:0,stagger:30})}},R=n(94333),Z=n(15671),M=n(43144),P=n(97326),L=n(60136),T=n(82963),A=n(61120),q=n(66658),F=n(45697),O=n.n(F);var D=function(e){(0,L.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,A.Z)(t);if(n){var r=(0,A.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,T.Z)(this,e)});function i(){var e;(0,Z.Z)(this,i);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=r.call.apply(r,[this].concat(n)),(0,a.Z)((0,P.Z)(e),"sentinel",null),(0,a.Z)((0,P.Z)(e),"onSentinelIntersection",(function(t){var n=e.props,a=n.hasMore,r=n.refineNext;t.forEach((function(e){e.isIntersecting&&a&&(r(),I("patterns"))}))})),e}return(0,M.Z)(i,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.onSentinelIntersection),this.observer.observe(this.sentinel)}},{key:"componentWillUnmount",value:function(){this.observer.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,n=t.hits,a=t.hitComponent;return(0,c.createElement)("div",{className:"ais-InfiniteHits"},(0,c.createElement)("ul",{className:"ais-InfiniteHits-list"},n.map((function(e){return(0,c.createElement)("li",{key:e.objectID,className:"ais-InfiniteHits-item"},a(e))})),(0,c.createElement)("li",{className:"ais-InfiniteHits-sentinel",ref:function(t){return e.sentinel=t,e.sentinel}})))}}]),i}(c.Component);D.propTypes={hits:O().arrayOf(O().object).isRequired,hasMore:O().bool.isRequired,refineNext:O().func.isRequired};var j=(0,q.Z)(D),B=n(41372),H=n(34261),V=n(28499),U=n(94049),G=n(19560),K=n(87955),Y=n(13852),X=n(2002),z=n(59632),J=n(2264),W=n(3920),Q=n(27856),$=n.n(Q),ee=n(19848);function te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ae=function(){var e,t=te(document.querySelectorAll(".maxi__hide-top-tags"));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.classList.remove("maxi__hide-top-tags");var a,r=te(n.childNodes);try{for(r.s();!(a=r.n()).done;)a.value.classList.remove("maxi__show-top-tag")}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}},re={stats:function(e){var t=e.toLocaleString();return(0,c.createElement)("span",null,(0,c.createElement)("span",null,(0,s.__)("Returned","maxi-blocks")),(0,c.createElement)("strong",null," ".concat(t," ")),(0,c.createElement)("span",null,1===e?(0,s.__)("result","maxi-blocks"):(0,s.__)("results","maxi-blocks")))}},ie=function(){return(0,c.createElement)("div",{className:"maxi-cloud-container__content-loading",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"}},(0,c.createElement)(H.pO,{cloud:!0}))},ce=function(e){var t=e.items,n=e.refine;return(0,c.createElement)("ul",{className:"maxi-cloud-container__content__svg-categories"},t.map((function(e){return(0,c.createElement)("li",{key:e.label,className:e.isRefined?"ais-RefinementList-item ais-RefinementList-item--selected":"ais-RefinementList-item"},(0,c.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),n(e.value)}},(0,c.createElement)("span",null,(0,_.capitalize)(e.label)),(0,c.createElement)("span",null,e.count)))})))},oe=function(e){var t=e.items,n=e.currentRefinement,a=e.refine,r=t.find((function(e){return"Pro"===e.label}))||{label:"Pro",value:"Pro",count:0,isRefined:!1},i=t.find((function(e){return"Free"===e.label}))||{label:"Free",value:"Free",count:0,isRefined:!1};return(0,c.createElement)("div",{className:"top-Menu"},(0,c.createElement)("button",{type:"button",value:"",className:y()("maxi-cloud-container__content-svg-shape__button",(0,_.isEmpty)(n)&&" maxi-cloud-container__content-svg-shape__button___pressed"),onClick:function(e){e.preventDefault(),a("")}},(0,s.__)("All","maxi-blocks")),(0,c.createElement)("button",{type:"button",key:"Free",className:y()("maxi-cloud-container__content-svg-shape__button",(null==i?void 0:i.isRefined)&&" maxi-cloud-container__content-svg-shape__button___pressed"),value:"Free",onClick:function(e){e.preventDefault(),a("Free"),i.isRefined=!0}},(0,s.__)("Free","maxi-blocks")),(0,c.createElement)("button",{type:"button",key:"Pro",className:y()("maxi-cloud-container__content-svg-shape__button",(null==r?void 0:r.isRefined)&&" maxi-cloud-container__content-svg-shape__button___pressed"),value:"Pro",onClick:function(e){e.preventDefault(),a("Pro"),r.isRefined=!0}},(0,s.__)("Pro","maxi-blocks")))},le=function(e){var t=e.items,n=e.currentRefinement,a=e.refine;if((0,_.isEmpty)(t))return null;var r=[],i=function(e,n){var a=t.find((function(t){return t.label===e}));r[n]=a||{label:e,value:e,count:0,isRefined:!1}};return i("Filled",0),i("Shape",1),i("Line",2),(0,c.createElement)("div",{className:"top-Menu"},r.map((function(e){return(0,c.createElement)("button",{type:"button",key:e.label,className:y()("maxi-cloud-container__content-svg-shape__button",e.isRefined&&" maxi-cloud-container__content-svg-shape__button___pressed"),value:e.value,onClick:function(t){t.preventDefault(),ae(),a(e.value),e.isRefined=!0}},e.label)})),(0,c.createElement)("button",{type:"button",value:"",className:y()("maxi-cloud-container__content-svg-shape__button",(0,_.isEmpty)(n)&&" maxi-cloud-container__content-svg-shape__button___pressed"),onClick:function(e){e.preventDefault(),a(""),t[0].isRefined=!0}},(0,s.__)("All","maxi-blocks")))},se=function e(t){var n=t.items,a=t.refine,r=t.type,i=void 0===r?"firstLevel":r;return!(0,_.isEmpty)(n)&&(0,c.createElement)("ul",null,n.map((function(t){return(0,c.createElement)("li",{key:t.label,className:y()("ais-HierarchicalMenu-item","ais-HierarchicalMenu-item__".concat(i),"ais-HierarchicalMenu-item__".concat(t.label.replace(/\s+/g,"-").toLowerCase()),t.isRefined&&"ais-HierarchicalMenu-item--selected")},(0,c.createElement)("a",{href:"#",onClick:function(e){e.preventDefault(),"secondLevel"===i&&function(e){var t,n,a,r,i,c,o,l,s="a"===(null==e?void 0:e.target)?null==e||null===(t=e.currentTarget)||void 0===t||null===(n=t.parentNode)||void 0===n||null===(a=n.parentNode)||void 0===a||null===(r=a.parentNode)||void 0===r||null===(i=r.parentNode)||void 0===i?void 0:i.parentNode:null==e||null===(c=e.parentNode)||void 0===c||null===(o=c.parentNode)||void 0===o||null===(l=o.parentNode)||void 0===l?void 0:l.parentNode;if(!(0,_.isEmpty)(s)&&!s.classList.contains("maxi__hide-top-tags")){var u=null==s?void 0:s.childNodes;(0,_.isEmpty)(u)||(s.classList.add("maxi__hide-top-tags"),u.forEach((function(e){return e.classList.add("maxi__show-top-tag")})))}}(document.getElementsByClassName("ais-HierarchicalMenu-item__".concat(t.label.replace(/\s+/g,"-").toLowerCase()))[0]),"firstLevel"===i&&ae(),a(t.value)}},(0,c.createElement)("span",null,(0,c.createElement)("span",{className:"ais-HierarchicalMenu-item-arrow",visible:(0,_.isEmpty)(t.items)?"hide":"visible"},ee.V8Y),(0,_.unescape)(t.label)),(0,c.createElement)("span",null,t.count)),(0,c.createElement)("div",{className:"sub_menu-wrapper"},t.items&&(0,c.createElement)(e,{items:t.items,refine:a,type:"secondLevel"})))})))},ue=function(e){var t=e.items,n=e.refine,a=e.topMenu,r=void 0===a?1:a;return(0,c.createElement)("button",{type:"button",className:"ais-ClearRefinements-button ais-ClearRefinements-button".concat(t.length?"":"--disabled"),onClick:function(e){e.preventDefault(),n(t),ae();var a=document.querySelector(".maxi-cloud-container__patterns__top-menu .ais-Menu-list > .ais-Menu-item:nth-child(2):not(.ais-Menu-item--selected) a");null==a||a.click();var i=document.querySelector(".maxi-cloud-container__patterns__sidebar > .ais-Menu .ais-Menu-list > .ais-Menu-item:first-child:not(.ais-Menu-item--selected) a");null==i||i.click(),setTimeout((function(){var e=document.querySelector(".maxi-cloud-container__patterns__sidebar > ul .ais-HierarchicalMenu-item--selected > a");null==e||e.click();var t=1===r?document.querySelector(".top-Menu > button:first-child"):document.querySelector(".top-Menu > button:nth-child(".concat(r,")"));null==t||t.click()}),"100")},disabled:!t.length},(0,s.__)("Clear filters","maxi-blocks"))},me=function(e){var t=e.type,n=e.onRequestClose,o=e.blockStyle,p=e.onSelect,v=e.url,g=e.title,x=e.prefix,E=void 0===x?"":x,k=e.isMaxiProActive,C=e.onClickConnect,w=e.layerOrder,S=e.isInserting,Z=e.onInsert,M=(0,u.useSelect)((function(e){var t=e("core/block-editor"),n=t.isValidTemplate,a=(0,t.getSelectedBlockClientId)(),r=e("maxiBlocks/style-cards"),i=r.receiveMaxiStyleCards,c=r.receiveMaxiSelectedStyleCard,o=(0,r.receiveStyleCardsList)(),l=i(),s=c();return{styleCards:l,selectedSCKey:s.key,selectedSCValue:s.value,clientId:a,isValidTemplate:n,SCList:o}})),P=M.styleCards,L=M.selectedSCKey,T=M.selectedSCValue,A=M.clientId,q=M.isValidTemplate,F=M.SCList,O=(0,u.useDispatch)("maxiBlocks/style-cards"),D=O.saveMaxiStyleCards,H=O.setSelectedStyleCard;(0,c.useEffect)((function(){T&&(0,d.oK)(T)}),[L]);var Q=function(e){return new V.Z({server:{apiKey:"0DpJlIVm3kKOiQ9kAPTklrXrIbFLgWk6",nodes:[{host:"24q17endjv0kacilp.a1.typesense.net",port:"443",protocol:"https"}]},additionalSearchParameters:{query_by:e,sort_by:"post_date_int:desc"}})},ee=Q("post_title, post_number, category.lvl0, category.lvl1").searchClient,te=Q("post_title, sc_color").searchClient,ne=Q("post_title, svg_tag.lvl0, svg_tag.lvl1, svg_tag.lvl2, svg_category").searchClient,ae=(0,(0,u.select)("maxiBlocks").receiveMaxiSettings)(),me=null==ae?void 0:ae.swap_cloud_images,de=(0,c.useState)(me),pe=(0,i.Z)(de,2),_e=pe[0],ve=pe[1],fe=(0,u.useDispatch)("maxiBlocks").saveMaxiSetting;(0,c.useEffect)((function(){ve(me)}),[me]);var ge,he,be,xe=function(e){switch(e){case"button-icon":case"accordion-icon":case"accordion-icon-active":case"search-icon":case"video-icon-play":case"video-icon-close":case"navigation-icon":return"icon";case"sidebar-block-shape":case"bg-shape":return"shape";default:return e}},ye=function(e){var r,i=xe(t),l=e.svg_category[0],s=f(e.svg_code,i);return(0,c.createElement)(N,{type:"svg",target:t,key:"maxi-cloud-masonry__item-".concat(e.post_id),svgCode:s,isPro:"Pro"===(null===(r=e.cost)||void 0===r?void 0:r[0]),serial:e.post_title,onRequestInsert:function(){return function(e,r){var i=(0,u.select)("core/block-editor").getBlockAttributes(A),c=i.uniqueID,o=i.mediaID,l=i.mediaURL,s=i["background-layers"];if(q(e)){if("sidebar-block-shape"===t){var m=(0,a.Z)({},"".concat(c,"__").concat((0,_.uniqueId)()),{color:"",imageID:o,imageURL:l});p({shapeSVGElement:e,shapeSVGData:m}),n()}if("bg-shape"===t){var d=s.find((function(e){return e.order===w}))["background-svg-SVGData"],v=$().sanitize(function(e){var t=document.createElement("div");t.setAttribute("id","maxi-temporary-elem"),t.innerHTML=e.trim(),document.querySelector("body").append(t);var n=document.querySelector("#maxi-temporary-elem svg").getBBox(),a=document.querySelector("#maxi-temporary-elem svg");a.setAttribute("viewBox","".concat(n.x,", ").concat(n.y,", ").concat(n.width,", ").concat(n.height)),a.removeAttribute("width"),a.removeAttribute("height");var r=document.querySelector("#maxi-temporary-elem svg").outerHTML;return document.querySelector("#maxi-temporary-elem").remove(),r}(e)),f=document.createRange().createContextualFragment(v).firstElementChild,g=(0,a.Z)({},"".concat(c,"__").concat((0,_.uniqueId)()),{});g[Object.keys(g)[0]].color=d?d[Object.keys(d)[0]].color:"",g[Object.keys(g)[0]].imageID=d?d[Object.keys(d)[0]].imageID:"",g[Object.keys(g)[0]].imageURL=d?d[Object.keys(d)[0]].imageURL:"";var h=(0,b.sm)(f,g);p({"background-svg-SVGElement":h.outerHTML,"background-svg-SVGData":g}),n()}if("image-shape"===t){var x=(0,a.Z)({},"".concat(c,"__").concat((0,_.uniqueId)()),{color:"",imageID:o,imageURL:l}),y=e.replace(/width="(.*?)"/g,"").replace(/height="(.*?)"/g,""),k=$().sanitize(y),C=document.createRange().createContextualFragment(k).firstElementChild;p({SVGElement:(0,b.sm)(C,x).outerHTML,SVGData:x}),n()}var N;["button-icon","video-icon-play","video-icon-close","accordion-icon","search-icon","navigation-icon"].includes(t)&&(p((N={},(0,a.Z)(N,"".concat(E,"icon-content"),e),(0,a.Z)(N,"".concat(E,"svgType"),r),N)),n()),"accordion-icon-active"===t&&(p({"active-icon-content":e,"active-svgType":r}),n())}}(s,l)},currentItemColorStatus:"image-shape"!==t&&"bg-shape"!==t&&h(o,i)})},Ee=(0,U.Z)(oe),ke=(0,U.Z)(ce),Ce=(0,U.Z)(le),Ne=(0,G.Z)(se),we=(0,K.Z)(ue);return ge=I,he=100,be=(0,c.useRef)(ge),(0,R.useIsomorphicLayoutEffect)((function(){be.current=ge}),[ge]),(0,c.useEffect)((function(){if(he||0===he){var e=setInterval((function(){return be.current()}),he);return function(){return clearInterval(e)}}return function(){}}),[he]),S?(0,c.createElement)("div",{className:"maxi-cloud-container"},(0,c.createElement)(ie,null)):(0,c.createElement)("div",{className:"maxi-cloud-container"},"svg"===t&&(0,c.createElement)("div",{className:"maxi-cloud-container__svg-icon"},(0,c.createElement)(Y.Z,{indexName:"svg_icon",searchClient:ne},(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape__search-bar"},(0,c.createElement)(Ce,{className:"maxi-cloud-container__content-svg-shape__categories",attribute:"svg_category",defaultRefinement:"Filled",translations:{seeAllOption:(0,s.__)("All icons","maxi-blocks")}})),(0,c.createElement)(X.Z,{hitsPerPage:49}),(0,c.createElement)("div",{className:"maxi-cloud-container__svg-icon__sidebar"},(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),(0,c.createElement)(Ne,{attributes:["svg_tag.lvl0","svg_tag.lvl1"],limit:100}),(0,c.createElement)(we,null)),(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape"},(0,c.createElement)("div",{className:"maxi-cloud-container__svg-icon__content-svg-icon"},(0,c.createElement)(J.Z,{translations:re}),(0,c.createElement)(j,{hitComponent:function(e){var a,r=f(e.svg_code),i=e.svg_category[0],l=xe(t);return(0,c.createElement)(N,{type:"svg",target:i,key:"maxi-cloud-masonry__item-".concat(e.post_id),svgCode:r,isPro:"Pro"===(null===(a=e.cost)||void 0===a?void 0:a[0]),serial:e.post_title,onRequestInsert:function(){return function(e,t){var a=e.substr(e.indexOf("<style>")+7,e.indexOf("</style>")-e.indexOf("<style>")-7),r=e.match(/ class="(.+?(?=))"/)[1],i=a.replaceAll(r,"".concat(r,":hover")).replaceAll("icon-stroke","icon-stroke-hover").replaceAll("icon-fill","icon-fill-hover"),c=e.replace(a,a+i),o="".concat(r,"__").concat((0,_.uniqueId)()),l="".concat(r),s=f(c).replaceAll(l,o);q(s)&&(p({content:s}),p({svgType:t}),n())}(r,i)},currentItemColorStatus:h(o,l)})}}))))),(t.includes("shape")||t.includes("video-icon"))&&(0,c.createElement)(Y.Z,{indexName:"svg_icon",searchClient:ne},(0,c.createElement)(X.Z,{hitsPerPage:49}),(0,c.createElement)("div",{className:"maxi-cloud-container__svg-shape"},(0,c.createElement)("div",{className:"maxi-cloud-container__svg-shape__sidebar maxi-cloud-container__hide-categories"},t.includes("shape")&&(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),"video-icon-play"===t&&(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),defaultRefinement:"play",autoFocus:!0,searchAsYouType:!0,showLoadingIndicator:!0}),"video-icon-close"===t&&(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),defaultRefinement:"close",autoFocus:!0,searchAsYouType:!0}),(0,c.createElement)(Ne,{attributes:["svg_tag.lvl0","svg_tag.lvl1"],limit:100}),t.includes("shape")&&(0,c.createElement)(Ce,{className:"hidden",attribute:"svg_category",defaultRefinement:"Shape"}),(0,c.createElement)(we,{topMenu:2})),(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape"},t.includes("video-icon")&&(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape__search-bar"},(0,c.createElement)(Ce,{attribute:"svg_category",defaultRefinement:"Shape"})),(0,c.createElement)("div",{className:"maxi-cloud-container__sc__content-sc"},(0,c.createElement)(J.Z,{translations:re}),(0,c.createElement)(j,{hitComponent:ye}))))),("button-icon"===t||"navigation-icon"===t||"search-icon"===t||"accordion-icon"===t||"accordion-icon-active"===t)&&(0,c.createElement)(Y.Z,{indexName:"svg_icon",searchClient:ne},(0,c.createElement)(X.Z,{hitsPerPage:49}),(0,c.createElement)("div",{className:"maxi-cloud-container__svg-shape"},(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape__search-bar"},"search-icon"===t&&(0,c.createElement)(Ce,{className:"maxi-cloud-container__content-svg-shape__categories",attribute:"svg_category",defaultRefinement:"Shape",translations:{seeAllOption:(0,s.__)("All icons","maxi-blocks")}}),"search-icon"!==t&&(0,c.createElement)(Ce,{className:"maxi-cloud-container__content-svg-shape__categories",attribute:"svg_category",defaultRefinement:"Line",translations:{seeAllOption:(0,s.__)("All icons","maxi-blocks")}})),(0,c.createElement)("div",{className:"maxi-cloud-container__svg-shape__sidebar"},"search-icon"!==t&&(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),"search-icon"===t&&(0,c.createElement)(z.Z,{submit:(0,s.__)("Find","maxi-blocks"),defaultRefinement:"search",autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),(0,c.createElement)(Ne,{attributes:["svg_tag.lvl0","svg_tag.lvl1"],limit:100}),"search-icon"!==t&&(0,c.createElement)(we,{topMenu:3}),"search-icon"===t&&(0,c.createElement)(we,{topMenu:2})),(0,c.createElement)("div",{className:"maxi-cloud-container__content-svg-shape"},(0,c.createElement)("div",{className:"maxi-cloud-container__sc__content-sc"},(0,c.createElement)(J.Z,{translations:re}),(0,c.createElement)(j,{hitComponent:ye}))))),("preview"===t||"switch-tone"===t)&&(0,c.createElement)("div",{className:"maxi-cloud-container__patterns"},function(e,t){return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"maxi-cloud-container__preview-tablet__label",style:{display:"none"}},(0,s.__)("Tablet / iPad simulator | Viewport 768px x 1024px","maxi-blocks")),(0,c.createElement)("div",{className:"maxi-cloud-container__preview-mobile__label",style:{display:"none"}},(0,s.__)("Mobile / iPhone simulator | Viewport 390px x 844px","maxi-blocks")),(0,c.createElement)("div",{className:"maxi-cloud-container__preview-iframe_main-wrap"},(0,c.createElement)("div",{className:"maxi-cloud-container__preview-iframe_wrap"},(0,c.createElement)("div",null,(0,c.createElement)("iframe",{className:"maxi-cloud-container__preview-iframe",src:e,title:t,width:"100%",height:"100%"}))),(0,c.createElement)("div",{className:"maxi-cloud-container__preview-iframe_space"})))}(v,g)),"patterns"===t&&(0,c.createElement)("div",{className:"maxi-cloud-container__patterns"},(0,c.createElement)(Y.Z,{indexName:"post",searchClient:ee},(0,c.createElement)(X.Z,{hitsPerPage:20}),(0,c.createElement)("div",{className:"maxi-cloud-container__patterns__top-menu"},(0,c.createElement)(W.Z,{attribute:"gutenberg_type",defaultRefinement:"Patterns",transformItems:function(e){var t=function(t){return e.find((function(e){return e.label===t}))||{label:t,value:t,count:0,isRefined:!1}},n=[];return n.push(t("Patterns")),e.find((function(e){return"Blocks"===e.label}))&&n.push(t("Blocks")),n.push(t("Pages")),n.push(t("Playground")),n}})),(0,c.createElement)("div",{className:"maxi-cloud-container__patterns__sidebar"},(0,c.createElement)(Ee,{className:"maxi-cloud-container__content-patterns__cost",attribute:"cost"}),(0,c.createElement)(W.Z,{attribute:"light_or_dark",transformItems:function(e){var t=function(t){var n=e.find((function(e){return e.label===t}));return n?(n.label=t,n):{label:t,value:t,count:0,isRefined:!1}},n=[];return n.push(t("Light")),n.push(t("Dark")),n}}),(0,c.createElement)(z.Z,{autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),(0,c.createElement)((function(){return(0,c.createElement)(m.CheckboxControl,{className:"use-placeholder-all-images",label:(0,s.__)("Swap stock images for placeholders to save disk space","maxi-blocks"),checked:_e,onChange:function(e){ve(e),fe("swap_cloud_images",e)}})}),null),(0,c.createElement)(Ne,{attributes:["category.lvl0","category.lvl1"],limit:100}),(0,c.createElement)("div",{className:"ais-ClearRefinements"},(0,c.createElement)("button",{type:"button",className:"ais-ClearRefinements-button",onClick:function(e){e.preventDefault();var t=document.querySelector(".maxi-cloud-container__patterns__top-menu .ais-Menu-list > .ais-Menu-item:first-child:not(.ais-Menu-item--selected) a");null==t||t.click();var n=document.querySelector(".maxi-cloud-container__patterns__sidebar > .ais-Menu .ais-Menu-list > .ais-Menu-item:first-child:not(.ais-Menu-item--selected) a");null==n||n.click(),setTimeout((function(){var e=document.querySelector(".top-Menu > button:first-child");null==e||e.click();var t=document.querySelector(".maxi-cloud-container__patterns__sidebar > ul .ais-HierarchicalMenu-item--selected > a");null==t||t.click()}),"100")}},(0,s.__)("Clear filters","maxi-blocks")))),(0,c.createElement)("div",{className:"maxi-cloud-container__patterns__content-patterns"},(0,c.createElement)(J.Z,{translations:re}),(0,c.createElement)(j,{hitComponent:function(e){var t,n,a,i,o,s,u="Patterns"===(null==e||null===(t=e.gutenberg_type)||void 0===t?void 0:t[0]);return(0,c.createElement)(N,{type:"patterns",target:"patterns",key:"maxi-cloud-masonry__item-".concat(e.post_id),className:y()("Pro"===(null===(n=e.cost)||void 0===n?void 0:n[0])?"ais-InfiniteHits-item-pro":"ais-InfiniteHits-item-free",e.post_title.length>23&&"maxi-modal-long-title"),title:e.post_title,demoUrl:e.demo_url,previewIMG:e.preview_image_url,cost:null===(a=e.cost)||void 0===a?void 0:a[0],isBeta:null===(i=e.post_tag)||void 0===i?void 0:i.includes("Beta"),isPro:"Pro"===(null===(o=e.cost)||void 0===o?void 0:o[0]),taxonomies:null===(s=e.category)||void 0===s?void 0:s[0],toneUrl:u?e.link_to_related:null,gutenbergCode:e.gutenberg_code,isSwapChecked:_e,onSelect:p,isMaxiProActive:k,onClickConnect:C,onRequestInsert:(0,r.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.next=3,(0,B.Z)(e.gutenberg_code,_e,A);case 3:case"end":return t.stop()}}),t)})))})}})))),"sc"===t&&(0,c.createElement)("div",{className:"maxi-cloud-container__sc"},(0,c.createElement)(Y.Z,{indexName:"style_card",searchClient:te},(0,c.createElement)(X.Z,{hitsPerPage:9}),(0,c.createElement)("div",{className:"maxi-cloud-container__sc__sidebar"},(0,c.createElement)(z.Z,{autoFocus:!0,searchAsYouType:!0,reset:"X",translations:{resetTitle:"Clear"}}),(0,c.createElement)(ke,{attribute:"sc_color",limit:100,transformItems:function(e){return(0,_.orderBy)(e,"label","asc")}}),(0,c.createElement)(we,null)),(0,c.createElement)("div",{className:"maxi-cloud-container__sc__content-sc"},(0,c.createElement)(J.Z,{translations:re}),(0,c.createElement)(j,{hitComponent:function(e){var t,r=F.map((function(e){return e.label})).includes(e.post_title);return(0,c.createElement)(N,{type:"sc",target:"style-cards",key:"maxi-cloud-masonry__item-".concat(e.post_id),previewIMG:e.post_thumbnail,isPro:"Pro"===(null===(t=e.cost)||void 0===t?void 0:t[0]),serial:e.post_title,onRequestInsert:function(){var t,i,c,o;!r&&(t=e.sc_code,i=JSON.parse(t),c="sc_".concat(i.name.toLowerCase()),o=Object.assign({},P,(0,a.Z)({},c,Object.assign({},i,{gutenberg_blocks_status:!0}))),D(o),(0,d.oK)(i),H(c),n())},isSaved:r})}})))))}},41372:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(70885),r=n(4942),i=n(15861),c=n(11284),o=n.n(c),l=n(65736),s=n(4981),u=n(9818),m=n(58141),d=n(92819),p=function(){var e=(0,i.Z)(o().mark((function e(){var t,n,r,i,c,s,p,_,v,f,g,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,u.resolveSelect)("core"),i=r.getEntityRecords,e.next=4,i("postType","attachment",{post_status:"inherit",posts_per_page:1,search:"maxi-pattern-placeholder"});case 4:if(c=e.sent,(0,d.isEmpty)(c)){e.next=7;break}return e.abrupt("return",{id:c[0].id,url:c[0].media_details.sizes.full.source_url});case 7:return e.next=9,(0,u.resolveSelect)("maxiBlocks").receiveMaxiSettings();case 9:return s=e.sent,p=s.placeholder_url,e.next=13,fetch(p).then((function(e){return e.blob()})).catch((function(e){return console.warn((0,l.__)("The Cloud server is down, using the placeholder image. Error: ".concat(e),"maxi-blocks")),!1}));case 13:return _=e.sent,v=!1,e.next=17,i("taxonomy","maxi-image-type");case 17:return f=e.sent,g=f[0].id,e.next=21,(0,m.uploadMedia)({filesList:[new File([_],"maxi-pattern-placeholder.jpg",{type:"image/jpeg"})],onFileChange:function(e){var t=(0,a.Z)(e,1);v=t[0]},onError:function(e){return console.warn((0,l.__)("Can't upload the placeholder image, check directory's permissions. Error: ".concat(e),"maxi-blocks"))}});case 21:return h=""===(null===(t=v)||void 0===t?void 0:t.comment_status)?"closed":null===(n=v)||void 0===n?void 0:n.comment_status,(0,u.dispatch)("core").saveEntityRecord("postType","attachment",Object.assign({},v,{"maxi-image-type":g,comment_status:h}),{throwOnError:!0}),e.abrupt("return",v);case 26:e.prev=26,e.t0=e.catch(0),console.error((0,l.__)("Error uploading the placeholder image: ".concat(e.t0),"maxi-blocks"));case 29:return e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=e.substring(e.lastIndexOf("/")+1),n=t.split(".").pop(),a={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"}[n.toLowerCase()];return{title:t.replace(".".concat(n),""),fileName:t,mimeType:a}},v=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,i,c,s,v,f,g,h,b,x,y,E,k,C,N,w,S,I,R,Z;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",p());case 2:return r=(0,u.resolveSelect)("core"),i=r.getEntityRecords,c=_(t),s=c.title,v=c.fileName,f=c.mimeType,e.next=6,i("postType","attachment",{post_status:"inherit",search:s,exact:!0});case 6:if(g=e.sent,(0,d.isEmpty)(g)){e.next=20;break}if(0!==g.length){e.next=10;break}return e.abrupt("return",p());case 10:if(1!==g.length){e.next=15;break}C=(0,a.Z)(g,1),k=C[0],e.next=19;break;case 15:if(-1!==(N=g.findIndex((function(e){var t=e.title.raw;return t===s||t==="".concat(s,"-1")})))){e.next=18;break}return e.abrupt("return",p());case 18:k=g[N];case 19:return e.abrupt("return",{id:k.id,url:null!==(h=null===(b=k)||void 0===b||null===(x=b.media_details)||void 0===x||null===(y=x.sizes)||void 0===y||null===(E=y.full)||void 0===E?void 0:E.source_url)&&void 0!==h?h:k.guid.rendered});case 20:return e.next=22,fetch(t).then((function(e){return e.blob()})).catch((function(e){return console.warn((0,l.__)("The Cloud server is down, using the placeholder image. Error: ".concat(e),"maxi-blocks")),!1}));case 22:if(w=e.sent){e.next=25;break}return e.abrupt("return",p());case 25:return S=!1,e.next=28,i("taxonomy","maxi-image-type");case 28:return I=e.sent,R=I[0].id,e.next=32,(0,m.uploadMedia)({filesList:[new File([w],v,{type:f})],onFileChange:function(e){var t=(0,a.Z)(e,1);S=t[0]},onError:function(e){return console.warn((0,l.__)("The original image not found (404) on the Cloud Site, using the placeholder image. Error: ".concat(e.code,", ").concat(e.message),"maxi-blocks"))}});case 32:return Z=""===S.comment_status?"closed":S.comment_status,(0,u.dispatch)("core").saveEntityRecord("postType","attachment",Object.assign({},S,{"maxi-image-type":R,comment_status:Z}),{throwOnError:!0}),e.abrupt("return",S);case 35:case"end":return e.stop()}}),e)})));return function(_x,t){return e.apply(this,arguments)}}(),f=v,g=function(){var e=(0,i.Z)(o().mark((function e(t,n){var a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,u.dispatch)("core/block-editor"),r=a.replaceBlock,i=(0,s.rawHandler)({HTML:t,mode:"BLOCKS"}),r(n,i);case 3:case"end":return e.stop()}}),e)})));return function(_x,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)(o().mark((function e(t,n,c){var s,m,_,v,h,b,x,y,E,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.resolveSelect)("core/block-editor").isValidTemplate(t);case 2:if(!e.sent){e.next=39;break}if(s=[],m=[],_=/(mediaID|imageID)":(.*)",/g,null==(v=t.match(_))||v.forEach((function(e){var t,n,a=e.replace(/\\/g,""),r=null==a||null===(t=a.match(/(mediaID|imageID)":(\d+),/g))||void 0===t?void 0:t.map((function(e){return e.match(/\d+/)[0]}));(0,d.isEmpty)(r)||m.push.apply(m,r);var i=null==a||null===(n=a.match(/(mediaURL|imageURL)":"([^"]+)"/g))||void 0===n?void 0:n.map((function(e){return e.split(/:(.+)/,2)[1].replace(/"/g,"")}));(0,d.isEmpty)(i)||s.push.apply(s,i)})),(0,d.isEmpty)(s)||(0,d.isEmpty)(m)){e.next=36;break}if(h=t,b=(0,d.uniq)(s),x=(0,d.uniq)(m),y=b.length,E=x.length,y===E){e.next=19;break}return console.error((0,l.__)("Error processing images' links and ids - counts do not match","maxi-blocks")),g(t,c),e.abrupt("return");case 19:if(k=x.reduce((function(e,t,n){return Object.assign({},e,(0,r.Z)({},t,b[n]))}),{}),!n){e.next=26;break}return e.next=23,p();case 23:e.t0=e.sent,e.next=27;break;case 26:e.t0=null;case 27:return C=e.t0,e.next=30,Promise.all(Object.entries(k).map(function(){var e=(0,i.Z)(o().mark((function e(t){var r,i,c,l,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(0,a.Z)(t,2),l=c[0],s=c[1],!n){e.next=5;break}e.t0=C,e.next=8;break;case 5:return e.next=7,f(s,n);case 7:e.t0=e.sent;case 8:return C=e.t0,e.abrupt("return",{id:null===(r=C)||void 0===r?void 0:r.id,oldId:l,url:null===(i=C)||void 0===i?void 0:i.url,oldUrl:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 30:return e.sent.forEach((function(e){var t=e.id,n=e.oldId,a=e.url,r=e.oldUrl;h=(h=h.replaceAll(r,a)).replaceAll(n,t)})),e.next=34,g(h,c);case 34:e.next=37;break;case 36:g(t,c);case 37:e.next=40;break;case 39:console.error((0,l.__)("The Code is not valid","maxi-blocks"));case 40:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),b=h},99964:function(){}}]);