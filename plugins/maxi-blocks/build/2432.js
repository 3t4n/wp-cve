"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[2432],{62432:function(e,n,t){t.r(n);var o=t(4942),r=t(70885),a=t(69307),u=(t(99196),t(65736)),l=t(94333),s=t(9818),i=t(92819),c=t(94184),m=t.n(c),p=t(40684),f=t(62522),h=t(69663),b=t(10138),g=t(5931),d=(0,p.ZP)((function(){return Promise.resolve().then(t.bind(t,59017))})),v=(0,p.ZP)((function(){return Promise.resolve().then(t.bind(t,87570))})),k=(0,p.ZP)((function(){return Promise.resolve().then(t.bind(t,46006))}));n.default=function e(n){var t=n.clientId,c=n.onChange,p=n.breakpoint,E=n.repeaterStatus,N=n.repeaterRowClientId,_=n.getInnerBlocksPositions,C=n.toolbar,w=void 0!==C&&C,P=(0,a.useState)((0,i.isNil)(n["row-pattern-general"])?1:(0,f.o8)(n["row-pattern-general"])),I=(0,r.Z)(P,2),M=I[0],y=I[1],R=(0,a.useState)([]),S=(0,r.Z)(R,2),T=S[0],Z=S[1],x=(0,l.useInstanceId)(e);(0,a.useEffect)((function(){var e=E&&t===N;Z(w?(0,f.uR)(e):(0,f.uR)(e,p,M))}),[p,M]),(0,a.useEffect)((function(){n["row-pattern-general"]&&y((0,f.o8)(n["row-pattern-general"]))}),[p,n["row-pattern-general"]]);var z=m()("components-column-pattern__template-button",w&&"components-column-pattern__template-button--toolbar");return(0,a.createElement)("div",{className:"components-column-pattern"},!w&&"general"===p&&(0,a.createElement)(d,{label:(0,u.__)("Number of columns","maxi-blocks"),value:M,defaultValue:M,onChangeValue:function(e){return y(e)},min:1,maxRange:8,disableReset:!0}),(0,a.createElement)("div",{className:"components-column-pattern__templates"},T.map((function(e){return e.isMoreThanEightColumns&&"general"!==p?null:(0,a.createElement)(v,{key:(0,i.uniqueId)("components-column-pattern--".concat(x,"--")),className:z+(e.isMoreThanEightColumns?" components-column-pattern-apply_settings":""),"aria-pressed":(0,i.isEqual)((m=[],(0,(0,s.select)("core/block-editor").getBlock)(t).innerBlocks.forEach((function(e){m.push((0,h.OR)({target:"column-size",breakpoint:p,attributes:e.attributes}))})),m),(e.isMoreThanEightColumns?Array(M).fill(100/M):(r=e.sizes,u=[],l=function(e){var n=[],t=0,o=0,r=1;return e.forEach((function(e){t+=e,o+=1,n.push({rowNumber:r}),Math.round(100*t+Number.EPSILON)/100==1&&(n.forEach((function(e){e.columnsNumber||(e.columnsNumber=o)})),r+=1,t=0,o=0)})),n}(r),r.forEach((function(e,n){l[n].columnsNumber>1&&u.push(100*r[n]),1===l[n].columnsNumber&&u.push(100)})),u)).map((function(e){return(0,i.floor)(e,2)}))),onClick:function(){(0,f.Hu)(e.name,t,p,M,E);var r=(0,h.kD)({target:"row-pattern",props:n,breakpoint:p}),a=e.isMoreThanEightColumns?M.toString():e.name;if(E){var u,l,i,m,d=_();(null!==(u=null===(l=(0,f.yf)(r))||void 0===l?void 0:l.sizes.length)&&void 0!==u?u:Number(r))<(null!==(i=null===(m=(0,f.yf)(a))||void 0===m?void 0:m.sizes.length)&&void 0!==i?i:Number(a))&&t===N?(0,b.z6)(N,d):t!==N&&(d[(0,g.TF)(t,d)].forEach((function(e){e!==t&&(0,f.Hu)(a,e,p,M,E,E)})),(0,(0,s.dispatch)("core/block-editor").__unstableMarkNextChangeAsNotPersistent)())}c((0,o.Z)({},(0,h.m2)("row-pattern",!1,null,p),a))}},e.isMoreThanEightColumns?"Apply Setting":(0,a.createElement)(k,{className:"components-column-pattern__icon",icon:e.icon}));var r,u,l,m}))))}}}]);