"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[2320,3035],{12320:function(e,t,o){o.r(t);var n=o(69307),i=(o(99196),o(65736)),r=o(9818),l=o(94184),a=o.n(l),c=o(13035),s=o(87570),u=o(19848);t.default=function(){var e,t=(0,r.useDispatch)("core/block-editor"),o=t.removeBlock,l=t.duplicateBlocks,d=(0,r.useSelect)((function(e){var t=wp.data.select("core/block-editor").getSelectedBlockClientId(),o=e("core/block-editor").getBlocks(t);return{innerBlocks:o,innerBlockCount:(null==o?void 0:o.length)||0}})),m=d.innerBlocks,f=d.innerBlockCount,v=((e=Object.values(m)).forEach((function(t,o){e[o]=null==t?void 0:t.clientId})),e);return(0,n.createElement)(c.default,{className:"toolbar-item__slide",tooltip:(0,i.__)("Add/Remove slides","maxi-blocks"),icon:u.LVq},(0,n.createElement)("div",{className:"toolbar-item__slide__popover"},Array.from(Array(f).keys()).map((function(e){return(0,n.createElement)("div",{className:a()("maxi-slider-toolbar__slide","maxi-slider-toolbar__slide--".concat(e),0===e&&" maxi-slider-toolbar__slide--active"),key:"maxi-slider-toolbar__slide--".concat(e)},(0,n.createElement)("span",null,e+1),(0,n.createElement)(s.default,{className:a()("maxi-slider-toolbar__slide--".concat(e),"maxi-slider-toolbar__slide-remove"),showTooltip:"false",onClick:function(){var t=v[e];o(t)},icon:u.mm9}))})),(0,n.createElement)(s.default,{className:a()("maxi-slider-toolbar__slide","maxi-slider-toolbar__slide--add"),showTooltip:"false",onClick:function(){var e=v[v.length-1];l([e],!1)}},(0,n.createElement)("span",null,"+"))))}},13035:function(e,t,o){o.r(t);var n=o(15671),i=o(43144),r=o(97326),l=o(60136),a=o(82963),c=o(61120),s=o(4942),u=o(69307),d=(o(99196),o(65736)),m=o(55609),f=o(9818),v=o(94184),p=o.n(v),h=o(92819),_=o(40684),b=o(88442),k=o(19848),x=o(19693);var y=(0,_.ZP)((function(){return Promise.resolve().then(o.bind(o,87570))})),E=(0,_.ZP)((function(){return Promise.resolve().then(o.bind(o,46006))})),C=(0,_.ZP)((function(){return Promise.resolve().then(o.bind(o,39909))})),g=function(e){(0,l.Z)(_,e);var t,o,v=(t=_,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(o){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function _(){var e;(0,n.Z)(this,_);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=v.call.apply(v,[this].concat(o)),(0,s.Z)((0,r.Z)(e),"state",{isOpen:!1,onClose:function(){e.setState({isOpen:!1})}}),e.ref=(0,u.createRef)(),e}return(0,i.Z)(_,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){var t,o,n=e.path||e.composedPath&&e.composedPath();this.mounted&&((null===(t=this.ref.current)||void 0===t?void 0:t.ownerDocument.querySelectorAll(".toolbar-item__popover").length)>=2||n&&!n.includes(null===(o=this.ref.current)||void 0===o?void 0:o.ownerDocument.querySelector(".toolbar-item__popover"))&&!n.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){var e=this.state.isOpen,t=this.ref.current.ownerDocument.defaultView;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){var e,t,o=this,n=this.props,i=n.text,r=n.className,l=n.tooltip,a=n.icon,c=n.children,s=n.advancedOptions,v=void 0!==s&&s,_=n.tab,g=void 0===_?0:_,Z=n.position,w=void 0===Z?"top center":Z,B=n.disabled,O=void 0!==B&&B,P=this.state,N=P.isOpen,A=P.onClose,R=p()("toolbar-item","toolbar-item__button",r),S=(0,(0,f.select)("maxiBlocks").receiveMaxiSettings)().hide_tooltips,D=!(0,h.isEmpty)(S)&&S,T=function(){return(0,u.createElement)(y,{className:R,onClick:function(){return o.onToggle()},"aria-expanded":N,action:"popup",disabled:O},(0,u.createElement)(E,{className:"toolbar-item__icon",icon:a}),(0,d.__)(i,"maxi-blocks"))};return(0,u.createElement)("div",{ref:this.ref},(0,u.createElement)(x.Z.Provider,{value:this.state},!D&&(0,u.createElement)(m.Tooltip,{text:l,placement:"top"},T()),D&&T(),N&&c&&(0,u.createElement)(C,{anchor:null===(e=this.ref)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:A,position:w,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!v&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,u.createElement)("div",null,c),!!v&&(0,u.createElement)(y,{className:"toolbar-item__popover__advanced-button",icon:k.vV$,onClick:function(){(0,b.RB)(g,v)}}))))}}]),_}(u.Component);t.default=g},19693:function(e,t,o){var n=(0,o(69307).createContext)();t.Z=n}}]);