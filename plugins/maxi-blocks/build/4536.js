"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[4536,3035],{14536:function(t,e,o){o.r(e);var n=o(69307),i=(o(99196),o(65736)),l=o(13035),c=o(47561),a=o(38207),r=o(19848),s=o(69663),u=o(23543);e.default=function(t){var e=t.blockName,o=t.onChangeInline,p=t.onChange,f=t.svgType,m=t.blockStyle;return"maxi-blocks/button-maxi"!==e?null:(0,n.createElement)(l.default,{className:"toolbar-item__background",tooltip:(0,i.__)("Icon Colour","maxi-blocks"),position:"bottom center",icon:r.d_$,advancedOptions:"icon"},(0,n.createElement)("div",{className:"toolbar-item__icon-color__popover"},(0,n.createElement)(a.default,{label:(0,i.__)("Inherit colour/background from button","maxi-blocks"),selected:t["icon-inherit"],onChange:function(t){p({"icon-inherit":t})}}),t["icon-inherit"]?(0,n.createElement)("p",{className:"toolbar-item__icon-color__popover__warning"},(0,i.__)("Icon colour is inheriting from button.","maxi-button")):(0,n.createElement)(n.Fragment,null,"Shape"!==f&&(0,n.createElement)(c.default,{label:(0,i.__)("Icon stroke","maxi-blocks"),color:t["icon-stroke-color"],prefix:"icon-stroke-",paletteColor:t["icon-stroke-palette-color"],paletteStatus:t["icon-stroke-palette-status"],paletteSCStatus:t["icon-stroke-palette-sc-status"],onChangeInline:function(t){var e=t.color;return o({stroke:e},"[data-stroke]")},onChange:function(e){var o=e.color,n=e.paletteColor,i=e.paletteStatus,l=e.paletteSCStatus,c=(0,s.zL)({firstVar:"icon-stroke",secondVar:"color-".concat(n),opacity:t["icon-stroke-palette-opacity"],blockStyle:m});p({"icon-stroke-color":o,"icon-stroke-palette-color":n,"icon-stroke-palette-status":i,"icon-stroke-palette-sc-status":l,"icon-content":(0,u.Xj)(t["icon-content"],i?c:o,"stroke")},"[data-stroke]")},disableOpacity:!0}),"Line"!==f&&(0,n.createElement)(c.default,{label:(0,i.__)("Icon fill","maxi-blocks"),color:t["icon-fill-color"],prefix:"icon-fill-",paletteColor:t["icon-fill-palette-color"],paletteStatus:t["icon-fill-palette-status"],paletteSCStatus:t["icon-fill-palette-sc-status"],onChangeInline:function(t){var e=t.color;return o({fill:e},"[data-fill]")},onChange:function(e){var o=e.color,n=e.paletteColor,i=e.paletteStatus,l=e.paletteSCStatus,c=(0,s.zL)(l?{firstVar:"color-".concat(n),opacity:t["icon-fill-palette-opacity"],blockStyle:m}:{firstVar:"icon-fill",secondVar:"color-".concat(n),opacity:t["icon-fill-palette-opacity"],blockStyle:m});p({"icon-fill-color":o,"icon-fill-palette-color":n,"icon-fill-palette-status":i,"icon-fill-palette-sc-status":l,"icon-content":(0,u.Xj)(t["icon-content"],i?c:o,"fill")},"[data-fill]")},disableOpacity:!0}))))}},13035:function(t,e,o){o.r(e);var n=o(15671),i=o(43144),l=o(97326),c=o(60136),a=o(82963),r=o(61120),s=o(4942),u=o(69307),p=(o(99196),o(65736)),f=o(55609),m=o(9818),d=o(94184),h=o.n(d),v=o(92819),b=o(40684),k=o(88442),_=o(19848),y=o(19693);var C=(0,b.ZP)((function(){return Promise.resolve().then(o.bind(o,87570))})),S=(0,b.ZP)((function(){return Promise.resolve().then(o.bind(o,46006))})),g=(0,b.ZP)((function(){return Promise.resolve().then(o.bind(o,39909))})),x=function(t){(0,c.Z)(b,t);var e,o,d=(e=b,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,r.Z)(e);if(o){var i=(0,r.Z)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)});function b(){var t;(0,n.Z)(this,b);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=d.call.apply(d,[this].concat(o)),(0,s.Z)((0,l.Z)(t),"state",{isOpen:!1,onClose:function(){t.setState({isOpen:!1})}}),t.ref=(0,u.createRef)(),t}return(0,i.Z)(b,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(t){var e,o,n=t.path||t.composedPath&&t.composedPath();this.mounted&&((null===(e=this.ref.current)||void 0===e?void 0:e.ownerDocument.querySelectorAll(".toolbar-item__popover").length)>=2||n&&!n.includes(null===(o=this.ref.current)||void 0===o?void 0:o.ownerDocument.querySelector(".toolbar-item__popover"))&&!n.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){var t=this.state.isOpen,e=this.ref.current.ownerDocument.defaultView;t?e.removeEventListener("click",this.onClickOutside.bind(this),!1):e.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!t})}},{key:"render",value:function(){var t,e,o=this,n=this.props,i=n.text,l=n.className,c=n.tooltip,a=n.icon,r=n.children,s=n.advancedOptions,d=void 0!==s&&s,b=n.tab,x=void 0===b?0:b,E=n.position,O=void 0===E?"top center":E,Z=n.disabled,P=void 0!==Z&&Z,w=this.state,N=w.isOpen,I=w.onClose,R=h()("toolbar-item","toolbar-item__button",l),V=(0,(0,m.select)("maxiBlocks").receiveMaxiSettings)().hide_tooltips,A=!(0,v.isEmpty)(V)&&V,L=function(){return(0,u.createElement)(C,{className:R,onClick:function(){return o.onToggle()},"aria-expanded":N,action:"popup",disabled:P},(0,u.createElement)(S,{className:"toolbar-item__icon",icon:a}),(0,p.__)(i,"maxi-blocks"))};return(0,u.createElement)("div",{ref:this.ref},(0,u.createElement)(y.Z.Provider,{value:this.state},!A&&(0,u.createElement)(f.Tooltip,{text:c,placement:"top"},L()),A&&L(),N&&r&&(0,u.createElement)(g,{anchor:null===(t=this.ref)||void 0===t||null===(e=t.current)||void 0===e?void 0:e.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:I,position:O,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!d&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,u.createElement)("div",null,r),!!d&&(0,u.createElement)(C,{className:"toolbar-item__popover__advanced-button",icon:_.vV$,onClick:function(){(0,k.RB)(x,d)}}))))}}]),b}(u.Component);e.default=x},19693:function(t,e,o){var n=(0,o(69307).createContext)();e.Z=n}}]);