"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[8945,3035],{58945:function(t,e,n){n.r(e);var o=n(69307),i=(n(99196),n(65736)),r=n(87570),l=n(13035),s=n(27119),a=n(42964),c=n(92819),u=n(19848);e.default=function(t){var e=t.blockName,n=t.isList,m=t.typeOfList,p=t.onChange,f=t.content,d=t.wpVersion;if("maxi-blocks/text-maxi"!==e)return null;var v=(0,o.useContext)(s.HP).formatValue,_=function(t,e){return n?(0,s.oK)(t):(0,s.OZ)(t,e)},h=function(t){var e="";"indent"===t&&(e=(0,a.A7)(v,{type:m})),"outdent"===t&&(e=(0,a.tK)(v));var n=(0,a.Jz)({value:e,multilineTag:"li"});p({isList:!0,typeOfList:m,content:n})},b=function(t){var e=d<6.4?(0,s.EA)({formatValue:v,isList:n}):f,o={isList:!n,typeOfList:t,content:_(e,d)},i={isList:n,typeOfList:t,content:e};d>=6.4&&(o.listStyle="ol"===t?"decimal":"disc",i.listStyle="ol"===t?"decimal":"disc"),p(n&&m!==t?i:o)};return(0,o.createElement)(l.default,{className:"toolbar-item__list-options",tooltip:(0,i.__)("List styles","maxi-blocks"),icon:u.qgA},(0,o.createElement)("div",{className:"toolbar-item__popover__list-options"},(0,o.createElement)(r.default,{className:"toolbar-item__popover__list-options__button",onClick:function(){return t=d<6.4?(0,s.EA)({formatValue:v,isList:n}):f,void(n&&p({isList:!1,content:_(t,d)}));var t},"aria-pressed":!n},(0,i.__)("P","maxi-blocks")),(0,o.createElement)(r.default,{className:"toolbar-item__popover__list-options__button",icon:u.ilW,onClick:function(){return b("ol")},"aria-pressed":n&&"ol"===m}),(0,o.createElement)(r.default,{className:"toolbar-item__popover__list-options__button",icon:u.qgA,onClick:function(){return b("ul")},"aria-pressed":n&&"ul"===m}),n&&!(0,c.isEmpty)(v)&&v.formats&&(0,o.createElement)(o.Fragment,null,(0,a.Ay)(v)&&(0,o.createElement)(r.default,{className:"toolbar-item__popover__list-options__button",icon:u.yee,onClick:function(){return h("outdent")}}),(0,a.$_)(v)&&(0,o.createElement)(r.default,{className:"toolbar-item__popover__list-options__button",icon:u.zAl,onClick:function(){return h("indent")}}))))}},13035:function(t,e,n){n.r(e);var o=n(15671),i=n(43144),r=n(97326),l=n(60136),s=n(82963),a=n(61120),c=n(4942),u=n(69307),m=(n(99196),n(65736)),p=n(55609),f=n(9818),d=n(94184),v=n.n(d),_=n(92819),h=n(40684),b=n(88442),k=n(19848),y=n(19693);var E=(0,h.ZP)((function(){return Promise.resolve().then(n.bind(n,87570))})),C=(0,h.ZP)((function(){return Promise.resolve().then(n.bind(n,46006))})),x=(0,h.ZP)((function(){return Promise.resolve().then(n.bind(n,39909))})),L=function(t){(0,l.Z)(h,t);var e,n,d=(e=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,a.Z)(e);if(n){var i=(0,a.Z)(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return(0,s.Z)(this,t)});function h(){var t;(0,o.Z)(this,h);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=d.call.apply(d,[this].concat(n)),(0,c.Z)((0,r.Z)(t),"state",{isOpen:!1,onClose:function(){t.setState({isOpen:!1})}}),t.ref=(0,u.createRef)(),t}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(t){var e,n,o=t.path||t.composedPath&&t.composedPath();this.mounted&&((null===(e=this.ref.current)||void 0===e?void 0:e.ownerDocument.querySelectorAll(".toolbar-item__popover").length)>=2||o&&!o.includes(null===(n=this.ref.current)||void 0===n?void 0:n.ownerDocument.querySelector(".toolbar-item__popover"))&&!o.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){var t=this.state.isOpen,e=this.ref.current.ownerDocument.defaultView;t?e.removeEventListener("click",this.onClickOutside.bind(this),!1):e.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!t})}},{key:"render",value:function(){var t,e,n=this,o=this.props,i=o.text,r=o.className,l=o.tooltip,s=o.icon,a=o.children,c=o.advancedOptions,d=void 0!==c&&c,h=o.tab,L=void 0===h?0:h,O=o.position,g=void 0===O?"top center":O,Z=o.disabled,A=void 0!==Z&&Z,N=this.state,P=N.isOpen,w=N.onClose,S=v()("toolbar-item","toolbar-item__button",r),R=(0,(0,f.select)("maxiBlocks").receiveMaxiSettings)().hide_tooltips,V=!(0,_.isEmpty)(R)&&R,q=function(){return(0,u.createElement)(E,{className:S,onClick:function(){return n.onToggle()},"aria-expanded":P,action:"popup",disabled:A},(0,u.createElement)(C,{className:"toolbar-item__icon",icon:s}),(0,m.__)(i,"maxi-blocks"))};return(0,u.createElement)("div",{ref:this.ref},(0,u.createElement)(y.Z.Provider,{value:this.state},!V&&(0,u.createElement)(p.Tooltip,{text:l,placement:"top"},q()),V&&q(),P&&a&&(0,u.createElement)(x,{anchor:null===(t=this.ref)||void 0===t||null===(e=t.current)||void 0===e?void 0:e.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:w,position:g,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!d&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,u.createElement)("div",null,a),!!d&&(0,u.createElement)(E,{className:"toolbar-item__popover__advanced-button",icon:k.vV$,onClick:function(){(0,b.RB)(L,d)}}))))}}]),h}(u.Component);e.default=L},19693:function(t,e,n){var o=(0,n(69307).createContext)();e.Z=o}}]);