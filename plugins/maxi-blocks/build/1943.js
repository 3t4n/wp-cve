"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[1943],{1943:function(e,t,n){n.r(t);var c=n(15861),o=n(70885),a=n(69307),l=(n(99196),n(11284)),r=n.n(l),s=n(65736),i=n(92819),m=n(94184),_=n.n(m),u=n(40684),d=n(21278),f=n(19848),p=(0,u.ZP)((function(){return Promise.resolve().then(n.bind(n,87570))})),b=(0,u.ZP)((function(){return Promise.resolve().then(n.bind(n,26141))})),x=(0,u.ZP)((function(){return n.e(7838).then(n.bind(n,37838))})),E=(0,u.ZP)((function(){return Promise.resolve().then(n.bind(n,46006))}));t.default=function(e){var t=e.result,n=e.isSelected,l=e.isSelectedText,m=e.modifyOption,u=e.customValue,k=e.AISettingsLanguage,v=e.isRefExist,h=e.isModifyTab,N=void 0!==h&&h,g=e.disableScrollIntoView,C=void 0!==g&&g,y=e.setModifyOption,S=e.setCustomValue,w=e.onModifyContent,T=e.onInsert,I=e.onSelect,Z=e.onUseSettings,M=e.onModify,P=e.onDelete,V="maxi-prompt-control-results-card",O=_()(V,n&&"".concat(V,"--selected"),t.error&&"".concat(V,"--error")),R=(0,a.useRef)(),L=(0,a.useRef)(),F=(0,a.useState)(t.content.length>d.vZ),D=(0,o.Z)(F,2),U=D[0],A=D[1];(0,a.useEffect)((function(){t.loading&&A(!1)}),[t.loading]),(0,a.useEffect)((function(){t.loading&&L.current.scrollIntoView({behavior:"instant",block:"end"})}),[t.content,t.loading]);var z=function(){C||R.current.scrollIntoView({behavior:"smooth",block:"start"})};(0,a.useEffect)((function(){n&&z()}),[n]);var B=function(){var e=(0,c.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t.content);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("MaxiBlocks. Failed to copy text: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,a.createElement)("div",{className:O,onClick:n?null:function(){return I()}},(0,a.createElement)("div",{className:"".concat(V,"__scroll-to")},(0,a.createElement)("div",{ref:R,className:_()("".concat(V,"__scroll-to__inner"))})),(0,a.createElement)("p",{className:"".concat(V,"__content")},t.error&&(0,a.createElement)("span",{className:"".concat(V,"__content__error")},(0,s.__)("Error: ","maxi-blocks")),""===t.content?"Â ":U?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.vZ;if(e.length<=t)return e;var n=e.lastIndexOf(" ",t);return"".concat(e.slice(0,n),"...")}(t.content):t.content),(0,a.createElement)("div",{className:"".concat(V,"__end-of-content")},(0,a.createElement)("div",{ref:L,className:"".concat(V,"__end-of-content__inner")})),t.content.length>d.vZ&&!t.loading&&(0,a.createElement)(p,{className:"".concat(V,"__show-more"),onClick:function(){A(!U),z()}},(0,s.__)("Show ".concat(U?"more":"less"),"maxi-blocks")),(0,a.createElement)("div",{className:"".concat(V,"__top-bar")},(0,a.createElement)("div",{className:"".concat(V,"__top-bar__select-row")},(0,a.createElement)("div",null,!t.isSelectedText&&(0,a.createElement)("span",{className:"".concat(V,"__top-bar__select-row__id ").concat(V,"__top-bar__select-row__id_").concat(n?"output":"select")},"#",t.id)," ",(0,a.createElement)("span",{className:"".concat(V,"__top-bar__select-row__select-text ").concat(V,"__top-bar__select-row__select-text_").concat(n?"output":"select")},(0,s.__)(t.isSelectedText?"".concat(n?"Text":"Select text"," selection"):"".concat(n?"Output":"Select"," result"),"maxi-blocks"))),(0,a.createElement)("div",{className:"".concat(V,"__content-length")},t.content.length," ",(0,s.__)("characters","maxi-blocks"))),!N&&t.modificationType&&(0,a.createElement)("div",{className:"".concat(V,"__modificator"),onClick:function(){return I(t.refId)}},(0,s.__)("".concat((0,i.capitalize)(d.pm[t.modificationType])," from"),"maxi-blocks")," ",t.refId&&v&&(0,a.createElement)("label",{className:_()(n&&"".concat(V,"__modificator__id"))},"#",t.refId),t.refId&&!v&&(0,a.createElement)("span",{className:"".concat(V,"__modificator__deleted")},(0,s.__)("deleted","maxi-blocks")),t.refFromSelectedText&&(0,a.createElement)("span",{className:"".concat(V,"__modificator__from-selected-text")},(0,s.__)("selected text","maxi-blocks")))),!N&&!t.isSelectedText&&(0,a.createElement)("div",{className:"".concat(V,"__options")},(0,a.createElement)(p,{className:"maxi-prompt-control__button has-tooltip",onClick:B},(0,a.createElement)("span",{className:"tooltip"},(0,s.__)("Copy","maxi-blocks")),(0,a.createElement)(E,{icon:f.dUk})),(0,a.createElement)(p,{className:"maxi-prompt-control__button",onClick:T},(0,s.__)(l?"Replace selection":"Insert","maxi-blocks")),!t.refFromSelectedText&&(0,a.createElement)(p,{className:"maxi-prompt-control__button",onClick:Z},(0,s.__)("Regenerate","maxi-blocks")),(0,a.createElement)(p,{className:"maxi-prompt-control__button",onClick:M},(0,s.__)("Modify","maxi-blocks")),(0,a.createElement)(b,{message:(0,s.__)("Are you sure you want to delete the result?","maxi-blocks"),cancelLabel:(0,s.__)("Cancel","maxi-blocks"),confirmLabel:(0,s.__)("Delete","maxi-blocks"),onConfirm:P,buttonClassName:"".concat(V,"__clean-history-button maxi-prompt-control__button has-tooltip"),buttonChildren:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:"tooltip"},(0,s.__)("Delete","maxi-blocks")),(0,a.createElement)(E,{icon:f.$GS}))})),n&&N&&(0,a.createElement)(x,{modifyOption:m,onModifyContent:w,customValue:u,defaultLanguage:"Language of the prompt"!==k?k:"English (United Kingdom)",setModifyOption:y,setCustomValue:S}),N&&!t.isSelectedText&&P&&(0,a.createElement)(p,{className:"".concat(V,"__clean-history-button"),onClick:P},"Remove"))}}}]);