"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[2199],{12177:function(e,t,n){var o=n(70885),i=n(69307),s=(n(99196),n(65736)),a=n(92819),r=n(40684),c=n(21278),u=(0,r.ZP)((function(){return n.e(1943).then(n.bind(n,1943))})),l=(0,r.ZP)((function(){return Promise.resolve().then(n.bind(n,87570))}));t.Z=function(e){var t=e.results,n=e.content,r=e.modifyOption,d=e.formatValue,f=e.selectedResultId,m=e.customValue,p=e.AISettingsLanguage,g=e.isSelectedText,h=e.setResults,y=e.setSelectedResultId,x=e.setSelectedResult,v=e.setModifyOption,T=e.setCustomValue,b=e.onContentChange,I=e.onChangeTextFormat,S=e.onModifyContent,R=e.updateSettings,w=e.switchToGenerateTab,C=e.switchToModifyTab,E=e.isModifyTab,k=void 0!==E&&E,M=(0,i.useState)(c.K2),O=(0,o.Z)(M,2),V=O[0],_=O[1];(0,i.useEffect)((function(){var e=f&&t.findIndex((function(e){return e.id===f}));e>=V&&_(e+1)}),[V,t,f]);var Z="maxi-prompt-control-results";return!(0,a.isEmpty)(t)||f&&("selectedText"!==f||k)?(0,i.createElement)("div",{className:Z},t.slice(0,V).map((function(e,o){var s=e.refId&&t.findIndex((function(t){return t.id===e.refId}));return(0,i.createElement)(u,{key:e.id,index:o+1,result:e,isSelectedText:g,isSelected:e.id===f,modifyOption:r,customValue:m,AISettingsLanguage:p,isRefExist:s&&s>=0,isModifyTab:k,setModifyOption:v,setCustomValue:T,onModifyContent:S,onInsert:function(){var t=d.start,o=d.end,i=n.slice(0,t),s=n.slice(o),a=i+e.content+s;t!==o&&I(Object.assign({},d,{end:t+e.content.length})),b(a)},onSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.id;return y(t)},onUseSettings:function(){if(e.refId)return C(),v(e.modificationType),T(e.customValue),s>=V&&_(s+1),void y(e.refId);e.settings&&(R(e.settings),w())},onModify:function(){y(e.id),C()},onDelete:function(){if(k)return x(null),void(e.id===f&&y(null));h((function(t){var n=[].concat(t).filter((function(t){return t.id!==e.id}));return(0,a.isEmpty)(n)&&w(),n})),f===e.id&&y(null)}})})),t.length>V&&(0,i.createElement)("div",{className:"".concat(Z,"__load-more")},(0,i.createElement)(l,{className:"maxi-prompt-control-modify-tab__button",onClick:function(){return _(V+c.K2)}},(0,s.__)("Load more","maxi-blocks")))):(0,i.createElement)("div",{className:Z},(0,i.createElement)("h4",{className:"".concat(Z,"__no-results")},(0,s.__)(k?"Select text or result from history to modify":"History is empty","maxi-blocks")))}},22199:function(e,t,n){n.r(t);var o=n(15861),i=n(70885),s=n(69307),a=(n(99196),n(11284)),r=n.n(a),c=n(12177),u=n(89949),l=n(21278);t.default=function(e){var t=e.clientId,n=e.results,a=e.AISettings,d=e.settings,f=e.contextOption,m=e.selectedText,p=e.modifyOption,g=e.customValue,h=e.abortControllerRef,y=e.setModifyOption,x=e.setCustomValue,v=e.setIsGenerating,T=e.selectedResultId,b=e.setSelectedResultId,I=e.setResults,S=e.switchToResultsTab,R=(0,s.useState)(null),w=(0,i.Z)(R,2),C=w[0],E=w[1];(0,s.useEffect)((function(){if("selectedText"!==T){var e=n.find((function(e){return e.id===T}));E(e)}}),[T,n]);var k=function(){var e=(0,o.Z)(r().mark((function e(o){var i,s,c,p,g,h,y,x,v,b,I,S,R,w,C,E,k;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.modificationType,s=o.customValue,c=o.refFromSelectedText,p=void 0!==c&&c,h=(g=d||{}).prompt,y=g.temperature,x=g.contentType,v=g.tone,b=g.writingStyle,I=g.language,S="custom"===i?", using the user-provided instruction: ".concat(s):"",R="translate"===i?" to ".concat(s," language"):"",w=p?"":"".concat(h?"- Original Prompt: ".concat(h):"","\n").concat((0,u.$0)(x,v,b,I),"\n- Temperature: ").concat(y),C=function(){switch(i){case"rephrase":return" Reword the entire text to offer a fresh perspective.";case"shorten":return" Drastically condense the text to make it much more succinct.";case"lengthen":return" Enhance the text by adding relevant details. Aim for a 10-20% increase from the original length.";default:return""}},E="".concat((0,u.JG)(a),"\n").concat((0,u.HB)((0,u.fw)(f,t)),"\n").concat(w),k="Please ".concat(i).concat(R," the following text").concat(S,".").concat(C()," Ensure the ").concat(l.pm[i]," content maintains the original intent and context, aligns with the provided site details, and is polished and ready for the website.\n\nOriginal text: ").concat("selectedText"===T?m:n.find((function(e){return e.id===T})).content),e.abrupt("return",(0,u.ZN)(E,k));case 9:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(),t="selectedText"===T&&m,(0,u.P3)({openAIApiKey:a.openaiApiKey,modelName:a.model,additionalParams:{topP:1},additionalData:Object.assign({},!t&&{refId:T,settings:d},{modificationType:p,refFromSelectedText:t},["custom","translate"].includes(p)&&{customValue:g}),results:n,abortControllerRef:h,getMessages:k,setResults:I,setSelectedResultId:b,setIsGenerating:v});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.createElement)("div",{className:"maxi-prompt-control-modify-tab"},(0,s.createElement)(c.Z,{results:[m&&{id:"selectedText",content:m,isSelectedText:!0},C].filter(Boolean),modifyOption:p,selectedResultId:T,customValue:g,AISettingsLanguage:a.language,setSelectedResultId:b,setSelectedResult:E,setModifyOption:y,setCustomValue:x,onModifyContent:M,isModifyTab:!0}))}}}]);