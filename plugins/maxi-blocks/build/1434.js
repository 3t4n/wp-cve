"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[1434,3035],{61434:function(t,e,o){o.r(e);var n=o(4942),i=o(69307),r=(o(99196),o(65736)),a=o(13035),c=o(47561),l=o(38207),s=o(69663),u=o(19848);e.default=function(t){var e=t.blockName,o=t.onChangeInline,p=t.onChange,d=t.breakpoint,m=t.isHover,b=void 0!==m&&m;return"maxi-blocks/button-maxi"!==e?null:(0,i.createElement)(a.default,{className:"toolbar-item__background",tooltip:(0,r.__)("Icon Background","maxi-blocks"),position:"bottom center",icon:u.Czw,advancedOptions:"icon"},(0,i.createElement)("div",{className:"toolbar-item__icon-background__popover"},(0,i.createElement)(l.default,{label:(0,r.__)("Inherit colour/background from button","maxi-blocks"),selected:t["icon-inherit"],onChange:function(t){p({"icon-inherit":t})}}),t["icon-inherit"]?(0,i.createElement)("p",{className:"toolbar-item__icon-background__popover__warning"},(0,r.__)("Icon background is inheriting from button.","maxi-button")):(0,i.createElement)(c.default,{label:(0,r.__)("Icon background","maxi-blocks"),paletteStatus:(0,s.OR)({target:"icon-background-palette-status",breakpoint:d,attributes:t,isHover:b}),paletteSCStatus:(0,s.OR)({target:"icon-background-palette-sc-status",breakpoint:d,attributes:t,isHover:b}),paletteColor:(0,s.OR)({target:"icon-background-palette-color",breakpoint:d,attributes:t,isHover:b}),paletteOpacity:(0,s.OR)({target:"icon-background-palette-opacity",breakpoint:d,attributes:t,isHover:b}),color:(0,s.OR)({target:"icon-background-color",breakpoint:d,attributes:t,isHover:b}),prefix:"icon-background-",deviceType:d,onChangeInline:function(t){var e=t.color;return o&&o({background:e},".maxi-button-block__icon")},onChange:function(t){var e,o=t.paletteStatus,i=t.paletteSCStatus,r=t.paletteColor,a=t.paletteOpacity,c=t.color;p((e={},(0,n.Z)(e,(0,s.m2)("background-palette-status",b,"icon-",d),o),(0,n.Z)(e,(0,s.m2)("background-palette-sc-status",b,"icon-",d),i),(0,n.Z)(e,(0,s.m2)("background-palette-color",b,"icon-",d),r),(0,n.Z)(e,(0,s.m2)("background-palette-opacity",b,"icon-",d),a),(0,n.Z)(e,(0,s.m2)("background-color",b,"icon-",d),c),e),".maxi-button-block__icon")},isHover:b})))}},13035:function(t,e,o){o.r(e);var n=o(15671),i=o(43144),r=o(97326),a=o(60136),c=o(82963),l=o(61120),s=o(4942),u=o(69307),p=(o(99196),o(65736)),d=o(55609),m=o(9818),b=o(94184),v=o.n(b),f=o(92819),h=o(40684),k=o(88442),_=o(19848),g=o(19693);var C=(0,h.ZP)((function(){return Promise.resolve().then(o.bind(o,87570))})),y=(0,h.ZP)((function(){return Promise.resolve().then(o.bind(o,46006))})),x=(0,h.ZP)((function(){return Promise.resolve().then(o.bind(o,39909))})),O=function(t){(0,a.Z)(h,t);var e,o,b=(e=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.Z)(e);if(o){var i=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,c.Z)(this,t)});function h(){var t;(0,n.Z)(this,h);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=b.call.apply(b,[this].concat(o)),(0,s.Z)((0,r.Z)(t),"state",{isOpen:!1,onClose:function(){t.setState({isOpen:!1})}}),t.ref=(0,u.createRef)(),t}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(t){var e,o,n=t.path||t.composedPath&&t.composedPath();this.mounted&&((null===(e=this.ref.current)||void 0===e?void 0:e.ownerDocument.querySelectorAll(".toolbar-item__popover").length)>=2||n&&!n.includes(null===(o=this.ref.current)||void 0===o?void 0:o.ownerDocument.querySelector(".toolbar-item__popover"))&&!n.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){var t=this.state.isOpen,e=this.ref.current.ownerDocument.defaultView;t?e.removeEventListener("click",this.onClickOutside.bind(this),!1):e.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!t})}},{key:"render",value:function(){var t,e,o=this,n=this.props,i=n.text,r=n.className,a=n.tooltip,c=n.icon,l=n.children,s=n.advancedOptions,b=void 0!==s&&s,h=n.tab,O=void 0===h?0:h,Z=n.position,E=void 0===Z?"top center":Z,R=n.disabled,S=void 0!==R&&R,w=this.state,P=w.isOpen,N=w.onClose,H=v()("toolbar-item","toolbar-item__button",r),A=(0,(0,m.select)("maxiBlocks").receiveMaxiSettings)().hide_tooltips,I=!(0,f.isEmpty)(A)&&A,B=function(){return(0,u.createElement)(C,{className:H,onClick:function(){return o.onToggle()},"aria-expanded":P,action:"popup",disabled:S},(0,u.createElement)(y,{className:"toolbar-item__icon",icon:c}),(0,p.__)(i,"maxi-blocks"))};return(0,u.createElement)("div",{ref:this.ref},(0,u.createElement)(g.Z.Provider,{value:this.state},!I&&(0,u.createElement)(d.Tooltip,{text:a,placement:"top"},B()),I&&B(),P&&l&&(0,u.createElement)(x,{anchor:null===(t=this.ref)||void 0===t||null===(e=t.current)||void 0===e?void 0:e.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:N,position:E,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!b&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,u.createElement)("div",null,l),!!b&&(0,u.createElement)(C,{className:"toolbar-item__popover__advanced-button",icon:_.vV$,onClick:function(){(0,k.RB)(O,b)}}))))}}]),h}(u.Component);e.default=O},19693:function(t,e,o){var n=(0,o(69307).createContext)();e.Z=n}}]);