"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[9177,3035],{9177:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var o=n(4942),a=n(69307),i=(n(99196),n(65736)),r=n(9818),l=n(59017),c=n(21464),s=n(27264),u=n(46006),m=n(75655),p=n(70885),f=n(55609),d=n(87570),_=n(19848),h=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipsHide,r=function(){return n("font-weight")},l=(0,a.useState)(r()>400),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m(r()>400||!1)}));var h=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__bold",onClick:function(){return t({"font-weight":s?400:700})},"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon",icon:_.LaM}))};return o?h():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Bold","maxi-blocks"),placement:"top"},h())},v=n(92819),g=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipHide,r=function(){return n("text-decoration")||""},l=(0,a.useState)(r().indexOf("line-through")>=0),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m(r().indexOf("line-through")>=0)}));var h=function(){var e,n=r();e="unset"===n?"line-through":n.indexOf("line-through")>=0?n.replace("line-through",""):"".concat(n," line-through"),e=(0,v.trim)(e),(0,v.isEmpty)(e)&&(e="unset"),t({"text-decoration":e})},g=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__strikethrough",onClick:h,"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon",icon:_.m75}))};return o?g():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Strikethrough","maxi-blocks"),placement:"top"},g())},b=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipsHide,r=function(){return n("vertical-align")||""},l=(0,a.useState)("sub"===r()),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m("sub"===r())}));var h=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__subscript",onClick:function(){return t({"vertical-align":s?"unset":"sub"})},"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon",icon:_.upn}))};return o?h():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Subscript","maxi-blocks"),placement:"top"},h())},x=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipsHide,r=function(){return n("vertical-align")||""},l=(0,a.useState)("super"===r()),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m("super"===r())}));var h=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__superscript",onClick:function(){return t({"vertical-align":s?"unset":"super"})},"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon",icon:_.Cuz}))};return o?h():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Superscript","maxi-blocks"),placement:"top"},h())},E=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipsHide,r=function(){return n("text-decoration")||""},l=(0,a.useState)(r().indexOf("overline")>=0),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m(r().indexOf("underline")>=0)}));var h=function(){var e,n=r();e="unset"===n?"underline":n.indexOf("underline")>=0?n.replace("underline",""):"".concat(n," underline"),e=(0,v.trim)(e),(0,v.isEmpty)(e)&&(e="unset"),t({"text-decoration":e})},g=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__underline",onClick:h,"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon",icon:_.flY}))};return o?g():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Underline","maxi-blocks"),placement:"top"},g())},y=function(e){var t=e.onChangeFormat,n=e.getValue,o=e.tooltipsHide,r=function(){return n("font-style")},l=(0,a.useState)(r()>400),c=(0,p.Z)(l,2),s=c[0],m=c[1];(0,a.useEffect)((function(){m("italic"===r())}));var h=function(){return(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__italic",onClick:function(){return t({"font-style":s?"normal":"italic"})},"aria-pressed":s},(0,a.createElement)(u.default,{className:"toolbar-item__icon toolbar-item__italic",icon:_.Wtp}))};return o?h():(0,a.createElement)(f.Tooltip,{text:(0,i.__)("Italic","maxi-blocks"),placement:"top"},h())},C=n(13035),k=n(27119),N=n(69663),V=function(e){var t=e.getValue,n=e.getDefault,i=e.onChangeFormat,r=e.prefix,c=e.minMaxSettings,s=e.minMaxSettingsLetterSpacing,m=e.breakpoint,p=e.avoidXXL;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(u.default,{className:"toolbar-item__text-size-icon",icon:_.xr5}),(0,a.createElement)(l.default,{className:"maxi-typography-control__size",value:t("".concat(r,"font-size"),m,p),defaultValue:n("".concat(r,"font-size"),m),onChangeValue:function(e){i((0,o.Z)({},"".concat(r,"font-size"),e))},onReset:function(){return i((0,o.Z)({},"".concat(r,"font-size"),n("".concat(r,"font-size"))),!0)},min:c[t("".concat(r,"font-size-unit"))].min,max:c[t("".concat(r,"font-size-unit"))].max}),(0,a.createElement)(u.default,{className:"toolbar-item__text-size-icon",icon:_.Vzg}),(0,a.createElement)(l.default,{className:"maxi-typography-control__line-height",value:t("".concat(r,"line-height"),m,p),defaultValue:n("".concat(r,"line-height"),m),onChangeValue:function(e){i((0,o.Z)({},"".concat(r,"line-height"),e))},onReset:function(){return i((0,o.Z)({},"".concat(r,"line-height"),n("".concat(r,"line-height"))),!0)},min:c[t("".concat(r,"line-height-unit"))].min,max:c[t("".concat(r,"line-height-unit"))].max}),(0,a.createElement)(u.default,{className:"toolbar-item__text-size-icon",icon:_.wLX}),(0,a.createElement)(l.default,{className:"maxi-typography-control__letter-spacing",value:t("".concat(r,"letter-spacing"),m,p),defaultValue:n("".concat(r,"letter-spacing"),m),onChangeValue:function(e){i((0,o.Z)({},"".concat(r,"letter-spacing"),e))},onReset:function(){return i((0,o.Z)({},"".concat(r,"letter-spacing"),""),!0)},min:s[t("".concat(r,"letter-spacing-unit"))].min,max:s[t("".concat(r,"letter-spacing-unit"))].max,step:.1}))},S=function(e){var t=e.textLevel,n=void 0===t?"p":t,o=e.blockName,l=e.onChange,u=e.breakpoint,p=e.blockStyle,f=e.isList,d=e.clientId,_=e.prefix,S=void 0===_?"":_,Z=e.styleCards,O=void 0!==Z&&Z,F=e.styleCardPrefix,w=e.isCaptionToolbar,H=void 0!==w&&w;if("maxi-blocks/text-maxi"!==o&&!H)return null;var L=(0,a.useContext)(k.HP),P=L.formatValue,z=L.onChangeTextFormat,T=Object.assign({},(0,N.t5)(e,"typography")),R=(0,r.useSelect)((function(e){var t,n=e("maxiBlocks/style-cards").receiveMaxiSelectedStyleCard,o=(0,e("maxiBlocks").receiveMaxiSettings)(),a=!(0,v.isEmpty)(o.hide_tooltips)&&o.hide_tooltips;return{styleCard:(null===(t=n())||void 0===t?void 0:t.value)||{},tooltipsHide:a}})),M=R.styleCard,A=R.tooltipsHide,B=function(e){return(0,k.Yp)({prop:e,breakpoint:u,typography:T,formatValue:P,textLevel:n,blockStyle:p,styleCard:M,styleCardPrefix:F})},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,k.IX)({formatValue:P,isList:f,typography:T,value:e,breakpoint:u,textLevel:n,returnFormatValue:!0}),a=Object.assign({},o.formatValue);delete o.formatValue,z(a),l(t?Object.assign({},o,{isReset:!0}):o)};return(0,a.createElement)("div",{className:"toolbar-item toolbar-item__typography-control"},(0,a.createElement)(C.default,{tooltip:(0,i.__)("Edit text","maxi-blocks"),text:(0,i.__)("Edit","maxi-blocks"),advancedOptions:H?"caption":"typography"},(0,a.createElement)("div",{className:"toolbar-item__popover__font-options"},(0,a.createElement)(m.default,{className:"toolbar-item__typography-control__typography-tabs",breakpoint:u},(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__wrap toolbar-item__popover__font-options__wrap_family"},(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__font"},(0,a.createElement)(s.default,{className:"toolbar-item__popover__font-options__font__selector",defaultValue:(0,N.oG)("font-family-".concat(u)),font:B("font-family"),onChange:function(e){D({"font-family":e.value})},theme:"dark",breakpoint:u})),(0,a.createElement)("div",{className:"toolbar-item__typography-control__extra-text-options"},(0,a.createElement)(c.default,Object.assign({},(0,N.t5)(e,"textAlignment"),{onChange:l,breakpoint:u,type:"text",isToolbar:!0,disableRTC:!0})),(0,a.createElement)(h,{onChangeFormat:D,getValue:B,tooltipsHide:A}),(0,a.createElement)(y,{onChangeFormat:D,getValue:B,tooltipsHide:A}),(0,a.createElement)(E,{onChangeFormat:D,getValue:B,tooltipsHide:A}),(0,a.createElement)(g,{onChangeFormat:D,getValue:B,tooltipsHide:A}),(0,a.createElement)(b,{onChangeFormat:D,getValue:B,tooltipsHide:A}),(0,a.createElement)(x,{onChangeFormat:D,getValue:B,tooltipsHide:A}))),(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__wrap toolbar-item__popover__font-options__wrap_inputs"},(0,a.createElement)(V,{getValue:B,getDefault:function(e,t){var n=t||u;return(0,N.oG)("".concat(e,"-").concat(n),d)},onChangeFormat:D,prefix:S,minMaxSettings:{px:{min:0,max:999},em:{min:0,max:100},vw:{min:0,max:100},"%":{min:0,max:100},"-":{min:0,max:16}},minMaxSettingsLetterSpacing:{px:{min:-3,max:30},em:{min:-1,max:10},vw:{min:-1,max:10}},avoidXXL:!O,tooltipsHide:A})))))))}},13035:function(e,t,n){n.r(t);var o=n(15671),a=n(43144),i=n(97326),r=n(60136),l=n(82963),c=n(61120),s=n(4942),u=n(69307),m=(n(99196),n(65736)),p=n(55609),f=n(9818),d=n(94184),_=n.n(d),h=n(92819),v=n(40684),g=n(88442),b=n(19848),x=n(19693);var E=(0,v.ZP)((function(){return Promise.resolve().then(n.bind(n,87570))})),y=(0,v.ZP)((function(){return Promise.resolve().then(n.bind(n,46006))})),C=(0,v.ZP)((function(){return Promise.resolve().then(n.bind(n,39909))})),k=function(e){(0,r.Z)(v,e);var t,n,d=(t=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return(0,l.Z)(this,e)});function v(){var e;(0,o.Z)(this,v);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,s.Z)((0,i.Z)(e),"state",{isOpen:!1,onClose:function(){e.setState({isOpen:!1})}}),e.ref=(0,u.createRef)(),e}return(0,a.Z)(v,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){var t,n,o=e.path||e.composedPath&&e.composedPath();this.mounted&&((null===(t=this.ref.current)||void 0===t?void 0:t.ownerDocument.querySelectorAll(".toolbar-item__popover").length)>=2||o&&!o.includes(null===(n=this.ref.current)||void 0===n?void 0:n.ownerDocument.querySelector(".toolbar-item__popover"))&&!o.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){var e=this.state.isOpen,t=this.ref.current.ownerDocument.defaultView;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){var e,t,n=this,o=this.props,a=o.text,i=o.className,r=o.tooltip,l=o.icon,c=o.children,s=o.advancedOptions,d=void 0!==s&&s,v=o.tab,k=void 0===v?0:v,N=o.position,V=void 0===N?"top center":N,S=o.disabled,Z=void 0!==S&&S,O=this.state,F=O.isOpen,w=O.onClose,H=_()("toolbar-item","toolbar-item__button",i),L=(0,(0,f.select)("maxiBlocks").receiveMaxiSettings)().hide_tooltips,P=!(0,h.isEmpty)(L)&&L,z=function(){return(0,u.createElement)(E,{className:H,onClick:function(){return n.onToggle()},"aria-expanded":F,action:"popup",disabled:Z},(0,u.createElement)(y,{className:"toolbar-item__icon",icon:l}),(0,m.__)(a,"maxi-blocks"))};return(0,u.createElement)("div",{ref:this.ref},(0,u.createElement)(x.Z.Provider,{value:this.state},!P&&(0,u.createElement)(p.Tooltip,{text:r,placement:"top"},z()),P&&z(),F&&c&&(0,u.createElement)(C,{anchor:null===(e=this.ref)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:w,position:V,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!d&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,u.createElement)("div",null,c),!!d&&(0,u.createElement)(E,{className:"toolbar-item__popover__advanced-button",icon:b.vV$,onClick:function(){(0,g.RB)(k,d)}}))))}}]),v}(u.Component);t.default=k},19693:function(e,t,n){var o=(0,n(69307).createContext)();t.Z=o}}]);