!function(){class t{constructor(){this.breakpointsObj={xxl:1921,xl:1920,l:1366,m:1024,s:768,xs:480},this.breakpoints=["general","xxl","xl","l","m","s","xs"],this.breakpoint=this.getCurrentBreakpoint();const t=this.getElements(),e=maxiScrollEffects?.[0],s=e&&Object.entries(e).reduce(((t,[e,s])=>{const r=JSON.parse(s);return delete r.scroll_effects,t[e]=r,t}),{});this.isOldScroll=Object.values(s).every((t=>0===Object.keys(t).length)),this.scrollData=this.isOldScroll?t:s,this.startData={},this.isBorderStylesAppliedData={},this.init(),this.oldValue=0}init(){this.startingEffect(),document.addEventListener("DOMContentLoaded",[this.getElements.bind(this),this.startingEffect.bind(this)]),window.addEventListener("scroll",this.effectsOnScroll.bind(this)),window.addEventListener("resize",this.handleResize.bind(this))}getCurrentBreakpoint(){const t=window.innerWidth;if(t>this.breakpointsObj.xl)return"xxl";let e;return["xl","l","m","s","xs"].forEach((s=>{this.breakpointsObj[s]>=t&&(e=s)})),e}handleResize=()=>{const t=this.getCurrentBreakpoint();t!==this.breakpoint&&(this.breakpoint=t,this.startingEffect())};getElements=()=>{const t={};return Array.from(document.querySelectorAll("[data-scroll-effect-type]")).forEach((e=>{const{id:s}=e;t[s]={};const r=e?.getAttribute("data-scroll-effect-type"),i=r?.trim()?.split(" ");i.forEach((r=>{t[s][r]=this.getScrollData(e,r,!0)}))})),t};setTransform=(t,e,s)=>{const r=(t.style.transform||"").match(/(\w+\([^)]+\))/g)||[];if(!this.isOldScroll||t.dataset.scrollEffectType.includes(s)){const s=e.split("(")[0],i=r.findIndex((t=>t.startsWith(s)));-1!==i?r[i]=e:r.push(e);const a=r.join(" ");t.style.transform=a,t.style.WebkitTransform=a}return null};static setOpacity=(t,e)=>{t.style.opacity=e};static setBlur=(t,e)=>{t.style.filter=`blur(${e})`};static setVertical=(t,e)=>{t.style.top=`${e}px`};static setHorizontal=(t,e)=>{t.style.left=`${e}px`};applyStyle(t,e,s,r){switch(e){case"rotate":this.setTransform(t,`rotate(${s}deg)`,"rotate");break;case"rotateX":this.setTransform(t,`rotateX(${s}deg)`,"rotateX");break;case"rotateY":this.setTransform(t,`rotateY(${s}deg)`,"rotateY");break;case"fade":this.constructor.setOpacity(t,`${s}%`);break;case"scale":this.setTransform(t,`scale3d(${s}%, ${s}%, ${s}%)`,"scale");break;case"scaleX":this.setTransform(t,`scaleX(${s}%)`,"scaleX");break;case"scaleY":this.setTransform(t,`scaleY(${s}%)`,"scaleY");break;case"blur":this.constructor.setBlur(t,`${s}${r}`);break;case"vertical":this.setTransform(t,`translateY(${s}${r})`,"vertical");break;case"horizontal":this.setTransform(t,`translateX(${s}${r})`,"horizontal")}return null}getLastBreakpointAttribute=(t,e,s)=>t[`${e}-${[...this.breakpoints].splice(0,this.breakpoints.indexOf(s)+1).reverse().find((s=>`${e}-${s}`in t))}`];getScrollSetting=(t,e)=>{const s=t=>{switch(t){case"top":return 100;case"mid":return 50;default:return 0}};if("object"==typeof t){const r=()=>{const s=this.getLastBreakpointAttribute(t,`scroll-${e}-zones`,this.breakpoint)||{0:0,100:0};return s[0]||(s[0]=0),s};return{status:this.getLastBreakpointAttribute(t,`scroll-${e}-status`,this.breakpoint),speedValue:this.getLastBreakpointAttribute(t,`scroll-${e}-speed`,this.breakpoint)||200,delayValue:this.getLastBreakpointAttribute(t,`scroll-${e}-delay`,this.breakpoint)||0,easingValue:this.getLastBreakpointAttribute(t,`scroll-${e}-easing`,this.breakpoint)||"ease",trigger:s(this.getLastBreakpointAttribute(t,`scroll-${e}-viewport-top`,this.breakpoint)),reverseScroll:this.getLastBreakpointAttribute(t,`scroll-${e}-status-reverse`,this.breakpoint)||!0,zones:r(),isBlockZone:this.getLastBreakpointAttribute(t,`scroll-${e}-is-block-zone`,this.breakpoint)||!1,unit:this.getLastBreakpointAttribute(t,`scroll-${e}-unit`,this.breakpoint)||"px"}}if("string"==typeof t){const e=t.trim().split(" ");return{speedValue:parseFloat(e[0])||200,delayValue:parseFloat(e[1])||0,easingValue:e[2]||"ease",trigger:s(e[3]),reverseScroll:e[4]||!0,zones:{0:parseInt(e[5]),50:parseInt(e[6]),100:parseInt(e[7])},isBlockZone:!0}}return null};getScrollData=(t,e,s=this.isOldScroll)=>s?t.getAttribute(`data-scroll-effect-${e}-general`):this.scrollData[t.id][e];startingTransform(t,e){const s=this.getScrollData(t,e);if(!s||!t)return null;const{status:r,zones:i,unit:a}=this.getScrollSetting(s,e);return r&&this.applyStyle(t,e,i[0],a),null}getScrollDirection=()=>{const t=window.pageYOffset;let e="";return e=this.oldValue<=t?"down":"up",this.oldValue=t,e};scrollTransform=(t,e,s)=>{const r=this.getScrollData(t,e);if(!r)return;const{status:i,trigger:a,zones:n,isBlockZone:o,unit:l,reverseScroll:c}=this.getScrollSetting(r,e);if(!i)return;const h=window.innerHeight,u=h/2,{top:d,height:p}=this.startData[t.id];let f=d,g=0;if(o){let t=0;switch(a){case 50:t=u;break;case 0:t=h}0!==t&&(f-=t),g=Math.round((window.scrollY-f)/p*100)}else g=Math.round((window.scrollY-d+h)/h*100);if(("down"===s||(!0===c||"true"===c)&&"up"===s)&&(g>=0&&g<=100||!this.isBorderStylesAppliedData[t.id])){this.isBorderStylesAppliedData[t.id]=g>100||g<0;for(const[s,r]of Object.entries(n).sort(((t,e)=>e[0]-t[0])))if(g>=s){this.applyStyle(t,e,r,l);break}}};effectsOnScroll=()=>{const t=this.getScrollDirection();Object.entries(this.scrollData).forEach((([e,s])=>{const r=document.getElementById(e);r&&Object.entries(s).forEach((([e])=>{this.scrollTransform(r,e,t)}))}))};static getTransition(t,e,s,r){let i="";switch(t){case"vertical":case"horizontal":case"rotate":case"rotateX":case"rotateY":case"scale":case"scaleX":case"scaleY":i+=`transform ${e}ms ${s} ${r}ms, `;break;case"fade":i+=`opacity ${e}ms ${s} ${r}ms, `;break;case"blur":i+=`filter ${e}ms ${s} ${r}ms, `}return i}startingEffect(){Object.entries(this.scrollData).forEach((([t,e])=>{let s="";const r=document.getElementById(t);if(!r)return;const i=r.getBoundingClientRect();this.startData[t]={top:Math.round(i.top+window.scrollY),height:Math.round(i.height)},this.isBorderStylesAppliedData[t]=!1,Object.entries(e).forEach((([t,e])=>{const{status:i,speedValue:a,easingValue:n,delayValue:o}=this.getScrollSetting(e,t);i&&(s+=this.constructor.getTransition(t,a,n,o),this.startingTransform(r,t))})),""!==s&&(r.style.transition=s.substring(0,s.length-2))}))}}window.addEventListener("DOMContentLoaded",(()=>{new t}))}();