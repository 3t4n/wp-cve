!function(){class e{constructor(e){let i;if(this.openPanes=[],this.accordion=e,this.uniqueID=e.id,"string"==typeof maxiAccordion[0][this.uniqueID])try{i=JSON.parse(maxiAccordion[0][this.uniqueID])}catch(e){return void console.error("Invalid JSON string",e)}else{if("object"!=typeof maxiAccordion[0][this.uniqueID]||null===maxiAccordion[0][this.uniqueID])return void console.error("maxiAccordion[0][this.uniqueID] is neither an object nor a string");i=maxiAccordion[0][this.uniqueID]}({paneIcon:this.paneIcon,paneIconActive:this.paneIconActive,accordionLayout:this.accordionLayout,autoPaneClose:this.autoPaneClose,isCollapsible:this.isCollapsible}=i),this.panes=Array.from(e.querySelectorAll(`.maxi-pane-block[data-accordion="${this.uniqueID}"]`)),this.init()}init(){this.panes.forEach((e=>{const i=e.querySelector(":scope > .maxi-pane-block__header"),n=e.querySelector(":scope > .maxi-pane-block__content-wrapper");i.addEventListener("click",this.paneClick.bind(this)),i.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon,n.addEventListener("transitionend",(e=>{e.target===e.currentTarget&&this.cleanAnimationStyles(n)}))}))}cleanAnimationStyles(e){e.style.overflow=null,e.style.maxHeight=null}triggerAnimation(e,i=!1){const n=e.querySelector(".maxi-pane-block__content-wrapper");i?(n.style.maxHeight=`${n.scrollHeight}px`,setTimeout((()=>{n.style.maxHeight=0}),0)):(n.style.overflow="hidden",n.style.maxHeight=`${n.scrollHeight}px`),0===this.animationDuration&&this.cleanAnimationStyles(n)}closePane(e){this.triggerAnimation(e,!0),e.setAttribute("aria-expanded",!1),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon,this.openPanes.splice(this.openPanes.indexOf(e.id),1)}openPane(e){this.triggerAnimation(e),e.setAttribute("aria-expanded",!0),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIconActive,this.autoPaneClose&&this.openPanes.forEach((e=>{const i=this.accordion.querySelector(`#${e}`);this.closePane.call(this,i)})),this.openPanes.push(e.id)}paneClick(e){const i=e.currentTarget.parentNode;if(this.openPanes.includes(i.id)){if(!this.isCollapsible&&this.openPanes.length<=1)return;this.closePane.call(this,i)}else this.openPane.call(this,i)}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".maxi-accordion-block")).forEach((i=>new e(i)))))}();