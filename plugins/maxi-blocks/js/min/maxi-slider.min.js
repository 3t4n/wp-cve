!function(){class t{constructor(t,i){this._slide=t,this._id=i,this.isActive=0,this.size=this._slide.getBoundingClientRect()}get isActive(){return this._isActive}set isActive(t){this._isActive=this._id===t,this._slide.classList.toggle("slider-item--active",this._isActive)}get size(){return this._size}set size(t){this._size=t}}class i{constructor(i){this._container=i,this._wrapper=this._container.querySelector(".maxi-slider-block__wrapper"),this._slides=Array.from(this._wrapper.getElementsByClassName("maxi-slide-block")).map(((i,e)=>new t(i,e))),this.isLoop="true"===this._container.dataset.infiniteLoop,this.isAutoplay="true"===this._container.dataset.autoplay,this.hoverPause="true"===this._container.dataset.hoverPause,this.interactionPause="true"===this._container.dataset.interactionPause,this.autoplaySpeed=this._container.dataset.autoplaySpeed,this.transition=this._container.dataset.transition,this.transitionSpeed=this._container.dataset.transitionSpeed,this._arrowNext=this._container.querySelector(".maxi-slider-block__arrow--next"),this._arrowPrev=this._container.querySelector(".maxi-slider-block__arrow--prev"),this._dots=this._container.querySelectorAll(".maxi-slider-block__dot"),this.currentSlide=0,this.initPosition=0,this.dragPosition=0,this.endPosition=0,this.realFirstElOffset=0,this.isInteracting=!1,this.isHovering=!1,this.onDragStart=this.dragStart.bind(this),this.onDragAction=this.dragAction.bind(this),this.onDragEnd=this.dragEnd.bind(this),this.onHoverEnd=this.onHover.bind(this,!0),this.onHover=this.onHover.bind(this,!1),this.exactSlide=this.exactSlide.bind(this),this._container.addEventListener("mouseenter",this.onHover),this._container.addEventListener("mouseleave",this.onHoverEnd);const e=()=>!(!this.hoverPause||!this.isHovering)||!(!this.interactionPause||!this.isInteracting);this.isAutoplay&&setInterval((()=>{e()||this.slideNext()}),this.autoplaySpeed),this.init()}get numberOfSlides(){return this._slides.length}get currentSlide(){return this._currentSlide}set currentSlide(t){this._currentSlide=t}get activeSlidePosition(){return this._currentSlide<0?this.realFirstElOffset-(this._slides.slice(this.currentSlide).map((t=>t.size.width))?.reduce(((t,i)=>t+i))??0):0===this.currentSlide?this.realFirstElOffset:(this._slides.slice(0,this.currentSlide).map((t=>t.size.width))?.reduce(((t,i)=>t+i))??0)+this.realFirstElOffset}get wrapperTranslate(){return+this._wrapper.style.transform.replace("translateX(","").replace("-","").replace(")","").replace("px","")}set wrapperTranslate(t){this._wrapper.style.transform=`translateX(-${t}px)`}init(){this.isLoop&&this.insertSlideClones(2),this.wrapperTranslate=this.realFirstElOffset,this.navEvents(),this.wrapperEvents()}navEvents(){this._arrowNext.addEventListener("click",this.slideNext.bind(this)),this._arrowPrev.addEventListener("click",this.slidePrev.bind(this)),this._dots.forEach(((t,i)=>{t.addEventListener("click",(()=>this.exactSlide(i)))}))}wrapperEvents(){this._wrapper.addEventListener("mousedown",this.onDragStart),this._wrapper.addEventListener("touchstart",this.onDragStart),this._wrapper.addEventListener("touchmove",this.onDragAction),this._wrapper.addEventListener("touchend",this.onDragEnd),this._wrapper.addEventListener("transitionend",this.transitionEnd.bind(this)),this._wrapper.addEventListener("animationend",this.transitionEnd.bind(this))}insertSlideClones(t){for(let i=0;i<t;i+=1){const t=this.getSlideClone(i),e=this.getSlideClone(this.numberOfSlides-1-i);this._wrapper.append(t),this._wrapper.prepend(e),this.realFirstElOffset+=e.getBoundingClientRect().width}}getSlideClone(t){const i=this._slides[t]._slide.cloneNode(!0);return i.classList.add("maxi-slide-block--clone"),i.classList.add("clone"),i.id=`${i.id}-clone`,i}dragStart(t){const i=t||window.event;i.preventDefault(),this._wrapper.style.transition="",this._wrapper.style.animation="",this.isInteracting=!0,this._wrapper.classList.add("maxi-slider-interaction"),"touchstart"===i.type?this.initPosition=i.touches[0].clientX:(this.initPosition=i.clientX,document.addEventListener("mousemove",this.onDragAction),document.addEventListener("mouseup",this.onDragEnd)),this.dragPosition=this.initPosition}dragAction(t){const i=t||window.event;let e;this.currentSlide+1>=this.numberOfSlides&&this.dragPosition<this.initPosition&&this.isLoop?(this.currentSlide-=this.numberOfSlides,this.sliderAction(!1)):this.currentSlide<=0&&this.dragPosition>this.initPosition&&this.isLoop&&(this.currentSlide+=this.numberOfSlides,this.sliderAction(!1)),"touchmove"===i.type?(e=this.dragPosition-i.touches[0].clientX,this.dragPosition=i.touches[0].clientX):(e=this.dragPosition-i.clientX,this.dragPosition=i.clientX),"fade"!==this.transition&&(this.wrapperTranslate+=e)}dragEnd(t){"touchend"===t.type?this.endPosition=this.dragPosition:this.endPosition=t.clientX,this.endPosition-this.initPosition<-100?this.slideNext():this.endPosition-this.initPosition>100?this.slidePrev():this.exactSlide(this.currentSlide),this.isInteracting=!1,this._wrapper.classList.remove("maxi-slider-interaction"),document.removeEventListener("mousemove",this.onDragAction),document.removeEventListener("mouseup",this.onDragEnd)}setActiveDot(t){const i=this._container.querySelectorAll(" .maxi-slider-block__dot");Array.from(i).forEach((t=>{t.classList.remove("maxi-slider-block__dot--active")}));const e=t%this.numberOfSlides,s=this._container.querySelector(` .maxi-slider-block__dot--${e}`);s?.classList.add("maxi-slider-block__dot--active")}slideNext(){this.currentSlide+1<this.numberOfSlides||this.isLoop?this.exactSlide(this.currentSlide+1):this.exactSlide(this.currentSlide)}slidePrev(){this.currentSlide-1>=0||this.isLoop?this.exactSlide(this.currentSlide-1):this.exactSlide(this.currentSlide)}exactSlide(t){const i=this.currentSlide!==t;i&&(this.currentSlide=t,this.setActiveDot(t));const e="fade"!==this.transition||i;this.sliderAction(e)}getSliderEffect(){let t="";switch(this.transition){case"slide":t+="transform";break;case"fade":t+="maxiFade";break;default:t+="maxiSlide"}return t+=` ${this.transitionSpeed/1e3}s ease-out`,t}sliderAction(t=!0){if(this._slides.forEach((t=>{t.isActive=this.currentSlide})),t){const t="slide"===this.transition?"transition":"animation";this._wrapper.style[t]=this.getSliderEffect()}this.wrapperTranslate=this.activeSlidePosition}onHover(t){this.isHovering=!t,this._wrapper.classList[t?"remove":"add"]("maxi-slider-hovered")}loop(){this.currentSlide>=this.numberOfSlides&&(this.currentSlide=0,this.setActiveDot(this.currentSlide),this.sliderAction(!1)),this.currentSlide<0&&(this.currentSlide=this.numberOfSlides-1,this.setActiveDot(this.currentSlide),this.sliderAction(!1))}transitionEnd(){this._wrapper.style.transition="",this._wrapper.style.animation="",this.isLoop&&this.loop()}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.getElementsByClassName("maxi-slider-block")).forEach((t=>new i(t)))),!1)}();