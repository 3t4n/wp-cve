!function($,window,document,undefined){"use strict";var SPF_WPSP=SPF_WPSP||{};SPF_WPSP.funcs={},SPF_WPSP.vars={onloaded:!1,$body:$("body"),$window:$(window),$document:$(document),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:$("body").hasClass("rtl")},SPF_WPSP.helper={uid:function(prefix){return(prefix||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(str){return(str+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function($selector,field_id){var checks=[],regex=new RegExp(SPF_WPSP.helper.preg_quote(field_id+"[\\d+]"),"g");$selector.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),$selector.each((function(index){$(this).find(":input").each((function(){this.name=this.name.replace(regex,field_id+"["+index+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(callback,threshold,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||callback.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,threshold),callNow&&callback.apply(context,args)}},get_cookie:function(name){var e,b,cookie=document.cookie,p=name+"=";if(cookie){if(-1===(b=cookie.indexOf("; "+p))){if(0!==(b=cookie.indexOf(p)))return null}else b+=2;return-1===(e=cookie.indexOf(";",b))&&(e=cookie.length),decodeURIComponent(cookie.substring(b+p.length,e))}},set_cookie:function(name,value,expires,path,domain,secure){var d=new Date;"object"==typeof expires&&expires.toGMTString?expires=expires.toGMTString():parseInt(expires,10)?(d.setTime(d.getTime()+1e3*parseInt(expires,10)),expires=d.toGMTString()):expires="",document.cookie=name+"="+encodeURIComponent(value)+(expires?"; expires="+expires:"")+(path?"; path="+path:"")+(domain?"; domain="+domain:"")+(secure?"; secure":"")},remove_cookie:function(name,path,domain,secure){SPF_WPSP.helper.set_cookie(name,"",-1e3,path,domain,secure)}},$.fn.spwps_clone=function(){for(var base=$.fn.clone.apply(this,arguments),clone=this.find("select").add(this.filter("select")),cloned=base.find("select").add(base.filter("select")),i=0;i<clone.length;++i)for(var j=0;j<clone[i].options.length;++j)!0===clone[i].options[j].selected&&(cloned[i].options[j].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),base},$.fn.spwps_expand_all=function(){return this.each((function(){$(this).on("click",(function(e){e.preventDefault(),$(".spwps-wrapper").toggleClass("spwps-show-all"),$(".spwps-section").spwps_reload_script(),$(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")}))}))},$.fn.spwps_nav_options=function(){return this.each((function(){var $nav=$(this),$window=$(window),$wpwrap=$("#wpwrap"),$links=$nav.find("a"),$last;$window.on("hashchange spwps.hashchange",(function(){var hash=window.location.hash.replace("#tab=",""),slug=hash||$links.first().attr("href").replace("#tab=",""),$link=$('[data-tab-id="'+slug+'"]');if($link.length){$link.closest(".spwps-tab-item").addClass("spwps-tab-expanded").siblings().removeClass("spwps-tab-expanded"),$link.next().is("ul")&&(slug=($link=$link.next().find("li").first().find("a")).data("tab-id")),$links.removeClass("spwps-active"),$link.addClass("spwps-active"),$last&&$last.addClass("hidden");var $section=$('[data-section-id="'+slug+'"]');$section.removeClass("hidden"),$section.spwps_reload_script(),$(".spwps-section-id").val($section.index()+1),$last=$section,$wpwrap.hasClass("wp-responsive-open")&&($("html, body").animate({scrollTop:$section.offset().top-50},200),$wpwrap.removeClass("wp-responsive-open"))}})).trigger("spwps.hashchange")}))},$.fn.spwps_nav_metabox=function(){return this.each((function(){var $nav=$(this),$links=$nav.find("a"),$sections=$nav.parent().find(".spwps-section"),unique_id=$nav.data("unique"),post_id=$("#post_ID").val()||"global",$last;$links.each((function(index){$(this).on("click",(function(e){e.preventDefault();var $link=$(this),section_id=$link.data("section");$links.removeClass("spwps-active"),$link.addClass("spwps-active"),void 0!==$last&&$last.addClass("hidden");var $section=$sections.eq(index);$section.removeClass("hidden"),$section.spwps_reload_script(),SPF_WPSP.helper.set_cookie("spwps-last-metabox-tab-"+post_id+"-"+unique_id,section_id),$last=$section}))}));var get_cookie=SPF_WPSP.helper.get_cookie("spwps-last-metabox-tab-"+post_id+"-"+unique_id);get_cookie?$nav.find('a[data-section="'+get_cookie+'"]').trigger("click"):$links.first("a").trigger("click")}))},$.fn.spwps_search=function(){return this.each((function(){var $this,$input;$(this).find("input").on("change keyup",(function(){var value=$(this).val(),$wrapper=$(".spwps-wrapper"),$section,$fields=$wrapper.find(".spwps-section").find("> .spwps-field:not(.spwps-depend-on)"),$titles=$fields.find("> .spwps-title, .spwps-search-tags");value.length>3?($fields.addClass("spwps-metabox-hide"),$wrapper.addClass("spwps-search-all"),$titles.each((function(){var $title=$(this);if($title.text().match(new RegExp(".*?"+value+".*?","i"))){var $field=$title.closest(".spwps-field");$field.removeClass("spwps-metabox-hide"),$field.parent().spwps_reload_script()}}))):($fields.removeClass("spwps-metabox-hide"),$wrapper.removeClass("spwps-search-all"))}))}))},$.fn.spwps_sticky=function(){return this.each((function(){var $this=$(this),$window=$(window),$inner=$this.find(".spwps-header-inner"),padding=parseInt($inner.css("padding-left"))+parseInt($inner.css("padding-right")),offset=32,scrollTop=0,lastTop=0,ticking=!1,stickyUpdate=function(){var offsetTop=$this.offset().top,stickyTop=Math.max(32,offsetTop-scrollTop),winWidth=$window.innerWidth();stickyTop<=32&&winWidth>782?($inner.css({width:$this.outerWidth()-padding}),$this.css({height:$this.outerHeight()}).addClass("spwps-sticky")):($inner.removeAttr("style"),$this.removeAttr("style").removeClass("spwps-sticky"))},requestTick=function(){ticking||requestAnimationFrame((function(){stickyUpdate(),ticking=!1})),ticking=!0},onSticky=function(){scrollTop=$window.scrollTop(),requestTick()};$window.on("scroll resize",onSticky),onSticky()}))},$.fn.spwps_dependency=function(){return this.each((function(){var $this=$(this),$fields=$this.children("[data-controller]");if($fields.length){var normal_ruleset=$.spwps_deps.createRuleset(),global_ruleset=$.spwps_deps.createRuleset(),normal_depends=[],global_depends=[];$fields.each((function(){var $field=$(this),controllers=$field.data("controller").split("|"),conditions=$field.data("condition").split("|"),values=$field.data("value").toString().split("|"),is_global=!!$field.data("depend-global"),ruleset=is_global?global_ruleset:normal_ruleset;$.each(controllers,(function(index,depend_id){var value=values[index]||"",condition=conditions[index]||conditions[0];(ruleset=ruleset.createRule('[data-depend-id="'+depend_id+'"]',condition,value)).include($field),is_global?global_depends.push(depend_id):normal_depends.push(depend_id)}))})),normal_depends.length&&$.spwps_deps.enable($this,normal_ruleset,normal_depends),global_depends.length&&$.spwps_deps.enable(SPF_WPSP.vars.$body,global_ruleset,global_depends)}}))},$.fn.spwps_field_code_editor=function(){return this.each((function(){if("function"==typeof CodeMirror){var $this=$(this),$textarea=$this.find("textarea"),$inited=$this.find(".CodeMirror"),data_editor=$textarea.data("editor");$inited.length&&$inited.remove();var interval=setInterval((function(){if($this.is(":visible")){var code_editor=CodeMirror.fromTextArea($textarea[0],data_editor);if("default"!==data_editor.theme&&-1===SPF_WPSP.vars.code_themes.indexOf(data_editor.theme)){var $cssLink=$("<link>");$("#spwps-codemirror-css").after($cssLink),$cssLink.attr({rel:"stylesheet",id:"spwps-codemirror-"+data_editor.theme+"-css",href:data_editor.cdnURL+"/theme/"+data_editor.theme+".min.css",type:"text/css",media:"all"}),SPF_WPSP.vars.code_themes.push(data_editor.theme)}CodeMirror.modeURL=data_editor.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(code_editor,data_editor.mode),code_editor.on("change",(function(editor,event){$textarea.val(code_editor.getValue()).trigger("change")})),clearInterval(interval)}}))}}))},$.fn.spwps_field_fieldset=function(){return this.each((function(){$(this).find(".spwps-fieldset-content").spwps_reload_script()}))},$.fn.spwps_field_slider=function(){return this.each((function(){var $this=$(this),$input=$this.find("input"),$slider=$this.find(".spwps-slider-ui"),data=$input.data(),value=$input.val()||0;$slider.hasClass("ui-slider")&&$slider.empty(),$slider.slider({range:"min",value:value,min:data.min||0,max:data.max||100,step:data.step||1,slide:function(e,o){$input.val(o.value).trigger("change")}}),$input.on("keyup",(function(){$slider.slider("value",$input.val())}))}))},$.fn.spwps_field_spinner=function(){return this.each((function(){var $this=$(this),$input=$this.find("input"),$inited=$this.find(".ui-button"),data=$input.data();$inited.length&&$inited.remove(),$input.spinner({min:data.min||0,max:data.max||100,step:data.step||1,create:function(event,ui){data.unit&&$input.after('<span class="ui-button spwps--unit">'+data.unit+"</span>")},spin:function(event,ui){$input.val(ui.value).trigger("change")}})}))},$.fn.spwps_field_switcher=function(){return this.each((function(){var $switcher=$(this).find(".spwps--switcher");$switcher.on("click",(function(){var value=0,$input=$switcher.find("input");$switcher.hasClass("spwps--active")?$switcher.removeClass("spwps--active"):(value=1,$switcher.addClass("spwps--active")),$input.val(value).trigger("change")}))}))},$.fn.spwps_field_tabbed=function(){return this.each((function(){var $this=$(this),$links=$this.find(".spwps-tabbed-nav a"),$sections=$this.find(".spwps-tabbed-section");$links.on("click",(function(e){e.preventDefault();var $link=$(this),index=$link.index(),$section=$sections.eq(index);SPF_WPSP.helper.set_cookie("activeTabIndex",index),$link.addClass("spwps-tabbed-active").siblings().removeClass("spwps-tabbed-active"),$section.spwps_reload_script(),$section.removeClass("hidden").siblings().addClass("hidden")}));var activeTabIndex=SPF_WPSP.helper.get_cookie("activeTabIndex");null!==activeTabIndex?$links.eq(activeTabIndex).trigger("click"):$links.first().trigger("click")}))},$.fn.spwps_field_typography=function(){return this.each((function(){var base=this,$this=$(this),loaded_fonts=[],webfonts=spwps_typography_json.webfonts,googlestyles=spwps_typography_json.googlestyles,defaultstyles=spwps_typography_json.defaultstyles;base.sanitize_subset=function(subset){return subset=(subset=subset.replace("-ext"," Extended")).charAt(0).toUpperCase()+subset.slice(1)},base.sanitize_style=function(style){return googlestyles[style]?googlestyles[style]:style},base.load_google_font=function(font_family,weight,style){font_family&&"object"==typeof WebFont&&(weight=weight?weight.replace("normal",""):"",style=style?style.replace("normal",""):"",(weight||style)&&(font_family=font_family+":"+weight+style),-1===loaded_fonts.indexOf(font_family)&&WebFont.load({google:{families:[font_family]}}),loaded_fonts.push(font_family))},base.append_select_options=function($select,options,condition,type,is_multi){$select.find("option").not(":first").remove();var opts="";$.each(options,(function(key,value){var selected,name=value;selected=is_multi?condition&&-1!==condition.indexOf(value)?" selected":"":condition&&condition===value?" selected":"","subset"===type?name=base.sanitize_subset(value):"style"===type&&(name=base.sanitize_style(value)),opts+='<option value="'+value+'"'+selected+">"+name+"</option>"})),$select.append(opts).trigger("spwps.change").trigger("chosen:updated")},base.init=function(){var selected_styles=[],$typography=$this.find(".spwps--typography"),$type=$this.find(".spwps--type"),$styles=$this.find(".spwps--block-font-style"),unit=$typography.data("unit"),line_height_unit=$typography.data("line-height-unit"),exclude_fonts=$typography.data("exclude")?$typography.data("exclude").split(","):[],$chosen_selects;$this.find(".spwps--chosen").length&&$this.find("select").each((function(){var $chosen_select=$(this),$chosen_inited=$chosen_select.parent().find(".chosen-container");$chosen_inited.length&&$chosen_inited.remove(),$chosen_select.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})}));var $font_family_select=$this.find(".spwps--font-family"),first_font_family=$font_family_select.val();$font_family_select.find("option").not(":first-child").remove();var opts="";$.each(webfonts,(function(type,group){exclude_fonts&&-1!==exclude_fonts.indexOf(type)||(opts+='<optgroup label="'+group.label+'">',$.each(group.fonts,(function(key,value){var selected;opts+='<option value="'+(value="object"==typeof value?key:value)+'" data-type="'+type+'"'+(value===first_font_family?" selected":"")+">"+value+"</option>"})),opts+="</optgroup>")})),$font_family_select.append(opts).trigger("chosen:updated");var $font_style_block=$this.find(".spwps--block-font-style");if($font_style_block.length){var $font_style_select=$this.find(".spwps--font-style-select"),first_style_value=$font_style_select.val()?$font_style_select.val().replace(/normal/g,""):"";$font_style_select.on("change spwps.change",(function(event){var style_value=$font_style_select.val();!style_value&&selected_styles&&-1===selected_styles.indexOf("normal")&&(style_value=selected_styles[0]);var font_normal=style_value&&"italic"!==style_value&&"normal"===style_value?"normal":"",font_weight=style_value&&"italic"!==style_value&&"normal"!==style_value?style_value.replace("italic",""):font_normal,font_style=style_value&&"italic"===style_value.substr(-6)?"italic":"";$this.find(".spwps--font-weight").val(font_weight),$this.find(".spwps--font-style").val(font_style)}));var $extra_font_style_block=$this.find(".spwps--block-extra-styles");if($extra_font_style_block.length)var $extra_font_style_select=$this.find(".spwps--extra-styles"),first_extra_style_value=$extra_font_style_select.val()}var $subset_block=$this.find(".spwps--block-subset");if($subset_block.length)var $subset_select=$this.find(".spwps--subset"),first_subset_select_value=$subset_select.val(),subset_multi_select=$subset_select.data("multiple")||!1;var $backup_font_family_block=$this.find(".spwps--block-backup-font-family");$font_family_select.on("change spwps.change",(function(event){$subset_block.length&&$subset_block.addClass("hidden"),$extra_font_style_block.length&&$extra_font_style_block.addClass("hidden"),$backup_font_family_block.length&&$backup_font_family_block.addClass("hidden");var $selected=$font_family_select.find(":selected"),value=$selected.val(),type=$selected.data("type");if(type&&value){if("google"!==type&&"custom"!==type||!$backup_font_family_block.length||$backup_font_family_block.removeClass("hidden"),$font_style_block.length){var styles=defaultstyles;"google"===type&&webfonts[type].fonts[value][0]?styles=webfonts[type].fonts[value][0]:"custom"===type&&webfonts[type].fonts[value]&&(styles=webfonts[type].fonts[value]),selected_styles=styles;var set_auto_style=-1!==styles.indexOf("normal")?"normal":styles[0],set_style_value=first_style_value&&-1!==styles.indexOf(first_style_value)?first_style_value:set_auto_style;base.append_select_options($font_style_select,styles,set_style_value,"style"),first_style_value=!1,$font_style_block.removeClass("hidden"),"google"===type&&$extra_font_style_block.length&&styles.length>1&&(base.append_select_options($extra_font_style_select,styles,first_extra_style_value,"style",!0),first_extra_style_value=!1,$extra_font_style_block.removeClass("hidden"))}if("google"===type&&$subset_block.length&&webfonts[type].fonts[value][1]){var subsets=webfonts[type].fonts[value][1],set_auto_subset=subsets.length<2&&"latin"!==subsets[0]?subsets[0]:"",set_subset_value=first_subset_select_value&&-1!==subsets.indexOf(first_subset_select_value)?first_subset_select_value:set_auto_subset;set_subset_value=subset_multi_select&&first_subset_select_value?first_subset_select_value:set_subset_value,base.append_select_options($subset_select,subsets,set_subset_value,"subset",subset_multi_select),first_subset_select_value=!1,$subset_block.removeClass("hidden")}}else $styles.find(":input").val(""),$subset_block.length&&($subset_select.find("option").not(":first-child").remove(),$subset_select.trigger("chosen:updated")),$font_style_block.length&&($font_style_select.find("option").not(":first-child").remove(),$font_style_select.trigger("chosen:updated"));$type.val(type)})).trigger("spwps.change");var $preview_block=$this.find(".spwps--block-preview");if($preview_block.length){var $preview=$this.find(".spwps--preview");$this.on("change",SPF_WPSP.helper.debounce((function(event){$preview_block.removeClass("hidden");var font_family=$font_family_select.val(),font_weight=$this.find(".spwps--font-weight").val(),font_style=$this.find(".spwps--font-style").val(),font_size=$this.find(".spwps--font-size").val(),font_variant=$this.find(".spwps--font-variant").val(),line_height=$this.find(".spwps--line-height").val(),text_align=$this.find(".spwps--text-align").val(),text_transform=$this.find(".spwps--text-transform").val(),text_decoration=$this.find(".spwps--text-decoration").val(),text_color=$this.find(".spwps--color").val(),word_spacing=$this.find(".spwps--word-spacing").val(),letter_spacing=$this.find(".spwps--letter-spacing").val(),custom_style=$this.find(".spwps--custom-style").val(),type;"google"===$this.find(".spwps--type").val()&&base.load_google_font(font_family,font_weight,font_style);var properties={};font_family&&(properties.fontFamily=font_family),font_weight&&(properties.fontWeight=font_weight),font_style&&(properties.fontStyle=font_style),font_variant&&(properties.fontVariant=font_variant),font_size&&(properties.fontSize=font_size+unit),line_height&&(properties.lineHeight=line_height+line_height_unit),letter_spacing&&(properties.letterSpacing=letter_spacing+unit),word_spacing&&(properties.wordSpacing=word_spacing+unit),text_align&&(properties.textAlign=text_align),text_transform&&(properties.textTransform=text_transform),text_decoration&&(properties.textDecoration=text_decoration),text_color&&(properties.color=text_color),$preview.removeAttr("style"),custom_style&&$preview.attr("style",custom_style),$preview.css(properties)}),100)),$preview_block.on("click",(function(){$preview.toggleClass("spwps--black-background");var $toggle=$preview_block.find(".spwps--toggle");$toggle.hasClass("fa-toggle-off")?$toggle.removeClass("fa-toggle-off").addClass("fa-toggle-on"):$toggle.removeClass("fa-toggle-on").addClass("fa-toggle-off")})),$preview_block.hasClass("hidden")||$this.trigger("change")}},base.init()}))},$.fn.spwps_confirm=function(){return this.each((function(){$(this).on("click",(function(e){var confirm_text=$(this).data("confirm")||window.spwps_vars.i18n.confirm,confirm_answer;if(!confirm(confirm_text))return e.preventDefault(),!1;SPF_WPSP.vars.is_confirm=!0,SPF_WPSP.vars.form_modified=!1}))}))},$.fn.serializeObject=function(){var obj={};return $.each(this.serializeArray(),(function(i,o){var n=o.name,v=o.value;obj[n]=void 0===obj[n]?v:$.isArray(obj[n])?obj[n].concat(v):[obj[n],v]})),obj},$.fn.spwps_save=function(){return this.each((function(){var $this=$(this),$buttons=$(".spwps-save"),$panel=$(".spwps-options"),flooding=!1,timeout;$this.on("click",(function(e){if(!flooding){var $text=$this.data("save"),$value=$this.val();$buttons.attr("value",$text),$this.hasClass("spwps-save-ajax")?(e.preventDefault(),$panel.addClass("spwps-saving"),$buttons.prop("disabled",!0),window.wp.ajax.post("spwps_"+$panel.data("unique")+"_ajax_save",{data:$("#spwps-form").serializeJSONSPF_WPSP()}).done((function(response){if($(".spwps-error").remove(),Object.keys(response.errors).length){var error_icon='<i class="spwps-label-error spwps-error">!</i>';$.each(response.errors,(function(key,error_message){var $field=$('[data-depend-id="'+key+'"]'),$link=$('a[href="#tab='+$field.closest(".spwps-section").data("section-id")+'"]'),$tab=$link.closest(".spwps-tab-item");$field.closest(".spwps-fieldset").append('<p class="spwps-error spwps-error-text">'+error_message+"</p>"),$link.find(".spwps-error").length||$link.append(error_icon),$tab.find(".spwps-arrow .spwps-error").length||$tab.find(".spwps-arrow").append(error_icon)}))}$panel.removeClass("spwps-saving"),$buttons.prop("disabled",!0).attr("value","Changes Saved"),flooding=!1,SPF_WPSP.vars.form_modified=!1,SPF_WPSP.vars.$form_warning.hide(),clearTimeout(timeout);var $result_success=$(".spwps-form-success");$result_success.empty().append(response.notice).fadeIn("fast",(function(){timeout=setTimeout((function(){$result_success.fadeOut("fast")}),1e3)}))})).fail((function(response){alert(response.error)}))):SPF_WPSP.vars.form_modified=!1}flooding=!0}))}))},$.fn.spwps_options=function(){return this.each((function(){var $this=$(this),$content=$this.find(".spwps-content"),$form_success=$this.find(".spwps-form-success"),$form_warning=$this.find(".spwps-form-warning"),$save_button=$this.find(".spwps-header .spwps-save");SPF_WPSP.vars.$form_warning=$form_warning,$form_warning.length&&(window.onbeforeunload=function(){return!!SPF_WPSP.vars.form_modified||void 0},$content.on("change keypress",":input",(function(){SPF_WPSP.vars.form_modified||($form_success.hide(),$form_warning.fadeIn("fast"),SPF_WPSP.vars.form_modified=!0)}))),$form_success.hasClass("spwps-form-show")&&setTimeout((function(){$form_success.fadeOut("fast")}),1e3),$(document).keydown((function(event){if((event.ctrlKey||event.metaKey)&&83===event.which)return $save_button.trigger("click"),event.preventDefault(),!1}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var hex=parseInt(this._color,10).toString(16);if(this.error)return"";if(hex.length<6)for(var i=6-hex.length-1;i>=0;i--)hex="0"+hex;return"#"+hex}),SPF_WPSP.funcs.parse_color=function(color){var value=color.replace(/\s+/g,""),trans=-1!==value.indexOf("rgba")?parseFloat(100*value.replace(/^.*,(.+)\)/,"$1")):100,rgba;return{value:value,transparent:trans,rgba:trans<100}},$.fn.spwps_color=function(){return this.each((function(){var $input=$(this),picker_color=SPF_WPSP.funcs.parse_color($input.val()),palette_color=!window.spwps_vars.color_palette.length||window.spwps_vars.color_palette,$container;$input.hasClass("wp-color-picker")&&$input.closest(".wp-picker-container").after($input).remove(),$input.wpColorPicker({palettes:palette_color,change:function(event,ui){var ui_color_value=ui.color.toString();$container.removeClass("spwps--transparent-active"),$container.find(".spwps--transparent-offset").css("background-color",ui_color_value),$input.val(ui_color_value).trigger("change")},create:function(){$container=$input.closest(".wp-picker-container");var a8cIris=$input.data("a8cIris"),$transparent_wrap=$('<div class="spwps--transparent-wrap"><div class="spwps--transparent-slider"></div><div class="spwps--transparent-offset"></div><div class="spwps--transparent-text"></div><div class="spwps--transparent-button">transparent <i class="fa fa-toggle-off"></i></div></div>').appendTo($container.find(".wp-picker-holder")),$transparent_slider=$transparent_wrap.find(".spwps--transparent-slider"),$transparent_text=$transparent_wrap.find(".spwps--transparent-text"),$transparent_offset=$transparent_wrap.find(".spwps--transparent-offset"),$transparent_button=$transparent_wrap.find(".spwps--transparent-button");"transparent"===$input.val()&&$container.addClass("spwps--transparent-active"),$transparent_button.on("click",(function(){"transparent"!==$input.val()?($input.val("transparent").trigger("change").removeClass("iris-error"),$container.addClass("spwps--transparent-active")):($input.val(a8cIris._color.toString()).trigger("change"),$container.removeClass("spwps--transparent-active"))})),$transparent_slider.slider({value:picker_color.transparent,step:1,min:0,max:100,slide:function(event,ui){var slide_value=parseFloat(ui.value/100);a8cIris._color._alpha=slide_value,$input.wpColorPicker("color",a8cIris._color.toString()),$transparent_text.text(1===slide_value||0===slide_value?"":slide_value)},create:function(){var slide_value=parseFloat(picker_color.transparent/100),text_value=slide_value<1?slide_value:"";$transparent_text.text(text_value),$transparent_offset.css("background-color",picker_color.value),$container.on("click",".wp-picker-clear",(function(){a8cIris._color._alpha=1,$transparent_text.text(""),$transparent_slider.slider("option","value",100),$container.removeClass("spwps--transparent-active"),$input.trigger("change")})),$container.on("click",".wp-picker-default",(function(){var default_color=SPF_WPSP.funcs.parse_color($input.data("default-color")),default_value=parseFloat(default_color.transparent/100),default_text=default_value<1?default_value:"";a8cIris._color._alpha=default_value,$transparent_text.text(default_text),$transparent_slider.slider("option","value",default_color.transparent),"transparent"===default_color.value&&($input.removeClass("iris-error"),$container.addClass("spwps--transparent-active"))}))}})}})}))},$.fn.spwps_chosen=function(){return this.each((function(){var $this=$(this),$inited=$this.parent().find(".chosen-container"),is_sortable=$this.hasClass("spwps-chosen-sortable")||!1,is_ajax=$this.hasClass("spwps-chosen-ajax")||!1,is_multiple=$this.attr("multiple")||!1,set_width=is_multiple?"100%":"auto",set_options=$.extend({allow_single_deselect:!0,disable_search_threshold:10,width:set_width,no_results_text:window.spwps_vars.i18n.no_results_text},$this.data("chosen-settings"));if($inited.length&&$inited.remove(),is_ajax){var set_ajax_options=$.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:window.spwps_vars.i18n.typing_text,searching_text:window.spwps_vars.i18n.searching_text,no_results_text:window.spwps_vars.i18n.no_results_text},$this.data("chosen-settings"));$this.SPF_WPSPAjaxChosen(set_ajax_options)}else $this.chosen(set_options);if(is_multiple){var $hidden_select=$this.parent().find(".spwps-hide-select"),$hidden_value=$hidden_select.val()||[];$this.on("change",(function(obj,result){result&&result.selected?$hidden_select.append('<option value="'+result.selected+'" selected="selected">'+result.selected+"</option>"):result&&result.deselected&&$hidden_select.find('option[value="'+result.deselected+'"]').remove(),void 0!==window.wp.customize&&0===$hidden_select.children().length&&$hidden_select.data("customize-setting-link")&&window.wp.customize.control($hidden_select.data("customize-setting-link")).setting.set(""),$hidden_select.trigger("change")})),$this.SPF_WPSPChosenOrder($hidden_value,!0)}if(is_sortable){var $chosen_container,$chosen_choices=$this.parent().find(".chosen-container").find(".chosen-choices");$chosen_choices.bind("mousedown",(function(event){$(event.target).is("span")&&event.stopPropagation()})),$chosen_choices.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,ui){ui.placeholder.width(ui.item.innerWidth()),ui.placeholder.height(ui.item.innerHeight())},update:function(e,ui){var select_options="",chosen_object=$this.data("chosen"),$prev_select=$this.parent().find(".spwps-hide-select");$chosen_choices.find(".search-choice-close").each((function(){var option_array_index=$(this).data("option-array-index");$.each(chosen_object.results_data,(function(index,data){data.array_index===option_array_index&&(select_options+='<option value="'+data.value+'" selected>'+data.value+"</option>")}))})),$prev_select.children().remove(),$prev_select.append(select_options),$prev_select.trigger("change")}})}}))},$.fn.spwps_checkbox=function(){return this.each((function(){var $this=$(this),$input=$this.find(".spwps--input"),$checkbox=$this.find(".spwps--checkbox");$checkbox.on("click",(function(){$input.val(Number($checkbox.prop("checked"))).trigger("change")}))}))},$.fn.spwps_siblings=function(){return this.each((function(){var $this=$(this),$siblings=$this.find(".spwps--sibling"),multiple=$this.data("multiple")||!1;$siblings.on("click",(function(){var $sibling=$(this);multiple?$sibling.hasClass("spwps--active")?($sibling.removeClass("spwps--active"),$sibling.find("input").prop("checked",!1).trigger("change")):($sibling.addClass("spwps--active"),$sibling.find("input").prop("checked",!0).trigger("change")):($this.find("input").prop("checked",!1),$sibling.find("input").prop("checked",!0).trigger("change"),$sibling.addClass("spwps--active").siblings().removeClass("spwps--active"))}))}))},$.fn.spwps_help=function(){return this.each((function(){var $this=$(this),$tooltip,$class="";$this.on({mouseenter:function(){$this.find(".spwps-support").length>0&&($class="support-tooltip"),$tooltip=$('<div class="spwps-tooltip '+$class+'"></div>').html($this.find(".spwps-help-text").html()).appendTo("body");var offset_left=SPF_WPSP.vars.is_rtl?$this.offset().left-$tooltip.outerWidth():$this.offset().left+24,$top=$this.offset().top-($tooltip.outerHeight()/2-14);$this.find(".spwps-support").length>0&&($top=$this.offset().top+54,offset_left=$this.offset().left-245),$tooltip.css({top:$top,left:offset_left})},mouseleave:function(){void 0!==$tooltip&&($tooltip.is(":hover")||$tooltip.remove())}}),$("body").on("mouseleave",".spwps-tooltip",(function(){void 0!==$tooltip&&$tooltip.remove()}))}))},SPF_WPSP.vars.$window.on("resize spwps.resize",SPF_WPSP.helper.debounce((function(event){var window_width;(navigator.userAgent.indexOf("AppleWebKit/")>-1?SPF_WPSP.vars.$window.width():window.innerWidth)<=782&&!SPF_WPSP.vars.onloaded&&($(".spwps-section").spwps_reload_script(),SPF_WPSP.vars.onloaded=!0)}),200)).trigger("spwps.resize"),$.fn.spwps_reload_script=function(options){var settings=$.extend({dependency:!0},options);return this.each((function(){var $this=$(this);$this.data("inited")||($this.children(".spwps-field-code_editor").spwps_field_code_editor(),$this.children(".spwps-field-fieldset").spwps_field_fieldset(),$this.children(".spwps-field-slider").spwps_field_slider(),$this.children(".spwps-field-spinner").spwps_field_spinner(),$this.children(".spwps-field-switcher").spwps_field_switcher(),$this.children(".spwps-field-typography").spwps_field_typography(),$this.children(".spwps-field-border").find(".spwps-color").spwps_color(),$this.children(".spwps-field-background").find(".spwps-color").spwps_color(),$this.children(".spwps-field-color").find(".spwps-color").spwps_color(),$this.children(".spwps-field-color_group").find(".spwps-color").spwps_color(),$this.children(".spwps-field-typography").find(".spwps-color").spwps_color(),$this.children(".spwps-field-select").find(".spwps-chosen").spwps_chosen(),$this.children(".spwps-field-checkbox").find(".spwps-checkbox").spwps_checkbox(),$this.children(".spwps-field-tabbed").spwps_field_tabbed(),$this.children(".spwps-field-button_set").find(".spwps-siblings").spwps_siblings(),$this.children(".spwps-field-image_select, .spwps-field-icon_select").find(".spwps-siblings").spwps_siblings(),$this.children(".spwps-field").find(".spwps-help").spwps_help(),$(".sp-wpsp-mbf-banner").find(".sp-wpsp-submit-options").spwps_help(),settings.dependency&&$this.spwps_dependency(),$this.data("inited",!0),$(document).trigger("spwps-reload-script",$this))}))},$(document).ready((function(){$(".spwps-save").spwps_save(),$(".spwps-options").spwps_options(),$(".spwps-sticky-header").spwps_sticky(),$(".spwps-nav-options").spwps_nav_options(),$(".spwps-nav-metabox").spwps_nav_metabox(),$(".spwps-search").spwps_search(),$(".spwps-confirm").spwps_confirm(),$(".spwps-expand-all").spwps_expand_all(),$(".spwps-onload").spwps_reload_script()})),$(document).on("keyup change",".spwps-options #spwps-form",(function(e){e.preventDefault(),$(this).find(".spwps-save.spwps-save-ajax").attr("value","Save Settings").attr("disabled",!1)}))}(jQuery,window,document),jQuery((function($){function wpspro_copyToClipboard(element){var $temp=$("<input>");$("body").append($temp),$temp.val($(element).text()).select(),document.execCommand("copy"),$temp.remove()}function wpspro_SelectText(element){var r=document.createRange(),w=element.get(0);r.selectNodeContents(w);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(r)}$(".wpspro_shortcode .wpspro-col-lg-3 .selectable").on("click",(function(e){e.preventDefault(),wpspro_copyToClipboard($(this)),wpspro_SelectText($(this)),$(this).focus().select(),jQuery(".wpspro-after-copy-text:not(.wpspro-pagination-not-work)").animate({opacity:1,bottom:25},300),setTimeout((function(){jQuery(".wpspro-after-copy-text:not(.wpspro-pagination-not-work)").animate({opacity:0},200),jQuery(".wpspro-after-copy-text:not(.wpspro-pagination-not-work)").animate({bottom:0},0)}),2e3)})),$(".post-type-sp_wps_shortcodes .column-shortcode input").on("click",(function(e){var copyText;e.preventDefault(),$(this).select(),document.execCommand("copy"),jQuery(".wpspro-after-copy-text").animate({opacity:1,bottom:25},300),setTimeout((function(){jQuery(".wpspro-after-copy-text").animate({opacity:0},200),jQuery(".wpspro-after-copy-text").animate({bottom:0},0)}),2e3)}));var $export_type=$(".wpsp_what_export").find("input:checked").val();function isValidJSONString(str){try{JSON.parse(str)}catch(e){return!1}return!0}$(".wpsp_what_export").on("change",(function(){$export_type=$(this).find("input:checked").val()})),$(".wpsp_export .spwps--button").on("click",(function(event){event.preventDefault();var $shortcode_ids=$(".wpsp_post_ids select").val(),$ex_nonce=$("#spwps_options_noncesp_woo_product_slider_tools").val(),selected_shortcode;if("all_shortcodes"===$export_type||"selected_shortcodes"===$export_type)var data={action:"wpsp_export_shortcodes",wpsp_ids:"selected_shortcodes"===$export_type?$shortcode_ids:"all_shortcodes",nonce:$ex_nonce};else $(".spwps-form-result.spwps-form-success").text("No carousel selected.").show(),setTimeout((function(){$(".spwps-form-result.spwps-form-success").hide().text("")}),3e3);$.post(ajaxurl,data,(function(resp){if(resp){if(isValidJSONString(resp))var json=JSON.stringify(JSON.parse(resp));else var json=JSON.stringify(resp);json=[json];var blob=new Blob(json),link=document.createElement("a"),wpsp_time=$.now();link.href=window.URL.createObjectURL(blob),link.download="woo-product-slider-pro-export-"+wpsp_time+".json",link.click(),$(".spwps-form-result.spwps-form-success").text("Exported successfully!").show(),setTimeout((function(){$(".spwps-form-result.spwps-form-success").hide().text(""),$(".wpsp_post_ids select").val("").trigger("chosen:updated")}),3e3)}}))})),$(".wpsp_import button.import").on("click",(function(event){event.preventDefault();var $this=$(this),this_text=$(this).text(),wpsp_shortcodes=$("#import").prop("files")[0];if(""!=$("#import").val()){$this.attr("disabled",!0).css({opacity:"0.7"}).html(this_text+' <i class="fa fa-spinner"></i>');var $im_nonce=$("#spwps_options_noncesp_woo_product_slider_tools").val(),reader=new FileReader;reader.readAsText(wpsp_shortcodes),reader.onload=function(event){var jsonObj=JSON.stringify(event.target.result);$.ajax({url:ajaxurl,type:"POST",data:{shortcode:jsonObj,action:"wpsp_import_shortcodes",nonce:$im_nonce},success:function(resp){$(".spwps-form-result.spwps-form-success").text("Imported successfully!").show(),$this.html(this_text),setTimeout((function(){$(".spwps-form-result.spwps-form-success").hide().text(""),$("#import").val(""),$this.removeAttr("disabled").css({opacity:"1"}),window.location.replace($("#wpsp_shortcode_link_redirect").attr("href"))}),2e3)},error:function(resp){alert("Error: something is wrong!"),$("#import").val(""),$this.html(this_text).removeAttr("disabled").css({opacity:"1"}).html(this_text)}})}}else $(".spwps-form-result.spwps-form-success").text("No exported json file chosen.").show(),setTimeout((function(){$(".spwps-form-result.spwps-form-success").hide().text("")}),3e3)})),$(".template_style").on("change",(function(){var selected_style;"custom"==$(".template_style input:checked").val()&&$(".theme_style option").eq(0).prop("selected",!0)})),$(".theme_style").on("change",(function(){var str="";$(".theme_style option:selected").each((function(){str=$(this).val()}));var src=$(".theme_style img").attr("src"),result=src.match(/theme\/(.+)\.png/);src=src.replace(result[1],str),$(".theme_style img").attr("src",src)}));var preview_box=$("#spwps-preview-box"),preview_display=$("#spwps_live_preview").hide(),selectTab;function updateIconType(selector,regex,type){var str="";$(selector+" option:selected").each((function(){str=$(this).val()}));var src=$(selector+" .spwps-fieldset img").attr("src"),result=src.match(regex);if(result&&result[1]&&(src=src.replace(result[1],str),$(selector+" .spwps-fieldset img").attr("src",src)),type.includes(str))$(selector+" .wps-pro-notice").hide();else{var noticeText="This is a <a href='https://wooproductslider.io/pricing/?ref=1' target='_blank'>Pro Feature!</a>";$(selector+" .wps-pro-notice").html(noticeText).show()}}function updateUI(selectValue){"slider"===selectValue?($(".spwps-metabox .spwps-nav-metabox li a[data-section='sp_wps_shortcode_options_4']").show(),$("#sp_wps_shortcode_options .wps_item_margin_between .spwps--space:nth-child(2)").hide()):($(".spwps-metabox .spwps-nav-metabox li a[data-section='sp_wps_shortcode_options_4']").hide(),$("#sp_wps_shortcode_options .wps_item_margin_between .spwps--space:nth-child(2)").show())}$(document).on("click","#spwps-show-preview:contains(Hide)",(function(e){var _this;e.preventDefault(),$(this).html('<i class="fa fa-eye" aria-hidden="true"></i> Show Preview'),preview_box.html(""),preview_display.hide()})),$(document).on("click","#spwps-show-preview:not(:contains(Hide))",(function(e){e.preventDefault();var previewJS=window.spwps_vars.previewJS,_data=$("form#post").serialize(),_this=$(this),data={action:"spwps_preview_meta_box",data:_data,ajax_nonce:$("#spwps_metabox_noncesp_wps_shortcode_options").val()};$.ajax({type:"POST",url:ajaxurl,data:data,error:function(response){console.log(response)},success:function(response){preview_display.show(),preview_box.html(response),$.getScript(previewJS,(function(){_this.html('<i class="fa fa-eye-slash" aria-hidden="true"></i> Hide Preview'),$(document).on("keyup change",(function(e){e.preventDefault(),_this.html('<i class="fa fa-refresh" aria-hidden="true"></i> Update Preview')})),$("html, body").animate({scrollTop:preview_display.offset().top-50},"slow")})),$(".wps-pagination").on("click",(function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),$(".wpspro-pagination-not-work").animate({opacity:1,bottom:25},300),setTimeout((function(){jQuery(".wpspro-pagination-not-work").animate({opacity:0},200),jQuery(".wpspro-pagination-not-work").animate({bottom:0},0)}),2500)}))}})})),$(".wps-navigation-position").length>0&&updateIconType(".wps-navigation-position",/navigation-preview\/(.+)\.svg/,"top_right"),$(".wps-navigation-position").on("change",(function(){updateIconType(".wps-navigation-position",/navigation-preview\/(.+)\.svg/,"top_right")})),updateUI($(".spwps-field-image_select.layout_preset .spwps--image-group .spwps--image").find("input:checked").val()),$(document).on("click",".spwps-field-image_select.layout_preset .spwps--image-group .spwps--image",(function(event){var selectValue;event.stopPropagation(),updateUI($(this).find("input:checked").val())}))}));