jQuery(document).ready((function($){function wps_js_update_store_costs(cost){$("#store_shipping_cost").val(cost),$("body").trigger("update_checkout")}function wps_load_select2(){null!=wps_ajax.disable_select2&&1==wps_ajax.disable_select2&&$("select#shipping-pickup-store-select").select2()}function wps_get_store_data_by_id(_id,_country){if($(".store-template").length&&(null!=_country||""!=_country)){var post_template=wp.template("wps-store-details");if(void 0!==wps_ajax.stores[_country]){var store=wps_ajax.stores[_country][_id],template_data={};$.each(store,(function(index,value){template_data[value.key]={key:value.key,value:value.value}}));var html=post_template(template_data);$(".shipping-pickup-store .store-template").html(html),$(document).trigger("pickup_store_selected",[_id])}}}$(document).on("change","select.wps-costs-per-store",(function(){var id=$("#shipping-pickup-store-select option:selected").data("id");wps_js_update_store_costs($(this).find("option:selected").data("cost"))})),$(document).on("updated_checkout",(function(){var id,country;wps_get_store_data_by_id($("#shipping-pickup-store-select option:selected").data("id"),$("#shipping-pickup-store-select option:selected").data("country")),$("#store_shipping_cost").length&&""==$("#store_shipping_cost").val()&&$("select.wps-costs-per-store").val()>0&&wps_js_update_store_costs($("select.wps-costs-per-store").find("option:selected").data("cost")),wps_load_select2()})),$(document).on("change","#shipping-pickup-store-select",(function(){$("body").trigger("update_checkout")})),wps_load_select2()}));