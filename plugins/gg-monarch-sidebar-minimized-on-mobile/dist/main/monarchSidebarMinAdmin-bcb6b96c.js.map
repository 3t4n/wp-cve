{"version":3,"sources":["webpack:///./admin/assets/js/modules/DPNotices.js","webpack:///./admin/assets/js/gg-monarch-sidebar-minimized-on-mobile-admin.js"],"names":["axios","defaults","headers","post","DPNotices","config","target","cookieVal","expiresDays","notice","$","closest","length","id","attr","remove","Cookies","set","expires","on","event","closeNoticeAndSaveCookieFlag","type","then","response","catch","error","console","log","AxiosError","preventDefault","stopPropagation","sendFeedbackToDeepPresentationCom","newSettings","urlJoin","siteUrl","nonces","adminator_nonce","wp_rest","dpDebugEn","this","baseURL","activateA4R","activateShowTillUserReactNotices","jQuery","document","ready","window","monarch_admin_config"],"mappings":";;;;;;;;;;;;;;;;gTAMAA,IAAMC,SAASC,QAAQC,KAAK,gBAAkB,mB,IAGzBC,E,aAEpB,WAAYC,GAAS,IAAD,4EASW,SAACC,GAA+C,IAAvCC,EAAsC,uDAA1B,IAAKC,EAAqB,uDAAP,GAChEC,EAASC,EAAEJ,GAAQK,QAAQ,oBACjC,GAAIF,GAAUA,EAAOG,OAAQ,CAC5B,IAAMC,EAAKJ,EAAOK,KAAK,MACvBL,EAAOM,SACHF,GACHG,IAAQC,IAAIJ,EAAIN,EAAW,CAAEW,QAASV,QAfrB,qDA0Be,WAClCE,EAAE,uGAAuGS,GAAG,SAAS,SAACC,GACrH,EAAKC,6BAA6BD,EAAMd,OAAQ,IAAK,UA5BnC,sDAgCgB,SAACgB,GACpCtB,IAAMG,KAAN,qGAAyGmB,IACvGC,MAAK,SAAAC,OAGLC,OAAM,SAAAC,GACNC,QAAQC,IAAI,IAAIC,IAAWH,UAtCV,gCA0CN,WACbhB,EAAE,yBAAyBS,GAAG,SAAS,SAACC,GACvCA,EAAMU,iBACNV,EAAMW,kBACN,EAAKV,6BAA6BD,EAAMd,OAAQ,IAAK,IACrD,EAAK0B,kCAAkC,kBAGxCtB,EAAE,qBAAqBS,GAAG,SAAS,SAACC,GACnCA,EAAMU,iBACNV,EAAMW,kBACN,EAAKV,6BAA6BD,EAAMd,OAAQ,IAAK,IACrD,EAAK0B,kCAAkC,cAGxCtB,EAAE,gBAAgBS,GAAG,SAAS,SAACC,GAC9B,EAAKC,6BAA6BD,EAAMd,OAAQ,IAAK,IACrD,EAAK0B,kCAAkC,YA3DrB,qCA+DD,SAACC,GAEnBjC,IAAMG,KAAK+B,IAAQ,EAAK7B,OAAO8B,QAAS,yFAA2F,EAAK9B,OAAO+B,OAAOC,iBAAkBJ,EAAa,CAAE/B,QAAS,CAAE,aAAc,EAAKG,OAAO+B,OAAOE,WACjOf,MAAK,SAAAC,OAGLC,OAAM,SAAAC,GACNC,QAAQC,IAAI,IAAIC,IAAWH,UArEzBrB,EAAOkC,WAAWZ,QAAQC,IAAI,aAClCY,KAAKnC,OAASA,EACdL,IAAMC,SAASwC,QAAUD,KAAKnC,OAAO8B,QACrCK,KAAKE,cACLF,KAAKG,sCCbPC,OAAOC,UAAUC,OAAM,SAAUpC,GAC7BqC,OAAOrC,EAAIkC,OACX,IAAIxC,EAAU4C,2B","file":"main/monarchSidebarMinAdmin-bcb6b96c.js","sourcesContent":["import axios from 'axios';\r\nimport AxiosError from 'axios-error';\r\nimport urlJoin from 'url-join';\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\naxios.defaults.headers.post['Content-Type'] = 'application/json';\r\n\r\n\r\nexport default class DPNotices {\r\n\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('DPNotices');\r\n\t\tthis.config = config;\r\n\t\taxios.defaults.baseURL = this.config.siteUrl;\r\n\t\tthis.activateA4R();\r\n\t\tthis.activateShowTillUserReactNotices();\r\n\t}\r\n\r\n\r\n\tcloseNoticeAndSaveCookieFlag = (target, cookieVal = '1', expiresDays = 30) => {\r\n\t\tconst notice = $(target).closest('.dp-msmom-notice');\r\n\t\tif (notice && notice.length) {\r\n\t\t\tconst id = notice.attr('id');\r\n\t\t\tnotice.remove();\r\n\t\t\tif (id) {\r\n\t\t\t\tCookies.set(id, cookieVal, { expires: expiresDays });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* this.adjustWpSettings({\r\n\t\t\t'a4r-already': true,\r\n\t\t\t'expires': expiresDays\r\n\t\t});*/\r\n\r\n\t}\r\n\r\n\tactivateShowTillUserReactNotices = () => {\r\n\t\t$('.dp-notice-show-till-user-react .dp-notice__button, .dp-notice-show-till-user-react .notice-dismiss').on('click', (event) => {\r\n\t\t\tthis.closeNoticeAndSaveCookieFlag(event.target, '1', 30);\r\n\t\t});\r\n\t}\r\n\r\n\tsendFeedbackToDeepPresentationCom = (type) => {\r\n\t\taxios.post(`https://deeppresentation.com/wp-json/dp-feedback/gg-monarch-sidebar-minimized-on-mobile/v1/${type}`)\r\n\t\t\t.then(response => {\r\n\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(new AxiosError(error));\r\n\t\t\t});\r\n\t}\r\n\r\n\tactivateA4R = () => {\r\n\t\t$('#a4r-link-already-did').on('click', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.closeNoticeAndSaveCookieFlag(event.target, '1', 30);\r\n\t\t\tthis.sendFeedbackToDeepPresentationCom('already-did');\r\n\t\t});\r\n\r\n\t\t$('#a4r-link-no-good').on('click', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.closeNoticeAndSaveCookieFlag(event.target, '1', 15);\r\n\t\t\tthis.sendFeedbackToDeepPresentationCom('no-good');\r\n\t\t});\r\n\r\n\t\t$('#a4r-link-OK').on('click', (event) => {\r\n\t\t\tthis.closeNoticeAndSaveCookieFlag(event.target, '1', 50);\r\n\t\t\tthis.sendFeedbackToDeepPresentationCom('ok');\r\n\t\t});\r\n\t}\r\n\r\n\tadjustWpSettings = (newSettings) => {\r\n\t\t// adjust settings in db\r\n\t\taxios.post(urlJoin(this.config.siteUrl, '/wp-json/dpmonarchsidebarminimizedonmobile/v1/update-dp-basic-options?adminator_nonce=' + this.config.nonces.adminator_nonce), newSettings, { headers: { 'X-WP-Nonce': this.config.nonces.wp_rest } })\r\n\t\t\t.then(response => {\r\n\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(new AxiosError(error));\r\n\t\t\t});\r\n\t}\r\n\r\n}","import DPNotices from './modules/DPNotices';\r\n\r\n\r\njQuery(document).ready(function ($) {\r\n    window.$ = jQuery;\r\n    new DPNotices(monarch_admin_config);\r\n});"],"sourceRoot":""}