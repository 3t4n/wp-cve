function wpToSocialProReinitAutosize(){var $;0!=($=jQuery)(".wpzinc-autosize-js",$(wp_to_social_pro.status_form)).length&&(autosize.destroy($(".wpzinc-autosize-js")),autosize($(".wpzinc-autosize-js")))}function wpToSocialProReinitAutocomplete(){wp_zinc_autocomplete_destroy(),wp_zinc_autocomplete_setup(),wp_zinc_autocomplete_initialize()}function wpToSocialProInitTags(){var $;0!=($=jQuery)("select.tags",$(wp_to_social_pro.status_form)).length&&$("select.tags",$(wp_to_social_pro.status_form)).each((function(){$(this).on("change.wp-to-social-pro",(function(t){var o=$(this).val(),a=$(this).attr("data-textarea"),s=$("option:selected",$(this)),e=$(this).closest(".wp-to-social-pro-status-form"),i=$(a,$(e)),_=$(i).val();if(void 0!==$(s).data("question")){var r=prompt($(s).data("question"),$(s).data("default-value"));0==r.length&&(r=$(s).data("default-value")),o=o.replace($(s).data("replace"),r)}var p=$(i)[0].selectionStart;p>0&&(" "!=_.substring(p-1,p)&&(o=" "+o)," "!=_.substring(p,p+1)&&(o+=" ")),o.trim().length>0&&$(i).val(_.substring(0,p)+o+_.substring(p)).trigger("change"),$(this).val("")}))}))}function wpToSocialProInitSelectize(t,o,a,s){var $;($=jQuery)(".wpzinc-selectize",$(t)).each((function(){var t=$(this).attr("id"),e=!1,_=!1,r={},p=[];o&&a&&(e=$('div.statuses[data-profile-id="'+o+'"][data-action="'+a+'"]'),_=$('tr[data-status-index="'+s+'"]',$(e)),p=void 0!==(r=JSON.parse($(_).attr("data-labels")))[t]?r[t]:[]),$(this).selectize({valueField:"id",labelField:"text",searchField:"text",plugins:["drag_drop","remove_button"],options:p,delimiter:",",persist:!1,create:!1,load:function(t,o){if(!t.length||t.length<3)return o();var a=this.$input.data("action"),s=this.$input.data("taxonomy"),e=this.$input.data("nonce-key");$.ajax({url:ajaxurl,data:{action:a,taxonomy:s,nonce:wp_to_social_pro[e],q:t,page:10},error:function(t,a,s){o()},success:function(t){o(t.data)}})},onChange:function(o){if(_){var a=[],s=this.items.length;for(i=0;i<s;i++)a.push({id:this.options[this.items[i]].id,text:this.options[this.items[i]].text});var e=JSON.parse($(_).attr("data-labels"));e[t]=a,$(_).data("labels",JSON.stringify(e)).attr("data-labels",JSON.stringify(e))}}})}))}function wpToSocialProDestroySelectize(t){var $;($=jQuery)(".wpzinc-selectize",$(t)).each((function(){this.selectize&&this.selectize.destroy()}))}function wpToSocialProReindexStatuses(t){var $;($=jQuery)("tr.sortable",$(t)).each((function(t){$(this).data("status-index",t).attr("data-status-index",t),$("td.count ",$(this)).html("#"+(t+1)),0==t?$(this).addClass("first"):$(this).removeClass("first")}))}function wpToSocialProUpdateScheduleOptions(t){!function($){if(0!=$("select.schedule",$(wp_to_social_pro.status_form)).length)switch($("select.schedule",$(wp_to_social_pro.status_form)).val()){case"custom":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).show(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("after "+t).show(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"custom_relative":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).hide(),$("span.relative",$(wp_to_social_pro.status_form)).show(),$("span.custom",$(wp_to_social_pro.status_form)).text("after "+t).show(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"custom_field":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).show(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).show(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"_EventStartDate":case"_EventEndDate":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).show(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).show(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"_event_start_date":case"_event_end_date":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).show(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).show(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"mec_start_datetime":case"mec_end_datetime":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).show(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).show(),$("span.specific",$(wp_to_social_pro.status_form)).hide();break;case"specific":$("div.schedule",$(wp_to_social_pro.status_form)).show(),$("span.schedule",$(wp_to_social_pro.status_form)).show(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).hide(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).show();break;default:$("div.schedule",$(wp_to_social_pro.status_form)).hide(),$("span.schedule",$(wp_to_social_pro.status_form)).hide(),$("span.hours_mins_secs",$(wp_to_social_pro.status_form)).hide(),$("span.relative",$(wp_to_social_pro.status_form)).hide(),$("span.custom",$(wp_to_social_pro.status_form)).text("").hide(),$("span.custom_field",$(wp_to_social_pro.status_form)).hide(),$("span.the_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.events_manager",$(wp_to_social_pro.status_form)).hide(),$("span.modern_events_calendar",$(wp_to_social_pro.status_form)).hide(),$("span.specific",$(wp_to_social_pro.status_form)).hide()}}(jQuery)}function wpToSocialProUpdateImageOptions(){!function($){if(0!=$("select.image",$(wp_to_social_pro.status_form)).length)switch($("select.image",$(wp_to_social_pro.status_form)).val()){case"3":case"4":$("div.text-to-image",$(wp_to_social_pro.status_form)).show();break;default:$("div.text-to-image",$(wp_to_social_pro.status_form)).hide()}}(jQuery)}function wpToSocialProUpdateGoogleBusinessOptions(){var $;0!=($=jQuery)("select#googlebusiness_post_type",$(wp_to_social_pro.status_form)).length&&($("tr.whats_new",$(wp_to_social_pro.status_form)).hide(),$("tr.event",$(wp_to_social_pro.status_form)).hide(),$("tr.offer",$(wp_to_social_pro.status_form)).hide(),$("tr."+$("select#googlebusiness_post_type",$(wp_to_social_pro.status_form)).val(),$(wp_to_social_pro.status_form)).show())}function wpToSocialProAddStatus(t,o){var $,a,s,e;$=jQuery,a=$('div.statuses[data-profile-id="'+t+'"][data-action="'+o+'"]'),s=$("tbody",$(a)),e=$("tr.status",$(s)).last(),$(s).first().after($(e).clone()),wpToSocialProReindexStatuses(a),wpToSocialProUpdateStatuses()}function wpToSocialProEditStatus(t,o,a,s,e){wpToSocialProDestroySelectize(wp_to_social_pro.status_form),wpToSocialProPopulateStatusForm(t,o,a,s,e),wpToSocialProUpdateScheduleOptions(a),wpToSocialProUpdateImageOptions(),wpToSocialProUpdateGoogleBusinessOptions(),wpToSocialProDisplayStatusForm(t,a,s),wpToSocialProReinitAutosize(),wpToSocialProReinitAutocomplete(),wpToSocialProInitSelectize(wp_to_social_pro.status_form,t,a,s)}function wpToSocialProDeleteStatus(t,o,a){!function($){if(confirm(wp_to_social_pro.delete_status_message)){var s=$('div.statuses[data-profile-id="'+t+'"][data-action="'+o+'"]'),e=$('tr[data-status-index="'+a+'"]',$(s));$(e).remove(),wpToSocialProReindexStatuses(s),wpToSocialProUpdateStatuses()}}(jQuery)}function wpToSocialProUpdateStatus(t,o,a){var $,s,e,i,_;$=jQuery,s=$('div.statuses[data-profile-id="'+t+'"][data-action="'+o+'"] tr[data-status-index="'+a+'"]'),e=-1,i=-1,(_=JSON.parse($(s).attr("data-status"))).conditions={},_.custom_fields={},_.authors_custom_fields={},_.terms={},$.each($(wp_to_social_pro.status_form).find("input, select, textarea").serializeArray(),(function(t,o){switch(o.name=o.name.replace(wp_to_social_pro.plugin_name+"_",""),o.name){case"sub_profile":""!==$('input[name="'+wp_to_social_pro.plugin_name+"_"+o.name+'"]',$(wp_to_social_pro.status_form)).val()?_[o.name]=$('input[name="'+wp_to_social_pro.plugin_name+"_"+o.name+'"]',$(wp_to_social_pro.status_form)).val():$('select[name="'+wp_to_social_pro.plugin_name+"_"+o.name+'"]',$(wp_to_social_pro.status_form)).val()&&(_[o.name]=$('select[name="'+wp_to_social_pro.plugin_name+"_"+o.name+'"]',$(wp_to_social_pro.status_form)).val());break;case"custom_fields[key][]":if(e++,""==o.value)break;_.custom_fields[e]={},_.custom_fields[e].key=o.value;break;case"custom_fields[compare][]":if(void 0===_.custom_fields[e])break;_.custom_fields[e].compare=o.value;break;case"custom_fields[value][]":if(void 0===_.custom_fields[e])break;_.custom_fields[e].value=o.value;break;case"authors":case"authors_roles":if("false"==o.value)break;_[o.name]=o.value.split(",");break;case"authors_custom_fields[key][]":if(i++,""==o.value)break;_.authors_custom_fields[i]={},_.authors_custom_fields[i].key=o.value;break;case"authors_custom_fields[compare][]":if(void 0===_.authors_custom_fields[i])break;_.authors_custom_fields[i].compare=o.value;break;case"authors_custom_fields[value][]":if(void 0===_.authors_custom_fields[i])break;_.authors_custom_fields[i].value=o.value;break;default:var a=o.name.match(/conditions\[([^)]+)\]/);if(a){_.conditions[a[1]]=o.value;break}var s=o.name.match(/terms\[([^)]+)\]/);if(s){_.terms[s[1]]=o.value.split(",");break}"true"==o.value&&(o.value=!0),"false"==o.value&&(o.value=!1);var r=o.name.match(/(.*?)\[(.*?)\]/);null!=r?_[r[1]][r[2]]=o.value:_[o.name]=o.value}})),$(s).data("status",JSON.stringify(_)).attr("data-status",JSON.stringify(_)),wpToSocialProUpdateStatuses(),$.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.get_status_row_action,nonce:wp_to_social_pro.get_status_row_nonce,post_type:wp_to_social_pro.post_type,post_action:o,status:JSON.stringify(_)},error:function(t,o,a){alert("wpToSocialProUpdateStatus(): error: "+t.status+" "+t.statusText)},success:function(t){t.success||alert(t.data),$("td.message",$(s)).text(t.data.message),$("td.image",$(s)).text(t.data.image),$("td.schedule",$(s)).text(t.data.schedule)}})}function wpToSocialProPopulateStatusForm(t,o,a,s,e){var $;($=jQuery)("div.conditional",$(wp_to_social_pro.status_form)).addClass("hidden"),""!==o&&$("div.conditional."+o.service,$(wp_to_social_pro.status_form)).removeClass("hidden"),$("input, select, textarea",$(wp_to_social_pro.status_form)).each((function(){var t=$(this).attr("name");if($(this).prop("nodeName").toLowerCase(),void 0!==t)switch(t=t.replace(wp_to_social_pro.plugin_name+"_","")){case"image":switch(o.service){case"twitter":$('option[value="1"]',$(this)).attr("disabled",!0),$('option[value="3"]',$(this)).attr("disabled",!0);break;case"pinterest":case"instagram":case"googlebusiness":$('option[value="0"]',$(this)).prop("disabled",!0),$('option[value="1"]',$(this)).prop("disabled",!0),$('option[value="3"]',$(this)).prop("disabled",!0);break;case"mastodon":$('option[value="-1"]',$(this)).prop("disabled",!0),$('option[value="1"]',$(this)).prop("disabled",!0),$('option[value="3"]',$(this)).prop("disabled",!0);break;default:$("option",$(this)).prop("disabled",!1)}$(this).val(e[t]);break;case"sub_profile":if("pinterest"!=o.service){$(this).addClass("hidden");break}if(o.can_be_subprofile){$(this).addClass("hidden");break}if(void 0!==o.subprofiles)if(Object.keys(o.subprofiles).length){$("option",$('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form))).remove();for(let t in o.subprofiles)$('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).append($("<option></option>").attr("value",o.subprofiles[t].id).text(o.subprofiles[t].name));$('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).removeClass("hidden"),$('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).addClass("hidden"),$('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).val(e[t])}else $("div.notice-inline.pinterest",$(wp_to_social_pro.status_form)).removeClass("hidden"),$('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).addClass("hidden"),$('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).addClass("hidden");else $('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).addClass("hidden"),$('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).removeClass("hidden"),$('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',$(wp_to_social_pro.status_form)).val(e[t]);break;case"custom_fields[key][]":for(let t in e.custom_fields)$('input[name="'+wp_to_social_pro.plugin_name+'_custom_fields[key][]"]',$(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].key),$('select[name="'+wp_to_social_pro.plugin_name+'_custom_fields[compare][]"]',$(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].compare),$('input[name="'+wp_to_social_pro.plugin_name+'_custom_fields[value][]"]',$(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].value),wpzinc_table_row_add("custom-field",$(this).closest("table"));break;case"custom_fields[compare][]":case"custom_fields[value][]":case"authors_custom_fields[compare][]":case"authors_custom_fields[value][]":break;case"authors":case"authors_roles":if(!e[t])break;$('input[name="'+$(this).attr("name")+'"]').val(e[t].join(","));break;case"authors_compare":case"authors_roles_compare":if(!e[t])break;$('select[name="'+$(this).attr("name")+'"]').val(e[t]);break;case"authors_custom_fields[key][]":for(let t in e.authors_custom_fields)$('input[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[key][]"]',$(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].key),$('select[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[compare][]"]',$(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].compare),$('input[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[value][]"]',$(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].value),wpzinc_table_row_add("authors-custom-field",$(this).closest("table"));break;default:var a=t.match(/conditions\[([^)]+)\]/);if(a){void 0!==e.conditions[a[1]]&&$(this).val(e.conditions[a[1]]);break}var s=t.match(/terms\[([^)]+)\]/);if(s){void 0!==e.terms[s[1]]&&$(this).val(e.terms[s[1]].join(","));break}var i=t.match(/(.*?)\[(.*?)\]/);if(null!=i){$(this).val(e[i[1]][i[2]]);break}$(this).val(e[t])}})),$(wp_to_social_pro.status_form).data("profile-id",t).attr("data-profile-id",t),$(wp_to_social_pro.status_form).data("action",a).attr("data-action",a),$(wp_to_social_pro.status_form).data("status-index",s).attr("data-status-index",s)}function wpToSocialProDisplayStatusForm(t,o,a){var $,s,e;$=jQuery,s=$('div.statuses[data-profile-id="'+t+'"][data-action="'+o+'"] tr[data-status-index="'+a+'"]'),e=$('div.statuses[data-profile-id="'+t+'"][data-action="'+o+'"] tr.status-form-container'),$("td",e).append($(wp_to_social_pro.status_form).removeClass("hidden")),$(s).after($(e).removeClass("hidden"))}function wpToSocialProSaveAndHideStatusForm(){var $;($=jQuery)("div.statuses div.wp-to-social-pro-status-form").length>0&&wpToSocialProUpdateStatus($("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("profile-id"),$("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("action"),$("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("status-index")),$(wp_to_social_pro.status_form).data("profile-id","").attr("data-profile-id",""),$(wp_to_social_pro.status_form).data("action","").attr("data-action",""),$(wp_to_social_pro.status_form).data("status-index","").attr("data-status-index",""),$(wp_to_social_pro.status_form_container).append($(wp_to_social_pro.status_form))}function wpToSocialProClearStatusForm(){var $;($=jQuery)("input, select, textarea",$(wp_to_social_pro.status_form)).each((function(){$(this).val("")})),$("tr.custom-field:not(.hide-delete-button)",$(wp_to_social_pro.status_form)).each((function(){$(this).remove()})),$("tr.authors-custom-field:not(.hide-delete-button)",$(wp_to_social_pro.status_form)).each((function(){$(this).remove()}))}function wpToSocialProGetStatuses(){var $,t={};return($=jQuery)("li.wpzinc-nav-tab a").each((function(){var o=$(this).attr("href").split("#profile-").pop();"default"==o?t[o]={}:(t[o]={enabled:$('input[name="'+wp_to_social_pro.plugin_name+"["+o+'][enabled]"]').is(":checked")},$('input[type="checkbox"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').length>0?t[o].override=$('input[type="checkbox"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').is(":checked"):t[o].override="1"==$('input[type="hidden"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').val()),$("li.wpzinc-nav-tab-horizontal a","#profile-"+o).each((function(){var a=$(this).attr("href").split("#profile-"+o+"-").pop();t[o][a]={enabled:$('input[name="'+wp_to_social_pro.plugin_name+"["+o+"]["+a+'][enabled]"]').is(":checked"),status:[]},$("tr.status","#profile-"+o+"-"+a).each((function(){t[o][a].status.push(JSON.parse($(this).attr("data-status")))}))}))})),t}function wpToSocialProUpdateStatuses(){var t,$;return $=jQuery,t=wpToSocialProGetStatuses(),$('input[name="'+wp_to_social_pro.plugin_name+'[statuses]"][type="hidden"]').val(JSON.stringify(t)),t}function wpToSocialProSaveStatuses(t,o){var a,$;$=jQuery,a=wpToSocialProGetStatuses(),wpzinc_modal_open(wp_to_social_pro.save_statuses_modal.title,""),$.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.save_statuses_action,nonce:wp_to_social_pro.save_statuses_nonce,post_type:t,statuses:JSON.stringify(a)},error:function(t,o,a){wpzinc_modal_show_error_message_and_exit("wpToSocialProSaveStatuses(): error: "+t.status+" "+t.statusText)},success:function(t){t.success||wpzinc_modal_show_error_message_and_exit(t.data),o.length&&(t.data.post_type_enabled?($(o).addClass("enabled"),$(".notice-warning").hide()):($(o).removeClass("enabled"),$(".notice-warning").show())),wpzinc_modal_show_success_and_exit(wp_to_social_pro.save_statuses_modal.title_success)}})}function wpToSocialProSavePostStatuses(t,o,a,s){var e,$;$=jQuery,e=wpToSocialProGetStatuses(),wpzinc_modal_open(wp_to_social_pro.save_statuses_modal.title,""),$.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.save_statuses_action,nonce:wp_to_social_pro.save_statuses_nonce,post_id:t,override:o,featured_image:a,additional_images:s,statuses:JSON.stringify(e)},error:function(t,o,a){wpzinc_modal_close()},success:function(t){t.success||wpzinc_modal_show_error_message_and_exit(t.data),wpzinc_modal_show_success_and_exit(wp_to_social_pro.save_statuses_modal.title_success)}})}var wpToSocialProCharacterCounting=!1;function wpToSocialProCharacterCount(t){var $;$=jQuery,wpToSocialProCharacterCounting||(wpToSocialProCharacterCounting=!0,$.post(wp_to_social_pro.ajax,{action:wp_to_social_pro.character_count_action,post_id:wp_to_social_pro.post_id,status:$(t).val(),nonce:wp_to_social_pro.character_count_nonce},(function(o){$("span.character-count",$(t).parent()).text(o.data.character_count),setTimeout((function(){wpToSocialProCharacterCounting=!1}),3e3)})))}function wpToSocialProEnableNotSavedPrompt(){wp_to_social_pro.prompt_unsaved_changes&&(window.onbeforeunload=function(){return!0})}function wpToSocialProDisableNotSavedPrompt(){window.onbeforeunload=null}jQuery(document).ready((function($){wpToSocialProInitTags(),$(wp_to_social_pro.status_form).on("change."+wp_to_social_pro.status_form,"select.image",(function(t){wpToSocialProUpdateImageOptions()})),$(wp_to_social_pro.status_form).on("change."+wp_to_social_pro.status_form,"select.schedule",(function(t){wpToSocialProUpdateScheduleOptions($(this).closest("div.statuses").data("action"))})),$(wp_to_social_pro.status_form).on("change."+wp_to_social_pro.status_form,"select#googlebusiness_post_type",(function(t){wpToSocialProUpdateGoogleBusinessOptions()})),$("input.enable",$("#profiles-container")).on("change",(function(t){var o=$(this).data("tab");$(this).prop("checked")?$('a[href="#'+o+'"]').addClass("enabled"):$('a[href="#'+o+'"]').removeClass("enabled"),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()})),$("input.override",$("#profiles-container")).on("change",(function(t){wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()})),$(".wpzinc-js-tabs").on("click",(function(){wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm()})),$("#profiles-container").on("click","a.button.add-status",(function(t){t.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProAddStatus($(this).closest("div.statuses").data("profile-id"),$(this).closest("div.statuses").data("action")),wpToSocialProEnableNotSavedPrompt()})),$("#profiles-container").on("click","a.edit-status",(function(t){t.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProEditStatus($(this).closest("div.statuses").data("profile-id"),$(this).closest("div.statuses").data("profile"),$(this).closest("div.statuses").data("action"),$(this).closest("tr").data("status-index"),JSON.parse($(this).closest("tr").attr("data-status"))),wpToSocialProEnableNotSavedPrompt()})),$(wp_to_social_pro.status_form).on("change","input, select, textarea",(function(t){wpToSocialProUpdateStatus($(wp_to_social_pro.status_form).data("profile-id"),$(wp_to_social_pro.status_form).data("action"),$(wp_to_social_pro.status_form).data("status-index")),wpToSocialProEnableNotSavedPrompt()})),$("body").on("wpzinc-table-row-delete",(function(t){wpToSocialProUpdateStatus($(wp_to_social_pro.status_form).data("profile-id"),$(wp_to_social_pro.status_form).data("action"),$(wp_to_social_pro.status_form).data("status-index")),wpToSocialProEnableNotSavedPrompt()})),$("#profiles-container").on("click","a.delete-status",(function(t){t.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProDeleteStatus($(this).closest("div.statuses").data("profile-id"),$(this).closest("div.statuses").data("action"),$(this).closest("tr").data("status-index")),wpToSocialProEnableNotSavedPrompt()})),$("#profiles-container div.statuses").length>0&&$("#profiles-container div.statuses").sortable({containment:"parent",items:".sortable",stop:function(t,o){var a=$(o.item),s=$(a).closest("div.statuses");wpToSocialProReindexStatuses($(s)),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()}}),$("#profiles-container div.statuses").bind("click.sortable mousedown.sortable",(function(t){t.target.focus()})),wp_to_social_pro.post_id>0&&$("textarea.message",$(wp_to_social_pro.status_form)).on("keyup change",(function(t){wpToSocialProCharacterCount(this)})),$("form.wp-to-social-pro").on("submit",(function(t){t.preventDefault(),wpToSocialProDisableNotSavedPrompt(),wpToSocialProUpdateStatuses(),wpToSocialProSaveStatuses(wp_to_social_pro.post_type,$('h2.nav-tab-wrapper a[data-post-type="'+wp_to_social_pro.post_type+'"]'))})),$("button."+wp_to_social_pro.plugin_name+"-save-post-statuses").on("click",(function(t){t.preventDefault(),wpToSocialProDisableNotSavedPrompt(),wpToSocialProUpdateStatuses();var o=[];for(i=0;i<=2;i++)$('input[name="'+wp_to_social_pro.plugin_name+"[additional_images]["+i+']"]').length&&o.push($('input[name="'+wp_to_social_pro.plugin_name+"[additional_images]["+i+']"]').val());wpToSocialProSavePostStatuses(wp_to_social_pro.post_id,$('select[name="'+wp_to_social_pro.plugin_name+'[override]"]').val(),$('input[name="'+wp_to_social_pro.plugin_name+'[featured_image]"]').val(),o)}))}));