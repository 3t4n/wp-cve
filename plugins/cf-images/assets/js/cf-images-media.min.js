(()=>{"use strict";!function(e){const s={cf_images_offload_image:".cf-images-offload",cf_images_skip_image:".cf-images-skip",cf_images_undo_image:".cf-images-undo",cf_images_delete_image:".cf-images-delete",cf_images_restore_image:".cf-images-restore",cf_images_ai_caption:".cf-images-ai-alt",cf_images_compress:".cf-images-compress"};Object.keys(s).forEach((a=>{e(document).on("click",s[a],(function(s){s.preventDefault();const{inProgress:t,offloadError:i}=CFImages.strings,n=e(this).closest(".cf-images-status");n.html(t+'<span class="spinner is-active"></span>'),function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s={_ajax_nonce:window.CFImages.nonce,action:e,data:s},new Promise((function(e,a){jQuery.ajax({url:window.ajaxurl,type:"POST",data:s,success:function(s){e(s)},error:function(e){a(e)}})}))}(a,e(this).data("id")).then((e=>{if(e.success)n.html(e.data);else{const s=e.data||i;n.html(s)}})).catch(window.console.log)}))}))}(jQuery),function(e){const s=wp.media.view.Attachment.Details;if(void 0===s.TwoColumn)return;const a=e.template("<span class='setting cf-images'><span class='name'><%= label %></span><span class='value cf-images-status'><%= value %></span></span>");s.TwoColumn=s.TwoColumn.extend({initialize(){s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:cf-images-status",this.render)},render(){s.prototype.render.apply(this,arguments);const e=this.model.get("cf-images-status");if(void 0===e)return this;this.model.fetch(),this.views.detach();const t=a({label:"Offload status",value:e});this.$el.find(".settings").prepend(t),this.views.render()}})}(_)})();
//# sourceMappingURL=cf-images-media.min.js.map