"use strict";!function(o){var n=null;window.setWooOrder=function(e){n=e},o(document).on("iframebeforeready",function(){}),o(document).on("iframeready",function(){}),o(document).on("iframeformjsready",function(){null!=n&&(o("#epakaFormIframe")[0].contentWindow.iframeSession=n.api_session,null!=n.dimensions&&(o("#epakaFormIframe").contents().find("#ZamowieniePaczka0Waga").val(n.dimensions.weight),o("#epakaFormIframe").contents().find("#ZamowieniePaczka0Dlugosc").val(n.dimensions.length),o("#epakaFormIframe").contents().find("#ZamowieniePaczka0Szerokosc").val(n.dimensions.width),o("#epakaFormIframe").contents().find("#ZamowieniePaczka0Wysokosc").val(n.dimensions.height)),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaImie").val(n.woo_order_address.first_name),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaNazwisko").val(n.woo_order_address.last_name),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaKod").val(n.woo_order_address.postcode),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaMiasto").val(n.woo_order_address.city),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaUlica").val(n.woo_order_address.street),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaNrdomu").val(n.woo_order_address.house_number),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaNrlokalu").val(n.woo_order_address.flat_number),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaTelefon").val(n.woo_order_billing_address.phone),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaEmail").val(n.woo_order_billing_address.email),o("#epakaFormIframe").contents().find("#ZamowienieZawartosc").val(n.content),"PL"!=n.woo_order_address.country&&(o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaKraj")[0].selectize.setValue(n.woo_order_address.country),o("#epakaFormIframe").contents().find("#wysylamzagranice").prop("checked",!0)),o("#epakaFormIframe").contents().find("#ZamowienieKurierId"+n.shipping_method).click(),o("#epakaFormIframe")[0].contentWindow.countPrices(function(){o("#epakaFormIframe")[0].contentWindow.preference_flag=1,o("#epakaFormIframe")[0].contentWindow.inputsHoudini(o("#epakaFormIframe")[0].contentWindow.selected_courier,!1),""!=n.epaka_point&&""!=n.epaka_point_description&&(o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaPaczkomat").val(n.epaka_point),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaPaczkomatOpis").val(n.epaka_point_description)),setTimeout(function(){o("#epakaFormIframe")[0].contentWindow.preference_flag=0},1e3),o("#epakaFormIframe")[0].contentWindow.getDatesAndServices(o("#epakaFormIframe")[0].contentWindow.selected_courier,void 0,o("#epakaFormIframe")[0].contentWindow.extras)}),o("#epakaFormIframe")[0].contentWindow.document.getElementById("ZamowienieZlozForm").onsubmit=function(e){e.preventDefault();var a=o("#epakaFormIframe").contents().find("#ZamowienieZlozForm").serializeArray();a.push({name:"data[WooCommerceData][id]",value:n.woo_order_id}),o.post(epaka_admin_object.api_endpoint+"/send-order?token="+epaka_admin_object.admin_token,a,function(e){window.location.reload()}).fail(function(){alert("Nie udało się złożyć zamówienia")})},""!=n.epaka_point&&""!=n.epaka_point_description&&(o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaPaczkomat").val(n.epaka_point),o("#epakaFormIframe").contents().find("#ZamowienieOdbiorcaPaczkomatOpis").val(n.epaka_point_description))),o("#epakaFormIframe")[0].contentWindow.document.getElementById("submit-button").onclick=function(){var a=setInterval(function(){var e;o("#epakaFormIframe")[0].contentWindow.submitPopup&&(clearTimeout(a),e=o("#epaka-iframe-order-header").offset(),o("html, body").animate({scrollTop:e.top-100},250))},250)}})}(jQuery);