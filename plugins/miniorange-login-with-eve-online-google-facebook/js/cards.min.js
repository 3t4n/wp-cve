!function(t,e){t(document).on("MyAdminPointers.setup_done",function(t,i){t.stopImmediatePropagation(),e.setPlugin(i)}),t(document).on("MyAdminPointers.current_ready",function(t){t.stopImmediatePropagation(),e.openPointer()}),e.js_pointers={},e.first_pointer=!1,e.current_pointer=!1,e.last_pointer=!1,e.visible_pointers=[],e.hasNext=function(t){return"string"==typeof t.next&&""!==t.next&&void 0!==e.js_pointers[t.next].data&&"string"==typeof e.js_pointers[t.next].data.id},e.isVisible=function(i){return -1!==t.inArray(i.id,e.visible_pointers)},e.getPointerData=function(i){var n=t(i.anchor_id);if(-1!==t.inArray(i.id,e.visible_pointers))return{target:n,data:i};for(n=!1;e.hasNext(i)&&!e.isVisible(i);)i=e.js_pointers[i.next].data,e.isVisible(i)&&(n=t(i.anchor_id));return e.isVisible(i)?{target:n,data:i}:{target:!1,data:!1}},e.setPlugin=function(i){jQuery("#mo_tutorial_overlay").show(),"object"==typeof e.last_pointer&&(e.last_pointer.pointer("destroy"),e.last_pointer=!1),jQuery(i.anchor_id).css("z-index",3),jQuery(i.anchor_id).css("position","relative"),jQuery("#mo_tutorial_overlay").css("z-index",1),e.current_pointer=!1;var n=e.getPointerData(i);n.target&&n.data&&($target=n.target,i=n.data,$pointer=$target.pointer({content:i.title+i.content,position:{edge:i.edge,align:i.align},close:function(){jQuery(i.anchor_id).css("z-index","0"),jQuery("#mo_tutorial_overlay").hide(),e.hasNext(i)?e.setPlugin(e.js_pointers[i.next].data):t("html, body").animate({scrollTop:0},300),t.post(ajaxurl,{pointer:i.id,action:"dismiss-wp-pointer"})}}),e.current_pointer={pointer:$pointer,data:i},t(document).trigger("MyAdminPointers.current_ready"))},e.openPointer=function(){var i=e.current_pointer.pointer;t("html, body").animate({scrollTop:i.offset().top-120},300,function(){e.last_pointer=i;var t=i.pointer("widget");e.setNext(t,e.current_pointer.data),i.pointer("open")})},e.setNext=function(t,i){if("object"==typeof t){var n=t.find(".wp-pointer-buttons").eq(0);$button=n.find("a.close").eq(0).clone(!0,!0).removeClass("close"),n.find("a.close").remove(),$button.addClass("button").addClass("button-primary"),has_next=!1,e.hasNext(i)&&(has_next=(has_next_data=e.getPointerData(e.js_pointers[i.next].data)).target&&has_next_data.data);var o=has_next?e.next_label:e.close_label;$button.html(o).appendTo(n)}},t(e.pointers).each(function(i,n){if(t().pointer){e.js_pointers[n.id]={data:n};var o=t(n.anchor_id);o.length&&o.is(":visible")&&(e.visible_pointers.push(n.id),e.first_pointer||(e.first_pointer=n)),i===e.pointers.length-1&&e.first_pointer&&t(document).trigger("MyAdminPointers.setup_done",e.first_pointer)}})}(jQuery,MyAdminPointers);