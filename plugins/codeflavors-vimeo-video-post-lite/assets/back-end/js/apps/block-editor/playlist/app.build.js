!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=18)}([,function(e,t){e.exports=lodash},function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(1);function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var a=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.flatMap)(t,(function(t){return[{value:t.id,label:Object(n.repeat)("Â ",3*o)+Object(n.unescape)(t.name)}].concat(r(e(t.children||[],o+1)))}))}},function(e,t,o){"use strict";function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"a",(function(){return i}));var i=(0,wp.data.withSelect)((function(e,t){var o=e("core/data").isResolving,i={per_page:100,orderby:"name",order:"asc",_fields:"id,name,parent,taxonomy",_locale:"user"};return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({terms:e("core").getEntityRecords("taxonomy",t.taxonomy,i),loading:o("core","getEntityRecords",["taxonomy",t.taxonomy,i])},t)}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t?(t.forEach((function(r){if(r.parent==o){var i={id:r.id,name:r.name},a=e(t,r.id);a&&(i.children=a),n.push(i)}})),n):n}},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=s(e);if(t){var r=s(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return c(this,o)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp.i18n.__;var l=wp.date.dateI18n,u=wp.components.Button,p=vmtq.noImageUrl,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,React.Component);var t,o,n,c=a(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).post=t.props.post,t}return t=s,(o=[{key:"getImageUrl",value:function(){return void 0!==this.post.vimeo_video.thumbnail?this.post.vimeo_video.thumbnail:p}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"col-xs-6  col-sm-4 col-md-3 col-lg-2 grid-element ".concat(this.props.className)},React.createElement("div",{className:"cvm-video"},React.createElement("div",{className:"cvm-thumbnail"},null!=this.post.vimeo_video&&React.createElement("div",null,React.createElement("img",{src:this.getImageUrl()}),React.createElement("span",{className:"duration"},this.post.vimeo_video._duration))),React.createElement("div",{className:"details"},React.createElement("h4",null,jQuery("<textarea />").html(this.post.title.rendered).text()),React.createElement("div",{className:"meta"},React.createElement("span",{className:"publish-date"},l("M d Y",this.post.date))),React.createElement("div",{className:"actions"},React.createElement(u,{className:"select-button",isLink:!0,onClick:function(){e.props.onSelect(e.post)}},this.props.selectText)))))}}])&&r(t.prototype,o),n&&r(t,n),s}();f.defaultProps={post:null,selectText:"Select",onSelect:function(e){},className:""};var y=f,d=o(1);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function g(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=w(e);if(t){var r=w(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return O(this,o)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp.data.registerStore("vimeotheque-post-store",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"ADD_POSTS"==t.type?e.concat([t.payload]):e},selectors:{getPosts:function(e,t){return Object(d.find)(e,{url:t})}},actions:{addPosts:function(e,t,o,n){return{type:"ADD_POSTS",payload:{url:e,posts:t,total:o,pages:n}}}}});var E=wp.apiFetch,j=wp.components.Spinner,P=vmtq.postTypes,_=wp.data,C=_.select,k=_.dispatch,x=wp.i18n.__,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,React.Component);var t,o,n,r=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={posts:[],loading:!1,error:!1,totalEntries:0,totalPages:0},t}return t=i,(o=[{key:"makeRequest",value:function(){var e=this;this.setState({loading:!0}),this.props.onRequestBegin();var t={post_type:this.props.postType,page:this.props.page,search:this.props.search.query,per_page:this.props.perPage,orderby:"date",order:"desc",vimeothequeMetaKey:"true"};if(this.props.search.category){var o="category"==this.props.taxonomy?"categories":this.props.taxonomy;t[o]=this.props.search.category}var n="".concat(P[this.props.postType].post_type_endpoint,"?")+Object(d.map)(Object(d.keys)(t),(function(e){return"".concat(e,"=").concat(t[e])})).join("&"),r=C("vimeotheque-post-store").getPosts(n);if(null!=r){var i=[].concat(h(this.state.posts),h(r.posts));this.setState({totalEntries:r.total,totalPages:r.pages,loading:!1,posts:i}),this.props.onRequestFinish({postsCount:i.length,totalEntries:r.total,totalPages:r.pages})}else E({path:n,method:"GET",parse:!1}).then((function(t){return e.setState({totalEntries:t.headers.get("X-WP-Total"),totalPages:t.headers.get("X-WP-TotalPages")}),t.json()})).then((function(t){var o=[].concat(h(e.state.posts),h(t));e.setState({posts:o,loading:!1}),e.props.onRequestFinish({postsCount:o.length,totalEntries:e.state.totalEntries,totalPages:e.state.totalPages}),k("vimeotheque-post-store").addPosts(n,t,e.state.totalEntries,e.state.totalPages)})).catch((function(t){e.setState({error:t,loading:!1}),e.props.onRequestError(t)}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){this.props.postType!=e.postType&&"selected"!=e.postType||this.props.search!=e.search?this.setState({posts:[],loading:!1,error:!1,totalEntries:0,totalPages:0},this.makeRequest):this.props.page!=e.page&&!this.state.error&&this.props.page<=this.state.totalPages&&this.makeRequest()}},{key:"hasPost",value:function(e){var t,o=function(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=v(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}(this.props.selected);try{for(o.s();!(t=o.n()).done;)if(t.value.id==e.id)return!0}catch(e){o.e(e)}finally{o.f()}}},{key:"selectText",value:function(e){return this.hasPost(e)?x("Remove video","codeflavors-vimeo-video-post-lite"):x("Select video","codeflavors-vimeo-video-post-lite")}},{key:"render",value:function(){var e=this;return this.state.loading||0!=this.state.posts.length?React.createElement("div",{className:"vimeotheque-entries-container"},React.createElement("div",{className:"vimeotheque-entries row"},this.state.posts.map((function(t,o){return React.createElement(y,{className:e.hasPost(t)&&"vimeotheque-selected-post",post:t,onSelect:function(t){e.hasPost(t)?e.props.onRemove(t):e.props.onSelect(t)},selectText:e.selectText(t),key:t.id})}))),this.state.loading&&React.createElement("div",{className:"vimeotheque-loading"},React.createElement(j,null),x("Please wait, your video posts are loading...","codeflavors-vimeo-video-post-lite"))):React.createElement("div",{className:"vimeotheque-error"},this.state.error?this.state.error.message:x("We couldn't find any video posts, sorry.","codeflavors-vimeo-video-post-lite"))}}])&&g(t.prototype,o),n&&g(t,n),i}();T.defaultProps={postType:"vimeo-video",search:{query:"",category:!1},taxonomy:!1,page:1,perPage:10,selected:[],onSelect:function(e){},onRemove:function(e){},onRequestBegin:function(){},onRequestFinish:function(){},onRequestError:function(){}};var q=T;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=L(e);if(t){var r=L(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return M(this,o)}}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=wp.i18n.__,B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,React.Component);var t,o,n,r=I(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,e)}return t=i,(o=[{key:"render",value:function(){var e,t=this;return 0==this.props.posts.length&&(e=React.createElement("div",{className:"vimeotheque-error vimeotheque-post-list-container"},F("No individual videos selected! Once you select some videos they will appear in this section.","codeflavors-vimeo-video-post-lite"))),React.createElement("div",null,React.createElement("div",{className:"vimeotheque-entries row"},this.props.posts.map((function(e){return React.createElement(y,{post:e,onSelect:function(e){t.props.onSelect(e)},selectText:F("Remove","codeflavors-vimeo-video-post-lite"),key:e.id})}))),e)}}])&&N(t.prototype,o),n&&N(t,n),i}();B.defaultProps={posts:[],onSelect:function(e){}};var U=B;function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=H(e);if(t){var r=H(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return V(this,o)}}function V(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp.apiFetch,wp.i18n.__;var X=wp.components,J=(X.Button,X.ButtonGroup,wp.compose.withState,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,React.Component);var t,o,n,r=W(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={page:1,loading:!1,error:!1,postsCount:0,totalPages:0},t.handleLoadMore=t.handleLoadMore.bind(G(t)),t.requestFinish=t.requestFinish.bind(G(t)),t}return t=i,(o=[{key:"isLoading",value:function(){return this.state.loading}},{key:"isError",value:function(){return this.state.error}},{key:"componentDidMount",value:function(){var e=this;jQuery(".vimeotheque-posts-list-modal").on("scroll",(function(){"selected"!=e.props.postType&&jQuery(".vimeotheque-posts-list-modal").scrollTop()+jQuery(".vimeotheque-posts-list-modal").innerHeight()>=jQuery(".vimeotheque-posts-list-modal")[0].scrollHeight-400&&(e.isLoading()||e.handleLoadMore())}))}},{key:"shouldComponentUpdate",value:function(e,t){return Object(d.isEqual)(this.props.search,e.search)?!(e.postType!=this.props.postType&&!this.isLoading()&&(this.setState({page:1,loading:"selected"!=e.postType,postsCount:0}),1)):(this.setState({page:1,loading:!0,postsCount:0}),!1)}},{key:"requestFinish",value:function(e){this.setState({loading:!1,error:!1,postsCount:e.postsCount,totalPages:e.totalPages}),this.props.onRequestFinish();var t=jQuery(".vimeotheque-posts-list-modal")[0].scrollHeight;jQuery(".vimeotheque-posts-list-modal").height()==t&&this.handleLoadMore()}},{key:"handleLoadMore",value:function(){!this.isLoading()&&!this.isError()&&this.state.postsCount&&this.state.totalPages>this.state.page&&this.setState({page:this.state.page+1,loading:!0})}},{key:"render",value:function(){var e=this;return"selected"==this.props.postType?React.createElement(U,{posts:this.props.filteredPosts,onSelect:this.props.onRemove}):React.createElement(q,{postType:this.props.postType,search:this.props.search,taxonomy:this.props.taxonomy,page:this.state.page,perPage:this.props.perPage,onSelect:this.props.onSelect,onRemove:this.props.onRemove,selected:this.props.filteredPosts,onRequestBegin:function(){e.setState({loading:!0}),e.props.onRequestBegin()},onRequestFinish:this.requestFinish,onRequestError:function(t){e.setState({loading:!1,error:t}),e.props.onRequestError}})}}])&&$(t.prototype,o),n&&$(t,n),i}());J.defaultProps={postType:"vimeo-video",search:{query:"",category:!1},taxonomy:!1,perPage:30,onSelect:function(e){},onRemove:function(e){},onRequestFinish:function(){},onRequestBegin:function(){},onRequestError:function(){},filteredPosts:[],filteredCategories:[]};t.a=J},function(e,t,o){"use strict";var n=o(1);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=u(e);if(t){var r=u(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return l(this,o)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=wp.element,m=d.Component,h=d.RawHTML,v=wp.i18n,b=v.__,g=v.sprintf,R=wp.apiFetch,S=wp.url.addQueryArgs,O=wp.components,w=O.Placeholder,E=O.Spinner;var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,o,r,l=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={response:null},t}return t=u,(o=[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.fetch(this.props),this.fetch=Object(n.debounce)(this.fetch,500)}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"componentDidUpdate",value:function(e){Object(n.isEqual)(e.attributes,this.props.attributes)||this.fetch(this.props)}},{key:"fetch",value:function(e){var t=this;if(this.isStillMounted){null!==this.state.response&&this.setState({response:null});var o=e.block,n=e.attributes,r=void 0===n?null:n,i=e.urlQueryArgs,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return S("/wp/v2/block-renderer/".concat(e),f(f({context:"edit"},null!==t?{attributes:t}:{}),o))}(o,r,void 0===i?{}:i),c=this.currentFetchRequest=R({path:a}).then((function(e){t.isStillMounted&&c===t.currentFetchRequest&&e&&t.setState({response:e.rendered})})).catch((function(e){t.isStillMounted&&c===t.currentFetchRequest&&t.setState({response:{error:!0,errorMsg:e.message}})}));return c}}},{key:"render",value:function(){var e=this.state.response,t=this.props,o=t.className,n=t.EmptyResponsePlaceholder,r=t.ErrorResponsePlaceholder,a=t.LoadingResponsePlaceholder;return""===e?React.createElement(n,i({response:e},this.props)):e?e.error?React.createElement(r,i({response:e},this.props)):React.createElement(h,{key:"html",className:o},e):React.createElement(a,i({response:e},this.props))}}])&&a(t.prototype,o),r&&a(t,r),u}(m);j.defaultProps={EmptyResponsePlaceholder:function(e){var t=e.className;return React.createElement(w,{className:t},b("Block rendered as empty."))},ErrorResponsePlaceholder:function(e){var t=e.response,o=e.className,n=g(b("Error loading block: %s"),t.errorMsg);return React.createElement(w,{className:o},n)},LoadingResponsePlaceholder:function(e){var t=e.className;return React.createElement(w,{className:t},React.createElement(E,null))}};var P=j;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var x=wp.element,T=x.useState,q=x.useEffect,A=wp.components,N=A.Placeholder,D=A.Spinner,I=wp.i18n.__,M=function(e){var t=C(T(!0),2),o=(t[0],t[1]);return React.createElement(React.Fragment,null,React.createElement(P,_({},e,{LoadingResponsePlaceholder:function(){return React.createElement(L,{onComplete:function(){e.onComplete(),o(!1)}})}})),!e.isSelected&&React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}))},L=function(e){return q((function(){return function(){e.onComplete()}})),React.createElement(N,null,I("Loading, please wait...","codeflavors-vimeo-video-post-lite"),React.createElement(D,null))};M.defaultProps={onComplete:!1,isSelected:!1};t.a=M},function(e,t,o){"use strict";var n=o(2),r=o(3),i=o(4),a=o(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=d(e);if(t){var r=d(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return y(this,o)}}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=wp.components,h=m.SelectControl,v=(m.Spinner,m.BaseControl,wp.i18n.__),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,React.Component);var t,o,r,c=f(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={selectedId:e.selectedId},t}return t=l,(o=[{key:"shouldComponentUpdate",value:function(e,t){return e.loading||this.props.onLoad(e.terms),!0}},{key:"render",value:function(){var e=this,t=[];return t=this.props.loading?[{value:"",label:v("Loading categories, please wait...","codeflavors-vimeo-video-post-lite")}]:Object(a.compact)([this.props.noOptionLabel&&{value:"",label:this.props.noOptionLabel}].concat(s(Object(n.a)(Object(i.a)(this.props.terms))))),React.createElement(h,{disabled:this.props.loading,label:this.props.label,options:t,value:this.state.selectedId,onChange:function(t){e.setState({selectedId:t}),e.props.onChange(t)}})}}])&&u(t.prototype,o),r&&u(t,r),l}();b.defaultProps={label:!1,noOptionLabel:!1,onChange:function(){},onLoad:function(){},selectedId:!1};var g=Object(r.a)(b);g.defaultProps={taxonomy:"vimeo-videos"};var R=g;function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function E(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=k(e);if(t){var r=k(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return _(this,o)}}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=wp.i18n.__,T=wp.components,q=T.Spinner,A=T.TextControl,N=T.Button,D=T.ToggleControl,I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,React.Component);var t,o,n,r=P(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={query:e.values.query,category:t.sanitizeCategory(e.values.category),optionSelected:!1,submitted:!1},t.isChecked=t.isChecked.bind(C(t)),t.setCategories=t.setCategories.bind(C(t)),t.getCategories=t.getCategories.bind(C(t)),t.sanitizeCategory=t.sanitizeCategory.bind(C(t)),t.categories={},t}return t=i,(o=[{key:"shouldComponentUpdate",value:function(e,t){return this.props.taxonomy!=e.taxonomy&&this.setState({query:"",category:!1}),!0}},{key:"sanitizeCategory",value:function(e){var t=parseInt(e);return!isNaN(t)&&t}},{key:"isChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||this.state.category,o=Object(a.find)(this.props.selectedCategories,{id:this.sanitizeCategory(t)});return null!=o}},{key:"setCategories",value:function(e){var t=this;e&&(e.forEach((function(e){Object(a.has)(t.categories,e.id)||(t.categories[e.id]=e)})),this.props.onCategoriesUpdate(this.categories))}},{key:"getCategories",value:function(e){var t=this,o=[];return e.forEach((function(e){o.push(t.categories[e])})),o}},{key:"render",value:function(){var e=this;return React.createElement(React.Fragment,null,React.createElement(A,{label:x("Search","codeflavors-vimeo-video-post-lite"),placeholder:x("Enter your search query","codeflavors-vimeo-video-post-lite"),value:this.state.query,onChange:function(t){e.setState({query:t,submitted:!1})}}),this.props.taxonomy&&React.createElement(R,{label:x("Category","codeflavors-vimeo-video-post-lite"),noOptionLabel:x("Choose category","codeflavors-vimeo-video-post-lite"),taxonomy:this.props.taxonomy,selectedId:this.state.category,onChange:function(t){e.setState({category:e.sanitizeCategory(t),optionSelected:e.isChecked(t),submitted:!1})},onLoad:function(t){e.setCategories(t)}}),this.state.category&&this.state.submitted&&React.createElement(D,{label:x("Select all videos from this category?","codeflavors-vimeo-video-post-lite"),help:x("All videos belonging to this category will be used in playlist"),checked:this.state.optionSelected,onChange:function(){var t,o;e.isChecked()?(t=Object(a.filter)(e.props.selectedCategories,(function(t){return t.id!=e.state.category})),o=!1):(t=a.concat.apply(void 0,O(e.props.selectedCategories).concat([[e.categories[e.state.category]]])),o=!0),e.setState({optionSelected:o}),e.props.onCategorySelect(t)}}),React.createElement("div",{className:"vimeotheque-search-btn"},React.createElement(N,{isPrimary:!0,disabled:this.props.blocked,onClick:function(){e.setState({submitted:!0}),e.props.onSubmit({query:e.state.query,category:e.state.category})}},x("Search","codeflavors-vimeo-video-post-lite")),this.props.blocked&&React.createElement(q,null)))}}])&&E(t.prototype,o),n&&E(t,n),i}();I.defaultProps={blocked:!1,taxonomy:"vimeo-videos",selectedCategories:[],values:{query:"",category:!1},onSubmit:function(){},onCategorySelect:function(){},onCategoriesUpdate:function(){}};t.a=I},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=l(e);if(t){var r=l(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return c(this,o)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=wp.components.Button,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,React.Component);var t,o,n,c=a(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).handleChange=t.handleChange.bind(s(t)),t}return t=l,(o=[{key:"handleChange",value:function(e){this.props.onClick(this.props.postType)}},{key:"render",value:function(){return React.createElement(u,{className:this.props.className,onClick:this.handleChange,disabled:this.props.disabled},this.props.text)}}])&&r(t.prototype,o),n&&r(t,n),l}();p.defaultProps={className:""};var f=p,y=o(1);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=R(e);if(t){var r=R(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return b(this,o)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=wp.i18n.__,O=vmtq.postTypes,w=wp.components,E=w.ButtonGroup,j=w.Button,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,React.Component);var t,o,n,r=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).handlePostTypeChange=t.handlePostTypeChange.bind(g(t)),t}return t=i,(o=[{key:"selectedClassName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this.props.postType==e?"active":"inactive";return"".concat(o," ").concat(t)}},{key:"handlePostTypeChange",value:function(e){e==this.props.postType||this.props.disabled||this.props.onPostTypeChange(e)}},{key:"render",value:function(){var e=this;return React.createElement(E,{className:"vimeotheque-post-type-filter"},Object(y.map)(O,(function(t){return React.createElement(f,{key:t.post_type.name,className:e.selectedClassName(t.post_type.name),postType:t.post_type.name,text:t.post_type.labels.name,onClick:e.handlePostTypeChange,disabled:e.props.disabled})})),!this.props.hideSelected&&React.createElement(j,{isLink:!0,className:this.selectedClassName("selected","selected-posts"),disabled:this.props.disabled,onClick:function(){e.handlePostTypeChange("selected")}},this.props.textSelected))}}])&&m(t.prototype,o),n&&m(t,n),i}();P.defaultProps={postType:"vimeo-video",disabled:!1,textSelected:S("Selected","codeflavors-vimeo-video-post-lite"),hideSelected:!1,onPostTypeChange:function(){}};t.a=P},,,,,,,,,,function(e,t,o){"use strict";o.r(t);var n=o(5),r=o(6),i=o(7),a=o(2),c=o(3),s=o(4),l=o(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b(e);if(t){var r=b(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h(this,o)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=wp,R=g.i18n.__,S=g.components.CheckboxControl,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,React.Component);var t,o,n,r=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).handleChange=t.handleChange.bind(v(t)),t}return t=i,(o=[{key:"isChecked",value:function(e){return void 0!==Object(l.find)(this.props.categories,{id:e.value})}},{key:"handleChange",value:function(e){var t,o=Object(l.find)(this.props.categories,{id:e.value});void 0!==o?t=Object(l.without)(this.props.categories,o):(o=Object(l.find)(this.props.terms,{id:e.value}),t=Object(l.concat)(this.props.categories,o)),this.props.onChange(t)}},{key:"render",value:function(){var e=this,t=[];return this.props.loading||(t=this.props.loading?[]:Object(l.compact)(p(Object(a.a)(Object(s.a)(this.props.terms))))),React.createElement(React.Fragment,null,React.createElement("h4",null,this.props.title),this.props.loading?R("Loading, please wait...","codeflavors-vimeo-video-post-lite"):t.length>0?React.createElement("ul",null,t.map((function(t){return React.createElement("li",{key:t.value},React.createElement(S,{label:t.label,checked:e.isChecked(t),onChange:function(){e.handleChange(t)}}))}))):React.createElement("em",null,this.props.messageEmpty))}}])&&y(t.prototype,o),n&&y(t,n),i}();O.defaultProps={categories:[],loading:!1,title:R("Categories","codeflavors-vimeo-video-post-lite"),onChange:function(){},terms:[],taxonomy:"category",messageEmpty:""};var w=Object(c.a)(O);w.defaultProps={taxonomy:"category"};var E=w,j=o(8);function P(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return o}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return k(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var x=wp,T=x.blocks.registerBlockType,q=x.i18n.__,A=x.blockEditor,N=A.InspectorControls,D=A.BlockControls,I=x.components,M=I.Placeholder,L=I.Button,F=(I.ButtonGroup,I.Modal),B=(I.Panel,I.PanelBody),U=I.PanelRow,Q=I.SelectControl,$=I.TextControl,z=I.ToggleControl,W=I.Icon,V=I.Tooltip,G=x.element,H=G.useState,X=G.useEffect,J=(x.data.select,x.hooks),K=J.applyFilters,Y=J.doAction,Z=vmtq,ee=Z.themes,te=Z.order;T("vimeotheque/video-playlist",{title:q("Video playlist","codeflavors-vimeo-video-post-lite"),description:q("Display a playlist of Vimeo videos","codeflavors-vimeo-video-post-lite"),icon:"playlist-video",category:"widgets",example:{},supports:{align:!1,anchor:!1,html:!1,customClassName:!1},edit:function(e){var t=e.attributes,o=e.setAttributes,a=(e.className,_(H(!1),2)),c=a[0],s=a[1],u=_(H({query:"",category:!1}),2),p=u[0],f=u[1],y=_(H(!0),2),d=y[0],m=y[1],h=_(H("vimeo-videos"),2),v=h[0],b=h[1],g=_(H("vimeo-video"),2),R=g[0],S=g[1],O=_(H(!1),2),w=O[0],C=O[1],k=function(e){e.stopPropagation(),s(!0)},x=function(e){o({categories:e}),A(e)},T=function(e){for(var t=[],n=0;n<=e.length-1;n++)t.push(e[n].id);o({post_ids:t})},A=function(e){var t=[];e.forEach((function(e){t.push(e.id)})),o({cat_ids:t})},I=Object(l.map)(vmtq.postTypes,(function(e){if(e.taxonomy)return React.createElement(E,{key:e.taxonomy.name,taxonomy:e.taxonomy.name,title:e.taxonomy.labels.name,categories:t.categories,onChange:function(e){return x(e)},messageEmpty:q("None available.","codeflavors-vimeo-video-post-lite")})}));X((function(){T(t.videos),A(t.categories)}),[]);var G;return[React.createElement("div",{key:"vimeotheque-playlist-block"},(t.videos.length>0||t.categories.length>0)&&React.createElement(React.Fragment,null,React.createElement(D,null,React.createElement("div",{className:"components-toolbar"},React.createElement(V,{text:q("Edit playlist","codeflavors-vimeo-video-post-lite"),position:"top"},React.createElement(L,{onClick:k},React.createElement(W,{icon:"edit"}))))),React.createElement(r.a,{block:"vimeotheque/video-playlist",attributes:(G={theme:t.theme,layout:t.layout,show_excerpts:t.show_excerpts,use_original_thumbnails:t.use_original_thumbnails,order:t.order,aspect_ratio:t.aspect_ratio,align:t.align,width:t.width,volume:t.volume,title:t.title,byline:t.byline,portrait:t.portrait,playlist_loop:t.playlist_loop,post_ids:t.post_ids,cat_ids:t.cat_ids},K("vimeotheque.playlist.server-site-embed-params",G)),onComplete:function(){setTimeout((function(){Object(l.forEach)(window.vimeotheque.themes,(function(e){e()})),Y("vimeotheque.playlist.server-side-embed-loaded")}),200)},isSelected:e.isSelected})),0==t.videos.length&&0==t.categories.length&&React.createElement(M,{icon:"playlist-video",label:q("Video playlist","codeflavors-vimeo-video-post-lite")},React.createElement(L,{isPrimary:!0,onClick:k},q("Choose posts","codeflavors-vimeo-video-post-lite"))),c&&React.createElement(F,{title:q("Choose posts","codeflavors-vimeo-video-post-lite"),onRequestClose:function(){return s(!1)},className:"vimeotheque-posts-list-modal"},React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"vimeotheque-post-list-container"},React.createElement(j.a,{postType:R,disabled:w,textSelected:"".concat(q("Selected","codeflavors-vimeo-video-post-lite")," ").concat(t.videos.length,"\\").concat(t.cat_ids.length),onPostTypeChange:function(e){m("selected"!=e);var t="selected"!=e;t&&(t=!!vmtq.postTypes[e].taxonomy&&vmtq.postTypes[e].taxonomy.name),b(t),f({query:"",category:!1}),S(e)}}),React.createElement(n.a,{onSelect:function(e){var n=[].concat(P(t.videos),[e]);o({videos:n}),T(n)},onRemove:function(e){for(var n=t.videos.length-1;n>=0;n--)if(t.videos[n].id==e.id){t.videos.splice(n,1),o({videos:P(t.videos)}),T(t.videos);break}},filteredPosts:t.videos,filteredCategories:t.cat_ids,search:p,postType:R,taxonomy:v,onRequestBegin:function(){return C(!0)},onRequestFinish:function(){return C(!1)},onRequestError:function(){return C(!1)}})),React.createElement("nav",{className:"sidebar"},d?React.createElement(i.a,{blocked:w,taxonomy:v,selectedCategories:t.categories,values:p,onSubmit:function(e){return f(e)},onCategorySelect:function(e){return x(e)},onCategoriesUpdate:function(e){}}):React.createElement(React.Fragment,null,I))))),React.createElement(N,{key:"vimeotheque-playlist-controls"},React.createElement(B,{title:q("Theme","codeflavors-vimeo-video-post-lite")},React.createElement(U,null,React.createElement(Q,{label:q("Theme","codeflavors-vimeo-video-post-lite"),value:t.theme,options:ee,onChange:function(e){o({theme:e})}})),React.createElement(U,null,React.createElement($,{label:q("Width","codeflavors-vimeo-video-post-lite"),type:"number",step:"5",value:t.width,min:"200",onChange:function(e){o({width:e})}})),React.createElement(U,null,React.createElement(Q,{label:q("Aspect ratio","codeflavors-vimeo-video-post-lite"),value:t.aspect_ratio,options:[{label:"4x3",value:"4x3"},{label:"16x9",value:"16x9"},{label:"2.35x1",value:"2.35x1"}],onChange:function(e){o({aspect_ratio:e})}})),React.createElement(U,null,React.createElement(Q,{label:q("Align","codeflavors-vimeo-video-post-lite"),value:t.align,options:[{label:"left",value:"align-left"},{label:"center",value:"align-center"},{label:"right",value:"align-right"}],onChange:function(e){o({align:e})}}))),React.createElement(B,{title:q("Video posts","codeflavors-vimeo-video-post-lite")},React.createElement(U,null,React.createElement(Q,{label:q("Posts order","codeflavors-vimeo-video-post-lite"),value:t.order,options:te,onChange:function(e){o({order:e})}}))),React.createElement(B,{title:q("Embed options","codeflavors-vimeo-video-post-lite"),initialOpen:!0},React.createElement(U,null,React.createElement(z,{label:q("Show title","codeflavors-vimeo-video-post-lite"),checked:t.title,onChange:function(){o({title:!t.title})}})),React.createElement(U,null,React.createElement(z,{label:q("Show byline","codeflavors-vimeo-video-post-lite"),checked:t.byline,onChange:function(){o({byline:!t.byline})}})),React.createElement(U,null,React.createElement(z,{label:q("Show portrait","codeflavors-vimeo-video-post-lite"),checked:t.portrait,onChange:function(){o({portrait:!t.portrait})}})),React.createElement(U,null,React.createElement(z,{label:q("Loop playlist","codeflavors-vimeo-video-post-lite"),checked:t.playlist_loop,onChange:function(){o({playlist_loop:!t.playlist_loop})}})),React.createElement(U,null,React.createElement($,{label:q("Volume","codeflavors-vimeo-video-post-lite"),help:q("Will work only for JS embeds","codeflavors-vimeo-video-post-lite"),type:"number",step:"1",value:t.volume,min:"0",max:"100",onChange:function(e){var n=e>=0&&e<=100?e:t.volume;o({volume:n})}}))))]},save:function(e){return null}})}]);