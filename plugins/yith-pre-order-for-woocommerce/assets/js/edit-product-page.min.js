jQuery(function(a){function e(){a(document).trigger("ywpo_init_datetimepickers"),a("#preorder_product_data :input, .show_if_variation_pre_order :input").trigger("change"),a("fieldset.ywpo_availability_date_mode input").trigger("change")}a(document).on("change","#preorder_product_data :input, .show_if_variation_pre_order :input",function(){var t=a(this),e=t.attr("name"),e=t.closest(".ywpo_options_group").find('.form-field[data-deps-on="'+e+'"]');(t.is(":checked")||t.is("select")||t.is(":checkbox"))&&e.each(function(e,i){t.val()===a(i).data("deps-val")?a(i).slideDown("slow"):a(i).slideUp("slow")})}),a(document).on("change","fieldset.ywpo_availability_date_mode input",function(){var e=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_override_labels input"),i=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_preorder_availability_date_label, p._ywpo_preorder_availability_date_label-description"),t=a(this).closest(".ywpo_options_group").find("fieldset._ywpo_preorder_no_date_label, p._ywpo_preorder_no_date_label-description");a(this).is(":checked")&&e.is(":checked")&&("date"===a(this).val()||"dynamic"===a(this).val()?(i.show(),t.hide()):"no_date"===a(this).val()&&(i.hide(),t.show()))}),a(document).on("change","fieldset._ywpo_override_labels input",function(){a(this).is(":checked")&&a(this).closest(".ywpo_options_group").find(".ywpo_availability_date_mode input").trigger("change")}),a(document).on("ywpo_init_datetimepickers",function(){var e=new Date;a(".ywpo_datetimepicker").datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",showSecond:!1,pickerTimeFormat:"HH:mm",secondMax:0,minDate:e,beforeShow:function(e,i){i.dpDiv.addClass("yith-plugin-fw-datepicker-div yith-plugin-fw-datetimepicker-div")},onClose:function(e,i){i.dpDiv.removeClass("yith-plugin-fw-datepicker-div yith-plugin-fw-datetimepicker-div")}})}),a(this).on("woocommerce_variations_loaded",function(){a(".woocommerce_variable_attributes .show_if_variation_pre_order textarea.wp-editor-area").each(function(e,o){{o=a(o).attr("id");let e="_ywpo_preorder_availability_date_label",i=tinyMCEPreInit.mceInit[e],t=tinyMCEPreInit.qtInit[e];return i.selector=o,i.body_class=i.body_class.replace(e,o),t.id=o,tinyMCEPreInit.mceInit[o]=i,tinyMCEPreInit.qtInit[o]=t,tinyMCE.init(tinyMCEPreInit.mceInit[o]),tinyMCE.execCommand("mceRemoveEditor",!0,o),tinyMCE.execCommand("mceAddEditor",!0,o),quicktags(t),void QTags._buttonsInit()}}),e(),a("#variable_product_options").find(".woocommerce_variations .variation-needs-update").removeClass("variation-needs-update")}),a("#variable_product_options").on("woocommerce_variations_save_variations_button",function(){var e=Object.keys(tinyMCEPreInit.mceInit);a.each(e,function(e,i){(i.startsWith("_ywpo_start_date_label")||i.startsWith("_ywpo_preorder_availability_date_label")||i.startsWith("_ywpo_preorder_no_date_label"))&&(tinyMCE.execCommand("mceRemoveEditor",!0,i),tinyMCE.execCommand("mceAddEditor",!0,i))})}),e()});