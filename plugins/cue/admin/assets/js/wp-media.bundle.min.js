!function(s){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=s,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./admin/assets/js/wp-media.js")}({"./admin/assets/js/controllers/playlists.js":function(t,e,s){"use strict";s.r(e),s.d(e,"PlaylistsController",function(){return n});var e=s("backbone"),i=s.n(e),e=s("wp"),e=s.n(e),s=s("./admin/assets/js/modules/application.js");const n=e.a.media.controller.State.extend({defaults:{id:"cue-playlists",title:s.l10n.insertPlaylist||"Insert Playlist",collection:null,content:"cue-playlist-browser",menu:"default",menuItem:{text:s.l10n.insertFromCue||"Insert from Cue",priority:130},selection:null,toolbar:"cue-insert-playlist"},initialize:function(t){var e=t.collection||new i.a.Collection,t=t.selection||new i.a.Collection;this.set("attributes",new i.a.Model({id:null,show_playlist:!0})),this.set("collection",e),this.set("selection",t)}})},"./admin/assets/js/modules/application.js":function(t,i,n){"use strict";n.r(i),function(t){n.d(i,"l10n",function(){return e}),n.d(i,"settings",function(){return s});t.cue=t.cue||new class{constructor(){this.l10n={},this.settings={}}config(t){t.l10n&&(this.l10n=Object.assign(this.l10n,t.l10n),delete t.l10n),this.settings=Object.assign(this.settings,t)}},i.default=t.cue;const e=t.cue.l10n,s=t.cue.settings}.call(this,n("./node_modules/webpack/buildin/global.js"))},"./admin/assets/js/views/frame/content/browser/no-items.js":function(t,e,s){"use strict";s.r(e),s.d(e,"NoItems",function(){return i});e=s("wp"),e=s.n(e);const i=e.a.Backbone.View.extend({className:"cue-playlist-browser-empty",tagName:"div",template:e.a.template("cue-playlist-browser-empty"),initialize:function(t){this.collection=this.collection,this.listenTo(this.collection,"add remove reset",this.toggleVisibility)},render:function(){return this.$el.html(this.template()),this},toggleVisibility:function(){this.$el.toggleClass("is-visible",this.collection.length<1)}})},"./admin/assets/js/views/frame/content/browser/playlist.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Playlist",function(){return i});e=s("wp"),e=s.n(e);const i=e.a.Backbone.View.extend({tagName:"li",className:"cue-playlist-browser-list-item",template:e.a.template("cue-playlist-browser-list-item"),events:{click:"resetSelection"},initialize:function(t){this.controller=t.controller,this.model=t.model,this.selection=this.controller.state().get("selection"),this.listenTo(this.selection,"add remove reset",this.updateSelectedClass)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},resetSelection:function(){this.selection.contains(this.model)?this.selection.remove(this.model):this.selection.reset(this.model)},updateSelectedClass:function(){this.selection.findWhere({id:this.model.get("id")})?this.$el.addClass("is-selected"):this.$el.removeClass("is-selected")}})},"./admin/assets/js/views/frame/content/browser/playlists.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Playlists",function(){return n});var e=s("wp"),e=s.n(e),i=s("./admin/assets/js/views/frame/content/browser/playlist.js");const n=e.a.Backbone.View.extend({className:"cue-playlist-browser-list",tagName:"ul",initialize:function(t){this.collection=t.controller.state().get("collection"),this.controller=t.controller,this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.collection.each(this.addItem,this),this},addItem:function(t){t=new i.Playlist({controller:this.controller,model:t}).render();this.$el.append(t.el)}})},"./admin/assets/js/views/frame/content/browser/sidebar.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Sidebar",function(){return i});var e=s("jquery"),n=s.n(e),e=s("wp"),e=s.n(e);const i=e.a.Backbone.View.extend({className:"cue-playlist-browser-sidebar media-sidebar",template:e.a.template("cue-playlist-browser-sidebar"),events:{"change [data-setting]":"updateAttribute"},initialize:function(t){this.attributes=t.controller.state().get("attributes")},render:function(){this.$el.html(this.template())},updateAttribute:function(t){const e=n()(t.target);var s=e.data("setting");let i=t.target.value;"checkbox"===t.target.type&&(i=!!e.prop("checked")),this.attributes.set(s,i)}})},"./admin/assets/js/views/frame/content/playlist-browser.js":function(t,e,s){"use strict";s.r(e),s.d(e,"PlaylistBrowser",function(){return r});var e=s("wp"),i=s.n(e),n=s("./admin/assets/js/views/frame/content/browser/no-items.js"),l=s("./admin/assets/js/views/frame/content/browser/playlists.js"),o=s("./admin/assets/js/views/frame/content/browser/sidebar.js");const r=i.a.Backbone.View.extend({className:"cue-playlist-browser",initialize:function(t){this.collection=t.controller.state().get("collection"),this.controller=t.controller,this._paged=1,this._pending=!1,this.scroll=this.scroll.bind(this),this.listenTo(this.collection,"reset",this.render),this.collection.length||this.getPlaylists()},render:function(){return this.$el.off("scroll").on("scroll",this.scroll),this.views.add([new l.Playlists({collection:this.collection,controller:this.controller}),new o.Sidebar({controller:this.controller}),new n.NoItems({collection:this.collection})]),this},scroll:function(){!this._pending&&this.el.scrollHeight<this.el.scrollTop+3*this.el.clientHeight&&(this._pending=!0,this.getPlaylists())},getPlaylists:function(){i.a.ajax.post("cue_get_playlists",{paged:this._paged}).done(t=>{this.collection.add(t.playlists),this._paged++,this._paged<=t.maxNumPages&&(this._pending=!1,this.scroll())})}})},"./admin/assets/js/views/frame/insert-playlist.js":function(t,e,s){"use strict";s.r(e);var i=s("wp"),i=s.n(i),n=s("./admin/assets/js/views/frame/toolbar/insert-playlist.js"),l=s("./admin/assets/js/views/frame/content/playlist-browser.js"),o=s("./admin/assets/js/controllers/playlists.js");const r=i.a.media.view.MediaFrame["Post"];e.default=r.extend({createStates:function(){r.prototype.createStates.apply(this,arguments),this.states.add(new o.PlaylistsController({}))},bindHandlers:function(){r.prototype.bindHandlers.apply(this,arguments),this.on("content:create:cue-playlist-browser",this.createCueContent,this),this.on("toolbar:create:cue-insert-playlist",this.createCueToolbar,this)},createCueContent:function(t){t.view=new l.PlaylistBrowser({controller:this})},createCueToolbar:function(t){t.view=new n.InsertPlaylistToolbar({controller:this})}})},"./admin/assets/js/views/frame/toolbar/insert-playlist.js":function(t,e,s){"use strict";s.r(e),s.d(e,"InsertPlaylistToolbar",function(){return r});var e=s("underscore"),n=s.n(e),e=s("wp"),l=s.n(e);const{l10n:i,Toolbar:o}=l.a.media.view,r=o.extend({initialize:function(t){this.controller=t.controller,this.insert=this.insert.bind(this),this.options.items=n.a.defaults(this.options.items||{},{insert:{text:i.insertIntoPost||"Insert into post",style:"primary",priority:80,requires:{selection:!0},click:this.insert}}),o.prototype.initialize.apply(this,arguments)},insert:function(){const t=this.controller.state(),e=t.get("attributes").toJSON(),s=t.get("selection").first();e.id=s.get("id"),n.a.pick(e,"id","theme","width","show_playlist"),e.show_playlist?delete e.show_playlist:e.show_playlist="0";var i=l.a.shortcode.string({tag:"cue",type:"single",attrs:e});l.a.media.editor.insert(i),this.controller.close()}})},"./admin/assets/js/wp-media.js":function(t,e,s){"use strict";s.r(e);var i=s("wp"),e=s.n(i),i=s("./admin/assets/js/modules/application.js"),s=s("./admin/assets/js/views/frame/insert-playlist.js");i.default.config(_cueMediaSettings),e.a.media.view.MediaFrame.Post=s.default},"./node_modules/webpack/buildin/global.js":function(t,e){var s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s},backbone:function(t,e){t.exports=Backbone},jquery:function(t,e){t.exports=jQuery},underscore:function(t,e){t.exports=_},wp:function(t,e){t.exports=wp}});