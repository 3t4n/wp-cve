!function u(n,o,i){function a(e,t){if(!o[e]){if(!n[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=o[e]={exports:{}},n[e][0].call(r.exports,function(t){return a(n[e][1][t]||t)},r,r.exports,u,n,o,i)}return o[e].exports}for(var c="function"==typeof require&&require,t=0;t<i.length;t++)a(i[t]);return a}({1:[function(t,e,r){"use strict";function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=u(t("converter")),o=u(t("image-dialog")),i=t("compat");function u(t){return t&&t.__esModule?t:{default:t}}function b(){b=function(){return i};var i={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function a(t,e,r,u){var n,o,i,a,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),u=new g(u||[]);return s(e,"_invoke",{value:(n=t,o=r,i=u,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return w()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var u=r.method,n=e.iterator[u];if(void 0===n)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),D;u=l(n,e.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,D;n=u.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,D):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,D)}(r,i);if(r){if(r===D)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";r=l(n,o,i);if("normal"===r.type){if(a=i.done?"completed":"suspendedYield",r.arg===D)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(a="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=a;var D={};function f(){}function F(){}function p(){}var e={},h=(o(e,u,function(){return this}),Object.getPrototypeOf),h=h&&h(h(C([]))),d=(h&&h!==t&&c.call(h,u)&&(e=h),p.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function m(i,a){var e;s(this,"_invoke",{value:function(r,u){function t(){return new a(function(t,e){!function e(t,r,u,n){var o,t=l(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==A(r)&&c.call(r,"__await")?a.resolve(r.__await).then(function(t){e("next",t,u,n)},function(t){e("throw",t,u,n)}):a.resolve(r).then(function(t){o.value=t,u(o)},function(t){return e("throw",t,u,n)});n(t.arg)}(r,u,t,e)})}return e=e?e.then(t,t):t()}})}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function C(e){if(e){var r,t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(c.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:w}}function w(){return{value:void 0,done:!0}}return s(d,"constructor",{value:F.prototype=p,configurable:!0}),s(p,"constructor",{value:F,configurable:!0}),F.displayName=o(p,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===F||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t},i.awrap=function(t){return{__await:t}},y(m.prototype),o(m.prototype,r,function(){return this}),i.AsyncIterator=m,i.async=function(t,e,r,u,n){void 0===n&&(n=Promise);var o=new m(a(t,e,r,u),n);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(d),o(d,n,"Generator"),o(d,u,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),u=[];for(e in r)u.push(e);return u.reverse(),function t(){for(;u.length;){var e=u.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=C,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var u=this;function t(t,e){return o.type="throw",o.arg=r,u.next=t,e&&(u.method="next",u.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),a=c.call(n,"finallyLoc");if(i&&a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var n=u;break}}var o=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,D):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),D},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),D}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,u,n=this.tryEntries[e];if(n.tryLoc===t)return"throw"===(r=n.completion).type&&(u=r.arg,E(n)),u}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),D}},i}function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var r;if(t)return"string"==typeof t?c(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}function s(t,e,r,u,n,o,i){try{var a=t[o](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(u,n)}function l(a){return function(){var t=this,i=arguments;return new Promise(function(e,r){var u=a.apply(t,i);function n(t){s(u,e,r,n,o,"next",t)}function o(t){s(u,e,r,n,o,"throw",t)}n(void 0)})}}var D,f=wp.media.View.extend({template:wp.template("the-paste-instructions"),className:"the-paste-instructions",render:function(){var t=this;wp.media.View.prototype.render.apply(this,arguments),setInterval(function(){t.$el.prop("hidden",!document.hasFocus())},100)}});_.extend(wp.media.view.MediaFrame.prototype,{_parentInitialize:wp.media.view.MediaFrame.prototype.initialize,initialize:function(t){this._parentInitialize.apply(this,arguments),this.on("attach",this.addPasteInstructions,this),this.pasteInstructions=new f,this.pasteInstructions.render()},addPasteInstructions:function(){this.$el.find("#media-frame-title").append(this.pasteInstructions.el)}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var u=this,t=(this._parentInitialize.apply(this,arguments),new f({priority:-10}));t.render(),this.toolbar.set("pasteInstructions",t),document.addEventListener("paste",function(){var e=l(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.$el.is(":visible")){t.next=2;break}return t.abrupt("return");case 2:return r=Array.from(e.clipboardData.files),t.t0=r.push,t.t1=r,t.t2=a,t.next=8,n.default.clipboardItemsToFiles(e.clipboardData.items);case 8:if(t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),r.length)return t.next=14,u.handlePastedFiles(r);t.next=15;break;case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),{capture:!0})},handlePastedFiles:(D=l(b().mark(function t(e){var r,u;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],u=this.controller.uploader.uploader.uploader,e.forEach(function(t){/^image\//.test(t.type)?r.push(t):u.addFile(i.rml.file(t))}),r.length)return t.next=5,(0,o.default)(r);t.next=7;break;case 5:t.sent.forEach(function(t){return u.addFile(i.rml.file(t))});case 7:case"end":return t.stop()}},t,this)})),function(t){return D.apply(this,arguments)})})},{compat:2,converter:3,"image-dialog":5}],2:[function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var u=e[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===n(t)?t:String(t)}(u.key),u)}}var u=new(function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,r,u;return e=t,(r=[{key:"svg",get:function(){return _wpPluploadSettings.defaults.filters.mime_types[0].extensions.split(",").includes("svg")}},{key:"webp",get:function(){return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}}])&&o(e.prototype,r),u&&o(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}());e.exports={rml:{file:function(t){return t.getSource||(t.getSource=function(){return t}),t}},supports:u}},{}],3:[function(t,e,r){"use strict";function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=t("compat"),u=t("filename");function i(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var r;if(t)return"string"==typeof t?n(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}function b(){b=function(){return i};var i={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function a(t,e,r,u){var n,o,i,a,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),u=new g(u||[]);return s(e,"_invoke",{value:(n=t,o=r,i=u,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return w()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var u=r.method,n=e.iterator[u];if(void 0===n)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),D;u=l(n,e.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,D;n=u.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,D):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,D)}(r,i);if(r){if(r===D)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";r=l(n,o,i);if("normal"===r.type){if(a=i.done?"completed":"suspendedYield",r.arg===D)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(a="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=a;var D={};function f(){}function F(){}function p(){}var e={},h=(o(e,u,function(){return this}),Object.getPrototypeOf),h=h&&h(h(C([]))),d=(h&&h!==t&&c.call(h,u)&&(e=h),p.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function m(i,a){var e;s(this,"_invoke",{value:function(r,u){function t(){return new a(function(t,e){!function e(t,r,u,n){var o,t=l(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==A(r)&&c.call(r,"__await")?a.resolve(r.__await).then(function(t){e("next",t,u,n)},function(t){e("throw",t,u,n)}):a.resolve(r).then(function(t){o.value=t,u(o)},function(t){return e("throw",t,u,n)});n(t.arg)}(r,u,t,e)})}return e=e?e.then(t,t):t()}})}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function C(e){if(e){var r,t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(c.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:w}}function w(){return{value:void 0,done:!0}}return s(d,"constructor",{value:F.prototype=p,configurable:!0}),s(p,"constructor",{value:F,configurable:!0}),F.displayName=o(p,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===F||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t},i.awrap=function(t){return{__await:t}},y(m.prototype),o(m.prototype,r,function(){return this}),i.AsyncIterator=m,i.async=function(t,e,r,u,n){void 0===n&&(n=Promise);var o=new m(a(t,e,r,u),n);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(d),o(d,n,"Generator"),o(d,u,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),u=[];for(e in r)u.push(e);return u.reverse(),function t(){for(;u.length;){var e=u.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=C,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var u=this;function t(t,e){return o.type="throw",o.arg=r,u.next=t,e&&(u.method="next",u.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),a=c.call(n,"finallyLoc");if(i&&a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var n=u;break}}var o=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,D):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),D},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),D}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,u,n=this.tryEntries[e];if(n.tryLoc===t)return"throw"===(r=n.completion).type&&(u=r.arg,E(n)),u}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),D}},i}function c(t,e,r,u,n,o,i){try{var a=t[o](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(u,n)}function a(a){return function(){var t=this,i=arguments;return new Promise(function(e,r){var u=a.apply(t,i);function n(t){c(u,e,r,n,o,"next",t)}function o(t){c(u,e,r,n,o,"throw",t)}n(void 0)})}}var s,l,D,f,F,p,h,d,y,m,v,E,g,C,w={clipboardItemsToFiles:function(u){var n=[];return new Promise(function(t,e){var r=Array.from(u).map(function(t){var e,r,u;if("string"===t.kind)return e=t.type,(null!=(e={"text/plain":(u=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.supports.svg)return t.next=3,w.itemToString(e);t.next=8;break;case 3:if(0<=(r=t.sent).toLowerCase().indexOf("<svg"))if((new DOMParser).parseFromString(r,"image/svg+xml").querySelector("svg"))return t.abrupt("return",[w.stringToFile(r,"image/svg+xml")]);t.next=8;break;case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}},t)})),function(t){return u.apply(this,arguments)}),"text/html":(r=a(b().mark(function t(e){var r,u,n;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URL(document.location),u=document.createElement("div"),t.next=4,w.itemToString(e);case 4:return u.innerHTML=t.sent,n=Array.from(u.querySelectorAll("img")).filter(function(t){t=new URL(t.src);return!["http:","https:"].includes(t.protocol)||r.hostname!==t.hostname}).map(function(t){return w.elementToFile(t)}),t.abrupt("return",new Promise(function(e,t){Promise.allSettled(n).then(function(t){return e(Array.from(t).map(function(t){return t.value}))})}));case 7:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})}[e])?e:function(){return new Promise(function(t,e){return t([])})})(t).then(function(t){n.push.apply(n,i(t.filter(function(t){return 0<t.size})))}).catch(function(t){return console.error(t)})});Promise.allSettled(r).then(function(){return t(n)})})},clipboardItemsToHtml:(C=a(b().mark(function t(e){var r,u;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(r<e.length){if("string"===(u=e[r]).kind&&"text/html"===u.type)return t.next=6,w.itemToString(u);t.next=7}else t.next=10;break;case 6:return t.abrupt("return",t.sent);case 7:r++,t.next=1;break;case 10:return t.abrupt("return","");case 11:case"end":return t.stop()}},t)})),function(t){return C.apply(this,arguments)}),gdocsItemToSources:(g=a(b().mark(function t(e){return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(u,t){e.getAsString(function(){var e=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Object.values(JSON.parse(JSON.parse(e).data).image_urls),u(r);case 2:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return t.stop()}},t)})),function(t){return g.apply(this,arguments)}),gdocsItemToFiles:(E=a(b().mark(function t(e){var r,u,n;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.gdocsItemToSources(e);case 2:u=t.sent,n=[],r=0;case 5:if(r<u.length)return t.t0=n,t.next=9,w.blobUrlToFile(u[r]);t.next=14;break;case 9:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 11:r++,t.next=5;break;case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}},t)})),function(t){return E.apply(this,arguments)}),itemToString:(v=a(b().mark(function t(r){return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(e,t){r.getAsString(function(t){return e(t)})}));case 1:case"end":return t.stop()}},t)})),function(t){return v.apply(this,arguments)}),elementToFile:(m=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.urlToFile(e.src,e.alt);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),function(t){return m.apply(this,arguments)}),urlToFile:(y=a(b().mark(function t(e){var r,u,n,o=arguments;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=1<o.length&&void 0!==o[1]?o[1]:"","data"!==(n=e.substr(0,e.indexOf(":")))?t.next=6:(u=w.dataUrlToFile(e,r),t.next=10);break;case 6:if(["blob","http","https"].includes(n))return t.next=9,w.blobUrlToFile(e,r);t.next=10;break;case 9:u=t.sent;case 10:return t.abrupt("return",u);case 11:case"end":return t.stop()}},t)})),function(t){return y.apply(this,arguments)}),urlToMime:(d=a(b().mark(function t(e){var r,u;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"data"!==(r=e.substr(0,e.indexOf(":")))?t.next=5:(u=w.dataUrlToMime(e),t.next=9);break;case 5:if(["blob","http","https"].includes(r))return t.next=8,w.blobUrlToMime(e);t.next=9;break;case 8:u=t.sent;case 9:return t.abrupt("return",u);case 10:case"end":return t.stop()}},t)})),function(t){return d.apply(this,arguments)}),urlToType:(h=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.urlToMime(e);case 2:return r=t.sent,t.abrupt("return",r.substr(0,r.indexOf("/")));case 4:case"end":return t.stop()}},t)})),function(t){return h.apply(this,arguments)}),urlToBlobUrl:(p=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.blobUrlToFile(e);case 2:return r=t.sent,t.abrupt("return",w.fileToBlobUrl(r));case 4:case"end":return t.stop()}},t)})),function(t){return p.apply(this,arguments)}),stringToFile:function(t,e){return w.blobToFile(new Blob([t],{type:e}))},blobToFile:function(t){return new File([t],(0,u.safeFilename)(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:""),{type:t.type})},blobUrlToMime:(F=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.blobUrlToBlob(e);case 2:return r=t.sent,t.abrupt("return",r.type);case 4:case"end":return t.stop()}},t)})),function(t){return F.apply(this,arguments)}),blobUrlToType:(f=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.blobUrlToBlob(e);case 2:return r=t.sent,t.abrupt("return",r.type.substr(0,r.type.indexOf("/")));case 4:case"end":return t.stop()}},t)})),function(t){return f.apply(this,arguments)}),blobUrlToBlob:(D=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,fetch(e).then(function(t){return t.blob()});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})),function(t){return D.apply(this,arguments)}),blobUrlToFile:(l=a(b().mark(function t(e){var r,u,n=arguments;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:"",t.next=3,w.blobUrlToBlob(e);case 3:return u=t.sent,t.abrupt("return",w.blobToFile(u,r));case 5:case"end":return t.stop()}},t)})),function(t){return l.apply(this,arguments)}),blobUrlToDataUrl:(s=a(b().mark(function t(e){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then(function(t){return t.blob()});case 2:return r=t.sent,t.next=5,w.fileToDataUrl(r);case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)})),function(t){return s.apply(this,arguments)}),dataUrlToMime:function(t){return t.match("data:([^;]+);")[1]},dataUrlToType:function(t){return t.match("data:([^/]+)/")[1]},dataUrlToBlob:function(t){for(var t=t.split(","),e=t[0].match(/:(.*?);/)[1],r=atob(t[1]),u=r.length,n=new Uint8Array(u);u--;)n[u]=r.charCodeAt(u);return new Blob([n],{type:e})},dataUrlToFile:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return w.blobToFile(w.dataUrlToBlob(t),e)},dataUrlToBlobUrl:function(t){return w.fileToBlobUrl(w.dataUrlToBlob(t))},fileToBlobUrl:function(t){return URL.createObjectURL(t)},fileToDataUrl:function(u){return new Promise(function(t,e){var r=new FileReader;r.addEventListener("load",function(){return t(r.result)}),r.readAsDataURL(u)})}};e.exports=w},{compat:2,filename:4}],4:[function(t,e,r){"use strict";var u=(t=t("mime"))&&t.__esModule?t:{default:t};function n(t){function e(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return("00"+t.toString()).substr(-e)}var r=thepaste.options.default_filename,u=new Date,n=(null==(n=document.querySelector('#post [name="post_title"]#title'))?void 0:n.value)||(null==(n=document.querySelector(".wp-block-post-title"))?void 0:n.textContent)||(null==(n=document.querySelector("h1"))?void 0:n.textContent),o=thepaste.options.filename_values,i=[{s:"%Y",r:u.getFullYear()},{s:"%y",r:u.getFullYear()%100},{s:"%m",r:e(u.getMonth()+1)},{s:"%d",r:e(u.getDate())},{s:"%e",r:u.getDate()},{s:"%H",r:e(u.getHours())},{s:"%I",r:e(u.getHours()%12)},{s:"%M",r:e(u.getMinutes())},{s:"%S",r:e(u.getSeconds())},{s:"%s",r:Math.floor(u.getTime()/1e3)},{s:"%x",r:u.toLocaleDateString()},{s:"%X",r:u.toLocaleTimeString()}];return i.push(void 0!==n?{s:"<postname>",r:n}:{s:"<postname>",r:""}),Object.keys(o).forEach(function(t){o[t]?i.push({s:"<".concat(t,">"),r:o[t]}):i.push({s:"<".concat(t,">"),r:""})}),i.forEach(function(t){r=r.replace(t.s,t.r)}),"string"==typeof t&&(r+="."+t),r}e.exports={generateFilename:n,safeFilename:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=t.type,t=u.default.extension(t);return t!==(e=(e=e.replace(/(?:[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u0380-\u0383\u038B\u038D\u03A2\u0530\u0557\u0558\u058B\u058C\u0590\u05C8-\u05CF\u05EB-\u05EE\u05F5-\u0605\u061C\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB\u07FC\u082E\u082F\u083F\u085C\u085D\u085F\u086B-\u086F\u088F-\u0897\u08E2\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A77-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0BFF\u0C0D\u0C11\u0C29\u0C3A\u0C3B\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B\u0C5C\u0C5E\u0C5F\u0C64\u0C65\u0C70-\u0C76\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDC\u0CDF\u0CE4\u0CE5\u0CF0\u0CF4-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D50-\u0D53\u0D64\u0D65\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F6\u13F7\u13FE\u13FF\u169D-\u169F\u16F9-\u16FF\u1716-\u171E\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180E\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE\u1AAF\u1ACF-\u1AFF\u1B4D-\u1B4F\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C89-\u1C8F\u1CBB\u1CBC\u1CC8-\u1CCF\u1CFB-\u1CFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u2028-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20C1-\u20CF\u20F1-\u20FF\u218C-\u218F\u2427-\u243F\u244B-\u245F\u2B74\u2B75\u2B96\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u3130\u318F\u31E4-\u31EF\u321F\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA6F8-\uA6FF\uA7CB-\uA7CF\uA7D2\uA7D4\uA7DA-\uA7F1\uA82D-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C6-\uA8CD\uA8DA-\uA8DF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB6C-\uAB6F\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC3-\uFBD2\uFD90\uFD91\uFDC8-\uFDCE\uFDD0-\uFDEF\uFE1A-\uFE1F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFC\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE42-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDEFF\uDF0A-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDEFF\uDF11\uDF3B-\uDF3D\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD889-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC30-\uDC3F\uDC56-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEBF\uDED4-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC2F\uDC6E-\uDC8E\uDC90-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCFA-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDF77-\uDF7A\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE89-\uDE8F\uDEBE\uDEC6-\uDECD\uDEDC-\uDEDF\uDEE9-\uDEEF\uDEF9-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"-").trim())||n(t)).split(".").pop()&&(e+=".".concat(t)),e}}},{mime:7}],5:[function(r,u,t){!function(e){!function(){"use strict";function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=t("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t(r("image-list"));function t(t){return t&&t.__esModule?t:{default:t}}function b(){b=function(){return i};var i={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function a(t,e,r,u){var n,o,i,a,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),u=new g(u||[]);return s(e,"_invoke",{value:(n=t,o=r,i=u,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return w()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var u=r.method,n=e.iterator[u];if(void 0===n)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),D;u=l(n,e.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,D;n=u.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,D):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,D)}(r,i);if(r){if(r===D)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";r=l(n,o,i);if("normal"===r.type){if(a=i.done?"completed":"suspendedYield",r.arg===D)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(a="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=a;var D={};function f(){}function F(){}function p(){}var e={},h=(o(e,u,function(){return this}),Object.getPrototypeOf),h=h&&h(h(C([]))),d=(h&&h!==t&&c.call(h,u)&&(e=h),p.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function m(i,a){var e;s(this,"_invoke",{value:function(r,u){function t(){return new a(function(t,e){!function e(t,r,u,n){var o,t=l(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==A(r)&&c.call(r,"__await")?a.resolve(r.__await).then(function(t){e("next",t,u,n)},function(t){e("throw",t,u,n)}):a.resolve(r).then(function(t){o.value=t,u(o)},function(t){return e("throw",t,u,n)});n(t.arg)}(r,u,t,e)})}return e=e?e.then(t,t):t()}})}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function C(e){if(e){var r,t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(c.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:w}}function w(){return{value:void 0,done:!0}}return s(d,"constructor",{value:F.prototype=p,configurable:!0}),s(p,"constructor",{value:F,configurable:!0}),F.displayName=o(p,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===F||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t},i.awrap=function(t){return{__await:t}},y(m.prototype),o(m.prototype,r,function(){return this}),i.AsyncIterator=m,i.async=function(t,e,r,u,n){void 0===n&&(n=Promise);var o=new m(a(t,e,r,u),n);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(d),o(d,n,"Generator"),o(d,u,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),u=[];for(e in r)u.push(e);return u.reverse(),function t(){for(;u.length;){var e=u.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=C,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var u=this;function t(t,e){return o.type="throw",o.arg=r,u.next=t,e&&(u.method="next",u.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),a=c.call(n,"finallyLoc");if(i&&a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var n=u;break}}var o=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,D):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),D},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),D}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,u,n=this.tryEntries[e];if(n.tryLoc===t)return"throw"===(r=n.completion).type&&(u=r.arg,E(n)),u}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),D}},i}function c(t,e,r,u,n,o,i){try{var a=t[o](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(u,n)}function i(a){return function(){var t=this,i=arguments;return new Promise(function(e,r){var u=a.apply(t,i);function n(t){c(u,e,r,n,o,"next",t)}function o(t){c(u,e,r,n,o,"throw",t)}n(void 0)})}}var a=null,s=null;u.exports=function(u){return new Promise(function(r,t){var e;null!==a?(s.addFiles(u),r([])):(a=new wp.media.view.Modal({events:{keydown:function(t){"Enter"===t.key?s.submit():"Escape"===t.key&&a.close()},"click .media-modal-close":function(t){a.close()}},controller:{trigger:function(){}},title:thepaste.l10n.the_paste}),s=new o.default({controller:a}),e=(0,n.default)("body").is(".modal-open"),s.on("thepaste:submit",i(b().mark(function t(){var e;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getFiles();case 2:e=t.sent,a.close(),r(e);case 5:case"end":return t.stop()}},t)}))),s.on("thepaste:cancel",function(){return a.close()}),a.content(s),s.addFiles(u),a.open(),a.on("close",function(){(0,n.default)("body").toggleClass("the-paste-modal-open",!1),(0,n.default)("body").toggleClass("modal-open",e),a.remove(),a=null,console.log("closed",a)}),(0,n.default)("body").toggleClass("the-paste-modal-open",!0))})}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"image-list":6}],6:[function(t,e,r){"use strict";function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(t("converter")),a=n(t("mime")),u=t("compat"),c=t("filename");function n(t){return t&&t.__esModule?t:{default:t}}function b(){b=function(){return i};var i={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function a(t,e,r,u){var n,o,i,a,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),u=new g(u||[]);return s(e,"_invoke",{value:(n=t,o=r,i=u,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return w()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var u=r.method,n=e.iterator[u];if(void 0===n)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),D;u=l(n,e.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,D;n=u.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,D):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,D)}(r,i);if(r){if(r===D)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";r=l(n,o,i);if("normal"===r.type){if(a=i.done?"completed":"suspendedYield",r.arg===D)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(a="completed",i.method="throw",i.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=a;var D={};function f(){}function F(){}function p(){}var e={},h=(o(e,u,function(){return this}),Object.getPrototypeOf),h=h&&h(h(C([]))),d=(h&&h!==t&&c.call(h,u)&&(e=h),p.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function m(i,a){var e;s(this,"_invoke",{value:function(r,u){function t(){return new a(function(t,e){!function e(t,r,u,n){var o,t=l(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==A(r)&&c.call(r,"__await")?a.resolve(r.__await).then(function(t){e("next",t,u,n)},function(t){e("throw",t,u,n)}):a.resolve(r).then(function(t){o.value=t,u(o)},function(t){return e("throw",t,u,n)});n(t.arg)}(r,u,t,e)})}return e=e?e.then(t,t):t()}})}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function C(e){if(e){var r,t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(c.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:w}}function w(){return{value:void 0,done:!0}}return s(d,"constructor",{value:F.prototype=p,configurable:!0}),s(p,"constructor",{value:F,configurable:!0}),F.displayName=o(p,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===F||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t},i.awrap=function(t){return{__await:t}},y(m.prototype),o(m.prototype,r,function(){return this}),i.AsyncIterator=m,i.async=function(t,e,r,u,n){void 0===n&&(n=Promise);var o=new m(a(t,e,r,u),n);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(d),o(d,n,"Generator"),o(d,u,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),u=[];for(e in r)u.push(e);return u.reverse(),function t(){for(;u.length;){var e=u.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=C,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var u=this;function t(t,e){return o.type="throw",o.arg=r,u.next=t,e&&(u.method="next",u.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),a=c.call(n,"finallyLoc");if(i&&a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var n=u;break}}var o=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,D):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),D},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),D}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,u,n=this.tryEntries[e];if(n.tryLoc===t)return"throw"===(r=n.completion).type&&(u=r.arg,E(n)),u}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),D}},i}function s(t,e,r,u,n,o,i){try{var a=t[o](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(u,n)}function o(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var r;if(t)return"string"==typeof t?D(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(t,e):void 0}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}var f,F,p=wp.media.View.extend({tagName:"form",template:wp.template("the-paste-image-list-item"),className:"the-paste-image-list-item",events:{'click [name="discard"]':"discard",'change [name="the-paste-format"]':"updateView"},initialize:function(t){var r=this,u=t.file;wp.media.View.prototype.initialize.apply(this,arguments),this.file=u,new Promise(function(t,e){var r=new Image;r.addEventListener("load",function(){t(r)}),r.src=i.default.fileToBlobUrl(u)}).then(function(t){var e=t.width&&t.height;r.canvas=r.$("canvas").get(0),"image/svg+xml"===r.file.type&&(e?document.body.append(t):r.canvas.after(t)),r.canvas.width=t.width,r.canvas.height=t.height,r.canvas.getContext("2d").drawImage(t,0,0),"image/svg+xml"===r.file.type&&(e?t:r.$('[data-format]:not([data-format="image/svg+xml"])')).remove()})},updateView:function(){var t=this.$('[name="the-paste-format"]:checked').val();t!==this.file.type&&["image/webp","image/jpeg"].includes(t)?this.$(".the-paste-quality").show():this.$(".the-paste-quality").hide()},render:function(){wp.media.View.prototype.render.apply(this,arguments);var t=this.file.type,e=this.file.name.replace(/\.([^\.]*)$/,"");u.supports.webp||"image/webp"!==t&&this.$('[data-format="image/webp"]').remove(),this.$('[name="the-paste-format"][value="'.concat(t,'"]')).prop("checked",!0),this.$('[name="the-paste-filename"]').val(e),this.$('[name="the-paste-filename"]').prop("placeholder",(0,c.generateFilename)()),u.supports.svg&&"image/svg+xml"===t||(this.$('[data-format="image/svg+xml"]').remove(),"image/svg+xml"===t&&this.$('[name="the-paste-format"][value="image/png"]').prop("checked",!0)),this.updateView()},getFile:function(){var r=this,u=this.$('[name="the-paste-format"]:checked').val(),t=this.$('[name="the-paste-filename"]').val()||(0,c.generateFilename)(),n="".concat(t,".").concat(a.default.extension(u)),o=parseFloat(this.$('[name="the-paste-quality"]').val())||thepaste.options.jpeg_quality;return this.file.type===u?new Promise(function(t,e){t(new File([r.file],n,{type:u}))}):new Promise(function(e,t){r.canvas.toBlob(function(t){e(i.default.blobToFile(t,n))},u,.01*o)})},discard:function(){this.controller.discardItem(this)}}),t=wp.media.View.extend({template:wp.template("the-paste-image-list"),className:"the-paste-image-list",events:{"click .media-frame-toolbar button":"submit"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),this.files=[],this.items=[],this.button=new wp.media.view.Button({className:"button-primary button-hero"}),this.render()},discardItem:function(e){this.files=this.files.filter(function(t){return t!==e.file}),this.items=this.items.filter(function(t){return t!==e}),e.$el.remove(),this.items.length||this.trigger("thepaste:cancel")},addFiles:function(t){var e,r=this;(e=this.files).push.apply(e,o(t)),t.forEach(function(t){t=new p({file:t,controller:r});t.render(),r.$(".content").append(t.$el),r.items.push(t),t.render()})},getFiles:(f=b().mark(function t(){var e,r,u;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=function(t,e){var r,u,n,o,i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return u=!(r=!0),{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){u=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(u)throw n}}};if(Array.isArray(t)||(i=l(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),o=0,{s:e=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.items),t.prev=2,r.s();case 4:if((u=r.n()).done){t.next=13;break}return u=u.value,t.t0=e,t.next=9,u.getFile();case 9:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t2=t.catch(2),r.e(t.t2);case 18:return t.prev=18,r.f(),t.finish(18);case 21:return t.abrupt("return",e);case 22:case"end":return t.stop()}},t,this,[[2,15,18,21]])}),F=function(){var t=this,i=arguments;return new Promise(function(e,r){var u=f.apply(t,i);function n(t){s(u,e,r,n,o,"next",t)}function o(t){s(u,e,r,n,o,"throw",t)}n(void 0)})},function(){return F.apply(this,arguments)}),submit:function(){this.trigger("thepaste:submit")}});e.exports=t},{compat:2,converter:3,filename:4,mime:7}],7:[function(t,e,r){"use strict";var u=Object.keys(thepaste.options.mime_types),n=Object.values(thepaste.options.mime_types);u.push("zip"),n.push("application/x-zip-compressed"),e.exports={extension:function(t){t=n.indexOf(t);return-1!==t&&u[t]},type:function(t){t=u.indexOf(t);return-1!==t&&n[t]}}},{}]},{},[1]);
//# sourceMappingURL=the-paste.js.map
