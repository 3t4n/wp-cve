{"version":3,"file":"script.js","mappings":"yBAAA,IAAI,EAA+BA,GAAGC,QCYtC,EAZc,SAAC,GAA6B,IAA3BC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACpBC,EAAwBF,EAAxBE,WAAYC,EAAYH,EAAZG,QAEpB,OAAO,6BAAOC,wBAAyB,CACtCC,OAAQ,+BACSJ,EADT,oCAELC,aAAA,EAAAA,EAAYI,SAAU,0BAFjB,6BAGIH,aAAA,EAAAA,EAASG,SAAU,YAHvB,kBAKNC,QAAQ,OAAQ,SCRdC,EAAIC,OAMVC,SAASC,iBAAiB,oBAAoB,WAC3BD,SAASE,iBAAiB,wBAClCC,SAAQ,SAAAC,GACjB,MAAgCC,KAAKC,MAAMF,EAAOG,QAAQC,OAAlDlB,EAAR,EAAQA,WAAYmB,EAApB,EAAoBA,SAEpBC,EAAAA,EAAAA,QAAO,wCACN,oBAAC,EAAD,CAAOpB,WAAYA,EAAYC,SAAUD,EAAWqB,MAEpD,oBAACC,EAAD,CAAYtB,WAAYA,EAAYmB,QAASA,KACzCL,GAELA,SAAAA,EAAQS,gBAAgB,oBAI1B,IAAMD,EAAa,SAAC,GAA4B,IAA1BtB,EAA0B,EAA1BA,WAAYmB,EAAc,EAAdA,QACzBE,EAAqDrB,EAArDqB,IAAKG,EAAgDxB,EAAhDwB,YAAaC,EAAmCzB,EAAnCyB,eAAgBC,EAAmB1B,EAAnB0B,eAa1C,OAXAC,EAAAA,EAAAA,YAAU,WACTnB,EAAE,kBAAD,OAAmBa,EAAnB,oBAAyCO,UAAU,CACnDC,IAAKL,EACLM,eAAgBL,EAChBM,eAAgBL,EAChBM,OAAQ,EACRC,WAAW,EACXC,OAAQ,OAEP,IAEI,2BAAKC,UAAU,gBAAgB/B,wBAAyB,CAAEC,OAAQc,M","sources":["webpack://sticky-menu-block/external var [\"wp\",\"element\"]","webpack://sticky-menu-block/./src/Style.js","webpack://sticky-menu-block/./src/script.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const Style = ({ attributes, clientId }) => {\r\n\tconst { background, padding } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#smbStickyMenu-${clientId} .smbStickyMenu{\r\n\t\t\t${background?.styles || 'background-color: #333;'}\r\n\t\t\tpadding: ${padding?.styles || '10px 20px'};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />;\r\n}\r\nexport default Style;","import { render, useEffect } from '@wordpress/element';\r\nconst $ = jQuery;\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\n\r\n// Sticky Menu\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allSticky = document.querySelectorAll('.wp-block-smb-sticky');\r\n\tallSticky.forEach(sticky => {\r\n\t\tconst { attributes, content } = JSON.parse(sticky.dataset.props);\r\n\r\n\t\trender(<>\r\n\t\t\t<Style attributes={attributes} clientId={attributes.cId} />\r\n\r\n\t\t\t<StickyMenu attributes={attributes} content={content} />\r\n\t\t</>, sticky);\r\n\r\n\t\tsticky?.removeAttribute('data-props')\r\n\t});\r\n});\r\n\r\nconst StickyMenu = ({ attributes, content }) => {\r\n\tconst { cId, topPosition, minScreenWidth, maxScreenWidth } = attributes;\r\n\r\n\tuseEffect(() => {\r\n\t\t$(`#smbStickyMenu-${cId} .smbStickyMenu`).stickThis({\r\n\t\t\ttop: topPosition,\t\t\t\t\t// top position of sticky element, measured from 'ceiling'\r\n\t\t\tminscreenwidth: minScreenWidth,\t\t// element will not be sticky when viewport width smaller than this\r\n\t\t\tmaxscreenwidth: maxScreenWidth,\t\t// element will not be sticky when viewport width larger than this \r\n\t\t\tzindex: 1,\t\t\t\t\t\t\t// z-index value of sticky element\r\n\t\t\tdebugmode: false,\t\t\t\t\t// when true, errors will be logged to console\r\n\t\t\tpushup: ''\t\t\t\t\t\t\t// another (unique) element on the page that will 'push up' the sticky element\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn <div className='smbStickyMenu' dangerouslySetInnerHTML={{ __html: content }}></div>\r\n}\r\nexport default StickyMenu;"],"names":["wp","element","attributes","clientId","background","padding","dangerouslySetInnerHTML","__html","styles","replace","$","jQuery","document","addEventListener","querySelectorAll","forEach","sticky","JSON","parse","dataset","props","content","render","cId","StickyMenu","removeAttribute","topPosition","minScreenWidth","maxScreenWidth","useEffect","stickThis","top","minscreenwidth","maxscreenwidth","zindex","debugmode","pushup","className"],"sourceRoot":""}