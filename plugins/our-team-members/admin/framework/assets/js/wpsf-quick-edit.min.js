!function($,window,document,undefined){"use strict";$.WPSFQE=$.WPSFQE||{},$.WPSFQE.db_values={},$.WPSFQE.post_id=null,$.WPSFQE.inline=null,$.WPSFQE.fields=null,$.WPSFQE.string_to_array=function($string){if(void 0===$string)return!1;var $s=$string.split("[");return $.each($s,function($i,$v){$s[$i]=$v.replace("]",""),$s[$i]=$s[$i].replace("[","")}),$s},$.WPSFQE.retrive_db_values=function(){$.WPSFQE.inline.find(" > div").each(function(){var $ID=$(this).attr("id"),$values=JSON.parse($(this).text());$.WPSFQE.db_values[$ID]=$values})},$.WPSFQE.get_field_db_name=function($name,$type){return $name=$.WPSFQE.string_to_array($name),"db"===$type?$name[0]:$name[1]},$.WPSFQE.get_field_value=function($db_key,$field_id){return void 0!==$.WPSFQE.db_values[$db_key]&&void 0!==$.WPSFQE.db_values[$db_key][$field_id]?$.WPSFQE.db_values[$db_key][$field_id]:null},$.WPSFQE.set_select_prop=function($elem,$value){$elem.find("option").each(function($i,$c){$value===$(this).val()&&$(this).attr("selected","selected")})},$.WPSFQE.handle_select_values=function($elem,$value){if(void 0!==$value)if(void 0===$elem.attr("multiple")){var $val=$value;if(("object"==typeof $value||"array"==typeof $value)&&null!==$value){var $arr=$.WPSFQE.string_to_array($elem.attr("name"));$val=$value[$arr[$arr.length-1]]}$val&&($elem.find("option").removeAttr("selected"),$.WPSFQE.set_select_prop($elem,$val))}else $elem.find("option").removeAttr("selected"),$.each($value,function($i,$v){$.WPSFQE.set_select_prop($elem,$v)})},$.WPSFQE.handle_input_values=function($elem,$value){if(""!=$value)switch($elem.attr("type")){case"checkbox":case"radio":"object"!=typeof $value&&"array"!=typeof $value||null==$value?$value==$elem.val()&&$elem.prop("checked",!0):$.each($value,function($i,$v){$v==$elem.val()&&$elem.prop("checked",!0)});break;default:if("object"!=typeof $value&&"array"!=typeof $value||null==$value)if($elem.hasClass("wpsf-icon-value")){var $parent=$elem.parent();$parent.find("i").removeAttr("class").addClass($value),$parent.find("input").val($value).trigger("change"),$parent.find(".wpsf-icon-preview").removeClass("hidden"),$parent.find(".wpsf-icon-remove").removeClass("hidden")}else $elem.val($value);else{var $arr=$.WPSFQE.string_to_array($elem.attr("name")),$last=$arr[$arr.length-1];void 0!==$value[$last]&&$elem.val($value[$last])}}},$.WPSFQE.find_inputs=function($elem,$type){return"main"==$type?$elem.find(".wpsf-element"):$elem.find(":input")},$.WPSFQE.loop_inputs=function($elem){var $main_inputs=$.WPSFQE.find_inputs($elem,"main");$main_inputs&&$main_inputs.each(function(){var $sub_inputs=$.WPSFQE.find_inputs($(this),"sub");$sub_inputs&&$sub_inputs.each(function(){var $e=$(this),$qeid=$.WPSFQE.get_field_db_name($e.attr("name"),"db"),$fiid=$.WPSFQE.get_field_db_name($e.attr("name"),"slug"),$default_value=$.WPSFQE.get_field_value($qeid,$fiid);$e.is("textarea")?$e.html($default_value):$e.is("input")?$.WPSFQE.handle_input_values($e,$default_value):$e.is("select")&&$.WPSFQE.handle_select_values($e,$default_value)}),$.WPSFQE.loop_inputs($(this))})},$.WPSFQE.handle_field_values=function(){$.WPSFQE.loop_inputs($.WPSFQE.fields),$.WPSFQE.fields.WPSFRAMEWORK_RELOAD_PLUGINS()},$.WPSFQE.handle_quick_edit_click=function($elem){$.WPSFQE.post_id=$elem.closest("tr").attr("id"),$.WPSFQE.post_id=$.WPSFQE.post_id.replace("post-",""),$.WPSFQE.inline=$("#wpsf_quick_edit_"+$.WPSFQE.post_id),$.WPSFQE.fields=$(".inline-edit-row").find(".wpsf_quick_edit_fields"),$.WPSFQE.retrive_db_values(),$.WPSFQE.handle_field_values()},$(document).ready(function(){$("#the-list").length>0&&$("#the-list").on("click",".editinline",function(e){$.WPSFQE.handle_quick_edit_click($(this))})})}(jQuery,window,document);