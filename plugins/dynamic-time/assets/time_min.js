var sum_updated,doc_ready,cal_ready,cal_expired;sum_updated=doc_ready=cal_ready=cal_expired=0;var loaded=new Date,weekday=Array(7);weekday[0]="Sun",weekday[1]="Mon",weekday[2]="Tue",weekday[3]="Wed",weekday[4]="Thu",weekday[5]="Fri",weekday[6]="Sat";var month=Array(12);month[0]="Jan",month[1]="Feb",month[2]="Mar",month[3]="Apr",month[4]="May",month[5]="Jun",month[6]="Jul",month[7]="Aug",month[8]="Sep",month[9]="Oct",month[10]="Nov",month[11]="Dec";function set_opacity(a){dyt_gE("dyt_head")&&(dyt_gE("dyt_head").style.opacity=a),dyt_gE("dyt_nav")&&(dyt_gE("dyt_nav").style.opacity=a),dyt_gE("dyt_form")&&(dyt_gE("dyt_form").style.opacity=a),dyt_gE("dyt_cal")&&(dyt_gE("dyt_cal").style.opacity=a),1>parseInt(a)?(dyt_gE("dyt_head")&&(dyt_gE("dyt_head").style.pointerEvents="none"),dyt_gE("dyt_nav")&&(dyt_gE("dyt_nav").style.pointerEvents="none"),dyt_gE("dyt_form")&&(dyt_gE("dyt_form").style.pointerEvents="none")):(dyt_gE("dyt_head")&&(dyt_gE("dyt_head").style.pointerEvents="initial"),dyt_gE("dyt_nav")&&(dyt_gE("dyt_nav").style.pointerEvents="initial"),dyt_gE("dyt_form")&&(dyt_gE("dyt_form").style.pointerEvents="initial"))}function dyt_gE(a){return!!dytE(a)&&dytE(a)}function show_save(a,b=0){var c=dyt_gE("input_saved"),d=dyt_gE("dyt_form");if(0!=a){if(set_opacity(.3),-1==a)return void d.submit();if(c.style.opacity=1,c.style.display="block",-5==a&&(c.innerHTML="This data is "+b+" minutes old.<br><br><input type='submit' onclick='location.reload();' value='Refresh page' style='cursor:pointer;padding:1em'>"),-3==a&&(c.innerHTML="Dynamic Time<br>&#9888; Setup Incomplete<br><br><input type='submit' onclick='window.location.href=setup_path' value='Settings' style='cursor:pointer;padding:1em'>"),-2==a)return c.innerHTML="Submitting...<br><progress></progress>",void d.submit();1==a&&(c.innerHTML="Saved"),2==a&&(c.innerHTML="Sent")}else setTimeout(function(){c.style.opacity=0},500),setTimeout(function(){c.style.display="none"},900)}function add_week(a){function b(){return!1}function c(){return!1}if(0<input_saved&&0==doc_ready&&show_save(input_saved),14!=period||.1!=Math.abs(a)||confirm("Are you sure you want to adjust the biweekly schedule?")){dyt_gE("Reg").value="",dyt_gE("PTO").value="",dyt_gE("OT").value="",dyt_gE("Bonus").value="",dyt_gE("period_note").value="",dyt_gE("TOT").value="",dyt_gE("TOTamt").value="",period_days=period,(7>=period||14==period&&.1==Math.abs(a))&&(0>a&&df_date.setTime(df_date.getTime()-604800000),0<a&&df_date.setTime(df_date.getTime()+691200000)),14==period&&.1!=Math.abs(a)&&(0>a&&df_date.setTime(df_date.getTime()-1209600000),0<a&&df_date.setTime(df_date.getTime()+1209600000)),15==period&&(0>a&&df_date.setTime(df_date.getTime()-1209600000),0<a&&df_date.setTime(df_date.getTime()+1468800000)),30==period&&(0>a&&df_date.setTime(df_date.getTime()-2419200000),0<a&&df_date.setTime(df_date.getTime()+2764800000));var d=0;if(14>=period)for(var e=df_date.getDay();e!=weekbegin;)df_date.setDate(df_date.getDate()-1),e=df_date.getDay();if(15==period){for(;15!=df_date.getDate()&&1!=df_date.getDate();)df_date.setDate(df_date.getDate()-1);15==df_date.getDate()&&(thismonth=new Date(df_date.getFullYear(),df_date.getMonth()+1,0),period_days=thismonth.getDate()-15,d=1)}30==period&&(df_date.setDate(1),thismonth=new Date(df_date.getFullYear(),df_date.getMonth()+1,0),period_days=thismonth.getDate()),0<sum_updated&&(set_opacity(.3),dyt_gE("dyt_save").click());var f=new Date(df_date),g=Math.floor(f.getTime()/864e5),h=new Date;f.setDate(f.getDate()+d);var j=document.createElement("week"),k=dyt_gE("period_disp"),l=0,m=1,n=begin_day=end_day=readonly="",o=-2,p="<input name='category[]' type='search' class='dyt_hourtype' onchange='onchange_chk(); sumrows();' style='display:block;max-width:unset;margin-top:1em' maxlength='50' list='cat_list_Reg' autocomplete='off' placeholder='Category'>";for(1>categoryon&&(p=p.replace("display:block","display:none"));l<period_days;)wk_day=weekday[f.getDay()],month_name=month[f.getMonth()],row_hmn=dyt_date_convert(f,"hmn"),0===l?(begin_day=month_name+" "+f.getDate(),n=parseInt(f.getTime()/864e5)):l>period_days-2&&(end_day=month_name+" "+f.getDate(),k.innerHTML=begin_day+" - "+end_day),weekbegin==weekday.indexOf(wk_day)?(m++,wk_break="<br>"):wk_break="",wk_class=0==m%2?"dyt_light":"dyt_dark",g=Math.floor(f.getTime()/864e5),tdy_bg=g==tdy_epoch?"style='background:#2e77a924'":"",day_name="<div class='dyt_dayname'>"+wk_day+"</div>",wk_date_string="<div class='dyt_datename' alt=''>"+month_name+" "+f.getDate()+", "+f.getFullYear()+"</div>",input_day="<div id='day"+g+"' "+tdy_bg+" class='dyt_day day_"+wk_day+" "+wk_class+"'>",input_row="<div id='row"+g+"' class='dyt_row'>",day_date="<input name='date[]' type='hidden' value='"+g+"'><input name='hmn_date[]' type='hidden' id='row"+row_hmn+"' value='"+row_hmn+"'>",readonly=0==prompt?"":"readonly",day_hrs="<input name='hours[]' "+readonly+" id='ttot"+g+"' onfocusin='show_time(this.id,this.parentNode.id);' class='dyt_hours' type='number' pattern='[0-9,.]*' inputmode='decimal' step='.05' min='-1' max='24' onchange='sum_time(this.parentNode.id,-2); sumrows();'>",time_div="<div id='tdiv"+g+"' class='dyt_pop noprint'>",1>prompt&&(time_div+="<div style='display:none'>"),tmin_1=3==prompt?punch("in",1):0<predict?localStorage.getItem("dyt_tmin_1"):df_in,tmin_1||(tmin_1="08:00:00"),tout_1=0<predict?localStorage.getItem("dyt_tout_1"):3==prompt?punch("out",1):df_out,tout_1||(tout_1="12:00:00"),time_div=time_div+"<a class='punch' title='click to punch in' id='pcin"+g+"' onclick='punch(this.id);'>in</a><input type='time' title='in' name='time_in[]' id='tmin"+g+"' value='"+tmin_1+"' step='60' onchange='sum_time(this.id,0);'>",time_div+="<a class='stepup' onclick=\"step('up',this.previousSibling.id)\"></a><a class='stepdown' onclick=\"step('down',this.previousSibling.previousSibling.id)\"></a><br>",time_div=time_div+"<a class='punch' title='click to punch out' id='pout"+g+"' onclick='punch(this.id);'>out</a><input type='time' title='out' name='time_out[]' id='tout"+g+"' value='"+tout_1+"' step='60' onchange='sum_time(this.id,0);'>",time_div+="<a class='stepup' onclick=\"step('up',this.previousSibling.id)\"></a><a class='stepdown' onclick=\"step('down',this.previousSibling.previousSibling.id)\"></a><br>",1>prompt&&(time_div+="</div>"),time_div+=p,time_div+="<textarea ",1>notes&&(time_div+=" style='display:none' "),time_div=time_div+"name='note[]' id='tnote"+g+"' placeholder='note' onchange='onchange_chk();'></textarea><br>",(0>prompt||3==prompt&&1>admv)&&(time_div+="<div style='display:none'>"),time_div=time_div+"<input type='button' id='tclr"+g+"' value='Clear' onclick='sum_time(this.id,-3);'>",1>=prompt&&(df_hr_btn=0<prompt?"Default":df_hr+"hr",time_div=time_div+"<input type='button' id='trst"+g+"' value='"+df_hr_btn+"' onclick='sum_time(this.id,-1);'>"),(0>prompt||3==prompt&&1>admv)&&(time_div+="</div>"),time_div=time_div+"<input type='button' id='toky"+g+"' value='OK' onclick='sum_time(this.id,1);'></div>",c="<a class='dyt_delete dyt_hide' onclick=\"delrow('"+g+"');\">&#10008;</a>",b="<a class='dyt_add ' onclick=\"sum_time('"+g+"',1); addrow('"+g+"',0);\">&#10010;</a></div>",j.innerHTML=j.innerHTML+wk_break+input_day+day_name+wk_date_string+input_row+day_date+day_hrs+"<select name='hourtype[]' class='dyt_hourtype' onchange='onchange_chk(); sumrows();'><option selected value='Reg' title='Regular Time'>Reg<option value='PTO' title='Paid Time Off'>PTO</select>"+time_div+c+b+"</div>",f.setDate(f.getDate()+1),o=period_end_hmn.indexOf(row_hmn),0<=o||0==l?set_period(o):(idx=g+1,o=period_end.indexOf(idx.toString()),(0<=o||0==l)&&set_period(o)),l++;if(dyt_gE("dyt_send")){var q=dyt_gE("dyt_send");0>q.className.indexOf("lock")&&(dyt_gE("dyt_approve")||n+period/3<parseInt(Date.now()/864e5))?dyt_disable("dyt_send","pre_lock_btn",0):dyt_disable("dyt_send","pre_lock_btn",1)}var r=j.innerHTML.substring(0,4);"<br>"==r&&(j.innerHTML=j.innerHTML.substring(4,99999));var s=dyt_gE("dyt_cal");set_opacity(.3),setTimeout(function(){s.innerHTML=j.innerHTML},200),localStorage.setItem("df_date",df_date.getTime()),localStorage.setItem("df_hmn_date",dyt_date_convert(df_date,"hmn")),dyt_gE("dyt_df_date").value=df_date.getTime(),dyt_gE("dyt_df_hmn_date").value=dyt_date_convert(df_date,"hmn"),1==doc_ready&&setTimeout(function(){poprow()},700),cal_ready=1}}function dyt_disable(a,b,c){if(dyt_gE(a)){var d=dyt_gE(a);0<c?(d.classList.add(b),d.disabled=!0):(d.classList.remove(b),d.disabled=!1)}}var pay_sum,pay_bonus;pay_sum=pay_bonus=0;var pay_rate=rate;function set_period(a){pay_bonus=0;var b=dyt_gE("dyt_cal"),c=dyt_gE("dyt_sum");0<cal_lk?b.classList.add("lock"):0>a&&pay_sum&&(c.innerHTML=pay_sum,rate=pay_rate,b.classList.remove("lock"));var d=dyt_gE("dyt_save"),e=dyt_gE("dyt_send"),f=dyt_gE("dyt_send_sig"),g=dyt_gE("dyt_approve"),h=dyt_gE("dyt_approve_sig"),j=dyt_gE("dyt_process");if(f.innerHTML=h.innerHTML="",e.value="Submit for Approval",g.value="Approve",dyt_disable("dyt_send","pre_lock_btn",0),dyt_disable("dyt_send","lock_btn",0),dyt_disable("dyt_approve","pre_lock_btn",0),dyt_disable("dyt_approve","lock_btn",0),dyt_disable("dyt_process","pre_lock_btn",0),dyt_disable("dyt_process","lock_btn",0),!(0>a)){var k=dyt_gE("Bonus"),l=dyt_gE("period_note");pay_sum||(pay_sum=dyt_gE("dyt_sum").innerHTML),pay_rate||(pay_rate=rate),0<period_rate[a]&&(rate=period_rate[a]),period_bonus[a]&&(pay_bonus=period_bonus[a]),period_note[a]&&(dyt_gE("period_note").value=period_note[a]),submitted[a]&&e&&(e.value="Submitted "+submitted[a],dyt_disable("dyt_send","lock_btn",1),0<submitter[a].length&&(e.value=e.value+" by "+submitter[a],e.classList.add("dyt_print"),dyt_isImg(submitter_sig[a],function(b){b&&(f.innerHTML="<img src=\""+sig_path+submitter_sig[a]+".png\" onerror=\"this.onerror=null;\">")})),g&&dyt_disable("dyt_approve","pre_lock_btn",0)),approved[a]&&(b.classList.add("lock"),d.style.display="none",g?(g.value="Approved "+approved[a]+" by "+approver[a],g.classList.add("dyt_print"),dyt_isImg(approver_sig[a],function(b){b&&(h.innerHTML="<img src=\""+sig_path+approver_sig[a]+".png\" style=\"width:200px;\">")}),dyt_disable("dyt_approve","lock_btn",1),j&&dyt_disable("dyt_process","pre_lock_btn",0)):(dyt_disable("dyt_save","lock_btn",1),dyt_disable("dyt_send","lock_btn",1))),processed[a]&&j&&(k.style.pointerEvents="none",dyt_disable("dyt_process","lock_btn",1),j.value="Processed "+processed[a],j.classList.add("dyt_print"))}}function punch(a,b=!1){1>b&&onchange_chk();var c=new Date,d=("00"+c.getHours()).slice(-2),e=("00"+c.getMinutes()).slice(-2);b&&"out"==a&&(d=(parseInt(d)+parseInt(df_hr)+"").padStart(2,"0"));var f=d+":"+e+":00";return b?f:void(field=dyt_gE(a),field.nextSibling.value=f,sum_time(a,0),action.value="save",show_save(-1),dyt_gE("dyt_form").submit())}function step(a,b){onchange_chk();var c=-15;"up"==a&&(c*=-1),dyt_gE(b).stepUp(c),sum_time(b,0)}function show_time(a,b,c=1){if(!(1>prompt+notes+categoryon))for(1<b.length&&(b=b.replace(/([a-zA-Z ])/g,"")),times=dytEC("dyt_pop"),i=0;i<times.length;i++)times[i].parentNode.id=="row"+b?(times[i].style.display="block",0<predict&&0<b&&3>prompt&&0==dyt_gE("ttot"+b).value.length&&localStorage.getItem("dyt_tmin_"+c)&&(tmin_l=localStorage.getItem("dyt_tmin_"+c),tout_l=localStorage.getItem("dyt_tout_"+c),tmin=dyt_gE("tmin"+b),tout=dyt_gE("tout"+b),(tmin_l>=tmin.value||1==c)&&(tmin.value=tmin_l),(tout_l>=tout.value||1==c)&&(tout.value=tout_l))):times[i].style.display="none"}function sum_time(a,b){a=a.replace(/([a-zA-Z ])/g,"");var c=dyt_gE("row"+a);if(row_content=c.childNodes,hours=row_content[2],0<=prompt&&(-1==b&&(0==prompt?dyt_gE("ttot"+a).value=df_hr:(dyt_gE("tmin"+a).value=df_in,dyt_gE("tout"+a).value=df_out,1==prompt&&(b=0))),-3==b&&(0==prompt?dyt_gE("ttot"+a).value="-1":(dyt_gE("ttot"+a).value="-1",dyt_gE("ttot"+a).nextSibling.value="Reg",dyt_gE("tmin"+a).value="",dyt_gE("tout"+a).value="",dyt_gE("tnote"+a).previousSibling.value="",dyt_gE("tnote"+a).value="")),0<=b&&0<prompt)){for(var d=c,e=1;d.previousElementSibling&&d.previousElementSibling.classList.contains("dyt_row");)d=d.previousElementSibling,e++;tmin=dyt_gE("tmin"+a).value,tout=dyt_gE("tout"+a).value,0<tmin.length&&localStorage.setItem("dyt_tmin_"+e,tmin),0<tout.length&&localStorage.setItem("dyt_tout_"+e,tout),tmin=dyt_gE("tmin"+a).value.split(":"),tout=dyt_gE("tout"+a).value.split(":"),time=parseFloat(tout[0])<parseFloat(tmin[0])?24-parseFloat(tmin[0])+parseFloat(tout[0]):parseFloat(tout[0])-parseFloat(tmin[0]),time=(parseFloat(time)+(parseFloat(tout[1])/60-parseFloat(tmin[1])/60)).toFixed(2),isNaN(time)||(hours.value=time)}0==hours.value.length&&(hours.style.backgroundColor="#FFF"),onchange_chk(),sumrows(),0<b&&(dyt_gE("tdiv"+a).style.display="none")}function addrow(a,b,c=""){if(show_time(0,0),""!==c){if(!dyt_gE("row"+c))return;var d=dyt_gE("row"+c).parentElement.parentElement,e=dyt_gE("row"+c).parentElement;a=d.id.replace("day","")}else{if(!dyt_gE("day"+a))return;var d=dyt_gE("day"+a),e=dyt_gE("row"+a)}var f=Math.floor(1e3*Math.random()+1),g=0,h=1;if(0==b){for(var j=e;j.nextElementSibling;)j.nextElementSibling.classList.contains("dyt_row")&&(j=j.nextElementSibling,h++);j=j.id.replace("row",""),g=dyt_gE("tout"+j).value,h++}var k=document.createElement("div");k.setAttribute("id","row"+a+f),k.setAttribute("class","dyt_row"),k.style.opacity="0",k.innerHTML=e.innerHTML.replace("'"+a+"'","'"+a+f+"'"),k.innerHTML=k.innerHTML.replace("ttot"+a,"ttot"+a+f),k.innerHTML=k.innerHTML.replace("tdiv"+a,"tdiv"+a+f),""!==c&&(k.innerHTML=k.innerHTML.replace("row"+c,"row"+c+f)),k.innerHTML=k.innerHTML.replace("dyt_delete dyt_hide","dyt_delete"),k.innerHTML=k.innerHTML.replace("dyt_add ","dyt_add dyt_hide"),d.appendChild(k),k.style.backgroundColor="#0F0";var l=dyt_gE("tdiv"+a+f);if(l.innerHTML=l.innerHTML.replace(new RegExp(a,"g"),a+f),0==b&&0!==g){dyt_gE("tmin"+a+f).value=g,dyt_gE("tmin"+a+f).stepUp(30),dyt_gE("tout"+a+f).value=g;var m=120;12<=parseInt(g)&&13>=parseInt(g)&&(m=240),dyt_gE("tout"+a+f).stepUp(m)}setTimeout(function(){k.style.opacity="1"},10),setTimeout(function(){k.style.backgroundColor="transparent"},200),0==b&&show_time(0,"row"+a+f,h)}function delrow(a){if(dyt_gE("row"+a)){onchange_chk();var b=dyt_gE("row"+a);setTimeout(function(){b.style.backgroundColor="#F00"},10),setTimeout(function(){b.style.opacity="0"},200),setTimeout(function(){b.parentNode.removeChild(b)},500),setTimeout(function(){sumrows()},500)}}function sumrows(){var a,b,c,d,e,f,g,h,j;a=b=c=d=e=f=g=h=j=0;var k,l,m,n,o,p;k=l=m=n=o=p="";var q,r,s=dyt_gE("Reg"),t=dyt_gE("PTO"),u=dyt_gE("pto_row"),v=dyt_gE("OT"),w=dyt_gE("ot_row"),x=dyt_gE("Bonus"),y=dyt_gE("TOT"),z=dyt_gE("TOTamt"),A=dytEN("hours[]"),B=dytEN("date[]"),C=rate,D=0;if(0>=exempt&&15<=period){var E=parseInt(B[0].value),F=new Date(864e5*E);for(r=weekday[F.getDay()];weekbegin!=weekday.indexOf(r);)r=weekday[F.getDay()],F.setDate(F.getDate()-1);for(F/=864e5;db_date[D]<F;)D++;if(F>E-7)for(;db_date[D]<E;)"Reg"==db_hourtype[D]&&(h=parseFloat(db_hours[D]),next_entry=db_date[D+1]?db_date[D+1]:db_date[D]+1,db_date[D]==next_entry?j+=h:(h+=j,j=0),0==j&&(g=0>exempt&&h>ot_min_dy?ot_min_dy:parseFloat(h),e=(parseFloat(e)+g).toFixed(2))),D++,F++;g=h=j=0}for(D=0;D<B.length;){if(p=A[D].nextSibling.value,0<A[D].value||"Reg"!==p){for(ci in A[D].style.backgroundColor="#555",A[D].style.color="#FFF",h=parseFloat(A[D].value),next_entry=0,cats=A[D].nextSibling.nextSibling.childNodes,cats)"category[]"==cats[ci].name&&cats[ci].setAttribute("list","cat_list_"+p);0>=exempt&&"Reg"==p&&(B[D+1]&&(next_entry=B[D+1].value),B[D].value==next_entry?"Reg"==A[D+1].nextSibling.value?j+=h:(h+=j,j=0):(h+=j,j=0)),0==j&&("Reg"==p&&(g=0>exempt&&h>ot_min_dy?parseFloat(h)-ot_min_dy:0,0>exempt&&(d=(parseFloat(d)+g).toFixed(2)),0>=exempt&&(e=(parseFloat(e)+h-g).toFixed(2))),0>exempt&&0<d&&(c=(parseFloat(c)+parseFloat(d)).toFixed(2),d=0),"Reg"==p&&(a=(parseFloat(a)+h).toFixed(2)),"PTO"==p&&(b=(parseFloat(b)+h).toFixed(2)),f=(parseFloat(f)+h).toFixed(2))}0==j&&0>=exempt&&(r=new Date(864e5*(parseInt(B[D].value)+2)),q=r.getDay(),(weekbegin==q-1||!B[D+1])&&(e>ot_min_wk&&(c=(parseFloat(c)+(parseFloat(e)-ot_min_wk)).toFixed(2)),e=0)),D++}a=(parseFloat(a)-parseFloat(c)).toFixed(2),0<a&&(1<a?k=" hrs":k=" hr"),0<b?(l=1<b?" hrs":" hr",u.style.display="table-row"):u.style.display="none",0<c?(m=1<c?" hrs":" hr",w.style.display="table-row"):w.style.display="none",0<f&&(1<f?o=" hrs":o=" hr"),s.value=a+k,t.value=b+l,v.value=c+m,y.value=f+o,x.value=0<pay_bonus?currency+pay_bonus:0,0<C&&(z.value=(parseFloat(f)*parseFloat(C)).toFixed(2),z.value=currency+(parseFloat(z.value)+parseFloat(pay_bonus)+parseFloat(c)*(parseFloat(C)*ot_multip)).toFixed(2)),0===sum_updated&&set_opacity(1),show_save(0)}function poprow(){var a,b,c,d=dytEN("date[]"),e=dytEN("hmn_date[]"),f=dytEN("hours[]"),g=dytEN("hourtype[]"),h=dytEN("time_in[]"),j=dytEN("time_out[]"),k=dytEN("category[]"),l=dytEN("note[]"),m=0;for(a=0;a<db_date.length;a++)for(b=0;b<d.length;b++)if(e[b].value==db_hmn_date[a]||!db_hmn_date[a]&&db_date[a]==d[b].value)if(""==f[b].value)f[b].value=db_hours[a],f[b].parentElement.title=db_note[a],g[b].value=db_hourtype[a],h[b].value=db_time_in[a],j[b].value=db_time_out[a],k[b].value=db_category[a],l[b].value=db_note[a],m=b,c=db_date[a];else{if(0<m&&c==db_date[a]&&m!=b)continue;addrow(db_date[a],1,db_hmn_date[a]),d=dytEN("date[]"),e=dytEN("hmn_date[]"),f=dytEN("hours[]"),g=dytEN("hourtype[]"),h=dytEN("time_in[]"),j=dytEN("time_out[]"),k=dytEN("category[]"),l=dytEN("note[]"),""==f[b].value&&(f[b].value=db_hours[a],f[b].parentElement.title=db_note[a],g[b].value=db_hourtype[a],h[b].value=db_time_in[a],j[b].value=db_time_out[a],k[b].value=db_category[a],l[b].value=db_note[a]),m=b,c=db_date[a]}for(del=dytEC("dyt_delete"),i=0;i<del.length;i++)rowhours=del[i].previousSibling.previousSibling,0==rowhours.value&&8<del[i].parentElement.id.length&&(delrow=del[i].parentElement,delrow.parentNode.removeChild(delrow));sumrows(),sum_updated=0}function dyt_load(){if(-3>=input_saved)return show_save(input_saved),!1;setTimeout(function(){add_week(0)},100);var a=setInterval(function(){1==cal_ready&&(clearInterval(a),setTimeout(function(){doc_ready=1,poprow()},500))},200);setInterval(function(){expire_chk()},3e5)}function dytE(a){return!!document.getElementById(a)&&document.getElementById(a)}function dytEC(a){return!!document.getElementsByClassName(a)&&document.getElementsByClassName(a)}function dytEN(a){return!!document.getElementsByName(a)&&document.getElementsByName(a)}function onchange_chk(){0<cal_expired||(sum_updated=1,document.getElementById("dyt_save").classList.add("onchange"))}function expire_chk(){if(!(60<cal_expired)){var a=new Date,b=parseInt((a-loaded)/6e4);if(20<=b){if(cal_expired=1,dyt_gE("dyt_cal_admin")){var c=dyt_gE("dyt_cal_admin").style.display;if("none"==c)return}sum_updated=0,60<b&&(cal_expired=61,b="over 60"),show_save(-5,b)}}}function dyt_isImg(a,b){if(!(0<!sig_path.length||0<!a.length)){var c=new Image;c.onerror=function(){b(!1)},c.onload=function(){b(!0)};try{a?c.src=sig_path+a+".png":b(!1)}catch(a){b(!1)}}}