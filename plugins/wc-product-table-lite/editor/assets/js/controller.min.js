if(void 0===wcpt)var wcpt={controller:{},data:{}};jQuery((function(t){var e=wcpt.controller,o=wcpt.data;function n(){var e=t(".wcpt-editor-save-table-clear");window.scrollY+window.innerHeight<e.offset().top?t(".wcpt-editor-save-table").addClass("wcpt-editor-save-table--floating"):t(".wcpt-editor-save-table").removeClass("wcpt-editor-save-table--floating")}e.update_table_title=function(){var e=t(this).val();t('.wcpt-editor-save-table [name="title"]').val(e)},e.switch_editor_tabs=function(){var e=t(this),o=e.attr("data-wcpt-tab"),n=e.siblings(".wcpt-tab-label"),c=e.siblings(".wcpt-tab-content"),i=c.filter("[data-wcpt-tab="+o+"]"),a="active";n.removeClass(a),e.addClass(a),c.removeClass(a),i.addClass(a),window.location.hash=o},e.toggle_sub_categories=function(){t(this).parent().toggleClass("wcpt-show-sub-categories")},e.auto_select_on_click=function(){if(document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(this),t.select()}else if(window.getSelection){const t=window.getSelection(),e=document.createRange();e.selectNodeContents(this),t.removeAllRanges(),t.addRange(e)}},e.save_data=function(e){e.preventDefault();var n=t("input:focus, textarea:focus");n.length&&n.attr("wcpt-model-key")&&n.trigger("change"),t("body").trigger("wcpt_save"),o.version=window.wcpt_version;var c=t(this),i=c.find("input[name='post_id']").val(),a=c.find("input[name='title']").val(),l=c.find("input[name='nonce']").val(),s=JSON.stringify(o),d=c.find(".wcpt-save"),r=c.attr("action");c.hasClass("wcpt-saving")||t.ajax({type:"POST",url:ajaxurl,beforeSend:function(){c.addClass("wcpt-saving"),d.addClass("disabled")},data:{action:r,wcpt_post_id:i,wcpt_title:a,wcpt_nonce:l,wcpt_data:s},success:function(t){c.removeClass("wcpt-saving"),d.removeClass("disabled"),"string"==typeof t&&-1!==t.indexOf("WCPT success:")||alert(t)}})},e.open_dynamic_input_wrapper=function(){var o=t(this);if(!o.parent().hasClass("wcpt-diw")&&!o.hasClass("wcpt-diw--disabled")){o.attr("style");var n={width:o.outerWidth()};t.each(["float","margin","top","right","bottom","left"],(function(t,e){n[e]=o.css(e)})),"absolute"==o.css("position")&&(n.position="absolute");var c=t('<div class="wcpt-diw">');c.css(n),o.wrap(c),o.focus(),t("body").on("blur mousedown keydown",e.close_dynamic_input_wrapper),o.after('<div class="wcpt-diw-tray">');var i=o.next(".wcpt-diw-tray");if(-1!==o.attr("wcpt-model-key").indexOf("color")||"background"==o.attr("wcpt-model-key")||"fill"==o.attr("wcpt-model-key"))i.append('<input type="color">'),i.css({height:0}),i.find('input[type="color"]').spectrum({color:o.val(),flat:!0,allowEmpty:!0,showAlpha:!0,preferredFormat:"rgba",clickoutFiresChange:!0,showInput:!1,showButtons:!1,move:function(t){o.val(t.toRgbString()).change()}})}},e.close_dynamic_input_wrapper=function(o){t(o.target).closest(".wcpt-diw").length||t(".wcpt-diw").each((function(){var o=t(this),n=o.children("input");o.replaceWith(n),t("body").off("blur mousedown keydown",e.close_dynamic_input_wrapper),n.change()}))},t("body").on("keydown","input[wcpt-model-key]",(function(e){if(e.key&&-1!==t.inArray(e.key,["ArrowUp","ArrowDown"])&&-1!==t.inArray(t(this).attr("wcpt-model-key"),["font-size","custom_zoom_scale","line-height","letter-spacing","stroke-width","top","left","right","bottom","width","max-width","min-width","height","max-height","min-height","border-radius","border-width","border-left-width","border-right-width","border-top-width","border-bottom-width","divider-border-width","padding","padding-left","padding-right","padding-top","padding-bottom","section-padding","section-padding-left","section-padding-right","section-padding-top","section-padding-bottom","margin","margin-left","margin-right","margin-top","margin-bottom","gap","row_gap"])){e.target.value||(e.target.value="0px");var o=e.target.value.slice(-2),n=e.target.value;n.length>2&&isNaN(o)?n=n.substring(0,n.length-2):o="";var c=!((parseInt(n)+"").length===(n+"").length);"ArrowUp"==e.key?e.target.value=(10*n+(c?1:10))/10:"ArrowDown"==e.key&&(e.target.value=(10*n-(c?1:10))/10),n=e.target.value,c&&(parseInt(n)+"").length===(n+"").length&&(e.target.value=e.target.value+".0"),e.target.value+=o}})),t("body").on("click",".wcpt-tab-label",e.switch_editor_tabs),t("body").on("blur",".wcpt-table-title",e.update_table_title),t("body").on("click",".wcpt-toggle-sub-categories",e.toggle_sub_categories),t("body").on("focus",'input[type="text"][wcpt-model-key], input[type="number"][wcpt-model-key]',e.open_dynamic_input_wrapper),t("body").on("click",".wcpt-auto-select-on-click",e.auto_select_on_click),dominator_ui.init(t(".wcpt-editor, .wcpt-settings"),o),t("body").on("click",".wcpt-toggle-label",(function(){var e=t(this).closest(".wcpt-toggle-options"),o=e.attr("wcpt-model-key");e.toggleClass("wcpt-open"),o&&e.parent().hasClass("wcpt-settings")&&(window.location.hash=o)})),t("body").on("click",".wcpt-editor-row-handle",(function(e){var o=t(e.target),n=o.closest(".wcpt-editor-row");!o.closest(".wcpt-editor-row-no-toggle").length&&o.closest(".wcpt-editor-row-handle-data, .wcpt-editor-row-toggle").length&&n.toggleClass("wcpt-editor-row-toggle-opened")})),t("body").on("click",".wcpt-toggle > .wcpt-toggle-trigger",(function(e){var o=t(this).closest(".wcpt-toggle");o.toggleClass("wcpt-toggle-on wcpt-toggle-off"),t("body").off("click.wcpt_toggle_blur"),o.hasClass("wcpt-toggle-on")&&t("body").on("click.wcpt_toggle_blur",(function(e){t(e.target).closest(o).length||(o.children(".wcpt-toggle-trigger").click(),t("body").off("click.wcpt_toggle_blur"))}))})).on("click",".wcpt-toggle-x",(function(e){t(this).closest(".wcpt-toggle").toggleClass("wcpt-toggle-on wcpt-toggle-off")})),window.location.hash&&(t('[data-wcpt-tab="'+window.location.hash.substr(1)+'"].wcpt-tab-label').trigger("click"),t('.wcpt-settings > [wcpt-model-key="'+window.location.hash.substr(1)+'"] > .wcpt-toggle-label').trigger("click")),t("body").on("submit",".wcpt-save-data",e.save_data),t(window).bind("keydown",(function(e){(e.ctrlKey||e.metaKey)&&"s"===String.fromCharCode(e.which).toLowerCase()&&(e.preventDefault(),t(".wcpt-save-data").submit())})),t(".wcpt-editor, .wcpt-settings").length&&(t(window).on("scroll",n),t("body").on("click",".wcpt-toggle-options",n),n()),t("body").on("click",".wcpt-editor-tab-columns__device-tabs__triggers__item",(function(e){i({device:t(this).attr("data-wcpt-device")})}));var c=t(".wcpt-editor-tab-columns__device-tabs__scroll-to-top");function i(e,o){o||(o=t(".wcpt-editor-tab-columns__device-tabs"));var n=s(o),c=function(e,o,n){var c=t.extend({},o,e),i=function(t,e){return _(e)[t].length}((c=function(t,e){t.device===e.device&&t.focus_mode===e.focus_mode||(t.column_index=0);return t}(c,o)).device,n);c.column_index>=i&&(c.column_index=null);return c}(e,n,o);!function(e,o,n){e.focus_mode?(!function(e,o,n){t(".wcpt-editor-tab-columns").addClass("wcpt-editor-tab-columns--focus-mode");var c=function(t){return p(s(t).device)}(n),i=p(e.device),a="wcpt-editor-device-columns-container--focused";c.removeClass(a),i.addClass(a);var l=function(t){var e=s(t);return u(e.column_index,e.device)}(n);if($target_column_settings=u(e.column_index,e.device),a="wcpt-column-settings--focused",l.removeClass(a),$target_column_settings.addClass(a),function(t,e){if(t.device!==e.device||t.column_index!==e.column_index||t.focus_mode!==e.focus_mode)return!0}(e,o)){var d="wcpt-column-settings--reveal-anim";$target_column_settings.removeClass(d),setTimeout((function(){$target_column_settings.addClass(d)}),1)}}(e,o,n),t(".wcpt-editor-columns-container").sortable("disable")):(t.each(["wcpt-editor-tab-columns--focus-mode","wcpt-editor-device-columns-container--focused","wcpt-column-settings--focused","wcpt-column-settings--reveal-anim","wcpt-editor-tab-columns__device-tabs__column-link--focused","wcpt-child-column-link-selected"],(function(e,o){t("."+o).removeClass(o)})),t(".wcpt-editor-columns-container").sortable("enable"));!function(e,o){t('input[name="wcpt-show-all-columns"]',o).prop("checked",!e.focus_mode)}(e,n)}(c,n,o),function(e,o,n){if(e.device!==o.device){var c=g(n),i=v(e.device,n),a=function(t){return d(s(t).device,t)}(n),l=d(e.device,n),r="wcpt-editor-tab-columns__device-tabs__panels__item--selected",p="wcpt-editor-tab-columns__device-tabs__triggers__item--selected";c.removeClass(r),i.addClass(r),a.removeClass(p),l.addClass(p),function(e,o){var n=0;b(e,o).removeClass("wcpt-column-link--reveal-anim").each((function(){var e=t(this);setTimeout((function(){e.addClass("wcpt-column-link--reveal-anim")}),n),n+=20}))}(e.device,n)}!function(t,e){var o=v(t.device,e),n=function(t,e){return _(e)[t]}(t.device,e),c=!1;null!==t.column_index&&t.column_index<n.length&&(c=!0);o.toggleClass("wcpt-child-column-link-selected",c)}(e,n)}(c,n,o),function(t,e,o){if(t.column_index==e.column_index&&t.device==e.device)return;var n=function(t){var e=s(t);return f(e.column_index,e.device,t)}(o),c=f(t.column_index,t.device,o),i="wcpt-editor-tab-columns__device-tabs__column-link--focused";n.removeClass(i),c.addClass(i)}(c,n,o),function(e,o,n){o.focus_mode?n.focus_mode||(c=t("#wpadminbar").outerHeight(),i=t(".wcpt-editor").offset().top-c-20,window.scrollTo(0,i)):e.column_index?function(e,o){var n=u(e,o),c=r(),i=n.offset().top-c-20;if(n.is(":hidden")){i+=n.prev(".wcpt-row-plc-hld").offset().top}t("html, body").stop().animate({scrollTop:i},300,"swing")}(o.column_index,o.device):e.device&&function(e){var o=p(e),n=r(),c=o.offset().top-n-20;t("html, body").stop().animate({scrollTop:c},300,"swing")}(o.device);var c,i}(e,c,n),o.data("wcpt_tab_state",c)}t(window).on("scroll",(function(){window.scrollY>800?c.addClass("wcpt-editor-tab-columns__device-tabs__scroll-to-top--visible"):c.removeClass("wcpt-editor-tab-columns__device-tabs__scroll-to-top--visible")})),c.on("click",(function(e){e.preventDefault();var o=t(".wcpt-page-title").offset().top-t("#wpadminbar").outerHeight()-20;t("html, body").stop().animate({scrollTop:o},300,"swing")})),t('[name="wcpt-show-all-columns"]').on("change",(function(){i({focus_mode:!t(this).is(":checked"),device:"laptop"})})),t("body").on("click",".wcpt-editor-tab-columns__device-tabs__panels__item a",(function(e){e.preventDefault();var o=t(this),n=o.attr("data-wcpt-index");if(o.is('[data-wcpt-index="add"]')){var c=p(s(l()).device);t(">.wcpt-button",c).click()}else i({column_index:n})})),window.device_tabs__set_state=i;var a=t(".wcpt-editor-tab-columns__device-tabs");function l(){return t(".wcpt-editor-tab-columns__device-tabs")}function s(t){return t.data("wcpt_tab_state")||{focus_mode:null,device:null,column_index:null}}function d(e,o){return t('.wcpt-editor-tab-columns__device-tabs__triggers__item[data-wcpt-device="'+e+'"]',o)}function r(){return t("#wpadminbar").outerHeight()+t(".wcpt-editor-tab-columns__device-tabs").outerHeight()}function p(e){return t('.wcpt-editor-columns-container[data-wcpt-device="'+e+'"]')}function u(e,o){if(null===e)return t();var n=p(o);return t("> .wcpt-column-settings",n).eq(e)}function w(t){l().data("wcpt-tabs-last-column-trigger",t)}function m(e){var o=t(".wcpt-editor-tab-columns__device-tabs__show-all-columns",e),n=function(e){var o=e.data("wcpt-columns"),n=!1;return t.each(o,(function(t,e){e.length&&(n=!0)})),n}(e);o.toggle(n)}function _(e){var o=e.data("wcpt-columns"),n={};return t.each(["laptop","tablet","phone"],(function(e,c){n[c]=[],t.each(o[c],(function(t,e){n[c].push(e.name)}))})),n}function g(t){return v(s(t).device,t)}function v(t,e){return e.find('.wcpt-editor-tab-columns__device-tabs__panels__item[data-wcpt-device="'+t+'"]')}function f(e,o,n){return null===e?t():v(o,n).find(".wcpt-column-link").eq(e)}function b(t,e){return v(t,e).find(".wcpt-column-link")}function h(e){t.each(["laptop","tablet","phone"],(function(o,n){!function(e,o){(function(e,o){var n=o.data("wcpt-columns"),c=v(e,o),i=s(o),a=i.device===e?i.column_index:-1;c.empty();for(const[o,i]of Object.entries(n[e])){var l=i.name?i.name:"Column",d="wcpt-editor-tab-columns__device-tabs__column-link wcpt-column-link wcpt-column-link--reveal-anim";o==a&&(d+=" wcpt-editor-tab-columns__device-tabs__column-link--focused"),c.append(t('<a href="#" data-wcpt-index="'+o+'" class="'+d+'" ><span class="wcpt-column-link__count">'+(parseInt(o)+1)+"</span>"+l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</a>"))}c.append(t('<a href="#" class="wcpt-column-link--reveal-anim" data-wcpt-index="add">+ Add column</a>'))})(e,o),function(e,o){var n=v(e,o);n.sortable({containment:"parent",items:"> a:not([data-wcpt-index='add'])",start:function(t,e){e.placeholder.height(e.item.height()),e.placeholder.width(e.item.width())},stop:function(c,a){var l=b(e,o),d=p(e),r=t("> .wcpt-button",d);if(l.each((function(){var e=t(this).attr("data-wcpt-index");d.children('[wcpt-model-key-index="'+e+'"]').insertBefore(r)})),s(o).focus_mode){var u=n.children(".wcpt-editor-tab-columns__device-tabs__column-link--focused");u.length&&i({column_index:u.index()})}d.trigger("sortupdate")}})}(e,o)}(n,e)})),m(e)}a.length&&(h(a),i({focus_mode:!0,device:"laptop",column_index:0},a)),t("body").on("update.wcpt",".wcpt-editor-tab-columns__device-tabs",(function(){var e=t(this),o=l().data("wcpt-tabs-last-column-trigger");if(o){switch(h(e),o.action){case"remove":i({column_index:null});break;case"add":i({column_index:o.column_index,device:o.device});break;case"duplicate":i({column_index:parseFloat(o.column_index)+1,device:o.device});break}w(!1)}})),t("body").on("keydown",'input[type="text"].wcpt-column-name',(function(){var e=t(this).closest(".wcpt-column-settings");w({action:"false",column_index:e.attr("wcpt-model-key-index"),device:e.closest(".wcpt-editor-columns-container").attr("data-wcpt-device")})})),t("body").on("dom_ui_before_remove_row",".wcpt-column-settings",(function(){var e=t(this);column_index=e.attr("wcpt-model-key-index"),device=e.closest(".wcpt-editor-columns-container").attr("data-wcpt-device"),w({action:"remove",column_index:column_index,device:device})})),t("body").on("dom_ui_before_duplicate_row",".wcpt-column-settings",(function(){var e=t(this);column_index=e.attr("wcpt-model-key-index"),device=e.closest(".wcpt-editor-columns-container").attr("data-wcpt-device"),w({action:"duplicate",column_index:column_index,device:device})})),t("body").on("dom_ui_before_add_row",".wcpt-editor-columns-container",(function(){var e=t(this);column_index=e.data("wcpt-data").length,device=e.attr("data-wcpt-device"),w({action:"add",column_index:column_index,device:device})})),t("body").on("sortupdate dom_ui_before_row_move_up dom_ui_before_row_move_down dom_ui_before_row_sortupdate dom_ui_before_row_sortreceive",".wcpt-editor-columns-container",(function(){w({action:!1})})),t("body").on("click",".wcpt-editor-row-expand, .wcpt-editor-row-contract",(function(e){var o=t(this),n=o.closest(".wcpt-column-settings");o.hasClass("wcpt-editor-row-expand")?n.addClass("wcpt-toggle-column-expand"):n.removeClass("wcpt-toggle-column-expand"),e.preventDefault()})),t("body").on("click",".wcpt-column-toggle-capture",(function(e){return;t(this).closest(".wcpt-column-settings").toggleClass("wcpt-toggle-column-expand")})),t(".wcpt-select-icon").each((function(){var e=t(this);e.select2({templateResult:function(e){var o='<img class="wcpt-icon-rep" src="'+wcpt_icons_url+"/"+e.id+'.svg">';return t("<span>"+o+'<span class="wcpt-icon-name">'+e.text+"</span></span>")},templateSelection:function(e){var o='<img class="wcpt-icon-rep" src="'+wcpt_icons_url+"/"+e.id+'.svg">';return t("<span>"+o+'<span class="wcpt-icon-name">'+e.text+"</span></span>")},dropdownParent:e.parent()})})),window.wcpt_duplicate_laptop_to_phone=function(){wcpt_duplicate_device("laptop","phone")},window.wcpt_duplicate_laptop_to_tablet=function(){wcpt_duplicate_device("laptop","tablet")},window.wcpt_duplicate_device=function(e,n){e||(e="laptop"),n||(n="phone"),t.each(o.columns[e],(function(e,c){o.columns[n].push(dominator_ui.refresh_ids(t.extend(!0,{},c)))})),t(".wcpt-editor-save-button").click(),window.location.reload()},t("body").on("click",".wcpt-reset-global-settings",(function(t){window.confirm("Are you sure you want to reset WCPT global settings? This will not delete your tables. It will only reset the global settings for this plugin.")||t.preventDefault()})),t("body").on("click",".wcpt-activate-license, .wcpt-deactivate-license",(function(){var e=t(this),o=e.siblings().addBack(),n=e.attr("data-wcpt-purpose"),c=e.attr("data-wcpt-nonce"),i=e.closest(".wcpt-license-container"),a=i.find(">.wcpt-license-key-status",i),l=i.find('[wcpt-model-key="key"]').val(),s=i.attr("wcpt-addon-slug")?i.attr("wcpt-addon-slug"):"",d=i.attr("wcpt-addon-item-id")?i.attr("wcpt-addon-item-id"):"",r=i.find(".wcpt-license-feedback");l&&32==l.length?t.ajax({type:"POST",url:ajaxurl,beforeSend:function(){t(">span",r).addClass("wcpt-hide"),i.addClass("wcpt-verifying-license"),o.prop("disabled",!0)},data:{action:"wcpt_manage_license",wcpt_nonce:c,wcpt_purpose:n,wcpt_key:l,wcpt_addon_slug:s,wcpt_addon_item_id:d},success:function(t){switch(i.removeClass("wcpt-verifying-license"),o.prop("disabled",!1),t){case"deactivated":r.find(".wcpt-response-deactivated").removeClass("wcpt-hide"),o.filter('[data-wcpt-purpose="deactivate"]').prop("disabled",!0);break;case"activated":r.find(".wcpt-response-activated").removeClass("wcpt-hide"),o.filter('[data-wcpt-purpose="activate"]').prop("disabled",!0);break;case"active_elsewhere":r.find(".wcpt-response-active-elsewhere").removeClass("wcpt-hide");break;case"invalid_key":r.find(".wcpt-response-invalid-key").removeClass("wcpt-hide");break;default:r.find(".wcpt-response-invalid-response").removeClass("wcpt-hide")}"activated"==t?a.val("active"):a.val("inactive"),a.trigger("change")}}):alert("Please enter the valid 32 character license key received in your purchase email.")})),window.location.hash&&"pro_license"==window.location.hash.substr(1)&&t('[wcpt-model-key="pro_license"]').addClass("wcpt-open");var y=t(".wcpt-shortcode-info"),k=t("tr",y).filter((function(){return t(this).find(".wcpt-pro-badge").length})),x=t('<tr><td colspan="2">Following are all <span class="wcpt-pro-badge">PRO</span> version options:</td></tr>');k.length&&(t("td",x).css({"font-size":"22px","font-weight":"bold","text-transform":"capitalize",padding:"40px 10px"}),t.merge(x,k).appendTo("tbody",y))}));