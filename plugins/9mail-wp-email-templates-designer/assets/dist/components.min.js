jQuery(document).ready((function(e){"use strict";let t,n="basic";if(void 0===i)var i=[];if(void 0===o)var o=[];const a=viWecParams.i18n;ViWec.Components.init(),window.viWecFunctions={propertyOnChange:function(e,t){t?e.closest(".emtmpl-toggle-display").show():e.closest(".emtmpl-toggle-display").hide()},changeSampleTemplate:function(){t&&n&&confirm(a.change_template_confirm)&&(viWecParams.samples&&viWecParams.samples[t]&&viWecParams.samples[t][n]&&viWecParams.samples[t][n].data?this.doChangeSampleTemplate(t,n):alert("This style is not exist"))},doChangeSampleTemplate(t,n){ViWec.viWecDrawTemplate(JSON.parse(viWecParams.samples[t][n].data));let i=viWecParams.subjects[t]||"";e("#title").val(i),e("#title-prompt-text").addClass("screen-reader-text"),e("select[name=emtmpl_settings_type]").val(t).trigger("change"),viWecChange=!0}};const c=(e,t,n=!1)=>e&&t?{key:e,inputType:SectionInput,name:!1,section:n?styleSection:contentSection,data:{header:t}}:{},l=(e,t=a.font_size,n=8,i="")=>({name:t,key:"font-size",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,unit:"px",inputType:NumberInput,default:i}),p=(e,t=a.font_weight,n=8)=>({name:t,key:"font-weight",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,inputType:SelectInput,data:{options:viWecFontWeightOptions}}),r=(e,t="Line height (px)",n=8)=>({name:t,key:"line-height",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,unit:"px",inputType:NumberInput}),m=(e,t="Text color",n=8)=>({name:t,key:"color",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,inputType:ColorInput}),s=(e,t="Background color",n=8)=>({name:t,key:"background-color",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,inputType:ColorInput}),d=(e,t="Font family",n=8)=>({name:t,key:"font-family",target:e,htmlAttr:e?"childStyle":"style",section:styleSection,col:n,inputType:SelectInput,data:{options:viWecFontFamilyOptions}});ViWec.Components.add({type:"sample_opt_1",category:"sample",name:a.sample,setup:function(){let t={};t.placeholder={id:"",text:a.select_email_type},t.default={id:"default",text:"Default template"};for(let e in viWecParams.emailTypes){t[e]=[];for(let n in viWecParams.emailTypes[e])"default"!==n&&t[e].push({id:n,text:viWecParams.emailTypes[e][n]})}let n=SelectGroupInput.init({key:"emtmpl_samples",classes:"emtmpl-samples-type",options:t});return e('<div class="emtmpl-sample-group"></div>').append(n)},onChange:function(i){i.on("propertyChange",(function(o,a,c){if(a){if(e(c).hasClass("emtmpl-samples-type")){t=a;let e=[];if(void 0!==viWecParams.samples[a]&&Object.keys(viWecParams.samples[a]).length>0){let t=viWecParams.samples[a];for(let n in t)e.push({id:n,text:t[n].name||""})}let o=e.length>1?SelectInput.init({key:"emtmpl_samples",classes:"emtmpl-samples-style",options:e}):"",c=i.find(".emtmpl-samples-style");if(c.length>0?c.parent().replaceWith(o):i.append(o),void 0!==viWecParams.addNew)return;e.length>0&&(n=e[0].id,viWecFunctions.changeSampleTemplate())}if(e(c).hasClass("emtmpl-samples-style")){if(void 0!==viWecParams.addNew)return;n=a,viWecFunctions.changeSampleTemplate()}}}))}}),ViWec.Components.add({type:"editColumn",category:"hidden",inheritProp:["padding","background","border"]}),ViWec.Components.add({type:"layout/grid1cols",category:"layout",name:a["1_column"],icon:"1col",cols:1,inheritProp:["edit_cols","padding","background","border"]}),ViWec.Components.add({type:"layout/grid2cols",category:"layout",name:a["2_columns"],icon:"2cols",cols:2,inheritProp:["edit_cols","padding","background","border"]}),ViWec.Components.add({type:"layout/grid3cols",category:"layout",name:a["3_columns"],icon:"3cols",cols:3,inheritProp:["edit_cols","padding","background","border"]}),ViWec.Components.add({type:"layout/grid4cols",category:"layout",name:a["4_columns"],icon:"4cols",cols:4,inheritProp:["edit_cols","padding","background","border"]}),ViWec.Components.add({type:"background",category:"hidden",icon:"",html:"",inheritProp:["background"]}),ViWec.Components.add({type:"html/recover_content",name:"Default content",icon:"transfer",html:viWecTmpl("emtmpl-recover-email-content",{}),properties:[c("p","Paragraph",!0),d("p"),l("p"),p("p"),r("p"),m("p"),s("p"),c("a","Link",!0),d("a"),l("a"),p("a"),r("a"),m("a"),s("a")]}),ViWec.Components.add({type:"html/text",name:a.text,icon:"text",html:'<div class="emtmpl-text-content" contenteditable="true">Text</div>',properties:[{key:"text_editor_header",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Text Editor"}},{key:"text",htmlAttr:"innerHTML",target:".emtmpl-text-content",section:contentSection,inputType:TextEditor,renderShortcode:!0}],inheritProp:["line_height","background","padding","border"]}),ViWec.Components.add({type:"html/image",name:a.image,icon:"image",html:`<img src="${viWecParams.placeholder}" class="emtmpl-image" style="max-width: 100%; ">`,properties:[{key:"image_header",inputType:SectionInput,name:!1,section:contentSection,data:{header:a.image}},{key:"src",htmlAttr:"src",target:"img",section:contentSection,col:16,inputType:ImgInput,data:{text:a.select,classes:"emtmpl-open-bg-img"}},{name:"URL",key:"data-href",htmlAttr:"data-href",section:contentSection,col:32,inputType:TextInput},{name:"Alt",key:"data-alt",htmlAttr:"data-alt",section:contentSection,col:32,inputType:TextInput},{key:"image_header",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Size"}},{name:"Width (px)",key:"width",htmlAttr:"childStyle",target:"img",section:styleSection,col:16,inputType:NumberInput,unit:"px",data:{min:0,max:600,step:1}}],inheritProp:["alignment","padding","background"]}),ViWec.Components.add({type:"html/button",name:a.button,icon:"button",html:'<a href="#" class="emtmpl-button emtmpl-background emtmpl-padding" \n                style="border-style:solid;display:inline-block;text-decoration: none;text-align: center;max-width: 100%;background-color: #dddddd; color:inherit;">\n                    <span class="emtmpl-text-content">Button</span>\n                </a>',properties:[{key:"text_header",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Text"}},{key:"text",htmlAttr:"innerHTML",target:".emtmpl-text-content",section:contentSection,col:16,inputType:TextInput,renderShortcode:!0,data:{shortcodeTool:!0}},{key:"link_button",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Link"}},{key:"href",htmlAttr:"href",target:"a",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0}},{key:"button_header",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Button"}},{name:"Border width",key:"border-width",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,inputType:NumberInput,unit:"px",data:{min:0,max:10,step:1}},{name:"Border radius",key:"border-radius",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,inputType:NumberInput,unit:"px",data:{min:0,max:50,step:1}},{name:"Border color",key:"border-color",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,inputType:ColorInput},{name:"Border style",key:"border-style",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,data:{options:[{id:"solid",text:"Solid"},{id:"dotted",text:"Dotted"},{id:"dashed",text:"Dashed"}]},inputType:SelectInput},{name:"Button color",key:"background-color",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,inputType:ColorInput},{name:"Width (px)",key:"width",htmlAttr:"childStyle",target:"a",section:styleSection,col:8,inputType:NumberInput,unit:"px",data:{min:0,max:600}}],inheritProp:["text","alignment","margin"]}),ViWec.Components.add({type:"html/contact",name:a.contact,icon:"address-book",html:`<table class="emtmpl-contact" width="100%" border="0" cellpadding="0" cellspacing="0">\n                <tr><td><a href="${viWecParams.homeUrl}" class="emtmpl-home-link emtmpl-toggle-display" ><img class="emtmpl-home-icon" src="${viWecParams.infor_icons.home[0].id}" style='padding-right: 5px;'><span class="emtmpl-home-text">${viWecParams.homeUrl}</span></a></td></tr>\n                <tr><td><a href="${viWecParams.adminEmail}" class="emtmpl-email-link emtmpl-toggle-display" ><img class="emtmpl-email-icon" src="${viWecParams.infor_icons.email[0].id}" style='padding-right: 5px;'><span class="emtmpl-email-text">${viWecParams.adminEmail}</span></a></td></tr>\n                <tr><td><a href="#" class="emtmpl-phone-link emtmpl-toggle-display" ><img class="emtmpl-phone-icon" src="${viWecParams.infor_icons.phone[0].id}" style='padding-right: 5px;'><span class="emtmpl-phone-text">${viWecParams.adminPhone}</span></a></td></tr>\n            </table>`,properties:[{key:"home",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Home"}},{name:"Icon",key:"home",target:".emtmpl-home-icon",htmlAttr:"src",section:contentSection,col:16,inputType:SelectInput,data:{options:viWecParams.infor_icons.home}},{name:"Text",key:"home_text",target:".emtmpl-home-text",htmlAttr:"innerHTML",section:contentSection,renderShortcode:!0,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o,a){return e.find(".emtmpl-home-text").html(n),viWecFunctions.propertyOnChange(e,t),e}},{name:"URL",key:"home_link",target:".emtmpl-home-link",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0}},{key:"email",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Email"}},{name:"Icon",key:"email",target:".emtmpl-email-icon",htmlAttr:"src",section:contentSection,col:16,inputType:SelectInput,data:{options:viWecParams.infor_icons.email}},{name:"Email",key:"email_link",target:".emtmpl-email-link",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o,a){return e.find(".emtmpl-email-text").html(n),viWecFunctions.propertyOnChange(e,t),e}},{key:"phone",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Phone"}},{name:"Icon",key:"phone",target:".emtmpl-phone-icon",htmlAttr:"src",section:contentSection,col:16,inputType:SelectInput,data:{options:viWecParams.infor_icons.phone}},{name:"Number",key:"phone_text",target:".emtmpl-phone-text",htmlAttr:"innerHTML",section:contentSection,col:16,inputType:TextInput,onChange:function(e,t,n,i,o,a){return viWecFunctions.propertyOnChange(e,t),e}}],inheritProp:["text","alignment","padding","background"]}),ViWec.Components.add({type:"html/menu",name:a.menu_bar,icon:"menu",html:'<div class="emtmpl-menu-bar" width="100%"  border="0" cellpadding="0" cellspacing="0" style="display: flex">\n                    <div style="flex-grow: 1" class="emtmpl-toggle-display"><a href="#" class="emtmpl-menu-link-1">Item 1</a></div>\n                    <div style="flex-grow: 1" class="emtmpl-toggle-display"><a href="#" class="emtmpl-menu-link-2">Item 2</a></div>\n                    <div style="flex-grow: 1" class="emtmpl-toggle-display"><a href="#" class="emtmpl-menu-link-3">Item 3</a></div>\n                    <div style="flex-grow: 1" class="emtmpl-toggle-display"><a href="#" class="emtmpl-menu-link-4">Item 4</a></div>\n            </div>',properties:[{key:"menu_bar_1",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Link 1"}},{name:"Text",key:"link1",target:".emtmpl-menu-link-1",htmlAttr:"innerHTML",section:contentSection,col:16,inputType:TextInput,onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{name:"Link",key:"link1",target:".emtmpl-menu-link-1",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{key:"menu_bar_2",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Link 2"}},{name:"Text",key:"link2",target:".emtmpl-menu-link-2",htmlAttr:"innerHTML",section:contentSection,col:16,inputType:TextInput,onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{name:"Link",key:"link2",target:".emtmpl-menu-link-2",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{key:"menu_bar_3",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Link 3"}},{name:"Text",key:"link3",target:".emtmpl-menu-link-3",htmlAttr:"innerHTML",section:contentSection,col:16,inputType:TextInput,onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{name:"Link",key:"link3",target:".emtmpl-menu-link-3",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{key:"menu_bar_4",inputType:SectionInput,name:!1,section:contentSection,data:{header:"Link 4"}},{name:"Text",key:"link4",target:".emtmpl-menu-link-4",htmlAttr:"innerHTML",section:contentSection,col:16,inputType:TextInput,onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{name:"Link",key:"link4",target:".emtmpl-menu-link-4",htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{shortcodeTool:!0},onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}},{key:"Direction",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Direction"}},{key:"direction",target:".emtmpl-menu-bar",htmlAttr:"data-direction",section:styleSection,col:16,inputType:SelectInput,data:{options:[{id:"horizontal",text:"Horizontal"},{id:"vertical",text:"Vertical"}]},onChange:(e,t,n,i,o)=>("vertical"===t&&e.css("display","block"),"horizontal"===t&&e.css("display","flex"),e)}],inheritProp:["text","alignment","padding","background"]});let h=[],u="";if(viWecParams.social_icons)for(let e in viWecParams.social_icons){let t=e[0].toUpperCase()+e.substring(1);h.push({key:e,inputType:SectionInput,section:contentSection,data:{header:t}},{name:"Icon",key:e,target:`.emtmpl-${e}-icon`,htmlAttr:"src",section:contentSection,col:16,inputType:SelectInput,data:{options:viWecParams.social_icons[e]}},{name:`${t} URL`,key:`${e}_url`,target:`.emtmpl-${e}-link`,htmlAttr:"href",section:contentSection,col:16,inputType:TextInput,data:{title:`https://your_${e}_url`},onChange:function(e,t,n,i,o){return viWecFunctions.propertyOnChange(e,t),e}}),u+=`<span class="emtmpl-social-direction emtmpl-toggle-display"><a href="" class="emtmpl-${e}-link" ><img class="emtmpl-${e}-icon" width="32" src="${viWecParams.social_icons[e][7].id}"></a></span>`}h.push({key:"social_image",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Image"}},{name:"Direction",key:"direction",target:".emtmpl-social-direction",htmlAttr:"data-direction",section:styleSection,col:16,inputType:SelectInput,data:{options:[{id:"horizontal",text:"Horizontal"},{id:"vertical",text:"Vertical"}]},onChange:(e,t,n,i,o)=>("vertical"===t&&e.css("display","block"),"horizontal"===t&&e.css("display","inline-block"),e)},{name:"Width",key:"data-width",htmlAttr:"data-width",section:styleSection,col:16,inputType:NumberInput,data:{value:32,max:48},onChange:(e,t,n,i,o)=>(t&&e.find("img").width(t),e)}),ViWec.Components.add({type:"html/social",name:a.socials,icon:"social",html:`<div class="emtmpl-social" border="0" cellpadding="0" cellspacing="0">${u}</div>`,properties:h,inheritProp:["alignment","padding","background"]}),ViWec.Components.add({type:"html/divider",name:a.divider,icon:"divider",html:'<hr style="border-top: 1px solid; border-bottom:none; margin: 10px 0;">',properties:[{key:"text_header",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Border"}},{name:"Color",key:"border-top-color",htmlAttr:"childStyle",target:"hr",section:styleSection,col:8,inputType:ColorInput},{name:"Width",key:"border-top-width",htmlAttr:"childStyle",target:"hr",section:styleSection,col:8,unit:"px",inputType:NumberInput,data:{min:1,step:1}}],inheritProp:["padding","background"]}),ViWec.Components.add({type:"html/spacer",name:a.spacer,icon:"spacer",html:'<div class="emtmpl-spacer" style="padding-top: 18px" title="Spacer"></div>',properties:[{key:"spacer",inputType:SectionInput,name:!1,section:styleSection,data:{header:"Height"}},{key:"padding-top",htmlAttr:"childStyle",target:".emtmpl-spacer",section:styleSection,col:16,unit:"px",inputType:NumberInput,data:{id:20}}]})}));