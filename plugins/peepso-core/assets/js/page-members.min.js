!function r(i,a,h){function _(t,e){if(!a[t]){if(!i[t]){var s="function"==typeof require&&require;if(!e&&s)return s(t,!0);if(o)return o(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}s=a[t]={exports:{}},i[t][0].call(s.exports,function(e){return _(i[t][1][e]||e)},s,s.exports,r,i,a,h)}return a[t].exports}for(var o="function"==typeof require&&require,e=0;e<h.length;e++)_(h[e]);return _}({1:[function(e,t,s){"use strict";var o,n,r=jQuery;function i(){i.super_.apply(this,arguments),o(o.proxy(this.init_page,this))}o=r,n=+peepsodata.members_hide_before_search,peepso.npm.inherits(i,PsPageAutoload),peepso.npm.objectAssign(i.prototype,{onDocumentLoaded:function(){this._search_$ct=o(this._css_prefix).eq(0),this._search_$trigger=o(this._css_prefix+"-triggerscroll"),this._search_$loading=o(this._css_prefix+"-loading"),this._search_$noquery=o(this._css_prefix+"-noquery"),this._search_$nomore=o(peepsodata.activity.template_no_more).hide().insertBefore(this._search_$trigger),this._search_$filters=o(this._css_prefix+"-filters"),this._search_$filters_toggle=o(this._css_prefix+"-filters-toggle")},init_page:function(){this._search_$query=o(".ps-js-members-query").on("input",o.proxy(this._filter,this)),this._search_$gender=o(".ps-js-members-gender").on("change",o.proxy(this._filter,this)),this._search_$sortby=o(".ps-js-members-sortby").on("change",o.proxy(this._filter,this)),this._search_$avatar=o(".ps-js-members-avatar").on("click",o.proxy(this._filter,this)),this._search_$following=o(".ps-js-members-following").on("change",o.proxy(this._filter,this)),this._search_$extended=o(".ps-js-filter-extended").find("input[type=radio], select"),this._search_$extended.prop("oninput",""),this._search_$extended.filter("select").addClass("ps-select").on("change",o.proxy(this._filter,this)),this._search_$extended.filter("input[type=radio]").on("click",o.proxy(function(e){e=o(e.target);e.data("ps-checked")?(e.removeData("ps-checked"),e[0].checked=!1):e.data("ps-checked",1),this._filter()},this)),this._search_$dropdown=this._search_$filters.find(".ps-js-dropdown[data-name]"),this._search_$dropdown.find(".ps-js-dropdown-menu [data-option-value]").on("click",e=>{e.preventDefault();let t=o(e.currentTarget),s=t.closest(".ps-js-dropdown"),r=s.children(".ps-js-dropdown-toggle"),i=r.children("[data-value]");i.attr("data-value")!==t.attr("data-option-value")&&(i.attr("data-value",t.attr("data-option-value")),i.html(t.html()),this._filter())}),this._search_$filters_toggle.on("click",e=>{e.preventDefault(),this._search_$filters.stop().slideToggle("fast")}),this._filter()},_search_url:"membersearch.search",_search_params:{uid:peepsodata.currentuserid,user_id:peepsodata.userid,query:void 0,order_by:void 0,order:void 0,peepso_gender:void 0,peepso_avatar:void 0,peepso_following:void 0,limit:2,page:1},_search_render_html:function(e){return e.members&&e.members.length?e.members.join(""):""},_search_get_items:function(){return this._search_$ct.children(".ps-js-member")},_search_should_load_more:function(){var e=+peepsodata.activity_limit_below_fold,t=this._search_get_items();return this._search_loadmore_enable&&this._search_loadmore_repeat?!(t.length>=this._search_loadmore_repeat*this._search_params.page):(e=0<e?e:3,this._search_params.limit&&(e*=this._search_params.limit),!!((t=t.slice(0-e).eq(0)).length&&(this._search_loadmore_enable?t.eq(0).offset():t.get(0).getBoundingClientRect()).top<(window.innerHeight||document.documentElement.clientHeight)))},_fetch:function(r){return o.Deferred(o.proxy(function(t){let e=peepso.disableAuth().disableError(),s=this._search_url;r=o.extend({},r),this._search_loadmore_enable&&this._search_loadmore_repeat?r.limit=this._search_loadmore_repeat:_.isUndefined(r.limit)||(r.limit*=2),this._fetch_xhr&&this._fetch_xhr.abort(),this._fetch_xhr=e.getJson(s,r,e=>{e.success?t.resolveWith(this,[e.data]):t.rejectWith(this,[e.errors])})},this))},_filter:function(){var e=this._search_$query.val().trim(),t=this._search_$sortby.val().split("|"),s=this._search_$gender.val(),r=this._search_$avatar[0].checked?1:0,i=this._search_$following[0].value,a={},h={};if(this._fetch_xhr&&this._fetch_xhr.abort(),n){if(!e)return clearTimeout(this._search_debounced_timer),this._search_toggle_autoscroll("off"),this._search_toggle_loading("hide"),this._search_$ct.empty(),this._search_$nomore.hide(),void this._search_$noquery.show();this._search_$noquery.hide()}this._search_params.query=e||void 0,this._search_params.order_by=t[0]||void 0,this._search_params.order=t[1]||void 0,this._search_params.peepso_gender=s||void 0,this._search_params.peepso_avatar=r||void 0,this._search_params.peepso_following=i||void 0,this._search_params.page=1,"peepso_last_activity"===this._search_params.order_by?this._search_params.limit=25:this._search_params.limit=2,this._search_$extended.each(function(){var e=o(this);"SELECT"===e[0].tagName?a[this.name]=this.value:"radio"===e.attr("type")&&(void 0===a[this.name]&&(a[this.name]=void 0),e[0].checked&&(a[this.name]=this.value))}),_.extend(this._search_params,a),this._search_$dropdown.each(function(){let e=o(this),t=e.find(".ps-js-dropdown-toggle [data-value]");var s=t.attr("data-value");h[e.attr("data-name")]=s||void 0}),_.extend(this._search_params,h),this._search()}}),new i(".ps-js-members")},{}]},{},[1]);