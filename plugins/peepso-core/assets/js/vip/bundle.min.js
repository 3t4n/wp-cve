!function o(i,r,u){function a(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return a(i[t][1][e]||e)},n,n.exports,o,i,r,u)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(a,e,t){!function(r){!function(){"use strict";var e=o("undefined"!=typeof window?window.jQuery:void 0!==r?r.jQuery:null),t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=i?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n])}o.default=e,t&&t.set(e,o);return o}("undefined"!=typeof window?window.peepso:void 0!==r?r.peepso:null),n="undefined"!=typeof window?window.peepsodata:void 0!==r?r.peepsodata:null,i=o(a("./popover"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function o(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(function(r){let u=t.default.template(n.vip.hovercardTemplate);t.observer.addAction("hovercard_update_html",function(e,t){let n=e.find(".ps-hovercard").removeClass("ps-hovercard--full"),o=n.find(".ps-js-cover"),i=o.siblings(".ps-js-vip");i.length&&i.remove(),_.isObject(t.vip)&&!_.isArray(t.vip)&&(n.addClass("ps-hovercard--full"),i=r(u(t)).addClass("ps-js-vip"),i.insertAfter(o))},10,2),n.vip.popoverEnable&&r(document).on("mouseenter",".ps-js-vip-badge",function(n){let o=r(n.currentTarget);if(!o.data("ps-vip")){let e=o.data("id"),t=new i.default(o[0],e);o.data("ps-vip",t),t.show(n)}})})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./popover":2}],2:[function(e,t,s){!function(f){!function(){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=(p="undefined"!=typeof window?window.jQuery:void 0!==f?f.jQuery:null)&&p.__esModule?p:{default:p},e=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=i?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n])}o.default=e,t&&t.set(e,o);return o}("undefined"!=typeof window?window.peepso:void 0!==f?f.peepso:null),r="undefined"!=typeof window?window.peepsodata:void 0!==f?f.peepsodata:null;function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o,t,a=e.default.template(r.vip.popoverTemplate);function l(e,n){if(clearTimeout(t),o=o||(o=(0,i.default)("<div />"),o.addClass("ps-vip-dropdown__wrapper"),o.css({display:"none",position:"absolute"}),o.appendTo(document.body),o),o.html(a(e)).show(),n){let e=(0,i.default)(n),t=e.offset();o.css({left:t.left,top:t.top+e.height()})}}class d{constructor(e,t){n(this,"timer",void 0),this.id=t,this.$elem=(0,i.default)(e),this.$elem.on("mouseenter",e=>{e.stopPropagation(),this.show(e)}),this.$elem.on("mouseleave",e=>{e.stopPropagation(),this.hide()}),this.$elem.removeAttr("title")}getData(){return new e.Promise((t,n)=>{let o=d.cache[this.id];o?t(o):i.default.get({url:r.ajaxurl,dataType:"json",data:{action:"peepso_vip_user_icons",user_id:this.id}}).done(e=>{e?(o=d.cache[this.id]=e,t(o)):n()})})}show(e){this.timer=setTimeout(()=>{let t=setTimeout(()=>{l("loading",this.$elem.get(0))},500);this.getData().then(e=>{clearTimeout(t),this.timer&&l(e,this.$elem.get(0))})},300)}hide(){clearTimeout(this.timer),this.timer=null,o&&(t=setTimeout(function(){o.hide()},200))}}n(d,"cache",{});var p=d;s.default=p}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);