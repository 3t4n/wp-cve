!function(d){var o,s=d(window),i=d(".ps-js-extensions"),l=i.find(".ps-js-list"),t=i.find(".ps-js-tabs"),n=t.find("input[type=text]"),h=i.find(".ps-js-all-installed"),r=window.peepsoextdata&&window.peepsoextdata.extensions||[],e=window.peepsoextdata&&window.peepsoextdata.spinner,a=!1;for(o in r)r[o].title=r[o].title.toLowerCase(),r[o].content=r[o].content.toLowerCase();var p=d("<div>Sorry, no extensions matched your criteria.</div>").css({paddingBottom:20}).hide(),c=d("<div>"+(e?'<img src="'+e+'" />':"Loading...")+"</div>").css({paddingBottom:20,textAlign:"center"}).hide();l.after(p).after(c);var f=_.debounce(function(e,s){var t,i,n=[],a=!0;for(o in e=(e||"").toLowerCase(),r)t=0<=r[o].categories.indexOf("translations"),i=!1,"category"===s?t&&"translations"!==e?i=!1:("all"===e||0<=r[o].categories.indexOf(e))&&(i=!0):t||(!e||r[o].title.match(e)||r[o].content.match(e)||0<=r[o].tags.indexOf(e))&&(i=!0),i&&n.push(+r[o].id);if(!n.length)return c.hide(),l.stop().hide(),void p.show();g("show"),l.children(".ps-js-extension").each(function(){var e=d(this),s=e.data("id");0<=n.indexOf(+s)?(e.removeClass("ps-js-hidden").css({display:""}).find(".ps-js-description").css({height:""}),e.hasClass("ps-js-installed")||(a=!1)):e.addClass("ps-js-hidden").css({display:"none"})}),h.css({display:a?"":"none"}),c.hide(),p.hide(),l.show(),v()},400),v=_.debounce(function(){var t,i=l.children(".ps-js-extension").not(".ps-js-hidden"),e=991<s.outerWidth();a&&(i=i.not(".ps-js-installed")),e&&(l.children(".ps-js-break").remove(),i.each(function(e){e%3!=2&&e!==i.length-1||d(this).after('<div class="ps-js-break" style="clear:both" />')}),i.each(function(e){var s=d(this);e%3==0&&(t=0),t=Math.max(t,s.find(".ps-js-description").outerHeight()),e%3!=2&&e!==i.length-1||s.prevUntil(".ps-js-break").andSelf().find(".ps-js-description").css({height:t})}))},10);function g(e){var s=i.find(".ps-js-installed").not(".ps-js-hidden"),t=i.find(".ps-js-toggle-installed");s.length&&("hide"===e?(a=!0,t.find("span").html(peepsoadminextdata.label_show_installed),s.hide()):(a=!1,t.find("span").html(peepsoadminextdata.label_hide_installed),s.show()),v())}n.on("input",function(e){e=e.target.value.trim();t.find("li").removeClass("active"),l.stop().hide(),p.hide(),c.show(),f(e)}),t.on("click",".ps-js-tab",function(){var e=d(this),s=e.data("slug");n.val(""),t.find("li").removeClass("active"),e.closest("li").addClass("active"),l.stop().hide(),p.hide(),c.show(),f(s,"category")}),i.on("click",".ps-js-toggle-installed",_.throttle(function(){g(a?"show":"hide")},400)),d(function(){f()})}(jQuery);