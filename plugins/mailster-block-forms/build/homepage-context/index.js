!function(){var e={184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.blocks,t=window.wp.element,r=n(184),i=n.n(r),s=window.wp.i18n,o=window.wp.blockEditor,l=(window.wp.serverSideRender,window.wp.apiFetch,window.wp.components),a=window.wp.data;const c=[{id:"submission",name:(0,s.__)("Signup Form","mailster"),title_DEL:"/",label:(0,s.__)("This is the homepage","mailster"),help:(0,s.__)("This section is displayed if users visit the newsletter homepage.","mailster")},{id:"profile",name:(0,s.__)("Profile","mailster"),title_DEL:"/profile",label:(0,s.__)("This is the profile page","mailster"),help:(0,s.__)("This section is displayed if users visits the profile page. People can update their subscription on this page.","mailster")},{id:"unsubscribe",name:(0,s.__)("Unsubscribe","mailster"),title_DEL:"/unsubscribe",label:(0,s.__)("This is the unsubscribe page","mailster"),help:(0,s.__)("This section is displayed on the unsubscribe page. If the user clicks an unsubscribe link in a newsletter, he will be redirected to this page.","mailster")},{id:"subscribe",name:(0,s.__)("Subscribe","mailster"),title_DEL:"/subscribe",label:(0,s.__)("This is the Landing page","mailster"),help:(0,s.__)("Use this section to define the content when people click on the link in the confirmation email.","mailster")}];function u(e){let{id:n,align:r}=e;const i=new URL("https://kb.mailster.co/"+n);i.searchParams.set("utm_campaign","plugin"),i.searchParams.set("utm_medium","link"),i.searchParams.set("utm_source","Mailster Plugin"),i.searchParams.set("utm_term","workflow");var s={};return r&&(s.float=r),(0,t.createElement)("a",{className:"mailster-help",href:i.toString(),"data-article":n,style:s})}function m(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=(0,a.select)("core/block-editor").getBlocks(t);var i=r.find((t=>new RegExp(e,"g").test(t.name)));if(i)return i.rootClientId=t,i;if(n)for(var s=0;s<r.length;s++)if(i=m(e,r[s].clientId))return i;return!1}function p(e){const{current:n,onSelect:r}=e,i=m("mailster/homepage"),p=(0,a.useSelect)((e=>e("core/block-editor").getBlockAttributes(i.clientId))),d=(0,a.useSelect)((e=>e("core/editor").getPermalink()));return(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.BaseControl,{label:(0,s.__)("Newsletter Homepage Sections","mailster")},(0,t.createElement)(u,{id:"6453abdab9f4b70821b98a1b",align:"right"}),(0,t.createElement)("div",{className:"components-dropdown-menu__menu context-buttons"},(0,t.createElement)((e=>{let{onClose:i=(()=>{})}=e;return c.map(((e,o)=>{const a="submission"==e.id?d:(0,s.sprintf)("%s%s",d,mailster_homepage_slugs[e.id]||e.id),c=p[e.id]||"subscribe"==e.id;return(0,t.createElement)(l.MenuGroup,{key:o,isSelected:e.id===n},(0,t.createElement)(l.MenuItem,{info:c?a:(0,s.__)("Not defined yet!","mailster"),isDestructive:!c,isPressed:e.id===n,onClick:()=>{r(e.id,o),i()}},e.name,(0,t.createElement)(l.ExternalLink,{href:a})))}))}),null))))),(0,t.createElement)(l.PanelBody,{initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.Tip,null,c[n]?c[n].help:(0,s.__)("You have to define a form for each section. You can use the same form as well.","mailster")))),("profile"==n||"unsubscribe"==n)&&(0,t.createElement)(l.PanelBody,{initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.ExternalLink,{href:"edit.php?post_type=newsletter&page=mailster_settings#texts"},(0,s.__)("Change the text of the button on the Texts tab in the settings.","mailster"))))))}function d(e){const{attributes:n,setAttributes:r,isSelected:i,context:a}=e,{id:c,type:u="submission"}=n;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,s.__)("Add blocks to selected sections of the homepage which get only displayed on these pages.","mailster"))))),(0,t.createElement)(p,{current:u,onSelect:(e,t)=>{location.hash="#mailster-"+e}}))}window.lodash,window.wp.date;const h=[["core/heading",{content:(0,s.__)("Thanks for your interest!","mailster")}],["core/paragraph",{content:(0,s.__)("Thank you for confirming your subscription to our newsletter. We're excited to have you on board!","mailster")}]];var f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"mailster/homepage-context","version":"0.4.0","title":"Mailster Homepage Section","description":"Use this block to add content to certain sections only.","category":"widgets","parent":["mailster/homepage"],"example":{},"supports":{"html":false,"inserter":false,"className":false,"customClassName":false,"reusable":false,"lock":false,"spacing":false},"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"type":{"type":"string","enum":["submission","profile","unsubscribe","subscribe"]}},"usesContext":["mailster-homepage-context/align"],"providesContext":{"mailster-homepage-context/type":"type"},"textdomain":"mailster","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),b=(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},(0,t.createElement)("defs",null,(0,t.createElement)("path",{id:"a",d:"M0 0h24v24H0z"})),(0,t.createElement)("g",{fill:"none"},(0,t.createElement)("path",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.5 12h5M19.842 8.3l-6-4.668h0a3 3 0 00-3.684 0l-6 4.667h0A3 3 0 003 10.666V18h0a3 3 0 003 3h12a3 3 0 003-3v-7.334h0a3 3 0 00-1.158-2.367z"}),(0,t.createElement)("path",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.5 16L14.5 16"})));const{name:g,...w}=f;(0,e.registerBlockType)(g,{...w,icon:b,edit:function(e){const{attributes:n,setAttributes:r,isSelected:s,context:l}=e,{id:a,type:c="submission"}=n,u=l["mailster-homepage-context/align"];(0,t.useEffect)((()=>{r({align:u})}),[u]);const m=["mailster-form-type"];m.push("mailster-form-type-"+c);const p=(0,o.useBlockProps)({className:i()({},m)}),f="subscribe"!=c?[["mailster/form"]]:h;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",p,(0,t.createElement)(o.InnerBlocks,{templateLock:!1,template:f})),(0,t.createElement)(o.InspectorControls,null),(0,t.createElement)(d,e))},save:function(e){return(0,t.createElement)(o.InnerBlocks.Content,o.useBlockProps.save())}})}()}();