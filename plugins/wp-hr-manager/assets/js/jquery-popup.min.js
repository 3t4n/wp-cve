!function(t,i,s,o){var n="wphrPopup",e={title:"",content:"",id:"",button:"Submit",extraClass:"",onReady:function(){},onSubmit:function(){},beforeClose:function(){}};function d(i){this.settings=t.extend({},e,i),this.element=t(this.settings.content),this.id=this.settings.id,this._defaults=e,this._name=n,this.init()}t.extend(d.prototype,{init:function(){this.show_modal(),this.bindEvents()},bindEvents:function(){t("form.wphr-modal-form","#"+this.settings.id).on("submit",t.proxy(this.formSubmit,this)),t(".wphr-modal-backdrop, .wphr-modal .close").on("click",t.proxy(this.closeModal,this)),t("body").on("keydown","#"+this.id,t.proxy(this.onEscapeKey,this)),t("#"+this.id).focus()},formSubmit:function(i){i.preventDefault(),t(".wphr-modal-backdrop, .wphr-modal").find(".wphr-loader").removeClass("wphr-hide"),this.settings.onSubmit.call(t(i.currentTarget),this)},show_modal:function(){if(""!==this.id&&!t("#"+this.id).length){var i=t("#wphr-modal").find(".wphr-modal").clone();""!==this.settings.extraClass&&i.addClass(this.settings.extraClass),i.attr("id",this.id),i.attr("tabindex",-1),i.addClass("wphr-count-class"),i.find("h2").text(this.settings.title),""===this.settings.button?i.find("footer").remove():i.find(".button-primary").text(this.settings.button),i.find(".content").empty().html(this.settings.content),i.show(),t("body").append(i);var s=600*t("body").find(".wphr-count-class").length,o=s-1;t("#"+this.id).css("z-index",s),t("#"+this.id).after('<div style="z-index: '+o+'" class="wphr-modal-backdrop '+this.id+'"></div>'),t("#"+this.id).show(),this.settings.onReady.call(i,this)}},onEscapeKey:function(t){27===t.keyCode&&this.closeModal(t)},disableButton:function(){t("button[type=submit]",".wphr-modal").attr("disabled","disabled")},enableButton:function(){t("button[type=submit]",".wphr-modal").removeAttr("disabled")},closeModal:function(i){void 0!==i&&i.preventDefault(),t(".wphr-modal-backdrop, .wphr-modal").find(".wphr-loader").addClass("wphr-hide"),this.settings.beforeClose.call(!1,this),t("#"+this.id).remove(),t("."+this.id).remove()},showError:function(i){t(".wphr-modal-backdrop, .wphr-modal").find(".wphr-loader").addClass("wphr-hide"),alert(i)}}),t.wphrPopup=function(t){new d(t)}}(jQuery,window,document);